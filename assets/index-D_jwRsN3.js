const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Landing-BDt8PFCE.js","assets/Security-B638Z6DT.js","assets/Portfolio-BqD6EpRZ.js","assets/NotificationsOff-C1_ZZu-p.js","assets/TableRow-oHfZ14kk.js","assets/Card-Bsx9elHH.js","assets/CardContent-CM8yl2Xm.js","assets/index-BA5Iz1NT.js","assets/Converter-CC3MxzLL.js","assets/Txhistory-DshWtACt.js","assets/Dashboard-DAoaHnO8.js"])))=>i.map(i=>d[i]);
var zp=Object.defineProperty;var Gp=(T,$,I)=>$ in T?zp(T,$,{enumerable:!0,configurable:!0,writable:!0,value:I}):T[$]=I;var Dr=(T,$,I)=>Gp(T,typeof $!="symbol"?$+"":$,I);function _mergeNamespaces(T,$){for(var I=0;I<$.length;I++){const N=$[I];if(typeof N!="string"&&!Array.isArray(N)){for(const L in N)if(L!=="default"&&!(L in T)){const B=Object.getOwnPropertyDescriptor(N,L);B&&Object.defineProperty(T,L,B.get?B:{enumerable:!0,get:()=>N[L]})}}}return Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))N(L);new MutationObserver(L=>{for(const B of L)if(B.type==="childList")for(const H of B.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&N(H)}).observe(document,{childList:!0,subtree:!0});function I(L){const B={};return L.integrity&&(B.integrity=L.integrity),L.referrerPolicy&&(B.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?B.credentials="include":L.crossOrigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function N(L){if(L.ep)return;L.ep=!0;const B=I(L);fetch(L.href,B)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}function getDefaultExportFromNamespaceIfNotNamed(T){return T&&Object.prototype.hasOwnProperty.call(T,"default")&&Object.keys(T).length===1?T.default:T}var jsxRuntime$2={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var T=Symbol.for("react.element"),$=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ie=Symbol.iterator;function Re(Ve){return Ve===null||typeof Ve!="object"?null:(Ve=ie&&Ve[ie]||Ve["@@iterator"],typeof Ve=="function"?Ve:null)}var $e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pe=Object.assign,Me={};function Be(Ve,je,Ze){this.props=Ve,this.context=je,this.refs=Me,this.updater=Ze||$e}Be.prototype.isReactComponent={},Be.prototype.setState=function(Ve,je){if(typeof Ve!="object"&&typeof Ve!="function"&&Ve!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ve,je,"setState")},Be.prototype.forceUpdate=function(Ve){this.updater.enqueueForceUpdate(this,Ve,"forceUpdate")};function Ke(){}Ke.prototype=Be.prototype;function Le(Ve,je,Ze){this.props=Ve,this.context=je,this.refs=Me,this.updater=Ze||$e}var qe=Le.prototype=new Ke;qe.constructor=Le,Pe(qe,Be.prototype),qe.isPureReactComponent=!0;var He=Array.isArray,Ge=Object.prototype.hasOwnProperty,at={current:null},ot={key:!0,ref:!0,__self:!0,__source:!0};function Ye(Ve,je,Ze){var st,dt={},bt=null,vt=null;if(je!=null)for(st in je.ref!==void 0&&(vt=je.ref),je.key!==void 0&&(bt=""+je.key),je)Ge.call(je,st)&&!ot.hasOwnProperty(st)&&(dt[st]=je[st]);var St=arguments.length-2;if(St===1)dt.children=Ze;else if(1<St){for(var Bt=Array(St),Gt=0;Gt<St;Gt++)Bt[Gt]=arguments[Gt+2];dt.children=Bt}if(Ve&&Ve.defaultProps)for(st in St=Ve.defaultProps,St)dt[st]===void 0&&(dt[st]=St[st]);return{$$typeof:T,type:Ve,key:bt,ref:vt,props:dt,_owner:at.current}}function nt(Ve,je){return{$$typeof:T,type:Ve.type,key:je,ref:Ve.ref,props:Ve.props,_owner:Ve._owner}}function Qe(Ve){return typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===T}function tt(Ve){var je={"=":"=0",":":"=2"};return"$"+Ve.replace(/[=:]/g,function(Ze){return je[Ze]})}var ze=/\/+/g;function Fe(Ve,je){return typeof Ve=="object"&&Ve!==null&&Ve.key!=null?tt(""+Ve.key):je.toString(36)}function ke(Ve,je,Ze,st,dt){var bt=typeof Ve;(bt==="undefined"||bt==="boolean")&&(Ve=null);var vt=!1;if(Ve===null)vt=!0;else switch(bt){case"string":case"number":vt=!0;break;case"object":switch(Ve.$$typeof){case T:case $:vt=!0}}if(vt)return vt=Ve,dt=dt(vt),Ve=st===""?"."+Fe(vt,0):st,He(dt)?(Ze="",Ve!=null&&(Ze=Ve.replace(ze,"$&/")+"/"),ke(dt,je,Ze,"",function(Gt){return Gt})):dt!=null&&(Qe(dt)&&(dt=nt(dt,Ze+(!dt.key||vt&&vt.key===dt.key?"":(""+dt.key).replace(ze,"$&/")+"/")+Ve)),je.push(dt)),1;if(vt=0,st=st===""?".":st+":",He(Ve))for(var St=0;St<Ve.length;St++){bt=Ve[St];var Bt=st+Fe(bt,St);vt+=ke(bt,je,Ze,Bt,dt)}else if(Bt=Re(Ve),typeof Bt=="function")for(Ve=Bt.call(Ve),St=0;!(bt=Ve.next()).done;)bt=bt.value,Bt=st+Fe(bt,St++),vt+=ke(bt,je,Ze,Bt,dt);else if(bt==="object")throw je=String(Ve),Error("Objects are not valid as a React child (found: "+(je==="[object Object]"?"object with keys {"+Object.keys(Ve).join(", ")+"}":je)+"). If you meant to render a collection of children, use an array instead.");return vt}function Ue(Ve,je,Ze){if(Ve==null)return Ve;var st=[],dt=0;return ke(Ve,st,"","",function(bt){return je.call(Ze,bt,dt++)}),st}function Je(Ve){if(Ve._status===-1){var je=Ve._result;je=je(),je.then(function(Ze){(Ve._status===0||Ve._status===-1)&&(Ve._status=1,Ve._result=Ze)},function(Ze){(Ve._status===0||Ve._status===-1)&&(Ve._status=2,Ve._result=Ze)}),Ve._status===-1&&(Ve._status=0,Ve._result=je)}if(Ve._status===1)return Ve._result.default;throw Ve._result}var rt={current:null},Xe={transition:null},it={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Xe,ReactCurrentOwner:at};function We(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Ue,forEach:function(Ve,je,Ze){Ue(Ve,function(){je.apply(this,arguments)},Ze)},count:function(Ve){var je=0;return Ue(Ve,function(){je++}),je},toArray:function(Ve){return Ue(Ve,function(je){return je})||[]},only:function(Ve){if(!Qe(Ve))throw Error("React.Children.only expected to receive a single React element child.");return Ve}},react_production_min.Component=Be,react_production_min.Fragment=I,react_production_min.Profiler=L,react_production_min.PureComponent=Le,react_production_min.StrictMode=N,react_production_min.Suspense=Q,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=it,react_production_min.act=We,react_production_min.cloneElement=function(Ve,je,Ze){if(Ve==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Ve+".");var st=Pe({},Ve.props),dt=Ve.key,bt=Ve.ref,vt=Ve._owner;if(je!=null){if(je.ref!==void 0&&(bt=je.ref,vt=at.current),je.key!==void 0&&(dt=""+je.key),Ve.type&&Ve.type.defaultProps)var St=Ve.type.defaultProps;for(Bt in je)Ge.call(je,Bt)&&!ot.hasOwnProperty(Bt)&&(st[Bt]=je[Bt]===void 0&&St!==void 0?St[Bt]:je[Bt])}var Bt=arguments.length-2;if(Bt===1)st.children=Ze;else if(1<Bt){St=Array(Bt);for(var Gt=0;Gt<Bt;Gt++)St[Gt]=arguments[Gt+2];st.children=St}return{$$typeof:T,type:Ve.type,key:dt,ref:bt,props:st,_owner:vt}},react_production_min.createContext=function(Ve){return Ve={$$typeof:H,_currentValue:Ve,_currentValue2:Ve,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Ve.Provider={$$typeof:B,_context:Ve},Ve.Consumer=Ve},react_production_min.createElement=Ye,react_production_min.createFactory=function(Ve){var je=Ye.bind(null,Ve);return je.type=Ve,je},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Ve){return{$$typeof:z,render:Ve}},react_production_min.isValidElement=Qe,react_production_min.lazy=function(Ve){return{$$typeof:G,_payload:{_status:-1,_result:Ve},_init:Je}},react_production_min.memo=function(Ve,je){return{$$typeof:te,type:Ve,compare:je===void 0?null:je}},react_production_min.startTransition=function(Ve){var je=Xe.transition;Xe.transition={};try{Ve()}finally{Xe.transition=je}},react_production_min.unstable_act=We,react_production_min.useCallback=function(Ve,je){return rt.current.useCallback(Ve,je)},react_production_min.useContext=function(Ve){return rt.current.useContext(Ve)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Ve){return rt.current.useDeferredValue(Ve)},react_production_min.useEffect=function(Ve,je){return rt.current.useEffect(Ve,je)},react_production_min.useId=function(){return rt.current.useId()},react_production_min.useImperativeHandle=function(Ve,je,Ze){return rt.current.useImperativeHandle(Ve,je,Ze)},react_production_min.useInsertionEffect=function(Ve,je){return rt.current.useInsertionEffect(Ve,je)},react_production_min.useLayoutEffect=function(Ve,je){return rt.current.useLayoutEffect(Ve,je)},react_production_min.useMemo=function(Ve,je){return rt.current.useMemo(Ve,je)},react_production_min.useReducer=function(Ve,je,Ze){return rt.current.useReducer(Ve,je,Ze)},react_production_min.useRef=function(Ve){return rt.current.useRef(Ve)},react_production_min.useState=function(Ve){return rt.current.useState(Ve)},react_production_min.useSyncExternalStore=function(Ve,je,Ze){return rt.current.useSyncExternalStore(Ve,je,Ze)},react_production_min.useTransition=function(){return rt.current.useTransition()},react_production_min.version="18.3.1",react_production_min}react.exports=requireReact_production_min();var reactExports=react.exports;const React$1=getDefaultExportFromCjs$1(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var T=React$2,$=Symbol.for("react.element"),I=Symbol.for("react.fragment"),N=Object.prototype.hasOwnProperty,L=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B={key:!0,ref:!0,__self:!0,__source:!0};function H(z,Q,te){var G,ie={},Re=null,$e=null;te!==void 0&&(Re=""+te),Q.key!==void 0&&(Re=""+Q.key),Q.ref!==void 0&&($e=Q.ref);for(G in Q)N.call(Q,G)&&!B.hasOwnProperty(G)&&(ie[G]=Q[G]);if(z&&z.defaultProps)for(G in Q=z.defaultProps,Q)ie[G]===void 0&&(ie[G]=Q[G]);return{$$typeof:$,type:z,key:Re,ref:$e,props:ie,_owner:L.current}}return reactJsxRuntime_production_min.Fragment=I,reactJsxRuntime_production_min.jsx=H,reactJsxRuntime_production_min.jsxs=H,reactJsxRuntime_production_min}jsxRuntime$2.exports=requireReactJsxRuntime_production_min();var jsxRuntimeExports=jsxRuntime$2.exports;const jsxRuntime=getDefaultExportFromCjs$1(jsxRuntimeExports),jsxRuntime$1=_mergeNamespaces({__proto__:null,default:jsxRuntime},[jsxRuntimeExports]);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(T){function $(Xe,it){var We=Xe.length;Xe.push(it);e:for(;0<We;){var Ve=We-1>>>1,je=Xe[Ve];if(0<L(je,it))Xe[Ve]=it,Xe[We]=je,We=Ve;else break e}}function I(Xe){return Xe.length===0?null:Xe[0]}function N(Xe){if(Xe.length===0)return null;var it=Xe[0],We=Xe.pop();if(We!==it){Xe[0]=We;e:for(var Ve=0,je=Xe.length,Ze=je>>>1;Ve<Ze;){var st=2*(Ve+1)-1,dt=Xe[st],bt=st+1,vt=Xe[bt];if(0>L(dt,We))bt<je&&0>L(vt,dt)?(Xe[Ve]=vt,Xe[bt]=We,Ve=bt):(Xe[Ve]=dt,Xe[st]=We,Ve=st);else if(bt<je&&0>L(vt,We))Xe[Ve]=vt,Xe[bt]=We,Ve=bt;else break e}}return it}function L(Xe,it){var We=Xe.sortIndex-it.sortIndex;return We!==0?We:Xe.id-it.id}if(typeof performance=="object"&&typeof performance.now=="function"){var B=performance;T.unstable_now=function(){return B.now()}}else{var H=Date,z=H.now();T.unstable_now=function(){return H.now()-z}}var Q=[],te=[],G=1,ie=null,Re=3,$e=!1,Pe=!1,Me=!1,Be=typeof setTimeout=="function"?setTimeout:null,Ke=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function qe(Xe){for(var it=I(te);it!==null;){if(it.callback===null)N(te);else if(it.startTime<=Xe)N(te),it.sortIndex=it.expirationTime,$(Q,it);else break;it=I(te)}}function He(Xe){if(Me=!1,qe(Xe),!Pe)if(I(Q)!==null)Pe=!0,Je(Ge);else{var it=I(te);it!==null&&rt(He,it.startTime-Xe)}}function Ge(Xe,it){Pe=!1,Me&&(Me=!1,Ke(Ye),Ye=-1),$e=!0;var We=Re;try{for(qe(it),ie=I(Q);ie!==null&&(!(ie.expirationTime>it)||Xe&&!tt());){var Ve=ie.callback;if(typeof Ve=="function"){ie.callback=null,Re=ie.priorityLevel;var je=Ve(ie.expirationTime<=it);it=T.unstable_now(),typeof je=="function"?ie.callback=je:ie===I(Q)&&N(Q),qe(it)}else N(Q);ie=I(Q)}if(ie!==null)var Ze=!0;else{var st=I(te);st!==null&&rt(He,st.startTime-it),Ze=!1}return Ze}finally{ie=null,Re=We,$e=!1}}var at=!1,ot=null,Ye=-1,nt=5,Qe=-1;function tt(){return!(T.unstable_now()-Qe<nt)}function ze(){if(ot!==null){var Xe=T.unstable_now();Qe=Xe;var it=!0;try{it=ot(!0,Xe)}finally{it?Fe():(at=!1,ot=null)}}else at=!1}var Fe;if(typeof Le=="function")Fe=function(){Le(ze)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ue=ke.port2;ke.port1.onmessage=ze,Fe=function(){Ue.postMessage(null)}}else Fe=function(){Be(ze,0)};function Je(Xe){ot=Xe,at||(at=!0,Fe())}function rt(Xe,it){Ye=Be(function(){Xe(T.unstable_now())},it)}T.unstable_IdlePriority=5,T.unstable_ImmediatePriority=1,T.unstable_LowPriority=4,T.unstable_NormalPriority=3,T.unstable_Profiling=null,T.unstable_UserBlockingPriority=2,T.unstable_cancelCallback=function(Xe){Xe.callback=null},T.unstable_continueExecution=function(){Pe||$e||(Pe=!0,Je(Ge))},T.unstable_forceFrameRate=function(Xe){0>Xe||125<Xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<Xe?Math.floor(1e3/Xe):5},T.unstable_getCurrentPriorityLevel=function(){return Re},T.unstable_getFirstCallbackNode=function(){return I(Q)},T.unstable_next=function(Xe){switch(Re){case 1:case 2:case 3:var it=3;break;default:it=Re}var We=Re;Re=it;try{return Xe()}finally{Re=We}},T.unstable_pauseExecution=function(){},T.unstable_requestPaint=function(){},T.unstable_runWithPriority=function(Xe,it){switch(Xe){case 1:case 2:case 3:case 4:case 5:break;default:Xe=3}var We=Re;Re=Xe;try{return it()}finally{Re=We}},T.unstable_scheduleCallback=function(Xe,it,We){var Ve=T.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?Ve+We:Ve):We=Ve,Xe){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=We+je,Xe={id:G++,callback:it,priorityLevel:Xe,startTime:We,expirationTime:je,sortIndex:-1},We>Ve?(Xe.sortIndex=We,$(te,Xe),I(Q)===null&&Xe===I(te)&&(Me?(Ke(Ye),Ye=-1):Me=!0,rt(He,We-Ve))):(Xe.sortIndex=je,$(Q,Xe),Pe||$e||(Pe=!0,Je(Ge))),Xe},T.unstable_shouldYield=tt,T.unstable_wrapCallback=function(Xe){var it=Re;return function(){var We=Re;Re=it;try{return Xe.apply(this,arguments)}finally{Re=We}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var T=React$2,$=requireScheduler();function I(Ce){for(var Ne="https://reactjs.org/docs/error-decoder.html?invariant="+Ce,et=1;et<arguments.length;et++)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+Ce+"; visit "+Ne+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N=new Set,L={};function B(Ce,Ne){H(Ce,Ne),H(Ce+"Capture",Ne)}function H(Ce,Ne){for(L[Ce]=Ne,Ce=0;Ce<Ne.length;Ce++)N.add(Ne[Ce])}var z=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q=Object.prototype.hasOwnProperty,te=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G={},ie={};function Re(Ce){return Q.call(ie,Ce)?!0:Q.call(G,Ce)?!1:te.test(Ce)?ie[Ce]=!0:(G[Ce]=!0,!1)}function $e(Ce,Ne,et,yt){if(et!==null&&et.type===0)return!1;switch(typeof Ne){case"function":case"symbol":return!0;case"boolean":return yt?!1:et!==null?!et.acceptsBooleans:(Ce=Ce.toLowerCase().slice(0,5),Ce!=="data-"&&Ce!=="aria-");default:return!1}}function Pe(Ce,Ne,et,yt){if(Ne===null||typeof Ne>"u"||$e(Ce,Ne,et,yt))return!0;if(yt)return!1;if(et!==null)switch(et.type){case 3:return!Ne;case 4:return Ne===!1;case 5:return isNaN(Ne);case 6:return isNaN(Ne)||1>Ne}return!1}function Me(Ce,Ne,et,yt,At,Ct,Jt){this.acceptsBooleans=Ne===2||Ne===3||Ne===4,this.attributeName=yt,this.attributeNamespace=At,this.mustUseProperty=et,this.propertyName=Ce,this.type=Ne,this.sanitizeURL=Ct,this.removeEmptyString=Jt}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(Ce){Be[Ce]=new Me(Ce,0,!1,Ce,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(Ce){var Ne=Ce[0];Be[Ne]=new Me(Ne,1,!1,Ce[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(Ce){Be[Ce]=new Me(Ce,2,!1,Ce.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(Ce){Be[Ce]=new Me(Ce,2,!1,Ce,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(Ce){Be[Ce]=new Me(Ce,3,!1,Ce.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(Ce){Be[Ce]=new Me(Ce,3,!0,Ce,null,!1,!1)}),["capture","download"].forEach(function(Ce){Be[Ce]=new Me(Ce,4,!1,Ce,null,!1,!1)}),["cols","rows","size","span"].forEach(function(Ce){Be[Ce]=new Me(Ce,6,!1,Ce,null,!1,!1)}),["rowSpan","start"].forEach(function(Ce){Be[Ce]=new Me(Ce,5,!1,Ce.toLowerCase(),null,!1,!1)});var Ke=/[\-:]([a-z])/g;function Le(Ce){return Ce[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(Ce){var Ne=Ce.replace(Ke,Le);Be[Ne]=new Me(Ne,1,!1,Ce,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(Ce){var Ne=Ce.replace(Ke,Le);Be[Ne]=new Me(Ne,1,!1,Ce,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(Ce){var Ne=Ce.replace(Ke,Le);Be[Ne]=new Me(Ne,1,!1,Ce,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(Ce){Be[Ce]=new Me(Ce,1,!1,Ce.toLowerCase(),null,!1,!1)}),Be.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(Ce){Be[Ce]=new Me(Ce,1,!1,Ce.toLowerCase(),null,!0,!0)});function qe(Ce,Ne,et,yt){var At=Be.hasOwnProperty(Ne)?Be[Ne]:null;(At!==null?At.type!==0:yt||!(2<Ne.length)||Ne[0]!=="o"&&Ne[0]!=="O"||Ne[1]!=="n"&&Ne[1]!=="N")&&(Pe(Ne,et,At,yt)&&(et=null),yt||At===null?Re(Ne)&&(et===null?Ce.removeAttribute(Ne):Ce.setAttribute(Ne,""+et)):At.mustUseProperty?Ce[At.propertyName]=et===null?At.type===3?!1:"":et:(Ne=At.attributeName,yt=At.attributeNamespace,et===null?Ce.removeAttribute(Ne):(At=At.type,et=At===3||At===4&&et===!0?"":""+et,yt?Ce.setAttributeNS(yt,Ne,et):Ce.setAttribute(Ne,et))))}var He=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=Symbol.for("react.element"),at=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),Ye=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),Qe=Symbol.for("react.provider"),tt=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),rt=Symbol.for("react.offscreen"),Xe=Symbol.iterator;function it(Ce){return Ce===null||typeof Ce!="object"?null:(Ce=Xe&&Ce[Xe]||Ce["@@iterator"],typeof Ce=="function"?Ce:null)}var We=Object.assign,Ve;function je(Ce){if(Ve===void 0)try{throw Error()}catch(et){var Ne=et.stack.trim().match(/\n( *(at )?)/);Ve=Ne&&Ne[1]||""}return`
`+Ve+Ce}var Ze=!1;function st(Ce,Ne){if(!Ce||Ze)return"";Ze=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Ne)if(Ne=function(){throw Error()},Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(kr){var yt=kr}Reflect.construct(Ce,[],Ne)}else{try{Ne.call()}catch(kr){yt=kr}Ce.call(Ne.prototype)}else{try{throw Error()}catch(kr){yt=kr}Ce()}}catch(kr){if(kr&&yt&&typeof kr.stack=="string"){for(var At=kr.stack.split(`
`),Ct=yt.stack.split(`
`),Jt=At.length-1,fr=Ct.length-1;1<=Jt&&0<=fr&&At[Jt]!==Ct[fr];)fr--;for(;1<=Jt&&0<=fr;Jt--,fr--)if(At[Jt]!==Ct[fr]){if(Jt!==1||fr!==1)do if(Jt--,fr--,0>fr||At[Jt]!==Ct[fr]){var Er=`
`+At[Jt].replace(" at new "," at ");return Ce.displayName&&Er.includes("<anonymous>")&&(Er=Er.replace("<anonymous>",Ce.displayName)),Er}while(1<=Jt&&0<=fr);break}}}finally{Ze=!1,Error.prepareStackTrace=et}return(Ce=Ce?Ce.displayName||Ce.name:"")?je(Ce):""}function dt(Ce){switch(Ce.tag){case 5:return je(Ce.type);case 16:return je("Lazy");case 13:return je("Suspense");case 19:return je("SuspenseList");case 0:case 2:case 15:return Ce=st(Ce.type,!1),Ce;case 11:return Ce=st(Ce.type.render,!1),Ce;case 1:return Ce=st(Ce.type,!0),Ce;default:return""}}function bt(Ce){if(Ce==null)return null;if(typeof Ce=="function")return Ce.displayName||Ce.name||null;if(typeof Ce=="string")return Ce;switch(Ce){case ot:return"Fragment";case at:return"Portal";case nt:return"Profiler";case Ye:return"StrictMode";case Fe:return"Suspense";case ke:return"SuspenseList"}if(typeof Ce=="object")switch(Ce.$$typeof){case tt:return(Ce.displayName||"Context")+".Consumer";case Qe:return(Ce._context.displayName||"Context")+".Provider";case ze:var Ne=Ce.render;return Ce=Ce.displayName,Ce||(Ce=Ne.displayName||Ne.name||"",Ce=Ce!==""?"ForwardRef("+Ce+")":"ForwardRef"),Ce;case Ue:return Ne=Ce.displayName||null,Ne!==null?Ne:bt(Ce.type)||"Memo";case Je:Ne=Ce._payload,Ce=Ce._init;try{return bt(Ce(Ne))}catch{}}return null}function vt(Ce){var Ne=Ce.type;switch(Ce.tag){case 24:return"Cache";case 9:return(Ne.displayName||"Context")+".Consumer";case 10:return(Ne._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Ce=Ne.render,Ce=Ce.displayName||Ce.name||"",Ne.displayName||(Ce!==""?"ForwardRef("+Ce+")":"ForwardRef");case 7:return"Fragment";case 5:return Ne;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bt(Ne);case 8:return Ne===Ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Ne=="function")return Ne.displayName||Ne.name||null;if(typeof Ne=="string")return Ne}return null}function St(Ce){switch(typeof Ce){case"boolean":case"number":case"string":case"undefined":return Ce;case"object":return Ce;default:return""}}function Bt(Ce){var Ne=Ce.type;return(Ce=Ce.nodeName)&&Ce.toLowerCase()==="input"&&(Ne==="checkbox"||Ne==="radio")}function Gt(Ce){var Ne=Bt(Ce)?"checked":"value",et=Object.getOwnPropertyDescriptor(Ce.constructor.prototype,Ne),yt=""+Ce[Ne];if(!Ce.hasOwnProperty(Ne)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var At=et.get,Ct=et.set;return Object.defineProperty(Ce,Ne,{configurable:!0,get:function(){return At.call(this)},set:function(Jt){yt=""+Jt,Ct.call(this,Jt)}}),Object.defineProperty(Ce,Ne,{enumerable:et.enumerable}),{getValue:function(){return yt},setValue:function(Jt){yt=""+Jt},stopTracking:function(){Ce._valueTracker=null,delete Ce[Ne]}}}}function Dt(Ce){Ce._valueTracker||(Ce._valueTracker=Gt(Ce))}function Mt(Ce){if(!Ce)return!1;var Ne=Ce._valueTracker;if(!Ne)return!0;var et=Ne.getValue(),yt="";return Ce&&(yt=Bt(Ce)?Ce.checked?"true":"false":Ce.value),Ce=yt,Ce!==et?(Ne.setValue(Ce),!0):!1}function pt(Ce){if(Ce=Ce||(typeof document<"u"?document:void 0),typeof Ce>"u")return null;try{return Ce.activeElement||Ce.body}catch{return Ce.body}}function mt(Ce,Ne){var et=Ne.checked;return We({},Ne,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??Ce._wrapperState.initialChecked})}function $t(Ce,Ne){var et=Ne.defaultValue==null?"":Ne.defaultValue,yt=Ne.checked!=null?Ne.checked:Ne.defaultChecked;et=St(Ne.value!=null?Ne.value:et),Ce._wrapperState={initialChecked:yt,initialValue:et,controlled:Ne.type==="checkbox"||Ne.type==="radio"?Ne.checked!=null:Ne.value!=null}}function kt(Ce,Ne){Ne=Ne.checked,Ne!=null&&qe(Ce,"checked",Ne,!1)}function Ft(Ce,Ne){kt(Ce,Ne);var et=St(Ne.value),yt=Ne.type;if(et!=null)yt==="number"?(et===0&&Ce.value===""||Ce.value!=et)&&(Ce.value=""+et):Ce.value!==""+et&&(Ce.value=""+et);else if(yt==="submit"||yt==="reset"){Ce.removeAttribute("value");return}Ne.hasOwnProperty("value")?Yt(Ce,Ne.type,et):Ne.hasOwnProperty("defaultValue")&&Yt(Ce,Ne.type,St(Ne.defaultValue)),Ne.checked==null&&Ne.defaultChecked!=null&&(Ce.defaultChecked=!!Ne.defaultChecked)}function nr(Ce,Ne,et){if(Ne.hasOwnProperty("value")||Ne.hasOwnProperty("defaultValue")){var yt=Ne.type;if(!(yt!=="submit"&&yt!=="reset"||Ne.value!==void 0&&Ne.value!==null))return;Ne=""+Ce._wrapperState.initialValue,et||Ne===Ce.value||(Ce.value=Ne),Ce.defaultValue=Ne}et=Ce.name,et!==""&&(Ce.name=""),Ce.defaultChecked=!!Ce._wrapperState.initialChecked,et!==""&&(Ce.name=et)}function Yt(Ce,Ne,et){(Ne!=="number"||pt(Ce.ownerDocument)!==Ce)&&(et==null?Ce.defaultValue=""+Ce._wrapperState.initialValue:Ce.defaultValue!==""+et&&(Ce.defaultValue=""+et))}var yr=Array.isArray;function gr(Ce,Ne,et,yt){if(Ce=Ce.options,Ne){Ne={};for(var At=0;At<et.length;At++)Ne["$"+et[At]]=!0;for(et=0;et<Ce.length;et++)At=Ne.hasOwnProperty("$"+Ce[et].value),Ce[et].selected!==At&&(Ce[et].selected=At),At&&yt&&(Ce[et].defaultSelected=!0)}else{for(et=""+St(et),Ne=null,At=0;At<Ce.length;At++){if(Ce[At].value===et){Ce[At].selected=!0,yt&&(Ce[At].defaultSelected=!0);return}Ne!==null||Ce[At].disabled||(Ne=Ce[At])}Ne!==null&&(Ne.selected=!0)}}function br(Ce,Ne){if(Ne.dangerouslySetInnerHTML!=null)throw Error(I(91));return We({},Ne,{value:void 0,defaultValue:void 0,children:""+Ce._wrapperState.initialValue})}function cr(Ce,Ne){var et=Ne.value;if(et==null){if(et=Ne.children,Ne=Ne.defaultValue,et!=null){if(Ne!=null)throw Error(I(92));if(yr(et)){if(1<et.length)throw Error(I(93));et=et[0]}Ne=et}Ne==null&&(Ne=""),et=Ne}Ce._wrapperState={initialValue:St(et)}}function pr(Ce,Ne){var et=St(Ne.value),yt=St(Ne.defaultValue);et!=null&&(et=""+et,et!==Ce.value&&(Ce.value=et),Ne.defaultValue==null&&Ce.defaultValue!==et&&(Ce.defaultValue=et)),yt!=null&&(Ce.defaultValue=""+yt)}function lt(Ce){var Ne=Ce.textContent;Ne===Ce._wrapperState.initialValue&&Ne!==""&&Ne!==null&&(Ce.value=Ne)}function ct(Ce){switch(Ce){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(Ce,Ne){return Ce==null||Ce==="http://www.w3.org/1999/xhtml"?ct(Ne):Ce==="http://www.w3.org/2000/svg"&&Ne==="foreignObject"?"http://www.w3.org/1999/xhtml":Ce}var jt,zt=function(Ce){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(Ne,et,yt,At){MSApp.execUnsafeLocalFunction(function(){return Ce(Ne,et,yt,At)})}:Ce}(function(Ce,Ne){if(Ce.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in Ce)Ce.innerHTML=Ne;else{for(jt=jt||document.createElement("div"),jt.innerHTML="<svg>"+Ne.valueOf().toString()+"</svg>",Ne=jt.firstChild;Ce.firstChild;)Ce.removeChild(Ce.firstChild);for(;Ne.firstChild;)Ce.appendChild(Ne.firstChild)}});function Ot(Ce,Ne){if(Ne){var et=Ce.firstChild;if(et&&et===Ce.lastChild&&et.nodeType===3){et.nodeValue=Ne;return}}Ce.textContent=Ne}var Rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},It=["Webkit","ms","Moz","O"];Object.keys(Rt).forEach(function(Ce){It.forEach(function(Ne){Ne=Ne+Ce.charAt(0).toUpperCase()+Ce.substring(1),Rt[Ne]=Rt[Ce]})});function Kt(Ce,Ne,et){return Ne==null||typeof Ne=="boolean"||Ne===""?"":et||typeof Ne!="number"||Ne===0||Rt.hasOwnProperty(Ce)&&Rt[Ce]?(""+Ne).trim():Ne+"px"}function tr(Ce,Ne){Ce=Ce.style;for(var et in Ne)if(Ne.hasOwnProperty(et)){var yt=et.indexOf("--")===0,At=Kt(et,Ne[et],yt);et==="float"&&(et="cssFloat"),yt?Ce.setProperty(et,At):Ce[et]=At}}var dr=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(Ce,Ne){if(Ne){if(dr[Ce]&&(Ne.children!=null||Ne.dangerouslySetInnerHTML!=null))throw Error(I(137,Ce));if(Ne.dangerouslySetInnerHTML!=null){if(Ne.children!=null)throw Error(I(60));if(typeof Ne.dangerouslySetInnerHTML!="object"||!("__html"in Ne.dangerouslySetInnerHTML))throw Error(I(61))}if(Ne.style!=null&&typeof Ne.style!="object")throw Error(I(62))}}function Nr(Ce,Ne){if(Ce.indexOf("-")===-1)return typeof Ne.is=="string";switch(Ce){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=null;function Br(Ce){return Ce=Ce.target||Ce.srcElement||window,Ce.correspondingUseElement&&(Ce=Ce.correspondingUseElement),Ce.nodeType===3?Ce.parentNode:Ce}var Qr=null,Wr=null,Kr=null;function Yr(Ce){if(Ce=bs(Ce)){if(typeof Qr!="function")throw Error(I(280));var Ne=Ce.stateNode;Ne&&(Ne=ol(Ne),Qr(Ce.stateNode,Ce.type,Ne))}}function Pt(Ce){Wr?Kr?Kr.push(Ce):Kr=[Ce]:Wr=Ce}function Wt(){if(Wr){var Ce=Wr,Ne=Kr;if(Kr=Wr=null,Yr(Ce),Ne)for(Ce=0;Ce<Ne.length;Ce++)Yr(Ne[Ce])}}function qt(Ce,Ne){return Ce(Ne)}function Tt(){}var gt=!1;function Et(Ce,Ne,et){if(gt)return Ce(Ne,et);gt=!0;try{return qt(Ce,Ne,et)}finally{gt=!1,(Wr!==null||Kr!==null)&&(Tt(),Wt())}}function wt(Ce,Ne){var et=Ce.stateNode;if(et===null)return null;var yt=ol(et);if(yt===null)return null;et=yt[Ne];e:switch(Ne){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(yt=!yt.disabled)||(Ce=Ce.type,yt=!(Ce==="button"||Ce==="input"||Ce==="select"||Ce==="textarea")),Ce=!yt;break e;default:Ce=!1}if(Ce)return null;if(et&&typeof et!="function")throw Error(I(231,Ne,typeof et));return et}var Lt=!1;if(z)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Lt=!1}function lr(Ce,Ne,et,yt,At,Ct,Jt,fr,Er){var kr=Array.prototype.slice.call(arguments,3);try{Ne.apply(et,kr)}catch(Xr){this.onError(Xr)}}var Ht=!1,Xt=null,ir=!1,ur=null,$r={onError:function(Ce){Ht=!0,Xt=Ce}};function xr(Ce,Ne,et,yt,At,Ct,Jt,fr,Er){Ht=!1,Xt=null,lr.apply($r,arguments)}function Lr(Ce,Ne,et,yt,At,Ct,Jt,fr,Er){if(xr.apply(this,arguments),Ht){if(Ht){var kr=Xt;Ht=!1,Xt=null}else throw Error(I(198));ir||(ir=!0,ur=kr)}}function on(Ce){var Ne=Ce,et=Ce;if(Ce.alternate)for(;Ne.return;)Ne=Ne.return;else{Ce=Ne;do Ne=Ce,(Ne.flags&4098)!==0&&(et=Ne.return),Ce=Ne.return;while(Ce)}return Ne.tag===3?et:null}function rn(Ce){if(Ce.tag===13){var Ne=Ce.memoizedState;if(Ne===null&&(Ce=Ce.alternate,Ce!==null&&(Ne=Ce.memoizedState)),Ne!==null)return Ne.dehydrated}return null}function tn(Ce){if(on(Ce)!==Ce)throw Error(I(188))}function pn(Ce){var Ne=Ce.alternate;if(!Ne){if(Ne=on(Ce),Ne===null)throw Error(I(188));return Ne!==Ce?null:Ce}for(var et=Ce,yt=Ne;;){var At=et.return;if(At===null)break;var Ct=At.alternate;if(Ct===null){if(yt=At.return,yt!==null){et=yt;continue}break}if(At.child===Ct.child){for(Ct=At.child;Ct;){if(Ct===et)return tn(At),Ce;if(Ct===yt)return tn(At),Ne;Ct=Ct.sibling}throw Error(I(188))}if(et.return!==yt.return)et=At,yt=Ct;else{for(var Jt=!1,fr=At.child;fr;){if(fr===et){Jt=!0,et=At,yt=Ct;break}if(fr===yt){Jt=!0,yt=At,et=Ct;break}fr=fr.sibling}if(!Jt){for(fr=Ct.child;fr;){if(fr===et){Jt=!0,et=Ct,yt=At;break}if(fr===yt){Jt=!0,yt=Ct,et=At;break}fr=fr.sibling}if(!Jt)throw Error(I(189))}}if(et.alternate!==yt)throw Error(I(190))}if(et.tag!==3)throw Error(I(188));return et.stateNode.current===et?Ce:Ne}function yn(Ce){return Ce=pn(Ce),Ce!==null?ln(Ce):null}function ln(Ce){if(Ce.tag===5||Ce.tag===6)return Ce;for(Ce=Ce.child;Ce!==null;){var Ne=ln(Ce);if(Ne!==null)return Ne;Ce=Ce.sibling}return null}var er=$.unstable_scheduleCallback,Rr=$.unstable_cancelCallback,Or=$.unstable_shouldYield,Fr=$.unstable_requestPaint,Hr=$.unstable_now,an=$.unstable_getCurrentPriorityLevel,cn=$.unstable_ImmediatePriority,Rn=$.unstable_UserBlockingPriority,gn=$.unstable_NormalPriority,vn=$.unstable_LowPriority,_n=$.unstable_IdlePriority,kn=null,An=null;function Dn(Ce){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(kn,Ce,void 0,(Ce.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:ar,Qt=Math.log,vr=Math.LN2;function ar(Ce){return Ce>>>=0,Ce===0?32:31-(Qt(Ce)/vr|0)|0}var Sr=64,Tr=4194304;function wr(Ce){switch(Ce&-Ce){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ce&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Ce&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Ce}}function jr(Ce,Ne){var et=Ce.pendingLanes;if(et===0)return 0;var yt=0,At=Ce.suspendedLanes,Ct=Ce.pingedLanes,Jt=et&268435455;if(Jt!==0){var fr=Jt&~At;fr!==0?yt=wr(fr):(Ct&=Jt,Ct!==0&&(yt=wr(Ct)))}else Jt=et&~At,Jt!==0?yt=wr(Jt):Ct!==0&&(yt=wr(Ct));if(yt===0)return 0;if(Ne!==0&&Ne!==yt&&(Ne&At)===0&&(At=yt&-yt,Ct=Ne&-Ne,At>=Ct||At===16&&(Ct&4194240)!==0))return Ne;if((yt&4)!==0&&(yt|=et&16),Ne=Ce.entangledLanes,Ne!==0)for(Ce=Ce.entanglements,Ne&=yt;0<Ne;)et=31-In(Ne),At=1<<et,yt|=Ce[et],Ne&=~At;return yt}function Ur(Ce,Ne){switch(Ce){case 1:case 2:case 4:return Ne+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ne+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(Ce,Ne){for(var et=Ce.suspendedLanes,yt=Ce.pingedLanes,At=Ce.expirationTimes,Ct=Ce.pendingLanes;0<Ct;){var Jt=31-In(Ct),fr=1<<Jt,Er=At[Jt];Er===-1?((fr&et)===0||(fr&yt)!==0)&&(At[Jt]=Ur(fr,Ne)):Er<=Ne&&(Ce.expiredLanes|=fr),Ct&=~fr}}function Gr(Ce){return Ce=Ce.pendingLanes&-1073741825,Ce!==0?Ce:Ce&1073741824?1073741824:0}function Zr(){var Ce=Sr;return Sr<<=1,(Sr&4194240)===0&&(Sr=64),Ce}function un(Ce){for(var Ne=[],et=0;31>et;et++)Ne.push(Ce);return Ne}function wn(Ce,Ne,et){Ce.pendingLanes|=Ne,Ne!==536870912&&(Ce.suspendedLanes=0,Ce.pingedLanes=0),Ce=Ce.eventTimes,Ne=31-In(Ne),Ce[Ne]=et}function fn(Ce,Ne){var et=Ce.pendingLanes&~Ne;Ce.pendingLanes=Ne,Ce.suspendedLanes=0,Ce.pingedLanes=0,Ce.expiredLanes&=Ne,Ce.mutableReadLanes&=Ne,Ce.entangledLanes&=Ne,Ne=Ce.entanglements;var yt=Ce.eventTimes;for(Ce=Ce.expirationTimes;0<et;){var At=31-In(et),Ct=1<<At;Ne[At]=0,yt[At]=-1,Ce[At]=-1,et&=~Ct}}function xn(Ce,Ne){var et=Ce.entangledLanes|=Ne;for(Ce=Ce.entanglements;et;){var yt=31-In(et),At=1<<yt;At&Ne|Ce[yt]&Ne&&(Ce[yt]|=Ne),et&=~At}}var $n=0;function On(Ce){return Ce&=-Ce,1<Ce?4<Ce?(Ce&268435455)!==0?16:536870912:4:1}var Vn,Jn,Wi,Hi,Ni,zi=!1,si=[],zn=null,Zn=null,di=null,ko=new Map,Bi=new Map,no=[],Yl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vs(Ce,Ne){switch(Ce){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":ko.delete(Ne.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(Ne.pointerId)}}function _i(Ce,Ne,et,yt,At,Ct){return Ce===null||Ce.nativeEvent!==Ct?(Ce={blockedOn:Ne,domEventName:et,eventSystemFlags:yt,nativeEvent:Ct,targetContainers:[At]},Ne!==null&&(Ne=bs(Ne),Ne!==null&&Jn(Ne)),Ce):(Ce.eventSystemFlags|=yt,Ne=Ce.targetContainers,At!==null&&Ne.indexOf(At)===-1&&Ne.push(At),Ce)}function Xl(Ce,Ne,et,yt,At){switch(Ne){case"focusin":return zn=_i(zn,Ce,Ne,et,yt,At),!0;case"dragenter":return Zn=_i(Zn,Ce,Ne,et,yt,At),!0;case"mouseover":return di=_i(di,Ce,Ne,et,yt,At),!0;case"pointerover":var Ct=At.pointerId;return ko.set(Ct,_i(ko.get(Ct)||null,Ce,Ne,et,yt,At)),!0;case"gotpointercapture":return Ct=At.pointerId,Bi.set(Ct,_i(Bi.get(Ct)||null,Ce,Ne,et,yt,At)),!0}return!1}function qs(Ce){var Ne=ua(Ce.target);if(Ne!==null){var et=on(Ne);if(et!==null){if(Ne=et.tag,Ne===13){if(Ne=rn(et),Ne!==null){Ce.blockedOn=Ne,Ni(Ce.priority,function(){Wi(et)});return}}else if(Ne===3&&et.stateNode.current.memoizedState.isDehydrated){Ce.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}Ce.blockedOn=null}function vo(Ce){if(Ce.blockedOn!==null)return!1;for(var Ne=Ce.targetContainers;0<Ne.length;){var et=Ra(Ce.domEventName,Ce.eventSystemFlags,Ne[0],Ce.nativeEvent);if(et===null){et=Ce.nativeEvent;var yt=new et.constructor(et.type,et);qr=yt,et.target.dispatchEvent(yt),qr=null}else return Ne=bs(et),Ne!==null&&Jn(Ne),Ce.blockedOn=et,!1;Ne.shift()}return!0}function aa(Ce,Ne,et){vo(Ce)&&et.delete(Ne)}function Ks(){zi=!1,zn!==null&&vo(zn)&&(zn=null),Zn!==null&&vo(Zn)&&(Zn=null),di!==null&&vo(di)&&(di=null),ko.forEach(aa),Bi.forEach(aa)}function Gi(Ce,Ne){Ce.blockedOn===Ne&&(Ce.blockedOn=null,zi||(zi=!0,$.unstable_scheduleCallback($.unstable_NormalPriority,Ks)))}function Ji(Ce){function Ne(At){return Gi(At,Ce)}if(0<si.length){Gi(si[0],Ce);for(var et=1;et<si.length;et++){var yt=si[et];yt.blockedOn===Ce&&(yt.blockedOn=null)}}for(zn!==null&&Gi(zn,Ce),Zn!==null&&Gi(Zn,Ce),di!==null&&Gi(di,Ce),ko.forEach(Ne),Bi.forEach(Ne),et=0;et<no.length;et++)yt=no[et],yt.blockedOn===Ce&&(yt.blockedOn=null);for(;0<no.length&&(et=no[0],et.blockedOn===null);)qs(et),et.blockedOn===null&&no.shift()}var _o=He.ReactCurrentBatchConfig,Oo=!0;function qn(Ce,Ne,et,yt){var At=$n,Ct=_o.transition;_o.transition=null;try{$n=1,os(Ce,Ne,et,yt)}finally{$n=At,_o.transition=Ct}}function Ql(Ce,Ne,et,yt){var At=$n,Ct=_o.transition;_o.transition=null;try{$n=4,os(Ce,Ne,et,yt)}finally{$n=At,_o.transition=Ct}}function os(Ce,Ne,et,yt){if(Oo){var At=Ra(Ce,Ne,et,yt);if(At===null)uc(Ce,Ne,yt,sa,et),Vs(Ce,yt);else if(Xl(At,Ce,Ne,et,yt))yt.stopPropagation();else if(Vs(Ce,yt),Ne&4&&-1<Yl.indexOf(Ce)){for(;At!==null;){var Ct=bs(At);if(Ct!==null&&Vn(Ct),Ct=Ra(Ce,Ne,et,yt),Ct===null&&uc(Ce,Ne,yt,sa,et),Ct===At)break;At=Ct}At!==null&&yt.stopPropagation()}else uc(Ce,Ne,yt,null,et)}}var sa=null;function Ra(Ce,Ne,et,yt){if(sa=null,Ce=Br(yt),Ce=ua(Ce),Ce!==null)if(Ne=on(Ce),Ne===null)Ce=null;else if(et=Ne.tag,et===13){if(Ce=rn(Ne),Ce!==null)return Ce;Ce=null}else if(et===3){if(Ne.stateNode.current.memoizedState.isDehydrated)return Ne.tag===3?Ne.stateNode.containerInfo:null;Ce=null}else Ne!==Ce&&(Ce=null);return sa=Ce,null}function as(Ce){switch(Ce){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(an()){case cn:return 1;case Rn:return 4;case gn:case vn:return 16;case _n:return 536870912;default:return 16}default:return 16}}var Ci=null,Ta=null,bi=null;function ss(){if(bi)return bi;var Ce,Ne=Ta,et=Ne.length,yt,At="value"in Ci?Ci.value:Ci.textContent,Ct=At.length;for(Ce=0;Ce<et&&Ne[Ce]===At[Ce];Ce++);var Jt=et-Ce;for(yt=1;yt<=Jt&&Ne[et-yt]===At[Ct-yt];yt++);return bi=At.slice(Ce,1<yt?1-yt:void 0)}function Pa(Ce){var Ne=Ce.keyCode;return"charCode"in Ce?(Ce=Ce.charCode,Ce===0&&Ne===13&&(Ce=13)):Ce=Ne,Ce===10&&(Ce=13),32<=Ce||Ce===13?Ce:0}function io(){return!0}function ls(){return!1}function li(Ce){function Ne(et,yt,At,Ct,Jt){this._reactName=et,this._targetInst=At,this.type=yt,this.nativeEvent=Ct,this.target=Jt,this.currentTarget=null;for(var fr in Ce)Ce.hasOwnProperty(fr)&&(et=Ce[fr],this[fr]=et?et(Ct):Ct[fr]);return this.isDefaultPrevented=(Ct.defaultPrevented!=null?Ct.defaultPrevented:Ct.returnValue===!1)?io:ls,this.isPropagationStopped=ls,this}return We(Ne.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),Ne}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Ce){return Ce.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=li(Yi),oo=We({},Yi,{view:0,detail:0}),Zl=li(oo),xa,bo,Mo,la=We({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(Ce){return Ce.relatedTarget===void 0?Ce.fromElement===Ce.srcElement?Ce.toElement:Ce.fromElement:Ce.relatedTarget},movementX:function(Ce){return"movementX"in Ce?Ce.movementX:(Ce!==Mo&&(Mo&&Ce.type==="mousemove"?(xa=Ce.screenX-Mo.screenX,bo=Ce.screenY-Mo.screenY):bo=xa=0,Mo=Ce),xa)},movementY:function(Ce){return"movementY"in Ce?Ce.movementY:bo}}),Ca=li(la),cs=We({},la,{dataTransfer:0}),Ws=li(cs),Da=We({},oo,{relatedTarget:0}),ka=li(Da),Hs=We({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=li(Hs),zs=We({},Yi,{clipboardData:function(Ce){return"clipboardData"in Ce?Ce.clipboardData:window.clipboardData}}),Gs=li(zs),Js=We({},Yi,{data:0}),us=li(Js),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ys={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(Ce){var Ne=this.nativeEvent;return Ne.getModifierState?Ne.getModifierState(Ce):(Ce=Ys[Ce])?!!Ne[Ce]:!1}function ao(){return Xs}var ht=We({},oo,{key:function(Ce){if(Ce.key){var Ne=Oa[Ce.key]||Ce.key;if(Ne!=="Unidentified")return Ne}return Ce.type==="keypress"?(Ce=Pa(Ce),Ce===13?"Enter":String.fromCharCode(Ce)):Ce.type==="keydown"||Ce.type==="keyup"?yi[Ce.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(Ce){return Ce.type==="keypress"?Pa(Ce):0},keyCode:function(Ce){return Ce.type==="keydown"||Ce.type==="keyup"?Ce.keyCode:0},which:function(Ce){return Ce.type==="keypress"?Pa(Ce):Ce.type==="keydown"||Ce.type==="keyup"?Ce.keyCode:0}}),xt=li(ht),Ut=We({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=li(Ut),Pr=We({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),Mr=li(Pr),sn=We({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ln=li(sn),ei=We({},la,{deltaX:function(Ce){return"deltaX"in Ce?Ce.deltaX:"wheelDeltaX"in Ce?-Ce.wheelDeltaX:0},deltaY:function(Ce){return"deltaY"in Ce?Ce.deltaY:"wheelDeltaY"in Ce?-Ce.wheelDeltaY:"wheelDelta"in Ce?-Ce.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=li(ei),ni=[9,13,27,32],Xn=z&&"CompositionEvent"in window,Li=null;z&&"documentMode"in document&&(Li=document.documentMode);var Di=z&&"TextEvent"in window&&!Li,ca=z&&(!Xn||Li&&8<Li&&11>=Li),Ma=" ",Su=!1;function Au(Ce,Ne){switch(Ce){case"keyup":return ni.indexOf(Ne.keyCode)!==-1;case"keydown":return Ne.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ru(Ce){return Ce=Ce.detail,typeof Ce=="object"&&"data"in Ce?Ce.data:null}var Na=!1;function qf(Ce,Ne){switch(Ce){case"compositionend":return Ru(Ne);case"keypress":return Ne.which!==32?null:(Su=!0,Ma);case"textInput":return Ce=Ne.data,Ce===Ma&&Su?null:Ce;default:return null}}function Kf(Ce,Ne){if(Na)return Ce==="compositionend"||!Xn&&Au(Ce,Ne)?(Ce=ss(),bi=Ta=Ci=null,Na=!1,Ce):null;switch(Ce){case"paste":return null;case"keypress":if(!(Ne.ctrlKey||Ne.altKey||Ne.metaKey)||Ne.ctrlKey&&Ne.altKey){if(Ne.char&&1<Ne.char.length)return Ne.char;if(Ne.which)return String.fromCharCode(Ne.which)}return null;case"compositionend":return ca&&Ne.locale!=="ko"?null:Ne.data;default:return null}}var Wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(Ce){var Ne=Ce&&Ce.nodeName&&Ce.nodeName.toLowerCase();return Ne==="input"?!!Wf[Ce.type]:Ne==="textarea"}function Pu(Ce,Ne,et,yt){Pt(yt),Ne=rl(Ne,"onChange"),0<Ne.length&&(et=new Ia("onChange","change",null,et,yt),Ce.push({event:et,listeners:Ne}))}var ds=null,fs=null;function Hf(Ce){Hu(Ce,0)}function Qs(Ce){var Ne=Ua(Ce);if(Mt(Ne))return Ce}function zf(Ce,Ne){if(Ce==="change")return Ne}var Iu=!1;if(z){var tc;if(z){var rc="oninput"in document;if(!rc){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),rc=typeof xu.oninput=="function"}tc=rc}else tc=!1;Iu=tc&&(!document.documentMode||9<document.documentMode)}function Cu(){ds&&(ds.detachEvent("onpropertychange",Du),fs=ds=null)}function Du(Ce){if(Ce.propertyName==="value"&&Qs(fs)){var Ne=[];Pu(Ne,fs,Ce,Br(Ce)),Et(Hf,Ne)}}function Gf(Ce,Ne,et){Ce==="focusin"?(Cu(),ds=Ne,fs=et,ds.attachEvent("onpropertychange",Du)):Ce==="focusout"&&Cu()}function Jf(Ce){if(Ce==="selectionchange"||Ce==="keyup"||Ce==="keydown")return Qs(fs)}function Yf(Ce,Ne){if(Ce==="click")return Qs(Ne)}function Xf(Ce,Ne){if(Ce==="input"||Ce==="change")return Qs(Ne)}function Qf(Ce,Ne){return Ce===Ne&&(Ce!==0||1/Ce===1/Ne)||Ce!==Ce&&Ne!==Ne}var Xi=typeof Object.is=="function"?Object.is:Qf;function ps(Ce,Ne){if(Xi(Ce,Ne))return!0;if(typeof Ce!="object"||Ce===null||typeof Ne!="object"||Ne===null)return!1;var et=Object.keys(Ce),yt=Object.keys(Ne);if(et.length!==yt.length)return!1;for(yt=0;yt<et.length;yt++){var At=et[yt];if(!Q.call(Ne,At)||!Xi(Ce[At],Ne[At]))return!1}return!0}function ku(Ce){for(;Ce&&Ce.firstChild;)Ce=Ce.firstChild;return Ce}function Ou(Ce,Ne){var et=ku(Ce);Ce=0;for(var yt;et;){if(et.nodeType===3){if(yt=Ce+et.textContent.length,Ce<=Ne&&yt>=Ne)return{node:et,offset:Ne-Ce};Ce=yt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=ku(et)}}function Mu(Ce,Ne){return Ce&&Ne?Ce===Ne?!0:Ce&&Ce.nodeType===3?!1:Ne&&Ne.nodeType===3?Mu(Ce,Ne.parentNode):"contains"in Ce?Ce.contains(Ne):Ce.compareDocumentPosition?!!(Ce.compareDocumentPosition(Ne)&16):!1:!1}function Nu(){for(var Ce=window,Ne=pt();Ne instanceof Ce.HTMLIFrameElement;){try{var et=typeof Ne.contentWindow.location.href=="string"}catch{et=!1}if(et)Ce=Ne.contentWindow;else break;Ne=pt(Ce.document)}return Ne}function nc(Ce){var Ne=Ce&&Ce.nodeName&&Ce.nodeName.toLowerCase();return Ne&&(Ne==="input"&&(Ce.type==="text"||Ce.type==="search"||Ce.type==="tel"||Ce.type==="url"||Ce.type==="password")||Ne==="textarea"||Ce.contentEditable==="true")}function Zf(Ce){var Ne=Nu(),et=Ce.focusedElem,yt=Ce.selectionRange;if(Ne!==et&&et&&et.ownerDocument&&Mu(et.ownerDocument.documentElement,et)){if(yt!==null&&nc(et)){if(Ne=yt.start,Ce=yt.end,Ce===void 0&&(Ce=Ne),"selectionStart"in et)et.selectionStart=Ne,et.selectionEnd=Math.min(Ce,et.value.length);else if(Ce=(Ne=et.ownerDocument||document)&&Ne.defaultView||window,Ce.getSelection){Ce=Ce.getSelection();var At=et.textContent.length,Ct=Math.min(yt.start,At);yt=yt.end===void 0?Ct:Math.min(yt.end,At),!Ce.extend&&Ct>yt&&(At=yt,yt=Ct,Ct=At),At=Ou(et,Ct);var Jt=Ou(et,yt);At&&Jt&&(Ce.rangeCount!==1||Ce.anchorNode!==At.node||Ce.anchorOffset!==At.offset||Ce.focusNode!==Jt.node||Ce.focusOffset!==Jt.offset)&&(Ne=Ne.createRange(),Ne.setStart(At.node,At.offset),Ce.removeAllRanges(),Ct>yt?(Ce.addRange(Ne),Ce.extend(Jt.node,Jt.offset)):(Ne.setEnd(Jt.node,Jt.offset),Ce.addRange(Ne)))}}for(Ne=[],Ce=et;Ce=Ce.parentNode;)Ce.nodeType===1&&Ne.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<Ne.length;et++)Ce=Ne[et],Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}var ep=z&&"documentMode"in document&&11>=document.documentMode,Ba=null,ic=null,hs=null,oc=!1;function Bu(Ce,Ne,et){var yt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;oc||Ba==null||Ba!==pt(yt)||(yt=Ba,"selectionStart"in yt&&nc(yt)?yt={start:yt.selectionStart,end:yt.selectionEnd}:(yt=(yt.ownerDocument&&yt.ownerDocument.defaultView||window).getSelection(),yt={anchorNode:yt.anchorNode,anchorOffset:yt.anchorOffset,focusNode:yt.focusNode,focusOffset:yt.focusOffset}),hs&&ps(hs,yt)||(hs=yt,yt=rl(ic,"onSelect"),0<yt.length&&(Ne=new Ia("onSelect","select",null,Ne,et),Ce.push({event:Ne,listeners:yt}),Ne.target=Ba)))}function Zs(Ce,Ne){var et={};return et[Ce.toLowerCase()]=Ne.toLowerCase(),et["Webkit"+Ce]="webkit"+Ne,et["Moz"+Ce]="moz"+Ne,et}var La={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},ac={},Lu={};z&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function el(Ce){if(ac[Ce])return ac[Ce];if(!La[Ce])return Ce;var Ne=La[Ce],et;for(et in Ne)if(Ne.hasOwnProperty(et)&&et in Lu)return ac[Ce]=Ne[et];return Ce}var Fu=el("animationend"),ju=el("animationiteration"),Uu=el("animationstart"),Vu=el("transitionend"),qu=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(Ce,Ne){qu.set(Ce,Ne),B(Ne,[Ce])}for(var sc=0;sc<Ku.length;sc++){var lc=Ku[sc],tp=lc.toLowerCase(),rp=lc[0].toUpperCase()+lc.slice(1);No(tp,"on"+rp)}No(Fu,"onAnimationEnd"),No(ju,"onAnimationIteration"),No(Uu,"onAnimationStart"),No("dblclick","onDoubleClick"),No("focusin","onFocus"),No("focusout","onBlur"),No(Vu,"onTransitionEnd"),H("onMouseEnter",["mouseout","mouseover"]),H("onMouseLeave",["mouseout","mouseover"]),H("onPointerEnter",["pointerout","pointerover"]),H("onPointerLeave",["pointerout","pointerover"]),B("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),B("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),B("onBeforeInput",["compositionend","keypress","textInput","paste"]),B("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),B("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),B("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),np=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function Wu(Ce,Ne,et){var yt=Ce.type||"unknown-event";Ce.currentTarget=et,Lr(yt,Ne,void 0,Ce),Ce.currentTarget=null}function Hu(Ce,Ne){Ne=(Ne&4)!==0;for(var et=0;et<Ce.length;et++){var yt=Ce[et],At=yt.event;yt=yt.listeners;e:{var Ct=void 0;if(Ne)for(var Jt=yt.length-1;0<=Jt;Jt--){var fr=yt[Jt],Er=fr.instance,kr=fr.currentTarget;if(fr=fr.listener,Er!==Ct&&At.isPropagationStopped())break e;Wu(At,fr,kr),Ct=Er}else for(Jt=0;Jt<yt.length;Jt++){if(fr=yt[Jt],Er=fr.instance,kr=fr.currentTarget,fr=fr.listener,Er!==Ct&&At.isPropagationStopped())break e;Wu(At,fr,kr),Ct=Er}}}if(ir)throw Ce=ur,ir=!1,ur=null,Ce}function jn(Ce,Ne){var et=Ne[yc];et===void 0&&(et=Ne[yc]=new Set);var yt=Ce+"__bubble";et.has(yt)||(zu(Ne,Ce,2,!1),et.add(yt))}function cc(Ce,Ne,et){var yt=0;Ne&&(yt|=4),zu(et,Ce,yt,Ne)}var tl="_reactListening"+Math.random().toString(36).slice(2);function gs(Ce){if(!Ce[tl]){Ce[tl]=!0,N.forEach(function(et){et!=="selectionchange"&&(np.has(et)||cc(et,!1,Ce),cc(et,!0,Ce))});var Ne=Ce.nodeType===9?Ce:Ce.ownerDocument;Ne===null||Ne[tl]||(Ne[tl]=!0,cc("selectionchange",!1,Ne))}}function zu(Ce,Ne,et,yt){switch(as(Ne)){case 1:var At=qn;break;case 4:At=Ql;break;default:At=os}et=At.bind(null,Ne,et,Ce),At=void 0,!Lt||Ne!=="touchstart"&&Ne!=="touchmove"&&Ne!=="wheel"||(At=!0),yt?At!==void 0?Ce.addEventListener(Ne,et,{capture:!0,passive:At}):Ce.addEventListener(Ne,et,!0):At!==void 0?Ce.addEventListener(Ne,et,{passive:At}):Ce.addEventListener(Ne,et,!1)}function uc(Ce,Ne,et,yt,At){var Ct=yt;if((Ne&1)===0&&(Ne&2)===0&&yt!==null)e:for(;;){if(yt===null)return;var Jt=yt.tag;if(Jt===3||Jt===4){var fr=yt.stateNode.containerInfo;if(fr===At||fr.nodeType===8&&fr.parentNode===At)break;if(Jt===4)for(Jt=yt.return;Jt!==null;){var Er=Jt.tag;if((Er===3||Er===4)&&(Er=Jt.stateNode.containerInfo,Er===At||Er.nodeType===8&&Er.parentNode===At))return;Jt=Jt.return}for(;fr!==null;){if(Jt=ua(fr),Jt===null)return;if(Er=Jt.tag,Er===5||Er===6){yt=Ct=Jt;continue e}fr=fr.parentNode}}yt=yt.return}Et(function(){var kr=Ct,Xr=Br(et),en=[];e:{var Jr=qu.get(Ce);if(Jr!==void 0){var dn=Ia,mn=Ce;switch(Ce){case"keypress":if(Pa(et)===0)break e;case"keydown":case"keyup":dn=xt;break;case"focusin":mn="focus",dn=ka;break;case"focusout":mn="blur",dn=ka;break;case"beforeblur":case"afterblur":dn=ka;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dn=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dn=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dn=Mr;break;case Fu:case ju:case Uu:dn=$o;break;case Vu:dn=Ln;break;case"scroll":dn=Zl;break;case"wheel":dn=Mn;break;case"copy":case"cut":case"paste":dn=Gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dn=rr}var En=(Ne&4)!==0,Yn=!En&&Ce==="scroll",Ir=En?Jr!==null?Jr+"Capture":null:Jr;En=[];for(var Ar=kr,Cr;Ar!==null;){Cr=Ar;var nn=Cr.stateNode;if(Cr.tag===5&&nn!==null&&(Cr=nn,Ir!==null&&(nn=wt(Ar,Ir),nn!=null&&En.push(vs(Ar,nn,Cr)))),Yn)break;Ar=Ar.return}0<En.length&&(Jr=new dn(Jr,mn,null,et,Xr),en.push({event:Jr,listeners:En}))}}if((Ne&7)===0){e:{if(Jr=Ce==="mouseover"||Ce==="pointerover",dn=Ce==="mouseout"||Ce==="pointerout",Jr&&et!==qr&&(mn=et.relatedTarget||et.fromElement)&&(ua(mn)||mn[Eo]))break e;if((dn||Jr)&&(Jr=Xr.window===Xr?Xr:(Jr=Xr.ownerDocument)?Jr.defaultView||Jr.parentWindow:window,dn?(mn=et.relatedTarget||et.toElement,dn=kr,mn=mn?ua(mn):null,mn!==null&&(Yn=on(mn),mn!==Yn||mn.tag!==5&&mn.tag!==6)&&(mn=null)):(dn=null,mn=kr),dn!==mn)){if(En=Ca,nn="onMouseLeave",Ir="onMouseEnter",Ar="mouse",(Ce==="pointerout"||Ce==="pointerover")&&(En=rr,nn="onPointerLeave",Ir="onPointerEnter",Ar="pointer"),Yn=dn==null?Jr:Ua(dn),Cr=mn==null?Jr:Ua(mn),Jr=new En(nn,Ar+"leave",dn,et,Xr),Jr.target=Yn,Jr.relatedTarget=Cr,nn=null,ua(Xr)===kr&&(En=new En(Ir,Ar+"enter",mn,et,Xr),En.target=Cr,En.relatedTarget=Yn,nn=En),Yn=nn,dn&&mn)t:{for(En=dn,Ir=mn,Ar=0,Cr=En;Cr;Cr=Fa(Cr))Ar++;for(Cr=0,nn=Ir;nn;nn=Fa(nn))Cr++;for(;0<Ar-Cr;)En=Fa(En),Ar--;for(;0<Cr-Ar;)Ir=Fa(Ir),Cr--;for(;Ar--;){if(En===Ir||Ir!==null&&En===Ir.alternate)break t;En=Fa(En),Ir=Fa(Ir)}En=null}else En=null;dn!==null&&Gu(en,Jr,dn,En,!1),mn!==null&&Yn!==null&&Gu(en,Yn,mn,En,!0)}}e:{if(Jr=kr?Ua(kr):window,dn=Jr.nodeName&&Jr.nodeName.toLowerCase(),dn==="select"||dn==="input"&&Jr.type==="file")var Sn=zf;else if(Tu(Jr))if(Iu)Sn=Xf;else{Sn=Jf;var Tn=Gf}else(dn=Jr.nodeName)&&dn.toLowerCase()==="input"&&(Jr.type==="checkbox"||Jr.type==="radio")&&(Sn=Yf);if(Sn&&(Sn=Sn(Ce,kr))){Pu(en,Sn,et,Xr);break e}Tn&&Tn(Ce,Jr,kr),Ce==="focusout"&&(Tn=Jr._wrapperState)&&Tn.controlled&&Jr.type==="number"&&Yt(Jr,"number",Jr.value)}switch(Tn=kr?Ua(kr):window,Ce){case"focusin":(Tu(Tn)||Tn.contentEditable==="true")&&(Ba=Tn,ic=kr,hs=null);break;case"focusout":hs=ic=Ba=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,Bu(en,et,Xr);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":Bu(en,et,Xr)}var Pn;if(Xn)e:{switch(Ce){case"compositionstart":var Cn="onCompositionStart";break e;case"compositionend":Cn="onCompositionEnd";break e;case"compositionupdate":Cn="onCompositionUpdate";break e}Cn=void 0}else Na?Au(Ce,et)&&(Cn="onCompositionEnd"):Ce==="keydown"&&et.keyCode===229&&(Cn="onCompositionStart");Cn&&(ca&&et.locale!=="ko"&&(Na||Cn!=="onCompositionStart"?Cn==="onCompositionEnd"&&Na&&(Pn=ss()):(Ci=Xr,Ta="value"in Ci?Ci.value:Ci.textContent,Na=!0)),Tn=rl(kr,Cn),0<Tn.length&&(Cn=new us(Cn,Ce,null,et,Xr),en.push({event:Cn,listeners:Tn}),Pn?Cn.data=Pn:(Pn=Ru(et),Pn!==null&&(Cn.data=Pn)))),(Pn=Di?qf(Ce,et):Kf(Ce,et))&&(kr=rl(kr,"onBeforeInput"),0<kr.length&&(Xr=new us("onBeforeInput","beforeinput",null,et,Xr),en.push({event:Xr,listeners:kr}),Xr.data=Pn))}Hu(en,Ne)})}function vs(Ce,Ne,et){return{instance:Ce,listener:Ne,currentTarget:et}}function rl(Ce,Ne){for(var et=Ne+"Capture",yt=[];Ce!==null;){var At=Ce,Ct=At.stateNode;At.tag===5&&Ct!==null&&(At=Ct,Ct=wt(Ce,et),Ct!=null&&yt.unshift(vs(Ce,Ct,At)),Ct=wt(Ce,Ne),Ct!=null&&yt.push(vs(Ce,Ct,At))),Ce=Ce.return}return yt}function Fa(Ce){if(Ce===null)return null;do Ce=Ce.return;while(Ce&&Ce.tag!==5);return Ce||null}function Gu(Ce,Ne,et,yt,At){for(var Ct=Ne._reactName,Jt=[];et!==null&&et!==yt;){var fr=et,Er=fr.alternate,kr=fr.stateNode;if(Er!==null&&Er===yt)break;fr.tag===5&&kr!==null&&(fr=kr,At?(Er=wt(et,Ct),Er!=null&&Jt.unshift(vs(et,Er,fr))):At||(Er=wt(et,Ct),Er!=null&&Jt.push(vs(et,Er,fr)))),et=et.return}Jt.length!==0&&Ce.push({event:Ne,listeners:Jt})}var ip=/\r\n?/g,op=/\u0000|\uFFFD/g;function Ju(Ce){return(typeof Ce=="string"?Ce:""+Ce).replace(ip,`
`).replace(op,"")}function nl(Ce,Ne,et){if(Ne=Ju(Ne),Ju(Ce)!==Ne&&et)throw Error(I(425))}function il(){}var dc=null,fc=null;function pc(Ce,Ne){return Ce==="textarea"||Ce==="noscript"||typeof Ne.children=="string"||typeof Ne.children=="number"||typeof Ne.dangerouslySetInnerHTML=="object"&&Ne.dangerouslySetInnerHTML!==null&&Ne.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,sp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(Ce){return Yu.resolve(null).then(Ce).catch(lp)}:hc;function lp(Ce){setTimeout(function(){throw Ce})}function mc(Ce,Ne){var et=Ne,yt=0;do{var At=et.nextSibling;if(Ce.removeChild(et),At&&At.nodeType===8)if(et=At.data,et==="/$"){if(yt===0){Ce.removeChild(At),Ji(Ne);return}yt--}else et!=="$"&&et!=="$?"&&et!=="$!"||yt++;et=At}while(et);Ji(Ne)}function Bo(Ce){for(;Ce!=null;Ce=Ce.nextSibling){var Ne=Ce.nodeType;if(Ne===1||Ne===3)break;if(Ne===8){if(Ne=Ce.data,Ne==="$"||Ne==="$!"||Ne==="$?")break;if(Ne==="/$")return null}}return Ce}function Xu(Ce){Ce=Ce.previousSibling;for(var Ne=0;Ce;){if(Ce.nodeType===8){var et=Ce.data;if(et==="$"||et==="$!"||et==="$?"){if(Ne===0)return Ce;Ne--}else et==="/$"&&Ne++}Ce=Ce.previousSibling}return null}var ja=Math.random().toString(36).slice(2),so="__reactFiber$"+ja,_s="__reactProps$"+ja,Eo="__reactContainer$"+ja,yc="__reactEvents$"+ja,cp="__reactListeners$"+ja,up="__reactHandles$"+ja;function ua(Ce){var Ne=Ce[so];if(Ne)return Ne;for(var et=Ce.parentNode;et;){if(Ne=et[Eo]||et[so]){if(et=Ne.alternate,Ne.child!==null||et!==null&&et.child!==null)for(Ce=Xu(Ce);Ce!==null;){if(et=Ce[so])return et;Ce=Xu(Ce)}return Ne}Ce=et,et=Ce.parentNode}return null}function bs(Ce){return Ce=Ce[so]||Ce[Eo],!Ce||Ce.tag!==5&&Ce.tag!==6&&Ce.tag!==13&&Ce.tag!==3?null:Ce}function Ua(Ce){if(Ce.tag===5||Ce.tag===6)return Ce.stateNode;throw Error(I(33))}function ol(Ce){return Ce[_s]||null}var gc=[],Va=-1;function Lo(Ce){return{current:Ce}}function Un(Ce){0>Va||(Ce.current=gc[Va],gc[Va]=null,Va--)}function Fn(Ce,Ne){Va++,gc[Va]=Ce.current,Ce.current=Ne}var Fo={},fi=Lo(Fo),$i=Lo(!1),da=Fo;function qa(Ce,Ne){var et=Ce.type.contextTypes;if(!et)return Fo;var yt=Ce.stateNode;if(yt&&yt.__reactInternalMemoizedUnmaskedChildContext===Ne)return yt.__reactInternalMemoizedMaskedChildContext;var At={},Ct;for(Ct in et)At[Ct]=Ne[Ct];return yt&&(Ce=Ce.stateNode,Ce.__reactInternalMemoizedUnmaskedChildContext=Ne,Ce.__reactInternalMemoizedMaskedChildContext=At),At}function Ei(Ce){return Ce=Ce.childContextTypes,Ce!=null}function al(){Un($i),Un(fi)}function Qu(Ce,Ne,et){if(fi.current!==Fo)throw Error(I(168));Fn(fi,Ne),Fn($i,et)}function Zu(Ce,Ne,et){var yt=Ce.stateNode;if(Ne=Ne.childContextTypes,typeof yt.getChildContext!="function")return et;yt=yt.getChildContext();for(var At in yt)if(!(At in Ne))throw Error(I(108,vt(Ce)||"Unknown",At));return We({},et,yt)}function ll(Ce){return Ce=(Ce=Ce.stateNode)&&Ce.__reactInternalMemoizedMergedChildContext||Fo,da=fi.current,Fn(fi,Ce),Fn($i,$i.current),!0}function ed(Ce,Ne,et){var yt=Ce.stateNode;if(!yt)throw Error(I(169));et?(Ce=Zu(Ce,Ne,da),yt.__reactInternalMemoizedMergedChildContext=Ce,Un($i),Un(fi),Fn(fi,Ce)):Un($i),Fn($i,et)}var wo=null,cl=!1,_c=!1;function td(Ce){wo===null?wo=[Ce]:wo.push(Ce)}function dp(Ce){cl=!0,td(Ce)}function jo(){if(!_c&&wo!==null){_c=!0;var Ce=0,Ne=$n;try{var et=wo;for($n=1;Ce<et.length;Ce++){var yt=et[Ce];do yt=yt(!0);while(yt!==null)}wo=null,cl=!1}catch(At){throw wo!==null&&(wo=wo.slice(Ce+1)),er(cn,jo),At}finally{$n=Ne,_c=!1}}return null}var Ka=[],Wa=0,ul=null,dl=0,Fi=[],ji=0,fa=null,So=1,Ao="";function pa(Ce,Ne){Ka[Wa++]=dl,Ka[Wa++]=ul,ul=Ce,dl=Ne}function rd(Ce,Ne,et){Fi[ji++]=So,Fi[ji++]=Ao,Fi[ji++]=fa,fa=Ce;var yt=So;Ce=Ao;var At=32-In(yt)-1;yt&=~(1<<At),et+=1;var Ct=32-In(Ne)+At;if(30<Ct){var Jt=At-At%5;Ct=(yt&(1<<Jt)-1).toString(32),yt>>=Jt,At-=Jt,So=1<<32-In(Ne)+At|et<<At|yt,Ao=Ct+Ce}else So=1<<Ct|et<<At|yt,Ao=Ce}function bc(Ce){Ce.return!==null&&(pa(Ce,1),rd(Ce,1,0))}function $c(Ce){for(;Ce===ul;)ul=Ka[--Wa],Ka[Wa]=null,dl=Ka[--Wa],Ka[Wa]=null;for(;Ce===fa;)fa=Fi[--ji],Fi[ji]=null,Ao=Fi[--ji],Fi[ji]=null,So=Fi[--ji],Fi[ji]=null}var ki=null,Oi=null,Kn=!1,Qi=null;function nd(Ce,Ne){var et=Ki(5,null,null,0);et.elementType="DELETED",et.stateNode=Ne,et.return=Ce,Ne=Ce.deletions,Ne===null?(Ce.deletions=[et],Ce.flags|=16):Ne.push(et)}function od(Ce,Ne){switch(Ce.tag){case 5:var et=Ce.type;return Ne=Ne.nodeType!==1||et.toLowerCase()!==Ne.nodeName.toLowerCase()?null:Ne,Ne!==null?(Ce.stateNode=Ne,ki=Ce,Oi=Bo(Ne.firstChild),!0):!1;case 6:return Ne=Ce.pendingProps===""||Ne.nodeType!==3?null:Ne,Ne!==null?(Ce.stateNode=Ne,ki=Ce,Oi=null,!0):!1;case 13:return Ne=Ne.nodeType!==8?null:Ne,Ne!==null?(et=fa!==null?{id:So,overflow:Ao}:null,Ce.memoizedState={dehydrated:Ne,treeContext:et,retryLane:1073741824},et=Ki(18,null,null,0),et.stateNode=Ne,et.return=Ce,Ce.child=et,ki=Ce,Oi=null,!0):!1;default:return!1}}function Ec(Ce){return(Ce.mode&1)!==0&&(Ce.flags&128)===0}function wc(Ce){if(Kn){var Ne=Oi;if(Ne){var et=Ne;if(!od(Ce,Ne)){if(Ec(Ce))throw Error(I(418));Ne=Bo(et.nextSibling);var yt=ki;Ne&&od(Ce,Ne)?nd(yt,et):(Ce.flags=Ce.flags&-4097|2,Kn=!1,ki=Ce)}}else{if(Ec(Ce))throw Error(I(418));Ce.flags=Ce.flags&-4097|2,Kn=!1,ki=Ce}}}function ad(Ce){for(Ce=Ce.return;Ce!==null&&Ce.tag!==5&&Ce.tag!==3&&Ce.tag!==13;)Ce=Ce.return;ki=Ce}function fl(Ce){if(Ce!==ki)return!1;if(!Kn)return ad(Ce),Kn=!0,!1;var Ne;if((Ne=Ce.tag!==3)&&!(Ne=Ce.tag!==5)&&(Ne=Ce.type,Ne=Ne!=="head"&&Ne!=="body"&&!pc(Ce.type,Ce.memoizedProps)),Ne&&(Ne=Oi)){if(Ec(Ce))throw sd(),Error(I(418));for(;Ne;)nd(Ce,Ne),Ne=Bo(Ne.nextSibling)}if(ad(Ce),Ce.tag===13){if(Ce=Ce.memoizedState,Ce=Ce!==null?Ce.dehydrated:null,!Ce)throw Error(I(317));e:{for(Ce=Ce.nextSibling,Ne=0;Ce;){if(Ce.nodeType===8){var et=Ce.data;if(et==="/$"){if(Ne===0){Oi=Bo(Ce.nextSibling);break e}Ne--}else et!=="$"&&et!=="$!"&&et!=="$?"||Ne++}Ce=Ce.nextSibling}Oi=null}}else Oi=ki?Bo(Ce.stateNode.nextSibling):null;return!0}function sd(){for(var Ce=Oi;Ce;)Ce=Bo(Ce.nextSibling)}function Ha(){Oi=ki=null,Kn=!1}function Sc(Ce){Qi===null?Qi=[Ce]:Qi.push(Ce)}var fp=He.ReactCurrentBatchConfig;function $s(Ce,Ne,et){if(Ce=et.ref,Ce!==null&&typeof Ce!="function"&&typeof Ce!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(I(309));var yt=et.stateNode}if(!yt)throw Error(I(147,Ce));var At=yt,Ct=""+Ce;return Ne!==null&&Ne.ref!==null&&typeof Ne.ref=="function"&&Ne.ref._stringRef===Ct?Ne.ref:(Ne=function(Jt){var fr=At.refs;Jt===null?delete fr[Ct]:fr[Ct]=Jt},Ne._stringRef=Ct,Ne)}if(typeof Ce!="string")throw Error(I(284));if(!et._owner)throw Error(I(290,Ce))}return Ce}function pl(Ce,Ne){throw Ce=Object.prototype.toString.call(Ne),Error(I(31,Ce==="[object Object]"?"object with keys {"+Object.keys(Ne).join(", ")+"}":Ce))}function ld(Ce){var Ne=Ce._init;return Ne(Ce._payload)}function cd(Ce){function Ne(Ir,Ar){if(Ce){var Cr=Ir.deletions;Cr===null?(Ir.deletions=[Ar],Ir.flags|=16):Cr.push(Ar)}}function et(Ir,Ar){if(!Ce)return null;for(;Ar!==null;)Ne(Ir,Ar),Ar=Ar.sibling;return null}function yt(Ir,Ar){for(Ir=new Map;Ar!==null;)Ar.key!==null?Ir.set(Ar.key,Ar):Ir.set(Ar.index,Ar),Ar=Ar.sibling;return Ir}function At(Ir,Ar){return Ir=Go(Ir,Ar),Ir.index=0,Ir.sibling=null,Ir}function Ct(Ir,Ar,Cr){return Ir.index=Cr,Ce?(Cr=Ir.alternate,Cr!==null?(Cr=Cr.index,Cr<Ar?(Ir.flags|=2,Ar):Cr):(Ir.flags|=2,Ar)):(Ir.flags|=1048576,Ar)}function Jt(Ir){return Ce&&Ir.alternate===null&&(Ir.flags|=2),Ir}function fr(Ir,Ar,Cr,nn){return Ar===null||Ar.tag!==6?(Ar=mu(Cr,Ir.mode,nn),Ar.return=Ir,Ar):(Ar=At(Ar,Cr),Ar.return=Ir,Ar)}function Er(Ir,Ar,Cr,nn){var Sn=Cr.type;return Sn===ot?Xr(Ir,Ar,Cr.props.children,nn,Cr.key):Ar!==null&&(Ar.elementType===Sn||typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===Je&&ld(Sn)===Ar.type)?(nn=At(Ar,Cr.props),nn.ref=$s(Ir,Ar,Cr),nn.return=Ir,nn):(nn=Ll(Cr.type,Cr.key,Cr.props,null,Ir.mode,nn),nn.ref=$s(Ir,Ar,Cr),nn.return=Ir,nn)}function kr(Ir,Ar,Cr,nn){return Ar===null||Ar.tag!==4||Ar.stateNode.containerInfo!==Cr.containerInfo||Ar.stateNode.implementation!==Cr.implementation?(Ar=yu(Cr,Ir.mode,nn),Ar.return=Ir,Ar):(Ar=At(Ar,Cr.children||[]),Ar.return=Ir,Ar)}function Xr(Ir,Ar,Cr,nn,Sn){return Ar===null||Ar.tag!==7?(Ar=$a(Cr,Ir.mode,nn,Sn),Ar.return=Ir,Ar):(Ar=At(Ar,Cr),Ar.return=Ir,Ar)}function en(Ir,Ar,Cr){if(typeof Ar=="string"&&Ar!==""||typeof Ar=="number")return Ar=mu(""+Ar,Ir.mode,Cr),Ar.return=Ir,Ar;if(typeof Ar=="object"&&Ar!==null){switch(Ar.$$typeof){case Ge:return Cr=Ll(Ar.type,Ar.key,Ar.props,null,Ir.mode,Cr),Cr.ref=$s(Ir,null,Ar),Cr.return=Ir,Cr;case at:return Ar=yu(Ar,Ir.mode,Cr),Ar.return=Ir,Ar;case Je:var nn=Ar._init;return en(Ir,nn(Ar._payload),Cr)}if(yr(Ar)||it(Ar))return Ar=$a(Ar,Ir.mode,Cr,null),Ar.return=Ir,Ar;pl(Ir,Ar)}return null}function Jr(Ir,Ar,Cr,nn){var Sn=Ar!==null?Ar.key:null;if(typeof Cr=="string"&&Cr!==""||typeof Cr=="number")return Sn!==null?null:fr(Ir,Ar,""+Cr,nn);if(typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case Ge:return Cr.key===Sn?Er(Ir,Ar,Cr,nn):null;case at:return Cr.key===Sn?kr(Ir,Ar,Cr,nn):null;case Je:return Sn=Cr._init,Jr(Ir,Ar,Sn(Cr._payload),nn)}if(yr(Cr)||it(Cr))return Sn!==null?null:Xr(Ir,Ar,Cr,nn,null);pl(Ir,Cr)}return null}function dn(Ir,Ar,Cr,nn,Sn){if(typeof nn=="string"&&nn!==""||typeof nn=="number")return Ir=Ir.get(Cr)||null,fr(Ar,Ir,""+nn,Sn);if(typeof nn=="object"&&nn!==null){switch(nn.$$typeof){case Ge:return Ir=Ir.get(nn.key===null?Cr:nn.key)||null,Er(Ar,Ir,nn,Sn);case at:return Ir=Ir.get(nn.key===null?Cr:nn.key)||null,kr(Ar,Ir,nn,Sn);case Je:var Tn=nn._init;return dn(Ir,Ar,Cr,Tn(nn._payload),Sn)}if(yr(nn)||it(nn))return Ir=Ir.get(Cr)||null,Xr(Ar,Ir,nn,Sn,null);pl(Ar,nn)}return null}function mn(Ir,Ar,Cr,nn){for(var Sn=null,Tn=null,Pn=Ar,Cn=Ar=0,ai=null;Pn!==null&&Cn<Cr.length;Cn++){Pn.index>Cn?(ai=Pn,Pn=null):ai=Pn.sibling;var Bn=Jr(Ir,Pn,Cr[Cn],nn);if(Bn===null){Pn===null&&(Pn=ai);break}Ce&&Pn&&Bn.alternate===null&&Ne(Ir,Pn),Ar=Ct(Bn,Ar,Cn),Tn===null?Sn=Bn:Tn.sibling=Bn,Tn=Bn,Pn=ai}if(Cn===Cr.length)return et(Ir,Pn),Kn&&pa(Ir,Cn),Sn;if(Pn===null){for(;Cn<Cr.length;Cn++)Pn=en(Ir,Cr[Cn],nn),Pn!==null&&(Ar=Ct(Pn,Ar,Cn),Tn===null?Sn=Pn:Tn.sibling=Pn,Tn=Pn);return Kn&&pa(Ir,Cn),Sn}for(Pn=yt(Ir,Pn);Cn<Cr.length;Cn++)ai=dn(Pn,Ir,Cn,Cr[Cn],nn),ai!==null&&(Ce&&ai.alternate!==null&&Pn.delete(ai.key===null?Cn:ai.key),Ar=Ct(ai,Ar,Cn),Tn===null?Sn=ai:Tn.sibling=ai,Tn=ai);return Ce&&Pn.forEach(function(Jo){return Ne(Ir,Jo)}),Kn&&pa(Ir,Cn),Sn}function En(Ir,Ar,Cr,nn){var Sn=it(Cr);if(typeof Sn!="function")throw Error(I(150));if(Cr=Sn.call(Cr),Cr==null)throw Error(I(151));for(var Tn=Sn=null,Pn=Ar,Cn=Ar=0,ai=null,Bn=Cr.next();Pn!==null&&!Bn.done;Cn++,Bn=Cr.next()){Pn.index>Cn?(ai=Pn,Pn=null):ai=Pn.sibling;var Jo=Jr(Ir,Pn,Bn.value,nn);if(Jo===null){Pn===null&&(Pn=ai);break}Ce&&Pn&&Jo.alternate===null&&Ne(Ir,Pn),Ar=Ct(Jo,Ar,Cn),Tn===null?Sn=Jo:Tn.sibling=Jo,Tn=Jo,Pn=ai}if(Bn.done)return et(Ir,Pn),Kn&&pa(Ir,Cn),Sn;if(Pn===null){for(;!Bn.done;Cn++,Bn=Cr.next())Bn=en(Ir,Bn.value,nn),Bn!==null&&(Ar=Ct(Bn,Ar,Cn),Tn===null?Sn=Bn:Tn.sibling=Bn,Tn=Bn);return Kn&&pa(Ir,Cn),Sn}for(Pn=yt(Ir,Pn);!Bn.done;Cn++,Bn=Cr.next())Bn=dn(Pn,Ir,Cn,Bn.value,nn),Bn!==null&&(Ce&&Bn.alternate!==null&&Pn.delete(Bn.key===null?Cn:Bn.key),Ar=Ct(Bn,Ar,Cn),Tn===null?Sn=Bn:Tn.sibling=Bn,Tn=Bn);return Ce&&Pn.forEach(function(Hp){return Ne(Ir,Hp)}),Kn&&pa(Ir,Cn),Sn}function Yn(Ir,Ar,Cr,nn){if(typeof Cr=="object"&&Cr!==null&&Cr.type===ot&&Cr.key===null&&(Cr=Cr.props.children),typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case Ge:e:{for(var Sn=Cr.key,Tn=Ar;Tn!==null;){if(Tn.key===Sn){if(Sn=Cr.type,Sn===ot){if(Tn.tag===7){et(Ir,Tn.sibling),Ar=At(Tn,Cr.props.children),Ar.return=Ir,Ir=Ar;break e}}else if(Tn.elementType===Sn||typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===Je&&ld(Sn)===Tn.type){et(Ir,Tn.sibling),Ar=At(Tn,Cr.props),Ar.ref=$s(Ir,Tn,Cr),Ar.return=Ir,Ir=Ar;break e}et(Ir,Tn);break}else Ne(Ir,Tn);Tn=Tn.sibling}Cr.type===ot?(Ar=$a(Cr.props.children,Ir.mode,nn,Cr.key),Ar.return=Ir,Ir=Ar):(nn=Ll(Cr.type,Cr.key,Cr.props,null,Ir.mode,nn),nn.ref=$s(Ir,Ar,Cr),nn.return=Ir,Ir=nn)}return Jt(Ir);case at:e:{for(Tn=Cr.key;Ar!==null;){if(Ar.key===Tn)if(Ar.tag===4&&Ar.stateNode.containerInfo===Cr.containerInfo&&Ar.stateNode.implementation===Cr.implementation){et(Ir,Ar.sibling),Ar=At(Ar,Cr.children||[]),Ar.return=Ir,Ir=Ar;break e}else{et(Ir,Ar);break}else Ne(Ir,Ar);Ar=Ar.sibling}Ar=yu(Cr,Ir.mode,nn),Ar.return=Ir,Ir=Ar}return Jt(Ir);case Je:return Tn=Cr._init,Yn(Ir,Ar,Tn(Cr._payload),nn)}if(yr(Cr))return mn(Ir,Ar,Cr,nn);if(it(Cr))return En(Ir,Ar,Cr,nn);pl(Ir,Cr)}return typeof Cr=="string"&&Cr!==""||typeof Cr=="number"?(Cr=""+Cr,Ar!==null&&Ar.tag===6?(et(Ir,Ar.sibling),Ar=At(Ar,Cr),Ar.return=Ir,Ir=Ar):(et(Ir,Ar),Ar=mu(Cr,Ir.mode,nn),Ar.return=Ir,Ir=Ar),Jt(Ir)):et(Ir,Ar)}return Yn}var za=cd(!0),ud=cd(!1),ml=Lo(null),yl=null,Ga=null,Ac=null;function Rc(){Ac=Ga=yl=null}function Tc(Ce){var Ne=ml.current;Un(ml),Ce._currentValue=Ne}function Pc(Ce,Ne,et){for(;Ce!==null;){var yt=Ce.alternate;if((Ce.childLanes&Ne)!==Ne?(Ce.childLanes|=Ne,yt!==null&&(yt.childLanes|=Ne)):yt!==null&&(yt.childLanes&Ne)!==Ne&&(yt.childLanes|=Ne),Ce===et)break;Ce=Ce.return}}function Ja(Ce,Ne){yl=Ce,Ac=Ga=null,Ce=Ce.dependencies,Ce!==null&&Ce.firstContext!==null&&((Ce.lanes&Ne)!==0&&(wi=!0),Ce.firstContext=null)}function Ui(Ce){var Ne=Ce._currentValue;if(Ac!==Ce)if(Ce={context:Ce,memoizedValue:Ne,next:null},Ga===null){if(yl===null)throw Error(I(308));Ga=Ce,yl.dependencies={lanes:0,firstContext:Ce}}else Ga=Ga.next=Ce;return Ne}var ha=null;function Ic(Ce){ha===null?ha=[Ce]:ha.push(Ce)}function dd(Ce,Ne,et,yt){var At=Ne.interleaved;return At===null?(et.next=et,Ic(Ne)):(et.next=At.next,At.next=et),Ne.interleaved=et,Ro(Ce,yt)}function Ro(Ce,Ne){Ce.lanes|=Ne;var et=Ce.alternate;for(et!==null&&(et.lanes|=Ne),et=Ce,Ce=Ce.return;Ce!==null;)Ce.childLanes|=Ne,et=Ce.alternate,et!==null&&(et.childLanes|=Ne),et=Ce,Ce=Ce.return;return et.tag===3?et.stateNode:null}var Uo=!1;function xc(Ce){Ce.updateQueue={baseState:Ce.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(Ce,Ne){Ce=Ce.updateQueue,Ne.updateQueue===Ce&&(Ne.updateQueue={baseState:Ce.baseState,firstBaseUpdate:Ce.firstBaseUpdate,lastBaseUpdate:Ce.lastBaseUpdate,shared:Ce.shared,effects:Ce.effects})}function To(Ce,Ne){return{eventTime:Ce,lane:Ne,tag:0,payload:null,callback:null,next:null}}function Vo(Ce,Ne,et){var yt=Ce.updateQueue;if(yt===null)return null;if(yt=yt.shared,(Nn&2)!==0){var At=yt.pending;return At===null?Ne.next=Ne:(Ne.next=At.next,At.next=Ne),yt.pending=Ne,Ro(Ce,et)}return At=yt.interleaved,At===null?(Ne.next=Ne,Ic(yt)):(Ne.next=At.next,At.next=Ne),yt.interleaved=Ne,Ro(Ce,et)}function gl(Ce,Ne,et){if(Ne=Ne.updateQueue,Ne!==null&&(Ne=Ne.shared,(et&4194240)!==0)){var yt=Ne.lanes;yt&=Ce.pendingLanes,et|=yt,Ne.lanes=et,xn(Ce,et)}}function pd(Ce,Ne){var et=Ce.updateQueue,yt=Ce.alternate;if(yt!==null&&(yt=yt.updateQueue,et===yt)){var At=null,Ct=null;if(et=et.firstBaseUpdate,et!==null){do{var Jt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};Ct===null?At=Ct=Jt:Ct=Ct.next=Jt,et=et.next}while(et!==null);Ct===null?At=Ct=Ne:Ct=Ct.next=Ne}else At=Ct=Ne;et={baseState:yt.baseState,firstBaseUpdate:At,lastBaseUpdate:Ct,shared:yt.shared,effects:yt.effects},Ce.updateQueue=et;return}Ce=et.lastBaseUpdate,Ce===null?et.firstBaseUpdate=Ne:Ce.next=Ne,et.lastBaseUpdate=Ne}function vl(Ce,Ne,et,yt){var At=Ce.updateQueue;Uo=!1;var Ct=At.firstBaseUpdate,Jt=At.lastBaseUpdate,fr=At.shared.pending;if(fr!==null){At.shared.pending=null;var Er=fr,kr=Er.next;Er.next=null,Jt===null?Ct=kr:Jt.next=kr,Jt=Er;var Xr=Ce.alternate;Xr!==null&&(Xr=Xr.updateQueue,fr=Xr.lastBaseUpdate,fr!==Jt&&(fr===null?Xr.firstBaseUpdate=kr:fr.next=kr,Xr.lastBaseUpdate=Er))}if(Ct!==null){var en=At.baseState;Jt=0,Xr=kr=Er=null,fr=Ct;do{var Jr=fr.lane,dn=fr.eventTime;if((yt&Jr)===Jr){Xr!==null&&(Xr=Xr.next={eventTime:dn,lane:0,tag:fr.tag,payload:fr.payload,callback:fr.callback,next:null});e:{var mn=Ce,En=fr;switch(Jr=Ne,dn=et,En.tag){case 1:if(mn=En.payload,typeof mn=="function"){en=mn.call(dn,en,Jr);break e}en=mn;break e;case 3:mn.flags=mn.flags&-65537|128;case 0:if(mn=En.payload,Jr=typeof mn=="function"?mn.call(dn,en,Jr):mn,Jr==null)break e;en=We({},en,Jr);break e;case 2:Uo=!0}}fr.callback!==null&&fr.lane!==0&&(Ce.flags|=64,Jr=At.effects,Jr===null?At.effects=[fr]:Jr.push(fr))}else dn={eventTime:dn,lane:Jr,tag:fr.tag,payload:fr.payload,callback:fr.callback,next:null},Xr===null?(kr=Xr=dn,Er=en):Xr=Xr.next=dn,Jt|=Jr;if(fr=fr.next,fr===null){if(fr=At.shared.pending,fr===null)break;Jr=fr,fr=Jr.next,Jr.next=null,At.lastBaseUpdate=Jr,At.shared.pending=null}}while(!0);if(Xr===null&&(Er=en),At.baseState=Er,At.firstBaseUpdate=kr,At.lastBaseUpdate=Xr,Ne=At.shared.interleaved,Ne!==null){At=Ne;do Jt|=At.lane,At=At.next;while(At!==Ne)}else Ct===null&&(At.shared.lanes=0);ga|=Jt,Ce.lanes=Jt,Ce.memoizedState=en}}function hd(Ce,Ne,et){if(Ce=Ne.effects,Ne.effects=null,Ce!==null)for(Ne=0;Ne<Ce.length;Ne++){var yt=Ce[Ne],At=yt.callback;if(At!==null){if(yt.callback=null,yt=et,typeof At!="function")throw Error(I(191,At));At.call(yt)}}}var Es={},lo=Lo(Es),Ss=Lo(Es),As=Lo(Es);function ma(Ce){if(Ce===Es)throw Error(I(174));return Ce}function Cc(Ce,Ne){switch(Fn(As,Ne),Fn(Ss,Ce),Fn(lo,Es),Ce=Ne.nodeType,Ce){case 9:case 11:Ne=(Ne=Ne.documentElement)?Ne.namespaceURI:Nt(null,"");break;default:Ce=Ce===8?Ne.parentNode:Ne,Ne=Ce.namespaceURI||null,Ce=Ce.tagName,Ne=Nt(Ne,Ce)}Un(lo),Fn(lo,Ne)}function Ya(){Un(lo),Un(Ss),Un(As)}function md(Ce){ma(As.current);var Ne=ma(lo.current),et=Nt(Ne,Ce.type);Ne!==et&&(Fn(Ss,Ce),Fn(lo,et))}function Dc(Ce){Ss.current===Ce&&(Un(lo),Un(Ss))}var Wn=Lo(0);function _l(Ce){for(var Ne=Ce;Ne!==null;){if(Ne.tag===13){var et=Ne.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return Ne}else if(Ne.tag===19&&Ne.memoizedProps.revealOrder!==void 0){if((Ne.flags&128)!==0)return Ne}else if(Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===Ce)break;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===Ce)return null;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}return null}var kc=[];function Oc(){for(var Ce=0;Ce<kc.length;Ce++)kc[Ce]._workInProgressVersionPrimary=null;kc.length=0}var bl=He.ReactCurrentDispatcher,Mc=He.ReactCurrentBatchConfig,ya=0,Hn=null,ti=null,ii=null,$l=!1,Rs=!1,Ts=0,pp=0;function pi(){throw Error(I(321))}function Nc(Ce,Ne){if(Ne===null)return!1;for(var et=0;et<Ne.length&&et<Ce.length;et++)if(!Xi(Ce[et],Ne[et]))return!1;return!0}function Bc(Ce,Ne,et,yt,At,Ct){if(ya=Ct,Hn=Ne,Ne.memoizedState=null,Ne.updateQueue=null,Ne.lanes=0,bl.current=Ce===null||Ce.memoizedState===null?gp:vp,Ce=et(yt,At),Rs){Ct=0;do{if(Rs=!1,Ts=0,25<=Ct)throw Error(I(301));Ct+=1,ii=ti=null,Ne.updateQueue=null,bl.current=_p,Ce=et(yt,At)}while(Rs)}if(bl.current=Sl,Ne=ti!==null&&ti.next!==null,ya=0,ii=ti=Hn=null,$l=!1,Ne)throw Error(I(300));return Ce}function Lc(){var Ce=Ts!==0;return Ts=0,Ce}function co(){var Ce={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?Hn.memoizedState=ii=Ce:ii=ii.next=Ce,ii}function Vi(){if(ti===null){var Ce=Hn.alternate;Ce=Ce!==null?Ce.memoizedState:null}else Ce=ti.next;var Ne=ii===null?Hn.memoizedState:ii.next;if(Ne!==null)ii=Ne,ti=Ce;else{if(Ce===null)throw Error(I(310));ti=Ce,Ce={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},ii===null?Hn.memoizedState=ii=Ce:ii=ii.next=Ce}return ii}function Ps(Ce,Ne){return typeof Ne=="function"?Ne(Ce):Ne}function Fc(Ce){var Ne=Vi(),et=Ne.queue;if(et===null)throw Error(I(311));et.lastRenderedReducer=Ce;var yt=ti,At=yt.baseQueue,Ct=et.pending;if(Ct!==null){if(At!==null){var Jt=At.next;At.next=Ct.next,Ct.next=Jt}yt.baseQueue=At=Ct,et.pending=null}if(At!==null){Ct=At.next,yt=yt.baseState;var fr=Jt=null,Er=null,kr=Ct;do{var Xr=kr.lane;if((ya&Xr)===Xr)Er!==null&&(Er=Er.next={lane:0,action:kr.action,hasEagerState:kr.hasEagerState,eagerState:kr.eagerState,next:null}),yt=kr.hasEagerState?kr.eagerState:Ce(yt,kr.action);else{var en={lane:Xr,action:kr.action,hasEagerState:kr.hasEagerState,eagerState:kr.eagerState,next:null};Er===null?(fr=Er=en,Jt=yt):Er=Er.next=en,Hn.lanes|=Xr,ga|=Xr}kr=kr.next}while(kr!==null&&kr!==Ct);Er===null?Jt=yt:Er.next=fr,Xi(yt,Ne.memoizedState)||(wi=!0),Ne.memoizedState=yt,Ne.baseState=Jt,Ne.baseQueue=Er,et.lastRenderedState=yt}if(Ce=et.interleaved,Ce!==null){At=Ce;do Ct=At.lane,Hn.lanes|=Ct,ga|=Ct,At=At.next;while(At!==Ce)}else At===null&&(et.lanes=0);return[Ne.memoizedState,et.dispatch]}function jc(Ce){var Ne=Vi(),et=Ne.queue;if(et===null)throw Error(I(311));et.lastRenderedReducer=Ce;var yt=et.dispatch,At=et.pending,Ct=Ne.memoizedState;if(At!==null){et.pending=null;var Jt=At=At.next;do Ct=Ce(Ct,Jt.action),Jt=Jt.next;while(Jt!==At);Xi(Ct,Ne.memoizedState)||(wi=!0),Ne.memoizedState=Ct,Ne.baseQueue===null&&(Ne.baseState=Ct),et.lastRenderedState=Ct}return[Ct,yt]}function yd(){}function gd(Ce,Ne){var et=Hn,yt=Vi(),At=Ne(),Ct=!Xi(yt.memoizedState,At);if(Ct&&(yt.memoizedState=At,wi=!0),yt=yt.queue,Uc(bd.bind(null,et,yt,Ce),[Ce]),yt.getSnapshot!==Ne||Ct||ii!==null&&ii.memoizedState.tag&1){if(et.flags|=2048,Is(9,_d.bind(null,et,yt,At,Ne),void 0,null),oi===null)throw Error(I(349));(ya&30)!==0||vd(et,Ne,At)}return At}function vd(Ce,Ne,et){Ce.flags|=16384,Ce={getSnapshot:Ne,value:et},Ne=Hn.updateQueue,Ne===null?(Ne={lastEffect:null,stores:null},Hn.updateQueue=Ne,Ne.stores=[Ce]):(et=Ne.stores,et===null?Ne.stores=[Ce]:et.push(Ce))}function _d(Ce,Ne,et,yt){Ne.value=et,Ne.getSnapshot=yt,$d(Ne)&&Ed(Ce)}function bd(Ce,Ne,et){return et(function(){$d(Ne)&&Ed(Ce)})}function $d(Ce){var Ne=Ce.getSnapshot;Ce=Ce.value;try{var et=Ne();return!Xi(Ce,et)}catch{return!0}}function Ed(Ce){var Ne=Ro(Ce,1);Ne!==null&&ro(Ne,Ce,1,-1)}function wd(Ce){var Ne=co();return typeof Ce=="function"&&(Ce=Ce()),Ne.memoizedState=Ne.baseState=Ce,Ce={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:Ce},Ne.queue=Ce,Ce=Ce.dispatch=yp.bind(null,Hn,Ce),[Ne.memoizedState,Ce]}function Is(Ce,Ne,et,yt){return Ce={tag:Ce,create:Ne,destroy:et,deps:yt,next:null},Ne=Hn.updateQueue,Ne===null?(Ne={lastEffect:null,stores:null},Hn.updateQueue=Ne,Ne.lastEffect=Ce.next=Ce):(et=Ne.lastEffect,et===null?Ne.lastEffect=Ce.next=Ce:(yt=et.next,et.next=Ce,Ce.next=yt,Ne.lastEffect=Ce)),Ce}function Sd(){return Vi().memoizedState}function El(Ce,Ne,et,yt){var At=co();Hn.flags|=Ce,At.memoizedState=Is(1|Ne,et,void 0,yt===void 0?null:yt)}function wl(Ce,Ne,et,yt){var At=Vi();yt=yt===void 0?null:yt;var Ct=void 0;if(ti!==null){var Jt=ti.memoizedState;if(Ct=Jt.destroy,yt!==null&&Nc(yt,Jt.deps)){At.memoizedState=Is(Ne,et,Ct,yt);return}}Hn.flags|=Ce,At.memoizedState=Is(1|Ne,et,Ct,yt)}function Ad(Ce,Ne){return El(8390656,8,Ce,Ne)}function Uc(Ce,Ne){return wl(2048,8,Ce,Ne)}function Rd(Ce,Ne){return wl(4,2,Ce,Ne)}function Td(Ce,Ne){return wl(4,4,Ce,Ne)}function Pd(Ce,Ne){if(typeof Ne=="function")return Ce=Ce(),Ne(Ce),function(){Ne(null)};if(Ne!=null)return Ce=Ce(),Ne.current=Ce,function(){Ne.current=null}}function Id(Ce,Ne,et){return et=et!=null?et.concat([Ce]):null,wl(4,4,Pd.bind(null,Ne,Ce),et)}function Vc(){}function xd(Ce,Ne){var et=Vi();Ne=Ne===void 0?null:Ne;var yt=et.memoizedState;return yt!==null&&Ne!==null&&Nc(Ne,yt[1])?yt[0]:(et.memoizedState=[Ce,Ne],Ce)}function Cd(Ce,Ne){var et=Vi();Ne=Ne===void 0?null:Ne;var yt=et.memoizedState;return yt!==null&&Ne!==null&&Nc(Ne,yt[1])?yt[0]:(Ce=Ce(),et.memoizedState=[Ce,Ne],Ce)}function Dd(Ce,Ne,et){return(ya&21)===0?(Ce.baseState&&(Ce.baseState=!1,wi=!0),Ce.memoizedState=et):(Xi(et,Ne)||(et=Zr(),Hn.lanes|=et,ga|=et,Ce.baseState=!0),Ne)}function hp(Ce,Ne){var et=$n;$n=et!==0&&4>et?et:4,Ce(!0);var yt=Mc.transition;Mc.transition={};try{Ce(!1),Ne()}finally{$n=et,Mc.transition=yt}}function kd(){return Vi().memoizedState}function mp(Ce,Ne,et){var yt=Ho(Ce);if(et={lane:yt,action:et,hasEagerState:!1,eagerState:null,next:null},Od(Ce))Md(Ne,et);else if(et=dd(Ce,Ne,et,yt),et!==null){var At=vi();ro(et,Ce,yt,At),Nd(et,Ne,yt)}}function yp(Ce,Ne,et){var yt=Ho(Ce),At={lane:yt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Od(Ce))Md(Ne,At);else{var Ct=Ce.alternate;if(Ce.lanes===0&&(Ct===null||Ct.lanes===0)&&(Ct=Ne.lastRenderedReducer,Ct!==null))try{var Jt=Ne.lastRenderedState,fr=Ct(Jt,et);if(At.hasEagerState=!0,At.eagerState=fr,Xi(fr,Jt)){var Er=Ne.interleaved;Er===null?(At.next=At,Ic(Ne)):(At.next=Er.next,Er.next=At),Ne.interleaved=At;return}}catch{}finally{}et=dd(Ce,Ne,At,yt),et!==null&&(At=vi(),ro(et,Ce,yt,At),Nd(et,Ne,yt))}}function Od(Ce){var Ne=Ce.alternate;return Ce===Hn||Ne!==null&&Ne===Hn}function Md(Ce,Ne){Rs=$l=!0;var et=Ce.pending;et===null?Ne.next=Ne:(Ne.next=et.next,et.next=Ne),Ce.pending=Ne}function Nd(Ce,Ne,et){if((et&4194240)!==0){var yt=Ne.lanes;yt&=Ce.pendingLanes,et|=yt,Ne.lanes=et,xn(Ce,et)}}var Sl={readContext:Ui,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},gp={readContext:Ui,useCallback:function(Ce,Ne){return co().memoizedState=[Ce,Ne===void 0?null:Ne],Ce},useContext:Ui,useEffect:Ad,useImperativeHandle:function(Ce,Ne,et){return et=et!=null?et.concat([Ce]):null,El(4194308,4,Pd.bind(null,Ne,Ce),et)},useLayoutEffect:function(Ce,Ne){return El(4194308,4,Ce,Ne)},useInsertionEffect:function(Ce,Ne){return El(4,2,Ce,Ne)},useMemo:function(Ce,Ne){var et=co();return Ne=Ne===void 0?null:Ne,Ce=Ce(),et.memoizedState=[Ce,Ne],Ce},useReducer:function(Ce,Ne,et){var yt=co();return Ne=et!==void 0?et(Ne):Ne,yt.memoizedState=yt.baseState=Ne,Ce={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ce,lastRenderedState:Ne},yt.queue=Ce,Ce=Ce.dispatch=mp.bind(null,Hn,Ce),[yt.memoizedState,Ce]},useRef:function(Ce){var Ne=co();return Ce={current:Ce},Ne.memoizedState=Ce},useState:wd,useDebugValue:Vc,useDeferredValue:function(Ce){return co().memoizedState=Ce},useTransition:function(){var Ce=wd(!1),Ne=Ce[0];return Ce=hp.bind(null,Ce[1]),co().memoizedState=Ce,[Ne,Ce]},useMutableSource:function(){},useSyncExternalStore:function(Ce,Ne,et){var yt=Hn,At=co();if(Kn){if(et===void 0)throw Error(I(407));et=et()}else{if(et=Ne(),oi===null)throw Error(I(349));(ya&30)!==0||vd(yt,Ne,et)}At.memoizedState=et;var Ct={value:et,getSnapshot:Ne};return At.queue=Ct,Ad(bd.bind(null,yt,Ct,Ce),[Ce]),yt.flags|=2048,Is(9,_d.bind(null,yt,Ct,et,Ne),void 0,null),et},useId:function(){var Ce=co(),Ne=oi.identifierPrefix;if(Kn){var et=Ao,yt=So;et=(yt&~(1<<32-In(yt)-1)).toString(32)+et,Ne=":"+Ne+"R"+et,et=Ts++,0<et&&(Ne+="H"+et.toString(32)),Ne+=":"}else et=pp++,Ne=":"+Ne+"r"+et.toString(32)+":";return Ce.memoizedState=Ne},unstable_isNewReconciler:!1},vp={readContext:Ui,useCallback:xd,useContext:Ui,useEffect:Uc,useImperativeHandle:Id,useInsertionEffect:Rd,useLayoutEffect:Td,useMemo:Cd,useReducer:Fc,useRef:Sd,useState:function(){return Fc(Ps)},useDebugValue:Vc,useDeferredValue:function(Ce){var Ne=Vi();return Dd(Ne,ti.memoizedState,Ce)},useTransition:function(){var Ce=Fc(Ps)[0],Ne=Vi().memoizedState;return[Ce,Ne]},useMutableSource:yd,useSyncExternalStore:gd,useId:kd,unstable_isNewReconciler:!1},_p={readContext:Ui,useCallback:xd,useContext:Ui,useEffect:Uc,useImperativeHandle:Id,useInsertionEffect:Rd,useLayoutEffect:Td,useMemo:Cd,useReducer:jc,useRef:Sd,useState:function(){return jc(Ps)},useDebugValue:Vc,useDeferredValue:function(Ce){var Ne=Vi();return ti===null?Ne.memoizedState=Ce:Dd(Ne,ti.memoizedState,Ce)},useTransition:function(){var Ce=jc(Ps)[0],Ne=Vi().memoizedState;return[Ce,Ne]},useMutableSource:yd,useSyncExternalStore:gd,useId:kd,unstable_isNewReconciler:!1};function Zi(Ce,Ne){if(Ce&&Ce.defaultProps){Ne=We({},Ne),Ce=Ce.defaultProps;for(var et in Ce)Ne[et]===void 0&&(Ne[et]=Ce[et]);return Ne}return Ne}function qc(Ce,Ne,et,yt){Ne=Ce.memoizedState,et=et(yt,Ne),et=et==null?Ne:We({},Ne,et),Ce.memoizedState=et,Ce.lanes===0&&(Ce.updateQueue.baseState=et)}var Al={isMounted:function(Ce){return(Ce=Ce._reactInternals)?on(Ce)===Ce:!1},enqueueSetState:function(Ce,Ne,et){Ce=Ce._reactInternals;var yt=vi(),At=Ho(Ce),Ct=To(yt,At);Ct.payload=Ne,et!=null&&(Ct.callback=et),Ne=Vo(Ce,Ct,At),Ne!==null&&(ro(Ne,Ce,At,yt),gl(Ne,Ce,At))},enqueueReplaceState:function(Ce,Ne,et){Ce=Ce._reactInternals;var yt=vi(),At=Ho(Ce),Ct=To(yt,At);Ct.tag=1,Ct.payload=Ne,et!=null&&(Ct.callback=et),Ne=Vo(Ce,Ct,At),Ne!==null&&(ro(Ne,Ce,At,yt),gl(Ne,Ce,At))},enqueueForceUpdate:function(Ce,Ne){Ce=Ce._reactInternals;var et=vi(),yt=Ho(Ce),At=To(et,yt);At.tag=2,Ne!=null&&(At.callback=Ne),Ne=Vo(Ce,At,yt),Ne!==null&&(ro(Ne,Ce,yt,et),gl(Ne,Ce,yt))}};function Bd(Ce,Ne,et,yt,At,Ct,Jt){return Ce=Ce.stateNode,typeof Ce.shouldComponentUpdate=="function"?Ce.shouldComponentUpdate(yt,Ct,Jt):Ne.prototype&&Ne.prototype.isPureReactComponent?!ps(et,yt)||!ps(At,Ct):!0}function Ld(Ce,Ne,et){var yt=!1,At=Fo,Ct=Ne.contextType;return typeof Ct=="object"&&Ct!==null?Ct=Ui(Ct):(At=Ei(Ne)?da:fi.current,yt=Ne.contextTypes,Ct=(yt=yt!=null)?qa(Ce,At):Fo),Ne=new Ne(et,Ct),Ce.memoizedState=Ne.state!==null&&Ne.state!==void 0?Ne.state:null,Ne.updater=Al,Ce.stateNode=Ne,Ne._reactInternals=Ce,yt&&(Ce=Ce.stateNode,Ce.__reactInternalMemoizedUnmaskedChildContext=At,Ce.__reactInternalMemoizedMaskedChildContext=Ct),Ne}function Fd(Ce,Ne,et,yt){Ce=Ne.state,typeof Ne.componentWillReceiveProps=="function"&&Ne.componentWillReceiveProps(et,yt),typeof Ne.UNSAFE_componentWillReceiveProps=="function"&&Ne.UNSAFE_componentWillReceiveProps(et,yt),Ne.state!==Ce&&Al.enqueueReplaceState(Ne,Ne.state,null)}function Kc(Ce,Ne,et,yt){var At=Ce.stateNode;At.props=et,At.state=Ce.memoizedState,At.refs={},xc(Ce);var Ct=Ne.contextType;typeof Ct=="object"&&Ct!==null?At.context=Ui(Ct):(Ct=Ei(Ne)?da:fi.current,At.context=qa(Ce,Ct)),At.state=Ce.memoizedState,Ct=Ne.getDerivedStateFromProps,typeof Ct=="function"&&(qc(Ce,Ne,Ct,et),At.state=Ce.memoizedState),typeof Ne.getDerivedStateFromProps=="function"||typeof At.getSnapshotBeforeUpdate=="function"||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(Ne=At.state,typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount(),Ne!==At.state&&Al.enqueueReplaceState(At,At.state,null),vl(Ce,et,At,yt),At.state=Ce.memoizedState),typeof At.componentDidMount=="function"&&(Ce.flags|=4194308)}function Xa(Ce,Ne){try{var et="",yt=Ne;do et+=dt(yt),yt=yt.return;while(yt);var At=et}catch(Ct){At=`
Error generating stack: `+Ct.message+`
`+Ct.stack}return{value:Ce,source:Ne,stack:At,digest:null}}function Wc(Ce,Ne,et){return{value:Ce,source:null,stack:et??null,digest:Ne??null}}function Hc(Ce,Ne){try{console.error(Ne.value)}catch(et){setTimeout(function(){throw et})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function jd(Ce,Ne,et){et=To(-1,et),et.tag=3,et.payload={element:null};var yt=Ne.value;return et.callback=function(){Dl||(Dl=!0,su=yt),Hc(Ce,Ne)},et}function Ud(Ce,Ne,et){et=To(-1,et),et.tag=3;var yt=Ce.type.getDerivedStateFromError;if(typeof yt=="function"){var At=Ne.value;et.payload=function(){return yt(At)},et.callback=function(){Hc(Ce,Ne)}}var Ct=Ce.stateNode;return Ct!==null&&typeof Ct.componentDidCatch=="function"&&(et.callback=function(){Hc(Ce,Ne),typeof yt!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var Jt=Ne.stack;this.componentDidCatch(Ne.value,{componentStack:Jt!==null?Jt:""})}),et}function Vd(Ce,Ne,et){var yt=Ce.pingCache;if(yt===null){yt=Ce.pingCache=new bp;var At=new Set;yt.set(Ne,At)}else At=yt.get(Ne),At===void 0&&(At=new Set,yt.set(Ne,At));At.has(et)||(At.add(et),Ce=Op.bind(null,Ce,Ne,et),Ne.then(Ce,Ce))}function qd(Ce){do{var Ne;if((Ne=Ce.tag===13)&&(Ne=Ce.memoizedState,Ne=Ne!==null?Ne.dehydrated!==null:!0),Ne)return Ce;Ce=Ce.return}while(Ce!==null);return null}function Kd(Ce,Ne,et,yt,At){return(Ce.mode&1)===0?(Ce===Ne?Ce.flags|=65536:(Ce.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(Ne=To(-1,1),Ne.tag=2,Vo(et,Ne,1))),et.lanes|=1),Ce):(Ce.flags|=65536,Ce.lanes=At,Ce)}var $p=He.ReactCurrentOwner,wi=!1;function gi(Ce,Ne,et,yt){Ne.child=Ce===null?ud(Ne,null,et,yt):za(Ne,Ce.child,et,yt)}function Wd(Ce,Ne,et,yt,At){et=et.render;var Ct=Ne.ref;return Ja(Ne,At),yt=Bc(Ce,Ne,et,yt,Ct,At),et=Lc(),Ce!==null&&!wi?(Ne.updateQueue=Ce.updateQueue,Ne.flags&=-2053,Ce.lanes&=~At,Po(Ce,Ne,At)):(Kn&&et&&bc(Ne),Ne.flags|=1,gi(Ce,Ne,yt,At),Ne.child)}function Hd(Ce,Ne,et,yt,At){if(Ce===null){var Ct=et.type;return typeof Ct=="function"&&!hu(Ct)&&Ct.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(Ne.tag=15,Ne.type=Ct,zd(Ce,Ne,Ct,yt,At)):(Ce=Ll(et.type,null,yt,Ne,Ne.mode,At),Ce.ref=Ne.ref,Ce.return=Ne,Ne.child=Ce)}if(Ct=Ce.child,(Ce.lanes&At)===0){var Jt=Ct.memoizedProps;if(et=et.compare,et=et!==null?et:ps,et(Jt,yt)&&Ce.ref===Ne.ref)return Po(Ce,Ne,At)}return Ne.flags|=1,Ce=Go(Ct,yt),Ce.ref=Ne.ref,Ce.return=Ne,Ne.child=Ce}function zd(Ce,Ne,et,yt,At){if(Ce!==null){var Ct=Ce.memoizedProps;if(ps(Ct,yt)&&Ce.ref===Ne.ref)if(wi=!1,Ne.pendingProps=yt=Ct,(Ce.lanes&At)!==0)(Ce.flags&131072)!==0&&(wi=!0);else return Ne.lanes=Ce.lanes,Po(Ce,Ne,At)}return zc(Ce,Ne,et,yt,At)}function Gd(Ce,Ne,et){var yt=Ne.pendingProps,At=yt.children,Ct=Ce!==null?Ce.memoizedState:null;if(yt.mode==="hidden")if((Ne.mode&1)===0)Ne.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(Za,Mi),Mi|=et;else{if((et&1073741824)===0)return Ce=Ct!==null?Ct.baseLanes|et:et,Ne.lanes=Ne.childLanes=1073741824,Ne.memoizedState={baseLanes:Ce,cachePool:null,transitions:null},Ne.updateQueue=null,Fn(Za,Mi),Mi|=Ce,null;Ne.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt=Ct!==null?Ct.baseLanes:et,Fn(Za,Mi),Mi|=yt}else Ct!==null?(yt=Ct.baseLanes|et,Ne.memoizedState=null):yt=et,Fn(Za,Mi),Mi|=yt;return gi(Ce,Ne,At,et),Ne.child}function Jd(Ce,Ne){var et=Ne.ref;(Ce===null&&et!==null||Ce!==null&&Ce.ref!==et)&&(Ne.flags|=512,Ne.flags|=2097152)}function zc(Ce,Ne,et,yt,At){var Ct=Ei(et)?da:fi.current;return Ct=qa(Ne,Ct),Ja(Ne,At),et=Bc(Ce,Ne,et,yt,Ct,At),yt=Lc(),Ce!==null&&!wi?(Ne.updateQueue=Ce.updateQueue,Ne.flags&=-2053,Ce.lanes&=~At,Po(Ce,Ne,At)):(Kn&&yt&&bc(Ne),Ne.flags|=1,gi(Ce,Ne,et,At),Ne.child)}function Yd(Ce,Ne,et,yt,At){if(Ei(et)){var Ct=!0;ll(Ne)}else Ct=!1;if(Ja(Ne,At),Ne.stateNode===null)Tl(Ce,Ne),Ld(Ne,et,yt),Kc(Ne,et,yt,At),yt=!0;else if(Ce===null){var Jt=Ne.stateNode,fr=Ne.memoizedProps;Jt.props=fr;var Er=Jt.context,kr=et.contextType;typeof kr=="object"&&kr!==null?kr=Ui(kr):(kr=Ei(et)?da:fi.current,kr=qa(Ne,kr));var Xr=et.getDerivedStateFromProps,en=typeof Xr=="function"||typeof Jt.getSnapshotBeforeUpdate=="function";en||typeof Jt.UNSAFE_componentWillReceiveProps!="function"&&typeof Jt.componentWillReceiveProps!="function"||(fr!==yt||Er!==kr)&&Fd(Ne,Jt,yt,kr),Uo=!1;var Jr=Ne.memoizedState;Jt.state=Jr,vl(Ne,yt,Jt,At),Er=Ne.memoizedState,fr!==yt||Jr!==Er||$i.current||Uo?(typeof Xr=="function"&&(qc(Ne,et,Xr,yt),Er=Ne.memoizedState),(fr=Uo||Bd(Ne,et,fr,yt,Jr,Er,kr))?(en||typeof Jt.UNSAFE_componentWillMount!="function"&&typeof Jt.componentWillMount!="function"||(typeof Jt.componentWillMount=="function"&&Jt.componentWillMount(),typeof Jt.UNSAFE_componentWillMount=="function"&&Jt.UNSAFE_componentWillMount()),typeof Jt.componentDidMount=="function"&&(Ne.flags|=4194308)):(typeof Jt.componentDidMount=="function"&&(Ne.flags|=4194308),Ne.memoizedProps=yt,Ne.memoizedState=Er),Jt.props=yt,Jt.state=Er,Jt.context=kr,yt=fr):(typeof Jt.componentDidMount=="function"&&(Ne.flags|=4194308),yt=!1)}else{Jt=Ne.stateNode,fd(Ce,Ne),fr=Ne.memoizedProps,kr=Ne.type===Ne.elementType?fr:Zi(Ne.type,fr),Jt.props=kr,en=Ne.pendingProps,Jr=Jt.context,Er=et.contextType,typeof Er=="object"&&Er!==null?Er=Ui(Er):(Er=Ei(et)?da:fi.current,Er=qa(Ne,Er));var dn=et.getDerivedStateFromProps;(Xr=typeof dn=="function"||typeof Jt.getSnapshotBeforeUpdate=="function")||typeof Jt.UNSAFE_componentWillReceiveProps!="function"&&typeof Jt.componentWillReceiveProps!="function"||(fr!==en||Jr!==Er)&&Fd(Ne,Jt,yt,Er),Uo=!1,Jr=Ne.memoizedState,Jt.state=Jr,vl(Ne,yt,Jt,At);var mn=Ne.memoizedState;fr!==en||Jr!==mn||$i.current||Uo?(typeof dn=="function"&&(qc(Ne,et,dn,yt),mn=Ne.memoizedState),(kr=Uo||Bd(Ne,et,kr,yt,Jr,mn,Er)||!1)?(Xr||typeof Jt.UNSAFE_componentWillUpdate!="function"&&typeof Jt.componentWillUpdate!="function"||(typeof Jt.componentWillUpdate=="function"&&Jt.componentWillUpdate(yt,mn,Er),typeof Jt.UNSAFE_componentWillUpdate=="function"&&Jt.UNSAFE_componentWillUpdate(yt,mn,Er)),typeof Jt.componentDidUpdate=="function"&&(Ne.flags|=4),typeof Jt.getSnapshotBeforeUpdate=="function"&&(Ne.flags|=1024)):(typeof Jt.componentDidUpdate!="function"||fr===Ce.memoizedProps&&Jr===Ce.memoizedState||(Ne.flags|=4),typeof Jt.getSnapshotBeforeUpdate!="function"||fr===Ce.memoizedProps&&Jr===Ce.memoizedState||(Ne.flags|=1024),Ne.memoizedProps=yt,Ne.memoizedState=mn),Jt.props=yt,Jt.state=mn,Jt.context=Er,yt=kr):(typeof Jt.componentDidUpdate!="function"||fr===Ce.memoizedProps&&Jr===Ce.memoizedState||(Ne.flags|=4),typeof Jt.getSnapshotBeforeUpdate!="function"||fr===Ce.memoizedProps&&Jr===Ce.memoizedState||(Ne.flags|=1024),yt=!1)}return Gc(Ce,Ne,et,yt,Ct,At)}function Gc(Ce,Ne,et,yt,At,Ct){Jd(Ce,Ne);var Jt=(Ne.flags&128)!==0;if(!yt&&!Jt)return At&&ed(Ne,et,!1),Po(Ce,Ne,Ct);yt=Ne.stateNode,$p.current=Ne;var fr=Jt&&typeof et.getDerivedStateFromError!="function"?null:yt.render();return Ne.flags|=1,Ce!==null&&Jt?(Ne.child=za(Ne,Ce.child,null,Ct),Ne.child=za(Ne,null,fr,Ct)):gi(Ce,Ne,fr,Ct),Ne.memoizedState=yt.state,At&&ed(Ne,et,!0),Ne.child}function Xd(Ce){var Ne=Ce.stateNode;Ne.pendingContext?Qu(Ce,Ne.pendingContext,Ne.pendingContext!==Ne.context):Ne.context&&Qu(Ce,Ne.context,!1),Cc(Ce,Ne.containerInfo)}function Qd(Ce,Ne,et,yt,At){return Ha(),Sc(At),Ne.flags|=256,gi(Ce,Ne,et,yt),Ne.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Yc(Ce){return{baseLanes:Ce,cachePool:null,transitions:null}}function Zd(Ce,Ne,et){var yt=Ne.pendingProps,At=Wn.current,Ct=!1,Jt=(Ne.flags&128)!==0,fr;if((fr=Jt)||(fr=Ce!==null&&Ce.memoizedState===null?!1:(At&2)!==0),fr?(Ct=!0,Ne.flags&=-129):(Ce===null||Ce.memoizedState!==null)&&(At|=1),Fn(Wn,At&1),Ce===null)return wc(Ne),Ce=Ne.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null)?((Ne.mode&1)===0?Ne.lanes=1:Ce.data==="$!"?Ne.lanes=8:Ne.lanes=1073741824,null):(Jt=yt.children,Ce=yt.fallback,Ct?(yt=Ne.mode,Ct=Ne.child,Jt={mode:"hidden",children:Jt},(yt&1)===0&&Ct!==null?(Ct.childLanes=0,Ct.pendingProps=Jt):Ct=Fl(Jt,yt,0,null),Ce=$a(Ce,yt,et,null),Ct.return=Ne,Ce.return=Ne,Ct.sibling=Ce,Ne.child=Ct,Ne.child.memoizedState=Yc(et),Ne.memoizedState=Jc,Ce):Xc(Ne,Jt));if(At=Ce.memoizedState,At!==null&&(fr=At.dehydrated,fr!==null))return Ep(Ce,Ne,Jt,yt,fr,At,et);if(Ct){Ct=yt.fallback,Jt=Ne.mode,At=Ce.child,fr=At.sibling;var Er={mode:"hidden",children:yt.children};return(Jt&1)===0&&Ne.child!==At?(yt=Ne.child,yt.childLanes=0,yt.pendingProps=Er,Ne.deletions=null):(yt=Go(At,Er),yt.subtreeFlags=At.subtreeFlags&14680064),fr!==null?Ct=Go(fr,Ct):(Ct=$a(Ct,Jt,et,null),Ct.flags|=2),Ct.return=Ne,yt.return=Ne,yt.sibling=Ct,Ne.child=yt,yt=Ct,Ct=Ne.child,Jt=Ce.child.memoizedState,Jt=Jt===null?Yc(et):{baseLanes:Jt.baseLanes|et,cachePool:null,transitions:Jt.transitions},Ct.memoizedState=Jt,Ct.childLanes=Ce.childLanes&~et,Ne.memoizedState=Jc,yt}return Ct=Ce.child,Ce=Ct.sibling,yt=Go(Ct,{mode:"visible",children:yt.children}),(Ne.mode&1)===0&&(yt.lanes=et),yt.return=Ne,yt.sibling=null,Ce!==null&&(et=Ne.deletions,et===null?(Ne.deletions=[Ce],Ne.flags|=16):et.push(Ce)),Ne.child=yt,Ne.memoizedState=null,yt}function Xc(Ce,Ne){return Ne=Fl({mode:"visible",children:Ne},Ce.mode,0,null),Ne.return=Ce,Ce.child=Ne}function Rl(Ce,Ne,et,yt){return yt!==null&&Sc(yt),za(Ne,Ce.child,null,et),Ce=Xc(Ne,Ne.pendingProps.children),Ce.flags|=2,Ne.memoizedState=null,Ce}function Ep(Ce,Ne,et,yt,At,Ct,Jt){if(et)return Ne.flags&256?(Ne.flags&=-257,yt=Wc(Error(I(422))),Rl(Ce,Ne,Jt,yt)):Ne.memoizedState!==null?(Ne.child=Ce.child,Ne.flags|=128,null):(Ct=yt.fallback,At=Ne.mode,yt=Fl({mode:"visible",children:yt.children},At,0,null),Ct=$a(Ct,At,Jt,null),Ct.flags|=2,yt.return=Ne,Ct.return=Ne,yt.sibling=Ct,Ne.child=yt,(Ne.mode&1)!==0&&za(Ne,Ce.child,null,Jt),Ne.child.memoizedState=Yc(Jt),Ne.memoizedState=Jc,Ct);if((Ne.mode&1)===0)return Rl(Ce,Ne,Jt,null);if(At.data==="$!"){if(yt=At.nextSibling&&At.nextSibling.dataset,yt)var fr=yt.dgst;return yt=fr,Ct=Error(I(419)),yt=Wc(Ct,yt,void 0),Rl(Ce,Ne,Jt,yt)}if(fr=(Jt&Ce.childLanes)!==0,wi||fr){if(yt=oi,yt!==null){switch(Jt&-Jt){case 4:At=2;break;case 16:At=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:At=32;break;case 536870912:At=268435456;break;default:At=0}At=(At&(yt.suspendedLanes|Jt))!==0?0:At,At!==0&&At!==Ct.retryLane&&(Ct.retryLane=At,Ro(Ce,At),ro(yt,Ce,At,-1))}return pu(),yt=Wc(Error(I(421))),Rl(Ce,Ne,Jt,yt)}return At.data==="$?"?(Ne.flags|=128,Ne.child=Ce.child,Ne=Mp.bind(null,Ce),At._reactRetry=Ne,null):(Ce=Ct.treeContext,Oi=Bo(At.nextSibling),ki=Ne,Kn=!0,Qi=null,Ce!==null&&(Fi[ji++]=So,Fi[ji++]=Ao,Fi[ji++]=fa,So=Ce.id,Ao=Ce.overflow,fa=Ne),Ne=Xc(Ne,yt.children),Ne.flags|=4096,Ne)}function ef(Ce,Ne,et){Ce.lanes|=Ne;var yt=Ce.alternate;yt!==null&&(yt.lanes|=Ne),Pc(Ce.return,Ne,et)}function Qc(Ce,Ne,et,yt,At){var Ct=Ce.memoizedState;Ct===null?Ce.memoizedState={isBackwards:Ne,rendering:null,renderingStartTime:0,last:yt,tail:et,tailMode:At}:(Ct.isBackwards=Ne,Ct.rendering=null,Ct.renderingStartTime=0,Ct.last=yt,Ct.tail=et,Ct.tailMode=At)}function tf(Ce,Ne,et){var yt=Ne.pendingProps,At=yt.revealOrder,Ct=yt.tail;if(gi(Ce,Ne,yt.children,et),yt=Wn.current,(yt&2)!==0)yt=yt&1|2,Ne.flags|=128;else{if(Ce!==null&&(Ce.flags&128)!==0)e:for(Ce=Ne.child;Ce!==null;){if(Ce.tag===13)Ce.memoizedState!==null&&ef(Ce,et,Ne);else if(Ce.tag===19)ef(Ce,et,Ne);else if(Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===Ne)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===Ne)break e;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}yt&=1}if(Fn(Wn,yt),(Ne.mode&1)===0)Ne.memoizedState=null;else switch(At){case"forwards":for(et=Ne.child,At=null;et!==null;)Ce=et.alternate,Ce!==null&&_l(Ce)===null&&(At=et),et=et.sibling;et=At,et===null?(At=Ne.child,Ne.child=null):(At=et.sibling,et.sibling=null),Qc(Ne,!1,At,et,Ct);break;case"backwards":for(et=null,At=Ne.child,Ne.child=null;At!==null;){if(Ce=At.alternate,Ce!==null&&_l(Ce)===null){Ne.child=At;break}Ce=At.sibling,At.sibling=et,et=At,At=Ce}Qc(Ne,!0,et,null,Ct);break;case"together":Qc(Ne,!1,null,null,void 0);break;default:Ne.memoizedState=null}return Ne.child}function Tl(Ce,Ne){(Ne.mode&1)===0&&Ce!==null&&(Ce.alternate=null,Ne.alternate=null,Ne.flags|=2)}function Po(Ce,Ne,et){if(Ce!==null&&(Ne.dependencies=Ce.dependencies),ga|=Ne.lanes,(et&Ne.childLanes)===0)return null;if(Ce!==null&&Ne.child!==Ce.child)throw Error(I(153));if(Ne.child!==null){for(Ce=Ne.child,et=Go(Ce,Ce.pendingProps),Ne.child=et,et.return=Ne;Ce.sibling!==null;)Ce=Ce.sibling,et=et.sibling=Go(Ce,Ce.pendingProps),et.return=Ne;et.sibling=null}return Ne.child}function wp(Ce,Ne,et){switch(Ne.tag){case 3:Xd(Ne),Ha();break;case 5:md(Ne);break;case 1:Ei(Ne.type)&&ll(Ne);break;case 4:Cc(Ne,Ne.stateNode.containerInfo);break;case 10:var yt=Ne.type._context,At=Ne.memoizedProps.value;Fn(ml,yt._currentValue),yt._currentValue=At;break;case 13:if(yt=Ne.memoizedState,yt!==null)return yt.dehydrated!==null?(Fn(Wn,Wn.current&1),Ne.flags|=128,null):(et&Ne.child.childLanes)!==0?Zd(Ce,Ne,et):(Fn(Wn,Wn.current&1),Ce=Po(Ce,Ne,et),Ce!==null?Ce.sibling:null);Fn(Wn,Wn.current&1);break;case 19:if(yt=(et&Ne.childLanes)!==0,(Ce.flags&128)!==0){if(yt)return tf(Ce,Ne,et);Ne.flags|=128}if(At=Ne.memoizedState,At!==null&&(At.rendering=null,At.tail=null,At.lastEffect=null),Fn(Wn,Wn.current),yt)break;return null;case 22:case 23:return Ne.lanes=0,Gd(Ce,Ne,et)}return Po(Ce,Ne,et)}var rf,Zc,nf,of;rf=function(Ce,Ne){for(var et=Ne.child;et!==null;){if(et.tag===5||et.tag===6)Ce.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===Ne)break;for(;et.sibling===null;){if(et.return===null||et.return===Ne)return;et=et.return}et.sibling.return=et.return,et=et.sibling}},Zc=function(){},nf=function(Ce,Ne,et,yt){var At=Ce.memoizedProps;if(At!==yt){Ce=Ne.stateNode,ma(lo.current);var Ct=null;switch(et){case"input":At=mt(Ce,At),yt=mt(Ce,yt),Ct=[];break;case"select":At=We({},At,{value:void 0}),yt=We({},yt,{value:void 0}),Ct=[];break;case"textarea":At=br(Ce,At),yt=br(Ce,yt),Ct=[];break;default:typeof At.onClick!="function"&&typeof yt.onClick=="function"&&(Ce.onclick=il)}_r(et,yt);var Jt;et=null;for(kr in At)if(!yt.hasOwnProperty(kr)&&At.hasOwnProperty(kr)&&At[kr]!=null)if(kr==="style"){var fr=At[kr];for(Jt in fr)fr.hasOwnProperty(Jt)&&(et||(et={}),et[Jt]="")}else kr!=="dangerouslySetInnerHTML"&&kr!=="children"&&kr!=="suppressContentEditableWarning"&&kr!=="suppressHydrationWarning"&&kr!=="autoFocus"&&(L.hasOwnProperty(kr)?Ct||(Ct=[]):(Ct=Ct||[]).push(kr,null));for(kr in yt){var Er=yt[kr];if(fr=At!=null?At[kr]:void 0,yt.hasOwnProperty(kr)&&Er!==fr&&(Er!=null||fr!=null))if(kr==="style")if(fr){for(Jt in fr)!fr.hasOwnProperty(Jt)||Er&&Er.hasOwnProperty(Jt)||(et||(et={}),et[Jt]="");for(Jt in Er)Er.hasOwnProperty(Jt)&&fr[Jt]!==Er[Jt]&&(et||(et={}),et[Jt]=Er[Jt])}else et||(Ct||(Ct=[]),Ct.push(kr,et)),et=Er;else kr==="dangerouslySetInnerHTML"?(Er=Er?Er.__html:void 0,fr=fr?fr.__html:void 0,Er!=null&&fr!==Er&&(Ct=Ct||[]).push(kr,Er)):kr==="children"?typeof Er!="string"&&typeof Er!="number"||(Ct=Ct||[]).push(kr,""+Er):kr!=="suppressContentEditableWarning"&&kr!=="suppressHydrationWarning"&&(L.hasOwnProperty(kr)?(Er!=null&&kr==="onScroll"&&jn("scroll",Ce),Ct||fr===Er||(Ct=[])):(Ct=Ct||[]).push(kr,Er))}et&&(Ct=Ct||[]).push("style",et);var kr=Ct;(Ne.updateQueue=kr)&&(Ne.flags|=4)}},of=function(Ce,Ne,et,yt){et!==yt&&(Ne.flags|=4)};function xs(Ce,Ne){if(!Kn)switch(Ce.tailMode){case"hidden":Ne=Ce.tail;for(var et=null;Ne!==null;)Ne.alternate!==null&&(et=Ne),Ne=Ne.sibling;et===null?Ce.tail=null:et.sibling=null;break;case"collapsed":et=Ce.tail;for(var yt=null;et!==null;)et.alternate!==null&&(yt=et),et=et.sibling;yt===null?Ne||Ce.tail===null?Ce.tail=null:Ce.tail.sibling=null:yt.sibling=null}}function hi(Ce){var Ne=Ce.alternate!==null&&Ce.alternate.child===Ce.child,et=0,yt=0;if(Ne)for(var At=Ce.child;At!==null;)et|=At.lanes|At.childLanes,yt|=At.subtreeFlags&14680064,yt|=At.flags&14680064,At.return=Ce,At=At.sibling;else for(At=Ce.child;At!==null;)et|=At.lanes|At.childLanes,yt|=At.subtreeFlags,yt|=At.flags,At.return=Ce,At=At.sibling;return Ce.subtreeFlags|=yt,Ce.childLanes=et,Ne}function Sp(Ce,Ne,et){var yt=Ne.pendingProps;switch($c(Ne),Ne.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(Ne),null;case 1:return Ei(Ne.type)&&al(),hi(Ne),null;case 3:return yt=Ne.stateNode,Ya(),Un($i),Un(fi),Oc(),yt.pendingContext&&(yt.context=yt.pendingContext,yt.pendingContext=null),(Ce===null||Ce.child===null)&&(fl(Ne)?Ne.flags|=4:Ce===null||Ce.memoizedState.isDehydrated&&(Ne.flags&256)===0||(Ne.flags|=1024,Qi!==null&&(uu(Qi),Qi=null))),Zc(Ce,Ne),hi(Ne),null;case 5:Dc(Ne);var At=ma(As.current);if(et=Ne.type,Ce!==null&&Ne.stateNode!=null)nf(Ce,Ne,et,yt,At),Ce.ref!==Ne.ref&&(Ne.flags|=512,Ne.flags|=2097152);else{if(!yt){if(Ne.stateNode===null)throw Error(I(166));return hi(Ne),null}if(Ce=ma(lo.current),fl(Ne)){yt=Ne.stateNode,et=Ne.type;var Ct=Ne.memoizedProps;switch(yt[so]=Ne,yt[_s]=Ct,Ce=(Ne.mode&1)!==0,et){case"dialog":jn("cancel",yt),jn("close",yt);break;case"iframe":case"object":case"embed":jn("load",yt);break;case"video":case"audio":for(At=0;At<ys.length;At++)jn(ys[At],yt);break;case"source":jn("error",yt);break;case"img":case"image":case"link":jn("error",yt),jn("load",yt);break;case"details":jn("toggle",yt);break;case"input":$t(yt,Ct),jn("invalid",yt);break;case"select":yt._wrapperState={wasMultiple:!!Ct.multiple},jn("invalid",yt);break;case"textarea":cr(yt,Ct),jn("invalid",yt)}_r(et,Ct),At=null;for(var Jt in Ct)if(Ct.hasOwnProperty(Jt)){var fr=Ct[Jt];Jt==="children"?typeof fr=="string"?yt.textContent!==fr&&(Ct.suppressHydrationWarning!==!0&&nl(yt.textContent,fr,Ce),At=["children",fr]):typeof fr=="number"&&yt.textContent!==""+fr&&(Ct.suppressHydrationWarning!==!0&&nl(yt.textContent,fr,Ce),At=["children",""+fr]):L.hasOwnProperty(Jt)&&fr!=null&&Jt==="onScroll"&&jn("scroll",yt)}switch(et){case"input":Dt(yt),nr(yt,Ct,!0);break;case"textarea":Dt(yt),lt(yt);break;case"select":case"option":break;default:typeof Ct.onClick=="function"&&(yt.onclick=il)}yt=At,Ne.updateQueue=yt,yt!==null&&(Ne.flags|=4)}else{Jt=At.nodeType===9?At:At.ownerDocument,Ce==="http://www.w3.org/1999/xhtml"&&(Ce=ct(et)),Ce==="http://www.w3.org/1999/xhtml"?et==="script"?(Ce=Jt.createElement("div"),Ce.innerHTML="<script><\/script>",Ce=Ce.removeChild(Ce.firstChild)):typeof yt.is=="string"?Ce=Jt.createElement(et,{is:yt.is}):(Ce=Jt.createElement(et),et==="select"&&(Jt=Ce,yt.multiple?Jt.multiple=!0:yt.size&&(Jt.size=yt.size))):Ce=Jt.createElementNS(Ce,et),Ce[so]=Ne,Ce[_s]=yt,rf(Ce,Ne,!1,!1),Ne.stateNode=Ce;e:{switch(Jt=Nr(et,yt),et){case"dialog":jn("cancel",Ce),jn("close",Ce),At=yt;break;case"iframe":case"object":case"embed":jn("load",Ce),At=yt;break;case"video":case"audio":for(At=0;At<ys.length;At++)jn(ys[At],Ce);At=yt;break;case"source":jn("error",Ce),At=yt;break;case"img":case"image":case"link":jn("error",Ce),jn("load",Ce),At=yt;break;case"details":jn("toggle",Ce),At=yt;break;case"input":$t(Ce,yt),At=mt(Ce,yt),jn("invalid",Ce);break;case"option":At=yt;break;case"select":Ce._wrapperState={wasMultiple:!!yt.multiple},At=We({},yt,{value:void 0}),jn("invalid",Ce);break;case"textarea":cr(Ce,yt),At=br(Ce,yt),jn("invalid",Ce);break;default:At=yt}_r(et,At),fr=At;for(Ct in fr)if(fr.hasOwnProperty(Ct)){var Er=fr[Ct];Ct==="style"?tr(Ce,Er):Ct==="dangerouslySetInnerHTML"?(Er=Er?Er.__html:void 0,Er!=null&&zt(Ce,Er)):Ct==="children"?typeof Er=="string"?(et!=="textarea"||Er!=="")&&Ot(Ce,Er):typeof Er=="number"&&Ot(Ce,""+Er):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(L.hasOwnProperty(Ct)?Er!=null&&Ct==="onScroll"&&jn("scroll",Ce):Er!=null&&qe(Ce,Ct,Er,Jt))}switch(et){case"input":Dt(Ce),nr(Ce,yt,!1);break;case"textarea":Dt(Ce),lt(Ce);break;case"option":yt.value!=null&&Ce.setAttribute("value",""+St(yt.value));break;case"select":Ce.multiple=!!yt.multiple,Ct=yt.value,Ct!=null?gr(Ce,!!yt.multiple,Ct,!1):yt.defaultValue!=null&&gr(Ce,!!yt.multiple,yt.defaultValue,!0);break;default:typeof At.onClick=="function"&&(Ce.onclick=il)}switch(et){case"button":case"input":case"select":case"textarea":yt=!!yt.autoFocus;break e;case"img":yt=!0;break e;default:yt=!1}}yt&&(Ne.flags|=4)}Ne.ref!==null&&(Ne.flags|=512,Ne.flags|=2097152)}return hi(Ne),null;case 6:if(Ce&&Ne.stateNode!=null)of(Ce,Ne,Ce.memoizedProps,yt);else{if(typeof yt!="string"&&Ne.stateNode===null)throw Error(I(166));if(et=ma(As.current),ma(lo.current),fl(Ne)){if(yt=Ne.stateNode,et=Ne.memoizedProps,yt[so]=Ne,(Ct=yt.nodeValue!==et)&&(Ce=ki,Ce!==null))switch(Ce.tag){case 3:nl(yt.nodeValue,et,(Ce.mode&1)!==0);break;case 5:Ce.memoizedProps.suppressHydrationWarning!==!0&&nl(yt.nodeValue,et,(Ce.mode&1)!==0)}Ct&&(Ne.flags|=4)}else yt=(et.nodeType===9?et:et.ownerDocument).createTextNode(yt),yt[so]=Ne,Ne.stateNode=yt}return hi(Ne),null;case 13:if(Un(Wn),yt=Ne.memoizedState,Ce===null||Ce.memoizedState!==null&&Ce.memoizedState.dehydrated!==null){if(Kn&&Oi!==null&&(Ne.mode&1)!==0&&(Ne.flags&128)===0)sd(),Ha(),Ne.flags|=98560,Ct=!1;else if(Ct=fl(Ne),yt!==null&&yt.dehydrated!==null){if(Ce===null){if(!Ct)throw Error(I(318));if(Ct=Ne.memoizedState,Ct=Ct!==null?Ct.dehydrated:null,!Ct)throw Error(I(317));Ct[so]=Ne}else Ha(),(Ne.flags&128)===0&&(Ne.memoizedState=null),Ne.flags|=4;hi(Ne),Ct=!1}else Qi!==null&&(uu(Qi),Qi=null),Ct=!0;if(!Ct)return Ne.flags&65536?Ne:null}return(Ne.flags&128)!==0?(Ne.lanes=et,Ne):(yt=yt!==null,yt!==(Ce!==null&&Ce.memoizedState!==null)&&yt&&(Ne.child.flags|=8192,(Ne.mode&1)!==0&&(Ce===null||(Wn.current&1)!==0?ri===0&&(ri=3):pu())),Ne.updateQueue!==null&&(Ne.flags|=4),hi(Ne),null);case 4:return Ya(),Zc(Ce,Ne),Ce===null&&gs(Ne.stateNode.containerInfo),hi(Ne),null;case 10:return Tc(Ne.type._context),hi(Ne),null;case 17:return Ei(Ne.type)&&al(),hi(Ne),null;case 19:if(Un(Wn),Ct=Ne.memoizedState,Ct===null)return hi(Ne),null;if(yt=(Ne.flags&128)!==0,Jt=Ct.rendering,Jt===null)if(yt)xs(Ct,!1);else{if(ri!==0||Ce!==null&&(Ce.flags&128)!==0)for(Ce=Ne.child;Ce!==null;){if(Jt=_l(Ce),Jt!==null){for(Ne.flags|=128,xs(Ct,!1),yt=Jt.updateQueue,yt!==null&&(Ne.updateQueue=yt,Ne.flags|=4),Ne.subtreeFlags=0,yt=et,et=Ne.child;et!==null;)Ct=et,Ce=yt,Ct.flags&=14680066,Jt=Ct.alternate,Jt===null?(Ct.childLanes=0,Ct.lanes=Ce,Ct.child=null,Ct.subtreeFlags=0,Ct.memoizedProps=null,Ct.memoizedState=null,Ct.updateQueue=null,Ct.dependencies=null,Ct.stateNode=null):(Ct.childLanes=Jt.childLanes,Ct.lanes=Jt.lanes,Ct.child=Jt.child,Ct.subtreeFlags=0,Ct.deletions=null,Ct.memoizedProps=Jt.memoizedProps,Ct.memoizedState=Jt.memoizedState,Ct.updateQueue=Jt.updateQueue,Ct.type=Jt.type,Ce=Jt.dependencies,Ct.dependencies=Ce===null?null:{lanes:Ce.lanes,firstContext:Ce.firstContext}),et=et.sibling;return Fn(Wn,Wn.current&1|2),Ne.child}Ce=Ce.sibling}Ct.tail!==null&&Hr()>es&&(Ne.flags|=128,yt=!0,xs(Ct,!1),Ne.lanes=4194304)}else{if(!yt)if(Ce=_l(Jt),Ce!==null){if(Ne.flags|=128,yt=!0,et=Ce.updateQueue,et!==null&&(Ne.updateQueue=et,Ne.flags|=4),xs(Ct,!0),Ct.tail===null&&Ct.tailMode==="hidden"&&!Jt.alternate&&!Kn)return hi(Ne),null}else 2*Hr()-Ct.renderingStartTime>es&&et!==1073741824&&(Ne.flags|=128,yt=!0,xs(Ct,!1),Ne.lanes=4194304);Ct.isBackwards?(Jt.sibling=Ne.child,Ne.child=Jt):(et=Ct.last,et!==null?et.sibling=Jt:Ne.child=Jt,Ct.last=Jt)}return Ct.tail!==null?(Ne=Ct.tail,Ct.rendering=Ne,Ct.tail=Ne.sibling,Ct.renderingStartTime=Hr(),Ne.sibling=null,et=Wn.current,Fn(Wn,yt?et&1|2:et&1),Ne):(hi(Ne),null);case 22:case 23:return fu(),yt=Ne.memoizedState!==null,Ce!==null&&Ce.memoizedState!==null!==yt&&(Ne.flags|=8192),yt&&(Ne.mode&1)!==0?(Mi&1073741824)!==0&&(hi(Ne),Ne.subtreeFlags&6&&(Ne.flags|=8192)):hi(Ne),null;case 24:return null;case 25:return null}throw Error(I(156,Ne.tag))}function Ap(Ce,Ne){switch($c(Ne),Ne.tag){case 1:return Ei(Ne.type)&&al(),Ce=Ne.flags,Ce&65536?(Ne.flags=Ce&-65537|128,Ne):null;case 3:return Ya(),Un($i),Un(fi),Oc(),Ce=Ne.flags,(Ce&65536)!==0&&(Ce&128)===0?(Ne.flags=Ce&-65537|128,Ne):null;case 5:return Dc(Ne),null;case 13:if(Un(Wn),Ce=Ne.memoizedState,Ce!==null&&Ce.dehydrated!==null){if(Ne.alternate===null)throw Error(I(340));Ha()}return Ce=Ne.flags,Ce&65536?(Ne.flags=Ce&-65537|128,Ne):null;case 19:return Un(Wn),null;case 4:return Ya(),null;case 10:return Tc(Ne.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var Pl=!1,mi=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Qa(Ce,Ne){var et=Ce.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(yt){Gn(Ce,Ne,yt)}else et.current=null}function eu(Ce,Ne,et){try{et()}catch(yt){Gn(Ce,Ne,yt)}}var af=!1;function Tp(Ce,Ne){if(dc=Oo,Ce=Nu(),nc(Ce)){if("selectionStart"in Ce)var et={start:Ce.selectionStart,end:Ce.selectionEnd};else e:{et=(et=Ce.ownerDocument)&&et.defaultView||window;var yt=et.getSelection&&et.getSelection();if(yt&&yt.rangeCount!==0){et=yt.anchorNode;var At=yt.anchorOffset,Ct=yt.focusNode;yt=yt.focusOffset;try{et.nodeType,Ct.nodeType}catch{et=null;break e}var Jt=0,fr=-1,Er=-1,kr=0,Xr=0,en=Ce,Jr=null;t:for(;;){for(var dn;en!==et||At!==0&&en.nodeType!==3||(fr=Jt+At),en!==Ct||yt!==0&&en.nodeType!==3||(Er=Jt+yt),en.nodeType===3&&(Jt+=en.nodeValue.length),(dn=en.firstChild)!==null;)Jr=en,en=dn;for(;;){if(en===Ce)break t;if(Jr===et&&++kr===At&&(fr=Jt),Jr===Ct&&++Xr===yt&&(Er=Jt),(dn=en.nextSibling)!==null)break;en=Jr,Jr=en.parentNode}en=dn}et=fr===-1||Er===-1?null:{start:fr,end:Er}}else et=null}et=et||{start:0,end:0}}else et=null;for(fc={focusedElem:Ce,selectionRange:et},Oo=!1,hn=Ne;hn!==null;)if(Ne=hn,Ce=Ne.child,(Ne.subtreeFlags&1028)!==0&&Ce!==null)Ce.return=Ne,hn=Ce;else for(;hn!==null;){Ne=hn;try{var mn=Ne.alternate;if((Ne.flags&1024)!==0)switch(Ne.tag){case 0:case 11:case 15:break;case 1:if(mn!==null){var En=mn.memoizedProps,Yn=mn.memoizedState,Ir=Ne.stateNode,Ar=Ir.getSnapshotBeforeUpdate(Ne.elementType===Ne.type?En:Zi(Ne.type,En),Yn);Ir.__reactInternalSnapshotBeforeUpdate=Ar}break;case 3:var Cr=Ne.stateNode.containerInfo;Cr.nodeType===1?Cr.textContent="":Cr.nodeType===9&&Cr.documentElement&&Cr.removeChild(Cr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(nn){Gn(Ne,Ne.return,nn)}if(Ce=Ne.sibling,Ce!==null){Ce.return=Ne.return,hn=Ce;break}hn=Ne.return}return mn=af,af=!1,mn}function Cs(Ce,Ne,et){var yt=Ne.updateQueue;if(yt=yt!==null?yt.lastEffect:null,yt!==null){var At=yt=yt.next;do{if((At.tag&Ce)===Ce){var Ct=At.destroy;At.destroy=void 0,Ct!==void 0&&eu(Ne,et,Ct)}At=At.next}while(At!==yt)}}function Il(Ce,Ne){if(Ne=Ne.updateQueue,Ne=Ne!==null?Ne.lastEffect:null,Ne!==null){var et=Ne=Ne.next;do{if((et.tag&Ce)===Ce){var yt=et.create;et.destroy=yt()}et=et.next}while(et!==Ne)}}function tu(Ce){var Ne=Ce.ref;if(Ne!==null){var et=Ce.stateNode;switch(Ce.tag){case 5:Ce=et;break;default:Ce=et}typeof Ne=="function"?Ne(Ce):Ne.current=Ce}}function sf(Ce){var Ne=Ce.alternate;Ne!==null&&(Ce.alternate=null,sf(Ne)),Ce.child=null,Ce.deletions=null,Ce.sibling=null,Ce.tag===5&&(Ne=Ce.stateNode,Ne!==null&&(delete Ne[so],delete Ne[_s],delete Ne[yc],delete Ne[cp],delete Ne[up])),Ce.stateNode=null,Ce.return=null,Ce.dependencies=null,Ce.memoizedProps=null,Ce.memoizedState=null,Ce.pendingProps=null,Ce.stateNode=null,Ce.updateQueue=null}function lf(Ce){return Ce.tag===5||Ce.tag===3||Ce.tag===4}function cf(Ce){e:for(;;){for(;Ce.sibling===null;){if(Ce.return===null||lf(Ce.return))return null;Ce=Ce.return}for(Ce.sibling.return=Ce.return,Ce=Ce.sibling;Ce.tag!==5&&Ce.tag!==6&&Ce.tag!==18;){if(Ce.flags&2||Ce.child===null||Ce.tag===4)continue e;Ce.child.return=Ce,Ce=Ce.child}if(!(Ce.flags&2))return Ce.stateNode}}function ru(Ce,Ne,et){var yt=Ce.tag;if(yt===5||yt===6)Ce=Ce.stateNode,Ne?et.nodeType===8?et.parentNode.insertBefore(Ce,Ne):et.insertBefore(Ce,Ne):(et.nodeType===8?(Ne=et.parentNode,Ne.insertBefore(Ce,et)):(Ne=et,Ne.appendChild(Ce)),et=et._reactRootContainer,et!=null||Ne.onclick!==null||(Ne.onclick=il));else if(yt!==4&&(Ce=Ce.child,Ce!==null))for(ru(Ce,Ne,et),Ce=Ce.sibling;Ce!==null;)ru(Ce,Ne,et),Ce=Ce.sibling}function nu(Ce,Ne,et){var yt=Ce.tag;if(yt===5||yt===6)Ce=Ce.stateNode,Ne?et.insertBefore(Ce,Ne):et.appendChild(Ce);else if(yt!==4&&(Ce=Ce.child,Ce!==null))for(nu(Ce,Ne,et),Ce=Ce.sibling;Ce!==null;)nu(Ce,Ne,et),Ce=Ce.sibling}var ci=null,eo=!1;function qo(Ce,Ne,et){for(et=et.child;et!==null;)uf(Ce,Ne,et),et=et.sibling}function uf(Ce,Ne,et){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(kn,et)}catch{}switch(et.tag){case 5:mi||Qa(et,Ne);case 6:var yt=ci,At=eo;ci=null,qo(Ce,Ne,et),ci=yt,eo=At,ci!==null&&(eo?(Ce=ci,et=et.stateNode,Ce.nodeType===8?Ce.parentNode.removeChild(et):Ce.removeChild(et)):ci.removeChild(et.stateNode));break;case 18:ci!==null&&(eo?(Ce=ci,et=et.stateNode,Ce.nodeType===8?mc(Ce.parentNode,et):Ce.nodeType===1&&mc(Ce,et),Ji(Ce)):mc(ci,et.stateNode));break;case 4:yt=ci,At=eo,ci=et.stateNode.containerInfo,eo=!0,qo(Ce,Ne,et),ci=yt,eo=At;break;case 0:case 11:case 14:case 15:if(!mi&&(yt=et.updateQueue,yt!==null&&(yt=yt.lastEffect,yt!==null))){At=yt=yt.next;do{var Ct=At,Jt=Ct.destroy;Ct=Ct.tag,Jt!==void 0&&((Ct&2)!==0||(Ct&4)!==0)&&eu(et,Ne,Jt),At=At.next}while(At!==yt)}qo(Ce,Ne,et);break;case 1:if(!mi&&(Qa(et,Ne),yt=et.stateNode,typeof yt.componentWillUnmount=="function"))try{yt.props=et.memoizedProps,yt.state=et.memoizedState,yt.componentWillUnmount()}catch(fr){Gn(et,Ne,fr)}qo(Ce,Ne,et);break;case 21:qo(Ce,Ne,et);break;case 22:et.mode&1?(mi=(yt=mi)||et.memoizedState!==null,qo(Ce,Ne,et),mi=yt):qo(Ce,Ne,et);break;default:qo(Ce,Ne,et)}}function df(Ce){var Ne=Ce.updateQueue;if(Ne!==null){Ce.updateQueue=null;var et=Ce.stateNode;et===null&&(et=Ce.stateNode=new Rp),Ne.forEach(function(yt){var At=Np.bind(null,Ce,yt);et.has(yt)||(et.add(yt),yt.then(At,At))})}}function to(Ce,Ne){var et=Ne.deletions;if(et!==null)for(var yt=0;yt<et.length;yt++){var At=et[yt];try{var Ct=Ce,Jt=Ne,fr=Jt;e:for(;fr!==null;){switch(fr.tag){case 5:ci=fr.stateNode,eo=!1;break e;case 3:ci=fr.stateNode.containerInfo,eo=!0;break e;case 4:ci=fr.stateNode.containerInfo,eo=!0;break e}fr=fr.return}if(ci===null)throw Error(I(160));uf(Ct,Jt,At),ci=null,eo=!1;var Er=At.alternate;Er!==null&&(Er.return=null),At.return=null}catch(kr){Gn(At,Ne,kr)}}if(Ne.subtreeFlags&12854)for(Ne=Ne.child;Ne!==null;)ff(Ne,Ce),Ne=Ne.sibling}function ff(Ce,Ne){var et=Ce.alternate,yt=Ce.flags;switch(Ce.tag){case 0:case 11:case 14:case 15:if(to(Ne,Ce),uo(Ce),yt&4){try{Cs(3,Ce,Ce.return),Il(3,Ce)}catch(En){Gn(Ce,Ce.return,En)}try{Cs(5,Ce,Ce.return)}catch(En){Gn(Ce,Ce.return,En)}}break;case 1:to(Ne,Ce),uo(Ce),yt&512&&et!==null&&Qa(et,et.return);break;case 5:if(to(Ne,Ce),uo(Ce),yt&512&&et!==null&&Qa(et,et.return),Ce.flags&32){var At=Ce.stateNode;try{Ot(At,"")}catch(En){Gn(Ce,Ce.return,En)}}if(yt&4&&(At=Ce.stateNode,At!=null)){var Ct=Ce.memoizedProps,Jt=et!==null?et.memoizedProps:Ct,fr=Ce.type,Er=Ce.updateQueue;if(Ce.updateQueue=null,Er!==null)try{fr==="input"&&Ct.type==="radio"&&Ct.name!=null&&kt(At,Ct),Nr(fr,Jt);var kr=Nr(fr,Ct);for(Jt=0;Jt<Er.length;Jt+=2){var Xr=Er[Jt],en=Er[Jt+1];Xr==="style"?tr(At,en):Xr==="dangerouslySetInnerHTML"?zt(At,en):Xr==="children"?Ot(At,en):qe(At,Xr,en,kr)}switch(fr){case"input":Ft(At,Ct);break;case"textarea":pr(At,Ct);break;case"select":var Jr=At._wrapperState.wasMultiple;At._wrapperState.wasMultiple=!!Ct.multiple;var dn=Ct.value;dn!=null?gr(At,!!Ct.multiple,dn,!1):Jr!==!!Ct.multiple&&(Ct.defaultValue!=null?gr(At,!!Ct.multiple,Ct.defaultValue,!0):gr(At,!!Ct.multiple,Ct.multiple?[]:"",!1))}At[_s]=Ct}catch(En){Gn(Ce,Ce.return,En)}}break;case 6:if(to(Ne,Ce),uo(Ce),yt&4){if(Ce.stateNode===null)throw Error(I(162));At=Ce.stateNode,Ct=Ce.memoizedProps;try{At.nodeValue=Ct}catch(En){Gn(Ce,Ce.return,En)}}break;case 3:if(to(Ne,Ce),uo(Ce),yt&4&&et!==null&&et.memoizedState.isDehydrated)try{Ji(Ne.containerInfo)}catch(En){Gn(Ce,Ce.return,En)}break;case 4:to(Ne,Ce),uo(Ce);break;case 13:to(Ne,Ce),uo(Ce),At=Ce.child,At.flags&8192&&(Ct=At.memoizedState!==null,At.stateNode.isHidden=Ct,!Ct||At.alternate!==null&&At.alternate.memoizedState!==null||(au=Hr())),yt&4&&df(Ce);break;case 22:if(Xr=et!==null&&et.memoizedState!==null,Ce.mode&1?(mi=(kr=mi)||Xr,to(Ne,Ce),mi=kr):to(Ne,Ce),uo(Ce),yt&8192){if(kr=Ce.memoizedState!==null,(Ce.stateNode.isHidden=kr)&&!Xr&&(Ce.mode&1)!==0)for(hn=Ce,Xr=Ce.child;Xr!==null;){for(en=hn=Xr;hn!==null;){switch(Jr=hn,dn=Jr.child,Jr.tag){case 0:case 11:case 14:case 15:Cs(4,Jr,Jr.return);break;case 1:Qa(Jr,Jr.return);var mn=Jr.stateNode;if(typeof mn.componentWillUnmount=="function"){yt=Jr,et=Jr.return;try{Ne=yt,mn.props=Ne.memoizedProps,mn.state=Ne.memoizedState,mn.componentWillUnmount()}catch(En){Gn(yt,et,En)}}break;case 5:Qa(Jr,Jr.return);break;case 22:if(Jr.memoizedState!==null){mf(en);continue}}dn!==null?(dn.return=Jr,hn=dn):mf(en)}Xr=Xr.sibling}e:for(Xr=null,en=Ce;;){if(en.tag===5){if(Xr===null){Xr=en;try{At=en.stateNode,kr?(Ct=At.style,typeof Ct.setProperty=="function"?Ct.setProperty("display","none","important"):Ct.display="none"):(fr=en.stateNode,Er=en.memoizedProps.style,Jt=Er!=null&&Er.hasOwnProperty("display")?Er.display:null,fr.style.display=Kt("display",Jt))}catch(En){Gn(Ce,Ce.return,En)}}}else if(en.tag===6){if(Xr===null)try{en.stateNode.nodeValue=kr?"":en.memoizedProps}catch(En){Gn(Ce,Ce.return,En)}}else if((en.tag!==22&&en.tag!==23||en.memoizedState===null||en===Ce)&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===Ce)break e;for(;en.sibling===null;){if(en.return===null||en.return===Ce)break e;Xr===en&&(Xr=null),en=en.return}Xr===en&&(Xr=null),en.sibling.return=en.return,en=en.sibling}}break;case 19:to(Ne,Ce),uo(Ce),yt&4&&df(Ce);break;case 21:break;default:to(Ne,Ce),uo(Ce)}}function uo(Ce){var Ne=Ce.flags;if(Ne&2){try{e:{for(var et=Ce.return;et!==null;){if(lf(et)){var yt=et;break e}et=et.return}throw Error(I(160))}switch(yt.tag){case 5:var At=yt.stateNode;yt.flags&32&&(Ot(At,""),yt.flags&=-33);var Ct=cf(Ce);nu(Ce,Ct,At);break;case 3:case 4:var Jt=yt.stateNode.containerInfo,fr=cf(Ce);ru(Ce,fr,Jt);break;default:throw Error(I(161))}}catch(Er){Gn(Ce,Ce.return,Er)}Ce.flags&=-3}Ne&4096&&(Ce.flags&=-4097)}function Pp(Ce,Ne,et){hn=Ce,pf(Ce)}function pf(Ce,Ne,et){for(var yt=(Ce.mode&1)!==0;hn!==null;){var At=hn,Ct=At.child;if(At.tag===22&&yt){var Jt=At.memoizedState!==null||Pl;if(!Jt){var fr=At.alternate,Er=fr!==null&&fr.memoizedState!==null||mi;fr=Pl;var kr=mi;if(Pl=Jt,(mi=Er)&&!kr)for(hn=At;hn!==null;)Jt=hn,Er=Jt.child,Jt.tag===22&&Jt.memoizedState!==null?yf(At):Er!==null?(Er.return=Jt,hn=Er):yf(At);for(;Ct!==null;)hn=Ct,pf(Ct),Ct=Ct.sibling;hn=At,Pl=fr,mi=kr}hf(Ce)}else(At.subtreeFlags&8772)!==0&&Ct!==null?(Ct.return=At,hn=Ct):hf(Ce)}}function hf(Ce){for(;hn!==null;){var Ne=hn;if((Ne.flags&8772)!==0){var et=Ne.alternate;try{if((Ne.flags&8772)!==0)switch(Ne.tag){case 0:case 11:case 15:mi||Il(5,Ne);break;case 1:var yt=Ne.stateNode;if(Ne.flags&4&&!mi)if(et===null)yt.componentDidMount();else{var At=Ne.elementType===Ne.type?et.memoizedProps:Zi(Ne.type,et.memoizedProps);yt.componentDidUpdate(At,et.memoizedState,yt.__reactInternalSnapshotBeforeUpdate)}var Ct=Ne.updateQueue;Ct!==null&&hd(Ne,Ct,yt);break;case 3:var Jt=Ne.updateQueue;if(Jt!==null){if(et=null,Ne.child!==null)switch(Ne.child.tag){case 5:et=Ne.child.stateNode;break;case 1:et=Ne.child.stateNode}hd(Ne,Jt,et)}break;case 5:var fr=Ne.stateNode;if(et===null&&Ne.flags&4){et=fr;var Er=Ne.memoizedProps;switch(Ne.type){case"button":case"input":case"select":case"textarea":Er.autoFocus&&et.focus();break;case"img":Er.src&&(et.src=Er.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(Ne.memoizedState===null){var kr=Ne.alternate;if(kr!==null){var Xr=kr.memoizedState;if(Xr!==null){var en=Xr.dehydrated;en!==null&&Ji(en)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}mi||Ne.flags&512&&tu(Ne)}catch(Jr){Gn(Ne,Ne.return,Jr)}}if(Ne===Ce){hn=null;break}if(et=Ne.sibling,et!==null){et.return=Ne.return,hn=et;break}hn=Ne.return}}function mf(Ce){for(;hn!==null;){var Ne=hn;if(Ne===Ce){hn=null;break}var et=Ne.sibling;if(et!==null){et.return=Ne.return,hn=et;break}hn=Ne.return}}function yf(Ce){for(;hn!==null;){var Ne=hn;try{switch(Ne.tag){case 0:case 11:case 15:var et=Ne.return;try{Il(4,Ne)}catch(Er){Gn(Ne,et,Er)}break;case 1:var yt=Ne.stateNode;if(typeof yt.componentDidMount=="function"){var At=Ne.return;try{yt.componentDidMount()}catch(Er){Gn(Ne,At,Er)}}var Ct=Ne.return;try{tu(Ne)}catch(Er){Gn(Ne,Ct,Er)}break;case 5:var Jt=Ne.return;try{tu(Ne)}catch(Er){Gn(Ne,Jt,Er)}}}catch(Er){Gn(Ne,Ne.return,Er)}if(Ne===Ce){hn=null;break}var fr=Ne.sibling;if(fr!==null){fr.return=Ne.return,hn=fr;break}hn=Ne.return}}var Ip=Math.ceil,xl=He.ReactCurrentDispatcher,iu=He.ReactCurrentOwner,qi=He.ReactCurrentBatchConfig,Nn=0,oi=null,Qn=null,ui=0,Mi=0,Za=Lo(0),ri=0,Ds=null,ga=0,Cl=0,ou=0,ks=null,Si=null,au=0,es=1/0,Io=null,Dl=!1,su=null,Ko=null,kl=!1,Wo=null,Ol=0,Os=0,lu=null,Ml=-1,Nl=0;function vi(){return(Nn&6)!==0?Hr():Ml!==-1?Ml:Ml=Hr()}function Ho(Ce){return(Ce.mode&1)===0?1:(Nn&2)!==0&&ui!==0?ui&-ui:fp.transition!==null?(Nl===0&&(Nl=Zr()),Nl):(Ce=$n,Ce!==0||(Ce=window.event,Ce=Ce===void 0?16:as(Ce.type)),Ce)}function ro(Ce,Ne,et,yt){if(50<Os)throw Os=0,lu=null,Error(I(185));wn(Ce,et,yt),((Nn&2)===0||Ce!==oi)&&(Ce===oi&&((Nn&2)===0&&(Cl|=et),ri===4&&zo(Ce,ui)),Ai(Ce,yt),et===1&&Nn===0&&(Ne.mode&1)===0&&(es=Hr()+500,cl&&jo()))}function Ai(Ce,Ne){var et=Ce.callbackNode;Vr(Ce,Ne);var yt=jr(Ce,Ce===oi?ui:0);if(yt===0)et!==null&&Rr(et),Ce.callbackNode=null,Ce.callbackPriority=0;else if(Ne=yt&-yt,Ce.callbackPriority!==Ne){if(et!=null&&Rr(et),Ne===1)Ce.tag===0?dp(vf.bind(null,Ce)):td(vf.bind(null,Ce)),sp(function(){(Nn&6)===0&&jo()}),et=null;else{switch(On(yt)){case 1:et=cn;break;case 4:et=Rn;break;case 16:et=gn;break;case 536870912:et=_n;break;default:et=gn}et=Rf(et,gf.bind(null,Ce))}Ce.callbackPriority=Ne,Ce.callbackNode=et}}function gf(Ce,Ne){if(Ml=-1,Nl=0,(Nn&6)!==0)throw Error(I(327));var et=Ce.callbackNode;if(ts()&&Ce.callbackNode!==et)return null;var yt=jr(Ce,Ce===oi?ui:0);if(yt===0)return null;if((yt&30)!==0||(yt&Ce.expiredLanes)!==0||Ne)Ne=Bl(Ce,yt);else{Ne=yt;var At=Nn;Nn|=2;var Ct=bf();(oi!==Ce||ui!==Ne)&&(Io=null,es=Hr()+500,_a(Ce,Ne));do try{Dp();break}catch(fr){_f(Ce,fr)}while(!0);Rc(),xl.current=Ct,Nn=At,Qn!==null?Ne=0:(oi=null,ui=0,Ne=ri)}if(Ne!==0){if(Ne===2&&(At=Gr(Ce),At!==0&&(yt=At,Ne=cu(Ce,At))),Ne===1)throw et=Ds,_a(Ce,0),zo(Ce,yt),Ai(Ce,Hr()),et;if(Ne===6)zo(Ce,yt);else{if(At=Ce.current.alternate,(yt&30)===0&&!xp(At)&&(Ne=Bl(Ce,yt),Ne===2&&(Ct=Gr(Ce),Ct!==0&&(yt=Ct,Ne=cu(Ce,Ct))),Ne===1))throw et=Ds,_a(Ce,0),zo(Ce,yt),Ai(Ce,Hr()),et;switch(Ce.finishedWork=At,Ce.finishedLanes=yt,Ne){case 0:case 1:throw Error(I(345));case 2:ba(Ce,Si,Io);break;case 3:if(zo(Ce,yt),(yt&130023424)===yt&&(Ne=au+500-Hr(),10<Ne)){if(jr(Ce,0)!==0)break;if(At=Ce.suspendedLanes,(At&yt)!==yt){vi(),Ce.pingedLanes|=Ce.suspendedLanes&At;break}Ce.timeoutHandle=hc(ba.bind(null,Ce,Si,Io),Ne);break}ba(Ce,Si,Io);break;case 4:if(zo(Ce,yt),(yt&4194240)===yt)break;for(Ne=Ce.eventTimes,At=-1;0<yt;){var Jt=31-In(yt);Ct=1<<Jt,Jt=Ne[Jt],Jt>At&&(At=Jt),yt&=~Ct}if(yt=At,yt=Hr()-yt,yt=(120>yt?120:480>yt?480:1080>yt?1080:1920>yt?1920:3e3>yt?3e3:4320>yt?4320:1960*Ip(yt/1960))-yt,10<yt){Ce.timeoutHandle=hc(ba.bind(null,Ce,Si,Io),yt);break}ba(Ce,Si,Io);break;case 5:ba(Ce,Si,Io);break;default:throw Error(I(329))}}}return Ai(Ce,Hr()),Ce.callbackNode===et?gf.bind(null,Ce):null}function cu(Ce,Ne){var et=ks;return Ce.current.memoizedState.isDehydrated&&(_a(Ce,Ne).flags|=256),Ce=Bl(Ce,Ne),Ce!==2&&(Ne=Si,Si=et,Ne!==null&&uu(Ne)),Ce}function uu(Ce){Si===null?Si=Ce:Si.push.apply(Si,Ce)}function xp(Ce){for(var Ne=Ce;;){if(Ne.flags&16384){var et=Ne.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var yt=0;yt<et.length;yt++){var At=et[yt],Ct=At.getSnapshot;At=At.value;try{if(!Xi(Ct(),At))return!1}catch{return!1}}}if(et=Ne.child,Ne.subtreeFlags&16384&&et!==null)et.return=Ne,Ne=et;else{if(Ne===Ce)break;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===Ce)return!0;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}}return!0}function zo(Ce,Ne){for(Ne&=~ou,Ne&=~Cl,Ce.suspendedLanes|=Ne,Ce.pingedLanes&=~Ne,Ce=Ce.expirationTimes;0<Ne;){var et=31-In(Ne),yt=1<<et;Ce[et]=-1,Ne&=~yt}}function vf(Ce){if((Nn&6)!==0)throw Error(I(327));ts();var Ne=jr(Ce,0);if((Ne&1)===0)return Ai(Ce,Hr()),null;var et=Bl(Ce,Ne);if(Ce.tag!==0&&et===2){var yt=Gr(Ce);yt!==0&&(Ne=yt,et=cu(Ce,yt))}if(et===1)throw et=Ds,_a(Ce,0),zo(Ce,Ne),Ai(Ce,Hr()),et;if(et===6)throw Error(I(345));return Ce.finishedWork=Ce.current.alternate,Ce.finishedLanes=Ne,ba(Ce,Si,Io),Ai(Ce,Hr()),null}function du(Ce,Ne){var et=Nn;Nn|=1;try{return Ce(Ne)}finally{Nn=et,Nn===0&&(es=Hr()+500,cl&&jo())}}function va(Ce){Wo!==null&&Wo.tag===0&&(Nn&6)===0&&ts();var Ne=Nn;Nn|=1;var et=qi.transition,yt=$n;try{if(qi.transition=null,$n=1,Ce)return Ce()}finally{$n=yt,qi.transition=et,Nn=Ne,(Nn&6)===0&&jo()}}function fu(){Mi=Za.current,Un(Za)}function _a(Ce,Ne){Ce.finishedWork=null,Ce.finishedLanes=0;var et=Ce.timeoutHandle;if(et!==-1&&(Ce.timeoutHandle=-1,ap(et)),Qn!==null)for(et=Qn.return;et!==null;){var yt=et;switch($c(yt),yt.tag){case 1:yt=yt.type.childContextTypes,yt!=null&&al();break;case 3:Ya(),Un($i),Un(fi),Oc();break;case 5:Dc(yt);break;case 4:Ya();break;case 13:Un(Wn);break;case 19:Un(Wn);break;case 10:Tc(yt.type._context);break;case 22:case 23:fu()}et=et.return}if(oi=Ce,Qn=Ce=Go(Ce.current,null),ui=Mi=Ne,ri=0,Ds=null,ou=Cl=ga=0,Si=ks=null,ha!==null){for(Ne=0;Ne<ha.length;Ne++)if(et=ha[Ne],yt=et.interleaved,yt!==null){et.interleaved=null;var At=yt.next,Ct=et.pending;if(Ct!==null){var Jt=Ct.next;Ct.next=At,yt.next=Jt}et.pending=yt}ha=null}return Ce}function _f(Ce,Ne){do{var et=Qn;try{if(Rc(),bl.current=Sl,$l){for(var yt=Hn.memoizedState;yt!==null;){var At=yt.queue;At!==null&&(At.pending=null),yt=yt.next}$l=!1}if(ya=0,ii=ti=Hn=null,Rs=!1,Ts=0,iu.current=null,et===null||et.return===null){ri=1,Ds=Ne,Qn=null;break}e:{var Ct=Ce,Jt=et.return,fr=et,Er=Ne;if(Ne=ui,fr.flags|=32768,Er!==null&&typeof Er=="object"&&typeof Er.then=="function"){var kr=Er,Xr=fr,en=Xr.tag;if((Xr.mode&1)===0&&(en===0||en===11||en===15)){var Jr=Xr.alternate;Jr?(Xr.updateQueue=Jr.updateQueue,Xr.memoizedState=Jr.memoizedState,Xr.lanes=Jr.lanes):(Xr.updateQueue=null,Xr.memoizedState=null)}var dn=qd(Jt);if(dn!==null){dn.flags&=-257,Kd(dn,Jt,fr,Ct,Ne),dn.mode&1&&Vd(Ct,kr,Ne),Ne=dn,Er=kr;var mn=Ne.updateQueue;if(mn===null){var En=new Set;En.add(Er),Ne.updateQueue=En}else mn.add(Er);break e}else{if((Ne&1)===0){Vd(Ct,kr,Ne),pu();break e}Er=Error(I(426))}}else if(Kn&&fr.mode&1){var Yn=qd(Jt);if(Yn!==null){(Yn.flags&65536)===0&&(Yn.flags|=256),Kd(Yn,Jt,fr,Ct,Ne),Sc(Xa(Er,fr));break e}}Ct=Er=Xa(Er,fr),ri!==4&&(ri=2),ks===null?ks=[Ct]:ks.push(Ct),Ct=Jt;do{switch(Ct.tag){case 3:Ct.flags|=65536,Ne&=-Ne,Ct.lanes|=Ne;var Ir=jd(Ct,Er,Ne);pd(Ct,Ir);break e;case 1:fr=Er;var Ar=Ct.type,Cr=Ct.stateNode;if((Ct.flags&128)===0&&(typeof Ar.getDerivedStateFromError=="function"||Cr!==null&&typeof Cr.componentDidCatch=="function"&&(Ko===null||!Ko.has(Cr)))){Ct.flags|=65536,Ne&=-Ne,Ct.lanes|=Ne;var nn=Ud(Ct,fr,Ne);pd(Ct,nn);break e}}Ct=Ct.return}while(Ct!==null)}Ef(et)}catch(Sn){Ne=Sn,Qn===et&&et!==null&&(Qn=et=et.return);continue}break}while(!0)}function bf(){var Ce=xl.current;return xl.current=Sl,Ce===null?Sl:Ce}function pu(){(ri===0||ri===3||ri===2)&&(ri=4),oi===null||(ga&268435455)===0&&(Cl&268435455)===0||zo(oi,ui)}function Bl(Ce,Ne){var et=Nn;Nn|=2;var yt=bf();(oi!==Ce||ui!==Ne)&&(Io=null,_a(Ce,Ne));do try{Cp();break}catch(At){_f(Ce,At)}while(!0);if(Rc(),Nn=et,xl.current=yt,Qn!==null)throw Error(I(261));return oi=null,ui=0,ri}function Cp(){for(;Qn!==null;)$f(Qn)}function Dp(){for(;Qn!==null&&!Or();)$f(Qn)}function $f(Ce){var Ne=Af(Ce.alternate,Ce,Mi);Ce.memoizedProps=Ce.pendingProps,Ne===null?Ef(Ce):Qn=Ne,iu.current=null}function Ef(Ce){var Ne=Ce;do{var et=Ne.alternate;if(Ce=Ne.return,(Ne.flags&32768)===0){if(et=Sp(et,Ne,Mi),et!==null){Qn=et;return}}else{if(et=Ap(et,Ne),et!==null){et.flags&=32767,Qn=et;return}if(Ce!==null)Ce.flags|=32768,Ce.subtreeFlags=0,Ce.deletions=null;else{ri=6,Qn=null;return}}if(Ne=Ne.sibling,Ne!==null){Qn=Ne;return}Qn=Ne=Ce}while(Ne!==null);ri===0&&(ri=5)}function ba(Ce,Ne,et){var yt=$n,At=qi.transition;try{qi.transition=null,$n=1,kp(Ce,Ne,et,yt)}finally{qi.transition=At,$n=yt}return null}function kp(Ce,Ne,et,yt){do ts();while(Wo!==null);if((Nn&6)!==0)throw Error(I(327));et=Ce.finishedWork;var At=Ce.finishedLanes;if(et===null)return null;if(Ce.finishedWork=null,Ce.finishedLanes=0,et===Ce.current)throw Error(I(177));Ce.callbackNode=null,Ce.callbackPriority=0;var Ct=et.lanes|et.childLanes;if(fn(Ce,Ct),Ce===oi&&(Qn=oi=null,ui=0),(et.subtreeFlags&2064)===0&&(et.flags&2064)===0||kl||(kl=!0,Rf(gn,function(){return ts(),null})),Ct=(et.flags&15990)!==0,(et.subtreeFlags&15990)!==0||Ct){Ct=qi.transition,qi.transition=null;var Jt=$n;$n=1;var fr=Nn;Nn|=4,iu.current=null,Tp(Ce,et),ff(et,Ce),Zf(fc),Oo=!!dc,fc=dc=null,Ce.current=et,Pp(et),Fr(),Nn=fr,$n=Jt,qi.transition=Ct}else Ce.current=et;if(kl&&(kl=!1,Wo=Ce,Ol=At),Ct=Ce.pendingLanes,Ct===0&&(Ko=null),Dn(et.stateNode),Ai(Ce,Hr()),Ne!==null)for(yt=Ce.onRecoverableError,et=0;et<Ne.length;et++)At=Ne[et],yt(At.value,{componentStack:At.stack,digest:At.digest});if(Dl)throw Dl=!1,Ce=su,su=null,Ce;return(Ol&1)!==0&&Ce.tag!==0&&ts(),Ct=Ce.pendingLanes,(Ct&1)!==0?Ce===lu?Os++:(Os=0,lu=Ce):Os=0,jo(),null}function ts(){if(Wo!==null){var Ce=On(Ol),Ne=qi.transition,et=$n;try{if(qi.transition=null,$n=16>Ce?16:Ce,Wo===null)var yt=!1;else{if(Ce=Wo,Wo=null,Ol=0,(Nn&6)!==0)throw Error(I(331));var At=Nn;for(Nn|=4,hn=Ce.current;hn!==null;){var Ct=hn,Jt=Ct.child;if((hn.flags&16)!==0){var fr=Ct.deletions;if(fr!==null){for(var Er=0;Er<fr.length;Er++){var kr=fr[Er];for(hn=kr;hn!==null;){var Xr=hn;switch(Xr.tag){case 0:case 11:case 15:Cs(8,Xr,Ct)}var en=Xr.child;if(en!==null)en.return=Xr,hn=en;else for(;hn!==null;){Xr=hn;var Jr=Xr.sibling,dn=Xr.return;if(sf(Xr),Xr===kr){hn=null;break}if(Jr!==null){Jr.return=dn,hn=Jr;break}hn=dn}}}var mn=Ct.alternate;if(mn!==null){var En=mn.child;if(En!==null){mn.child=null;do{var Yn=En.sibling;En.sibling=null,En=Yn}while(En!==null)}}hn=Ct}}if((Ct.subtreeFlags&2064)!==0&&Jt!==null)Jt.return=Ct,hn=Jt;else e:for(;hn!==null;){if(Ct=hn,(Ct.flags&2048)!==0)switch(Ct.tag){case 0:case 11:case 15:Cs(9,Ct,Ct.return)}var Ir=Ct.sibling;if(Ir!==null){Ir.return=Ct.return,hn=Ir;break e}hn=Ct.return}}var Ar=Ce.current;for(hn=Ar;hn!==null;){Jt=hn;var Cr=Jt.child;if((Jt.subtreeFlags&2064)!==0&&Cr!==null)Cr.return=Jt,hn=Cr;else e:for(Jt=Ar;hn!==null;){if(fr=hn,(fr.flags&2048)!==0)try{switch(fr.tag){case 0:case 11:case 15:Il(9,fr)}}catch(Sn){Gn(fr,fr.return,Sn)}if(fr===Jt){hn=null;break e}var nn=fr.sibling;if(nn!==null){nn.return=fr.return,hn=nn;break e}hn=fr.return}}if(Nn=At,jo(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(kn,Ce)}catch{}yt=!0}return yt}finally{$n=et,qi.transition=Ne}}return!1}function wf(Ce,Ne,et){Ne=Xa(et,Ne),Ne=jd(Ce,Ne,1),Ce=Vo(Ce,Ne,1),Ne=vi(),Ce!==null&&(wn(Ce,1,Ne),Ai(Ce,Ne))}function Gn(Ce,Ne,et){if(Ce.tag===3)wf(Ce,Ce,et);else for(;Ne!==null;){if(Ne.tag===3){wf(Ne,Ce,et);break}else if(Ne.tag===1){var yt=Ne.stateNode;if(typeof Ne.type.getDerivedStateFromError=="function"||typeof yt.componentDidCatch=="function"&&(Ko===null||!Ko.has(yt))){Ce=Xa(et,Ce),Ce=Ud(Ne,Ce,1),Ne=Vo(Ne,Ce,1),Ce=vi(),Ne!==null&&(wn(Ne,1,Ce),Ai(Ne,Ce));break}}Ne=Ne.return}}function Op(Ce,Ne,et){var yt=Ce.pingCache;yt!==null&&yt.delete(Ne),Ne=vi(),Ce.pingedLanes|=Ce.suspendedLanes&et,oi===Ce&&(ui&et)===et&&(ri===4||ri===3&&(ui&130023424)===ui&&500>Hr()-au?_a(Ce,0):ou|=et),Ai(Ce,Ne)}function Sf(Ce,Ne){Ne===0&&((Ce.mode&1)===0?Ne=1:(Ne=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var et=vi();Ce=Ro(Ce,Ne),Ce!==null&&(wn(Ce,Ne,et),Ai(Ce,et))}function Mp(Ce){var Ne=Ce.memoizedState,et=0;Ne!==null&&(et=Ne.retryLane),Sf(Ce,et)}function Np(Ce,Ne){var et=0;switch(Ce.tag){case 13:var yt=Ce.stateNode,At=Ce.memoizedState;At!==null&&(et=At.retryLane);break;case 19:yt=Ce.stateNode;break;default:throw Error(I(314))}yt!==null&&yt.delete(Ne),Sf(Ce,et)}var Af;Af=function(Ce,Ne,et){if(Ce!==null)if(Ce.memoizedProps!==Ne.pendingProps||$i.current)wi=!0;else{if((Ce.lanes&et)===0&&(Ne.flags&128)===0)return wi=!1,wp(Ce,Ne,et);wi=(Ce.flags&131072)!==0}else wi=!1,Kn&&(Ne.flags&1048576)!==0&&rd(Ne,dl,Ne.index);switch(Ne.lanes=0,Ne.tag){case 2:var yt=Ne.type;Tl(Ce,Ne),Ce=Ne.pendingProps;var At=qa(Ne,fi.current);Ja(Ne,et),At=Bc(null,Ne,yt,Ce,At,et);var Ct=Lc();return Ne.flags|=1,typeof At=="object"&&At!==null&&typeof At.render=="function"&&At.$$typeof===void 0?(Ne.tag=1,Ne.memoizedState=null,Ne.updateQueue=null,Ei(yt)?(Ct=!0,ll(Ne)):Ct=!1,Ne.memoizedState=At.state!==null&&At.state!==void 0?At.state:null,xc(Ne),At.updater=Al,Ne.stateNode=At,At._reactInternals=Ne,Kc(Ne,yt,Ce,et),Ne=Gc(null,Ne,yt,!0,Ct,et)):(Ne.tag=0,Kn&&Ct&&bc(Ne),gi(null,Ne,At,et),Ne=Ne.child),Ne;case 16:yt=Ne.elementType;e:{switch(Tl(Ce,Ne),Ce=Ne.pendingProps,At=yt._init,yt=At(yt._payload),Ne.type=yt,At=Ne.tag=Lp(yt),Ce=Zi(yt,Ce),At){case 0:Ne=zc(null,Ne,yt,Ce,et);break e;case 1:Ne=Yd(null,Ne,yt,Ce,et);break e;case 11:Ne=Wd(null,Ne,yt,Ce,et);break e;case 14:Ne=Hd(null,Ne,yt,Zi(yt.type,Ce),et);break e}throw Error(I(306,yt,""))}return Ne;case 0:return yt=Ne.type,At=Ne.pendingProps,At=Ne.elementType===yt?At:Zi(yt,At),zc(Ce,Ne,yt,At,et);case 1:return yt=Ne.type,At=Ne.pendingProps,At=Ne.elementType===yt?At:Zi(yt,At),Yd(Ce,Ne,yt,At,et);case 3:e:{if(Xd(Ne),Ce===null)throw Error(I(387));yt=Ne.pendingProps,Ct=Ne.memoizedState,At=Ct.element,fd(Ce,Ne),vl(Ne,yt,null,et);var Jt=Ne.memoizedState;if(yt=Jt.element,Ct.isDehydrated)if(Ct={element:yt,isDehydrated:!1,cache:Jt.cache,pendingSuspenseBoundaries:Jt.pendingSuspenseBoundaries,transitions:Jt.transitions},Ne.updateQueue.baseState=Ct,Ne.memoizedState=Ct,Ne.flags&256){At=Xa(Error(I(423)),Ne),Ne=Qd(Ce,Ne,yt,et,At);break e}else if(yt!==At){At=Xa(Error(I(424)),Ne),Ne=Qd(Ce,Ne,yt,et,At);break e}else for(Oi=Bo(Ne.stateNode.containerInfo.firstChild),ki=Ne,Kn=!0,Qi=null,et=ud(Ne,null,yt,et),Ne.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ha(),yt===At){Ne=Po(Ce,Ne,et);break e}gi(Ce,Ne,yt,et)}Ne=Ne.child}return Ne;case 5:return md(Ne),Ce===null&&wc(Ne),yt=Ne.type,At=Ne.pendingProps,Ct=Ce!==null?Ce.memoizedProps:null,Jt=At.children,pc(yt,At)?Jt=null:Ct!==null&&pc(yt,Ct)&&(Ne.flags|=32),Jd(Ce,Ne),gi(Ce,Ne,Jt,et),Ne.child;case 6:return Ce===null&&wc(Ne),null;case 13:return Zd(Ce,Ne,et);case 4:return Cc(Ne,Ne.stateNode.containerInfo),yt=Ne.pendingProps,Ce===null?Ne.child=za(Ne,null,yt,et):gi(Ce,Ne,yt,et),Ne.child;case 11:return yt=Ne.type,At=Ne.pendingProps,At=Ne.elementType===yt?At:Zi(yt,At),Wd(Ce,Ne,yt,At,et);case 7:return gi(Ce,Ne,Ne.pendingProps,et),Ne.child;case 8:return gi(Ce,Ne,Ne.pendingProps.children,et),Ne.child;case 12:return gi(Ce,Ne,Ne.pendingProps.children,et),Ne.child;case 10:e:{if(yt=Ne.type._context,At=Ne.pendingProps,Ct=Ne.memoizedProps,Jt=At.value,Fn(ml,yt._currentValue),yt._currentValue=Jt,Ct!==null)if(Xi(Ct.value,Jt)){if(Ct.children===At.children&&!$i.current){Ne=Po(Ce,Ne,et);break e}}else for(Ct=Ne.child,Ct!==null&&(Ct.return=Ne);Ct!==null;){var fr=Ct.dependencies;if(fr!==null){Jt=Ct.child;for(var Er=fr.firstContext;Er!==null;){if(Er.context===yt){if(Ct.tag===1){Er=To(-1,et&-et),Er.tag=2;var kr=Ct.updateQueue;if(kr!==null){kr=kr.shared;var Xr=kr.pending;Xr===null?Er.next=Er:(Er.next=Xr.next,Xr.next=Er),kr.pending=Er}}Ct.lanes|=et,Er=Ct.alternate,Er!==null&&(Er.lanes|=et),Pc(Ct.return,et,Ne),fr.lanes|=et;break}Er=Er.next}}else if(Ct.tag===10)Jt=Ct.type===Ne.type?null:Ct.child;else if(Ct.tag===18){if(Jt=Ct.return,Jt===null)throw Error(I(341));Jt.lanes|=et,fr=Jt.alternate,fr!==null&&(fr.lanes|=et),Pc(Jt,et,Ne),Jt=Ct.sibling}else Jt=Ct.child;if(Jt!==null)Jt.return=Ct;else for(Jt=Ct;Jt!==null;){if(Jt===Ne){Jt=null;break}if(Ct=Jt.sibling,Ct!==null){Ct.return=Jt.return,Jt=Ct;break}Jt=Jt.return}Ct=Jt}gi(Ce,Ne,At.children,et),Ne=Ne.child}return Ne;case 9:return At=Ne.type,yt=Ne.pendingProps.children,Ja(Ne,et),At=Ui(At),yt=yt(At),Ne.flags|=1,gi(Ce,Ne,yt,et),Ne.child;case 14:return yt=Ne.type,At=Zi(yt,Ne.pendingProps),At=Zi(yt.type,At),Hd(Ce,Ne,yt,At,et);case 15:return zd(Ce,Ne,Ne.type,Ne.pendingProps,et);case 17:return yt=Ne.type,At=Ne.pendingProps,At=Ne.elementType===yt?At:Zi(yt,At),Tl(Ce,Ne),Ne.tag=1,Ei(yt)?(Ce=!0,ll(Ne)):Ce=!1,Ja(Ne,et),Ld(Ne,yt,At),Kc(Ne,yt,At,et),Gc(null,Ne,yt,!0,Ce,et);case 19:return tf(Ce,Ne,et);case 22:return Gd(Ce,Ne,et)}throw Error(I(156,Ne.tag))};function Rf(Ce,Ne){return er(Ce,Ne)}function Bp(Ce,Ne,et,yt){this.tag=Ce,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ne,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=yt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(Ce,Ne,et,yt){return new Bp(Ce,Ne,et,yt)}function hu(Ce){return Ce=Ce.prototype,!(!Ce||!Ce.isReactComponent)}function Lp(Ce){if(typeof Ce=="function")return hu(Ce)?1:0;if(Ce!=null){if(Ce=Ce.$$typeof,Ce===ze)return 11;if(Ce===Ue)return 14}return 2}function Go(Ce,Ne){var et=Ce.alternate;return et===null?(et=Ki(Ce.tag,Ne,Ce.key,Ce.mode),et.elementType=Ce.elementType,et.type=Ce.type,et.stateNode=Ce.stateNode,et.alternate=Ce,Ce.alternate=et):(et.pendingProps=Ne,et.type=Ce.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=Ce.flags&14680064,et.childLanes=Ce.childLanes,et.lanes=Ce.lanes,et.child=Ce.child,et.memoizedProps=Ce.memoizedProps,et.memoizedState=Ce.memoizedState,et.updateQueue=Ce.updateQueue,Ne=Ce.dependencies,et.dependencies=Ne===null?null:{lanes:Ne.lanes,firstContext:Ne.firstContext},et.sibling=Ce.sibling,et.index=Ce.index,et.ref=Ce.ref,et}function Ll(Ce,Ne,et,yt,At,Ct){var Jt=2;if(yt=Ce,typeof Ce=="function")hu(Ce)&&(Jt=1);else if(typeof Ce=="string")Jt=5;else e:switch(Ce){case ot:return $a(et.children,At,Ct,Ne);case Ye:Jt=8,At|=8;break;case nt:return Ce=Ki(12,et,Ne,At|2),Ce.elementType=nt,Ce.lanes=Ct,Ce;case Fe:return Ce=Ki(13,et,Ne,At),Ce.elementType=Fe,Ce.lanes=Ct,Ce;case ke:return Ce=Ki(19,et,Ne,At),Ce.elementType=ke,Ce.lanes=Ct,Ce;case rt:return Fl(et,At,Ct,Ne);default:if(typeof Ce=="object"&&Ce!==null)switch(Ce.$$typeof){case Qe:Jt=10;break e;case tt:Jt=9;break e;case ze:Jt=11;break e;case Ue:Jt=14;break e;case Je:Jt=16,yt=null;break e}throw Error(I(130,Ce==null?Ce:typeof Ce,""))}return Ne=Ki(Jt,et,Ne,At),Ne.elementType=Ce,Ne.type=yt,Ne.lanes=Ct,Ne}function $a(Ce,Ne,et,yt){return Ce=Ki(7,Ce,yt,Ne),Ce.lanes=et,Ce}function Fl(Ce,Ne,et,yt){return Ce=Ki(22,Ce,yt,Ne),Ce.elementType=rt,Ce.lanes=et,Ce.stateNode={isHidden:!1},Ce}function mu(Ce,Ne,et){return Ce=Ki(6,Ce,null,Ne),Ce.lanes=et,Ce}function yu(Ce,Ne,et){return Ne=Ki(4,Ce.children!==null?Ce.children:[],Ce.key,Ne),Ne.lanes=et,Ne.stateNode={containerInfo:Ce.containerInfo,pendingChildren:null,implementation:Ce.implementation},Ne}function jp(Ce,Ne,et,yt,At){this.tag=Ne,this.containerInfo=Ce,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=un(0),this.expirationTimes=un(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.identifierPrefix=yt,this.onRecoverableError=At,this.mutableSourceEagerHydrationData=null}function gu(Ce,Ne,et,yt,At,Ct,Jt,fr,Er){return Ce=new jp(Ce,Ne,et,fr,Er),Ne===1?(Ne=1,Ct===!0&&(Ne|=8)):Ne=0,Ct=Ki(3,null,null,Ne),Ce.current=Ct,Ct.stateNode=Ce,Ct.memoizedState={element:yt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(Ct),Ce}function Up(Ce,Ne,et){var yt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:at,key:yt==null?null:""+yt,children:Ce,containerInfo:Ne,implementation:et}}function Tf(Ce){if(!Ce)return Fo;Ce=Ce._reactInternals;e:{if(on(Ce)!==Ce||Ce.tag!==1)throw Error(I(170));var Ne=Ce;do{switch(Ne.tag){case 3:Ne=Ne.stateNode.context;break e;case 1:if(Ei(Ne.type)){Ne=Ne.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Ne=Ne.return}while(Ne!==null);throw Error(I(171))}if(Ce.tag===1){var et=Ce.type;if(Ei(et))return Zu(Ce,et,Ne)}return Ne}function Pf(Ce,Ne,et,yt,At,Ct,Jt,fr,Er){return Ce=gu(et,yt,!0,Ce,At,Ct,Jt,fr,Er),Ce.context=Tf(null),et=Ce.current,yt=vi(),At=Ho(et),Ct=To(yt,At),Ct.callback=Ne??null,Vo(et,Ct,At),Ce.current.lanes=At,wn(Ce,At,yt),Ai(Ce,yt),Ce}function jl(Ce,Ne,et,yt){var At=Ne.current,Ct=vi(),Jt=Ho(At);return et=Tf(et),Ne.context===null?Ne.context=et:Ne.pendingContext=et,Ne=To(Ct,Jt),Ne.payload={element:Ce},yt=yt===void 0?null:yt,yt!==null&&(Ne.callback=yt),Ce=Vo(At,Ne,Jt),Ce!==null&&(ro(Ce,At,Jt,Ct),gl(Ce,At,Jt)),Jt}function Ul(Ce){if(Ce=Ce.current,!Ce.child)return null;switch(Ce.child.tag){case 5:return Ce.child.stateNode;default:return Ce.child.stateNode}}function If(Ce,Ne){if(Ce=Ce.memoizedState,Ce!==null&&Ce.dehydrated!==null){var et=Ce.retryLane;Ce.retryLane=et!==0&&et<Ne?et:Ne}}function vu(Ce,Ne){If(Ce,Ne),(Ce=Ce.alternate)&&If(Ce,Ne)}function Vp(){return null}var xf=typeof reportError=="function"?reportError:function(Ce){console.error(Ce)};function _u(Ce){this._internalRoot=Ce}Vl.prototype.render=_u.prototype.render=function(Ce){var Ne=this._internalRoot;if(Ne===null)throw Error(I(409));jl(Ce,Ne,null,null)},Vl.prototype.unmount=_u.prototype.unmount=function(){var Ce=this._internalRoot;if(Ce!==null){this._internalRoot=null;var Ne=Ce.containerInfo;va(function(){jl(null,Ce,null,null)}),Ne[Eo]=null}};function Vl(Ce){this._internalRoot=Ce}Vl.prototype.unstable_scheduleHydration=function(Ce){if(Ce){var Ne=Hi();Ce={blockedOn:null,target:Ce,priority:Ne};for(var et=0;et<no.length&&Ne!==0&&Ne<no[et].priority;et++);no.splice(et,0,Ce),et===0&&qs(Ce)}};function bu(Ce){return!(!Ce||Ce.nodeType!==1&&Ce.nodeType!==9&&Ce.nodeType!==11)}function ql(Ce){return!(!Ce||Ce.nodeType!==1&&Ce.nodeType!==9&&Ce.nodeType!==11&&(Ce.nodeType!==8||Ce.nodeValue!==" react-mount-point-unstable "))}function Cf(){}function qp(Ce,Ne,et,yt,At){if(At){if(typeof yt=="function"){var Ct=yt;yt=function(){var kr=Ul(Jt);Ct.call(kr)}}var Jt=Pf(Ne,yt,Ce,0,null,!1,!1,"",Cf);return Ce._reactRootContainer=Jt,Ce[Eo]=Jt.current,gs(Ce.nodeType===8?Ce.parentNode:Ce),va(),Jt}for(;At=Ce.lastChild;)Ce.removeChild(At);if(typeof yt=="function"){var fr=yt;yt=function(){var kr=Ul(Er);fr.call(kr)}}var Er=gu(Ce,0,!1,null,null,!1,!1,"",Cf);return Ce._reactRootContainer=Er,Ce[Eo]=Er.current,gs(Ce.nodeType===8?Ce.parentNode:Ce),va(function(){jl(Ne,Er,et,yt)}),Er}function Kl(Ce,Ne,et,yt,At){var Ct=et._reactRootContainer;if(Ct){var Jt=Ct;if(typeof At=="function"){var fr=At;At=function(){var Er=Ul(Jt);fr.call(Er)}}jl(Ne,Jt,Ce,At)}else Jt=qp(et,Ne,Ce,At,yt);return Ul(Jt)}Vn=function(Ce){switch(Ce.tag){case 3:var Ne=Ce.stateNode;if(Ne.current.memoizedState.isDehydrated){var et=wr(Ne.pendingLanes);et!==0&&(xn(Ne,et|1),Ai(Ne,Hr()),(Nn&6)===0&&(es=Hr()+500,jo()))}break;case 13:va(function(){var yt=Ro(Ce,1);if(yt!==null){var At=vi();ro(yt,Ce,1,At)}}),vu(Ce,1)}},Jn=function(Ce){if(Ce.tag===13){var Ne=Ro(Ce,134217728);if(Ne!==null){var et=vi();ro(Ne,Ce,134217728,et)}vu(Ce,134217728)}},Wi=function(Ce){if(Ce.tag===13){var Ne=Ho(Ce),et=Ro(Ce,Ne);if(et!==null){var yt=vi();ro(et,Ce,Ne,yt)}vu(Ce,Ne)}},Hi=function(){return $n},Ni=function(Ce,Ne){var et=$n;try{return $n=Ce,Ne()}finally{$n=et}},Qr=function(Ce,Ne,et){switch(Ne){case"input":if(Ft(Ce,et),Ne=et.name,et.type==="radio"&&Ne!=null){for(et=Ce;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+Ne)+'][type="radio"]'),Ne=0;Ne<et.length;Ne++){var yt=et[Ne];if(yt!==Ce&&yt.form===Ce.form){var At=ol(yt);if(!At)throw Error(I(90));Mt(yt),Ft(yt,At)}}}break;case"textarea":pr(Ce,et);break;case"select":Ne=et.value,Ne!=null&&gr(Ce,!!et.multiple,Ne,!1)}},qt=du,Tt=va;var Kp={usingClientEntryPoint:!1,Events:[bs,Ua,ol,Pt,Wt,du]},Ms={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(Ce){return Ce=yn(Ce),Ce===null?null:Ce.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{kn=Wl.inject(Wp),An=Wl}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp,reactDom_production_min.createPortal=function(Ce,Ne){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(Ne))throw Error(I(200));return Up(Ce,Ne,null,et)},reactDom_production_min.createRoot=function(Ce,Ne){if(!bu(Ce))throw Error(I(299));var et=!1,yt="",At=xf;return Ne!=null&&(Ne.unstable_strictMode===!0&&(et=!0),Ne.identifierPrefix!==void 0&&(yt=Ne.identifierPrefix),Ne.onRecoverableError!==void 0&&(At=Ne.onRecoverableError)),Ne=gu(Ce,1,!1,null,null,et,!1,yt,At),Ce[Eo]=Ne.current,gs(Ce.nodeType===8?Ce.parentNode:Ce),new _u(Ne)},reactDom_production_min.findDOMNode=function(Ce){if(Ce==null)return null;if(Ce.nodeType===1)return Ce;var Ne=Ce._reactInternals;if(Ne===void 0)throw typeof Ce.render=="function"?Error(I(188)):(Ce=Object.keys(Ce).join(","),Error(I(268,Ce)));return Ce=yn(Ne),Ce=Ce===null?null:Ce.stateNode,Ce},reactDom_production_min.flushSync=function(Ce){return va(Ce)},reactDom_production_min.hydrate=function(Ce,Ne,et){if(!ql(Ne))throw Error(I(200));return Kl(null,Ce,Ne,!0,et)},reactDom_production_min.hydrateRoot=function(Ce,Ne,et){if(!bu(Ce))throw Error(I(405));var yt=et!=null&&et.hydratedSources||null,At=!1,Ct="",Jt=xf;if(et!=null&&(et.unstable_strictMode===!0&&(At=!0),et.identifierPrefix!==void 0&&(Ct=et.identifierPrefix),et.onRecoverableError!==void 0&&(Jt=et.onRecoverableError)),Ne=Pf(Ne,null,Ce,1,et??null,At,!1,Ct,Jt),Ce[Eo]=Ne.current,gs(Ce),yt)for(Ce=0;Ce<yt.length;Ce++)et=yt[Ce],At=et._getVersion,At=At(et._source),Ne.mutableSourceEagerHydrationData==null?Ne.mutableSourceEagerHydrationData=[et,At]:Ne.mutableSourceEagerHydrationData.push(et,At);return new Vl(Ne)},reactDom_production_min.render=function(Ce,Ne,et){if(!ql(Ne))throw Error(I(200));return Kl(null,Ce,Ne,!1,et)},reactDom_production_min.unmountComponentAtNode=function(Ce){if(!ql(Ce))throw Error(I(40));return Ce._reactRootContainer?(va(function(){Kl(null,null,Ce,!1,function(){Ce._reactRootContainer=null,Ce[Eo]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=du,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(Ce,Ne,et,yt){if(!ql(et))throw Error(I(200));if(Ce==null||Ce._reactInternals===void 0)throw Error(I(38));return Kl(Ce,Ne,et,!1,yt)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(T){console.error(T)}}checkDCE(),reactDom.exports=requireReactDom_production_min();var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$1(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var createRoot,m$2=ReactDOM$1;createRoot=m$2.createRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(T){for(var $=1;$<arguments.length;$++){var I=arguments[$];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(T[N]=I[N])}return T},_extends$3.apply(this,arguments)}var Action;(function(T){T.Pop="POP",T.Push="PUSH",T.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(T){T===void 0&&(T={});function $(L,B){let{pathname:H="/",search:z="",hash:Q=""}=parsePath(L.location.hash.substr(1));return!H.startsWith("/")&&!H.startsWith(".")&&(H="/"+H),createLocation("",{pathname:H,search:z,hash:Q},B.state&&B.state.usr||null,B.state&&B.state.key||"default")}function I(L,B){let H=L.document.querySelector("base"),z="";if(H&&H.getAttribute("href")){let Q=L.location.href,te=Q.indexOf("#");z=te===-1?Q:Q.slice(0,te)}return z+"#"+(typeof B=="string"?B:createPath(B))}function N(L,B){warning(L.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(B)+")")}return getUrlBasedHistory($,I,N,T)}function invariant(T,$){if(T===!1||T===null||typeof T>"u")throw new Error($)}function warning(T,$){if(!T){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(T,$){return{usr:T.state,key:T.key,idx:$}}function createLocation(T,$,I,N){return I===void 0&&(I=null),_extends$3({pathname:typeof T=="string"?T:T.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:I,key:$&&$.key||N||createKey()})}function createPath(T){let{pathname:$="/",search:I="",hash:N=""}=T;return I&&I!=="?"&&($+=I.charAt(0)==="?"?I:"?"+I),N&&N!=="#"&&($+=N.charAt(0)==="#"?N:"#"+N),$}function parsePath(T){let $={};if(T){let I=T.indexOf("#");I>=0&&($.hash=T.substr(I),T=T.substr(0,I));let N=T.indexOf("?");N>=0&&($.search=T.substr(N),T=T.substr(0,N)),T&&($.pathname=T)}return $}function getUrlBasedHistory(T,$,I,N){N===void 0&&(N={});let{window:L=document.defaultView,v5Compat:B=!1}=N,H=L.history,z=Action.Pop,Q=null,te=G();te==null&&(te=0,H.replaceState(_extends$3({},H.state,{idx:te}),""));function G(){return(H.state||{idx:null}).idx}function ie(){z=Action.Pop;let Be=G(),Ke=Be==null?null:Be-te;te=Be,Q&&Q({action:z,location:Me.location,delta:Ke})}function Re(Be,Ke){z=Action.Push;let Le=createLocation(Me.location,Be,Ke);I&&I(Le,Be),te=G()+1;let qe=getHistoryState(Le,te),He=Me.createHref(Le);try{H.pushState(qe,"",He)}catch(Ge){if(Ge instanceof DOMException&&Ge.name==="DataCloneError")throw Ge;L.location.assign(He)}B&&Q&&Q({action:z,location:Me.location,delta:1})}function $e(Be,Ke){z=Action.Replace;let Le=createLocation(Me.location,Be,Ke);I&&I(Le,Be),te=G();let qe=getHistoryState(Le,te),He=Me.createHref(Le);H.replaceState(qe,"",He),B&&Q&&Q({action:z,location:Me.location,delta:0})}function Pe(Be){let Ke=L.location.origin!=="null"?L.location.origin:L.location.href,Le=typeof Be=="string"?Be:createPath(Be);return Le=Le.replace(/ $/,"%20"),invariant(Ke,"No window.location.(origin|href) available to create URL for href: "+Le),new URL(Le,Ke)}let Me={get action(){return z},get location(){return T(L,H)},listen(Be){if(Q)throw new Error("A history only accepts one active listener");return L.addEventListener(PopStateEventType,ie),Q=Be,()=>{L.removeEventListener(PopStateEventType,ie),Q=null}},createHref(Be){return $(L,Be)},createURL:Pe,encodeLocation(Be){let Ke=Pe(Be);return{pathname:Ke.pathname,search:Ke.search,hash:Ke.hash}},push:Re,replace:$e,go(Be){return H.go(Be)}};return Me}var ResultType;(function(T){T.data="data",T.deferred="deferred",T.redirect="redirect",T.error="error"})(ResultType||(ResultType={}));function matchRoutes(T,$,I){return I===void 0&&(I="/"),matchRoutesImpl(T,$,I)}function matchRoutesImpl(T,$,I,N){let L=typeof $=="string"?parsePath($):$,B=stripBasename(L.pathname||"/",I);if(B==null)return null;let H=flattenRoutes(T);rankRouteBranches(H);let z=null;for(let Q=0;z==null&&Q<H.length;++Q){let te=decodePath(B);z=matchRouteBranch(H[Q],te)}return z}function flattenRoutes(T,$,I,N){$===void 0&&($=[]),I===void 0&&(I=[]),N===void 0&&(N="");let L=(B,H,z)=>{let Q={relativePath:z===void 0?B.path||"":z,caseSensitive:B.caseSensitive===!0,childrenIndex:H,route:B};Q.relativePath.startsWith("/")&&(invariant(Q.relativePath.startsWith(N),'Absolute route path "'+Q.relativePath+'" nested under path '+('"'+N+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Q.relativePath=Q.relativePath.slice(N.length));let te=joinPaths([N,Q.relativePath]),G=I.concat(Q);B.children&&B.children.length>0&&(invariant(B.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+te+'".')),flattenRoutes(B.children,$,G,te)),!(B.path==null&&!B.index)&&$.push({path:te,score:computeScore(te,B.index),routesMeta:G})};return T.forEach((B,H)=>{var z;if(B.path===""||!((z=B.path)!=null&&z.includes("?")))L(B,H);else for(let Q of explodeOptionalSegments(B.path))L(B,H,Q)}),$}function explodeOptionalSegments(T){let $=T.split("/");if($.length===0)return[];let[I,...N]=$,L=I.endsWith("?"),B=I.replace(/\?$/,"");if(N.length===0)return L?[B,""]:[B];let H=explodeOptionalSegments(N.join("/")),z=[];return z.push(...H.map(Q=>Q===""?B:[B,Q].join("/"))),L&&z.push(...H),z.map(Q=>T.startsWith("/")&&Q===""?"/":Q)}function rankRouteBranches(T){T.sort(($,I)=>$.score!==I.score?I.score-$.score:compareIndexes($.routesMeta.map(N=>N.childrenIndex),I.routesMeta.map(N=>N.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=T=>T==="*";function computeScore(T,$){let I=T.split("/"),N=I.length;return I.some(isSplat)&&(N+=splatPenalty),$&&(N+=indexRouteValue),I.filter(L=>!isSplat(L)).reduce((L,B)=>L+(paramRe.test(B)?dynamicSegmentValue:B===""?emptySegmentValue:staticSegmentValue),N)}function compareIndexes(T,$){return T.length===$.length&&T.slice(0,-1).every((N,L)=>N===$[L])?T[T.length-1]-$[$.length-1]:0}function matchRouteBranch(T,$,I){let{routesMeta:N}=T,L={},B="/",H=[];for(let z=0;z<N.length;++z){let Q=N[z],te=z===N.length-1,G=B==="/"?$:$.slice(B.length)||"/",ie=matchPath({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:te},G),Re=Q.route;if(!ie)return null;Object.assign(L,ie.params),H.push({params:L,pathname:joinPaths([B,ie.pathname]),pathnameBase:normalizePathname(joinPaths([B,ie.pathnameBase])),route:Re}),ie.pathnameBase!=="/"&&(B=joinPaths([B,ie.pathnameBase]))}return H}function matchPath(T,$){typeof T=="string"&&(T={path:T,caseSensitive:!1,end:!0});let[I,N]=compilePath(T.path,T.caseSensitive,T.end),L=$.match(I);if(!L)return null;let B=L[0],H=B.replace(/(.)\/+$/,"$1"),z=L.slice(1);return{params:N.reduce((te,G,ie)=>{let{paramName:Re,isOptional:$e}=G;if(Re==="*"){let Me=z[ie]||"";H=B.slice(0,B.length-Me.length).replace(/(.)\/+$/,"$1")}const Pe=z[ie];return $e&&!Pe?te[Re]=void 0:te[Re]=(Pe||"").replace(/%2F/g,"/"),te},{}),pathname:B,pathnameBase:H,pattern:T}}function compilePath(T,$,I){$===void 0&&($=!1),I===void 0&&(I=!0),warning(T==="*"||!T.endsWith("*")||T.endsWith("/*"),'Route path "'+T+'" will be treated as if it were '+('"'+T.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+T.replace(/\*$/,"/*")+'".'));let N=[],L="^"+T.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(H,z,Q)=>(N.push({paramName:z,isOptional:Q!=null}),Q?"/?([^\\/]+)?":"/([^\\/]+)"));return T.endsWith("*")?(N.push({paramName:"*"}),L+=T==="*"||T==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):I?L+="\\/*$":T!==""&&T!=="/"&&(L+="(?:(?=\\/|$))"),[new RegExp(L,$?void 0:"i"),N]}function decodePath(T){try{return T.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+T+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),T}}function stripBasename(T,$){if($==="/")return T;if(!T.toLowerCase().startsWith($.toLowerCase()))return null;let I=$.endsWith("/")?$.length-1:$.length,N=T.charAt(I);return N&&N!=="/"?null:T.slice(I)||"/"}function resolvePath(T,$){$===void 0&&($="/");let{pathname:I,search:N="",hash:L=""}=typeof T=="string"?parsePath(T):T;return{pathname:I?I.startsWith("/")?I:resolvePathname(I,$):$,search:normalizeSearch(N),hash:normalizeHash(L)}}function resolvePathname(T,$){let I=$.replace(/\/+$/,"").split("/");return T.split("/").forEach(L=>{L===".."?I.length>1&&I.pop():L!=="."&&I.push(L)}),I.length>1?I.join("/"):"/"}function getInvalidPathError(T,$,I,N){return"Cannot include a '"+T+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(N)+"].  Please separate it out to the ")+("`to."+I+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(T){return T.filter(($,I)=>I===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(T,$){let I=getPathContributingMatches(T);return $?I.map((N,L)=>L===I.length-1?N.pathname:N.pathnameBase):I.map(N=>N.pathnameBase)}function resolveTo(T,$,I,N){N===void 0&&(N=!1);let L;typeof T=="string"?L=parsePath(T):(L=_extends$3({},T),invariant(!L.pathname||!L.pathname.includes("?"),getInvalidPathError("?","pathname","search",L)),invariant(!L.pathname||!L.pathname.includes("#"),getInvalidPathError("#","pathname","hash",L)),invariant(!L.search||!L.search.includes("#"),getInvalidPathError("#","search","hash",L)));let B=T===""||L.pathname==="",H=B?"/":L.pathname,z;if(H==null)z=I;else{let ie=$.length-1;if(!N&&H.startsWith("..")){let Re=H.split("/");for(;Re[0]==="..";)Re.shift(),ie-=1;L.pathname=Re.join("/")}z=ie>=0?$[ie]:"/"}let Q=resolvePath(L,z),te=H&&H!=="/"&&H.endsWith("/"),G=(B||H===".")&&I.endsWith("/");return!Q.pathname.endsWith("/")&&(te||G)&&(Q.pathname+="/"),Q}const joinPaths=T=>T.join("/").replace(/\/\/+/g,"/"),normalizePathname=T=>T.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=T=>!T||T==="?"?"":T.startsWith("?")?T:"?"+T,normalizeHash=T=>!T||T==="#"?"":T.startsWith("#")?T:"#"+T;function isRouteErrorResponse(T){return T!=null&&typeof T.status=="number"&&typeof T.statusText=="string"&&typeof T.internal=="boolean"&&"data"in T}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(T){for(var $=1;$<arguments.length;$++){var I=arguments[$];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(T[N]=I[N])}return T},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(T){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(T)}function useNavigate(){let{isDataRoute:T}=reactExports.useContext(RouteContext);return T?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let T=reactExports.useContext(DataRouterContext),{basename:$,future:I,navigator:N}=reactExports.useContext(NavigationContext),{matches:L}=reactExports.useContext(RouteContext),{pathname:B}=useLocation(),H=JSON.stringify(getResolveToMatches(L,I.v7_relativeSplatPath)),z=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{z.current=!0}),reactExports.useCallback(function(te,G){if(G===void 0&&(G={}),!z.current)return;if(typeof te=="number"){N.go(te);return}let ie=resolveTo(te,JSON.parse(H),B,G.relative==="path");T==null&&$!=="/"&&(ie.pathname=ie.pathname==="/"?$:joinPaths([$,ie.pathname])),(G.replace?N.replace:N.push)(ie,G.state,G)},[$,N,H,B,T])}function useRoutes(T,$){return useRoutesImpl(T,$)}function useRoutesImpl(T,$,I,N){useInRouterContext()||invariant(!1);let{navigator:L}=reactExports.useContext(NavigationContext),{matches:B}=reactExports.useContext(RouteContext),H=B[B.length-1],z=H?H.params:{};H&&H.pathname;let Q=H?H.pathnameBase:"/";H&&H.route;let te=useLocation(),G;if($){var ie;let Be=typeof $=="string"?parsePath($):$;Q==="/"||(ie=Be.pathname)!=null&&ie.startsWith(Q)||invariant(!1),G=Be}else G=te;let Re=G.pathname||"/",$e=Re;if(Q!=="/"){let Be=Q.replace(/^\//,"").split("/");$e="/"+Re.replace(/^\//,"").split("/").slice(Be.length).join("/")}let Pe=matchRoutes(T,{pathname:$e}),Me=_renderMatches(Pe&&Pe.map(Be=>Object.assign({},Be,{params:Object.assign({},z,Be.params),pathname:joinPaths([Q,L.encodeLocation?L.encodeLocation(Be.pathname).pathname:Be.pathname]),pathnameBase:Be.pathnameBase==="/"?Q:joinPaths([Q,L.encodeLocation?L.encodeLocation(Be.pathnameBase).pathname:Be.pathnameBase])})),B,I,N);return $&&Me?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},G),navigationType:Action.Pop}},Me):Me}function DefaultErrorComponent(){let T=useRouteError(),$=isRouteErrorResponse(T)?T.status+" "+T.statusText:T instanceof Error?T.message:JSON.stringify(T),I=T instanceof Error?T.stack:null,L={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),I?reactExports.createElement("pre",{style:L},I):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,I){return I.location!==$.location||I.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:I.error,location:I.location,revalidation:$.revalidation||I.revalidation}}componentDidCatch($,I){console.error("React Router caught the following error during render",$,I)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(T){let{routeContext:$,match:I,children:N}=T,L=reactExports.useContext(DataRouterContext);return L&&L.static&&L.staticContext&&(I.route.errorElement||I.route.ErrorBoundary)&&(L.staticContext._deepestRenderedBoundaryId=I.route.id),reactExports.createElement(RouteContext.Provider,{value:$},N)}function _renderMatches(T,$,I,N){var L;if($===void 0&&($=[]),I===void 0&&(I=null),N===void 0&&(N=null),T==null){var B;if(!I)return null;if(I.errors)T=I.matches;else if((B=N)!=null&&B.v7_partialHydration&&$.length===0&&!I.initialized&&I.matches.length>0)T=I.matches;else return null}let H=T,z=(L=I)==null?void 0:L.errors;if(z!=null){let G=H.findIndex(ie=>ie.route.id&&(z==null?void 0:z[ie.route.id])!==void 0);G>=0||invariant(!1),H=H.slice(0,Math.min(H.length,G+1))}let Q=!1,te=-1;if(I&&N&&N.v7_partialHydration)for(let G=0;G<H.length;G++){let ie=H[G];if((ie.route.HydrateFallback||ie.route.hydrateFallbackElement)&&(te=G),ie.route.id){let{loaderData:Re,errors:$e}=I,Pe=ie.route.loader&&Re[ie.route.id]===void 0&&(!$e||$e[ie.route.id]===void 0);if(ie.route.lazy||Pe){Q=!0,te>=0?H=H.slice(0,te+1):H=[H[0]];break}}}return H.reduceRight((G,ie,Re)=>{let $e,Pe=!1,Me=null,Be=null;I&&($e=z&&ie.route.id?z[ie.route.id]:void 0,Me=ie.route.errorElement||defaultErrorElement,Q&&(te<0&&Re===0?(warningOnce("route-fallback"),Pe=!0,Be=null):te===Re&&(Pe=!0,Be=ie.route.hydrateFallbackElement||null)));let Ke=$.concat(H.slice(0,Re+1)),Le=()=>{let qe;return $e?qe=Me:Pe?qe=Be:ie.route.Component?qe=reactExports.createElement(ie.route.Component,null):ie.route.element?qe=ie.route.element:qe=G,reactExports.createElement(RenderedRoute,{match:ie,routeContext:{outlet:G,matches:Ke,isDataRoute:I!=null},children:qe})};return I&&(ie.route.ErrorBoundary||ie.route.errorElement||Re===0)?reactExports.createElement(RenderErrorBoundary,{location:I.location,revalidation:I.revalidation,component:Me,error:$e,children:Le(),routeContext:{outlet:null,matches:Ke,isDataRoute:!0}}):Le()},null)}var DataRouterHook$1=function(T){return T.UseBlocker="useBlocker",T.UseRevalidator="useRevalidator",T.UseNavigateStable="useNavigate",T}(DataRouterHook$1||{}),DataRouterStateHook$1=function(T){return T.UseBlocker="useBlocker",T.UseLoaderData="useLoaderData",T.UseActionData="useActionData",T.UseRouteError="useRouteError",T.UseNavigation="useNavigation",T.UseRouteLoaderData="useRouteLoaderData",T.UseMatches="useMatches",T.UseRevalidator="useRevalidator",T.UseNavigateStable="useNavigate",T.UseRouteId="useRouteId",T}(DataRouterStateHook$1||{});function useDataRouterContext(T){let $=reactExports.useContext(DataRouterContext);return $||invariant(!1),$}function useDataRouterState(T){let $=reactExports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteContext(T){let $=reactExports.useContext(RouteContext);return $||invariant(!1),$}function useCurrentRouteId(T){let $=useRouteContext(),I=$.matches[$.matches.length-1];return I.route.id||invariant(!1),I.route.id}function useRouteError(){var T;let $=reactExports.useContext(RouteErrorContext),I=useDataRouterState(),N=useCurrentRouteId();return $!==void 0?$:(T=I.errors)==null?void 0:T[N]}function useNavigateStable(){let{router:T}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),I=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{I.current=!0}),reactExports.useCallback(function(L,B){B===void 0&&(B={}),I.current&&(typeof L=="number"?T.navigate(L):T.navigate(L,_extends$2({fromRouteId:$},B)))},[T,$])}const alreadyWarned$1={};function warningOnce(T,$,I){alreadyWarned$1[T]||(alreadyWarned$1[T]=!0)}function logV6DeprecationWarnings(T,$){T==null||T.v7_startTransition,T==null||T.v7_relativeSplatPath}function Route(T){invariant(!1)}function Router(T){let{basename:$="/",children:I=null,location:N,navigationType:L=Action.Pop,navigator:B,static:H=!1,future:z}=T;useInRouterContext()&&invariant(!1);let Q=$.replace(/^\/*/,"/"),te=reactExports.useMemo(()=>({basename:Q,navigator:B,static:H,future:_extends$2({v7_relativeSplatPath:!1},z)}),[Q,z,B,H]);typeof N=="string"&&(N=parsePath(N));let{pathname:G="/",search:ie="",hash:Re="",state:$e=null,key:Pe="default"}=N,Me=reactExports.useMemo(()=>{let Be=stripBasename(G,Q);return Be==null?null:{location:{pathname:Be,search:ie,hash:Re,state:$e,key:Pe},navigationType:L}},[Q,G,ie,Re,$e,Pe,L]);return Me==null?null:reactExports.createElement(NavigationContext.Provider,{value:te},reactExports.createElement(LocationContext.Provider,{children:I,value:Me}))}function Routes(T){let{children:$,location:I}=T;return useRoutes(createRoutesFromChildren($),I)}new Promise(()=>{});function createRoutesFromChildren(T,$){$===void 0&&($=[]);let I=[];return reactExports.Children.forEach(T,(N,L)=>{if(!reactExports.isValidElement(N))return;let B=[...$,L];if(N.type===reactExports.Fragment){I.push.apply(I,createRoutesFromChildren(N.props.children,B));return}N.type!==Route&&invariant(!1),!N.props.index||!N.props.children||invariant(!1);let H={id:N.props.id||B.join("-"),caseSensitive:N.props.caseSensitive,element:N.props.element,Component:N.props.Component,index:N.props.index,path:N.props.path,loader:N.props.loader,action:N.props.action,errorElement:N.props.errorElement,ErrorBoundary:N.props.ErrorBoundary,hasErrorBoundary:N.props.ErrorBoundary!=null||N.props.errorElement!=null,shouldRevalidate:N.props.shouldRevalidate,handle:N.props.handle,lazy:N.props.lazy};N.props.children&&(H.children=createRoutesFromChildren(N.props.children,B)),I.push(H)}),I}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function HashRouter(T){let{basename:$,children:I,future:N,window:L}=T,B=reactExports.useRef();B.current==null&&(B.current=createHashHistory({window:L,v5Compat:!0}));let H=B.current,[z,Q]=reactExports.useState({action:H.action,location:H.location}),{v7_startTransition:te}=N||{},G=reactExports.useCallback(ie=>{te&&startTransitionImpl?startTransitionImpl(()=>Q(ie)):Q(ie)},[Q,te]);return reactExports.useLayoutEffect(()=>H.listen(G),[H,G]),reactExports.useEffect(()=>logV6DeprecationWarnings(N),[N]),reactExports.createElement(Router,{basename:$,children:I,location:z.location,navigationType:z.action,navigator:H,future:N})}var DataRouterHook;(function(T){T.UseScrollRestoration="useScrollRestoration",T.UseSubmit="useSubmit",T.UseSubmitFetcher="useSubmitFetcher",T.UseFetcher="useFetcher",T.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(T){T.UseFetcher="useFetcher",T.UseFetchers="useFetchers",T.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const scriptRel="modulepreload",assetsURL=function(T){return"/"+T},seen={},__vitePreload=function($,I,N){let L=Promise.resolve();if(I&&I.length>0){let H=function(te){return Promise.all(te.map(G=>Promise.resolve(G).then(ie=>({status:"fulfilled",value:ie}),ie=>({status:"rejected",reason:ie}))))};document.getElementsByTagName("link");const z=document.querySelector("meta[property=csp-nonce]"),Q=(z==null?void 0:z.nonce)||(z==null?void 0:z.getAttribute("nonce"));L=H(I.map(te=>{if(te=assetsURL(te),te in seen)return;seen[te]=!0;const G=te.endsWith(".css"),ie=G?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${te}"]${ie}`))return;const Re=document.createElement("link");if(Re.rel=G?"stylesheet":scriptRel,G||(Re.as="script"),Re.crossOrigin="",Re.href=te,Q&&Re.setAttribute("nonce",Q),document.head.appendChild(Re),G)return new Promise(($e,Pe)=>{Re.addEventListener("load",$e),Re.addEventListener("error",()=>Pe(new Error(`Unable to preload CSS for ${te}`)))})}))}function B(H){const z=new Event("vite:preloadError",{cancelable:!0});if(z.payload=H,window.dispatchEvent(z),!z.defaultPrevented)throw H}return L.then(H=>{for(const z of H||[])z.status==="rejected"&&B(z.reason);return $().catch(B)})};let e$1={data:""},t$4=T=>typeof window=="object"?((T?T.querySelector("#_goober"):window._goober)||Object.assign((T||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:T||e$1,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o$1=(T,$)=>{let I="",N="",L="";for(let B in T){let H=T[B];B[0]=="@"?B[1]=="i"?I=B+" "+H+";":N+=B[1]=="f"?o$1(H,B):B+"{"+o$1(H,B[1]=="k"?"":$)+"}":typeof H=="object"?N+=o$1(H,$?$.replace(/([^,])+/g,z=>B.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,Q=>/&/.test(Q)?Q.replace(/&/g,z):z?z+" "+Q:Q)):B):H!=null&&(B=/^--/.test(B)?B:B.replace(/[A-Z]/g,"-$&").toLowerCase(),L+=o$1.p?o$1.p(B,H):B+":"+H+";")}return I+($&&L?$+"{"+L+"}":L)+N},c$1={},s$4=T=>{if(typeof T=="object"){let $="";for(let I in T)$+=I+s$4(T[I]);return $}return T},i$5=(T,$,I,N,L)=>{let B=s$4(T),H=c$1[B]||(c$1[B]=(Q=>{let te=0,G=11;for(;te<Q.length;)G=101*G+Q.charCodeAt(te++)>>>0;return"go"+G})(B));if(!c$1[H]){let Q=B!==T?T:(te=>{let G,ie,Re=[{}];for(;G=l.exec(te.replace(a,""));)G[4]?Re.shift():G[3]?(ie=G[3].replace(n$1," ").trim(),Re.unshift(Re[0][ie]=Re[0][ie]||{})):Re[0][G[1]]=G[2].replace(n$1," ").trim();return Re[0]})(T);c$1[H]=o$1(L?{["@keyframes "+H]:Q}:Q,I?"":"."+H)}let z=I&&c$1.g?c$1.g:null;return I&&(c$1.g=c$1[H]),((Q,te,G,ie)=>{ie?te.data=te.data.replace(ie,Q):te.data.indexOf(Q)===-1&&(te.data=G?Q+te.data:te.data+Q)})(c$1[H],$,N,z),H},p=(T,$,I)=>T.reduce((N,L,B)=>{let H=$[B];if(H&&H.call){let z=H(I),Q=z&&z.props&&z.props.className||/^go/.test(z)&&z;H=Q?"."+Q:z&&typeof z=="object"?z.props?"":o$1(z,""):z===!1?"":z}return N+L+(H??"")},"");function u$1(T){let $=this||{},I=T.call?T($.p):T;return i$5(I.unshift?I.raw?p(I,[].slice.call(arguments,1),$.p):I.reduce((N,L)=>Object.assign(N,L&&L.call?L($.p):L),{}):I,t$4($.target),$.g,$.o,$.k)}let d$1,f$2,g$2;u$1.bind({g:1});let h$1=u$1.bind({k:1});function m$1(T,$,I,N){o$1.p=$,d$1=T,f$2=I,g$2=N}function j(T,$){let I=this||{};return function(){let N=arguments;function L(B,H){let z=Object.assign({},B),Q=z.className||L.className;I.p=Object.assign({theme:f$2&&f$2()},z),I.o=/ *go\d+/.test(Q),z.className=u$1.apply(I,N)+(Q?" "+Q:"");let te=T;return T[0]&&(te=z.as||T,delete z.as),g$2&&te[0]&&g$2(z),d$1(te,z)}return L}}var W$6=T=>typeof T=="function",f$1=(T,$)=>W$6(T)?T($):T,F=(()=>{let T=0;return()=>(++T).toString()})(),A=(()=>{let T;return()=>{if(T===void 0&&typeof window<"u"){let $=matchMedia("(prefers-reduced-motion: reduce)");T=!$||$.matches}return T}})(),Y=20,U=(T,$)=>{switch($.type){case 0:return{...T,toasts:[$.toast,...T.toasts].slice(0,Y)};case 1:return{...T,toasts:T.toasts.map(B=>B.id===$.toast.id?{...B,...$.toast}:B)};case 2:let{toast:I}=$;return U(T,{type:T.toasts.find(B=>B.id===I.id)?1:0,toast:I});case 3:let{toastId:N}=$;return{...T,toasts:T.toasts.map(B=>B.id===N||N===void 0?{...B,dismissed:!0,visible:!1}:B)};case 4:return $.toastId===void 0?{...T,toasts:[]}:{...T,toasts:T.toasts.filter(B=>B.id!==$.toastId)};case 5:return{...T,pausedAt:$.time};case 6:let L=$.time-(T.pausedAt||0);return{...T,pausedAt:void 0,toasts:T.toasts.map(B=>({...B,pauseDuration:B.pauseDuration+L}))}}},P=[],y$1={toasts:[],pausedAt:void 0},u=T=>{y$1=U(y$1,T),P.forEach($=>{$(y$1)})},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D$1=(T={})=>{let[$,I]=reactExports.useState(y$1),N=reactExports.useRef(y$1);reactExports.useEffect(()=>(N.current!==y$1&&I(y$1),P.push(I),()=>{let B=P.indexOf(I);B>-1&&P.splice(B,1)}),[]);let L=$.toasts.map(B=>{var H,z,Q;return{...T,...T[B.type],...B,removeDelay:B.removeDelay||((H=T[B.type])==null?void 0:H.removeDelay)||(T==null?void 0:T.removeDelay),duration:B.duration||((z=T[B.type])==null?void 0:z.duration)||(T==null?void 0:T.duration)||q[B.type],style:{...T.style,...(Q=T[B.type])==null?void 0:Q.style,...B.style}}});return{...$,toasts:L}},J=(T,$="blank",I)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:$,ariaProps:{role:"status","aria-live":"polite"},message:T,pauseDuration:0,...I,id:(I==null?void 0:I.id)||F()}),x=T=>($,I)=>{let N=J($,T,I);return u({type:2,toast:N}),N.id},c=(T,$)=>x("blank")(T,$);c.error=x("error");c.success=x("success");c.loading=x("loading");c.custom=x("custom");c.dismiss=T=>{u({type:3,toastId:T})};c.remove=T=>u({type:4,toastId:T});c.promise=(T,$,I)=>{let N=c.loading($.loading,{...I,...I==null?void 0:I.loading});return typeof T=="function"&&(T=T()),T.then(L=>{let B=$.success?f$1($.success,L):void 0;return B?c.success(B,{id:N,...I,...I==null?void 0:I.success}):c.dismiss(N),L}).catch(L=>{let B=$.error?f$1($.error,L):void 0;B?c.error(B,{id:N,...I,...I==null?void 0:I.error}):c.dismiss(N)}),T};var K$5=(T,$)=>{u({type:1,toast:{id:T,height:$}})},X=()=>{u({type:5,time:Date.now()})},b$1=new Map,Z=1e3,ee=(T,$=Z)=>{if(b$1.has(T))return;let I=setTimeout(()=>{b$1.delete(T),u({type:4,toastId:T})},$);b$1.set(T,I)},O=T=>{let{toasts:$,pausedAt:I}=D$1(T);reactExports.useEffect(()=>{if(I)return;let B=Date.now(),H=$.map(z=>{if(z.duration===1/0)return;let Q=(z.duration||0)+z.pauseDuration-(B-z.createdAt);if(Q<0){z.visible&&c.dismiss(z.id);return}return setTimeout(()=>c.dismiss(z.id),Q)});return()=>{H.forEach(z=>z&&clearTimeout(z))}},[$,I]);let N=reactExports.useCallback(()=>{I&&u({type:6,time:Date.now()})},[I]),L=reactExports.useCallback((B,H)=>{let{reverseOrder:z=!1,gutter:Q=8,defaultPosition:te}=H||{},G=$.filter($e=>($e.position||te)===(B.position||te)&&$e.height),ie=G.findIndex($e=>$e.id===B.id),Re=G.filter(($e,Pe)=>Pe<ie&&$e.visible).length;return G.filter($e=>$e.visible).slice(...z?[Re+1]:[0,Re]).reduce(($e,Pe)=>$e+(Pe.height||0)+Q,0)},[$]);return reactExports.useEffect(()=>{$.forEach(B=>{if(B.dismissed)ee(B.id,B.removeDelay);else{let H=b$1.get(B.id);H&&(clearTimeout(H),b$1.delete(B.id))}})},[$]),{toasts:$,handlers:{updateHeight:K$5,startPause:X,endPause:N,calculateOffset:L}}},oe$1=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re$1=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${T=>T.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re$1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${T=>T.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne$1=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${T=>T.secondary||"#e0e0e0"};
  border-right-color: ${T=>T.primary||"#616161"};
  animation: ${ne$1} 1s linear infinite;
`,pe$1=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de$1=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_$2=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${T=>T.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de$1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${T=>T.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue$1=j("div")`
  position: absolute;
`,le$1=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fe$1=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Te$1=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fe$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:T})=>{let{icon:$,type:I,iconTheme:N}=T;return $!==void 0?typeof $=="string"?reactExports.createElement(Te$1,null,$):$:I==="blank"?null:reactExports.createElement(le$1,null,reactExports.createElement(V,{...N}),I!=="loading"&&reactExports.createElement(ue$1,null,I==="error"?reactExports.createElement(k,{...N}):reactExports.createElement(_$2,{...N})))},ye$1=T=>`
0% {transform: translate3d(0,${T*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge$1=T=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${T*-150}%,-1px) scale(.6); opacity:0;}
`,he$1="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be$1=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(T,$)=>{let I=T.includes("top")?1:-1,[N,L]=A()?[he$1,xe]:[ye$1(I),ge$1(I)];return{animation:$?`${h$1(N)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(L)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C$1=reactExports.memo(({toast:T,position:$,style:I,children:N})=>{let L=T.height?Ae(T.position||$||"top-center",T.visible):{opacity:0},B=reactExports.createElement(M,{toast:T}),H=reactExports.createElement(Se,{...T.ariaProps},f$1(T.message,T));return reactExports.createElement(be$1,{className:T.className,style:{...L,...I,...T.style}},typeof N=="function"?N({icon:B,message:H}):reactExports.createElement(reactExports.Fragment,null,B,H))});m$1(reactExports.createElement);var ve$1=({id:T,className:$,style:I,onHeightUpdate:N,children:L})=>{let B=reactExports.useCallback(H=>{if(H){let z=()=>{let Q=H.getBoundingClientRect().height;N(T,Q)};z(),new MutationObserver(z).observe(H,{subtree:!0,childList:!0,characterData:!0})}},[T,N]);return reactExports.createElement("div",{ref:B,className:$,style:I},L)},Ee$1=(T,$)=>{let I=T.includes("top"),N=I?{top:0}:{bottom:0},L=T.includes("center")?{justifyContent:"center"}:T.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:A()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${$*(I?1:-1)}px)`,...N,...L}},De$1=u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,R$1=16,Oe=({reverseOrder:T,position:$="top-center",toastOptions:I,gutter:N,children:L,containerStyle:B,containerClassName:H})=>{let{toasts:z,handlers:Q}=O(I);return reactExports.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:R$1,left:R$1,right:R$1,bottom:R$1,pointerEvents:"none",...B},className:H,onMouseEnter:Q.startPause,onMouseLeave:Q.endPause},z.map(te=>{let G=te.position||$,ie=Q.calculateOffset(te,{reverseOrder:T,gutter:N,defaultPosition:$}),Re=Ee$1(G,ie);return reactExports.createElement(ve$1,{id:te.id,key:te.id,onHeightUpdate:Q.updateHeight,className:te.visible?De$1:"",style:Re},te.type==="custom"?f$1(te.message,te):L?L(te):reactExports.createElement(C$1,{toast:te,position:G}))}))},Vt=c;let t$3=class extends HTMLElement{constructor(){super();Dr(this,"_propsToUpgrade",{});Dr(this,"shadow");Dr(this,"template");Dr(this,"defaultProps");Dr(this,"isAttached",!1);this.shadow=this.attachShadow({mode:"open"}),this.template=document.createElement("template")}storePropsToUpgrade(I){I.forEach(N=>{this.hasOwnProperty(N)&&this[N]!==void 0&&(this._propsToUpgrade[N]=this[N],delete this[N])})}upgradeStoredProps(){Object.entries(this._propsToUpgrade).forEach(([I,N])=>{this.setAttribute(I,N)})}reflect(I){I.forEach(N=>{Object.defineProperty(this,N,{set(L){"string,number".includes(typeof L)?this.setAttribute(N,L.toString()):this.removeAttribute(N)},get(){return this.getAttribute(N)}})})}applyDefaultProps(I){this.defaultProps=I,Object.entries(I).forEach(([N,L])=>{this[N]=this[N]||L.toString()})}};var t$2=':host{--uib-dot-size:calc(var(--uib-size)*0.24);align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-dot-size);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;display:flex;height:100%;justify-content:space-between;position:relative;width:100%}.container:after,.container:before,.dot{background-color:var(--uib-color);border-radius:50%;content:"";display:block;height:var(--uib-dot-size);transform:scale(0);transition:background-color .3s ease;width:var(--uib-dot-size)}.container:before{animation:pulse var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.375) infinite}.dot{animation:pulse var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.25) infinite both}.container:after{animation:pulse var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.125) infinite}@keyframes pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}';let s$3=class extends t$3{constructor(){super();Dr(this,"_attributes",["size","color","speed"]);Dr(this,"size");Dr(this,"color");Dr(this,"speed");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:43,color:"black",speed:1.3}),this.template.innerHTML=`
      <div class="container"><div class="dot" /></div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
        }
        ${t$2}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const I=this.shadow.querySelector("style");I&&(I.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
      }
      ${t$2}
    `)}};var i$4={register:(T="l-dot-pulse")=>{customElements.get(T)||customElements.define(T,class extends s$3{})},element:s$3},t$1=':host{align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-stroke);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;border-radius:calc(var(--uib-stroke)/2);display:flex;height:var(--uib-stroke);justify-content:center;overflow:hidden;position:relative;transform:translateZ(0);width:var(--uib-size)}.container:before{left:0;opacity:var(--uib-bg-opacity);position:absolute;top:0}.container:after,.container:before{background-color:var(--uib-color);content:"";height:100%;transition:background-color .3s ease;width:100%}.container:after{animation:wobble var(--uib-speed) ease-in-out infinite;border-radius:calc(var(--uib-stroke)/2);transform:translateX(-95%)}@keyframes wobble{0%,to{transform:translateX(-95%)}50%{transform:translateX(95%)}}';let s$2=class extends t$3{constructor(){super();Dr(this,"_attributes",["size","color","speed","stroke","bg-opacity"]);Dr(this,"size");Dr(this,"color");Dr(this,"speed");Dr(this,"stroke");Dr(this,"bg-opacity");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed","stroke","bg-opacity"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:80,color:"black",speed:1.75,stroke:5,"bg-opacity":.1}),this.template.innerHTML=`
      <div class="container"></div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
          --uib-stroke: ${this.stroke}px;
          --uib-bg-opacity: ${this["bg-opacity"]};
        }
        ${t$1}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const I=this.shadow.querySelector("style");I&&(I.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
        --uib-stroke: ${this.stroke}px;
        --uib-bg-opacity: ${this["bg-opacity"]};
      }
      ${t$1}
    `)}};var i$3={register:(T="l-line-wobble")=>{customElements.get(T)||customElements.define(T,class extends s$2{})},element:s$2};const MainLoader=()=>(reactExports.useEffect(()=>{i$3.register()},[]),jsxRuntimeExports.jsx("div",{style:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx("l-line-wobble",{size:"80",stroke:"5","bg-opacity":"0.1",speed:"1.75",color:"#00BFFF "})}));function formatMuiErrorMessage(T){let $="https://mui.com/production-error/?code="+T;for(let I=1;I<arguments.length;I+=1)$+="&args[]="+encodeURIComponent(arguments[I]);return"Minified MUI error #"+T+"; visit "+$+" for the full message."}const THEME_ID="$$material";function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(T){for(var $=1;$<arguments.length;$++){var I=arguments[$];for(var N in I)({}).hasOwnProperty.call(I,N)&&(T[N]=I[N])}return T},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose(T,$){if(T==null)return{};var I={};for(var N in T)if({}.hasOwnProperty.call(T,N)){if($.indexOf(N)!==-1)continue;I[N]=T[N]}return I}function sheetForTag(T){if(T.sheet)return T.sheet;for(var $=0;$<document.styleSheets.length;$++)if(document.styleSheets[$].ownerNode===T)return document.styleSheets[$]}function createStyleElement(T){var $=document.createElement("style");return $.setAttribute("data-emotion",T.key),T.nonce!==void 0&&$.setAttribute("nonce",T.nonce),$.appendChild(document.createTextNode("")),$.setAttribute("data-s",""),$}var StyleSheet=function(){function T(I){var N=this;this._insertTag=function(L){var B;N.tags.length===0?N.insertionPoint?B=N.insertionPoint.nextSibling:N.prepend?B=N.container.firstChild:B=N.before:B=N.tags[N.tags.length-1].nextSibling,N.container.insertBefore(L,B),N.tags.push(L)},this.isSpeedy=I.speedy===void 0?!0:I.speedy,this.tags=[],this.ctr=0,this.nonce=I.nonce,this.key=I.key,this.container=I.container,this.prepend=I.prepend,this.insertionPoint=I.insertionPoint,this.before=null}var $=T.prototype;return $.hydrate=function(N){N.forEach(this._insertTag)},$.insert=function(N){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var L=this.tags[this.tags.length-1];if(this.isSpeedy){var B=sheetForTag(L);try{B.insertRule(N,B.cssRules.length)}catch{}}else L.appendChild(document.createTextNode(N));this.ctr++},$.flush=function(){this.tags.forEach(function(N){var L;return(L=N.parentNode)==null?void 0:L.removeChild(N)}),this.tags=[],this.ctr=0},T}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$4=Math.abs,from$o=String.fromCharCode,assign=Object.assign;function hash$b(T,$){return charat(T,0)^45?((($<<2^charat(T,0))<<2^charat(T,1))<<2^charat(T,2))<<2^charat(T,3):0}function trim$1(T){return T.trim()}function match$1(T,$){return(T=$.exec(T))?T[0]:T}function replace(T,$,I){return T.replace($,I)}function indexof(T,$){return T.indexOf($)}function charat(T,$){return T.charCodeAt($)|0}function substr(T,$,I){return T.slice($,I)}function strlen(T){return T.length}function sizeof(T){return T.length}function append(T,$){return $.push(T),T}function combine(T,$){return T.map($).join("")}var line=1,column=1,length$7=0,position=0,character=0,characters="";function node$1(T,$,I,N,L,B,H){return{value:T,root:$,parent:I,type:N,props:L,children:B,line,column,length:H,return:""}}function copy$1(T,$){return assign(node$1("",null,null,"",null,null,0),T,{length:-T.length},$)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$7?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice$2(T,$){return substr(characters,T,$)}function token$1(T){switch(T){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(T){return line=column=1,length$7=strlen(characters=T),position=0,[]}function dealloc(T){return characters="",T}function delimit(T){return trim$1(slice$2(position-1,delimiter(T===91?T+2:T===40?T+1:T)))}function whitespace(T){for(;(character=peek$1())&&character<33;)next();return token$1(T)>2||token$1(character)>3?"":" "}function escaping(T,$){for(;--$&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$2(T,caret()+($<6&&peek$1()==32&&next()==32))}function delimiter(T){for(;next();)switch(character){case T:return position;case 34:case 39:T!==34&&T!==39&&delimiter(character);break;case 40:T===41&&delimiter(T);break;case 92:next();break}return position}function commenter(T,$){for(;next()&&T+character!==57;)if(T+character===84&&peek$1()===47)break;return"/*"+slice$2($,position-1)+"*"+from$o(T===47?T:next())}function identifier(T){for(;!token$1(peek$1());)next();return slice$2(T,position)}function compile$4(T){return dealloc(parse$4("",null,null,null,[""],T=alloc$1(T),0,[0],T))}function parse$4(T,$,I,N,L,B,H,z,Q){for(var te=0,G=0,ie=H,Re=0,$e=0,Pe=0,Me=1,Be=1,Ke=1,Le=0,qe="",He=L,Ge=B,at=N,ot=qe;Be;)switch(Pe=Le,Le=next()){case 40:if(Pe!=108&&charat(ot,ie-1)==58){indexof(ot+=replace(delimit(Le),"&","&\f"),"&\f")!=-1&&(Ke=-1);break}case 34:case 39:case 91:ot+=delimit(Le);break;case 9:case 10:case 13:case 32:ot+=whitespace(Pe);break;case 92:ot+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),$,I),Q);break;default:ot+="/"}break;case 123*Me:z[te++]=strlen(ot)*Ke;case 125*Me:case 59:case 0:switch(Le){case 0:case 125:Be=0;case 59+G:Ke==-1&&(ot=replace(ot,/\f/g,"")),$e>0&&strlen(ot)-ie&&append($e>32?declaration(ot+";",N,I,ie-1):declaration(replace(ot," ","")+";",N,I,ie-2),Q);break;case 59:ot+=";";default:if(append(at=ruleset(ot,$,I,te,G,L,z,qe,He=[],Ge=[],ie),B),Le===123)if(G===0)parse$4(ot,$,at,at,He,B,ie,z,Ge);else switch(Re===99&&charat(ot,3)===110?100:Re){case 100:case 108:case 109:case 115:parse$4(T,at,at,N&&append(ruleset(T,at,at,0,0,L,z,qe,L,He=[],ie),Ge),L,Ge,ie,z,N?He:Ge);break;default:parse$4(ot,at,at,at,[""],Ge,0,z,Ge)}}te=G=$e=0,Me=Ke=1,qe=ot="",ie=H;break;case 58:ie=1+strlen(ot),$e=Pe;default:if(Me<1){if(Le==123)--Me;else if(Le==125&&Me++==0&&prev()==125)continue}switch(ot+=from$o(Le),Le*Me){case 38:Ke=G>0?1:(ot+="\f",-1);break;case 44:z[te++]=(strlen(ot)-1)*Ke,Ke=1;break;case 64:peek$1()===45&&(ot+=delimit(next())),Re=peek$1(),G=ie=strlen(qe=ot+=identifier(caret())),Le++;break;case 45:Pe===45&&strlen(ot)==2&&(Me=0)}}return B}function ruleset(T,$,I,N,L,B,H,z,Q,te,G){for(var ie=L-1,Re=L===0?B:[""],$e=sizeof(Re),Pe=0,Me=0,Be=0;Pe<N;++Pe)for(var Ke=0,Le=substr(T,ie+1,ie=abs$4(Me=H[Pe])),qe=T;Ke<$e;++Ke)(qe=trim$1(Me>0?Re[Ke]+" "+Le:replace(Le,/&\f/g,Re[Ke])))&&(Q[Be++]=qe);return node$1(T,$,I,L===0?RULESET:z,Q,te,G)}function comment(T,$,I){return node$1(T,$,I,COMMENT,from$o(char()),substr(T,2,-2),0)}function declaration(T,$,I,N){return node$1(T,$,I,DECLARATION,substr(T,0,N),substr(T,N+1,-1),N)}function serialize$1(T,$){for(var I="",N=sizeof(T),L=0;L<N;L++)I+=$(T[L],L,T,$)||"";return I}function stringify$1(T,$,I,N){switch(T.type){case LAYER:if(T.children.length)break;case IMPORT:case DECLARATION:return T.return=T.return||T.value;case COMMENT:return"";case KEYFRAMES:return T.return=T.value+"{"+serialize$1(T.children,N)+"}";case RULESET:T.value=T.props.join(",")}return strlen(I=serialize$1(T.children,N))?T.return=T.value+"{"+I+"}":""}function middleware(T){var $=sizeof(T);return function(I,N,L,B){for(var H="",z=0;z<$;z++)H+=T[z](I,N,L,B)||"";return H}}function rulesheet(T){return function($){$.root||($=$.return)&&T($)}}function memoize$1(T){var $=Object.create(null);return function(I){return $[I]===void 0&&($[I]=T(I)),$[I]}}var identifierWithPointTracking=function($,I,N){for(var L=0,B=0;L=B,B=peek$1(),L===38&&B===12&&(I[N]=1),!token$1(B);)next();return slice$2($,position)},toRules=function($,I){var N=-1,L=44;do switch(token$1(L)){case 0:L===38&&peek$1()===12&&(I[N]=1),$[N]+=identifierWithPointTracking(position-1,I,N);break;case 2:$[N]+=delimit(L);break;case 4:if(L===44){$[++N]=peek$1()===58?"&\f":"",I[N]=$[N].length;break}default:$[N]+=from$o(L)}while(L=next());return $},getRules$2=function($,I){return dealloc(toRules(alloc$1($),I))},fixedElements=new WeakMap,compat=function($){if(!($.type!=="rule"||!$.parent||$.length<1)){for(var I=$.value,N=$.parent,L=$.column===N.column&&$.line===N.line;N.type!=="rule";)if(N=N.parent,!N)return;if(!($.props.length===1&&I.charCodeAt(0)!==58&&!fixedElements.get(N))&&!L){fixedElements.set($,!0);for(var B=[],H=getRules$2(I,B),z=N.props,Q=0,te=0;Q<H.length;Q++)for(var G=0;G<z.length;G++,te++)$.props[te]=B[Q]?H[Q].replace(/&\f/g,z[G]):z[G]+" "+H[Q]}}},removeLabel=function($){if($.type==="decl"){var I=$.value;I.charCodeAt(0)===108&&I.charCodeAt(2)===98&&($.return="",$.value="")}};function prefix(T,$){switch(hash$b(T,$)){case 5103:return WEBKIT+"print-"+T+T;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+T+T;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+T+MOZ+T+MS+T+T;case 6828:case 4268:return WEBKIT+T+MS+T+T;case 6165:return WEBKIT+T+MS+"flex-"+T+T;case 5187:return WEBKIT+T+replace(T,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+T;case 5443:return WEBKIT+T+MS+"flex-item-"+replace(T,/flex-|-self/,"")+T;case 4675:return WEBKIT+T+MS+"flex-line-pack"+replace(T,/align-content|flex-|-self/,"")+T;case 5548:return WEBKIT+T+MS+replace(T,"shrink","negative")+T;case 5292:return WEBKIT+T+MS+replace(T,"basis","preferred-size")+T;case 6060:return WEBKIT+"box-"+replace(T,"-grow","")+WEBKIT+T+MS+replace(T,"grow","positive")+T;case 4554:return WEBKIT+replace(T,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+T;case 6187:return replace(replace(replace(T,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),T,"")+T;case 5495:case 3959:return replace(T,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(T,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+T+T;case 4095:case 3583:case 4068:case 2532:return replace(T,/(.+)-inline(.+)/,WEBKIT+"$1$2")+T;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(T)-1-$>6)switch(charat(T,$+1)){case 109:if(charat(T,$+4)!==45)break;case 102:return replace(T,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(T,$+3)==108?"$3":"$2-$3"))+T;case 115:return~indexof(T,"stretch")?prefix(replace(T,"stretch","fill-available"),$)+T:T}break;case 4949:if(charat(T,$+1)!==115)break;case 6444:switch(charat(T,strlen(T)-3-(~indexof(T,"!important")&&10))){case 107:return replace(T,":",":"+WEBKIT)+T;case 101:return replace(T,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(T,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+T}break;case 5936:switch(charat(T,$+11)){case 114:return WEBKIT+T+MS+replace(T,/[svh]\w+-[tblr]{2}/,"tb")+T;case 108:return WEBKIT+T+MS+replace(T,/[svh]\w+-[tblr]{2}/,"tb-rl")+T;case 45:return WEBKIT+T+MS+replace(T,/[svh]\w+-[tblr]{2}/,"lr")+T}return WEBKIT+T+MS+T+T}return T}var prefixer=function($,I,N,L){if($.length>-1&&!$.return)switch($.type){case DECLARATION:$.return=prefix($.value,$.length);break;case KEYFRAMES:return serialize$1([copy$1($,{value:replace($.value,"@","@"+WEBKIT)})],L);case RULESET:if($.length)return combine($.props,function(B){switch(match$1(B,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy$1($,{props:[replace(B,/:(read-\w+)/,":"+MOZ+"$1")]})],L);case"::placeholder":return serialize$1([copy$1($,{props:[replace(B,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1($,{props:[replace(B,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1($,{props:[replace(B,/:(plac\w+)/,MS+"input-$1")]})],L)}return""})}},defaultStylisPlugins=[prefixer],createCache=function($){var I=$.key;if(I==="css"){var N=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(N,function(Me){var Be=Me.getAttribute("data-emotion");Be.indexOf(" ")!==-1&&(document.head.appendChild(Me),Me.setAttribute("data-s",""))})}var L=$.stylisPlugins||defaultStylisPlugins,B={},H,z=[];H=$.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+I+' "]'),function(Me){for(var Be=Me.getAttribute("data-emotion").split(" "),Ke=1;Ke<Be.length;Ke++)B[Be[Ke]]=!0;z.push(Me)});var Q,te=[compat,removeLabel];{var G,ie=[stringify$1,rulesheet(function(Me){G.insert(Me)})],Re=middleware(te.concat(L,ie)),$e=function(Be){return serialize$1(compile$4(Be),Re)};Q=function(Be,Ke,Le,qe){G=Le,$e(Be?Be+"{"+Ke.styles+"}":Ke.styles),qe&&(Pe.inserted[Ke.name]=!0)}}var Pe={key:I,sheet:new StyleSheet({key:I,container:H,nonce:$.nonce,speedy:$.speedy,prepend:$.prepend,insertionPoint:$.insertionPoint}),nonce:$.nonce,inserted:B,registered:{},insert:Q};return Pe.sheet.hydrate(z),Pe},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var T=typeof Symbol=="function"&&Symbol.for,$=T?Symbol.for("react.element"):60103,I=T?Symbol.for("react.portal"):60106,N=T?Symbol.for("react.fragment"):60107,L=T?Symbol.for("react.strict_mode"):60108,B=T?Symbol.for("react.profiler"):60114,H=T?Symbol.for("react.provider"):60109,z=T?Symbol.for("react.context"):60110,Q=T?Symbol.for("react.async_mode"):60111,te=T?Symbol.for("react.concurrent_mode"):60111,G=T?Symbol.for("react.forward_ref"):60112,ie=T?Symbol.for("react.suspense"):60113,Re=T?Symbol.for("react.suspense_list"):60120,$e=T?Symbol.for("react.memo"):60115,Pe=T?Symbol.for("react.lazy"):60116,Me=T?Symbol.for("react.block"):60121,Be=T?Symbol.for("react.fundamental"):60117,Ke=T?Symbol.for("react.responder"):60118,Le=T?Symbol.for("react.scope"):60119;function qe(Ge){if(typeof Ge=="object"&&Ge!==null){var at=Ge.$$typeof;switch(at){case $:switch(Ge=Ge.type,Ge){case Q:case te:case N:case B:case L:case ie:return Ge;default:switch(Ge=Ge&&Ge.$$typeof,Ge){case z:case G:case Pe:case $e:case H:return Ge;default:return at}}case I:return at}}}function He(Ge){return qe(Ge)===te}return reactIs_production_min.AsyncMode=Q,reactIs_production_min.ConcurrentMode=te,reactIs_production_min.ContextConsumer=z,reactIs_production_min.ContextProvider=H,reactIs_production_min.Element=$,reactIs_production_min.ForwardRef=G,reactIs_production_min.Fragment=N,reactIs_production_min.Lazy=Pe,reactIs_production_min.Memo=$e,reactIs_production_min.Portal=I,reactIs_production_min.Profiler=B,reactIs_production_min.StrictMode=L,reactIs_production_min.Suspense=ie,reactIs_production_min.isAsyncMode=function(Ge){return He(Ge)||qe(Ge)===Q},reactIs_production_min.isConcurrentMode=He,reactIs_production_min.isContextConsumer=function(Ge){return qe(Ge)===z},reactIs_production_min.isContextProvider=function(Ge){return qe(Ge)===H},reactIs_production_min.isElement=function(Ge){return typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===$},reactIs_production_min.isForwardRef=function(Ge){return qe(Ge)===G},reactIs_production_min.isFragment=function(Ge){return qe(Ge)===N},reactIs_production_min.isLazy=function(Ge){return qe(Ge)===Pe},reactIs_production_min.isMemo=function(Ge){return qe(Ge)===$e},reactIs_production_min.isPortal=function(Ge){return qe(Ge)===I},reactIs_production_min.isProfiler=function(Ge){return qe(Ge)===B},reactIs_production_min.isStrictMode=function(Ge){return qe(Ge)===L},reactIs_production_min.isSuspense=function(Ge){return qe(Ge)===ie},reactIs_production_min.isValidElementType=function(Ge){return typeof Ge=="string"||typeof Ge=="function"||Ge===N||Ge===te||Ge===B||Ge===L||Ge===ie||Ge===Re||typeof Ge=="object"&&Ge!==null&&(Ge.$$typeof===Pe||Ge.$$typeof===$e||Ge.$$typeof===H||Ge.$$typeof===z||Ge.$$typeof===G||Ge.$$typeof===Be||Ge.$$typeof===Ke||Ge.$$typeof===Le||Ge.$$typeof===Me)},reactIs_production_min.typeOf=qe,reactIs_production_min}requireReactIs_production_min();var isBrowser=!0;function getRegisteredStyles(T,$,I){var N="";return I.split(" ").forEach(function(L){T[L]!==void 0?$.push(T[L]+";"):L&&(N+=L+" ")}),N}var registerStyles=function($,I,N){var L=$.key+"-"+I.name;(N===!1||isBrowser===!1)&&$.registered[L]===void 0&&($.registered[L]=I.styles)},insertStyles=function($,I,N){registerStyles($,I,N);var L=$.key+"-"+I.name;if($.inserted[I.name]===void 0){var B=I;do $.insert(I===B?"."+L:"",B,$.sheet,!0),B=B.next;while(B!==void 0)}};function murmur2(T){for(var $=0,I,N=0,L=T.length;L>=4;++N,L-=4)I=T.charCodeAt(N)&255|(T.charCodeAt(++N)&255)<<8|(T.charCodeAt(++N)&255)<<16|(T.charCodeAt(++N)&255)<<24,I=(I&65535)*1540483477+((I>>>16)*59797<<16),I^=I>>>24,$=(I&65535)*1540483477+((I>>>16)*59797<<16)^($&65535)*1540483477+(($>>>16)*59797<<16);switch(L){case 3:$^=(T.charCodeAt(N+2)&255)<<16;case 2:$^=(T.charCodeAt(N+1)&255)<<8;case 1:$^=T.charCodeAt(N)&255,$=($&65535)*1540483477+(($>>>16)*59797<<16)}return $^=$>>>13,$=($&65535)*1540483477+(($>>>16)*59797<<16),(($^$>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function($){return $.charCodeAt(1)===45},isProcessableValue=function($){return $!=null&&typeof $!="boolean"},processStyleName=memoize$1(function(T){return isCustomProperty(T)?T:T.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function($,I){switch($){case"animation":case"animationName":if(typeof I=="string")return I.replace(animationRegex,function(N,L,B){return cursor={name:L,styles:B,next:cursor},L})}return unitlessKeys[$]!==1&&!isCustomProperty($)&&typeof I=="number"&&I!==0?I+"px":I};function handleInterpolation(T,$,I){if(I==null)return"";var N=I;if(N.__emotion_styles!==void 0)return N;switch(typeof I){case"boolean":return"";case"object":{var L=I;if(L.anim===1)return cursor={name:L.name,styles:L.styles,next:cursor},L.name;var B=I;if(B.styles!==void 0){var H=B.next;if(H!==void 0)for(;H!==void 0;)cursor={name:H.name,styles:H.styles,next:cursor},H=H.next;var z=B.styles+";";return z}return createStringFromObject(T,$,I)}case"function":{if(T!==void 0){var Q=cursor,te=I(T);return cursor=Q,handleInterpolation(T,$,te)}break}}var G=I;if($==null)return G;var ie=$[G];return ie!==void 0?ie:G}function createStringFromObject(T,$,I){var N="";if(Array.isArray(I))for(var L=0;L<I.length;L++)N+=handleInterpolation(T,$,I[L])+";";else for(var B in I){var H=I[B];if(typeof H!="object"){var z=H;$!=null&&$[z]!==void 0?N+=B+"{"+$[z]+"}":isProcessableValue(z)&&(N+=processStyleName(B)+":"+processStyleValue(B,z)+";")}else if(Array.isArray(H)&&typeof H[0]=="string"&&($==null||$[H[0]]===void 0))for(var Q=0;Q<H.length;Q++)isProcessableValue(H[Q])&&(N+=processStyleName(B)+":"+processStyleValue(B,H[Q])+";");else{var te=handleInterpolation(T,$,H);switch(B){case"animation":case"animationName":{N+=processStyleName(B)+":"+te+";";break}default:N+=B+"{"+te+"}"}}}return N}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(T,$,I){if(T.length===1&&typeof T[0]=="object"&&T[0]!==null&&T[0].styles!==void 0)return T[0];var N=!0,L="";cursor=void 0;var B=T[0];if(B==null||B.raw===void 0)N=!1,L+=handleInterpolation(I,$,B);else{var H=B;L+=H[0]}for(var z=1;z<T.length;z++)if(L+=handleInterpolation(I,$,T[z]),N){var Q=B;L+=Q[z]}labelPattern.lastIndex=0;for(var te="",G;(G=labelPattern.exec(L))!==null;)te+="-"+G[1];var ie=murmur2(L)+te;return{name:ie,styles:L,next:cursor}}var syncFallback=function($){return $()},useInsertionEffect=reactExports.useInsertionEffect?reactExports.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function($){return reactExports.forwardRef(function(I,N){var L=reactExports.useContext(EmotionCacheContext);return $(I,L,N)})},ThemeContext$1=reactExports.createContext({}),hasOwn$2={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function($,I){var N={};for(var L in I)hasOwn$2.call(I,L)&&(N[L]=I[L]);return N[typePropName]=$,N},Insertion$1=function($){var I=$.cache,N=$.serialized,L=$.isStringTag;return registerStyles(I,N,L),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(I,N,L)}),null},Emotion=withEmotionCache(function(T,$,I){var N=T.css;typeof N=="string"&&$.registered[N]!==void 0&&(N=$.registered[N]);var L=T[typePropName],B=[N],H="";typeof T.className=="string"?H=getRegisteredStyles($.registered,B,T.className):T.className!=null&&(H=T.className+" ");var z=serializeStyles(B,void 0,reactExports.useContext(ThemeContext$1));H+=$.key+"-"+z.name;var Q={};for(var te in T)hasOwn$2.call(T,te)&&te!=="css"&&te!==typePropName&&(Q[te]=T[te]);return Q.className=H,I&&(Q.ref=I),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:$,serialized:z,isStringTag:typeof L=="string"}),reactExports.createElement(L,Q))}),Emotion$1=Emotion,jsx=function($,I){var N=arguments;if(I==null||!hasOwn$2.call(I,"css"))return reactExports.createElement.apply(void 0,N);var L=N.length,B=new Array(L);B[0]=Emotion$1,B[1]=createEmotionProps($,I);for(var H=2;H<L;H++)B[H]=N[H];return reactExports.createElement.apply(null,B)};(function(T){var $;$||($=T.JSX||(T.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(T,$){var I=T.styles,N=serializeStyles([I],void 0,reactExports.useContext(ThemeContext$1)),L=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var B=$.key+"-global",H=new $.sheet.constructor({key:B,nonce:$.sheet.nonce,container:$.sheet.container,speedy:$.sheet.isSpeedy}),z=!1,Q=document.querySelector('style[data-emotion="'+B+" "+N.name+'"]');return $.sheet.tags.length&&(H.before=$.sheet.tags[0]),Q!==null&&(z=!0,Q.setAttribute("data-emotion",B),H.hydrate([Q])),L.current=[H,z],function(){H.flush()}},[$]),useInsertionEffectWithLayoutFallback(function(){var B=L.current,H=B[0],z=B[1];if(z){B[1]=!1;return}if(N.next!==void 0&&insertStyles($,N.next,!0),H.tags.length){var Q=H.tags[H.tags.length-1].nextElementSibling;H.before=Q,H.flush()}$.insert("",N,H,!1)},[$,N.name]),null});function css(){for(var T=arguments.length,$=new Array(T),I=0;I<T;I++)$[I]=arguments[I];return serializeStyles($)}function keyframes(){var T=css.apply(void 0,arguments),$="animation-"+T.name;return{name:$,styles:"@keyframes "+$+"{"+T.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(T){return reactPropsRegex.test(T)||T.charCodeAt(0)===111&&T.charCodeAt(1)===110&&T.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function($){return $!=="theme"},getDefaultShouldForwardProp=function($){return typeof $=="string"&&$.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function($,I,N){var L;if(I){var B=I.shouldForwardProp;L=$.__emotion_forwardProp&&B?function(H){return $.__emotion_forwardProp(H)&&B(H)}:B}return typeof L!="function"&&N&&(L=$.__emotion_forwardProp),L},Insertion=function($){var I=$.cache,N=$.serialized,L=$.isStringTag;return registerStyles(I,N,L),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(I,N,L)}),null},createStyled$3=function T($,I){var N=$.__emotion_real===$,L=N&&$.__emotion_base||$,B,H;I!==void 0&&(B=I.label,H=I.target);var z=composeShouldForwardProps($,I,N),Q=z||getDefaultShouldForwardProp(L),te=!Q("as");return function(){var G=arguments,ie=N&&$.__emotion_styles!==void 0?$.__emotion_styles.slice(0):[];if(B!==void 0&&ie.push("label:"+B+";"),G[0]==null||G[0].raw===void 0)ie.push.apply(ie,G);else{var Re=G[0];ie.push(Re[0]);for(var $e=G.length,Pe=1;Pe<$e;Pe++)ie.push(G[Pe],Re[Pe])}var Me=withEmotionCache(function(Be,Ke,Le){var qe=te&&Be.as||L,He="",Ge=[],at=Be;if(Be.theme==null){at={};for(var ot in Be)at[ot]=Be[ot];at.theme=reactExports.useContext(ThemeContext$1)}typeof Be.className=="string"?He=getRegisteredStyles(Ke.registered,Ge,Be.className):Be.className!=null&&(He=Be.className+" ");var Ye=serializeStyles(ie.concat(Ge),Ke.registered,at);He+=Ke.key+"-"+Ye.name,H!==void 0&&(He+=" "+H);var nt=te&&z===void 0?getDefaultShouldForwardProp(qe):Q,Qe={};for(var tt in Be)te&&tt==="as"||nt(tt)&&(Qe[tt]=Be[tt]);return Qe.className=He,Le&&(Qe.ref=Le),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ke,serialized:Ye,isStringTag:typeof qe=="string"}),reactExports.createElement(qe,Qe))});return Me.displayName=B!==void 0?B:"Styled("+(typeof L=="string"?L:L.displayName||L.name||"Component")+")",Me.defaultProps=$.defaultProps,Me.__emotion_real=Me,Me.__emotion_base=L,Me.__emotion_styles=ie,Me.__emotion_forwardProp=z,Object.defineProperty(Me,"toString",{value:function(){return"."+H}}),Me.withComponent=function(Be,Ke){var Le=T(Be,_extends$1({},I,Ke,{shouldForwardProp:composeShouldForwardProps(Me,Ke,!0)}));return Le.apply(void 0,ie)},Me}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$3.bind(null);tags.forEach(function(T){newStyled[T]=newStyled(T)});let cache$1;typeof document=="object"&&(cache$1=createCache({key:"css",prepend:!0}));function StyledEngineProvider(T){const{injectFirst:$,children:I}=T;return $&&cache$1?jsxRuntimeExports.jsx(CacheProvider,{value:cache$1,children:I}):I}function isEmpty$6(T){return T==null||Object.keys(T).length===0}function GlobalStyles$2(T){const{styles:$,defaultTheme:I={}}=T,N=typeof $=="function"?L=>$(isEmpty$6(L)?I:L):$;return jsxRuntimeExports.jsx(Global,{styles:N})}function styled$2(T,$){return newStyled(T,$)}const internal_processStyles=(T,$)=>{Array.isArray(T.__emotion_styles)&&(T.__emotion_styles=$(T.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$2,StyledEngineProvider,ThemeContext:ThemeContext$1,css,default:styled$2,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isPlainObject$1(T){if(typeof T!="object"||T===null)return!1;const $=Object.getPrototypeOf(T);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in T)&&!(Symbol.iterator in T)}function deepClone(T){if(reactExports.isValidElement(T)||!isPlainObject$1(T))return T;const $={};return Object.keys(T).forEach(I=>{$[I]=deepClone(T[I])}),$}function deepmerge$1(T,$,I={clone:!0}){const N=I.clone?_extends$1({},T):T;return isPlainObject$1(T)&&isPlainObject$1($)&&Object.keys($).forEach(L=>{reactExports.isValidElement($[L])?N[L]=$[L]:isPlainObject$1($[L])&&Object.prototype.hasOwnProperty.call(T,L)&&isPlainObject$1(T[L])?N[L]=deepmerge$1(T[L],$[L],I):I.clone?N[L]=isPlainObject$1($[L])?deepClone($[L]):$[L]:N[L]=$[L]}),N}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject:isPlainObject$1},Symbol.toStringTag,{value:"Module"})),_excluded$19=["values","unit","step"],sortBreakpointsValues=T=>{const $=Object.keys(T).map(I=>({key:I,val:T[I]}))||[];return $.sort((I,N)=>I.val-N.val),$.reduce((I,N)=>_extends$1({},I,{[N.key]:N.val}),{})};function createBreakpoints(T){const{values:$={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:I="px",step:N=5}=T,L=_objectWithoutPropertiesLoose(T,_excluded$19),B=sortBreakpointsValues($),H=Object.keys(B);function z(Re){return`@media (min-width:${typeof $[Re]=="number"?$[Re]:Re}${I})`}function Q(Re){return`@media (max-width:${(typeof $[Re]=="number"?$[Re]:Re)-N/100}${I})`}function te(Re,$e){const Pe=H.indexOf($e);return`@media (min-width:${typeof $[Re]=="number"?$[Re]:Re}${I}) and (max-width:${(Pe!==-1&&typeof $[H[Pe]]=="number"?$[H[Pe]]:$e)-N/100}${I})`}function G(Re){return H.indexOf(Re)+1<H.length?te(Re,H[H.indexOf(Re)+1]):z(Re)}function ie(Re){const $e=H.indexOf(Re);return $e===0?z(H[1]):$e===H.length-1?Q(H[$e]):te(Re,H[H.indexOf(Re)+1]).replace("@media","@media not all and")}return _extends$1({keys:H,values:B,up:z,down:Q,between:te,only:G,not:ie,unit:I},L)}const shape={borderRadius:4};function merge$1(T,$){return $?deepmerge$1(T,$,{clone:!1}):T}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:T=>`@media (min-width:${values$1[T]}px)`};function handleBreakpoints(T,$,I){const N=T.theme||{};if(Array.isArray($)){const B=N.breakpoints||defaultBreakpoints;return $.reduce((H,z,Q)=>(H[B.up(B.keys[Q])]=I($[Q]),H),{})}if(typeof $=="object"){const B=N.breakpoints||defaultBreakpoints;return Object.keys($).reduce((H,z)=>{if(Object.keys(B.values||values$1).indexOf(z)!==-1){const Q=B.up(z);H[Q]=I($[z],z)}else{const Q=z;H[Q]=$[Q]}return H},{})}return I($)}function createEmptyBreakpointObject(T={}){var $;return(($=T.keys)==null?void 0:$.reduce((N,L)=>{const B=T.up(L);return N[B]={},N},{}))||{}}function removeUnusedBreakpoints(T,$){return T.reduce((I,N)=>{const L=I[N];return(!L||Object.keys(L).length===0)&&delete I[N],I},$)}function computeBreakpointsBase(T,$){if(typeof T!="object")return{};const I={},N=Object.keys($);return Array.isArray(T)?N.forEach((L,B)=>{B<T.length&&(I[L]=!0)}):N.forEach(L=>{T[L]!=null&&(I[L]=!0)}),I}function resolveBreakpointValues({values:T,breakpoints:$,base:I}){const N=I||computeBreakpointsBase(T,$),L=Object.keys(N);if(L.length===0)return T;let B;return L.reduce((H,z,Q)=>(Array.isArray(T)?(H[z]=T[Q]!=null?T[Q]:T[B],B=Q):typeof T=="object"?(H[z]=T[z]!=null?T[z]:T[B],B=z):H[z]=T,H),{})}function capitalize(T){if(typeof T!="string")throw new Error(formatMuiErrorMessage(7));return T.charAt(0).toUpperCase()+T.slice(1)}function getPath(T,$,I=!0){if(!$||typeof $!="string")return null;if(T&&T.vars&&I){const N=`vars.${$}`.split(".").reduce((L,B)=>L&&L[B]?L[B]:null,T);if(N!=null)return N}return $.split(".").reduce((N,L)=>N&&N[L]!=null?N[L]:null,T)}function getStyleValue$1(T,$,I,N=I){let L;return typeof T=="function"?L=T(I):Array.isArray(T)?L=T[I]||N:L=getPath(T,I)||N,$&&(L=$(L,N,T)),L}function style$1(T){const{prop:$,cssProperty:I=T.prop,themeKey:N,transform:L}=T,B=H=>{if(H[$]==null)return null;const z=H[$],Q=H.theme,te=getPath(Q,N)||{};return handleBreakpoints(H,z,ie=>{let Re=getStyleValue$1(te,L,ie);return ie===Re&&typeof ie=="string"&&(Re=getStyleValue$1(te,L,`${$}${ie==="default"?"":capitalize(ie)}`,ie)),I===!1?Re:{[I]:Re}})};return B.propTypes={},B.filterProps=[$],B}function memoize(T){const $={};return I=>($[I]===void 0&&($[I]=T(I)),$[I])}const properties$8={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases$1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(T=>{if(T.length>2)if(aliases$1[T])T=aliases$1[T];else return[T];const[$,I]=T.split(""),N=properties$8[$],L=directions[I]||"";return Array.isArray(L)?L.map(B=>N+B):[N+L]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(T,$,I,N){var L;const B=(L=getPath(T,$,!1))!=null?L:I;return typeof B=="number"?H=>typeof H=="string"?H:B*H:Array.isArray(B)?H=>typeof H=="string"?H:B[H]:typeof B=="function"?B:()=>{}}function createUnarySpacing(T){return createUnaryUnit(T,"spacing",8)}function getValue(T,$){if(typeof $=="string"||$==null)return $;const I=Math.abs($),N=T(I);return $>=0?N:typeof N=="number"?-N:`-${N}`}function getStyleFromPropValue(T,$){return I=>T.reduce((N,L)=>(N[L]=getValue($,I),N),{})}function resolveCssProperty(T,$,I,N){if($.indexOf(I)===-1)return null;const L=getCssProperties(I),B=getStyleFromPropValue(L,N),H=T[I];return handleBreakpoints(T,H,B)}function style(T,$){const I=createUnarySpacing(T.theme);return Object.keys(T).map(N=>resolveCssProperty(T,$,N,I)).reduce(merge$1,{})}function margin(T){return style(T,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(T){return style(T,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(T=8){if(T.mui)return T;const $=createUnarySpacing({spacing:T}),I=(...N)=>(N.length===0?[1]:N).map(B=>{const H=$(B);return typeof H=="number"?`${H}px`:H}).join(" ");return I.mui=!0,I}function compose$k(...T){const $=T.reduce((N,L)=>(L.filterProps.forEach(B=>{N[B]=L}),N),{}),I=N=>Object.keys(N).reduce((L,B)=>$[B]?merge$1(L,$[B](N)):L,{});return I.propTypes={},I.filterProps=T.reduce((N,L)=>N.concat(L.filterProps),[]),I}function borderTransform(T){return typeof T!="number"?T:`${T}px solid`}function createBorderStyle(T,$){return style$1({prop:T,themeKey:"borders",transform:$})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=T=>{if(T.borderRadius!==void 0&&T.borderRadius!==null){const $=createUnaryUnit(T.theme,"shape.borderRadius",4),I=N=>({borderRadius:getValue($,N)});return handleBreakpoints(T,T.borderRadius,I)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$k(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=T=>{if(T.gap!==void 0&&T.gap!==null){const $=createUnaryUnit(T.theme,"spacing",8),I=N=>({gap:getValue($,N)});return handleBreakpoints(T,T.gap,I)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=T=>{if(T.columnGap!==void 0&&T.columnGap!==null){const $=createUnaryUnit(T.theme,"spacing",8),I=N=>({columnGap:getValue($,N)});return handleBreakpoints(T,T.columnGap,I)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=T=>{if(T.rowGap!==void 0&&T.rowGap!==null){const $=createUnaryUnit(T.theme,"spacing",8),I=N=>({rowGap:getValue($,N)});return handleBreakpoints(T,T.rowGap,I)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose$k(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(T,$){return $==="grey"?$:T}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$k(color,bgcolor,backgroundColor);function sizingTransform(T){return T<=1&&T!==0?`${T*100}%`:T}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=T=>{if(T.maxWidth!==void 0&&T.maxWidth!==null){const $=I=>{var N,L;const B=((N=T.theme)==null||(N=N.breakpoints)==null||(N=N.values)==null?void 0:N[I])||values$1[I];return B?((L=T.theme)==null||(L=L.breakpoints)==null?void 0:L.unit)!=="px"?{maxWidth:`${B}${T.theme.breakpoints.unit}`}:{maxWidth:B}:{maxWidth:sizingTransform(I)}};return handleBreakpoints(T,T.maxWidth,$)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose$k(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:T=>({"@media print":{display:T}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...T){const $=T.reduce((N,L)=>N.concat(Object.keys(L)),[]),I=new Set($);return T.every(N=>I.size===Object.keys(N).length)}function callIfFn(T,$){return typeof T=="function"?T($):T}function unstable_createStyleFunctionSx(){function T(I,N,L,B){const H={[I]:N,theme:L},z=B[I];if(!z)return{[I]:N};const{cssProperty:Q=I,themeKey:te,transform:G,style:ie}=z;if(N==null)return null;if(te==="typography"&&N==="inherit")return{[I]:N};const Re=getPath(L,te)||{};return ie?ie(H):handleBreakpoints(H,N,Pe=>{let Me=getStyleValue$1(Re,G,Pe);return Pe===Me&&typeof Pe=="string"&&(Me=getStyleValue$1(Re,G,`${I}${Pe==="default"?"":capitalize(Pe)}`,Pe)),Q===!1?Me:{[Q]:Me}})}function $(I){var N;const{sx:L,theme:B={}}=I||{};if(!L)return null;const H=(N=B.unstable_sxConfig)!=null?N:defaultSxConfig;function z(Q){let te=Q;if(typeof Q=="function")te=Q(B);else if(typeof Q!="object")return Q;if(!te)return null;const G=createEmptyBreakpointObject(B.breakpoints),ie=Object.keys(G);let Re=G;return Object.keys(te).forEach($e=>{const Pe=callIfFn(te[$e],B);if(Pe!=null)if(typeof Pe=="object")if(H[$e])Re=merge$1(Re,T($e,Pe,B,H));else{const Me=handleBreakpoints({theme:B},Pe,Be=>({[$e]:Be}));objectsHaveSameKeys(Me,Pe)?Re[$e]=$({sx:Pe,theme:B}):Re=merge$1(Re,Me)}else Re=merge$1(Re,T($e,Pe,B,H))}),removeUnusedBreakpoints(ie,Re)}return Array.isArray(L)?L.map(z):z(L)}return $}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];function applyStyles$2(T,$){const I=this;return I.vars&&typeof I.getColorSchemeSelector=="function"?{[I.getColorSchemeSelector(T).replace(/(\[[^\]]+\])/,"*:where($1)")]:$}:I.palette.mode===T?$:{}}const _excluded$18=["breakpoints","palette","spacing","shape"];function createTheme$2(T={},...$){const{breakpoints:I={},palette:N={},spacing:L,shape:B={}}=T,H=_objectWithoutPropertiesLoose(T,_excluded$18),z=createBreakpoints(I),Q=createSpacing(L);let te=deepmerge$1({breakpoints:z,direction:"ltr",components:{},palette:_extends$1({mode:"light"},N),spacing:Q,shape:_extends$1({},shape,B)},H);return te.applyStyles=applyStyles$2,te=$.reduce((G,ie)=>deepmerge$1(G,ie),te),te.unstable_sxConfig=_extends$1({},defaultSxConfig,H==null?void 0:H.unstable_sxConfig),te.unstable_sx=function(ie){return styleFunctionSx$1({sx:ie,theme:this})},te}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles$2},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty$2(T){return Object.keys(T).length===0}function useTheme$4(T=null){const $=reactExports.useContext(ThemeContext$1);return!$||isObjectEmpty$2($)?T:$}const systemDefaultTheme$2=createTheme$2();function useTheme$3(T=systemDefaultTheme$2){return useTheme$4(T)}function GlobalStyles$1({styles:T,themeId:$,defaultTheme:I={}}){const N=useTheme$3(I),L=typeof T=="function"?T($&&N[$]||N):T;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:L})}const _excluded$17=["sx"],splitProps=T=>{var $,I;const N={systemProps:{},otherProps:{}},L=($=T==null||(I=T.theme)==null?void 0:I.unstable_sxConfig)!=null?$:defaultSxConfig;return Object.keys(T).forEach(B=>{L[B]?N.systemProps[B]=T[B]:N.otherProps[B]=T[B]}),N};function extendSxProp(T){const{sx:$}=T,I=_objectWithoutPropertiesLoose(T,_excluded$17),{systemProps:N,otherProps:L}=splitProps(I);let B;return Array.isArray($)?B=[N,...$]:typeof $=="function"?B=(...H)=>{const z=$(...H);return isPlainObject$1(z)?_extends$1({},N,z):N}:B=_extends$1({},N,$),_extends$1({},L,{sx:B})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$1,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig},Symbol.toStringTag,{value:"Module"})),defaultGenerator$1=T=>T,createClassNameGenerator=()=>{let T=defaultGenerator$1;return{configure($){T=$},generate($){return T($)},reset(){T=defaultGenerator$1}}},ClassNameGenerator=createClassNameGenerator();function r$2(T){var $,I,N="";if(typeof T=="string"||typeof T=="number")N+=T;else if(typeof T=="object")if(Array.isArray(T)){var L=T.length;for($=0;$<L;$++)T[$]&&(I=r$2(T[$]))&&(N&&(N+=" "),N+=I)}else for(I in T)T[I]&&(N&&(N+=" "),N+=I);return N}function clsx(){for(var T,$,I=0,N="",L=arguments.length;I<L;I++)(T=arguments[I])&&($=r$2(T))&&(N&&(N+=" "),N+=$);return N}const _excluded$16=["className","component"];function createBox(T={}){const{themeId:$,defaultTheme:I,defaultClassName:N="MuiBox-root",generateClassName:L}=T,B=styled$2("div",{shouldForwardProp:z=>z!=="theme"&&z!=="sx"&&z!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(Q,te){const G=useTheme$3(I),ie=extendSxProp(Q),{className:Re,component:$e="div"}=ie,Pe=_objectWithoutPropertiesLoose(ie,_excluded$16);return jsxRuntimeExports.jsx(B,_extends$1({as:$e,ref:te,className:clsx(Re,L?L(N):N),theme:$&&G[$]||G},Pe))})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(T,$,I="Mui"){const N=globalStateClasses[$];return N?`${I}-${N}`:`${ClassNameGenerator.generate(T)}-${$}`}function generateUtilityClasses(T,$,I="Mui"){const N={};return $.forEach(L=>{N[L]=generateUtilityClass(T,L,I)}),N}var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var T=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Re=Symbol.for("react.view_transition"),$e=Symbol.for("react.client.reference");function Pe(Me){if(typeof Me=="object"&&Me!==null){var Be=Me.$$typeof;switch(Be){case T:switch(Me=Me.type,Me){case I:case L:case N:case Q:case te:case Re:return Me;default:switch(Me=Me&&Me.$$typeof,Me){case H:case z:case ie:case G:return Me;case B:return Me;default:return Be}}case $:return Be}}}return reactIs_production.ContextConsumer=B,reactIs_production.ContextProvider=H,reactIs_production.Element=T,reactIs_production.ForwardRef=z,reactIs_production.Fragment=I,reactIs_production.Lazy=ie,reactIs_production.Memo=G,reactIs_production.Portal=$,reactIs_production.Profiler=L,reactIs_production.StrictMode=N,reactIs_production.Suspense=Q,reactIs_production.SuspenseList=te,reactIs_production.isContextConsumer=function(Me){return Pe(Me)===B},reactIs_production.isContextProvider=function(Me){return Pe(Me)===H},reactIs_production.isElement=function(Me){return typeof Me=="object"&&Me!==null&&Me.$$typeof===T},reactIs_production.isForwardRef=function(Me){return Pe(Me)===z},reactIs_production.isFragment=function(Me){return Pe(Me)===I},reactIs_production.isLazy=function(Me){return Pe(Me)===ie},reactIs_production.isMemo=function(Me){return Pe(Me)===G},reactIs_production.isPortal=function(Me){return Pe(Me)===$},reactIs_production.isProfiler=function(Me){return Pe(Me)===L},reactIs_production.isStrictMode=function(Me){return Pe(Me)===N},reactIs_production.isSuspense=function(Me){return Pe(Me)===Q},reactIs_production.isSuspenseList=function(Me){return Pe(Me)===te},reactIs_production.isValidElementType=function(Me){return typeof Me=="string"||typeof Me=="function"||Me===I||Me===L||Me===N||Me===Q||Me===te||typeof Me=="object"&&Me!==null&&(Me.$$typeof===ie||Me.$$typeof===G||Me.$$typeof===H||Me.$$typeof===B||Me.$$typeof===z||Me.$$typeof===$e||Me.getModuleId!==void 0)},reactIs_production.typeOf=Pe,reactIs_production}reactIs.exports=requireReactIs_production();var reactIsExports=reactIs.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(T){const $=`${T}`.match(fnNameMatchRegex);return $&&$[1]||""}function getFunctionComponentName(T,$=""){return T.displayName||T.name||getFunctionName(T)||$}function getWrappedName(T,$,I){const N=getFunctionComponentName($);return T.displayName||(N!==""?`${I}(${N})`:I)}function getDisplayName$1(T){if(T!=null){if(typeof T=="string")return T;if(typeof T=="function")return getFunctionComponentName(T,"Component");if(typeof T=="object")switch(T.$$typeof){case reactIsExports.ForwardRef:return getWrappedName(T,T.render,"ForwardRef");case reactIsExports.Memo:return getWrappedName(T,T.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName},Symbol.toStringTag,{value:"Module"})),_excluded$15=["ownerState"],_excluded2$9=["variants"],_excluded3$2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$5(T){return Object.keys(T).length===0}function isStringTag$1(T){return typeof T=="string"&&T.charCodeAt(0)>96}function shouldForwardProp$1(T){return T!=="ownerState"&&T!=="theme"&&T!=="sx"&&T!=="as"}const systemDefaultTheme$1=createTheme$2(),lowercaseFirstLetter$1=T=>T&&T.charAt(0).toLowerCase()+T.slice(1);function resolveTheme$1({defaultTheme:T,theme:$,themeId:I}){return isEmpty$5($)?T:$[I]||$}function defaultOverridesResolver$1(T){return T?($,I)=>I[T]:null}function processStyleArg$1(T,$){let{ownerState:I}=$,N=_objectWithoutPropertiesLoose($,_excluded$15);const L=typeof T=="function"?T(_extends$1({ownerState:I},N)):T;if(Array.isArray(L))return L.flatMap(B=>processStyleArg$1(B,_extends$1({ownerState:I},N)));if(L&&typeof L=="object"&&Array.isArray(L.variants)){const{variants:B=[]}=L;let z=_objectWithoutPropertiesLoose(L,_excluded2$9);return B.forEach(Q=>{let te=!0;typeof Q.props=="function"?te=Q.props(_extends$1({ownerState:I},N,I)):Object.keys(Q.props).forEach(G=>{(I==null?void 0:I[G])!==Q.props[G]&&N[G]!==Q.props[G]&&(te=!1)}),te&&(Array.isArray(z)||(z=[z]),z.push(typeof Q.style=="function"?Q.style(_extends$1({ownerState:I},N,I)):Q.style))}),z}return L}function createStyled$2(T={}){const{themeId:$,defaultTheme:I=systemDefaultTheme$1,rootShouldForwardProp:N=shouldForwardProp$1,slotShouldForwardProp:L=shouldForwardProp$1}=T,B=H=>styleFunctionSx$1(_extends$1({},H,{theme:resolveTheme$1(_extends$1({},H,{defaultTheme:I,themeId:$}))}));return B.__mui_systemSx=!0,(H,z={})=>{internal_processStyles(H,Ge=>Ge.filter(at=>!(at!=null&&at.__mui_systemSx)));const{name:Q,slot:te,skipVariantsResolver:G,skipSx:ie,overridesResolver:Re=defaultOverridesResolver$1(lowercaseFirstLetter$1(te))}=z,$e=_objectWithoutPropertiesLoose(z,_excluded3$2),Pe=G!==void 0?G:te&&te!=="Root"&&te!=="root"||!1,Me=ie||!1;let Be,Ke=shouldForwardProp$1;te==="Root"||te==="root"?Ke=N:te?Ke=L:isStringTag$1(H)&&(Ke=void 0);const Le=styled$2(H,_extends$1({shouldForwardProp:Ke,label:Be},$e)),qe=Ge=>typeof Ge=="function"&&Ge.__emotion_real!==Ge||isPlainObject$1(Ge)?at=>processStyleArg$1(Ge,_extends$1({},at,{theme:resolveTheme$1({theme:at.theme,defaultTheme:I,themeId:$})})):Ge,He=(Ge,...at)=>{let ot=qe(Ge);const Ye=at?at.map(qe):[];Q&&Re&&Ye.push(tt=>{const ze=resolveTheme$1(_extends$1({},tt,{defaultTheme:I,themeId:$}));if(!ze.components||!ze.components[Q]||!ze.components[Q].styleOverrides)return null;const Fe=ze.components[Q].styleOverrides,ke={};return Object.entries(Fe).forEach(([Ue,Je])=>{ke[Ue]=processStyleArg$1(Je,_extends$1({},tt,{theme:ze}))}),Re(tt,ke)}),Q&&!Pe&&Ye.push(tt=>{var ze;const Fe=resolveTheme$1(_extends$1({},tt,{defaultTheme:I,themeId:$})),ke=Fe==null||(ze=Fe.components)==null||(ze=ze[Q])==null?void 0:ze.variants;return processStyleArg$1({variants:ke},_extends$1({},tt,{theme:Fe}))}),Me||Ye.push(B);const nt=Ye.length-at.length;if(Array.isArray(Ge)&&nt>0){const tt=new Array(nt).fill("");ot=[...Ge,...tt],ot.raw=[...Ge.raw,...tt]}const Qe=Le(ot,...Ye);return H.muiName&&(Qe.muiName=H.muiName),Qe};return Le.withConfig&&(He.withConfig=Le.withConfig),He}}const styled$1=createStyled$2();function resolveProps(T,$){const I=_extends$1({},$);return Object.keys(T).forEach(N=>{if(N.toString().match(/^(components|slots)$/))I[N]=_extends$1({},T[N],I[N]);else if(N.toString().match(/^(componentsProps|slotProps)$/)){const L=T[N]||{},B=$[N];I[N]={},!B||!Object.keys(B)?I[N]=L:!L||!Object.keys(L)?I[N]=B:(I[N]=_extends$1({},B),Object.keys(L).forEach(H=>{I[N][H]=resolveProps(L[H],B[H])}))}else I[N]===void 0&&(I[N]=T[N])}),I}function getThemeProps$1(T){const{theme:$,name:I,props:N}=T;return!$||!$.components||!$.components[I]||!$.components[I].defaultProps?N:resolveProps($.components[I].defaultProps,N)}function useThemeProps({props:T,name:$,defaultTheme:I,themeId:N}){let L=useTheme$3(I);return N&&(L=L[N]||L),getThemeProps$1({theme:L,name:$,props:T})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useMediaQueryOld(T,$,I,N,L){const[B,H]=reactExports.useState(()=>L&&I?I(T).matches:N?N(T).matches:$);return useEnhancedEffect(()=>{let z=!0;if(!I)return;const Q=I(T),te=()=>{z&&H(Q.matches)};return te(),Q.addListener(te),()=>{z=!1,Q.removeListener(te)}},[T,I]),B}const maybeReactUseSyncExternalStore=reactExports.useSyncExternalStore;function useMediaQueryNew(T,$,I,N,L){const B=reactExports.useCallback(()=>$,[$]),H=reactExports.useMemo(()=>{if(L&&I)return()=>I(T).matches;if(N!==null){const{matches:G}=N(T);return()=>G}return B},[B,T,N,L,I]),[z,Q]=reactExports.useMemo(()=>{if(I===null)return[B,()=>()=>{}];const G=I(T);return[()=>G.matches,ie=>(G.addListener(ie),()=>{G.removeListener(ie)})]},[B,I,T]);return maybeReactUseSyncExternalStore(Q,z,H)}function useMediaQuery(T,$={}){const I=useTheme$4(),N=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:L=!1,matchMedia:B=N?window.matchMedia:null,ssrMatchMedia:H=null,noSsr:z=!1}=getThemeProps$1({name:"MuiUseMediaQuery",props:$,theme:I});let Q=typeof T=="function"?T(I):T;return Q=Q.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(Q,L,B,H,z)}function clamp(T,$=Number.MIN_SAFE_INTEGER,I=Number.MAX_SAFE_INTEGER){return Math.max($,Math.min(T,I))}function createChainedFunction(...T){return T.reduce(($,I)=>I==null?$:function(...L){$.apply(this,L),I.apply(this,L)},()=>{})}function debounce$1(T,$=166){let I;function N(...L){const B=()=>{T.apply(this,L)};clearTimeout(I),I=setTimeout(B,$)}return N.clear=()=>{clearTimeout(I)},N}function deprecatedPropType(T,$){return()=>null}function isMuiElement(T,$){var I,N;return reactExports.isValidElement(T)&&$.indexOf((I=T.type.muiName)!=null?I:(N=T.type)==null||(N=N._payload)==null||(N=N.value)==null?void 0:N.muiName)!==-1}function ownerDocument(T){return T&&T.ownerDocument||document}function ownerWindow(T){return ownerDocument(T).defaultView||window}function requirePropFactory(T,$){return()=>null}function setRef(T,$){typeof T=="function"?T($):T&&(T.current=$)}let globalId=0;function useGlobalId(T){const[$,I]=reactExports.useState(T),N=T||$;return reactExports.useEffect(()=>{$==null&&(globalId+=1,I(`mui-${globalId}`))},[$]),N}const maybeReactUseId=React$2.useId;function useId(T){if(maybeReactUseId!==void 0){const $=maybeReactUseId();return T??$}return useGlobalId(T)}function unsupportedProp(T,$,I,N,L){return null}function useControlled({controlled:T,default:$,name:I,state:N="value"}){const{current:L}=reactExports.useRef(T!==void 0),[B,H]=reactExports.useState($),z=L?T:B,Q=reactExports.useCallback(te=>{L||H(te)},[]);return[z,Q]}function useEventCallback(T){const $=reactExports.useRef(T);return useEnhancedEffect(()=>{$.current=T}),reactExports.useRef((...I)=>(0,$.current)(...I)).current}function useForkRef(...T){return reactExports.useMemo(()=>T.every($=>$==null)?null:$=>{T.forEach(I=>{setRef(I,$)})},T)}const UNINITIALIZED={};function useLazyRef(T,$){const I=reactExports.useRef(UNINITIALIZED);return I.current===UNINITIALIZED&&(I.current=T($)),I}const EMPTY=[];function useOnMount(T){reactExports.useEffect(T,EMPTY)}class Timeout{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start($,I){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,I()},$)}}function useTimeout(){const T=useLazyRef(Timeout.create).current;return useOnMount(T.disposeEffect),T}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(T){const{type:$,tagName:I}=T;return!!(I==="INPUT"&&inputTypesWhitelist[$]&&!T.readOnly||I==="TEXTAREA"&&!T.readOnly||T.isContentEditable)}function handleKeyDown(T){T.metaKey||T.altKey||T.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(T){T.addEventListener("keydown",handleKeyDown,!0),T.addEventListener("mousedown",handlePointerDown,!0),T.addEventListener("pointerdown",handlePointerDown,!0),T.addEventListener("touchstart",handlePointerDown,!0),T.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(T){const{target:$}=T;try{return $.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality($)}function useIsFocusVisible(){const T=reactExports.useCallback(L=>{L!=null&&prepare(L.ownerDocument)},[]),$=reactExports.useRef(!1);function I(){return $.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),$.current=!1,!0):!1}function N(L){return isFocusVisible(L)?($.current=!0,!0):!1}return{isFocusVisibleRef:$,onFocus:N,onBlur:I,ref:T}}function getScrollbarSize(T){const $=T.documentElement.clientWidth;return Math.abs(window.innerWidth-$)}const visuallyHidden={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function composeClasses(T,$,I=void 0){const N={};return Object.keys(T).forEach(L=>{N[L]=T[L].reduce((B,H)=>{if(H){const z=$(H);z!==""&&B.push(z),I&&I[H]&&B.push(I[H])}return B},[]).join(" ")}),N}function isHostComponent(T){return typeof T=="string"}function appendOwnerState(T,$,I){return T===void 0||isHostComponent(T)?$:_extends$1({},$,{ownerState:_extends$1({},$.ownerState,I)})}function extractEventHandlers(T,$=[]){if(T===void 0)return{};const I={};return Object.keys(T).filter(N=>N.match(/^on[A-Z]/)&&typeof T[N]=="function"&&!$.includes(N)).forEach(N=>{I[N]=T[N]}),I}function omitEventHandlers(T){if(T===void 0)return{};const $={};return Object.keys(T).filter(I=>!(I.match(/^on[A-Z]/)&&typeof T[I]=="function")).forEach(I=>{$[I]=T[I]}),$}function mergeSlotProps(T){const{getSlotProps:$,additionalProps:I,externalSlotProps:N,externalForwardedProps:L,className:B}=T;if(!$){const $e=clsx(I==null?void 0:I.className,B,L==null?void 0:L.className,N==null?void 0:N.className),Pe=_extends$1({},I==null?void 0:I.style,L==null?void 0:L.style,N==null?void 0:N.style),Me=_extends$1({},I,L,N);return $e.length>0&&(Me.className=$e),Object.keys(Pe).length>0&&(Me.style=Pe),{props:Me,internalRef:void 0}}const H=extractEventHandlers(_extends$1({},L,N)),z=omitEventHandlers(N),Q=omitEventHandlers(L),te=$(H),G=clsx(te==null?void 0:te.className,I==null?void 0:I.className,B,L==null?void 0:L.className,N==null?void 0:N.className),ie=_extends$1({},te==null?void 0:te.style,I==null?void 0:I.style,L==null?void 0:L.style,N==null?void 0:N.style),Re=_extends$1({},te,I,Q,z);return G.length>0&&(Re.className=G),Object.keys(ie).length>0&&(Re.style=ie),{props:Re,internalRef:te.ref}}function resolveComponentProps(T,$,I){return typeof T=="function"?T($,I):T}const _excluded$14=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(T){var $;const{elementType:I,externalSlotProps:N,ownerState:L,skipResolvingSlotProps:B=!1}=T,H=_objectWithoutPropertiesLoose(T,_excluded$14),z=B?{}:resolveComponentProps(N,L),{props:Q,internalRef:te}=mergeSlotProps(_extends$1({},H,{externalSlotProps:z})),G=useForkRef(te,z==null?void 0:z.ref,($=T.additionalProps)==null?void 0:$.ref);return appendOwnerState(I,_extends$1({},Q,{ref:G}),L)}function getReactElementRef(T){if(parseInt(reactExports.version,10)>=19){var $;return(T==null||($=T.props)==null?void 0:$.ref)||null}return(T==null?void 0:T.ref)||null}const ThemeContext=reactExports.createContext(null);function useTheme$2(){return reactExports.useContext(ThemeContext)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(T,$){return typeof $=="function"?$(T):_extends$1({},T,$)}function ThemeProvider$2(T){const{children:$,theme:I}=T,N=useTheme$2(),L=reactExports.useMemo(()=>{const B=N===null?I:mergeOuterLocalTheme(N,I);return B!=null&&(B[nested]=N!==null),B},[I,N]);return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:L,children:$})}const _excluded$13=["value"],RtlContext=reactExports.createContext();function RtlProvider(T){let{value:$}=T,I=_objectWithoutPropertiesLoose(T,_excluded$13);return jsxRuntimeExports.jsx(RtlContext.Provider,_extends$1({value:$??!0},I))}const useRtl=()=>{const T=reactExports.useContext(RtlContext);return T??!1},PropsContext=reactExports.createContext(void 0);function DefaultPropsProvider({value:T,children:$}){return jsxRuntimeExports.jsx(PropsContext.Provider,{value:T,children:$})}function getThemeProps(T){const{theme:$,name:I,props:N}=T;if(!$||!$.components||!$.components[I])return N;const L=$.components[I];return L.defaultProps?resolveProps(L.defaultProps,N):!L.styleOverrides&&!L.variants?resolveProps(L,N):N}function useDefaultProps$1({props:T,name:$}){const I=reactExports.useContext(PropsContext);return getThemeProps({props:T,name:$,theme:{components:I}})}const EMPTY_THEME={};function useThemeScoping(T,$,I,N=!1){return reactExports.useMemo(()=>{const L=T&&$[T]||$;if(typeof I=="function"){const B=I(L),H=T?_extends$1({},$,{[T]:B}):B;return N?()=>H:H}return T?_extends$1({},$,{[T]:I}):_extends$1({},$,I)},[T,$,I,N])}function ThemeProvider$1(T){const{children:$,theme:I,themeId:N}=T,L=useTheme$4(EMPTY_THEME),B=useTheme$2()||EMPTY_THEME,H=useThemeScoping(N,L,I),z=useThemeScoping(N,B,I,!0),Q=H.direction==="rtl";return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:z,children:jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:H,children:jsxRuntimeExports.jsx(RtlProvider,{value:Q,children:jsxRuntimeExports.jsx(DefaultPropsProvider,{value:H==null?void 0:H.components,children:$})})})})}const _excluded$12=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$2=createTheme$2(),defaultCreateStyledComponent=styled$1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[`maxWidth${capitalize(String(I.maxWidth))}`],I.fixed&&$.fixed,I.disableGutters&&$.disableGutters]}}),useThemePropsDefault=T=>useThemeProps({props:T,name:"MuiContainer",defaultTheme:defaultTheme$2}),useUtilityClasses$O=(T,$)=>{const I=Q=>generateUtilityClass($,Q),{classes:N,fixed:L,disableGutters:B,maxWidth:H}=T,z={root:["root",H&&`maxWidth${capitalize(String(H))}`,L&&"fixed",B&&"disableGutters"]};return composeClasses(z,I,N)};function createContainer(T={}){const{createStyledComponent:$=defaultCreateStyledComponent,useThemeProps:I=useThemePropsDefault,componentName:N="MuiContainer"}=T,L=$(({theme:H,ownerState:z})=>_extends$1({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!z.disableGutters&&{paddingLeft:H.spacing(2),paddingRight:H.spacing(2),[H.breakpoints.up("sm")]:{paddingLeft:H.spacing(3),paddingRight:H.spacing(3)}}),({theme:H,ownerState:z})=>z.fixed&&Object.keys(H.breakpoints.values).reduce((Q,te)=>{const G=te,ie=H.breakpoints.values[G];return ie!==0&&(Q[H.breakpoints.up(G)]={maxWidth:`${ie}${H.breakpoints.unit}`}),Q},{}),({theme:H,ownerState:z})=>_extends$1({},z.maxWidth==="xs"&&{[H.breakpoints.up("xs")]:{maxWidth:Math.max(H.breakpoints.values.xs,444)}},z.maxWidth&&z.maxWidth!=="xs"&&{[H.breakpoints.up(z.maxWidth)]:{maxWidth:`${H.breakpoints.values[z.maxWidth]}${H.breakpoints.unit}`}}));return reactExports.forwardRef(function(z,Q){const te=I(z),{className:G,component:ie="div",disableGutters:Re=!1,fixed:$e=!1,maxWidth:Pe="lg"}=te,Me=_objectWithoutPropertiesLoose(te,_excluded$12),Be=_extends$1({},te,{component:ie,disableGutters:Re,fixed:$e,maxWidth:Pe}),Ke=useUtilityClasses$O(Be,N);return jsxRuntimeExports.jsx(L,_extends$1({as:ie,ownerState:Be,className:clsx(Ke.root,G),ref:Q},Me))})}function createMixins(T,$){return _extends$1({toolbar:{minHeight:56,[T.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[T.up("sm")]:{minHeight:64}}},$)}var colorManipulator={},interopRequireDefault$2={exports:{}};(function(T){function $(I){return I&&I.__esModule?I:{default:I}}T.exports=$,T.exports.__esModule=!0,T.exports.default=T.exports})(interopRequireDefault$2);var interopRequireDefaultExports=interopRequireDefault$2.exports;const interopRequireDefault=getDefaultExportFromCjs$1(interopRequireDefaultExports),interopRequireDefault$1=_mergeNamespaces({__proto__:null,default:interopRequireDefault},[interopRequireDefaultExports]);var _interopRequireDefault$e=interopRequireDefault$1;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;colorManipulator.emphasize=emphasize;var getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$e(formatMuiErrorMessage),_clamp=_interopRequireDefault$e(clamp);function clampWrapper(T,$=0,I=1){return(0,_clamp.default)(T,$,I)}function hexToRgb(T){T=T.slice(1);const $=new RegExp(`.{1,${T.length>=6?2:1}}`,"g");let I=T.match($);return I&&I[0].length===1&&(I=I.map(N=>N+N)),I?`rgb${I.length===4?"a":""}(${I.map((N,L)=>L<3?parseInt(N,16):Math.round(parseInt(N,16)/255*1e3)/1e3).join(", ")})`:""}function intToHex(T){const $=T.toString(16);return $.length===1?`0${$}`:$}function decomposeColor(T){if(T.type)return T;if(T.charAt(0)==="#")return decomposeColor(hexToRgb(T));const $=T.indexOf("("),I=T.substring(0,$);if(["rgb","rgba","hsl","hsla","color"].indexOf(I)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,T));let N=T.substring($+1,T.length-1),L;if(I==="color"){if(N=N.split(" "),L=N.shift(),N.length===4&&N[3].charAt(0)==="/"&&(N[3]=N[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(L)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,L))}else N=N.split(",");return N=N.map(B=>parseFloat(B)),{type:I,values:N,colorSpace:L}}const colorChannel=T=>{const $=decomposeColor(T);return $.values.slice(0,3).map((I,N)=>$.type.indexOf("hsl")!==-1&&N!==0?`${I}%`:I).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(T,$)=>{try{return colorChannel(T)}catch{return T}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor(T){const{type:$,colorSpace:I}=T;let{values:N}=T;return $.indexOf("rgb")!==-1?N=N.map((L,B)=>B<3?parseInt(L,10):L):$.indexOf("hsl")!==-1&&(N[1]=`${N[1]}%`,N[2]=`${N[2]}%`),$.indexOf("color")!==-1?N=`${I} ${N.join(" ")}`:N=`${N.join(", ")}`,`${$}(${N})`}function rgbToHex(T){if(T.indexOf("#")===0)return T;const{values:$}=decomposeColor(T);return`#${$.map((I,N)=>intToHex(N===3?Math.round(255*I):I)).join("")}`}function hslToRgb(T){T=decomposeColor(T);const{values:$}=T,I=$[0],N=$[1]/100,L=$[2]/100,B=N*Math.min(L,1-L),H=(te,G=(te+I/30)%12)=>L-B*Math.max(Math.min(G-3,9-G,1),-1);let z="rgb";const Q=[Math.round(H(0)*255),Math.round(H(8)*255),Math.round(H(4)*255)];return T.type==="hsla"&&(z+="a",Q.push($[3])),recomposeColor({type:z,values:Q})}function getLuminance(T){T=decomposeColor(T);let $=T.type==="hsl"||T.type==="hsla"?decomposeColor(hslToRgb(T)).values:T.values;return $=$.map(I=>(T.type!=="color"&&(I/=255),I<=.03928?I/12.92:((I+.055)/1.055)**2.4)),Number((.2126*$[0]+.7152*$[1]+.0722*$[2]).toFixed(3))}function getContrastRatio(T,$){const I=getLuminance(T),N=getLuminance($);return(Math.max(I,N)+.05)/(Math.min(I,N)+.05)}function alpha(T,$){return T=decomposeColor(T),$=clampWrapper($),(T.type==="rgb"||T.type==="hsl")&&(T.type+="a"),T.type==="color"?T.values[3]=`/${$}`:T.values[3]=$,recomposeColor(T)}function private_safeAlpha(T,$,I){try{return alpha(T,$)}catch{return T}}function darken(T,$){if(T=decomposeColor(T),$=clampWrapper($),T.type.indexOf("hsl")!==-1)T.values[2]*=1-$;else if(T.type.indexOf("rgb")!==-1||T.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)T.values[I]*=1-$;return recomposeColor(T)}function private_safeDarken(T,$,I){try{return darken(T,$)}catch{return T}}function lighten(T,$){if(T=decomposeColor(T),$=clampWrapper($),T.type.indexOf("hsl")!==-1)T.values[2]+=(100-T.values[2])*$;else if(T.type.indexOf("rgb")!==-1)for(let I=0;I<3;I+=1)T.values[I]+=(255-T.values[I])*$;else if(T.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)T.values[I]+=(1-T.values[I])*$;return recomposeColor(T)}function private_safeLighten(T,$,I){try{return lighten(T,$)}catch{return T}}function emphasize(T,$=.15){return getLuminance(T)>.5?darken(T,$):lighten(T,$)}function private_safeEmphasize(T,$,I){try{return emphasize(T,$)}catch{return T}}function blend(T,$,I,N=1){const L=(Q,te)=>Math.round((Q**(1/N)*(1-I)+te**(1/N)*I)**N),B=decomposeColor(T),H=decomposeColor($),z=[L(B.values[0],H.values[0]),L(B.values[1],H.values[1]),L(B.values[2],H.values[2])];return recomposeColor({type:"rgb",values:z})}const common$a={black:"#000",white:"#fff"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},purple={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},red={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},orange={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},blue={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lightBlue={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},green={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},_excluded$11=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$a.white,default:common$a.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$a.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$a.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(T,$,I,N){const L=N.light||N,B=N.dark||N*1.5;T[$]||(T.hasOwnProperty(I)?T[$]=T[I]:$==="light"?T.light=lighten_1(T.main,L):$==="dark"&&(T.dark=darken_1(T.main,B)))}function getDefaultPrimary(T="light"){return T==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(T="light"){return T==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(T="light"){return T==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(T="light"){return T==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(T="light"){return T==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(T="light"){return T==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(T){const{mode:$="light",contrastThreshold:I=3,tonalOffset:N=.2}=T,L=_objectWithoutPropertiesLoose(T,_excluded$11),B=T.primary||getDefaultPrimary($),H=T.secondary||getDefaultSecondary($),z=T.error||getDefaultError($),Q=T.info||getDefaultInfo($),te=T.success||getDefaultSuccess($),G=T.warning||getDefaultWarning($);function ie(Me){return getContrastRatio_1(Me,dark.text.primary)>=I?dark.text.primary:light.text.primary}const Re=({color:Me,name:Be,mainShade:Ke=500,lightShade:Le=300,darkShade:qe=700})=>{if(Me=_extends$1({},Me),!Me.main&&Me[Ke]&&(Me.main=Me[Ke]),!Me.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Be?` (${Be})`:"",Ke));if(typeof Me.main!="string")throw new Error(formatMuiErrorMessage(12,Be?` (${Be})`:"",JSON.stringify(Me.main)));return addLightOrDark(Me,"light",Le,N),addLightOrDark(Me,"dark",qe,N),Me.contrastText||(Me.contrastText=ie(Me.main)),Me},$e={dark,light};return deepmerge$1(_extends$1({common:_extends$1({},common$a),mode:$,primary:Re({color:B,name:"primary"}),secondary:Re({color:H,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Re({color:z,name:"error"}),warning:Re({color:G,name:"warning"}),info:Re({color:Q,name:"info"}),success:Re({color:te,name:"success"}),grey,contrastThreshold:I,getContrastText:ie,augmentColor:Re,tonalOffset:N},$e[$]),L)}const _excluded$10=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$6(T){return Math.round(T*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(T,$){const I=typeof $=="function"?$(T):$,{fontFamily:N=defaultFontFamily,fontSize:L=14,fontWeightLight:B=300,fontWeightRegular:H=400,fontWeightMedium:z=500,fontWeightBold:Q=700,htmlFontSize:te=16,allVariants:G,pxToRem:ie}=I,Re=_objectWithoutPropertiesLoose(I,_excluded$10),$e=L/14,Pe=ie||(Ke=>`${Ke/te*$e}rem`),Me=(Ke,Le,qe,He,Ge)=>_extends$1({fontFamily:N,fontWeight:Ke,fontSize:Pe(Le),lineHeight:qe},N===defaultFontFamily?{letterSpacing:`${round$6(He/Le)}em`}:{},Ge,G),Be={h1:Me(B,96,1.167,-1.5),h2:Me(B,60,1.2,-.5),h3:Me(H,48,1.167,0),h4:Me(H,34,1.235,.25),h5:Me(H,24,1.334,0),h6:Me(z,20,1.6,.15),subtitle1:Me(H,16,1.75,.15),subtitle2:Me(z,14,1.57,.1),body1:Me(H,16,1.5,.15),body2:Me(H,14,1.43,.15),button:Me(z,14,1.75,.4,caseAllCaps),caption:Me(H,12,1.66,.4),overline:Me(H,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends$1({htmlFontSize:te,pxToRem:Pe,fontFamily:N,fontSize:L,fontWeightLight:B,fontWeightRegular:H,fontWeightMedium:z,fontWeightBold:Q},Be),Re,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...T){return[`${T[0]}px ${T[1]}px ${T[2]}px ${T[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${T[4]}px ${T[5]}px ${T[6]}px ${T[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${T[8]}px ${T[9]}px ${T[10]}px ${T[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],_excluded$$=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(T){return`${Math.round(T)}ms`}function getAutoHeightDuration(T){if(!T)return 0;const $=T/36;return Math.round((4+15*$**.25+$/5)*10)}function createTransitions(T){const $=_extends$1({},easing,T.easing),I=_extends$1({},duration,T.duration);return _extends$1({getAutoHeightDuration,create:(L=["all"],B={})=>{const{duration:H=I.standard,easing:z=$.easeInOut,delay:Q=0}=B;return _objectWithoutPropertiesLoose(B,_excluded$$),(Array.isArray(L)?L:[L]).map(te=>`${te} ${typeof H=="string"?H:formatMs(H)} ${z} ${typeof Q=="string"?Q:formatMs(Q)}`).join(",")}},T,{easing:$,duration:I})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_excluded$_=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(T={},...$){const{mixins:I={},palette:N={},transitions:L={},typography:B={}}=T,H=_objectWithoutPropertiesLoose(T,_excluded$_);if(T.vars&&T.generateCssVars===void 0)throw new Error(formatMuiErrorMessage(18));const z=createPalette(N),Q=createTheme$2(T);let te=deepmerge$1(Q,{mixins:createMixins(Q.breakpoints,I),palette:z,shadows:shadows.slice(),typography:createTypography(z,B),transitions:createTransitions(L),zIndex:_extends$1({},zIndex)});return te=deepmerge$1(te,H),te=$.reduce((G,ie)=>deepmerge$1(G,ie),te),te.unstable_sxConfig=_extends$1({},defaultSxConfig,H==null?void 0:H.unstable_sxConfig),te.unstable_sx=function(ie){return styleFunctionSx$1({sx:ie,theme:this})},te}const defaultTheme$1=createTheme();function useTheme$1(){const T=useTheme$3(defaultTheme$1);return T[THEME_ID]||T}var createStyled$1={},_extends={exports:{}},hasRequired_extends;function require_extends(){return hasRequired_extends||(hasRequired_extends=1,function(T){function $(){return T.exports=$=Object.assign?Object.assign.bind():function(I){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var B in L)({}).hasOwnProperty.call(L,B)&&(I[B]=L[B])}return I},T.exports.__esModule=!0,T.exports.default=T.exports,$.apply(null,arguments)}T.exports=$,T.exports.__esModule=!0,T.exports.default=T.exports}(_extends)),_extends.exports}var objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(T){function $(I,N){if(I==null)return{};var L={};for(var B in I)if({}.hasOwnProperty.call(I,B)){if(N.indexOf(B)!==-1)continue;L[B]=I[B]}return L}T.exports=$,T.exports.__esModule=!0,T.exports.default=T.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}var _interopRequireDefault$d=interopRequireDefault$1;Object.defineProperty(createStyled$1,"__esModule",{value:!0});var _default$1g=createStyled$1.default=createStyled;createStyled$1.shouldForwardProp=shouldForwardProp;createStyled$1.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault$d(require_extends()),_objectWithoutPropertiesLoose2=_interopRequireDefault$d(requireObjectWithoutPropertiesLoose()),_styledEngine$1=_interopRequireWildcard$1(styledEngine),_deepmerge=deepmerge;_interopRequireDefault$d(capitalize);_interopRequireDefault$d(getDisplayName);var _createTheme=_interopRequireDefault$d(createTheme$1),_styleFunctionSx=_interopRequireDefault$d(styleFunctionSx);const _excluded$Z=["ownerState"],_excluded2$8=["variants"],_excluded3$1=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache$1(T){if(typeof WeakMap!="function")return null;var $=new WeakMap,I=new WeakMap;return(_getRequireWildcardCache$1=function(N){return N?I:$})(T)}function _interopRequireWildcard$1(T,$){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var I=_getRequireWildcardCache$1($);if(I&&I.has(T))return I.get(T);var N={__proto__:null},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in T)if(B!=="default"&&Object.prototype.hasOwnProperty.call(T,B)){var H=L?Object.getOwnPropertyDescriptor(T,B):null;H&&(H.get||H.set)?Object.defineProperty(N,B,H):N[B]=T[B]}return N.default=T,I&&I.set(T,N),N}function isEmpty$4(T){return Object.keys(T).length===0}function isStringTag(T){return typeof T=="string"&&T.charCodeAt(0)>96}function shouldForwardProp(T){return T!=="ownerState"&&T!=="theme"&&T!=="sx"&&T!=="as"}const systemDefaultTheme=createStyled$1.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=T=>T&&T.charAt(0).toLowerCase()+T.slice(1);function resolveTheme({defaultTheme:T,theme:$,themeId:I}){return isEmpty$4($)?T:$[I]||$}function defaultOverridesResolver(T){return T?($,I)=>I[T]:null}function processStyleArg(T,$){let{ownerState:I}=$,N=(0,_objectWithoutPropertiesLoose2.default)($,_excluded$Z);const L=typeof T=="function"?T((0,_extends2.default)({ownerState:I},N)):T;if(Array.isArray(L))return L.flatMap(B=>processStyleArg(B,(0,_extends2.default)({ownerState:I},N)));if(L&&typeof L=="object"&&Array.isArray(L.variants)){const{variants:B=[]}=L;let z=(0,_objectWithoutPropertiesLoose2.default)(L,_excluded2$8);return B.forEach(Q=>{let te=!0;typeof Q.props=="function"?te=Q.props((0,_extends2.default)({ownerState:I},N,I)):Object.keys(Q.props).forEach(G=>{(I==null?void 0:I[G])!==Q.props[G]&&N[G]!==Q.props[G]&&(te=!1)}),te&&(Array.isArray(z)||(z=[z]),z.push(typeof Q.style=="function"?Q.style((0,_extends2.default)({ownerState:I},N,I)):Q.style))}),z}return L}function createStyled(T={}){const{themeId:$,defaultTheme:I=systemDefaultTheme,rootShouldForwardProp:N=shouldForwardProp,slotShouldForwardProp:L=shouldForwardProp}=T,B=H=>(0,_styleFunctionSx.default)((0,_extends2.default)({},H,{theme:resolveTheme((0,_extends2.default)({},H,{defaultTheme:I,themeId:$}))}));return B.__mui_systemSx=!0,(H,z={})=>{(0,_styledEngine$1.internal_processStyles)(H,Ge=>Ge.filter(at=>!(at!=null&&at.__mui_systemSx)));const{name:Q,slot:te,skipVariantsResolver:G,skipSx:ie,overridesResolver:Re=defaultOverridesResolver(lowercaseFirstLetter(te))}=z,$e=(0,_objectWithoutPropertiesLoose2.default)(z,_excluded3$1),Pe=G!==void 0?G:te&&te!=="Root"&&te!=="root"||!1,Me=ie||!1;let Be,Ke=shouldForwardProp;te==="Root"||te==="root"?Ke=N:te?Ke=L:isStringTag(H)&&(Ke=void 0);const Le=(0,_styledEngine$1.default)(H,(0,_extends2.default)({shouldForwardProp:Ke,label:Be},$e)),qe=Ge=>typeof Ge=="function"&&Ge.__emotion_real!==Ge||(0,_deepmerge.isPlainObject)(Ge)?at=>processStyleArg(Ge,(0,_extends2.default)({},at,{theme:resolveTheme({theme:at.theme,defaultTheme:I,themeId:$})})):Ge,He=(Ge,...at)=>{let ot=qe(Ge);const Ye=at?at.map(qe):[];Q&&Re&&Ye.push(tt=>{const ze=resolveTheme((0,_extends2.default)({},tt,{defaultTheme:I,themeId:$}));if(!ze.components||!ze.components[Q]||!ze.components[Q].styleOverrides)return null;const Fe=ze.components[Q].styleOverrides,ke={};return Object.entries(Fe).forEach(([Ue,Je])=>{ke[Ue]=processStyleArg(Je,(0,_extends2.default)({},tt,{theme:ze}))}),Re(tt,ke)}),Q&&!Pe&&Ye.push(tt=>{var ze;const Fe=resolveTheme((0,_extends2.default)({},tt,{defaultTheme:I,themeId:$})),ke=Fe==null||(ze=Fe.components)==null||(ze=ze[Q])==null?void 0:ze.variants;return processStyleArg({variants:ke},(0,_extends2.default)({},tt,{theme:Fe}))}),Me||Ye.push(B);const nt=Ye.length-at.length;if(Array.isArray(Ge)&&nt>0){const tt=new Array(nt).fill("");ot=[...Ge,...tt],ot.raw=[...Ge.raw,...tt]}const Qe=Le(ot,...Ye);return H.muiName&&(Qe.muiName=H.muiName),Qe};return Le.withConfig&&(He.withConfig=Le.withConfig),He}}function slotShouldForwardProp(T){return T!=="ownerState"&&T!=="theme"&&T!=="sx"&&T!=="as"}const rootShouldForwardProp=T=>slotShouldForwardProp(T)&&T!=="classes",styled=_default$1g({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),_excluded$Y=["theme"];function ThemeProvider(T){let{theme:$}=T,I=_objectWithoutPropertiesLoose(T,_excluded$Y);const N=$[THEME_ID];let L=N||$;return typeof $!="function"&&(N&&!N.vars?L=_extends$1({},N,{vars:null}):$&&!$.vars&&(L=_extends$1({},$,{vars:null}))),jsxRuntimeExports.jsx(ThemeProvider$1,_extends$1({},I,{themeId:N?THEME_ID:void 0,theme:L}))}const getOverlayAlpha=T=>{let $;return T<1?$=5.11916*T**2:$=4.5*Math.log(T+1)+2,($/100).toFixed(2)};function useDefaultProps(T){return useDefaultProps$1(T)}function GlobalStyles(T){return jsxRuntimeExports.jsx(GlobalStyles$1,_extends$1({},T,{defaultTheme:defaultTheme$1,themeId:THEME_ID}))}const html=(T,$)=>_extends$1({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},$&&!T.vars&&{colorScheme:T.palette.mode}),body=T=>_extends$1({color:(T.vars||T).palette.text.primary},T.typography.body1,{backgroundColor:(T.vars||T).palette.background.default,"@media print":{backgroundColor:(T.vars||T).palette.common.white}}),styles$3=(T,$=!1)=>{var I;const N={};$&&T.colorSchemes&&Object.entries(T.colorSchemes).forEach(([H,z])=>{var Q;N[T.getColorSchemeSelector(H).replace(/\s*&/,"")]={colorScheme:(Q=z.palette)==null?void 0:Q.mode}});let L=_extends$1({html:html(T,$),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:T.typography.fontWeightBold},body:_extends$1({margin:0},body(T),{"&::backdrop":{backgroundColor:(T.vars||T).palette.background.default}})},N);const B=(I=T.components)==null||(I=I.MuiCssBaseline)==null?void 0:I.styleOverrides;return B&&(L=[L,B]),L};function CssBaseline(T){const $=useDefaultProps({props:T,name:"MuiCssBaseline"}),{children:I,enableColorScheme:N=!1}=$;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(GlobalStyles,{styles:L=>styles$3(L,N)}),I]})}const lightTheme={background:"#F5F5F5",cardBackground:"#FFFFFF",primary:"#000000",secondary:"#6E6E6E",accent:"#00BFFF",negative:"#F6465D"},darkTheme={background:"#0B0B1A",cardBackground:"#1E1E1E",primary:"#FFFFFF",secondary:"#B2B2B2",accent:"#00BFFF",negative:"#F6465D"},getTheme=T=>{const $=T==="light"?lightTheme:darkTheme;return createTheme({palette:{mode:T,background:{default:$.background,paper:$.cardBackground},text:{primary:$.primary,secondary:$.secondary},success:{main:$.accent},error:{main:$.negative}},typography:{h1:{fontSize:"2rem",fontWeight:700},h2:{fontSize:"1.5rem",fontWeight:600},h3:{fontSize:"1.25rem",fontWeight:600},body1:{fontSize:"1rem"},body2:{fontSize:"0.875rem"}},components:{MuiCard:{styleOverrides:{root:{backgroundColor:$.cardBackground,borderRadius:16,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}}},MuiButton:{styleOverrides:{root:{borderRadius:20,textTransform:"none",fontWeight:600}}}}})};function getSvgIconUtilityClass(T){return generateUtilityClass("MuiSvgIcon",T)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$X=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$N=T=>{const{color:$,fontSize:I,classes:N}=T,L={root:["root",$!=="inherit"&&`color${capitalize($)}`,`fontSize${capitalize(I)}`]};return composeClasses(L,getSvgIconUtilityClass,N)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.color!=="inherit"&&$[`color${capitalize(I.color)}`],$[`fontSize${capitalize(I.fontSize)}`]]}})(({theme:T,ownerState:$})=>{var I,N,L,B,H,z,Q,te,G,ie,Re,$e,Pe;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:$.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(I=T.transitions)==null||(N=I.create)==null?void 0:N.call(I,"fill",{duration:(L=T.transitions)==null||(L=L.duration)==null?void 0:L.shorter}),fontSize:{inherit:"inherit",small:((B=T.typography)==null||(H=B.pxToRem)==null?void 0:H.call(B,20))||"1.25rem",medium:((z=T.typography)==null||(Q=z.pxToRem)==null?void 0:Q.call(z,24))||"1.5rem",large:((te=T.typography)==null||(G=te.pxToRem)==null?void 0:G.call(te,35))||"2.1875rem"}[$.fontSize],color:(ie=(Re=(T.vars||T).palette)==null||(Re=Re[$.color])==null?void 0:Re.main)!=null?ie:{action:($e=(T.vars||T).palette)==null||($e=$e.action)==null?void 0:$e.active,disabled:(Pe=(T.vars||T).palette)==null||(Pe=Pe.action)==null?void 0:Pe.disabled,inherit:void 0}[$.color]}}),SvgIcon=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiSvgIcon"}),{children:L,className:B,color:H="inherit",component:z="svg",fontSize:Q="medium",htmlColor:te,inheritViewBox:G=!1,titleAccess:ie,viewBox:Re="0 0 24 24"}=N,$e=_objectWithoutPropertiesLoose(N,_excluded$X),Pe=reactExports.isValidElement(L)&&L.type==="svg",Me=_extends$1({},N,{color:H,component:z,fontSize:Q,instanceFontSize:$.fontSize,inheritViewBox:G,viewBox:Re,hasSvgAsChild:Pe}),Be={};G||(Be.viewBox=Re);const Ke=useUtilityClasses$N(Me);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends$1({as:z,className:clsx(Ke.root,B),focusable:"false",color:te,"aria-hidden":ie?void 0:!0,role:ie?"img":void 0,ref:I},Be,$e,Pe&&L.props,{ownerState:Me,children:[Pe?L.props.children:L,ie?jsxRuntimeExports.jsx("title",{children:ie}):null]}))});SvgIcon.muiName="SvgIcon";function createSvgIcon$1(T,$){function I(N,L){return jsxRuntimeExports.jsx(SvgIcon,_extends$1({"data-testid":`${$}Icon`,ref:L},N,{children:T}))}return I.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(I))}const unstable_ClassNameGenerator={configure:T=>{ClassNameGenerator.configure(T)}},utils$Q=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce:debounce$1,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(T,$){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,N){return I.__proto__=N,I},_setPrototypeOf(T,$)}function _inheritsLoose$1(T,$){T.prototype=Object.create($.prototype),T.prototype.constructor=T,_setPrototypeOf(T,$)}const config$1={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function($){return $.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(T){_inheritsLoose$1($,T);function $(N,L){var B;B=T.call(this,N,L)||this;var H=L,z=H&&!H.isMounting?N.enter:N.appear,Q;return B.appearStatus=null,N.in?z?(Q=EXITED,B.appearStatus=ENTERING):Q=ENTERED:N.unmountOnExit||N.mountOnEnter?Q=UNMOUNTED:Q=EXITED,B.state={status:Q},B.nextCallback=null,B}$.getDerivedStateFromProps=function(L,B){var H=L.in;return H&&B.status===UNMOUNTED?{status:EXITED}:null};var I=$.prototype;return I.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},I.componentDidUpdate=function(L){var B=null;if(L!==this.props){var H=this.state.status;this.props.in?H!==ENTERING&&H!==ENTERED&&(B=ENTERING):(H===ENTERING||H===ENTERED)&&(B=EXITING)}this.updateStatus(!1,B)},I.componentWillUnmount=function(){this.cancelNextCallback()},I.getTimeouts=function(){var L=this.props.timeout,B,H,z;return B=H=z=L,L!=null&&typeof L!="number"&&(B=L.exit,H=L.enter,z=L.appear!==void 0?L.appear:H),{exit:B,enter:H,appear:z}},I.updateStatus=function(L,B){if(L===void 0&&(L=!1),B!==null)if(this.cancelNextCallback(),B===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var H=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);H&&forceReflow(H)}this.performEnter(L)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},I.performEnter=function(L){var B=this,H=this.props.enter,z=this.context?this.context.isMounting:L,Q=this.props.nodeRef?[z]:[ReactDOM.findDOMNode(this),z],te=Q[0],G=Q[1],ie=this.getTimeouts(),Re=z?ie.appear:ie.enter;if(!L&&!H||config$1.disabled){this.safeSetState({status:ENTERED},function(){B.props.onEntered(te)});return}this.props.onEnter(te,G),this.safeSetState({status:ENTERING},function(){B.props.onEntering(te,G),B.onTransitionEnd(Re,function(){B.safeSetState({status:ENTERED},function(){B.props.onEntered(te,G)})})})},I.performExit=function(){var L=this,B=this.props.exit,H=this.getTimeouts(),z=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!B||config$1.disabled){this.safeSetState({status:EXITED},function(){L.props.onExited(z)});return}this.props.onExit(z),this.safeSetState({status:EXITING},function(){L.props.onExiting(z),L.onTransitionEnd(H.exit,function(){L.safeSetState({status:EXITED},function(){L.props.onExited(z)})})})},I.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},I.safeSetState=function(L,B){B=this.setNextCallback(B),this.setState(L,B)},I.setNextCallback=function(L){var B=this,H=!0;return this.nextCallback=function(z){H&&(H=!1,B.nextCallback=null,L(z))},this.nextCallback.cancel=function(){H=!1},this.nextCallback},I.onTransitionEnd=function(L,B){this.setNextCallback(B);var H=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),z=L==null&&!this.props.addEndListener;if(!H||z){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Q=this.props.nodeRef?[this.nextCallback]:[H,this.nextCallback],te=Q[0],G=Q[1];this.props.addEndListener(te,G)}L!=null&&setTimeout(this.nextCallback,L)},I.render=function(){var L=this.state.status;if(L===UNMOUNTED)return null;var B=this.props,H=B.children;B.in,B.mountOnEnter,B.unmountOnExit,B.appear,B.enter,B.exit,B.timeout,B.addEndListener,B.onEnter,B.onEntering,B.onEntered,B.onExit,B.onExiting,B.onExited,B.nodeRef;var z=_objectWithoutPropertiesLoose(B,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof H=="function"?H(L,z):React$1.cloneElement(React$1.Children.only(H),z))},$}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$7(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$7,onEntering:noop$7,onEntered:noop$7,onExit:noop$7,onExiting:noop$7,onExited:noop$7};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function _assertThisInitialized(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function getChildMapping(T,$){var I=function(B){return $&&reactExports.isValidElement(B)?$(B):B},N=Object.create(null);return T&&reactExports.Children.map(T,function(L){return L}).forEach(function(L){N[L.key]=I(L)}),N}function mergeChildMappings(T,$){T=T||{},$=$||{};function I(G){return G in $?$[G]:T[G]}var N=Object.create(null),L=[];for(var B in T)B in $?L.length&&(N[B]=L,L=[]):L.push(B);var H,z={};for(var Q in $){if(N[Q])for(H=0;H<N[Q].length;H++){var te=N[Q][H];z[N[Q][H]]=I(te)}z[Q]=I(Q)}for(H=0;H<L.length;H++)z[L[H]]=I(L[H]);return z}function getProp(T,$,I){return I[$]!=null?I[$]:T.props[$]}function getInitialChildMapping(T,$){return getChildMapping(T.children,function(I){return reactExports.cloneElement(I,{onExited:$.bind(null,I),in:!0,appear:getProp(I,"appear",T),enter:getProp(I,"enter",T),exit:getProp(I,"exit",T)})})}function getNextChildMapping(T,$,I){var N=getChildMapping(T.children),L=mergeChildMappings($,N);return Object.keys(L).forEach(function(B){var H=L[B];if(reactExports.isValidElement(H)){var z=B in $,Q=B in N,te=$[B],G=reactExports.isValidElement(te)&&!te.props.in;Q&&(!z||G)?L[B]=reactExports.cloneElement(H,{onExited:I.bind(null,H),in:!0,exit:getProp(H,"exit",T),enter:getProp(H,"enter",T)}):!Q&&z&&!G?L[B]=reactExports.cloneElement(H,{in:!1}):Q&&z&&reactExports.isValidElement(te)&&(L[B]=reactExports.cloneElement(H,{onExited:I.bind(null,H),in:te.props.in,exit:getProp(H,"exit",T),enter:getProp(H,"enter",T)}))}}),L}var values=Object.values||function(T){return Object.keys(T).map(function($){return T[$]})},defaultProps={component:"div",childFactory:function($){return $}},TransitionGroup=function(T){_inheritsLoose$1($,T);function $(N,L){var B;B=T.call(this,N,L)||this;var H=B.handleExited.bind(_assertThisInitialized(B));return B.state={contextValue:{isMounting:!0},handleExited:H,firstRender:!0},B}var I=$.prototype;return I.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},I.componentWillUnmount=function(){this.mounted=!1},$.getDerivedStateFromProps=function(L,B){var H=B.children,z=B.handleExited,Q=B.firstRender;return{children:Q?getInitialChildMapping(L,z):getNextChildMapping(L,H,z),firstRender:!1}},I.handleExited=function(L,B){var H=getChildMapping(this.props.children);L.key in H||(L.props.onExited&&L.props.onExited(B),this.mounted&&this.setState(function(z){var Q=_extends$1({},z.children);return delete Q[L.key],{children:Q}}))},I.render=function(){var L=this.props,B=L.component,H=L.childFactory,z=_objectWithoutPropertiesLoose(L,["component","childFactory"]),Q=this.state.contextValue,te=values(this.state.children).map(H);return delete z.appear,delete z.enter,delete z.exit,B===null?React$1.createElement(TransitionGroupContext.Provider,{value:Q},te):React$1.createElement(TransitionGroupContext.Provider,{value:Q},React$1.createElement(B,z,te))},$}(React$1.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const reflow=T=>T.scrollTop;function getTransitionProps(T,$){var I,N;const{timeout:L,easing:B,style:H={}}=T;return{duration:(I=H.transitionDuration)!=null?I:typeof L=="number"?L:L[$.mode]||0,easing:(N=H.transitionTimingFunction)!=null?N:typeof B=="object"?B[$.mode]:B,delay:H.transitionDelay}}function getCollapseUtilityClass(T){return generateUtilityClass("MuiCollapse",T)}generateUtilityClasses("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const _excluded$W=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],useUtilityClasses$M=T=>{const{orientation:$,classes:I}=T,N={root:["root",`${$}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${$}`],wrapperInner:["wrapperInner",`${$}`]};return composeClasses(N,getCollapseUtilityClass,I)},CollapseRoot=styled("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.orientation],I.state==="entered"&&$.entered,I.state==="exited"&&!I.in&&I.collapsedSize==="0px"&&$.hidden]}})(({theme:T,ownerState:$})=>_extends$1({height:0,overflow:"hidden",transition:T.transitions.create("height")},$.orientation==="horizontal"&&{height:"auto",width:0,transition:T.transitions.create("width")},$.state==="entered"&&_extends$1({height:"auto",overflow:"visible"},$.orientation==="horizontal"&&{width:"auto"}),$.state==="exited"&&!$.in&&$.collapsedSize==="0px"&&{visibility:"hidden"})),CollapseWrapper=styled("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(T,$)=>$.wrapper})(({ownerState:T})=>_extends$1({display:"flex",width:"100%"},T.orientation==="horizontal"&&{width:"auto",height:"100%"})),CollapseWrapperInner=styled("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(T,$)=>$.wrapperInner})(({ownerState:T})=>_extends$1({width:"100%"},T.orientation==="horizontal"&&{width:"auto",height:"100%"})),Collapse=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiCollapse"}),{addEndListener:L,children:B,className:H,collapsedSize:z="0px",component:Q,easing:te,in:G,onEnter:ie,onEntered:Re,onEntering:$e,onExit:Pe,onExited:Me,onExiting:Be,orientation:Ke="vertical",style:Le,timeout:qe=duration.standard,TransitionComponent:He=Transition}=N,Ge=_objectWithoutPropertiesLoose(N,_excluded$W),at=_extends$1({},N,{orientation:Ke,collapsedSize:z}),ot=useUtilityClasses$M(at),Ye=useTheme$1(),nt=useTimeout(),Qe=reactExports.useRef(null),tt=reactExports.useRef(),ze=typeof z=="number"?`${z}px`:z,Fe=Ke==="horizontal",ke=Fe?"width":"height",Ue=reactExports.useRef(null),Je=useForkRef(I,Ue),rt=bt=>vt=>{if(bt){const St=Ue.current;vt===void 0?bt(St):bt(St,vt)}},Xe=()=>Qe.current?Qe.current[Fe?"clientWidth":"clientHeight"]:0,it=rt((bt,vt)=>{Qe.current&&Fe&&(Qe.current.style.position="absolute"),bt.style[ke]=ze,ie&&ie(bt,vt)}),We=rt((bt,vt)=>{const St=Xe();Qe.current&&Fe&&(Qe.current.style.position="");const{duration:Bt,easing:Gt}=getTransitionProps({style:Le,timeout:qe,easing:te},{mode:"enter"});if(qe==="auto"){const Dt=Ye.transitions.getAutoHeightDuration(St);bt.style.transitionDuration=`${Dt}ms`,tt.current=Dt}else bt.style.transitionDuration=typeof Bt=="string"?Bt:`${Bt}ms`;bt.style[ke]=`${St}px`,bt.style.transitionTimingFunction=Gt,$e&&$e(bt,vt)}),Ve=rt((bt,vt)=>{bt.style[ke]="auto",Re&&Re(bt,vt)}),je=rt(bt=>{bt.style[ke]=`${Xe()}px`,Pe&&Pe(bt)}),Ze=rt(Me),st=rt(bt=>{const vt=Xe(),{duration:St,easing:Bt}=getTransitionProps({style:Le,timeout:qe,easing:te},{mode:"exit"});if(qe==="auto"){const Gt=Ye.transitions.getAutoHeightDuration(vt);bt.style.transitionDuration=`${Gt}ms`,tt.current=Gt}else bt.style.transitionDuration=typeof St=="string"?St:`${St}ms`;bt.style[ke]=ze,bt.style.transitionTimingFunction=Bt,Be&&Be(bt)}),dt=bt=>{qe==="auto"&&nt.start(tt.current||0,bt),L&&L(Ue.current,bt)};return jsxRuntimeExports.jsx(He,_extends$1({in:G,onEnter:it,onEntered:Ve,onEntering:We,onExit:je,onExited:Ze,onExiting:st,addEndListener:dt,nodeRef:Ue,timeout:qe==="auto"?null:qe},Ge,{children:(bt,vt)=>jsxRuntimeExports.jsx(CollapseRoot,_extends$1({as:Q,className:clsx(ot.root,H,{entered:ot.entered,exited:!G&&ze==="0px"&&ot.hidden}[bt]),style:_extends$1({[Fe?"minWidth":"minHeight"]:ze},Le),ref:Je},vt,{ownerState:_extends$1({},at,{state:bt}),children:jsxRuntimeExports.jsx(CollapseWrapper,{ownerState:_extends$1({},at,{state:bt}),className:ot.wrapper,ref:Qe,children:jsxRuntimeExports.jsx(CollapseWrapperInner,{ownerState:_extends$1({},at,{state:bt}),className:ot.wrapperInner,children:B})})}))}))});Collapse.muiSupportAuto=!0;function getPaperUtilityClass(T){return generateUtilityClass("MuiPaper",T)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$V=["className","component","elevation","square","variant"],useUtilityClasses$L=T=>{const{square:$,elevation:I,variant:N,classes:L}=T,B={root:["root",N,!$&&"rounded",N==="elevation"&&`elevation${I}`]};return composeClasses(B,getPaperUtilityClass,L)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.variant],!I.square&&$.rounded,I.variant==="elevation"&&$[`elevation${I.elevation}`]]}})(({theme:T,ownerState:$})=>{var I;return _extends$1({backgroundColor:(T.vars||T).palette.background.paper,color:(T.vars||T).palette.text.primary,transition:T.transitions.create("box-shadow")},!$.square&&{borderRadius:T.shape.borderRadius},$.variant==="outlined"&&{border:`1px solid ${(T.vars||T).palette.divider}`},$.variant==="elevation"&&_extends$1({boxShadow:(T.vars||T).shadows[$.elevation]},!T.vars&&T.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha_1("#fff",getOverlayAlpha($.elevation))}, ${alpha_1("#fff",getOverlayAlpha($.elevation))})`},T.vars&&{backgroundImage:(I=T.vars.overlays)==null?void 0:I[$.elevation]}))}),Paper=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiPaper"}),{className:L,component:B="div",elevation:H=1,square:z=!1,variant:Q="elevation"}=N,te=_objectWithoutPropertiesLoose(N,_excluded$V),G=_extends$1({},N,{component:B,elevation:H,square:z,variant:Q}),ie=useUtilityClasses$L(G);return jsxRuntimeExports.jsx(PaperRoot,_extends$1({as:B,ownerState:G,className:clsx(ie.root,L),ref:I},te))});function Ripple(T){const{className:$,classes:I,pulsate:N=!1,rippleX:L,rippleY:B,rippleSize:H,in:z,onExited:Q,timeout:te}=T,[G,ie]=reactExports.useState(!1),Re=clsx($,I.ripple,I.rippleVisible,N&&I.ripplePulsate),$e={width:H,height:H,top:-(H/2)+B,left:-(H/2)+L},Pe=clsx(I.child,G&&I.childLeaving,N&&I.childPulsate);return!z&&!G&&ie(!0),reactExports.useEffect(()=>{if(!z&&Q!=null){const Me=setTimeout(Q,te);return()=>{clearTimeout(Me)}}},[Q,z,te]),jsxRuntimeExports.jsx("span",{className:Re,style:$e,children:jsxRuntimeExports.jsx("span",{className:Pe})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_excluded$U=["center","classes","className"];let _$1=T=>T,_t$1,_t2$1,_t3$1,_t4$1;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$1||(_t$1=_$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2$1||(_t2$1=_$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3$1||(_t3$1=_$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$1||(_t4$1=_$1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses.rippleVisible,enterKeyframe,DURATION,({theme:T})=>T.transitions.easing.easeInOut,touchRippleClasses.ripplePulsate,({theme:T})=>T.transitions.duration.shorter,touchRippleClasses.child,touchRippleClasses.childLeaving,exitKeyframe,DURATION,({theme:T})=>T.transitions.easing.easeInOut,touchRippleClasses.childPulsate,pulsateKeyframe,({theme:T})=>T.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiTouchRipple"}),{center:L=!1,classes:B={},className:H}=N,z=_objectWithoutPropertiesLoose(N,_excluded$U),[Q,te]=reactExports.useState([]),G=reactExports.useRef(0),ie=reactExports.useRef(null);reactExports.useEffect(()=>{ie.current&&(ie.current(),ie.current=null)},[Q]);const Re=reactExports.useRef(!1),$e=useTimeout(),Pe=reactExports.useRef(null),Me=reactExports.useRef(null),Be=reactExports.useCallback(He=>{const{pulsate:Ge,rippleX:at,rippleY:ot,rippleSize:Ye,cb:nt}=He;te(Qe=>[...Qe,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(B.ripple,touchRippleClasses.ripple),rippleVisible:clsx(B.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(B.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(B.child,touchRippleClasses.child),childLeaving:clsx(B.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(B.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:Ge,rippleX:at,rippleY:ot,rippleSize:Ye},G.current)]),G.current+=1,ie.current=nt},[B]),Ke=reactExports.useCallback((He={},Ge={},at=()=>{})=>{const{pulsate:ot=!1,center:Ye=L||Ge.pulsate,fakeElement:nt=!1}=Ge;if((He==null?void 0:He.type)==="mousedown"&&Re.current){Re.current=!1;return}(He==null?void 0:He.type)==="touchstart"&&(Re.current=!0);const Qe=nt?null:Me.current,tt=Qe?Qe.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ze,Fe,ke;if(Ye||He===void 0||He.clientX===0&&He.clientY===0||!He.clientX&&!He.touches)ze=Math.round(tt.width/2),Fe=Math.round(tt.height/2);else{const{clientX:Ue,clientY:Je}=He.touches&&He.touches.length>0?He.touches[0]:He;ze=Math.round(Ue-tt.left),Fe=Math.round(Je-tt.top)}if(Ye)ke=Math.sqrt((2*tt.width**2+tt.height**2)/3),ke%2===0&&(ke+=1);else{const Ue=Math.max(Math.abs((Qe?Qe.clientWidth:0)-ze),ze)*2+2,Je=Math.max(Math.abs((Qe?Qe.clientHeight:0)-Fe),Fe)*2+2;ke=Math.sqrt(Ue**2+Je**2)}He!=null&&He.touches?Pe.current===null&&(Pe.current=()=>{Be({pulsate:ot,rippleX:ze,rippleY:Fe,rippleSize:ke,cb:at})},$e.start(DELAY_RIPPLE,()=>{Pe.current&&(Pe.current(),Pe.current=null)})):Be({pulsate:ot,rippleX:ze,rippleY:Fe,rippleSize:ke,cb:at})},[L,Be,$e]),Le=reactExports.useCallback(()=>{Ke({},{pulsate:!0})},[Ke]),qe=reactExports.useCallback((He,Ge)=>{if($e.clear(),(He==null?void 0:He.type)==="touchend"&&Pe.current){Pe.current(),Pe.current=null,$e.start(0,()=>{qe(He,Ge)});return}Pe.current=null,te(at=>at.length>0?at.slice(1):at),ie.current=Ge},[$e]);return reactExports.useImperativeHandle(I,()=>({pulsate:Le,start:Ke,stop:qe}),[Le,Ke,qe]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends$1({className:clsx(touchRippleClasses.root,B.root,H),ref:Me},z,{children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:Q})}))});function getButtonBaseUtilityClass(T){return generateUtilityClass("MuiButtonBase",T)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),_excluded$T=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$K=T=>{const{disabled:$,focusVisible:I,focusVisibleClassName:N,classes:L}=T,H=composeClasses({root:["root",$&&"disabled",I&&"focusVisible"]},getButtonBaseUtilityClass,L);return I&&N&&(H.root+=` ${N}`),H},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(T,$)=>$.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiButtonBase"}),{action:L,centerRipple:B=!1,children:H,className:z,component:Q="button",disabled:te=!1,disableRipple:G=!1,disableTouchRipple:ie=!1,focusRipple:Re=!1,LinkComponent:$e="a",onBlur:Pe,onClick:Me,onContextMenu:Be,onDragLeave:Ke,onFocus:Le,onFocusVisible:qe,onKeyDown:He,onKeyUp:Ge,onMouseDown:at,onMouseLeave:ot,onMouseUp:Ye,onTouchEnd:nt,onTouchMove:Qe,onTouchStart:tt,tabIndex:ze=0,TouchRippleProps:Fe,touchRippleRef:ke,type:Ue}=N,Je=_objectWithoutPropertiesLoose(N,_excluded$T),rt=reactExports.useRef(null),Xe=reactExports.useRef(null),it=useForkRef(Xe,ke),{isFocusVisibleRef:We,onFocus:Ve,onBlur:je,ref:Ze}=useIsFocusVisible(),[st,dt]=reactExports.useState(!1);te&&st&&dt(!1),reactExports.useImperativeHandle(L,()=>({focusVisible:()=>{dt(!0),rt.current.focus()}}),[]);const[bt,vt]=reactExports.useState(!1);reactExports.useEffect(()=>{vt(!0)},[]);const St=bt&&!G&&!te;reactExports.useEffect(()=>{st&&Re&&!G&&bt&&Xe.current.pulsate()},[G,Re,st,bt]);function Bt(zt,Ot,Rt=ie){return useEventCallback(It=>(Ot&&Ot(It),!Rt&&Xe.current&&Xe.current[zt](It),!0))}const Gt=Bt("start",at),Dt=Bt("stop",Be),Mt=Bt("stop",Ke),pt=Bt("stop",Ye),mt=Bt("stop",zt=>{st&&zt.preventDefault(),ot&&ot(zt)}),$t=Bt("start",tt),kt=Bt("stop",nt),Ft=Bt("stop",Qe),nr=Bt("stop",zt=>{je(zt),We.current===!1&&dt(!1),Pe&&Pe(zt)},!1),Yt=useEventCallback(zt=>{rt.current||(rt.current=zt.currentTarget),Ve(zt),We.current===!0&&(dt(!0),qe&&qe(zt)),Le&&Le(zt)}),yr=()=>{const zt=rt.current;return Q&&Q!=="button"&&!(zt.tagName==="A"&&zt.href)},gr=reactExports.useRef(!1),br=useEventCallback(zt=>{Re&&!gr.current&&st&&Xe.current&&zt.key===" "&&(gr.current=!0,Xe.current.stop(zt,()=>{Xe.current.start(zt)})),zt.target===zt.currentTarget&&yr()&&zt.key===" "&&zt.preventDefault(),He&&He(zt),zt.target===zt.currentTarget&&yr()&&zt.key==="Enter"&&!te&&(zt.preventDefault(),Me&&Me(zt))}),cr=useEventCallback(zt=>{Re&&zt.key===" "&&Xe.current&&st&&!zt.defaultPrevented&&(gr.current=!1,Xe.current.stop(zt,()=>{Xe.current.pulsate(zt)})),Ge&&Ge(zt),Me&&zt.target===zt.currentTarget&&yr()&&zt.key===" "&&!zt.defaultPrevented&&Me(zt)});let pr=Q;pr==="button"&&(Je.href||Je.to)&&(pr=$e);const lt={};pr==="button"?(lt.type=Ue===void 0?"button":Ue,lt.disabled=te):(!Je.href&&!Je.to&&(lt.role="button"),te&&(lt["aria-disabled"]=te));const ct=useForkRef(I,Ze,rt),Nt=_extends$1({},N,{centerRipple:B,component:Q,disabled:te,disableRipple:G,disableTouchRipple:ie,focusRipple:Re,tabIndex:ze,focusVisible:st}),jt=useUtilityClasses$K(Nt);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends$1({as:pr,className:clsx(jt.root,z),ownerState:Nt,onBlur:nr,onClick:Me,onContextMenu:Dt,onFocus:Yt,onKeyDown:br,onKeyUp:cr,onMouseDown:Gt,onMouseLeave:mt,onMouseUp:pt,onDragLeave:Mt,onTouchEnd:kt,onTouchMove:Ft,onTouchStart:$t,ref:ct,tabIndex:te?-1:ze,type:Ue},lt,Je,{children:[H,St?jsxRuntimeExports.jsx(TouchRipple,_extends$1({ref:it,center:B},Fe)):null]}))});function getIconButtonUtilityClass(T){return generateUtilityClass("MuiIconButton",T)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_excluded$S=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$J=T=>{const{classes:$,disabled:I,color:N,edge:L,size:B}=T,H={root:["root",I&&"disabled",N!=="default"&&`color${capitalize(N)}`,L&&`edge${capitalize(L)}`,`size${capitalize(B)}`]};return composeClasses(H,getIconButtonUtilityClass,$)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.color!=="default"&&$[`color${capitalize(I.color)}`],I.edge&&$[`edge${capitalize(I.edge)}`],$[`size${capitalize(I.size)}`]]}})(({theme:T,ownerState:$})=>_extends$1({textAlign:"center",flex:"0 0 auto",fontSize:T.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(T.vars||T).palette.action.active,transition:T.transitions.create("background-color",{duration:T.transitions.duration.shortest})},!$.disableRipple&&{"&:hover":{backgroundColor:T.vars?`rgba(${T.vars.palette.action.activeChannel} / ${T.vars.palette.action.hoverOpacity})`:alpha_1(T.palette.action.active,T.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},$.edge==="start"&&{marginLeft:$.size==="small"?-3:-12},$.edge==="end"&&{marginRight:$.size==="small"?-3:-12}),({theme:T,ownerState:$})=>{var I;const N=(I=(T.vars||T).palette)==null?void 0:I[$.color];return _extends$1({},$.color==="inherit"&&{color:"inherit"},$.color!=="inherit"&&$.color!=="default"&&_extends$1({color:N==null?void 0:N.main},!$.disableRipple&&{"&:hover":_extends$1({},N&&{backgroundColor:T.vars?`rgba(${N.mainChannel} / ${T.vars.palette.action.hoverOpacity})`:alpha_1(N.main,T.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),$.size==="small"&&{padding:5,fontSize:T.typography.pxToRem(18)},$.size==="large"&&{padding:12,fontSize:T.typography.pxToRem(28)},{[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(T.vars||T).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiIconButton"}),{edge:L=!1,children:B,className:H,color:z="default",disabled:Q=!1,disableFocusRipple:te=!1,size:G="medium"}=N,ie=_objectWithoutPropertiesLoose(N,_excluded$S),Re=_extends$1({},N,{edge:L,color:z,disabled:Q,disableFocusRipple:te,size:G}),$e=useUtilityClasses$J(Re);return jsxRuntimeExports.jsx(IconButtonRoot,_extends$1({className:clsx($e.root,H),centerRipple:!0,focusRipple:!te,disabled:Q,ref:I},ie,{ownerState:Re,children:B}))});function getTypographyUtilityClass(T){return generateUtilityClass("MuiTypography",T)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$R=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$I=T=>{const{align:$,gutterBottom:I,noWrap:N,paragraph:L,variant:B,classes:H}=T,z={root:["root",B,T.align!=="inherit"&&`align${capitalize($)}`,I&&"gutterBottom",N&&"noWrap",L&&"paragraph"]};return composeClasses(z,getTypographyUtilityClass,H)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.variant&&$[I.variant],I.align!=="inherit"&&$[`align${capitalize(I.align)}`],I.noWrap&&$.noWrap,I.gutterBottom&&$.gutterBottom,I.paragraph&&$.paragraph]}})(({theme:T,ownerState:$})=>_extends$1({margin:0},$.variant==="inherit"&&{font:"inherit"},$.variant!=="inherit"&&T.typography[$.variant],$.align!=="inherit"&&{textAlign:$.align},$.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},$.gutterBottom&&{marginBottom:"0.35em"},$.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=T=>colorTransformations$1[T]||T,Typography=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiTypography"}),L=transformDeprecatedColors$1(N.color),B=extendSxProp(_extends$1({},N,{color:L})),{align:H="inherit",className:z,component:Q,gutterBottom:te=!1,noWrap:G=!1,paragraph:ie=!1,variant:Re="body1",variantMapping:$e=defaultVariantMapping}=B,Pe=_objectWithoutPropertiesLoose(B,_excluded$R),Me=_extends$1({},B,{align:H,color:L,className:z,component:Q,gutterBottom:te,noWrap:G,paragraph:ie,variant:Re,variantMapping:$e}),Be=Q||(ie?"p":$e[Re]||defaultVariantMapping[Re])||"span",Ke=useUtilityClasses$I(Me);return jsxRuntimeExports.jsx(TypographyRoot,_extends$1({as:Be,ref:I,ownerState:Me,className:clsx(Ke.root,z)},Pe))});var useThemeWithoutDefault={};Object.defineProperty(useThemeWithoutDefault,"__esModule",{value:!0});var default_1$d=useThemeWithoutDefault.default=void 0,React=_interopRequireWildcard(React$2),_styledEngine=styledEngine;function _getRequireWildcardCache(T){if(typeof WeakMap!="function")return null;var $=new WeakMap,I=new WeakMap;return(_getRequireWildcardCache=function(N){return N?I:$})(T)}function _interopRequireWildcard(T,$){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var I=_getRequireWildcardCache($);if(I&&I.has(T))return I.get(T);var N={__proto__:null},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in T)if(B!=="default"&&Object.prototype.hasOwnProperty.call(T,B)){var H=L?Object.getOwnPropertyDescriptor(T,B):null;H&&(H.get||H.set)?Object.defineProperty(N,B,H):N[B]=T[B]}return N.default=T,I&&I.set(T,N),N}function isObjectEmpty$1(T){return Object.keys(T).length===0}function useTheme(T=null){const $=React.useContext(_styledEngine.ThemeContext);return!$||isObjectEmpty$1($)?T:$}default_1$d=useThemeWithoutDefault.default=useTheme;var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$1="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(T,$){return T.concat([$+"-"+start$1,$+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(T,$){return T.concat([$,$+"-"+start$1,$+"-"+end])},[]),beforeRead="beforeRead",read$6="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write$1="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$6,afterRead,beforeMain,main,afterMain,beforeWrite,write$1,afterWrite];function getNodeName(T){return T?(T.nodeName||"").toLowerCase():null}function getWindow(T){if(T==null)return window;if(T.toString()!=="[object Window]"){var $=T.ownerDocument;return $&&$.defaultView||window}return T}function isElement$1(T){var $=getWindow(T).Element;return T instanceof $||T instanceof Element}function isHTMLElement$1(T){var $=getWindow(T).HTMLElement;return T instanceof $||T instanceof HTMLElement}function isShadowRoot(T){if(typeof ShadowRoot>"u")return!1;var $=getWindow(T).ShadowRoot;return T instanceof $||T instanceof ShadowRoot}function applyStyles(T){var $=T.state;Object.keys($.elements).forEach(function(I){var N=$.styles[I]||{},L=$.attributes[I]||{},B=$.elements[I];!isHTMLElement$1(B)||!getNodeName(B)||(Object.assign(B.style,N),Object.keys(L).forEach(function(H){var z=L[H];z===!1?B.removeAttribute(H):B.setAttribute(H,z===!0?"":z)}))})}function effect$2(T){var $=T.state,I={popper:{position:$.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign($.elements.popper.style,I.popper),$.styles=I,$.elements.arrow&&Object.assign($.elements.arrow.style,I.arrow),function(){Object.keys($.elements).forEach(function(N){var L=$.elements[N],B=$.attributes[N]||{},H=Object.keys($.styles.hasOwnProperty(N)?$.styles[N]:I[N]),z=H.reduce(function(Q,te){return Q[te]="",Q},{});!isHTMLElement$1(L)||!getNodeName(L)||(Object.assign(L.style,z),Object.keys(B).forEach(function(Q){L.removeAttribute(Q)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(T){return T.split("-")[0]}var max$5=Math.max,min$4=Math.min,round$5=Math.round;function getUAString(){var T=navigator.userAgentData;return T!=null&&T.brands&&Array.isArray(T.brands)?T.brands.map(function($){return $.brand+"/"+$.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(T,$,I){$===void 0&&($=!1),I===void 0&&(I=!1);var N=T.getBoundingClientRect(),L=1,B=1;$&&isHTMLElement$1(T)&&(L=T.offsetWidth>0&&round$5(N.width)/T.offsetWidth||1,B=T.offsetHeight>0&&round$5(N.height)/T.offsetHeight||1);var H=isElement$1(T)?getWindow(T):window,z=H.visualViewport,Q=!isLayoutViewport()&&I,te=(N.left+(Q&&z?z.offsetLeft:0))/L,G=(N.top+(Q&&z?z.offsetTop:0))/B,ie=N.width/L,Re=N.height/B;return{width:ie,height:Re,top:G,right:te+ie,bottom:G+Re,left:te,x:te,y:G}}function getLayoutRect(T){var $=getBoundingClientRect(T),I=T.offsetWidth,N=T.offsetHeight;return Math.abs($.width-I)<=1&&(I=$.width),Math.abs($.height-N)<=1&&(N=$.height),{x:T.offsetLeft,y:T.offsetTop,width:I,height:N}}function contains$4(T,$){var I=$.getRootNode&&$.getRootNode();if(T.contains($))return!0;if(I&&isShadowRoot(I)){var N=$;do{if(N&&T.isSameNode(N))return!0;N=N.parentNode||N.host}while(N)}return!1}function getComputedStyle(T){return getWindow(T).getComputedStyle(T)}function isTableElement(T){return["table","td","th"].indexOf(getNodeName(T))>=0}function getDocumentElement(T){return((isElement$1(T)?T.ownerDocument:T.document)||window.document).documentElement}function getParentNode(T){return getNodeName(T)==="html"?T:T.assignedSlot||T.parentNode||(isShadowRoot(T)?T.host:null)||getDocumentElement(T)}function getTrueOffsetParent(T){return!isHTMLElement$1(T)||getComputedStyle(T).position==="fixed"?null:T.offsetParent}function getContainingBlock(T){var $=/firefox/i.test(getUAString()),I=/Trident/i.test(getUAString());if(I&&isHTMLElement$1(T)){var N=getComputedStyle(T);if(N.position==="fixed")return null}var L=getParentNode(T);for(isShadowRoot(L)&&(L=L.host);isHTMLElement$1(L)&&["html","body"].indexOf(getNodeName(L))<0;){var B=getComputedStyle(L);if(B.transform!=="none"||B.perspective!=="none"||B.contain==="paint"||["transform","perspective"].indexOf(B.willChange)!==-1||$&&B.willChange==="filter"||$&&B.filter&&B.filter!=="none")return L;L=L.parentNode}return null}function getOffsetParent(T){for(var $=getWindow(T),I=getTrueOffsetParent(T);I&&isTableElement(I)&&getComputedStyle(I).position==="static";)I=getTrueOffsetParent(I);return I&&(getNodeName(I)==="html"||getNodeName(I)==="body"&&getComputedStyle(I).position==="static")?$:I||getContainingBlock(T)||$}function getMainAxisFromPlacement(T){return["top","bottom"].indexOf(T)>=0?"x":"y"}function within(T,$,I){return max$5(T,min$4($,I))}function withinMaxClamp(T,$,I){var N=within(T,$,I);return N>I?I:N}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(T){return Object.assign({},getFreshSideObject(),T)}function expandToHashMap(T,$){return $.reduce(function(I,N){return I[N]=T,I},{})}var toPaddingObject=function($,I){return $=typeof $=="function"?$(Object.assign({},I.rects,{placement:I.placement})):$,mergePaddingObject(typeof $!="number"?$:expandToHashMap($,basePlacements))};function arrow(T){var $,I=T.state,N=T.name,L=T.options,B=I.elements.arrow,H=I.modifiersData.popperOffsets,z=getBasePlacement(I.placement),Q=getMainAxisFromPlacement(z),te=[left,right].indexOf(z)>=0,G=te?"height":"width";if(!(!B||!H)){var ie=toPaddingObject(L.padding,I),Re=getLayoutRect(B),$e=Q==="y"?top:left,Pe=Q==="y"?bottom:right,Me=I.rects.reference[G]+I.rects.reference[Q]-H[Q]-I.rects.popper[G],Be=H[Q]-I.rects.reference[Q],Ke=getOffsetParent(B),Le=Ke?Q==="y"?Ke.clientHeight||0:Ke.clientWidth||0:0,qe=Me/2-Be/2,He=ie[$e],Ge=Le-Re[G]-ie[Pe],at=Le/2-Re[G]/2+qe,ot=within(He,at,Ge),Ye=Q;I.modifiersData[N]=($={},$[Ye]=ot,$.centerOffset=ot-at,$)}}function effect$1(T){var $=T.state,I=T.options,N=I.element,L=N===void 0?"[data-popper-arrow]":N;L!=null&&(typeof L=="string"&&(L=$.elements.popper.querySelector(L),!L)||contains$4($.elements.popper,L)&&($.elements.arrow=L))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(T){return T.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(T,$){var I=T.x,N=T.y,L=$.devicePixelRatio||1;return{x:round$5(I*L)/L||0,y:round$5(N*L)/L||0}}function mapToStyles(T){var $,I=T.popper,N=T.popperRect,L=T.placement,B=T.variation,H=T.offsets,z=T.position,Q=T.gpuAcceleration,te=T.adaptive,G=T.roundOffsets,ie=T.isFixed,Re=H.x,$e=Re===void 0?0:Re,Pe=H.y,Me=Pe===void 0?0:Pe,Be=typeof G=="function"?G({x:$e,y:Me}):{x:$e,y:Me};$e=Be.x,Me=Be.y;var Ke=H.hasOwnProperty("x"),Le=H.hasOwnProperty("y"),qe=left,He=top,Ge=window;if(te){var at=getOffsetParent(I),ot="clientHeight",Ye="clientWidth";if(at===getWindow(I)&&(at=getDocumentElement(I),getComputedStyle(at).position!=="static"&&z==="absolute"&&(ot="scrollHeight",Ye="scrollWidth")),at=at,L===top||(L===left||L===right)&&B===end){He=bottom;var nt=ie&&at===Ge&&Ge.visualViewport?Ge.visualViewport.height:at[ot];Me-=nt-N.height,Me*=Q?1:-1}if(L===left||(L===top||L===bottom)&&B===end){qe=right;var Qe=ie&&at===Ge&&Ge.visualViewport?Ge.visualViewport.width:at[Ye];$e-=Qe-N.width,$e*=Q?1:-1}}var tt=Object.assign({position:z},te&&unsetSides),ze=G===!0?roundOffsetsByDPR({x:$e,y:Me},getWindow(I)):{x:$e,y:Me};if($e=ze.x,Me=ze.y,Q){var Fe;return Object.assign({},tt,(Fe={},Fe[He]=Le?"0":"",Fe[qe]=Ke?"0":"",Fe.transform=(Ge.devicePixelRatio||1)<=1?"translate("+$e+"px, "+Me+"px)":"translate3d("+$e+"px, "+Me+"px, 0)",Fe))}return Object.assign({},tt,($={},$[He]=Le?Me+"px":"",$[qe]=Ke?$e+"px":"",$.transform="",$))}function computeStyles(T){var $=T.state,I=T.options,N=I.gpuAcceleration,L=N===void 0?!0:N,B=I.adaptive,H=B===void 0?!0:B,z=I.roundOffsets,Q=z===void 0?!0:z,te={placement:getBasePlacement($.placement),variation:getVariation($.placement),popper:$.elements.popper,popperRect:$.rects.popper,gpuAcceleration:L,isFixed:$.options.strategy==="fixed"};$.modifiersData.popperOffsets!=null&&($.styles.popper=Object.assign({},$.styles.popper,mapToStyles(Object.assign({},te,{offsets:$.modifiersData.popperOffsets,position:$.options.strategy,adaptive:H,roundOffsets:Q})))),$.modifiersData.arrow!=null&&($.styles.arrow=Object.assign({},$.styles.arrow,mapToStyles(Object.assign({},te,{offsets:$.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Q})))),$.attributes.popper=Object.assign({},$.attributes.popper,{"data-popper-placement":$.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(T){var $=T.state,I=T.instance,N=T.options,L=N.scroll,B=L===void 0?!0:L,H=N.resize,z=H===void 0?!0:H,Q=getWindow($.elements.popper),te=[].concat($.scrollParents.reference,$.scrollParents.popper);return B&&te.forEach(function(G){G.addEventListener("scroll",I.update,passive)}),z&&Q.addEventListener("resize",I.update,passive),function(){B&&te.forEach(function(G){G.removeEventListener("scroll",I.update,passive)}),z&&Q.removeEventListener("resize",I.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$a={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(T){return T.replace(/left|right|bottom|top/g,function($){return hash$a[$]})}var hash$9={start:"end",end:"start"};function getOppositeVariationPlacement(T){return T.replace(/start|end/g,function($){return hash$9[$]})}function getWindowScroll(T){var $=getWindow(T),I=$.pageXOffset,N=$.pageYOffset;return{scrollLeft:I,scrollTop:N}}function getWindowScrollBarX(T){return getBoundingClientRect(getDocumentElement(T)).left+getWindowScroll(T).scrollLeft}function getViewportRect(T,$){var I=getWindow(T),N=getDocumentElement(T),L=I.visualViewport,B=N.clientWidth,H=N.clientHeight,z=0,Q=0;if(L){B=L.width,H=L.height;var te=isLayoutViewport();(te||!te&&$==="fixed")&&(z=L.offsetLeft,Q=L.offsetTop)}return{width:B,height:H,x:z+getWindowScrollBarX(T),y:Q}}function getDocumentRect(T){var $,I=getDocumentElement(T),N=getWindowScroll(T),L=($=T.ownerDocument)==null?void 0:$.body,B=max$5(I.scrollWidth,I.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),H=max$5(I.scrollHeight,I.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),z=-N.scrollLeft+getWindowScrollBarX(T),Q=-N.scrollTop;return getComputedStyle(L||I).direction==="rtl"&&(z+=max$5(I.clientWidth,L?L.clientWidth:0)-B),{width:B,height:H,x:z,y:Q}}function isScrollParent(T){var $=getComputedStyle(T),I=$.overflow,N=$.overflowX,L=$.overflowY;return/auto|scroll|overlay|hidden/.test(I+L+N)}function getScrollParent(T){return["html","body","#document"].indexOf(getNodeName(T))>=0?T.ownerDocument.body:isHTMLElement$1(T)&&isScrollParent(T)?T:getScrollParent(getParentNode(T))}function listScrollParents(T,$){var I;$===void 0&&($=[]);var N=getScrollParent(T),L=N===((I=T.ownerDocument)==null?void 0:I.body),B=getWindow(N),H=L?[B].concat(B.visualViewport||[],isScrollParent(N)?N:[]):N,z=$.concat(H);return L?z:z.concat(listScrollParents(getParentNode(H)))}function rectToClientRect(T){return Object.assign({},T,{left:T.x,top:T.y,right:T.x+T.width,bottom:T.y+T.height})}function getInnerBoundingClientRect(T,$){var I=getBoundingClientRect(T,!1,$==="fixed");return I.top=I.top+T.clientTop,I.left=I.left+T.clientLeft,I.bottom=I.top+T.clientHeight,I.right=I.left+T.clientWidth,I.width=T.clientWidth,I.height=T.clientHeight,I.x=I.left,I.y=I.top,I}function getClientRectFromMixedType(T,$,I){return $===viewport?rectToClientRect(getViewportRect(T,I)):isElement$1($)?getInnerBoundingClientRect($,I):rectToClientRect(getDocumentRect(getDocumentElement(T)))}function getClippingParents(T){var $=listScrollParents(getParentNode(T)),I=["absolute","fixed"].indexOf(getComputedStyle(T).position)>=0,N=I&&isHTMLElement$1(T)?getOffsetParent(T):T;return isElement$1(N)?$.filter(function(L){return isElement$1(L)&&contains$4(L,N)&&getNodeName(L)!=="body"}):[]}function getClippingRect(T,$,I,N){var L=$==="clippingParents"?getClippingParents(T):[].concat($),B=[].concat(L,[I]),H=B[0],z=B.reduce(function(Q,te){var G=getClientRectFromMixedType(T,te,N);return Q.top=max$5(G.top,Q.top),Q.right=min$4(G.right,Q.right),Q.bottom=min$4(G.bottom,Q.bottom),Q.left=max$5(G.left,Q.left),Q},getClientRectFromMixedType(T,H,N));return z.width=z.right-z.left,z.height=z.bottom-z.top,z.x=z.left,z.y=z.top,z}function computeOffsets(T){var $=T.reference,I=T.element,N=T.placement,L=N?getBasePlacement(N):null,B=N?getVariation(N):null,H=$.x+$.width/2-I.width/2,z=$.y+$.height/2-I.height/2,Q;switch(L){case top:Q={x:H,y:$.y-I.height};break;case bottom:Q={x:H,y:$.y+$.height};break;case right:Q={x:$.x+$.width,y:z};break;case left:Q={x:$.x-I.width,y:z};break;default:Q={x:$.x,y:$.y}}var te=L?getMainAxisFromPlacement(L):null;if(te!=null){var G=te==="y"?"height":"width";switch(B){case start$1:Q[te]=Q[te]-($[G]/2-I[G]/2);break;case end:Q[te]=Q[te]+($[G]/2-I[G]/2);break}}return Q}function detectOverflow(T,$){$===void 0&&($={});var I=$,N=I.placement,L=N===void 0?T.placement:N,B=I.strategy,H=B===void 0?T.strategy:B,z=I.boundary,Q=z===void 0?clippingParents:z,te=I.rootBoundary,G=te===void 0?viewport:te,ie=I.elementContext,Re=ie===void 0?popper:ie,$e=I.altBoundary,Pe=$e===void 0?!1:$e,Me=I.padding,Be=Me===void 0?0:Me,Ke=mergePaddingObject(typeof Be!="number"?Be:expandToHashMap(Be,basePlacements)),Le=Re===popper?reference:popper,qe=T.rects.popper,He=T.elements[Pe?Le:Re],Ge=getClippingRect(isElement$1(He)?He:He.contextElement||getDocumentElement(T.elements.popper),Q,G,H),at=getBoundingClientRect(T.elements.reference),ot=computeOffsets({reference:at,element:qe,placement:L}),Ye=rectToClientRect(Object.assign({},qe,ot)),nt=Re===popper?Ye:at,Qe={top:Ge.top-nt.top+Ke.top,bottom:nt.bottom-Ge.bottom+Ke.bottom,left:Ge.left-nt.left+Ke.left,right:nt.right-Ge.right+Ke.right},tt=T.modifiersData.offset;if(Re===popper&&tt){var ze=tt[L];Object.keys(Qe).forEach(function(Fe){var ke=[right,bottom].indexOf(Fe)>=0?1:-1,Ue=[top,bottom].indexOf(Fe)>=0?"y":"x";Qe[Fe]+=ze[Ue]*ke})}return Qe}function computeAutoPlacement(T,$){$===void 0&&($={});var I=$,N=I.placement,L=I.boundary,B=I.rootBoundary,H=I.padding,z=I.flipVariations,Q=I.allowedAutoPlacements,te=Q===void 0?placements:Q,G=getVariation(N),ie=G?z?variationPlacements:variationPlacements.filter(function(Pe){return getVariation(Pe)===G}):basePlacements,Re=ie.filter(function(Pe){return te.indexOf(Pe)>=0});Re.length===0&&(Re=ie);var $e=Re.reduce(function(Pe,Me){return Pe[Me]=detectOverflow(T,{placement:Me,boundary:L,rootBoundary:B,padding:H})[getBasePlacement(Me)],Pe},{});return Object.keys($e).sort(function(Pe,Me){return $e[Pe]-$e[Me]})}function getExpandedFallbackPlacements(T){if(getBasePlacement(T)===auto)return[];var $=getOppositePlacement(T);return[getOppositeVariationPlacement(T),$,getOppositeVariationPlacement($)]}function flip(T){var $=T.state,I=T.options,N=T.name;if(!$.modifiersData[N]._skip){for(var L=I.mainAxis,B=L===void 0?!0:L,H=I.altAxis,z=H===void 0?!0:H,Q=I.fallbackPlacements,te=I.padding,G=I.boundary,ie=I.rootBoundary,Re=I.altBoundary,$e=I.flipVariations,Pe=$e===void 0?!0:$e,Me=I.allowedAutoPlacements,Be=$.options.placement,Ke=getBasePlacement(Be),Le=Ke===Be,qe=Q||(Le||!Pe?[getOppositePlacement(Be)]:getExpandedFallbackPlacements(Be)),He=[Be].concat(qe).reduce(function(st,dt){return st.concat(getBasePlacement(dt)===auto?computeAutoPlacement($,{placement:dt,boundary:G,rootBoundary:ie,padding:te,flipVariations:Pe,allowedAutoPlacements:Me}):dt)},[]),Ge=$.rects.reference,at=$.rects.popper,ot=new Map,Ye=!0,nt=He[0],Qe=0;Qe<He.length;Qe++){var tt=He[Qe],ze=getBasePlacement(tt),Fe=getVariation(tt)===start$1,ke=[top,bottom].indexOf(ze)>=0,Ue=ke?"width":"height",Je=detectOverflow($,{placement:tt,boundary:G,rootBoundary:ie,altBoundary:Re,padding:te}),rt=ke?Fe?right:left:Fe?bottom:top;Ge[Ue]>at[Ue]&&(rt=getOppositePlacement(rt));var Xe=getOppositePlacement(rt),it=[];if(B&&it.push(Je[ze]<=0),z&&it.push(Je[rt]<=0,Je[Xe]<=0),it.every(function(st){return st})){nt=tt,Ye=!1;break}ot.set(tt,it)}if(Ye)for(var We=Pe?3:1,Ve=function(dt){var bt=He.find(function(vt){var St=ot.get(vt);if(St)return St.slice(0,dt).every(function(Bt){return Bt})});if(bt)return nt=bt,"break"},je=We;je>0;je--){var Ze=Ve(je);if(Ze==="break")break}$.placement!==nt&&($.modifiersData[N]._skip=!0,$.placement=nt,$.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(T,$,I){return I===void 0&&(I={x:0,y:0}),{top:T.top-$.height-I.y,right:T.right-$.width+I.x,bottom:T.bottom-$.height+I.y,left:T.left-$.width-I.x}}function isAnySideFullyClipped(T){return[top,right,bottom,left].some(function($){return T[$]>=0})}function hide(T){var $=T.state,I=T.name,N=$.rects.reference,L=$.rects.popper,B=$.modifiersData.preventOverflow,H=detectOverflow($,{elementContext:"reference"}),z=detectOverflow($,{altBoundary:!0}),Q=getSideOffsets(H,N),te=getSideOffsets(z,L,B),G=isAnySideFullyClipped(Q),ie=isAnySideFullyClipped(te);$.modifiersData[I]={referenceClippingOffsets:Q,popperEscapeOffsets:te,isReferenceHidden:G,hasPopperEscaped:ie},$.attributes.popper=Object.assign({},$.attributes.popper,{"data-popper-reference-hidden":G,"data-popper-escaped":ie})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(T,$,I){var N=getBasePlacement(T),L=[left,top].indexOf(N)>=0?-1:1,B=typeof I=="function"?I(Object.assign({},$,{placement:T})):I,H=B[0],z=B[1];return H=H||0,z=(z||0)*L,[left,right].indexOf(N)>=0?{x:z,y:H}:{x:H,y:z}}function offset(T){var $=T.state,I=T.options,N=T.name,L=I.offset,B=L===void 0?[0,0]:L,H=placements.reduce(function(G,ie){return G[ie]=distanceAndSkiddingToXY(ie,$.rects,B),G},{}),z=H[$.placement],Q=z.x,te=z.y;$.modifiersData.popperOffsets!=null&&($.modifiersData.popperOffsets.x+=Q,$.modifiersData.popperOffsets.y+=te),$.modifiersData[N]=H}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(T){var $=T.state,I=T.name;$.modifiersData[I]=computeOffsets({reference:$.rects.reference,element:$.rects.popper,placement:$.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(T){return T==="x"?"y":"x"}function preventOverflow(T){var $=T.state,I=T.options,N=T.name,L=I.mainAxis,B=L===void 0?!0:L,H=I.altAxis,z=H===void 0?!1:H,Q=I.boundary,te=I.rootBoundary,G=I.altBoundary,ie=I.padding,Re=I.tether,$e=Re===void 0?!0:Re,Pe=I.tetherOffset,Me=Pe===void 0?0:Pe,Be=detectOverflow($,{boundary:Q,rootBoundary:te,padding:ie,altBoundary:G}),Ke=getBasePlacement($.placement),Le=getVariation($.placement),qe=!Le,He=getMainAxisFromPlacement(Ke),Ge=getAltAxis(He),at=$.modifiersData.popperOffsets,ot=$.rects.reference,Ye=$.rects.popper,nt=typeof Me=="function"?Me(Object.assign({},$.rects,{placement:$.placement})):Me,Qe=typeof nt=="number"?{mainAxis:nt,altAxis:nt}:Object.assign({mainAxis:0,altAxis:0},nt),tt=$.modifiersData.offset?$.modifiersData.offset[$.placement]:null,ze={x:0,y:0};if(at){if(B){var Fe,ke=He==="y"?top:left,Ue=He==="y"?bottom:right,Je=He==="y"?"height":"width",rt=at[He],Xe=rt+Be[ke],it=rt-Be[Ue],We=$e?-Ye[Je]/2:0,Ve=Le===start$1?ot[Je]:Ye[Je],je=Le===start$1?-Ye[Je]:-ot[Je],Ze=$.elements.arrow,st=$e&&Ze?getLayoutRect(Ze):{width:0,height:0},dt=$.modifiersData["arrow#persistent"]?$.modifiersData["arrow#persistent"].padding:getFreshSideObject(),bt=dt[ke],vt=dt[Ue],St=within(0,ot[Je],st[Je]),Bt=qe?ot[Je]/2-We-St-bt-Qe.mainAxis:Ve-St-bt-Qe.mainAxis,Gt=qe?-ot[Je]/2+We+St+vt+Qe.mainAxis:je+St+vt+Qe.mainAxis,Dt=$.elements.arrow&&getOffsetParent($.elements.arrow),Mt=Dt?He==="y"?Dt.clientTop||0:Dt.clientLeft||0:0,pt=(Fe=tt==null?void 0:tt[He])!=null?Fe:0,mt=rt+Bt-pt-Mt,$t=rt+Gt-pt,kt=within($e?min$4(Xe,mt):Xe,rt,$e?max$5(it,$t):it);at[He]=kt,ze[He]=kt-rt}if(z){var Ft,nr=He==="x"?top:left,Yt=He==="x"?bottom:right,yr=at[Ge],gr=Ge==="y"?"height":"width",br=yr+Be[nr],cr=yr-Be[Yt],pr=[top,left].indexOf(Ke)!==-1,lt=(Ft=tt==null?void 0:tt[Ge])!=null?Ft:0,ct=pr?br:yr-ot[gr]-Ye[gr]-lt+Qe.altAxis,Nt=pr?yr+ot[gr]+Ye[gr]-lt-Qe.altAxis:cr,jt=$e&&pr?withinMaxClamp(ct,yr,Nt):within($e?ct:br,yr,$e?Nt:cr);at[Ge]=jt,ze[Ge]=jt-yr}$.modifiersData[N]=ze}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(T){return{scrollLeft:T.scrollLeft,scrollTop:T.scrollTop}}function getNodeScroll(T){return T===getWindow(T)||!isHTMLElement$1(T)?getWindowScroll(T):getHTMLElementScroll(T)}function isElementScaled(T){var $=T.getBoundingClientRect(),I=round$5($.width)/T.offsetWidth||1,N=round$5($.height)/T.offsetHeight||1;return I!==1||N!==1}function getCompositeRect(T,$,I){I===void 0&&(I=!1);var N=isHTMLElement$1($),L=isHTMLElement$1($)&&isElementScaled($),B=getDocumentElement($),H=getBoundingClientRect(T,L,I),z={scrollLeft:0,scrollTop:0},Q={x:0,y:0};return(N||!N&&!I)&&((getNodeName($)!=="body"||isScrollParent(B))&&(z=getNodeScroll($)),isHTMLElement$1($)?(Q=getBoundingClientRect($,!0),Q.x+=$.clientLeft,Q.y+=$.clientTop):B&&(Q.x=getWindowScrollBarX(B))),{x:H.left+z.scrollLeft-Q.x,y:H.top+z.scrollTop-Q.y,width:H.width,height:H.height}}function order$1(T){var $=new Map,I=new Set,N=[];T.forEach(function(B){$.set(B.name,B)});function L(B){I.add(B.name);var H=[].concat(B.requires||[],B.requiresIfExists||[]);H.forEach(function(z){if(!I.has(z)){var Q=$.get(z);Q&&L(Q)}}),N.push(B)}return T.forEach(function(B){I.has(B.name)||L(B)}),N}function orderModifiers(T){var $=order$1(T);return modifierPhases.reduce(function(I,N){return I.concat($.filter(function(L){return L.phase===N}))},[])}function debounce(T){var $;return function(){return $||($=new Promise(function(I){Promise.resolve().then(function(){$=void 0,I(T())})})),$}}function mergeByName(T){var $=T.reduce(function(I,N){var L=I[N.name];return I[N.name]=L?Object.assign({},L,N,{options:Object.assign({},L.options,N.options),data:Object.assign({},L.data,N.data)}):N,I},{});return Object.keys($).map(function(I){return $[I]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var T=arguments.length,$=new Array(T),I=0;I<T;I++)$[I]=arguments[I];return!$.some(function(N){return!(N&&typeof N.getBoundingClientRect=="function")})}function popperGenerator(T){T===void 0&&(T={});var $=T,I=$.defaultModifiers,N=I===void 0?[]:I,L=$.defaultOptions,B=L===void 0?DEFAULT_OPTIONS:L;return function(z,Q,te){te===void 0&&(te=B);var G={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,B),modifiersData:{},elements:{reference:z,popper:Q},attributes:{},styles:{}},ie=[],Re=!1,$e={state:G,setOptions:function(Ke){var Le=typeof Ke=="function"?Ke(G.options):Ke;Me(),G.options=Object.assign({},B,G.options,Le),G.scrollParents={reference:isElement$1(z)?listScrollParents(z):z.contextElement?listScrollParents(z.contextElement):[],popper:listScrollParents(Q)};var qe=orderModifiers(mergeByName([].concat(N,G.options.modifiers)));return G.orderedModifiers=qe.filter(function(He){return He.enabled}),Pe(),$e.update()},forceUpdate:function(){if(!Re){var Ke=G.elements,Le=Ke.reference,qe=Ke.popper;if(areValidElements(Le,qe)){G.rects={reference:getCompositeRect(Le,getOffsetParent(qe),G.options.strategy==="fixed"),popper:getLayoutRect(qe)},G.reset=!1,G.placement=G.options.placement,G.orderedModifiers.forEach(function(Qe){return G.modifiersData[Qe.name]=Object.assign({},Qe.data)});for(var He=0;He<G.orderedModifiers.length;He++){if(G.reset===!0){G.reset=!1,He=-1;continue}var Ge=G.orderedModifiers[He],at=Ge.fn,ot=Ge.options,Ye=ot===void 0?{}:ot,nt=Ge.name;typeof at=="function"&&(G=at({state:G,options:Ye,name:nt,instance:$e})||G)}}}},update:debounce(function(){return new Promise(function(Be){$e.forceUpdate(),Be(G)})}),destroy:function(){Me(),Re=!0}};if(!areValidElements(z,Q))return $e;$e.setOptions(te).then(function(Be){!Re&&te.onFirstUpdate&&te.onFirstUpdate(Be)});function Pe(){G.orderedModifiers.forEach(function(Be){var Ke=Be.name,Le=Be.options,qe=Le===void 0?{}:Le,He=Be.effect;if(typeof He=="function"){var Ge=He({state:G,name:Ke,instance:$e,options:qe}),at=function(){};ie.push(Ge||at)}})}function Me(){ie.forEach(function(Be){return Be()}),ie=[]}return $e}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$1(T){return typeof T=="function"?T():T}const Portal=reactExports.forwardRef(function($,I){const{children:N,container:L,disablePortal:B=!1}=$,[H,z]=reactExports.useState(null),Q=useForkRef(reactExports.isValidElement(N)?getReactElementRef(N):null,I);if(useEnhancedEffect(()=>{B||z(getContainer$1(L)||document.body)},[L,B]),useEnhancedEffect(()=>{if(H&&!B)return setRef(I,H),()=>{setRef(I,null)}},[I,H,B]),B){if(reactExports.isValidElement(N)){const te={ref:Q};return reactExports.cloneElement(N,te)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:N})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:H&&reactDomExports.createPortal(N,H)})});function getPopperUtilityClass(T){return generateUtilityClass("MuiPopper",T)}generateUtilityClasses("MuiPopper",["root"]);const _excluded$Q=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],_excluded2$7=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(T,$){if($==="ltr")return T;switch(T){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return T}}function resolveAnchorEl$1(T){return typeof T=="function"?T():T}function isHTMLElement(T){return T.nodeType!==void 0}const useUtilityClasses$H=T=>{const{classes:$}=T;return composeClasses({root:["root"]},getPopperUtilityClass,$)},defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function($,I){var N;const{anchorEl:L,children:B,direction:H,disablePortal:z,modifiers:Q,open:te,placement:G,popperOptions:ie,popperRef:Re,slotProps:$e={},slots:Pe={},TransitionProps:Me}=$,Be=_objectWithoutPropertiesLoose($,_excluded$Q),Ke=reactExports.useRef(null),Le=useForkRef(Ke,I),qe=reactExports.useRef(null),He=useForkRef(qe,Re),Ge=reactExports.useRef(He);useEnhancedEffect(()=>{Ge.current=He},[He]),reactExports.useImperativeHandle(Re,()=>qe.current,[]);const at=flipPlacement(G,H),[ot,Ye]=reactExports.useState(at),[nt,Qe]=reactExports.useState(resolveAnchorEl$1(L));reactExports.useEffect(()=>{qe.current&&qe.current.forceUpdate()}),reactExports.useEffect(()=>{L&&Qe(resolveAnchorEl$1(L))},[L]),useEnhancedEffect(()=>{if(!nt||!te)return;const Ue=Xe=>{Ye(Xe.placement)};let Je=[{name:"preventOverflow",options:{altBoundary:z}},{name:"flip",options:{altBoundary:z}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Xe})=>{Ue(Xe)}}];Q!=null&&(Je=Je.concat(Q)),ie&&ie.modifiers!=null&&(Je=Je.concat(ie.modifiers));const rt=createPopper(nt,Ke.current,_extends$1({placement:at},ie,{modifiers:Je}));return Ge.current(rt),()=>{rt.destroy(),Ge.current(null)}},[nt,z,Q,te,ie,at]);const tt={placement:ot};Me!==null&&(tt.TransitionProps=Me);const ze=useUtilityClasses$H($),Fe=(N=Pe.root)!=null?N:"div",ke=useSlotProps({elementType:Fe,externalSlotProps:$e.root,externalForwardedProps:Be,additionalProps:{role:"tooltip",ref:Le},ownerState:$,className:ze.root});return jsxRuntimeExports.jsx(Fe,_extends$1({},ke,{children:typeof B=="function"?B(tt):B}))}),Popper$1=reactExports.forwardRef(function($,I){const{anchorEl:N,children:L,container:B,direction:H="ltr",disablePortal:z=!1,keepMounted:Q=!1,modifiers:te,open:G,placement:ie="bottom",popperOptions:Re=defaultPopperOptions,popperRef:$e,style:Pe,transition:Me=!1,slotProps:Be={},slots:Ke={}}=$,Le=_objectWithoutPropertiesLoose($,_excluded2$7),[qe,He]=reactExports.useState(!0),Ge=()=>{He(!1)},at=()=>{He(!0)};if(!Q&&!G&&(!Me||qe))return null;let ot;if(B)ot=B;else if(N){const Qe=resolveAnchorEl$1(N);ot=Qe&&isHTMLElement(Qe)?ownerDocument(Qe).body:ownerDocument(null).body}const Ye=!G&&Q&&(!Me||qe)?"none":void 0,nt=Me?{in:G,onEnter:Ge,onExited:at}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:z,container:ot,children:jsxRuntimeExports.jsx(PopperTooltip,_extends$1({anchorEl:N,direction:H,disablePortal:z,modifiers:te,ref:I,open:Me?!qe:G,placement:ie,popperOptions:Re,popperRef:$e,slotProps:Be,slots:Ke},Le,{style:_extends$1({position:"fixed",top:0,left:0,display:Ye},Pe),TransitionProps:nt,children:L}))})}),_excluded$P=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=styled(Popper$1,{name:"MuiPopper",slot:"Root",overridesResolver:(T,$)=>$.root})({}),Popper=reactExports.forwardRef(function($,I){var N;const L=default_1$d(),B=useDefaultProps({props:$,name:"MuiPopper"}),{anchorEl:H,component:z,components:Q,componentsProps:te,container:G,disablePortal:ie,keepMounted:Re,modifiers:$e,open:Pe,placement:Me,popperOptions:Be,popperRef:Ke,transition:Le,slots:qe,slotProps:He}=B,Ge=_objectWithoutPropertiesLoose(B,_excluded$P),at=(N=qe==null?void 0:qe.root)!=null?N:Q==null?void 0:Q.Root,ot=_extends$1({anchorEl:H,container:G,disablePortal:ie,keepMounted:Re,modifiers:$e,open:Pe,placement:Me,popperOptions:Be,popperRef:Ke,transition:Le},Ge);return jsxRuntimeExports.jsx(PopperRoot,_extends$1({as:z,direction:L==null?void 0:L.direction,slots:{root:at},slotProps:He??te},ot,{ref:I}))}),CancelIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(T){return generateUtilityClass("MuiChip",T)}const chipClasses=generateUtilityClasses("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_excluded$O=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$G=T=>{const{classes:$,disabled:I,size:N,color:L,iconColor:B,onDelete:H,clickable:z,variant:Q}=T,te={root:["root",Q,I&&"disabled",`size${capitalize(N)}`,`color${capitalize(L)}`,z&&"clickable",z&&`clickableColor${capitalize(L)}`,H&&"deletable",H&&`deletableColor${capitalize(L)}`,`${Q}${capitalize(L)}`],label:["label",`label${capitalize(N)}`],avatar:["avatar",`avatar${capitalize(N)}`,`avatarColor${capitalize(L)}`],icon:["icon",`icon${capitalize(N)}`,`iconColor${capitalize(B)}`],deleteIcon:["deleteIcon",`deleteIcon${capitalize(N)}`,`deleteIconColor${capitalize(L)}`,`deleteIcon${capitalize(Q)}Color${capitalize(L)}`]};return composeClasses(te,getChipUtilityClass,$)},ChipRoot=styled("div",{name:"MuiChip",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T,{color:N,iconColor:L,clickable:B,onDelete:H,size:z,variant:Q}=I;return[{[`& .${chipClasses.avatar}`]:$.avatar},{[`& .${chipClasses.avatar}`]:$[`avatar${capitalize(z)}`]},{[`& .${chipClasses.avatar}`]:$[`avatarColor${capitalize(N)}`]},{[`& .${chipClasses.icon}`]:$.icon},{[`& .${chipClasses.icon}`]:$[`icon${capitalize(z)}`]},{[`& .${chipClasses.icon}`]:$[`iconColor${capitalize(L)}`]},{[`& .${chipClasses.deleteIcon}`]:$.deleteIcon},{[`& .${chipClasses.deleteIcon}`]:$[`deleteIcon${capitalize(z)}`]},{[`& .${chipClasses.deleteIcon}`]:$[`deleteIconColor${capitalize(N)}`]},{[`& .${chipClasses.deleteIcon}`]:$[`deleteIcon${capitalize(Q)}Color${capitalize(N)}`]},$.root,$[`size${capitalize(z)}`],$[`color${capitalize(N)}`],B&&$.clickable,B&&N!=="default"&&$[`clickableColor${capitalize(N)})`],H&&$.deletable,H&&N!=="default"&&$[`deletableColor${capitalize(N)}`],$[Q],$[`${Q}${capitalize(N)}`]]}})(({theme:T,ownerState:$})=>{const I=T.palette.mode==="light"?T.palette.grey[700]:T.palette.grey[300];return _extends$1({maxWidth:"100%",fontFamily:T.typography.fontFamily,fontSize:T.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(T.vars||T).palette.text.primary,backgroundColor:(T.vars||T).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:T.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${chipClasses.disabled}`]:{opacity:(T.vars||T).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${chipClasses.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:T.vars?T.vars.palette.Chip.defaultAvatarColor:I,fontSize:T.typography.pxToRem(12)},[`& .${chipClasses.avatarColorPrimary}`]:{color:(T.vars||T).palette.primary.contrastText,backgroundColor:(T.vars||T).palette.primary.dark},[`& .${chipClasses.avatarColorSecondary}`]:{color:(T.vars||T).palette.secondary.contrastText,backgroundColor:(T.vars||T).palette.secondary.dark},[`& .${chipClasses.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:T.typography.pxToRem(10)},[`& .${chipClasses.icon}`]:_extends$1({marginLeft:5,marginRight:-6},$.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},$.iconColor===$.color&&_extends$1({color:T.vars?T.vars.palette.Chip.defaultIconColor:I},$.color!=="default"&&{color:"inherit"})),[`& .${chipClasses.deleteIcon}`]:_extends$1({WebkitTapHighlightColor:"transparent",color:T.vars?`rgba(${T.vars.palette.text.primaryChannel} / 0.26)`:alpha_1(T.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:T.vars?`rgba(${T.vars.palette.text.primaryChannel} / 0.4)`:alpha_1(T.palette.text.primary,.4)}},$.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},$.color!=="default"&&{color:T.vars?`rgba(${T.vars.palette[$.color].contrastTextChannel} / 0.7)`:alpha_1(T.palette[$.color].contrastText,.7),"&:hover, &:active":{color:(T.vars||T).palette[$.color].contrastText}})},$.size==="small"&&{height:24},$.color!=="default"&&{backgroundColor:(T.vars||T).palette[$.color].main,color:(T.vars||T).palette[$.color].contrastText},$.onDelete&&{[`&.${chipClasses.focusVisible}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.action.selectedChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.focusOpacity}))`:alpha_1(T.palette.action.selected,T.palette.action.selectedOpacity+T.palette.action.focusOpacity)}},$.onDelete&&$.color!=="default"&&{[`&.${chipClasses.focusVisible}`]:{backgroundColor:(T.vars||T).palette[$.color].dark}})},({theme:T,ownerState:$})=>_extends$1({},$.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:T.vars?`rgba(${T.vars.palette.action.selectedChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.hoverOpacity}))`:alpha_1(T.palette.action.selected,T.palette.action.selectedOpacity+T.palette.action.hoverOpacity)},[`&.${chipClasses.focusVisible}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.action.selectedChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.focusOpacity}))`:alpha_1(T.palette.action.selected,T.palette.action.selectedOpacity+T.palette.action.focusOpacity)},"&:active":{boxShadow:(T.vars||T).shadows[1]}},$.clickable&&$.color!=="default"&&{[`&:hover, &.${chipClasses.focusVisible}`]:{backgroundColor:(T.vars||T).palette[$.color].dark}}),({theme:T,ownerState:$})=>_extends$1({},$.variant==="outlined"&&{backgroundColor:"transparent",border:T.vars?`1px solid ${T.vars.palette.Chip.defaultBorder}`:`1px solid ${T.palette.mode==="light"?T.palette.grey[400]:T.palette.grey[700]}`,[`&.${chipClasses.clickable}:hover`]:{backgroundColor:(T.vars||T).palette.action.hover},[`&.${chipClasses.focusVisible}`]:{backgroundColor:(T.vars||T).palette.action.focus},[`& .${chipClasses.avatar}`]:{marginLeft:4},[`& .${chipClasses.avatarSmall}`]:{marginLeft:2},[`& .${chipClasses.icon}`]:{marginLeft:4},[`& .${chipClasses.iconSmall}`]:{marginLeft:2},[`& .${chipClasses.deleteIcon}`]:{marginRight:5},[`& .${chipClasses.deleteIconSmall}`]:{marginRight:3}},$.variant==="outlined"&&$.color!=="default"&&{color:(T.vars||T).palette[$.color].main,border:`1px solid ${T.vars?`rgba(${T.vars.palette[$.color].mainChannel} / 0.7)`:alpha_1(T.palette[$.color].main,.7)}`,[`&.${chipClasses.clickable}:hover`]:{backgroundColor:T.vars?`rgba(${T.vars.palette[$.color].mainChannel} / ${T.vars.palette.action.hoverOpacity})`:alpha_1(T.palette[$.color].main,T.palette.action.hoverOpacity)},[`&.${chipClasses.focusVisible}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette[$.color].mainChannel} / ${T.vars.palette.action.focusOpacity})`:alpha_1(T.palette[$.color].main,T.palette.action.focusOpacity)},[`& .${chipClasses.deleteIcon}`]:{color:T.vars?`rgba(${T.vars.palette[$.color].mainChannel} / 0.7)`:alpha_1(T.palette[$.color].main,.7),"&:hover, &:active":{color:(T.vars||T).palette[$.color].main}}})),ChipLabel=styled("span",{name:"MuiChip",slot:"Label",overridesResolver:(T,$)=>{const{ownerState:I}=T,{size:N}=I;return[$.label,$[`label${capitalize(N)}`]]}})(({ownerState:T})=>_extends$1({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},T.variant==="outlined"&&{paddingLeft:11,paddingRight:11},T.size==="small"&&{paddingLeft:8,paddingRight:8},T.size==="small"&&T.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function isDeleteKeyboardEvent(T){return T.key==="Backspace"||T.key==="Delete"}const Chip=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiChip"}),{avatar:L,className:B,clickable:H,color:z="default",component:Q,deleteIcon:te,disabled:G=!1,icon:ie,label:Re,onClick:$e,onDelete:Pe,onKeyDown:Me,onKeyUp:Be,size:Ke="medium",variant:Le="filled",tabIndex:qe,skipFocusWhenDisabled:He=!1}=N,Ge=_objectWithoutPropertiesLoose(N,_excluded$O),at=reactExports.useRef(null),ot=useForkRef(at,I),Ye=it=>{it.stopPropagation(),Pe&&Pe(it)},nt=it=>{it.currentTarget===it.target&&isDeleteKeyboardEvent(it)&&it.preventDefault(),Me&&Me(it)},Qe=it=>{it.currentTarget===it.target&&(Pe&&isDeleteKeyboardEvent(it)?Pe(it):it.key==="Escape"&&at.current&&at.current.blur()),Be&&Be(it)},tt=H!==!1&&$e?!0:H,ze=tt||Pe?ButtonBase:Q||"div",Fe=_extends$1({},N,{component:ze,disabled:G,size:Ke,color:z,iconColor:reactExports.isValidElement(ie)&&ie.props.color||z,onDelete:!!Pe,clickable:tt,variant:Le}),ke=useUtilityClasses$G(Fe),Ue=ze===ButtonBase?_extends$1({component:Q||"div",focusVisibleClassName:ke.focusVisible},Pe&&{disableRipple:!0}):{};let Je=null;Pe&&(Je=te&&reactExports.isValidElement(te)?reactExports.cloneElement(te,{className:clsx(te.props.className,ke.deleteIcon),onClick:Ye}):jsxRuntimeExports.jsx(CancelIcon,{className:clsx(ke.deleteIcon),onClick:Ye}));let rt=null;L&&reactExports.isValidElement(L)&&(rt=reactExports.cloneElement(L,{className:clsx(ke.avatar,L.props.className)}));let Xe=null;return ie&&reactExports.isValidElement(ie)&&(Xe=reactExports.cloneElement(ie,{className:clsx(ke.icon,ie.props.className)})),jsxRuntimeExports.jsxs(ChipRoot,_extends$1({as:ze,className:clsx(ke.root,B),disabled:tt&&G?!0:void 0,onClick:$e,onKeyDown:nt,onKeyUp:Qe,ref:ot,tabIndex:He&&G?-1:qe,ownerState:Fe},Ue,Ge,{children:[rt||Xe,jsxRuntimeExports.jsx(ChipLabel,{className:clsx(ke.label),ownerState:Fe,children:Re}),Je]}))}),_excluded$N=["onChange","maxRows","minRows","style","value"];function getStyleValue(T){return parseInt(T,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isObjectEmpty(T){for(const $ in T)return!1;return!0}function isEmpty$3(T){return isObjectEmpty(T)||T.outerHeightStyle===0&&!T.overflowing}const TextareaAutosize=reactExports.forwardRef(function($,I){const{onChange:N,maxRows:L,minRows:B=1,style:H,value:z}=$,Q=_objectWithoutPropertiesLoose($,_excluded$N),{current:te}=reactExports.useRef(z!=null),G=reactExports.useRef(null),ie=useForkRef(I,G),Re=reactExports.useRef(null),$e=reactExports.useRef(null),Pe=reactExports.useCallback(()=>{const qe=G.current,He=$e.current;if(!qe||!He)return;const at=ownerWindow(qe).getComputedStyle(qe);if(at.width==="0px")return{outerHeightStyle:0,overflowing:!1};He.style.width=at.width,He.value=qe.value||$.placeholder||"x",He.value.slice(-1)===`
`&&(He.value+=" ");const ot=at.boxSizing,Ye=getStyleValue(at.paddingBottom)+getStyleValue(at.paddingTop),nt=getStyleValue(at.borderBottomWidth)+getStyleValue(at.borderTopWidth),Qe=He.scrollHeight;He.value="x";const tt=He.scrollHeight;let ze=Qe;B&&(ze=Math.max(Number(B)*tt,ze)),L&&(ze=Math.min(Number(L)*tt,ze)),ze=Math.max(ze,tt);const Fe=ze+(ot==="border-box"?Ye+nt:0),ke=Math.abs(ze-Qe)<=1;return{outerHeightStyle:Fe,overflowing:ke}},[L,B,$.placeholder]),Me=useEventCallback(()=>{const qe=G.current,He=Pe();if(!qe||!He||isEmpty$3(He))return!1;const Ge=He.outerHeightStyle;return Re.current!=null&&Re.current!==Ge}),Be=reactExports.useCallback(()=>{const qe=G.current,He=Pe();if(!qe||!He||isEmpty$3(He))return;const Ge=He.outerHeightStyle;Re.current!==Ge&&(Re.current=Ge,qe.style.height=`${Ge}px`),qe.style.overflow=He.overflowing?"hidden":""},[Pe]),Ke=reactExports.useRef(-1);useEnhancedEffect(()=>{const qe=debounce$1(Be),He=G==null?void 0:G.current;if(!He)return;const Ge=ownerWindow(He);Ge.addEventListener("resize",qe);let at;return typeof ResizeObserver<"u"&&(at=new ResizeObserver(()=>{Me()&&(at.unobserve(He),cancelAnimationFrame(Ke.current),Be(),Ke.current=requestAnimationFrame(()=>{at.observe(He)}))}),at.observe(He)),()=>{qe.clear(),cancelAnimationFrame(Ke.current),Ge.removeEventListener("resize",qe),at&&at.disconnect()}},[Pe,Be,Me]),useEnhancedEffect(()=>{Be()});const Le=qe=>{te||Be(),N&&N(qe)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends$1({value:z,onChange:Le,ref:ie,rows:B,style:H},Q)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:$.className,readOnly:!0,ref:$e,tabIndex:-1,style:_extends$1({},styles$2.shadow,H,{paddingTop:0,paddingBottom:0})})]})});function formControlState({props:T,states:$,muiFormControl:I}){return $.reduce((N,L)=>(N[L]=T[L],I&&typeof T[L]>"u"&&(N[L]=I[L]),N),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}function hasValue(T){return T!=null&&!(Array.isArray(T)&&T.length===0)}function isFilled(T,$=!1){return T&&(hasValue(T.value)&&T.value!==""||$&&hasValue(T.defaultValue)&&T.defaultValue!=="")}function isAdornedStart(T){return T.startAdornment}function getInputBaseUtilityClass(T){return generateUtilityClass("MuiInputBase",T)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),_excluded$M=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(T,$)=>{const{ownerState:I}=T;return[$.root,I.formControl&&$.formControl,I.startAdornment&&$.adornedStart,I.endAdornment&&$.adornedEnd,I.error&&$.error,I.size==="small"&&$.sizeSmall,I.multiline&&$.multiline,I.color&&$[`color${capitalize(I.color)}`],I.fullWidth&&$.fullWidth,I.hiddenLabel&&$.hiddenLabel]},inputOverridesResolver=(T,$)=>{const{ownerState:I}=T;return[$.input,I.size==="small"&&$.inputSizeSmall,I.multiline&&$.inputMultiline,I.type==="search"&&$.inputTypeSearch,I.startAdornment&&$.inputAdornedStart,I.endAdornment&&$.inputAdornedEnd,I.hiddenLabel&&$.inputHiddenLabel]},useUtilityClasses$F=T=>{const{classes:$,color:I,disabled:N,error:L,endAdornment:B,focused:H,formControl:z,fullWidth:Q,hiddenLabel:te,multiline:G,readOnly:ie,size:Re,startAdornment:$e,type:Pe}=T,Me={root:["root",`color${capitalize(I)}`,N&&"disabled",L&&"error",Q&&"fullWidth",H&&"focused",z&&"formControl",Re&&Re!=="medium"&&`size${capitalize(Re)}`,G&&"multiline",$e&&"adornedStart",B&&"adornedEnd",te&&"hiddenLabel",ie&&"readOnly"],input:["input",N&&"disabled",Pe==="search"&&"inputTypeSearch",G&&"inputMultiline",Re==="small"&&"inputSizeSmall",te&&"inputHiddenLabel",$e&&"inputAdornedStart",B&&"inputAdornedEnd",ie&&"readOnly"]};return composeClasses(Me,getInputBaseUtilityClass,$)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:T,ownerState:$})=>_extends$1({},T.typography.body1,{color:(T.vars||T).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(T.vars||T).palette.text.disabled,cursor:"default"}},$.multiline&&_extends$1({padding:"4px 0 5px"},$.size==="small"&&{paddingTop:1}),$.fullWidth&&{width:"100%"})),InputBaseComponent=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:T,ownerState:$})=>{const I=T.palette.mode==="light",N=_extends$1({color:"currentColor"},T.vars?{opacity:T.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5},{transition:T.transitions.create("opacity",{duration:T.transitions.duration.shorter})}),L={opacity:"0 !important"},B=T.vars?{opacity:T.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5};return _extends$1({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":N,"&::-moz-placeholder":N,"&:-ms-input-placeholder":N,"&::-ms-input-placeholder":N,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":L,"&::-moz-placeholder":L,"&:-ms-input-placeholder":L,"&::-ms-input-placeholder":L,"&:focus::-webkit-input-placeholder":B,"&:focus::-moz-placeholder":B,"&:focus:-ms-input-placeholder":B,"&:focus::-ms-input-placeholder":B},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(T.vars||T).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},$.size==="small"&&{paddingTop:1},$.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},$.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function($,I){var N;const L=useDefaultProps({props:$,name:"MuiInputBase"}),{"aria-describedby":B,autoComplete:H,autoFocus:z,className:Q,components:te={},componentsProps:G={},defaultValue:ie,disabled:Re,disableInjectingGlobalStyles:$e,endAdornment:Pe,fullWidth:Me=!1,id:Be,inputComponent:Ke="input",inputProps:Le={},inputRef:qe,maxRows:He,minRows:Ge,multiline:at=!1,name:ot,onBlur:Ye,onChange:nt,onClick:Qe,onFocus:tt,onKeyDown:ze,onKeyUp:Fe,placeholder:ke,readOnly:Ue,renderSuffix:Je,rows:rt,slotProps:Xe={},slots:it={},startAdornment:We,type:Ve="text",value:je}=L,Ze=_objectWithoutPropertiesLoose(L,_excluded$M),st=Le.value!=null?Le.value:je,{current:dt}=reactExports.useRef(st!=null),bt=reactExports.useRef(),vt=reactExports.useCallback(jt=>{},[]),St=useForkRef(bt,qe,Le.ref,vt),[Bt,Gt]=reactExports.useState(!1),Dt=useFormControl(),Mt=formControlState({props:L,muiFormControl:Dt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Mt.focused=Dt?Dt.focused:Bt,reactExports.useEffect(()=>{!Dt&&Re&&Bt&&(Gt(!1),Ye&&Ye())},[Dt,Re,Bt,Ye]);const pt=Dt&&Dt.onFilled,mt=Dt&&Dt.onEmpty,$t=reactExports.useCallback(jt=>{isFilled(jt)?pt&&pt():mt&&mt()},[pt,mt]);useEnhancedEffect(()=>{dt&&$t({value:st})},[st,$t,dt]);const kt=jt=>{if(Mt.disabled){jt.stopPropagation();return}tt&&tt(jt),Le.onFocus&&Le.onFocus(jt),Dt&&Dt.onFocus?Dt.onFocus(jt):Gt(!0)},Ft=jt=>{Ye&&Ye(jt),Le.onBlur&&Le.onBlur(jt),Dt&&Dt.onBlur?Dt.onBlur(jt):Gt(!1)},nr=(jt,...zt)=>{if(!dt){const Ot=jt.target||bt.current;if(Ot==null)throw new Error(formatMuiErrorMessage(1));$t({value:Ot.value})}Le.onChange&&Le.onChange(jt,...zt),nt&&nt(jt,...zt)};reactExports.useEffect(()=>{$t(bt.current)},[]);const Yt=jt=>{bt.current&&jt.currentTarget===jt.target&&bt.current.focus(),Qe&&Qe(jt)};let yr=Ke,gr=Le;at&&yr==="input"&&(rt?gr=_extends$1({type:void 0,minRows:rt,maxRows:rt},gr):gr=_extends$1({type:void 0,maxRows:He,minRows:Ge},gr),yr=TextareaAutosize);const br=jt=>{$t(jt.animationName==="mui-auto-fill-cancel"?bt.current:{value:"x"})};reactExports.useEffect(()=>{Dt&&Dt.setAdornedStart(!!We)},[Dt,We]);const cr=_extends$1({},L,{color:Mt.color||"primary",disabled:Mt.disabled,endAdornment:Pe,error:Mt.error,focused:Mt.focused,formControl:Dt,fullWidth:Me,hiddenLabel:Mt.hiddenLabel,multiline:at,size:Mt.size,startAdornment:We,type:Ve}),pr=useUtilityClasses$F(cr),lt=it.root||te.Root||InputBaseRoot,ct=Xe.root||G.root||{},Nt=it.input||te.Input||InputBaseComponent;return gr=_extends$1({},gr,(N=Xe.input)!=null?N:G.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!$e&&inputGlobalStyles,jsxRuntimeExports.jsxs(lt,_extends$1({},ct,!isHostComponent(lt)&&{ownerState:_extends$1({},cr,ct.ownerState)},{ref:I,onClick:Yt},Ze,{className:clsx(pr.root,ct.className,Q,Ue&&"MuiInputBase-readOnly"),children:[We,jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(Nt,_extends$1({ownerState:cr,"aria-invalid":Mt.error,"aria-describedby":B,autoComplete:H,autoFocus:z,defaultValue:ie,disabled:Mt.disabled,id:Be,onAnimationStart:br,name:ot,placeholder:ke,readOnly:Ue,required:Mt.required,rows:rt,value:st,onKeyDown:ze,onKeyUp:Fe,type:Ve},gr,!isHostComponent(Nt)&&{as:yr,ownerState:_extends$1({},cr,gr.ownerState)},{ref:St,className:clsx(pr.input,gr.className,Ue&&"MuiInputBase-readOnly"),onBlur:Ft,onChange:nr,onFocus:kt}))}),Pe,Je?Je(_extends$1({},Mt,{startAdornment:We})):null]}))]})});function getInputUtilityClass(T){return generateUtilityClass("MuiInput",T)}const inputClasses=_extends$1({},inputBaseClasses,generateUtilityClasses("MuiInput",["root","underline","input"]));function getOutlinedInputUtilityClass(T){return generateUtilityClass("MuiOutlinedInput",T)}const outlinedInputClasses=_extends$1({},inputBaseClasses,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"]));function getFilledInputUtilityClass(T){return generateUtilityClass("MuiFilledInput",T)}const filledInputClasses=_extends$1({},inputBaseClasses,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),ArrowDropDownIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_excluded$L=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function($,I){const N=useTheme$1(),L={enter:N.transitions.duration.enteringScreen,exit:N.transitions.duration.leavingScreen},{addEndListener:B,appear:H=!0,children:z,easing:Q,in:te,onEnter:G,onEntered:ie,onEntering:Re,onExit:$e,onExited:Pe,onExiting:Me,style:Be,timeout:Ke=L,TransitionComponent:Le=Transition}=$,qe=_objectWithoutPropertiesLoose($,_excluded$L),He=reactExports.useRef(null),Ge=useForkRef(He,getReactElementRef(z),I),at=ke=>Ue=>{if(ke){const Je=He.current;Ue===void 0?ke(Je):ke(Je,Ue)}},ot=at(Re),Ye=at((ke,Ue)=>{reflow(ke);const Je=getTransitionProps({style:Be,timeout:Ke,easing:Q},{mode:"enter"});ke.style.webkitTransition=N.transitions.create("opacity",Je),ke.style.transition=N.transitions.create("opacity",Je),G&&G(ke,Ue)}),nt=at(ie),Qe=at(Me),tt=at(ke=>{const Ue=getTransitionProps({style:Be,timeout:Ke,easing:Q},{mode:"exit"});ke.style.webkitTransition=N.transitions.create("opacity",Ue),ke.style.transition=N.transitions.create("opacity",Ue),$e&&$e(ke)}),ze=at(Pe),Fe=ke=>{B&&B(He.current,ke)};return jsxRuntimeExports.jsx(Le,_extends$1({appear:H,in:te,nodeRef:He,onEnter:Ye,onEntered:nt,onEntering:ot,onExit:tt,onExited:ze,onExiting:Qe,addEndListener:Fe,timeout:Ke},qe,{children:(ke,Ue)=>reactExports.cloneElement(z,_extends$1({style:_extends$1({opacity:0,visibility:ke==="exited"&&!te?"hidden":void 0},styles$1[ke],Be,z.props.style),ref:Ge},Ue))}))});function getBackdropUtilityClass(T){return generateUtilityClass("MuiBackdrop",T)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$K=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$E=T=>{const{classes:$,invisible:I}=T;return composeClasses({root:["root",I&&"invisible"]},getBackdropUtilityClass,$)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.invisible&&$.invisible]}})(({ownerState:T})=>_extends$1({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},T.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function($,I){var N,L,B;const H=useDefaultProps({props:$,name:"MuiBackdrop"}),{children:z,className:Q,component:te="div",components:G={},componentsProps:ie={},invisible:Re=!1,open:$e,slotProps:Pe={},slots:Me={},TransitionComponent:Be=Fade,transitionDuration:Ke}=H,Le=_objectWithoutPropertiesLoose(H,_excluded$K),qe=_extends$1({},H,{component:te,invisible:Re}),He=useUtilityClasses$E(qe),Ge=(N=Pe.root)!=null?N:ie.root;return jsxRuntimeExports.jsx(Be,_extends$1({in:$e,timeout:Ke},Le,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends$1({"aria-hidden":!0},Ge,{as:(L=(B=Me.root)!=null?B:G.Root)!=null?L:te,className:clsx(He.root,Q,Ge==null?void 0:Ge.className),ownerState:_extends$1({},qe,Ge==null?void 0:Ge.ownerState),classes:He,ref:I,children:z}))}))});function getBottomNavigationUtilityClass(T){return generateUtilityClass("MuiBottomNavigation",T)}generateUtilityClasses("MuiBottomNavigation",["root"]);const _excluded$J=["children","className","component","onChange","showLabels","value"],useUtilityClasses$D=T=>{const{classes:$}=T;return composeClasses({root:["root"]},getBottomNavigationUtilityClass,$)},BottomNavigationRoot=styled("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(T,$)=>$.root})(({theme:T})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(T.vars||T).palette.background.paper})),BottomNavigation=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiBottomNavigation"}),{children:L,className:B,component:H="div",onChange:z,showLabels:Q=!1,value:te}=N,G=_objectWithoutPropertiesLoose(N,_excluded$J),ie=_extends$1({},N,{component:H,showLabels:Q}),Re=useUtilityClasses$D(ie);return jsxRuntimeExports.jsx(BottomNavigationRoot,_extends$1({as:H,className:clsx(Re.root,B),ref:I,ownerState:ie},G,{children:reactExports.Children.map(L,($e,Pe)=>{if(!reactExports.isValidElement($e))return null;const Me=$e.props.value===void 0?Pe:$e.props.value;return reactExports.cloneElement($e,{selected:Me===te,showLabel:$e.props.showLabel!==void 0?$e.props.showLabel:Q,value:Me,onChange:z})})}))});function getBottomNavigationActionUtilityClass(T){return generateUtilityClass("MuiBottomNavigationAction",T)}const bottomNavigationActionClasses=generateUtilityClasses("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),_excluded$I=["className","icon","label","onChange","onClick","selected","showLabel","value"],useUtilityClasses$C=T=>{const{classes:$,showLabel:I,selected:N}=T;return composeClasses({root:["root",!I&&!N&&"iconOnly",N&&"selected"],label:["label",!I&&!N&&"iconOnly",N&&"selected"]},getBottomNavigationActionUtilityClass,$)},BottomNavigationActionRoot=styled(ButtonBase,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,!I.showLabel&&!I.selected&&$.iconOnly]}})(({theme:T,ownerState:$})=>_extends$1({transition:T.transitions.create(["color","padding-top"],{duration:T.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(T.vars||T).palette.text.secondary,flexDirection:"column",flex:"1"},!$.showLabel&&!$.selected&&{paddingTop:14},!$.showLabel&&!$.selected&&!$.label&&{paddingTop:0},{[`&.${bottomNavigationActionClasses.selected}`]:{color:(T.vars||T).palette.primary.main}})),BottomNavigationActionLabel=styled("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(T,$)=>$.label})(({theme:T,ownerState:$})=>_extends$1({fontFamily:T.typography.fontFamily,fontSize:T.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!$.showLabel&&!$.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${bottomNavigationActionClasses.selected}`]:{fontSize:T.typography.pxToRem(14)}})),BottomNavigationAction=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiBottomNavigationAction"}),{className:L,icon:B,label:H,onChange:z,onClick:Q,value:te}=N,G=_objectWithoutPropertiesLoose(N,_excluded$I),ie=N,Re=useUtilityClasses$C(ie),$e=Pe=>{z&&z(Pe,te),Q&&Q(Pe)};return jsxRuntimeExports.jsxs(BottomNavigationActionRoot,_extends$1({ref:I,className:clsx(Re.root,L),focusRipple:!0,onClick:$e,ownerState:ie},G,{children:[B,jsxRuntimeExports.jsx(BottomNavigationActionLabel,{className:Re.label,ownerState:ie,children:H})]}))}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function getButtonUtilityClass(T){return generateUtilityClass("MuiButton",T)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ButtonGroupContext=reactExports.createContext({}),ButtonGroupButtonContext=reactExports.createContext(void 0),_excluded$H=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$B=T=>{const{color:$,disableElevation:I,fullWidth:N,size:L,variant:B,classes:H}=T,z={root:["root",B,`${B}${capitalize($)}`,`size${capitalize(L)}`,`${B}Size${capitalize(L)}`,`color${capitalize($)}`,I&&"disableElevation",N&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${capitalize(L)}`],endIcon:["icon","endIcon",`iconSize${capitalize(L)}`]},Q=composeClasses(z,getButtonUtilityClass,H);return _extends$1({},H,Q)},commonIconStyles=T=>_extends$1({},T.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},T.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},T.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled(ButtonBase,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiButton",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.variant],$[`${I.variant}${capitalize(I.color)}`],$[`size${capitalize(I.size)}`],$[`${I.variant}Size${capitalize(I.size)}`],I.color==="inherit"&&$.colorInherit,I.disableElevation&&$.disableElevation,I.fullWidth&&$.fullWidth]}})(({theme:T,ownerState:$})=>{var I,N;const L=T.palette.mode==="light"?T.palette.grey[300]:T.palette.grey[800],B=T.palette.mode==="light"?T.palette.grey.A100:T.palette.grey[700];return _extends$1({},T.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(T.vars||T).shape.borderRadius,transition:T.transitions.create(["background-color","box-shadow","border-color","color"],{duration:T.transitions.duration.short}),"&:hover":_extends$1({textDecoration:"none",backgroundColor:T.vars?`rgba(${T.vars.palette.text.primaryChannel} / ${T.vars.palette.action.hoverOpacity})`:alpha_1(T.palette.text.primary,T.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},$.variant==="text"&&$.color!=="inherit"&&{backgroundColor:T.vars?`rgba(${T.vars.palette[$.color].mainChannel} / ${T.vars.palette.action.hoverOpacity})`:alpha_1(T.palette[$.color].main,T.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},$.variant==="outlined"&&$.color!=="inherit"&&{border:`1px solid ${(T.vars||T).palette[$.color].main}`,backgroundColor:T.vars?`rgba(${T.vars.palette[$.color].mainChannel} / ${T.vars.palette.action.hoverOpacity})`:alpha_1(T.palette[$.color].main,T.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},$.variant==="contained"&&{backgroundColor:T.vars?T.vars.palette.Button.inheritContainedHoverBg:B,boxShadow:(T.vars||T).shadows[4],"@media (hover: none)":{boxShadow:(T.vars||T).shadows[2],backgroundColor:(T.vars||T).palette.grey[300]}},$.variant==="contained"&&$.color!=="inherit"&&{backgroundColor:(T.vars||T).palette[$.color].dark,"@media (hover: none)":{backgroundColor:(T.vars||T).palette[$.color].main}}),"&:active":_extends$1({},$.variant==="contained"&&{boxShadow:(T.vars||T).shadows[8]}),[`&.${buttonClasses.focusVisible}`]:_extends$1({},$.variant==="contained"&&{boxShadow:(T.vars||T).shadows[6]}),[`&.${buttonClasses.disabled}`]:_extends$1({color:(T.vars||T).palette.action.disabled},$.variant==="outlined"&&{border:`1px solid ${(T.vars||T).palette.action.disabledBackground}`},$.variant==="contained"&&{color:(T.vars||T).palette.action.disabled,boxShadow:(T.vars||T).shadows[0],backgroundColor:(T.vars||T).palette.action.disabledBackground})},$.variant==="text"&&{padding:"6px 8px"},$.variant==="text"&&$.color!=="inherit"&&{color:(T.vars||T).palette[$.color].main},$.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},$.variant==="outlined"&&$.color!=="inherit"&&{color:(T.vars||T).palette[$.color].main,border:T.vars?`1px solid rgba(${T.vars.palette[$.color].mainChannel} / 0.5)`:`1px solid ${alpha_1(T.palette[$.color].main,.5)}`},$.variant==="contained"&&{color:T.vars?T.vars.palette.text.primary:(I=(N=T.palette).getContrastText)==null?void 0:I.call(N,T.palette.grey[300]),backgroundColor:T.vars?T.vars.palette.Button.inheritContainedBg:L,boxShadow:(T.vars||T).shadows[2]},$.variant==="contained"&&$.color!=="inherit"&&{color:(T.vars||T).palette[$.color].contrastText,backgroundColor:(T.vars||T).palette[$.color].main},$.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},$.size==="small"&&$.variant==="text"&&{padding:"4px 5px",fontSize:T.typography.pxToRem(13)},$.size==="large"&&$.variant==="text"&&{padding:"8px 11px",fontSize:T.typography.pxToRem(15)},$.size==="small"&&$.variant==="outlined"&&{padding:"3px 9px",fontSize:T.typography.pxToRem(13)},$.size==="large"&&$.variant==="outlined"&&{padding:"7px 21px",fontSize:T.typography.pxToRem(15)},$.size==="small"&&$.variant==="contained"&&{padding:"4px 10px",fontSize:T.typography.pxToRem(13)},$.size==="large"&&$.variant==="contained"&&{padding:"8px 22px",fontSize:T.typography.pxToRem(15)},$.fullWidth&&{width:"100%"})},({ownerState:T})=>T.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.startIcon,$[`iconSize${capitalize(I.size)}`]]}})(({ownerState:T})=>_extends$1({display:"inherit",marginRight:8,marginLeft:-4},T.size==="small"&&{marginLeft:-2},commonIconStyles(T))),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.endIcon,$[`iconSize${capitalize(I.size)}`]]}})(({ownerState:T})=>_extends$1({display:"inherit",marginRight:-4,marginLeft:8},T.size==="small"&&{marginRight:-2},commonIconStyles(T))),Button=reactExports.forwardRef(function($,I){const N=reactExports.useContext(ButtonGroupContext),L=reactExports.useContext(ButtonGroupButtonContext),B=resolveProps(N,$),H=useDefaultProps({props:B,name:"MuiButton"}),{children:z,color:Q="primary",component:te="button",className:G,disabled:ie=!1,disableElevation:Re=!1,disableFocusRipple:$e=!1,endIcon:Pe,focusVisibleClassName:Me,fullWidth:Be=!1,size:Ke="medium",startIcon:Le,type:qe,variant:He="text"}=H,Ge=_objectWithoutPropertiesLoose(H,_excluded$H),at=_extends$1({},H,{color:Q,component:te,disabled:ie,disableElevation:Re,disableFocusRipple:$e,fullWidth:Be,size:Ke,type:qe,variant:He}),ot=useUtilityClasses$B(at),Ye=Le&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:ot.startIcon,ownerState:at,children:Le}),nt=Pe&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:ot.endIcon,ownerState:at,children:Pe}),Qe=L||"";return jsxRuntimeExports.jsxs(ButtonRoot,_extends$1({ownerState:at,className:clsx(N.className,ot.root,G,Qe),component:te,disabled:ie,focusRipple:!$e,focusVisibleClassName:clsx(ot.focusVisible,Me),ref:I,type:qe},Ge,{classes:ot,children:[Ye,z,nt]}))});function getCircularProgressUtilityClass(T){return generateUtilityClass("MuiCircularProgress",T)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$G=["className","color","disableShrink","size","style","thickness","value","variant"];let _=T=>T,_t,_t2,_t3,_t4;const SIZE=44,circularRotateKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=keyframes(_t2||(_t2=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses$A=T=>{const{classes:$,variant:I,color:N,disableShrink:L}=T,B={root:["root",I,`color${capitalize(N)}`],svg:["svg"],circle:["circle",`circle${capitalize(I)}`,L&&"circleDisableShrink"]};return composeClasses(B,getCircularProgressUtilityClass,$)},CircularProgressRoot=styled("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.variant],$[`color${capitalize(I.color)}`]]}})(({ownerState:T,theme:$})=>_extends$1({display:"inline-block"},T.variant==="determinate"&&{transition:$.transitions.create("transform")},T.color!=="inherit"&&{color:($.vars||$).palette[T.color].main}),({ownerState:T})=>T.variant==="indeterminate"&&css(_t3||(_t3=_`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=styled("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(T,$)=>$.svg})({display:"block"}),CircularProgressCircle=styled("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.circle,$[`circle${capitalize(I.variant)}`],I.disableShrink&&$.circleDisableShrink]}})(({ownerState:T,theme:$})=>_extends$1({stroke:"currentColor"},T.variant==="determinate"&&{transition:$.transitions.create("stroke-dashoffset")},T.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:T})=>T.variant==="indeterminate"&&!T.disableShrink&&css(_t4||(_t4=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiCircularProgress"}),{className:L,color:B="primary",disableShrink:H=!1,size:z=40,style:Q,thickness:te=3.6,value:G=0,variant:ie="indeterminate"}=N,Re=_objectWithoutPropertiesLoose(N,_excluded$G),$e=_extends$1({},N,{color:B,disableShrink:H,size:z,thickness:te,value:G,variant:ie}),Pe=useUtilityClasses$A($e),Me={},Be={},Ke={};if(ie==="determinate"){const Le=2*Math.PI*((SIZE-te)/2);Me.strokeDasharray=Le.toFixed(3),Ke["aria-valuenow"]=Math.round(G),Me.strokeDashoffset=`${((100-G)/100*Le).toFixed(3)}px`,Be.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,_extends$1({className:clsx(Pe.root,L),style:_extends$1({width:z,height:z},Be,Q),ownerState:$e,ref:I,role:"progressbar"},Ke,Re,{children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:Pe.svg,ownerState:$e,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:Pe.circle,style:Me,ownerState:$e,cx:SIZE,cy:SIZE,r:(SIZE-te)/2,fill:"none",strokeWidth:te})})}))});function mapEventPropToEvent(T){return T.substring(2).toLowerCase()}function clickedRootScrollbar(T,$){return $.documentElement.clientWidth<T.clientX||$.documentElement.clientHeight<T.clientY}function ClickAwayListener(T){const{children:$,disableReactTree:I=!1,mouseEvent:N="onClick",onClickAway:L,touchEvent:B="onTouchEnd"}=T,H=reactExports.useRef(!1),z=reactExports.useRef(null),Q=reactExports.useRef(!1),te=reactExports.useRef(!1);reactExports.useEffect(()=>(setTimeout(()=>{Q.current=!0},0),()=>{Q.current=!1}),[]);const G=useForkRef(getReactElementRef($),z),ie=useEventCallback(Pe=>{const Me=te.current;te.current=!1;const Be=ownerDocument(z.current);if(!Q.current||!z.current||"clientX"in Pe&&clickedRootScrollbar(Pe,Be))return;if(H.current){H.current=!1;return}let Ke;Pe.composedPath?Ke=Pe.composedPath().indexOf(z.current)>-1:Ke=!Be.documentElement.contains(Pe.target)||z.current.contains(Pe.target),!Ke&&(I||!Me)&&L(Pe)}),Re=Pe=>Me=>{te.current=!0;const Be=$.props[Pe];Be&&Be(Me)},$e={ref:G};return B!==!1&&($e[B]=Re(B)),reactExports.useEffect(()=>{if(B!==!1){const Pe=mapEventPropToEvent(B),Me=ownerDocument(z.current),Be=()=>{H.current=!0};return Me.addEventListener(Pe,ie),Me.addEventListener("touchmove",Be),()=>{Me.removeEventListener(Pe,ie),Me.removeEventListener("touchmove",Be)}}},[ie,B]),N!==!1&&($e[N]=Re(N)),reactExports.useEffect(()=>{if(N!==!1){const Pe=mapEventPropToEvent(N),Me=ownerDocument(z.current);return Me.addEventListener(Pe,ie),()=>{Me.removeEventListener(Pe,ie)}}},[ie,N]),jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement($,$e)})}const Container=createContainer({createStyledComponent:styled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[`maxWidth${capitalize(String(I.maxWidth))}`],I.fixed&&$.fixed,I.disableGutters&&$.disableGutters]}}),useThemeProps:T=>useDefaultProps({props:T,name:"MuiContainer"})});function isOverflowing(T){const $=ownerDocument(T);return $.body===T?ownerWindow(T).innerWidth>$.documentElement.clientWidth:T.scrollHeight>T.clientHeight}function ariaHidden(T,$){$?T.setAttribute("aria-hidden","true"):T.removeAttribute("aria-hidden")}function getPaddingRight(T){return parseInt(ownerWindow(T).getComputedStyle(T).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(T){const I=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(T.tagName)!==-1,N=T.tagName==="INPUT"&&T.getAttribute("type")==="hidden";return I||N}function ariaHiddenSiblings(T,$,I,N,L){const B=[$,I,...N];[].forEach.call(T.children,H=>{const z=B.indexOf(H)===-1,Q=!isAriaHiddenForbiddenOnElement(H);z&&Q&&ariaHidden(H,L)})}function findIndexOf(T,$){let I=-1;return T.some((N,L)=>$(N)?(I=L,!0):!1),I}function handleContainer(T,$){const I=[],N=T.container;if(!$.disableScrollLock){if(isOverflowing(N)){const H=getScrollbarSize(ownerDocument(N));I.push({value:N.style.paddingRight,property:"padding-right",el:N}),N.style.paddingRight=`${getPaddingRight(N)+H}px`;const z=ownerDocument(N).querySelectorAll(".mui-fixed");[].forEach.call(z,Q=>{I.push({value:Q.style.paddingRight,property:"padding-right",el:Q}),Q.style.paddingRight=`${getPaddingRight(Q)+H}px`})}let B;if(N.parentNode instanceof DocumentFragment)B=ownerDocument(N).body;else{const H=N.parentElement,z=ownerWindow(N);B=(H==null?void 0:H.nodeName)==="HTML"&&z.getComputedStyle(H).overflowY==="scroll"?H:N}I.push({value:B.style.overflow,property:"overflow",el:B},{value:B.style.overflowX,property:"overflow-x",el:B},{value:B.style.overflowY,property:"overflow-y",el:B}),B.style.overflow="hidden"}return()=>{I.forEach(({value:B,el:H,property:z})=>{B?H.style.setProperty(z,B):H.style.removeProperty(z)})}}function getHiddenSiblings(T){const $=[];return[].forEach.call(T.children,I=>{I.getAttribute("aria-hidden")==="true"&&$.push(I)}),$}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add($,I){let N=this.modals.indexOf($);if(N!==-1)return N;N=this.modals.length,this.modals.push($),$.modalRef&&ariaHidden($.modalRef,!1);const L=getHiddenSiblings(I);ariaHiddenSiblings(I,$.mount,$.modalRef,L,!0);const B=findIndexOf(this.containers,H=>H.container===I);return B!==-1?(this.containers[B].modals.push($),N):(this.containers.push({modals:[$],container:I,restore:null,hiddenSiblings:L}),N)}mount($,I){const N=findIndexOf(this.containers,B=>B.modals.indexOf($)!==-1),L=this.containers[N];L.restore||(L.restore=handleContainer(L,I))}remove($,I=!0){const N=this.modals.indexOf($);if(N===-1)return N;const L=findIndexOf(this.containers,H=>H.modals.indexOf($)!==-1),B=this.containers[L];if(B.modals.splice(B.modals.indexOf($),1),this.modals.splice(N,1),B.modals.length===0)B.restore&&B.restore(),$.modalRef&&ariaHidden($.modalRef,I),ariaHiddenSiblings(B.container,$.mount,$.modalRef,B.hiddenSiblings,!1),this.containers.splice(L,1);else{const H=B.modals[B.modals.length-1];H.modalRef&&ariaHidden(H.modalRef,!1)}return N}isTopModal($){return this.modals.length>0&&this.modals[this.modals.length-1]===$}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(T){const $=parseInt(T.getAttribute("tabindex")||"",10);return Number.isNaN($)?T.contentEditable==="true"||(T.nodeName==="AUDIO"||T.nodeName==="VIDEO"||T.nodeName==="DETAILS")&&T.getAttribute("tabindex")===null?0:T.tabIndex:$}function isNonTabbableRadio(T){if(T.tagName!=="INPUT"||T.type!=="radio"||!T.name)return!1;const $=N=>T.ownerDocument.querySelector(`input[type="radio"]${N}`);let I=$(`[name="${T.name}"]:checked`);return I||(I=$(`[name="${T.name}"]`)),I!==T}function isNodeMatchingSelectorFocusable(T){return!(T.disabled||T.tagName==="INPUT"&&T.type==="hidden"||isNonTabbableRadio(T))}function defaultGetTabbable(T){const $=[],I=[];return Array.from(T.querySelectorAll(candidatesSelector)).forEach((N,L)=>{const B=getTabIndex(N);B===-1||!isNodeMatchingSelectorFocusable(N)||(B===0?$.push(N):I.push({documentOrder:L,tabIndex:B,node:N}))}),I.sort((N,L)=>N.tabIndex===L.tabIndex?N.documentOrder-L.documentOrder:N.tabIndex-L.tabIndex).map(N=>N.node).concat($)}function defaultIsEnabled(){return!0}function FocusTrap(T){const{children:$,disableAutoFocus:I=!1,disableEnforceFocus:N=!1,disableRestoreFocus:L=!1,getTabbable:B=defaultGetTabbable,isEnabled:H=defaultIsEnabled,open:z}=T,Q=reactExports.useRef(!1),te=reactExports.useRef(null),G=reactExports.useRef(null),ie=reactExports.useRef(null),Re=reactExports.useRef(null),$e=reactExports.useRef(!1),Pe=reactExports.useRef(null),Me=useForkRef(getReactElementRef($),Pe),Be=reactExports.useRef(null);reactExports.useEffect(()=>{!z||!Pe.current||($e.current=!I)},[I,z]),reactExports.useEffect(()=>{if(!z||!Pe.current)return;const qe=ownerDocument(Pe.current);return Pe.current.contains(qe.activeElement)||(Pe.current.hasAttribute("tabIndex")||Pe.current.setAttribute("tabIndex","-1"),$e.current&&Pe.current.focus()),()=>{L||(ie.current&&ie.current.focus&&(Q.current=!0,ie.current.focus()),ie.current=null)}},[z]),reactExports.useEffect(()=>{if(!z||!Pe.current)return;const qe=ownerDocument(Pe.current),He=ot=>{Be.current=ot,!(N||!H()||ot.key!=="Tab")&&qe.activeElement===Pe.current&&ot.shiftKey&&(Q.current=!0,G.current&&G.current.focus())},Ge=()=>{const ot=Pe.current;if(ot===null)return;if(!qe.hasFocus()||!H()||Q.current){Q.current=!1;return}if(ot.contains(qe.activeElement)||N&&qe.activeElement!==te.current&&qe.activeElement!==G.current)return;if(qe.activeElement!==Re.current)Re.current=null;else if(Re.current!==null)return;if(!$e.current)return;let Ye=[];if((qe.activeElement===te.current||qe.activeElement===G.current)&&(Ye=B(Pe.current)),Ye.length>0){var nt,Qe;const tt=!!((nt=Be.current)!=null&&nt.shiftKey&&((Qe=Be.current)==null?void 0:Qe.key)==="Tab"),ze=Ye[0],Fe=Ye[Ye.length-1];typeof ze!="string"&&typeof Fe!="string"&&(tt?Fe.focus():ze.focus())}else ot.focus()};qe.addEventListener("focusin",Ge),qe.addEventListener("keydown",He,!0);const at=setInterval(()=>{qe.activeElement&&qe.activeElement.tagName==="BODY"&&Ge()},50);return()=>{clearInterval(at),qe.removeEventListener("focusin",Ge),qe.removeEventListener("keydown",He,!0)}},[I,N,L,H,z,B]);const Ke=qe=>{ie.current===null&&(ie.current=qe.relatedTarget),$e.current=!0,Re.current=qe.target;const He=$.props.onFocus;He&&He(qe)},Le=qe=>{ie.current===null&&(ie.current=qe.relatedTarget),$e.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:z?0:-1,onFocus:Le,ref:te,"data-testid":"sentinelStart"}),reactExports.cloneElement($,{ref:Me,onFocus:Ke}),jsxRuntimeExports.jsx("div",{tabIndex:z?0:-1,onFocus:Le,ref:G,"data-testid":"sentinelEnd"})]})}function getContainer(T){return typeof T=="function"?T():T}function getHasTransition(T){return T?T.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal(T){const{container:$,disableEscapeKeyDown:I=!1,disableScrollLock:N=!1,manager:L=defaultManager,closeAfterTransition:B=!1,onTransitionEnter:H,onTransitionExited:z,children:Q,onClose:te,open:G,rootRef:ie}=T,Re=reactExports.useRef({}),$e=reactExports.useRef(null),Pe=reactExports.useRef(null),Me=useForkRef(Pe,ie),[Be,Ke]=reactExports.useState(!G),Le=getHasTransition(Q);let qe=!0;(T["aria-hidden"]==="false"||T["aria-hidden"]===!1)&&(qe=!1);const He=()=>ownerDocument($e.current),Ge=()=>(Re.current.modalRef=Pe.current,Re.current.mount=$e.current,Re.current),at=()=>{L.mount(Ge(),{disableScrollLock:N}),Pe.current&&(Pe.current.scrollTop=0)},ot=useEventCallback(()=>{const Je=getContainer($)||He().body;L.add(Ge(),Je),Pe.current&&at()}),Ye=reactExports.useCallback(()=>L.isTopModal(Ge()),[L]),nt=useEventCallback(Je=>{$e.current=Je,Je&&(G&&Ye()?at():Pe.current&&ariaHidden(Pe.current,qe))}),Qe=reactExports.useCallback(()=>{L.remove(Ge(),qe)},[qe,L]);reactExports.useEffect(()=>()=>{Qe()},[Qe]),reactExports.useEffect(()=>{G?ot():(!Le||!B)&&Qe()},[G,Qe,Le,B,ot]);const tt=Je=>rt=>{var Xe;(Xe=Je.onKeyDown)==null||Xe.call(Je,rt),!(rt.key!=="Escape"||rt.which===229||!Ye())&&(I||(rt.stopPropagation(),te&&te(rt,"escapeKeyDown")))},ze=Je=>rt=>{var Xe;(Xe=Je.onClick)==null||Xe.call(Je,rt),rt.target===rt.currentTarget&&te&&te(rt,"backdropClick")};return{getRootProps:(Je={})=>{const rt=extractEventHandlers(T);delete rt.onTransitionEnter,delete rt.onTransitionExited;const Xe=_extends$1({},rt,Je);return _extends$1({role:"presentation"},Xe,{onKeyDown:tt(Xe),ref:Me})},getBackdropProps:(Je={})=>{const rt=Je;return _extends$1({"aria-hidden":!0},rt,{onClick:ze(rt),open:G})},getTransitionProps:()=>{const Je=()=>{Ke(!1),H&&H()},rt=()=>{Ke(!0),z&&z(),B&&Qe()};return{onEnter:createChainedFunction(Je,Q==null?void 0:Q.props.onEnter),onExited:createChainedFunction(rt,Q==null?void 0:Q.props.onExited)}},rootRef:Me,portalRef:nt,isTopModal:Ye,exited:Be,hasTransition:Le}}function getModalUtilityClass(T){return generateUtilityClass("MuiModal",T)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$F=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$z=T=>{const{open:$,exited:I,classes:N}=T;return composeClasses({root:["root",!$&&I&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,N)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,!I.open&&I.exited&&$.hidden]}})(({theme:T,ownerState:$})=>_extends$1({position:"fixed",zIndex:(T.vars||T).zIndex.modal,right:0,bottom:0,top:0,left:0},!$.open&&$.exited&&{visibility:"hidden"})),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop",overridesResolver:(T,$)=>$.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function($,I){var N,L,B,H,z,Q;const te=useDefaultProps({name:"MuiModal",props:$}),{BackdropComponent:G=ModalBackdrop,BackdropProps:ie,className:Re,closeAfterTransition:$e=!1,children:Pe,container:Me,component:Be,components:Ke={},componentsProps:Le={},disableAutoFocus:qe=!1,disableEnforceFocus:He=!1,disableEscapeKeyDown:Ge=!1,disablePortal:at=!1,disableRestoreFocus:ot=!1,disableScrollLock:Ye=!1,hideBackdrop:nt=!1,keepMounted:Qe=!1,onBackdropClick:tt,open:ze,slotProps:Fe,slots:ke}=te,Ue=_objectWithoutPropertiesLoose(te,_excluded$F),Je=_extends$1({},te,{closeAfterTransition:$e,disableAutoFocus:qe,disableEnforceFocus:He,disableEscapeKeyDown:Ge,disablePortal:at,disableRestoreFocus:ot,disableScrollLock:Ye,hideBackdrop:nt,keepMounted:Qe}),{getRootProps:rt,getBackdropProps:Xe,getTransitionProps:it,portalRef:We,isTopModal:Ve,exited:je,hasTransition:Ze}=useModal(_extends$1({},Je,{rootRef:I})),st=_extends$1({},Je,{exited:je}),dt=useUtilityClasses$z(st),bt={};if(Pe.props.tabIndex===void 0&&(bt.tabIndex="-1"),Ze){const{onEnter:pt,onExited:mt}=it();bt.onEnter=pt,bt.onExited=mt}const vt=(N=(L=ke==null?void 0:ke.root)!=null?L:Ke.Root)!=null?N:ModalRoot,St=(B=(H=ke==null?void 0:ke.backdrop)!=null?H:Ke.Backdrop)!=null?B:G,Bt=(z=Fe==null?void 0:Fe.root)!=null?z:Le.root,Gt=(Q=Fe==null?void 0:Fe.backdrop)!=null?Q:Le.backdrop,Dt=useSlotProps({elementType:vt,externalSlotProps:Bt,externalForwardedProps:Ue,getSlotProps:rt,additionalProps:{ref:I,as:Be},ownerState:st,className:clsx(Re,Bt==null?void 0:Bt.className,dt==null?void 0:dt.root,!st.open&&st.exited&&(dt==null?void 0:dt.hidden))}),Mt=useSlotProps({elementType:St,externalSlotProps:Gt,additionalProps:ie,getSlotProps:pt=>Xe(_extends$1({},pt,{onClick:mt=>{tt&&tt(mt),pt!=null&&pt.onClick&&pt.onClick(mt)}})),className:clsx(Gt==null?void 0:Gt.className,ie==null?void 0:ie.className,dt==null?void 0:dt.backdrop),ownerState:st});return!Qe&&!ze&&(!Ze||je)?null:jsxRuntimeExports.jsx(Portal,{ref:We,container:Me,disablePortal:at,children:jsxRuntimeExports.jsxs(vt,_extends$1({},Dt,{children:[!nt&&G?jsxRuntimeExports.jsx(St,_extends$1({},Mt)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:He,disableAutoFocus:qe,disableRestoreFocus:ot,isEnabled:Ve,open:ze,children:reactExports.cloneElement(Pe,bt)})]}))})});function getDialogUtilityClass(T){return generateUtilityClass("MuiDialog",T)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),DialogContext=reactExports.createContext({}),_excluded$E=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled(Backdrop,{name:"MuiDialog",slot:"Backdrop",overrides:(T,$)=>$.backdrop})({zIndex:-1}),useUtilityClasses$y=T=>{const{classes:$,scroll:I,maxWidth:N,fullWidth:L,fullScreen:B}=T,H={root:["root"],container:["container",`scroll${capitalize(I)}`],paper:["paper",`paperScroll${capitalize(I)}`,`paperWidth${capitalize(String(N))}`,L&&"paperFullWidth",B&&"paperFullScreen"]};return composeClasses(H,getDialogUtilityClass,$)},DialogRoot=styled(Modal,{name:"MuiDialog",slot:"Root",overridesResolver:(T,$)=>$.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled("div",{name:"MuiDialog",slot:"Container",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.container,$[`scroll${capitalize(I.scroll)}`]]}})(({ownerState:T})=>_extends$1({height:"100%","@media print":{height:"auto"},outline:0},T.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},T.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled(Paper,{name:"MuiDialog",slot:"Paper",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.paper,$[`scrollPaper${capitalize(I.scroll)}`],$[`paperWidth${capitalize(String(I.maxWidth))}`],I.fullWidth&&$.paperFullWidth,I.fullScreen&&$.paperFullScreen]}})(({theme:T,ownerState:$})=>_extends$1({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},$.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},$.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!$.maxWidth&&{maxWidth:"calc(100% - 64px)"},$.maxWidth==="xs"&&{maxWidth:T.breakpoints.unit==="px"?Math.max(T.breakpoints.values.xs,444):`max(${T.breakpoints.values.xs}${T.breakpoints.unit}, 444px)`,[`&.${dialogClasses.paperScrollBody}`]:{[T.breakpoints.down(Math.max(T.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},$.maxWidth&&$.maxWidth!=="xs"&&{maxWidth:`${T.breakpoints.values[$.maxWidth]}${T.breakpoints.unit}`,[`&.${dialogClasses.paperScrollBody}`]:{[T.breakpoints.down(T.breakpoints.values[$.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},$.fullWidth&&{width:"calc(100% - 64px)"},$.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiDialog"}),L=useTheme$1(),B={enter:L.transitions.duration.enteringScreen,exit:L.transitions.duration.leavingScreen},{"aria-describedby":H,"aria-labelledby":z,BackdropComponent:Q,BackdropProps:te,children:G,className:ie,disableEscapeKeyDown:Re=!1,fullScreen:$e=!1,fullWidth:Pe=!1,maxWidth:Me="sm",onBackdropClick:Be,onClick:Ke,onClose:Le,open:qe,PaperComponent:He=Paper,PaperProps:Ge={},scroll:at="paper",TransitionComponent:ot=Fade,transitionDuration:Ye=B,TransitionProps:nt}=N,Qe=_objectWithoutPropertiesLoose(N,_excluded$E),tt=_extends$1({},N,{disableEscapeKeyDown:Re,fullScreen:$e,fullWidth:Pe,maxWidth:Me,scroll:at}),ze=useUtilityClasses$y(tt),Fe=reactExports.useRef(),ke=Xe=>{Fe.current=Xe.target===Xe.currentTarget},Ue=Xe=>{Ke&&Ke(Xe),Fe.current&&(Fe.current=null,Be&&Be(Xe),Le&&Le(Xe,"backdropClick"))},Je=useId(z),rt=reactExports.useMemo(()=>({titleId:Je}),[Je]);return jsxRuntimeExports.jsx(DialogRoot,_extends$1({className:clsx(ze.root,ie),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends$1({transitionDuration:Ye,as:Q},te)},disableEscapeKeyDown:Re,onClose:Le,open:qe,ref:I,onClick:Ue,ownerState:tt},Qe,{children:jsxRuntimeExports.jsx(ot,_extends$1({appear:!0,in:qe,timeout:Ye,role:"presentation"},nt,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(ze.container),onMouseDown:ke,ownerState:tt,children:jsxRuntimeExports.jsx(DialogPaper,_extends$1({as:He,elevation:24,role:"dialog","aria-describedby":H,"aria-labelledby":Je},Ge,{className:clsx(ze.paper,Ge.className),ownerState:tt,children:jsxRuntimeExports.jsx(DialogContext.Provider,{value:rt,children:G})}))})}))}))});function getDialogActionsUtilityClass(T){return generateUtilityClass("MuiDialogActions",T)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$D=["className","disableSpacing"],useUtilityClasses$x=T=>{const{classes:$,disableSpacing:I}=T;return composeClasses({root:["root",!I&&"spacing"]},getDialogActionsUtilityClass,$)},DialogActionsRoot=styled("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,!I.disableSpacing&&$.spacing]}})(({ownerState:T})=>_extends$1({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!T.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiDialogActions"}),{className:L,disableSpacing:B=!1}=N,H=_objectWithoutPropertiesLoose(N,_excluded$D),z=_extends$1({},N,{disableSpacing:B}),Q=useUtilityClasses$x(z);return jsxRuntimeExports.jsx(DialogActionsRoot,_extends$1({className:clsx(Q.root,L),ownerState:z,ref:I},H))});function getDialogContentUtilityClass(T){return generateUtilityClass("MuiDialogContent",T)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(T){return generateUtilityClass("MuiDialogTitle",T)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),_excluded$C=["className","dividers"],useUtilityClasses$w=T=>{const{classes:$,dividers:I}=T;return composeClasses({root:["root",I&&"dividers"]},getDialogContentUtilityClass,$)},DialogContentRoot=styled("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.dividers&&$.dividers]}})(({theme:T,ownerState:$})=>_extends$1({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},$.dividers?{padding:"16px 24px",borderTop:`1px solid ${(T.vars||T).palette.divider}`,borderBottom:`1px solid ${(T.vars||T).palette.divider}`}:{[`.${dialogTitleClasses.root} + &`]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiDialogContent"}),{className:L,dividers:B=!1}=N,H=_objectWithoutPropertiesLoose(N,_excluded$C),z=_extends$1({},N,{dividers:B}),Q=useUtilityClasses$w(z);return jsxRuntimeExports.jsx(DialogContentRoot,_extends$1({className:clsx(Q.root,L),ownerState:z,ref:I},H))}),_excluded$B=["className","id"],useUtilityClasses$v=T=>{const{classes:$}=T;return composeClasses({root:["root"]},getDialogTitleUtilityClass,$)},DialogTitleRoot=styled(Typography,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(T,$)=>$.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiDialogTitle"}),{className:L,id:B}=N,H=_objectWithoutPropertiesLoose(N,_excluded$B),z=N,Q=useUtilityClasses$v(z),{titleId:te=B}=reactExports.useContext(DialogContext);return jsxRuntimeExports.jsx(DialogTitleRoot,_extends$1({component:"h2",className:clsx(Q.root,L),ownerState:z,ref:I,variant:"h6",id:B??te},H))});function getDividerUtilityClass(T){return generateUtilityClass("MuiDivider",T)}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),_excluded$A=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],useUtilityClasses$u=T=>{const{absolute:$,children:I,classes:N,flexItem:L,light:B,orientation:H,textAlign:z,variant:Q}=T;return composeClasses({root:["root",$&&"absolute",Q,B&&"light",H==="vertical"&&"vertical",L&&"flexItem",I&&"withChildren",I&&H==="vertical"&&"withChildrenVertical",z==="right"&&H!=="vertical"&&"textAlignRight",z==="left"&&H!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",H==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,N)},DividerRoot=styled("div",{name:"MuiDivider",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.absolute&&$.absolute,$[I.variant],I.light&&$.light,I.orientation==="vertical"&&$.vertical,I.flexItem&&$.flexItem,I.children&&$.withChildren,I.children&&I.orientation==="vertical"&&$.withChildrenVertical,I.textAlign==="right"&&I.orientation!=="vertical"&&$.textAlignRight,I.textAlign==="left"&&I.orientation!=="vertical"&&$.textAlignLeft]}})(({theme:T,ownerState:$})=>_extends$1({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(T.vars||T).palette.divider,borderBottomWidth:"thin"},$.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},$.light&&{borderColor:T.vars?`rgba(${T.vars.palette.dividerChannel} / 0.08)`:alpha_1(T.palette.divider,.08)},$.variant==="inset"&&{marginLeft:72},$.variant==="middle"&&$.orientation==="horizontal"&&{marginLeft:T.spacing(2),marginRight:T.spacing(2)},$.variant==="middle"&&$.orientation==="vertical"&&{marginTop:T.spacing(1),marginBottom:T.spacing(1)},$.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},$.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:T})=>_extends$1({},T.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:T,ownerState:$})=>_extends$1({},$.children&&$.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(T.vars||T).palette.divider}`,borderTopStyle:"inherit"}}),({theme:T,ownerState:$})=>_extends$1({},$.children&&$.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(T.vars||T).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:T})=>_extends$1({},T.textAlign==="right"&&T.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},T.textAlign==="left"&&T.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=styled("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.wrapper,I.orientation==="vertical"&&$.wrapperVertical]}})(({theme:T,ownerState:$})=>_extends$1({display:"inline-block",paddingLeft:`calc(${T.spacing(1)} * 1.2)`,paddingRight:`calc(${T.spacing(1)} * 1.2)`},$.orientation==="vertical"&&{paddingTop:`calc(${T.spacing(1)} * 1.2)`,paddingBottom:`calc(${T.spacing(1)} * 1.2)`})),Divider=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiDivider"}),{absolute:L=!1,children:B,className:H,component:z=B?"div":"hr",flexItem:Q=!1,light:te=!1,orientation:G="horizontal",role:ie=z!=="hr"?"separator":void 0,textAlign:Re="center",variant:$e="fullWidth"}=N,Pe=_objectWithoutPropertiesLoose(N,_excluded$A),Me=_extends$1({},N,{absolute:L,component:z,flexItem:Q,light:te,orientation:G,role:ie,textAlign:Re,variant:$e}),Be=useUtilityClasses$u(Me);return jsxRuntimeExports.jsx(DividerRoot,_extends$1({as:z,className:clsx(Be.root,H),role:ie,ref:I,ownerState:Me},Pe,{children:B?jsxRuntimeExports.jsx(DividerWrapper,{className:Be.wrapper,ownerState:Me,children:B}):null}))});Divider.muiSkipListHighlight=!0;const _excluded$z=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getTranslateValue(T,$,I){const N=$.getBoundingClientRect(),L=I&&I.getBoundingClientRect(),B=ownerWindow($);let H;if($.fakeTransform)H=$.fakeTransform;else{const te=B.getComputedStyle($);H=te.getPropertyValue("-webkit-transform")||te.getPropertyValue("transform")}let z=0,Q=0;if(H&&H!=="none"&&typeof H=="string"){const te=H.split("(")[1].split(")")[0].split(",");z=parseInt(te[4],10),Q=parseInt(te[5],10)}return T==="left"?L?`translateX(${L.right+z-N.left}px)`:`translateX(${B.innerWidth+z-N.left}px)`:T==="right"?L?`translateX(-${N.right-L.left-z}px)`:`translateX(-${N.left+N.width-z}px)`:T==="up"?L?`translateY(${L.bottom+Q-N.top}px)`:`translateY(${B.innerHeight+Q-N.top}px)`:L?`translateY(-${N.top-L.top+N.height-Q}px)`:`translateY(-${N.top+N.height-Q}px)`}function resolveContainer(T){return typeof T=="function"?T():T}function setTranslateValue(T,$,I){const N=resolveContainer(I),L=getTranslateValue(T,$,N);L&&($.style.webkitTransform=L,$.style.transform=L)}const Slide=reactExports.forwardRef(function($,I){const N=useTheme$1(),L={enter:N.transitions.easing.easeOut,exit:N.transitions.easing.sharp},B={enter:N.transitions.duration.enteringScreen,exit:N.transitions.duration.leavingScreen},{addEndListener:H,appear:z=!0,children:Q,container:te,direction:G="down",easing:ie=L,in:Re,onEnter:$e,onEntered:Pe,onEntering:Me,onExit:Be,onExited:Ke,onExiting:Le,style:qe,timeout:He=B,TransitionComponent:Ge=Transition}=$,at=_objectWithoutPropertiesLoose($,_excluded$z),ot=reactExports.useRef(null),Ye=useForkRef(getReactElementRef(Q),ot,I),nt=Xe=>it=>{Xe&&(it===void 0?Xe(ot.current):Xe(ot.current,it))},Qe=nt((Xe,it)=>{setTranslateValue(G,Xe,te),reflow(Xe),$e&&$e(Xe,it)}),tt=nt((Xe,it)=>{const We=getTransitionProps({timeout:He,style:qe,easing:ie},{mode:"enter"});Xe.style.webkitTransition=N.transitions.create("-webkit-transform",_extends$1({},We)),Xe.style.transition=N.transitions.create("transform",_extends$1({},We)),Xe.style.webkitTransform="none",Xe.style.transform="none",Me&&Me(Xe,it)}),ze=nt(Pe),Fe=nt(Le),ke=nt(Xe=>{const it=getTransitionProps({timeout:He,style:qe,easing:ie},{mode:"exit"});Xe.style.webkitTransition=N.transitions.create("-webkit-transform",it),Xe.style.transition=N.transitions.create("transform",it),setTranslateValue(G,Xe,te),Be&&Be(Xe)}),Ue=nt(Xe=>{Xe.style.webkitTransition="",Xe.style.transition="",Ke&&Ke(Xe)}),Je=Xe=>{H&&H(ot.current,Xe)},rt=reactExports.useCallback(()=>{ot.current&&setTranslateValue(G,ot.current,te)},[G,te]);return reactExports.useEffect(()=>{if(Re||G==="down"||G==="right")return;const Xe=debounce$1(()=>{ot.current&&setTranslateValue(G,ot.current,te)}),it=ownerWindow(ot.current);return it.addEventListener("resize",Xe),()=>{Xe.clear(),it.removeEventListener("resize",Xe)}},[G,Re,te]),reactExports.useEffect(()=>{Re||rt()},[Re,rt]),jsxRuntimeExports.jsx(Ge,_extends$1({nodeRef:ot,onEnter:Qe,onEntered:ze,onEntering:tt,onExit:ke,onExited:Ue,onExiting:Fe,addEndListener:Je,appear:z,in:Re,timeout:He},at,{children:(Xe,it)=>reactExports.cloneElement(Q,_extends$1({ref:Ye,style:_extends$1({visibility:Xe==="exited"&&!Re?"hidden":void 0},qe,Q.props.style)},it))}))});function getDrawerUtilityClass(T){return generateUtilityClass("MuiDrawer",T)}generateUtilityClasses("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const _excluded$y=["BackdropProps"],_excluded2$6=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],overridesResolver$3=(T,$)=>{const{ownerState:I}=T;return[$.root,(I.variant==="permanent"||I.variant==="persistent")&&$.docked,$.modal]},useUtilityClasses$t=T=>{const{classes:$,anchor:I,variant:N}=T,L={root:["root"],docked:[(N==="permanent"||N==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${capitalize(I)}`,N!=="temporary"&&`paperAnchorDocked${capitalize(I)}`]};return composeClasses(L,getDrawerUtilityClass,$)},DrawerRoot=styled(Modal,{name:"MuiDrawer",slot:"Root",overridesResolver:overridesResolver$3})(({theme:T})=>({zIndex:(T.vars||T).zIndex.drawer})),DrawerDockedRoot=styled("div",{shouldForwardProp:rootShouldForwardProp,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:overridesResolver$3})({flex:"0 0 auto"}),DrawerPaper=styled(Paper,{name:"MuiDrawer",slot:"Paper",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.paper,$[`paperAnchor${capitalize(I.anchor)}`],I.variant!=="temporary"&&$[`paperAnchorDocked${capitalize(I.anchor)}`]]}})(({theme:T,ownerState:$})=>_extends$1({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(T.vars||T).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},$.anchor==="left"&&{left:0},$.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},$.anchor==="right"&&{right:0},$.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},$.anchor==="left"&&$.variant!=="temporary"&&{borderRight:`1px solid ${(T.vars||T).palette.divider}`},$.anchor==="top"&&$.variant!=="temporary"&&{borderBottom:`1px solid ${(T.vars||T).palette.divider}`},$.anchor==="right"&&$.variant!=="temporary"&&{borderLeft:`1px solid ${(T.vars||T).palette.divider}`},$.anchor==="bottom"&&$.variant!=="temporary"&&{borderTop:`1px solid ${(T.vars||T).palette.divider}`})),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"};function isHorizontal(T){return["left","right"].indexOf(T)!==-1}function getAnchor({direction:T},$){return T==="rtl"&&isHorizontal($)?oppositeDirection[$]:$}const Drawer=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiDrawer"}),L=useTheme$1(),B=useRtl(),H={enter:L.transitions.duration.enteringScreen,exit:L.transitions.duration.leavingScreen},{anchor:z="left",BackdropProps:Q,children:te,className:G,elevation:ie=16,hideBackdrop:Re=!1,ModalProps:{BackdropProps:$e}={},onClose:Pe,open:Me=!1,PaperProps:Be={},SlideProps:Ke,TransitionComponent:Le=Slide,transitionDuration:qe=H,variant:He="temporary"}=N,Ge=_objectWithoutPropertiesLoose(N.ModalProps,_excluded$y),at=_objectWithoutPropertiesLoose(N,_excluded2$6),ot=reactExports.useRef(!1);reactExports.useEffect(()=>{ot.current=!0},[]);const Ye=getAnchor({direction:B?"rtl":"ltr"},z),Qe=_extends$1({},N,{anchor:z,elevation:ie,open:Me,variant:He},at),tt=useUtilityClasses$t(Qe),ze=jsxRuntimeExports.jsx(DrawerPaper,_extends$1({elevation:He==="temporary"?ie:0,square:!0},Be,{className:clsx(tt.paper,Be.className),ownerState:Qe,children:te}));if(He==="permanent")return jsxRuntimeExports.jsx(DrawerDockedRoot,_extends$1({className:clsx(tt.root,tt.docked,G),ownerState:Qe,ref:I},at,{children:ze}));const Fe=jsxRuntimeExports.jsx(Le,_extends$1({in:Me,direction:oppositeDirection[Ye],timeout:qe,appear:ot.current},Ke,{children:ze}));return He==="persistent"?jsxRuntimeExports.jsx(DrawerDockedRoot,_extends$1({className:clsx(tt.root,tt.docked,G),ownerState:Qe,ref:I},at,{children:Fe})):jsxRuntimeExports.jsx(DrawerRoot,_extends$1({BackdropProps:_extends$1({},Q,$e,{transitionDuration:qe}),className:clsx(tt.root,tt.modal,G),open:Me,ownerState:Qe,onClose:Pe,hideBackdrop:Re,ref:I},at,Ge,{children:Fe}))});function getFabUtilityClass(T){return generateUtilityClass("MuiFab",T)}const fabClasses=generateUtilityClasses("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),_excluded$x=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],useUtilityClasses$s=T=>{const{color:$,variant:I,classes:N,size:L}=T,B={root:["root",I,`size${capitalize(L)}`,$==="inherit"?"colorInherit":$]},H=composeClasses(B,getFabUtilityClass,N);return _extends$1({},N,H)},FabRoot=styled(ButtonBase,{name:"MuiFab",slot:"Root",shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.variant],$[`size${capitalize(I.size)}`],I.color==="inherit"&&$.colorInherit,$[capitalize(I.size)],$[I.color]]}})(({theme:T,ownerState:$})=>{var I,N;return _extends$1({},T.typography.button,{minHeight:36,transition:T.transitions.create(["background-color","box-shadow","border-color"],{duration:T.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(T.vars||T).zIndex.fab,boxShadow:(T.vars||T).shadows[6],"&:active":{boxShadow:(T.vars||T).shadows[12]},color:T.vars?T.vars.palette.text.primary:(I=(N=T.palette).getContrastText)==null?void 0:I.call(N,T.palette.grey[300]),backgroundColor:(T.vars||T).palette.grey[300],"&:hover":{backgroundColor:(T.vars||T).palette.grey.A100,"@media (hover: none)":{backgroundColor:(T.vars||T).palette.grey[300]},textDecoration:"none"},[`&.${fabClasses.focusVisible}`]:{boxShadow:(T.vars||T).shadows[6]}},$.size==="small"&&{width:40,height:40},$.size==="medium"&&{width:48,height:48},$.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},$.variant==="extended"&&$.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},$.variant==="extended"&&$.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},$.color==="inherit"&&{color:"inherit"})},({theme:T,ownerState:$})=>_extends$1({},$.color!=="inherit"&&$.color!=="default"&&(T.vars||T).palette[$.color]!=null&&{color:(T.vars||T).palette[$.color].contrastText,backgroundColor:(T.vars||T).palette[$.color].main,"&:hover":{backgroundColor:(T.vars||T).palette[$.color].dark,"@media (hover: none)":{backgroundColor:(T.vars||T).palette[$.color].main}}}),({theme:T})=>({[`&.${fabClasses.disabled}`]:{color:(T.vars||T).palette.action.disabled,boxShadow:(T.vars||T).shadows[0],backgroundColor:(T.vars||T).palette.action.disabledBackground}})),Fab=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiFab"}),{children:L,className:B,color:H="default",component:z="button",disabled:Q=!1,disableFocusRipple:te=!1,focusVisibleClassName:G,size:ie="large",variant:Re="circular"}=N,$e=_objectWithoutPropertiesLoose(N,_excluded$x),Pe=_extends$1({},N,{color:H,component:z,disabled:Q,disableFocusRipple:te,size:ie,variant:Re}),Me=useUtilityClasses$s(Pe);return jsxRuntimeExports.jsx(FabRoot,_extends$1({className:clsx(Me.root,B),component:z,disabled:Q,focusRipple:!te,focusVisibleClassName:clsx(Me.focusVisible,G),ownerState:Pe,ref:I},$e,{classes:Me,children:L}))}),_excluded$w=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$r=T=>{const{classes:$,disableUnderline:I}=T,L=composeClasses({root:["root",!I&&"underline"],input:["input"]},getFilledInputUtilityClass,$);return _extends$1({},$,L)},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[...rootOverridesResolver(T,$),!I.disableUnderline&&$.underline]}})(({theme:T,ownerState:$})=>{var I;const N=T.palette.mode==="light",L=N?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",B=N?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",H=N?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",z=N?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$1({position:"relative",backgroundColor:T.vars?T.vars.palette.FilledInput.bg:B,borderTopLeftRadius:(T.vars||T).shape.borderRadius,borderTopRightRadius:(T.vars||T).shape.borderRadius,transition:T.transitions.create("background-color",{duration:T.transitions.duration.shorter,easing:T.transitions.easing.easeOut}),"&:hover":{backgroundColor:T.vars?T.vars.palette.FilledInput.hoverBg:H,"@media (hover: none)":{backgroundColor:T.vars?T.vars.palette.FilledInput.bg:B}},[`&.${filledInputClasses.focused}`]:{backgroundColor:T.vars?T.vars.palette.FilledInput.bg:B},[`&.${filledInputClasses.disabled}`]:{backgroundColor:T.vars?T.vars.palette.FilledInput.disabledBg:z}},!$.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(I=(T.vars||T).palette[$.color||"primary"])==null?void 0:I.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:T.transitions.create("transform",{duration:T.transitions.duration.shorter,easing:T.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(T.vars||T).palette.error.main}},"&::before":{borderBottom:`1px solid ${T.vars?`rgba(${T.vars.palette.common.onBackgroundChannel} / ${T.vars.opacity.inputUnderline})`:L}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:T.transitions.create("border-bottom-color",{duration:T.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses.disabled}, .${filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(T.vars||T).palette.text.primary}`},[`&.${filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}},$.startAdornment&&{paddingLeft:12},$.endAdornment&&{paddingRight:12},$.multiline&&_extends$1({padding:"25px 12px 8px"},$.size==="small"&&{paddingTop:21,paddingBottom:4},$.hiddenLabel&&{paddingTop:16,paddingBottom:17},$.hiddenLabel&&$.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:T,ownerState:$})=>_extends$1({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!T.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:T.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:T.palette.mode==="light"?null:"#fff",caretColor:T.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},T.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[T.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},$.size==="small"&&{paddingTop:21,paddingBottom:4},$.hiddenLabel&&{paddingTop:16,paddingBottom:17},$.startAdornment&&{paddingLeft:0},$.endAdornment&&{paddingRight:0},$.hiddenLabel&&$.size==="small"&&{paddingTop:8,paddingBottom:9},$.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function($,I){var N,L,B,H;const z=useDefaultProps({props:$,name:"MuiFilledInput"}),{components:Q={},componentsProps:te,fullWidth:G=!1,inputComponent:ie="input",multiline:Re=!1,slotProps:$e,slots:Pe={},type:Me="text"}=z,Be=_objectWithoutPropertiesLoose(z,_excluded$w),Ke=_extends$1({},z,{fullWidth:G,inputComponent:ie,multiline:Re,type:Me}),Le=useUtilityClasses$r(z),qe={root:{ownerState:Ke},input:{ownerState:Ke}},He=$e??te?deepmerge$1(qe,$e??te):qe,Ge=(N=(L=Pe.root)!=null?L:Q.Root)!=null?N:FilledInputRoot,at=(B=(H=Pe.input)!=null?H:Q.Input)!=null?B:FilledInputInput;return jsxRuntimeExports.jsx(InputBase,_extends$1({slots:{root:Ge,input:at},componentsProps:He,fullWidth:G,inputComponent:ie,multiline:Re,ref:I,type:Me},Be,{classes:Le}))});FilledInput.muiName="Input";function getFormControlUtilityClasses(T){return generateUtilityClass("MuiFormControl",T)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$v=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$q=T=>{const{classes:$,margin:I,fullWidth:N}=T,L={root:["root",I!=="none"&&`margin${capitalize(I)}`,N&&"fullWidth"]};return composeClasses(L,getFormControlUtilityClasses,$)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:T},$)=>_extends$1({},$.root,$[`margin${capitalize(T.margin)}`],T.fullWidth&&$.fullWidth)})(({ownerState:T})=>_extends$1({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},T.margin==="normal"&&{marginTop:16,marginBottom:8},T.margin==="dense"&&{marginTop:8,marginBottom:4},T.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiFormControl"}),{children:L,className:B,color:H="primary",component:z="div",disabled:Q=!1,error:te=!1,focused:G,fullWidth:ie=!1,hiddenLabel:Re=!1,margin:$e="none",required:Pe=!1,size:Me="medium",variant:Be="outlined"}=N,Ke=_objectWithoutPropertiesLoose(N,_excluded$v),Le=_extends$1({},N,{color:H,component:z,disabled:Q,error:te,fullWidth:ie,hiddenLabel:Re,margin:$e,required:Pe,size:Me,variant:Be}),qe=useUtilityClasses$q(Le),[He,Ge]=reactExports.useState(()=>{let Fe=!1;return L&&reactExports.Children.forEach(L,ke=>{if(!isMuiElement(ke,["Input","Select"]))return;const Ue=isMuiElement(ke,["Select"])?ke.props.input:ke;Ue&&isAdornedStart(Ue.props)&&(Fe=!0)}),Fe}),[at,ot]=reactExports.useState(()=>{let Fe=!1;return L&&reactExports.Children.forEach(L,ke=>{isMuiElement(ke,["Input","Select"])&&(isFilled(ke.props,!0)||isFilled(ke.props.inputProps,!0))&&(Fe=!0)}),Fe}),[Ye,nt]=reactExports.useState(!1);Q&&Ye&&nt(!1);const Qe=G!==void 0&&!Q?G:Ye;let tt;const ze=reactExports.useMemo(()=>({adornedStart:He,setAdornedStart:Ge,color:H,disabled:Q,error:te,filled:at,focused:Qe,fullWidth:ie,hiddenLabel:Re,size:Me,onBlur:()=>{nt(!1)},onEmpty:()=>{ot(!1)},onFilled:()=>{ot(!0)},onFocus:()=>{nt(!0)},registerEffect:tt,required:Pe,variant:Be}),[He,H,Q,te,at,Qe,ie,Re,tt,Pe,Me,Be]);return jsxRuntimeExports.jsx(FormControlContext.Provider,{value:ze,children:jsxRuntimeExports.jsx(FormControlRoot,_extends$1({as:z,ownerState:Le,className:clsx(qe.root,B),ref:I},Ke,{children:L}))})});function getFormHelperTextUtilityClasses(T){return generateUtilityClass("MuiFormHelperText",T)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _span$3;const _excluded$u=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$p=T=>{const{classes:$,contained:I,size:N,disabled:L,error:B,filled:H,focused:z,required:Q}=T,te={root:["root",L&&"disabled",B&&"error",N&&`size${capitalize(N)}`,I&&"contained",z&&"focused",H&&"filled",Q&&"required"]};return composeClasses(te,getFormHelperTextUtilityClasses,$)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.size&&$[`size${capitalize(I.size)}`],I.contained&&$.contained,I.filled&&$.filled]}})(({theme:T,ownerState:$})=>_extends$1({color:(T.vars||T).palette.text.secondary},T.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses.disabled}`]:{color:(T.vars||T).palette.text.disabled},[`&.${formHelperTextClasses.error}`]:{color:(T.vars||T).palette.error.main}},$.size==="small"&&{marginTop:4},$.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiFormHelperText"}),{children:L,className:B,component:H="p"}=N,z=_objectWithoutPropertiesLoose(N,_excluded$u),Q=useFormControl(),te=formControlState({props:N,muiFormControl:Q,states:["variant","size","disabled","error","filled","focused","required"]}),G=_extends$1({},N,{component:H,contained:te.variant==="filled"||te.variant==="outlined",variant:te.variant,size:te.size,disabled:te.disabled,error:te.error,filled:te.filled,focused:te.focused,required:te.required}),ie=useUtilityClasses$p(G);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends$1({as:H,ownerState:G,className:clsx(ie.root,B),ref:I},z,{children:L===" "?_span$3||(_span$3=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):L}))});function getFormLabelUtilityClasses(T){return generateUtilityClass("MuiFormLabel",T)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),_excluded$t=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$o=T=>{const{classes:$,color:I,focused:N,disabled:L,error:B,filled:H,required:z}=T,Q={root:["root",`color${capitalize(I)}`,L&&"disabled",B&&"error",H&&"filled",N&&"focused",z&&"required"],asterisk:["asterisk",B&&"error"]};return composeClasses(Q,getFormLabelUtilityClasses,$)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:T},$)=>_extends$1({},$.root,T.color==="secondary"&&$.colorSecondary,T.filled&&$.filled)})(({theme:T,ownerState:$})=>_extends$1({color:(T.vars||T).palette.text.secondary},T.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses.focused}`]:{color:(T.vars||T).palette[$.color].main},[`&.${formLabelClasses.disabled}`]:{color:(T.vars||T).palette.text.disabled},[`&.${formLabelClasses.error}`]:{color:(T.vars||T).palette.error.main}})),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(T,$)=>$.asterisk})(({theme:T})=>({[`&.${formLabelClasses.error}`]:{color:(T.vars||T).palette.error.main}})),FormLabel=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiFormLabel"}),{children:L,className:B,component:H="label"}=N,z=_objectWithoutPropertiesLoose(N,_excluded$t),Q=useFormControl(),te=formControlState({props:N,muiFormControl:Q,states:["color","required","focused","disabled","error","filled"]}),G=_extends$1({},N,{color:te.color||"primary",component:H,disabled:te.disabled,error:te.error,filled:te.filled,focused:te.focused,required:te.required}),ie=useUtilityClasses$o(G);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends$1({as:H,ownerState:G,className:clsx(ie.root,B),ref:I},z,{children:[L,te.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:G,"aria-hidden":!0,className:ie.asterisk,children:[" ","*"]})]}))}),GridContext=reactExports.createContext();function getGridUtilityClass(T){return generateUtilityClass("MuiGrid",T)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(T=>`spacing-xs-${T}`),...DIRECTIONS.map(T=>`direction-xs-${T}`),...WRAPS.map(T=>`wrap-xs-${T}`),...GRID_SIZES.map(T=>`grid-xs-${T}`),...GRID_SIZES.map(T=>`grid-sm-${T}`),...GRID_SIZES.map(T=>`grid-md-${T}`),...GRID_SIZES.map(T=>`grid-lg-${T}`),...GRID_SIZES.map(T=>`grid-xl-${T}`)]),_excluded$s=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(T){const $=parseFloat(T);return`${$}${String(T).replace(String($),"")||"px"}`}function generateGrid({theme:T,ownerState:$}){let I;return T.breakpoints.keys.reduce((N,L)=>{let B={};if($[L]&&(I=$[L]),!I)return N;if(I===!0)B={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(I==="auto")B={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const H=resolveBreakpointValues({values:$.columns,breakpoints:T.breakpoints.values}),z=typeof H=="object"?H[L]:H;if(z==null)return N;const Q=`${Math.round(I/z*1e8)/1e6}%`;let te={};if($.container&&$.item&&$.columnSpacing!==0){const G=T.spacing($.columnSpacing);if(G!=="0px"){const ie=`calc(${Q} + ${getOffset(G)})`;te={flexBasis:ie,maxWidth:ie}}}B=_extends$1({flexBasis:Q,flexGrow:0,maxWidth:Q},te)}return T.breakpoints.values[L]===0?Object.assign(N,B):N[T.breakpoints.up(L)]=B,N},{})}function generateDirection({theme:T,ownerState:$}){const I=resolveBreakpointValues({values:$.direction,breakpoints:T.breakpoints.values});return handleBreakpoints({theme:T},I,N=>{const L={flexDirection:N};return N.indexOf("column")===0&&(L[`& > .${gridClasses.item}`]={maxWidth:"none"}),L})}function extractZeroValueBreakpointKeys({breakpoints:T,values:$}){let I="";Object.keys($).forEach(L=>{I===""&&$[L]!==0&&(I=L)});const N=Object.keys(T).sort((L,B)=>T[L]-T[B]);return N.slice(0,N.indexOf(I))}function generateRowGap({theme:T,ownerState:$}){const{container:I,rowSpacing:N}=$;let L={};if(I&&N!==0){const B=resolveBreakpointValues({values:N,breakpoints:T.breakpoints.values});let H;typeof B=="object"&&(H=extractZeroValueBreakpointKeys({breakpoints:T.breakpoints.values,values:B})),L=handleBreakpoints({theme:T},B,(z,Q)=>{var te;const G=T.spacing(z);return G!=="0px"?{marginTop:`-${getOffset(G)}`,[`& > .${gridClasses.item}`]:{paddingTop:getOffset(G)}}:(te=H)!=null&&te.includes(Q)?{}:{marginTop:0,[`& > .${gridClasses.item}`]:{paddingTop:0}}})}return L}function generateColumnGap({theme:T,ownerState:$}){const{container:I,columnSpacing:N}=$;let L={};if(I&&N!==0){const B=resolveBreakpointValues({values:N,breakpoints:T.breakpoints.values});let H;typeof B=="object"&&(H=extractZeroValueBreakpointKeys({breakpoints:T.breakpoints.values,values:B})),L=handleBreakpoints({theme:T},B,(z,Q)=>{var te;const G=T.spacing(z);return G!=="0px"?{width:`calc(100% + ${getOffset(G)})`,marginLeft:`-${getOffset(G)}`,[`& > .${gridClasses.item}`]:{paddingLeft:getOffset(G)}}:(te=H)!=null&&te.includes(Q)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses.item}`]:{paddingLeft:0}}})}return L}function resolveSpacingStyles(T,$,I={}){if(!T||T<=0)return[];if(typeof T=="string"&&!Number.isNaN(Number(T))||typeof T=="number")return[I[`spacing-xs-${String(T)}`]];const N=[];return $.forEach(L=>{const B=T[L];Number(B)>0&&N.push(I[`spacing-${L}-${String(B)}`])}),N}const GridRoot=styled("div",{name:"MuiGrid",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T,{container:N,direction:L,item:B,spacing:H,wrap:z,zeroMinWidth:Q,breakpoints:te}=I;let G=[];N&&(G=resolveSpacingStyles(H,te,$));const ie=[];return te.forEach(Re=>{const $e=I[Re];$e&&ie.push($[`grid-${Re}-${String($e)}`])}),[$.root,N&&$.container,B&&$.item,Q&&$.zeroMinWidth,...G,L!=="row"&&$[`direction-xs-${String(L)}`],z!=="wrap"&&$[`wrap-xs-${String(z)}`],...ie]}})(({ownerState:T})=>_extends$1({boxSizing:"border-box"},T.container&&{display:"flex",flexWrap:"wrap",width:"100%"},T.item&&{margin:0},T.zeroMinWidth&&{minWidth:0},T.wrap!=="wrap"&&{flexWrap:T.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(T,$){if(!T||T<=0)return[];if(typeof T=="string"&&!Number.isNaN(Number(T))||typeof T=="number")return[`spacing-xs-${String(T)}`];const I=[];return $.forEach(N=>{const L=T[N];if(Number(L)>0){const B=`spacing-${N}-${String(L)}`;I.push(B)}}),I}const useUtilityClasses$n=T=>{const{classes:$,container:I,direction:N,item:L,spacing:B,wrap:H,zeroMinWidth:z,breakpoints:Q}=T;let te=[];I&&(te=resolveSpacingClasses(B,Q));const G=[];Q.forEach(Re=>{const $e=T[Re];$e&&G.push(`grid-${Re}-${String($e)}`)});const ie={root:["root",I&&"container",L&&"item",z&&"zeroMinWidth",...te,N!=="row"&&`direction-xs-${String(N)}`,H!=="wrap"&&`wrap-xs-${String(H)}`,...G]};return composeClasses(ie,getGridUtilityClass,$)},Grid=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiGrid"}),{breakpoints:L}=useTheme$1(),B=extendSxProp(N),{className:H,columns:z,columnSpacing:Q,component:te="div",container:G=!1,direction:ie="row",item:Re=!1,rowSpacing:$e,spacing:Pe=0,wrap:Me="wrap",zeroMinWidth:Be=!1}=B,Ke=_objectWithoutPropertiesLoose(B,_excluded$s),Le=$e||Pe,qe=Q||Pe,He=reactExports.useContext(GridContext),Ge=G?z||12:He,at={},ot=_extends$1({},Ke);L.keys.forEach(Qe=>{Ke[Qe]!=null&&(at[Qe]=Ke[Qe],delete ot[Qe])});const Ye=_extends$1({},B,{columns:Ge,container:G,direction:ie,item:Re,rowSpacing:Le,columnSpacing:qe,wrap:Me,zeroMinWidth:Be,spacing:Pe},at,{breakpoints:L.keys}),nt=useUtilityClasses$n(Ye);return jsxRuntimeExports.jsx(GridContext.Provider,{value:Ge,children:jsxRuntimeExports.jsx(GridRoot,_extends$1({ownerState:Ye,className:clsx(nt.root,H),as:te,ref:I},ot))})}),_excluded$r=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(T){return`scale(${T}, ${T**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function($,I){const{addEndListener:N,appear:L=!0,children:B,easing:H,in:z,onEnter:Q,onEntered:te,onEntering:G,onExit:ie,onExited:Re,onExiting:$e,style:Pe,timeout:Me="auto",TransitionComponent:Be=Transition}=$,Ke=_objectWithoutPropertiesLoose($,_excluded$r),Le=useTimeout(),qe=reactExports.useRef(),He=useTheme$1(),Ge=reactExports.useRef(null),at=useForkRef(Ge,getReactElementRef(B),I),ot=Ue=>Je=>{if(Ue){const rt=Ge.current;Je===void 0?Ue(rt):Ue(rt,Je)}},Ye=ot(G),nt=ot((Ue,Je)=>{reflow(Ue);const{duration:rt,delay:Xe,easing:it}=getTransitionProps({style:Pe,timeout:Me,easing:H},{mode:"enter"});let We;Me==="auto"?(We=He.transitions.getAutoHeightDuration(Ue.clientHeight),qe.current=We):We=rt,Ue.style.transition=[He.transitions.create("opacity",{duration:We,delay:Xe}),He.transitions.create("transform",{duration:isWebKit154?We:We*.666,delay:Xe,easing:it})].join(","),Q&&Q(Ue,Je)}),Qe=ot(te),tt=ot($e),ze=ot(Ue=>{const{duration:Je,delay:rt,easing:Xe}=getTransitionProps({style:Pe,timeout:Me,easing:H},{mode:"exit"});let it;Me==="auto"?(it=He.transitions.getAutoHeightDuration(Ue.clientHeight),qe.current=it):it=Je,Ue.style.transition=[He.transitions.create("opacity",{duration:it,delay:rt}),He.transitions.create("transform",{duration:isWebKit154?it:it*.666,delay:isWebKit154?rt:rt||it*.333,easing:Xe})].join(","),Ue.style.opacity=0,Ue.style.transform=getScale(.75),ie&&ie(Ue)}),Fe=ot(Re),ke=Ue=>{Me==="auto"&&Le.start(qe.current||0,Ue),N&&N(Ge.current,Ue)};return jsxRuntimeExports.jsx(Be,_extends$1({appear:L,in:z,nodeRef:Ge,onEnter:nt,onEntered:Qe,onEntering:Ye,onExit:ze,onExited:Fe,onExiting:tt,addEndListener:ke,timeout:Me==="auto"?null:Me},Ke,{children:(Ue,Je)=>reactExports.cloneElement(B,_extends$1({style:_extends$1({opacity:0,transform:getScale(.75),visibility:Ue==="exited"&&!z?"hidden":void 0},styles[Ue],Pe,B.props.style),ref:at},Je))}))});Grow.muiSupportAuto=!0;const _excluded$q=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$m=T=>{const{classes:$,disableUnderline:I}=T,L=composeClasses({root:["root",!I&&"underline"],input:["input"]},getInputUtilityClass,$);return _extends$1({},$,L)},InputRoot=styled(InputBaseRoot,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiInput",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[...rootOverridesResolver(T,$),!I.disableUnderline&&$.underline]}})(({theme:T,ownerState:$})=>{let N=T.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return T.vars&&(N=`rgba(${T.vars.palette.common.onBackgroundChannel} / ${T.vars.opacity.inputUnderline})`),_extends$1({position:"relative"},$.formControl&&{"label + &":{marginTop:16}},!$.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(T.vars||T).palette[$.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:T.transitions.create("transform",{duration:T.transitions.duration.shorter,easing:T.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(T.vars||T).palette.error.main}},"&::before":{borderBottom:`1px solid ${N}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:T.transitions.create("border-bottom-color",{duration:T.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(T.vars||T).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${N}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function($,I){var N,L,B,H;const z=useDefaultProps({props:$,name:"MuiInput"}),{disableUnderline:Q,components:te={},componentsProps:G,fullWidth:ie=!1,inputComponent:Re="input",multiline:$e=!1,slotProps:Pe,slots:Me={},type:Be="text"}=z,Ke=_objectWithoutPropertiesLoose(z,_excluded$q),Le=useUtilityClasses$m(z),He={root:{ownerState:{disableUnderline:Q}}},Ge=Pe??G?deepmerge$1(Pe??G,He):He,at=(N=(L=Me.root)!=null?L:te.Root)!=null?N:InputRoot,ot=(B=(H=Me.input)!=null?H:te.Input)!=null?B:InputInput;return jsxRuntimeExports.jsx(InputBase,_extends$1({slots:{root:at,input:ot},slotProps:Ge,fullWidth:ie,inputComponent:Re,multiline:$e,ref:I,type:Be},Ke,{classes:Le}))});Input.muiName="Input";function getInputAdornmentUtilityClass(T){return generateUtilityClass("MuiInputAdornment",T)}const inputAdornmentClasses=generateUtilityClasses("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var _span$2;const _excluded$p=["children","className","component","disablePointerEvents","disableTypography","position","variant"],overridesResolver$2=(T,$)=>{const{ownerState:I}=T;return[$.root,$[`position${capitalize(I.position)}`],I.disablePointerEvents===!0&&$.disablePointerEvents,$[I.variant]]},useUtilityClasses$l=T=>{const{classes:$,disablePointerEvents:I,hiddenLabel:N,position:L,size:B,variant:H}=T,z={root:["root",I&&"disablePointerEvents",L&&`position${capitalize(L)}`,H,N&&"hiddenLabel",B&&`size${capitalize(B)}`]};return composeClasses(z,getInputAdornmentUtilityClass,$)},InputAdornmentRoot=styled("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:overridesResolver$2})(({theme:T,ownerState:$})=>_extends$1({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(T.vars||T).palette.action.active},$.variant==="filled"&&{[`&.${inputAdornmentClasses.positionStart}&:not(.${inputAdornmentClasses.hiddenLabel})`]:{marginTop:16}},$.position==="start"&&{marginRight:8},$.position==="end"&&{marginLeft:8},$.disablePointerEvents===!0&&{pointerEvents:"none"})),InputAdornment=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiInputAdornment"}),{children:L,className:B,component:H="div",disablePointerEvents:z=!1,disableTypography:Q=!1,position:te,variant:G}=N,ie=_objectWithoutPropertiesLoose(N,_excluded$p),Re=useFormControl()||{};let $e=G;G&&Re.variant,Re&&!$e&&($e=Re.variant);const Pe=_extends$1({},N,{hiddenLabel:Re.hiddenLabel,size:Re.size,disablePointerEvents:z,position:te,variant:$e}),Me=useUtilityClasses$l(Pe);return jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(InputAdornmentRoot,_extends$1({as:H,ownerState:Pe,className:clsx(Me.root,B),ref:I},ie,{children:typeof L=="string"&&!Q?jsxRuntimeExports.jsx(Typography,{color:"text.secondary",children:L}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[te==="start"?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):null,L]})}))})});function getInputLabelUtilityClasses(T){return generateUtilityClass("MuiInputLabel",T)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$o=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$k=T=>{const{classes:$,formControl:I,size:N,shrink:L,disableAnimation:B,variant:H,required:z}=T,Q={root:["root",I&&"formControl",!B&&"animated",L&&"shrink",N&&N!=="normal"&&`size${capitalize(N)}`,H],asterisk:[z&&"asterisk"]},te=composeClasses(Q,getInputLabelUtilityClasses,$);return _extends$1({},$,te)},InputLabelRoot=styled(FormLabel,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[{[`& .${formLabelClasses.asterisk}`]:$.asterisk},$.root,I.formControl&&$.formControl,I.size==="small"&&$.sizeSmall,I.shrink&&$.shrink,!I.disableAnimation&&$.animated,I.focused&&$.focused,$[I.variant]]}})(({theme:T,ownerState:$})=>_extends$1({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},$.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},$.size==="small"&&{transform:"translate(0, 17px) scale(1)"},$.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!$.disableAnimation&&{transition:T.transitions.create(["color","transform","max-width"],{duration:T.transitions.duration.shorter,easing:T.transitions.easing.easeOut})},$.variant==="filled"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},$.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},$.shrink&&_extends$1({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},$.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),$.variant==="outlined"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},$.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},$.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function($,I){const N=useDefaultProps({name:"MuiInputLabel",props:$}),{disableAnimation:L=!1,shrink:B,className:H}=N,z=_objectWithoutPropertiesLoose(N,_excluded$o),Q=useFormControl();let te=B;typeof te>"u"&&Q&&(te=Q.filled||Q.focused||Q.adornedStart);const G=formControlState({props:N,muiFormControl:Q,states:["size","variant","required","focused"]}),ie=_extends$1({},N,{disableAnimation:L,formControl:Q,shrink:te,size:G.size,variant:G.variant,required:G.required,focused:G.focused}),Re=useUtilityClasses$k(ie);return jsxRuntimeExports.jsx(InputLabelRoot,_extends$1({"data-shrink":te,ownerState:ie,ref:I,className:clsx(Re.root,H)},z,{classes:Re}))});function getLinkUtilityClass(T){return generateUtilityClass("MuiLink",T)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=T=>colorTransformations[T]||T,getTextDecoration=({theme:T,ownerState:$})=>{const I=transformDeprecatedColors($.color),N=getPath(T,`palette.${I}`,!1)||$.color,L=getPath(T,`palette.${I}Channel`);return"vars"in T&&L?`rgba(${L} / 0.4)`:alpha_1(N,.4)},_excluded$n=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses$j=T=>{const{classes:$,component:I,focusVisible:N,underline:L}=T,B={root:["root",`underline${capitalize(L)}`,I==="button"&&"button",N&&"focusVisible"]};return composeClasses(B,getLinkUtilityClass,$)},LinkRoot=styled(Typography,{name:"MuiLink",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[`underline${capitalize(I.underline)}`],I.component==="button"&&$.button]}})(({theme:T,ownerState:$})=>_extends$1({},$.underline==="none"&&{textDecoration:"none"},$.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},$.underline==="always"&&_extends$1({textDecoration:"underline"},$.color!=="inherit"&&{textDecorationColor:getTextDecoration({theme:T,ownerState:$})},{"&:hover":{textDecorationColor:"inherit"}}),$.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${linkClasses.focusVisible}`]:{outline:"auto"}})),Link=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiLink"}),{className:L,color:B="primary",component:H="a",onBlur:z,onFocus:Q,TypographyClasses:te,underline:G="always",variant:ie="inherit",sx:Re}=N,$e=_objectWithoutPropertiesLoose(N,_excluded$n),{isFocusVisibleRef:Pe,onBlur:Me,onFocus:Be,ref:Ke}=useIsFocusVisible(),[Le,qe]=reactExports.useState(!1),He=useForkRef(I,Ke),Ge=nt=>{Me(nt),Pe.current===!1&&qe(!1),z&&z(nt)},at=nt=>{Be(nt),Pe.current===!0&&qe(!0),Q&&Q(nt)},ot=_extends$1({},N,{color:B,component:H,focusVisible:Le,underline:G,variant:ie}),Ye=useUtilityClasses$j(ot);return jsxRuntimeExports.jsx(LinkRoot,_extends$1({color:B,className:clsx(Ye.root,L),classes:te,component:H,onBlur:Ge,onFocus:at,ref:He,ownerState:ot,variant:ie,sx:[...Object.keys(colorTransformations).includes(B)?[]:[{color:B}],...Array.isArray(Re)?Re:[Re]]},$e))}),ListContext=reactExports.createContext({});function getListUtilityClass(T){return generateUtilityClass("MuiList",T)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$m=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$i=T=>{const{classes:$,disablePadding:I,dense:N,subheader:L}=T;return composeClasses({root:["root",!I&&"padding",N&&"dense",L&&"subheader"]},getListUtilityClass,$)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,!I.disablePadding&&$.padding,I.dense&&$.dense,I.subheader&&$.subheader]}})(({ownerState:T})=>_extends$1({listStyle:"none",margin:0,padding:0,position:"relative"},!T.disablePadding&&{paddingTop:8,paddingBottom:8},T.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiList"}),{children:L,className:B,component:H="ul",dense:z=!1,disablePadding:Q=!1,subheader:te}=N,G=_objectWithoutPropertiesLoose(N,_excluded$m),ie=reactExports.useMemo(()=>({dense:z}),[z]),Re=_extends$1({},N,{component:H,dense:z,disablePadding:Q}),$e=useUtilityClasses$i(Re);return jsxRuntimeExports.jsx(ListContext.Provider,{value:ie,children:jsxRuntimeExports.jsxs(ListRoot,_extends$1({as:H,className:clsx($e.root,B),ref:I,ownerState:Re},G,{children:[te,L]}))})});function getListItemUtilityClass(T){return generateUtilityClass("MuiListItem",T)}const listItemClasses=generateUtilityClasses("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function getListItemSecondaryActionClassesUtilityClass(T){return generateUtilityClass("MuiListItemSecondaryAction",T)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$l=["className"],useUtilityClasses$h=T=>{const{disableGutters:$,classes:I}=T;return composeClasses({root:["root",$&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,I)},ListItemSecondaryActionRoot=styled("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,I.disableGutters&&$.disableGutters]}})(({ownerState:T})=>_extends$1({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},T.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiListItemSecondaryAction"}),{className:L}=N,B=_objectWithoutPropertiesLoose(N,_excluded$l),H=reactExports.useContext(ListContext),z=_extends$1({},N,{disableGutters:H.disableGutters}),Q=useUtilityClasses$h(z);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,_extends$1({className:clsx(Q.root,L),ownerState:z,ref:I},B))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const _excluded$k=["className"],_excluded2$5=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver$1=(T,$)=>{const{ownerState:I}=T;return[$.root,I.dense&&$.dense,I.alignItems==="flex-start"&&$.alignItemsFlexStart,I.divider&&$.divider,!I.disableGutters&&$.gutters,!I.disablePadding&&$.padding,I.button&&$.button,I.hasSecondaryAction&&$.secondaryAction]},useUtilityClasses$g=T=>{const{alignItems:$,button:I,classes:N,dense:L,disabled:B,disableGutters:H,disablePadding:z,divider:Q,hasSecondaryAction:te,selected:G}=T;return composeClasses({root:["root",L&&"dense",!H&&"gutters",!z&&"padding",Q&&"divider",B&&"disabled",I&&"button",$==="flex-start"&&"alignItemsFlexStart",te&&"secondaryAction",G&&"selected"],container:["container"]},getListItemUtilityClass,N)},ListItemRoot=styled("div",{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver$1})(({theme:T,ownerState:$})=>_extends$1({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!$.disablePadding&&_extends$1({paddingTop:8,paddingBottom:8},$.dense&&{paddingTop:4,paddingBottom:4},!$.disableGutters&&{paddingLeft:16,paddingRight:16},!!$.secondaryAction&&{paddingRight:48}),!!$.secondaryAction&&{[`& > .${listItemButtonClasses.root}`]:{paddingRight:48}},{[`&.${listItemClasses.focusVisible}`]:{backgroundColor:(T.vars||T).palette.action.focus},[`&.${listItemClasses.selected}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / ${T.vars.palette.action.selectedOpacity})`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity),[`&.${listItemClasses.focusVisible}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.focusOpacity}))`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity+T.palette.action.focusOpacity)}},[`&.${listItemClasses.disabled}`]:{opacity:(T.vars||T).palette.action.disabledOpacity}},$.alignItems==="flex-start"&&{alignItems:"flex-start"},$.divider&&{borderBottom:`1px solid ${(T.vars||T).palette.divider}`,backgroundClip:"padding-box"},$.button&&{transition:T.transitions.create("background-color",{duration:T.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(T.vars||T).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemClasses.selected}:hover`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.hoverOpacity}))`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity+T.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / ${T.vars.palette.action.selectedOpacity})`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity)}}},$.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled("li",{name:"MuiListItem",slot:"Container",overridesResolver:(T,$)=>$.container})({position:"relative"}),ListItem=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiListItem"}),{alignItems:L="center",autoFocus:B=!1,button:H=!1,children:z,className:Q,component:te,components:G={},componentsProps:ie={},ContainerComponent:Re="li",ContainerProps:{className:$e}={},dense:Pe=!1,disabled:Me=!1,disableGutters:Be=!1,disablePadding:Ke=!1,divider:Le=!1,focusVisibleClassName:qe,secondaryAction:He,selected:Ge=!1,slotProps:at={},slots:ot={}}=N,Ye=_objectWithoutPropertiesLoose(N.ContainerProps,_excluded$k),nt=_objectWithoutPropertiesLoose(N,_excluded2$5),Qe=reactExports.useContext(ListContext),tt=reactExports.useMemo(()=>({dense:Pe||Qe.dense||!1,alignItems:L,disableGutters:Be}),[L,Qe.dense,Pe,Be]),ze=reactExports.useRef(null);useEnhancedEffect(()=>{B&&ze.current&&ze.current.focus()},[B]);const Fe=reactExports.Children.toArray(z),ke=Fe.length&&isMuiElement(Fe[Fe.length-1],["ListItemSecondaryAction"]),Ue=_extends$1({},N,{alignItems:L,autoFocus:B,button:H,dense:tt.dense,disabled:Me,disableGutters:Be,disablePadding:Ke,divider:Le,hasSecondaryAction:ke,selected:Ge}),Je=useUtilityClasses$g(Ue),rt=useForkRef(ze,I),Xe=ot.root||G.Root||ListItemRoot,it=at.root||ie.root||{},We=_extends$1({className:clsx(Je.root,it.className,Q),disabled:Me},nt);let Ve=te||"li";return H&&(We.component=te||"div",We.focusVisibleClassName=clsx(listItemClasses.focusVisible,qe),Ve=ButtonBase),ke?(Ve=!We.component&&!te?"div":Ve,Re==="li"&&(Ve==="li"?Ve="div":We.component==="li"&&(We.component="div")),jsxRuntimeExports.jsx(ListContext.Provider,{value:tt,children:jsxRuntimeExports.jsxs(ListItemContainer,_extends$1({as:Re,className:clsx(Je.container,$e),ref:rt,ownerState:Ue},Ye,{children:[jsxRuntimeExports.jsx(Xe,_extends$1({},it,!isHostComponent(Xe)&&{as:Ve,ownerState:_extends$1({},Ue,it.ownerState)},We,{children:Fe})),Fe.pop()]}))})):jsxRuntimeExports.jsx(ListContext.Provider,{value:tt,children:jsxRuntimeExports.jsxs(Xe,_extends$1({},it,{as:Ve,ref:rt},!isHostComponent(Xe)&&{ownerState:_extends$1({},Ue,it.ownerState)},We,{children:[Fe,He&&jsxRuntimeExports.jsx(ListItemSecondaryAction,{children:He})]}))})});function getListItemIconUtilityClass(T){return generateUtilityClass("MuiListItemIcon",T)}const listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]);function getListItemTextUtilityClass(T){return generateUtilityClass("MuiListItemText",T)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_excluded$j=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$f=T=>{const{classes:$,inset:I,primary:N,secondary:L,dense:B}=T;return composeClasses({root:["root",I&&"inset",B&&"dense",N&&L&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,$)},ListItemTextRoot=styled("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[{[`& .${listItemTextClasses.primary}`]:$.primary},{[`& .${listItemTextClasses.secondary}`]:$.secondary},$.root,I.inset&&$.inset,I.primary&&I.secondary&&$.multiline,I.dense&&$.dense]}})(({ownerState:T})=>_extends$1({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},T.primary&&T.secondary&&{marginTop:6,marginBottom:6},T.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiListItemText"}),{children:L,className:B,disableTypography:H=!1,inset:z=!1,primary:Q,primaryTypographyProps:te,secondary:G,secondaryTypographyProps:ie}=N,Re=_objectWithoutPropertiesLoose(N,_excluded$j),{dense:$e}=reactExports.useContext(ListContext);let Pe=Q??L,Me=G;const Be=_extends$1({},N,{disableTypography:H,inset:z,primary:!!Pe,secondary:!!Me,dense:$e}),Ke=useUtilityClasses$f(Be);return Pe!=null&&Pe.type!==Typography&&!H&&(Pe=jsxRuntimeExports.jsx(Typography,_extends$1({variant:$e?"body2":"body1",className:Ke.primary,component:te!=null&&te.variant?void 0:"span",display:"block"},te,{children:Pe}))),Me!=null&&Me.type!==Typography&&!H&&(Me=jsxRuntimeExports.jsx(Typography,_extends$1({variant:"body2",className:Ke.secondary,color:"text.secondary",display:"block"},ie,{children:Me}))),jsxRuntimeExports.jsxs(ListItemTextRoot,_extends$1({className:clsx(Ke.root,B),ownerState:Be,ref:I},Re,{children:[Pe,Me]}))}),_excluded$i=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(T,$,I){return T===$?T.firstChild:$&&$.nextElementSibling?$.nextElementSibling:I?null:T.firstChild}function previousItem(T,$,I){return T===$?I?T.firstChild:T.lastChild:$&&$.previousElementSibling?$.previousElementSibling:I?null:T.lastChild}function textCriteriaMatches(T,$){if($===void 0)return!0;let I=T.innerText;return I===void 0&&(I=T.textContent),I=I.trim().toLowerCase(),I.length===0?!1:$.repeating?I[0]===$.keys[0]:I.indexOf($.keys.join(""))===0}function moveFocus(T,$,I,N,L,B){let H=!1,z=L(T,$,$?I:!1);for(;z;){if(z===T.firstChild){if(H)return!1;H=!0}const Q=N?!1:z.disabled||z.getAttribute("aria-disabled")==="true";if(!z.hasAttribute("tabindex")||!textCriteriaMatches(z,B)||Q)z=L(T,z,I);else return z.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function($,I){const{actions:N,autoFocus:L=!1,autoFocusItem:B=!1,children:H,className:z,disabledItemsFocusable:Q=!1,disableListWrap:te=!1,onKeyDown:G,variant:ie="selectedMenu"}=$,Re=_objectWithoutPropertiesLoose($,_excluded$i),$e=reactExports.useRef(null),Pe=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{L&&$e.current.focus()},[L]),reactExports.useImperativeHandle(N,()=>({adjustStyleForScrollbar:(qe,{direction:He})=>{const Ge=!$e.current.style.width;if(qe.clientHeight<$e.current.clientHeight&&Ge){const at=`${getScrollbarSize(ownerDocument(qe))}px`;$e.current.style[He==="rtl"?"paddingLeft":"paddingRight"]=at,$e.current.style.width=`calc(100% + ${at})`}return $e.current}}),[]);const Me=qe=>{const He=$e.current,Ge=qe.key,at=ownerDocument(He).activeElement;if(Ge==="ArrowDown")qe.preventDefault(),moveFocus(He,at,te,Q,nextItem);else if(Ge==="ArrowUp")qe.preventDefault(),moveFocus(He,at,te,Q,previousItem);else if(Ge==="Home")qe.preventDefault(),moveFocus(He,null,te,Q,nextItem);else if(Ge==="End")qe.preventDefault(),moveFocus(He,null,te,Q,previousItem);else if(Ge.length===1){const ot=Pe.current,Ye=Ge.toLowerCase(),nt=performance.now();ot.keys.length>0&&(nt-ot.lastTime>500?(ot.keys=[],ot.repeating=!0,ot.previousKeyMatched=!0):ot.repeating&&Ye!==ot.keys[0]&&(ot.repeating=!1)),ot.lastTime=nt,ot.keys.push(Ye);const Qe=at&&!ot.repeating&&textCriteriaMatches(at,ot);ot.previousKeyMatched&&(Qe||moveFocus(He,at,!1,Q,nextItem,ot))?qe.preventDefault():ot.previousKeyMatched=!1}G&&G(qe)},Be=useForkRef($e,I);let Ke=-1;reactExports.Children.forEach(H,(qe,He)=>{if(!reactExports.isValidElement(qe)){Ke===He&&(Ke+=1,Ke>=H.length&&(Ke=-1));return}qe.props.disabled||(ie==="selectedMenu"&&qe.props.selected||Ke===-1)&&(Ke=He),Ke===He&&(qe.props.disabled||qe.props.muiSkipListHighlight||qe.type.muiSkipListHighlight)&&(Ke+=1,Ke>=H.length&&(Ke=-1))});const Le=reactExports.Children.map(H,(qe,He)=>{if(He===Ke){const Ge={};return B&&(Ge.autoFocus=!0),qe.props.tabIndex===void 0&&ie==="selectedMenu"&&(Ge.tabIndex=0),reactExports.cloneElement(qe,Ge)}return qe});return jsxRuntimeExports.jsx(List,_extends$1({role:"menu",ref:Be,className:z,onKeyDown:Me,tabIndex:L?0:-1},Re,{children:Le}))});function getPopoverUtilityClass(T){return generateUtilityClass("MuiPopover",T)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$h=["onEntering"],_excluded2$4=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3=["slotProps"];function getOffsetTop(T,$){let I=0;return typeof $=="number"?I=$:$==="center"?I=T.height/2:$==="bottom"&&(I=T.height),I}function getOffsetLeft(T,$){let I=0;return typeof $=="number"?I=$:$==="center"?I=T.width/2:$==="right"&&(I=T.width),I}function getTransformOriginValue(T){return[T.horizontal,T.vertical].map($=>typeof $=="number"?`${$}px`:$).join(" ")}function resolveAnchorEl(T){return typeof T=="function"?T():T}const useUtilityClasses$e=T=>{const{classes:$}=T;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,$)},PopoverRoot=styled(Modal,{name:"MuiPopover",slot:"Root",overridesResolver:(T,$)=>$.root})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper",overridesResolver:(T,$)=>$.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function($,I){var N,L,B;const H=useDefaultProps({props:$,name:"MuiPopover"}),{action:z,anchorEl:Q,anchorOrigin:te={vertical:"top",horizontal:"left"},anchorPosition:G,anchorReference:ie="anchorEl",children:Re,className:$e,container:Pe,elevation:Me=8,marginThreshold:Be=16,open:Ke,PaperProps:Le={},slots:qe,slotProps:He,transformOrigin:Ge={vertical:"top",horizontal:"left"},TransitionComponent:at=Grow,transitionDuration:ot="auto",TransitionProps:{onEntering:Ye}={},disableScrollLock:nt=!1}=H,Qe=_objectWithoutPropertiesLoose(H.TransitionProps,_excluded$h),tt=_objectWithoutPropertiesLoose(H,_excluded2$4),ze=(N=He==null?void 0:He.paper)!=null?N:Le,Fe=reactExports.useRef(),ke=useForkRef(Fe,ze.ref),Ue=_extends$1({},H,{anchorOrigin:te,anchorReference:ie,elevation:Me,marginThreshold:Be,externalPaperSlotProps:ze,transformOrigin:Ge,TransitionComponent:at,transitionDuration:ot,TransitionProps:Qe}),Je=useUtilityClasses$e(Ue),rt=reactExports.useCallback(()=>{if(ie==="anchorPosition")return G;const pt=resolveAnchorEl(Q),$t=(pt&&pt.nodeType===1?pt:ownerDocument(Fe.current).body).getBoundingClientRect();return{top:$t.top+getOffsetTop($t,te.vertical),left:$t.left+getOffsetLeft($t,te.horizontal)}},[Q,te.horizontal,te.vertical,G,ie]),Xe=reactExports.useCallback(pt=>({vertical:getOffsetTop(pt,Ge.vertical),horizontal:getOffsetLeft(pt,Ge.horizontal)}),[Ge.horizontal,Ge.vertical]),it=reactExports.useCallback(pt=>{const mt={width:pt.offsetWidth,height:pt.offsetHeight},$t=Xe(mt);if(ie==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue($t)};const kt=rt();let Ft=kt.top-$t.vertical,nr=kt.left-$t.horizontal;const Yt=Ft+mt.height,yr=nr+mt.width,gr=ownerWindow(resolveAnchorEl(Q)),br=gr.innerHeight-Be,cr=gr.innerWidth-Be;if(Be!==null&&Ft<Be){const pr=Ft-Be;Ft-=pr,$t.vertical+=pr}else if(Be!==null&&Yt>br){const pr=Yt-br;Ft-=pr,$t.vertical+=pr}if(Be!==null&&nr<Be){const pr=nr-Be;nr-=pr,$t.horizontal+=pr}else if(yr>cr){const pr=yr-cr;nr-=pr,$t.horizontal+=pr}return{top:`${Math.round(Ft)}px`,left:`${Math.round(nr)}px`,transformOrigin:getTransformOriginValue($t)}},[Q,ie,rt,Xe,Be]),[We,Ve]=reactExports.useState(Ke),je=reactExports.useCallback(()=>{const pt=Fe.current;if(!pt)return;const mt=it(pt);mt.top!==null&&(pt.style.top=mt.top),mt.left!==null&&(pt.style.left=mt.left),pt.style.transformOrigin=mt.transformOrigin,Ve(!0)},[it]);reactExports.useEffect(()=>(nt&&window.addEventListener("scroll",je),()=>window.removeEventListener("scroll",je)),[Q,nt,je]);const Ze=(pt,mt)=>{Ye&&Ye(pt,mt),je()},st=()=>{Ve(!1)};reactExports.useEffect(()=>{Ke&&je()}),reactExports.useImperativeHandle(z,()=>Ke?{updatePosition:()=>{je()}}:null,[Ke,je]),reactExports.useEffect(()=>{if(!Ke)return;const pt=debounce$1(()=>{je()}),mt=ownerWindow(Q);return mt.addEventListener("resize",pt),()=>{pt.clear(),mt.removeEventListener("resize",pt)}},[Q,Ke,je]);let dt=ot;ot==="auto"&&!at.muiSupportAuto&&(dt=void 0);const bt=Pe||(Q?ownerDocument(resolveAnchorEl(Q)).body:void 0),vt=(L=qe==null?void 0:qe.root)!=null?L:PopoverRoot,St=(B=qe==null?void 0:qe.paper)!=null?B:PopoverPaper,Bt=useSlotProps({elementType:St,externalSlotProps:_extends$1({},ze,{style:We?ze.style:_extends$1({},ze.style,{opacity:0})}),additionalProps:{elevation:Me,ref:ke},ownerState:Ue,className:clsx(Je.paper,ze==null?void 0:ze.className)}),Gt=useSlotProps({elementType:vt,externalSlotProps:(He==null?void 0:He.root)||{},externalForwardedProps:tt,additionalProps:{ref:I,slotProps:{backdrop:{invisible:!0}},container:bt,open:Ke},ownerState:Ue,className:clsx(Je.root,$e)}),{slotProps:Dt}=Gt,Mt=_objectWithoutPropertiesLoose(Gt,_excluded3);return jsxRuntimeExports.jsx(vt,_extends$1({},Mt,!isHostComponent(vt)&&{slotProps:Dt,disableScrollLock:nt},{children:jsxRuntimeExports.jsx(at,_extends$1({appear:!0,in:Ke,onEntering:Ze,onExited:st,timeout:dt},Qe,{children:jsxRuntimeExports.jsx(St,_extends$1({},Bt,{children:Re}))}))}))});function getMenuUtilityClass(T){return generateUtilityClass("MuiMenu",T)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$g=["onEntering"],_excluded2$3=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$d=T=>{const{classes:$}=T;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,$)},MenuRoot=styled(Popover,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(T,$)=>$.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(T,$)=>$.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List",overridesResolver:(T,$)=>$.list})({outline:0}),Menu=reactExports.forwardRef(function($,I){var N,L;const B=useDefaultProps({props:$,name:"MuiMenu"}),{autoFocus:H=!0,children:z,className:Q,disableAutoFocusItem:te=!1,MenuListProps:G={},onClose:ie,open:Re,PaperProps:$e={},PopoverClasses:Pe,transitionDuration:Me="auto",TransitionProps:{onEntering:Be}={},variant:Ke="selectedMenu",slots:Le={},slotProps:qe={}}=B,He=_objectWithoutPropertiesLoose(B.TransitionProps,_excluded$g),Ge=_objectWithoutPropertiesLoose(B,_excluded2$3),at=useRtl(),ot=_extends$1({},B,{autoFocus:H,disableAutoFocusItem:te,MenuListProps:G,onEntering:Be,PaperProps:$e,transitionDuration:Me,TransitionProps:He,variant:Ke}),Ye=useUtilityClasses$d(ot),nt=H&&!te&&Re,Qe=reactExports.useRef(null),tt=(Xe,it)=>{Qe.current&&Qe.current.adjustStyleForScrollbar(Xe,{direction:at?"rtl":"ltr"}),Be&&Be(Xe,it)},ze=Xe=>{Xe.key==="Tab"&&(Xe.preventDefault(),ie&&ie(Xe,"tabKeyDown"))};let Fe=-1;reactExports.Children.map(z,(Xe,it)=>{reactExports.isValidElement(Xe)&&(Xe.props.disabled||(Ke==="selectedMenu"&&Xe.props.selected||Fe===-1)&&(Fe=it))});const ke=(N=Le.paper)!=null?N:MenuPaper,Ue=(L=qe.paper)!=null?L:$e,Je=useSlotProps({elementType:Le.root,externalSlotProps:qe.root,ownerState:ot,className:[Ye.root,Q]}),rt=useSlotProps({elementType:ke,externalSlotProps:Ue,ownerState:ot,className:Ye.paper});return jsxRuntimeExports.jsx(MenuRoot,_extends$1({onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:at?"right":"left"},transformOrigin:at?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:ke,root:Le.root},slotProps:{root:Je,paper:rt},open:Re,ref:I,transitionDuration:Me,TransitionProps:_extends$1({onEntering:tt},He),ownerState:ot},Ge,{classes:Pe,children:jsxRuntimeExports.jsx(MenuMenuList,_extends$1({onKeyDown:ze,actions:Qe,autoFocus:H&&(Fe===-1||te),autoFocusItem:nt,variant:Ke},G,{className:clsx(Ye.list,G.className),children:z}))}))});function getMenuItemUtilityClass(T){return generateUtilityClass("MuiMenuItem",T)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),_excluded$f=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],overridesResolver=(T,$)=>{const{ownerState:I}=T;return[$.root,I.dense&&$.dense,I.divider&&$.divider,!I.disableGutters&&$.gutters]},useUtilityClasses$c=T=>{const{disabled:$,dense:I,divider:N,disableGutters:L,selected:B,classes:H}=T,Q=composeClasses({root:["root",I&&"dense",$&&"disabled",!L&&"gutters",N&&"divider",B&&"selected"]},getMenuItemUtilityClass,H);return _extends$1({},H,Q)},MenuItemRoot=styled(ButtonBase,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(({theme:T,ownerState:$})=>_extends$1({},T.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!$.disableGutters&&{paddingLeft:16,paddingRight:16},$.divider&&{borderBottom:`1px solid ${(T.vars||T).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(T.vars||T).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses.selected}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / ${T.vars.palette.action.selectedOpacity})`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity),[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.focusOpacity}))`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity+T.palette.action.focusOpacity)}},[`&.${menuItemClasses.selected}:hover`]:{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / calc(${T.vars.palette.action.selectedOpacity} + ${T.vars.palette.action.hoverOpacity}))`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity+T.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:T.vars?`rgba(${T.vars.palette.primary.mainChannel} / ${T.vars.palette.action.selectedOpacity})`:alpha_1(T.palette.primary.main,T.palette.action.selectedOpacity)}},[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:(T.vars||T).palette.action.focus},[`&.${menuItemClasses.disabled}`]:{opacity:(T.vars||T).palette.action.disabledOpacity},[`& + .${dividerClasses.root}`]:{marginTop:T.spacing(1),marginBottom:T.spacing(1)},[`& + .${dividerClasses.inset}`]:{marginLeft:52},[`& .${listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses.root}`]:{minWidth:36}},!$.dense&&{[T.breakpoints.up("sm")]:{minHeight:"auto"}},$.dense&&_extends$1({minHeight:32,paddingTop:4,paddingBottom:4},T.typography.body2,{[`& .${listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}))),MenuItem=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiMenuItem"}),{autoFocus:L=!1,component:B="li",dense:H=!1,divider:z=!1,disableGutters:Q=!1,focusVisibleClassName:te,role:G="menuitem",tabIndex:ie,className:Re}=N,$e=_objectWithoutPropertiesLoose(N,_excluded$f),Pe=reactExports.useContext(ListContext),Me=reactExports.useMemo(()=>({dense:H||Pe.dense||!1,disableGutters:Q}),[Pe.dense,H,Q]),Be=reactExports.useRef(null);useEnhancedEffect(()=>{L&&Be.current&&Be.current.focus()},[L]);const Ke=_extends$1({},N,{dense:Me.dense,divider:z,disableGutters:Q}),Le=useUtilityClasses$c(N),qe=useForkRef(Be,I);let He;return N.disabled||(He=ie!==void 0?ie:-1),jsxRuntimeExports.jsx(ListContext.Provider,{value:Me,children:jsxRuntimeExports.jsx(MenuItemRoot,_extends$1({ref:qe,role:G,tabIndex:He,component:B,focusVisibleClassName:clsx(Le.focusVisible,te),className:clsx(Le.root,Re)},$e,{ownerState:Ke,classes:Le}))})});function getNativeSelectUtilityClasses(T){return generateUtilityClass("MuiNativeSelect",T)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),_excluded$e=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$b=T=>{const{classes:$,variant:I,disabled:N,multiple:L,open:B,error:H}=T,z={select:["select",I,N&&"disabled",L&&"multiple",H&&"error"],icon:["icon",`icon${capitalize(I)}`,B&&"iconOpen",N&&"disabled"]};return composeClasses(z,getNativeSelectUtilityClasses,$)},nativeSelectSelectStyles=({ownerState:T,theme:$})=>_extends$1({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$1({},$.vars?{backgroundColor:`rgba(${$.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:$.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:($.vars||$).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},T.variant==="filled"&&{"&&&":{paddingRight:32}},T.variant==="outlined"&&{borderRadius:($.vars||$).shape.borderRadius,"&:focus":{borderRadius:($.vars||$).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.select,$[I.variant],I.error&&$.error,{[`&.${nativeSelectClasses.multiple}`]:$.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:T,theme:$})=>_extends$1({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:($.vars||$).palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:($.vars||$).palette.action.disabled}},T.open&&{transform:"rotate(180deg)"},T.variant==="filled"&&{right:7},T.variant==="outlined"&&{right:7}),NativeSelectIcon=styled("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.icon,I.variant&&$[`icon${capitalize(I.variant)}`],I.open&&$.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function($,I){const{className:N,disabled:L,error:B,IconComponent:H,inputRef:z,variant:Q="standard"}=$,te=_objectWithoutPropertiesLoose($,_excluded$e),G=_extends$1({},$,{disabled:L,variant:Q,error:B}),ie=useUtilityClasses$b(G);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends$1({ownerState:G,className:clsx(ie.select,N),disabled:L,ref:z||I},te)),$.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:H,ownerState:G,className:ie.icon})]})});function NoSsr(T){const{children:$,defer:I=!1,fallback:N=null}=T,[L,B]=reactExports.useState(!1);return useEnhancedEffect(()=>{I||B(!0)},[I]),reactExports.useEffect(()=>{I&&B(!0)},[I]),jsxRuntimeExports.jsx(reactExports.Fragment,{children:L?$:N})}var _span$1;const _excluded$d=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled("fieldset",{shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{shouldForwardProp:rootShouldForwardProp})(({ownerState:T,theme:$})=>_extends$1({float:"unset",width:"auto",overflow:"hidden"},!T.withLabel&&{padding:0,lineHeight:"11px",transition:$.transitions.create("width",{duration:150,easing:$.transitions.easing.easeOut})},T.withLabel&&_extends$1({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:$.transitions.create("max-width",{duration:50,easing:$.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},T.notched&&{maxWidth:"100%",transition:$.transitions.create("max-width",{duration:100,easing:$.transitions.easing.easeOut,delay:50})})));function NotchedOutline(T){const{className:$,label:I,notched:N}=T,L=_objectWithoutPropertiesLoose(T,_excluded$d),B=I!=null&&I!=="",H=_extends$1({},T,{notched:N,withLabel:B});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends$1({"aria-hidden":!0,className:$,ownerState:H},L,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:H,children:B?jsxRuntimeExports.jsx("span",{children:I}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$c=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$a=T=>{const{classes:$}=T,N=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,$);return _extends$1({},$,N)},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:T=>rootShouldForwardProp(T)||T==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:T,ownerState:$})=>{const I=T.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$1({position:"relative",borderRadius:(T.vars||T).shape.borderRadius,[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:(T.vars||T).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:T.vars?`rgba(${T.vars.palette.common.onBackgroundChannel} / 0.23)`:I}},[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(T.vars||T).palette[$.color].main,borderWidth:2},[`&.${outlinedInputClasses.error} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(T.vars||T).palette.error.main},[`&.${outlinedInputClasses.disabled} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(T.vars||T).palette.action.disabled}},$.startAdornment&&{paddingLeft:14},$.endAdornment&&{paddingRight:14},$.multiline&&_extends$1({padding:"16.5px 14px"},$.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(T,$)=>$.notchedOutline})(({theme:T})=>{const $=T.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:T.vars?`rgba(${T.vars.palette.common.onBackgroundChannel} / 0.23)`:$}}),OutlinedInputInput=styled(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:T,ownerState:$})=>_extends$1({padding:"16.5px 14px"},!T.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:T.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:T.palette.mode==="light"?null:"#fff",caretColor:T.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},T.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[T.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},$.size==="small"&&{padding:"8.5px 14px"},$.multiline&&{padding:0},$.startAdornment&&{paddingLeft:0},$.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function($,I){var N,L,B,H,z;const Q=useDefaultProps({props:$,name:"MuiOutlinedInput"}),{components:te={},fullWidth:G=!1,inputComponent:ie="input",label:Re,multiline:$e=!1,notched:Pe,slots:Me={},type:Be="text"}=Q,Ke=_objectWithoutPropertiesLoose(Q,_excluded$c),Le=useUtilityClasses$a(Q),qe=useFormControl(),He=formControlState({props:Q,muiFormControl:qe,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Ge=_extends$1({},Q,{color:He.color||"primary",disabled:He.disabled,error:He.error,focused:He.focused,formControl:qe,fullWidth:G,hiddenLabel:He.hiddenLabel,multiline:$e,size:He.size,type:Be}),at=(N=(L=Me.root)!=null?L:te.Root)!=null?N:OutlinedInputRoot,ot=(B=(H=Me.input)!=null?H:te.Input)!=null?B:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase,_extends$1({slots:{root:at,input:ot},renderSuffix:Ye=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:Ge,className:Le.notchedOutline,label:Re!=null&&Re!==""&&He.required?z||(z=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Re," ","*"]})):Re,notched:typeof Pe<"u"?Pe:!!(Ye.startAdornment||Ye.filled||Ye.focused)}),fullWidth:G,inputComponent:ie,multiline:$e,ref:I,type:Be},Ke,{classes:_extends$1({},Le,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const Star$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),StarBorder=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function getRatingUtilityClass(T){return generateUtilityClass("MuiRating",T)}const ratingClasses=generateUtilityClasses("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),_excluded$b=["value"],_excluded2$2=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function getDecimalPrecision(T){const $=T.toString().split(".")[1];return $?$.length:0}function roundValueToPrecision(T,$){if(T==null)return T;const I=Math.round(T/$)*$;return Number(I.toFixed(getDecimalPrecision($)))}const useUtilityClasses$9=T=>{const{classes:$,size:I,readOnly:N,disabled:L,emptyValueFocused:B,focusVisible:H}=T,z={root:["root",`size${capitalize(I)}`,L&&"disabled",H&&"focusVisible",N&&"readOnly"],label:["label","pristine"],labelEmptyValue:[B&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return composeClasses(z,getRatingUtilityClass,$)},RatingRoot=styled("span",{name:"MuiRating",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[{[`& .${ratingClasses.visuallyHidden}`]:$.visuallyHidden},$.root,$[`size${capitalize(I.size)}`],I.readOnly&&$.readOnly]}})(({theme:T,ownerState:$})=>_extends$1({display:"inline-flex",position:"relative",fontSize:T.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${ratingClasses.disabled}`]:{opacity:(T.vars||T).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ratingClasses.focusVisible} .${ratingClasses.iconActive}`]:{outline:"1px solid #999"},[`& .${ratingClasses.visuallyHidden}`]:visuallyHidden},$.size==="small"&&{fontSize:T.typography.pxToRem(18)},$.size==="large"&&{fontSize:T.typography.pxToRem(30)},$.readOnly&&{pointerEvents:"none"})),RatingLabel=styled("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:T},$)=>[$.label,T.emptyValueFocused&&$.labelEmptyValueActive]})(({ownerState:T})=>_extends$1({cursor:"inherit"},T.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),RatingIcon=styled("span",{name:"MuiRating",slot:"Icon",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.icon,I.iconEmpty&&$.iconEmpty,I.iconFilled&&$.iconFilled,I.iconHover&&$.iconHover,I.iconFocus&&$.iconFocus,I.iconActive&&$.iconActive]}})(({theme:T,ownerState:$})=>_extends$1({display:"flex",transition:T.transitions.create("transform",{duration:T.transitions.duration.shortest}),pointerEvents:"none"},$.iconActive&&{transform:"scale(1.2)"},$.iconEmpty&&{color:(T.vars||T).palette.action.disabled})),RatingDecimal=styled("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:T=>slotShouldForwardProp(T)&&T!=="iconActive",overridesResolver:(T,$)=>{const{iconActive:I}=T;return[$.decimal,I&&$.iconActive]}})(({iconActive:T})=>_extends$1({position:"relative"},T&&{transform:"scale(1.2)"}));function IconContainer(T){const $=_objectWithoutPropertiesLoose(T,_excluded$b);return jsxRuntimeExports.jsx("span",_extends$1({},$))}function RatingItem(T){const{classes:$,disabled:I,emptyIcon:N,focus:L,getLabelText:B,highlightSelectedOnly:H,hover:z,icon:Q,IconContainerComponent:te,isActive:G,itemValue:ie,labelProps:Re,name:$e,onBlur:Pe,onChange:Me,onClick:Be,onFocus:Ke,readOnly:Le,ownerState:qe,ratingValue:He,ratingValueRounded:Ge}=T,at=H?ie===He:ie<=He,ot=ie<=z,Ye=ie<=L,nt=ie===Ge,Qe=useId(),tt=jsxRuntimeExports.jsx(RatingIcon,{as:te,value:ie,className:clsx($.icon,at?$.iconFilled:$.iconEmpty,ot&&$.iconHover,Ye&&$.iconFocus,G&&$.iconActive),ownerState:_extends$1({},qe,{iconEmpty:!at,iconFilled:at,iconHover:ot,iconFocus:Ye,iconActive:G}),children:N&&!at?N:Q});return Le?jsxRuntimeExports.jsx("span",_extends$1({},Re,{children:tt})):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsxs(RatingLabel,_extends$1({ownerState:_extends$1({},qe,{emptyValueFocused:void 0}),htmlFor:Qe},Re,{children:[tt,jsxRuntimeExports.jsx("span",{className:$.visuallyHidden,children:B(ie)})]})),jsxRuntimeExports.jsx("input",{className:$.visuallyHidden,onFocus:Ke,onBlur:Pe,onChange:Me,onClick:Be,disabled:I,value:ie,id:Qe,type:"radio",name:$e,checked:nt})]})}const defaultIcon=jsxRuntimeExports.jsx(Star$1,{fontSize:"inherit"}),defaultEmptyIcon=jsxRuntimeExports.jsx(StarBorder,{fontSize:"inherit"});function defaultLabelText(T){return`${T} Star${T!==1?"s":""}`}const Rating=reactExports.forwardRef(function($,I){const N=useDefaultProps({name:"MuiRating",props:$}),{className:L,defaultValue:B=null,disabled:H=!1,emptyIcon:z=defaultEmptyIcon,emptyLabelText:Q="Empty",getLabelText:te=defaultLabelText,highlightSelectedOnly:G=!1,icon:ie=defaultIcon,IconContainerComponent:Re=IconContainer,max:$e=5,name:Pe,onChange:Me,onChangeActive:Be,onMouseLeave:Ke,onMouseMove:Le,precision:qe=1,readOnly:He=!1,size:Ge="medium",value:at}=N,ot=_objectWithoutPropertiesLoose(N,_excluded2$2),Ye=useId(Pe),[nt,Qe]=useControlled({controlled:at,default:B,name:"Rating"}),tt=roundValueToPrecision(nt,qe),ze=useRtl(),[{hover:Fe,focus:ke},Ue]=reactExports.useState({hover:-1,focus:-1});let Je=tt;Fe!==-1&&(Je=Fe),ke!==-1&&(Je=ke);const{isFocusVisibleRef:rt,onBlur:Xe,onFocus:it,ref:We}=useIsFocusVisible(),[Ve,je]=reactExports.useState(!1),Ze=reactExports.useRef(),st=useForkRef(We,Ze,I),dt=$t=>{Le&&Le($t);const kt=Ze.current,{right:Ft,left:nr,width:Yt}=kt.getBoundingClientRect();let yr;ze?yr=(Ft-$t.clientX)/Yt:yr=($t.clientX-nr)/Yt;let gr=roundValueToPrecision($e*yr+qe/2,qe);gr=clamp(gr,qe,$e),Ue(br=>br.hover===gr&&br.focus===gr?br:{hover:gr,focus:gr}),je(!1),Be&&Fe!==gr&&Be($t,gr)},bt=$t=>{Ke&&Ke($t);const kt=-1;Ue({hover:kt,focus:kt}),Be&&Fe!==kt&&Be($t,kt)},vt=$t=>{let kt=$t.target.value===""?null:parseFloat($t.target.value);Fe!==-1&&(kt=Fe),Qe(kt),Me&&Me($t,kt)},St=$t=>{$t.clientX===0&&$t.clientY===0||(Ue({hover:-1,focus:-1}),Qe(null),Me&&parseFloat($t.target.value)===tt&&Me($t,null))},Bt=$t=>{it($t),rt.current===!0&&je(!0);const kt=parseFloat($t.target.value);Ue(Ft=>({hover:Ft.hover,focus:kt}))},Gt=$t=>{if(Fe!==-1)return;Xe($t),rt.current===!1&&je(!1);const kt=-1;Ue(Ft=>({hover:Ft.hover,focus:kt}))},[Dt,Mt]=reactExports.useState(!1),pt=_extends$1({},N,{defaultValue:B,disabled:H,emptyIcon:z,emptyLabelText:Q,emptyValueFocused:Dt,focusVisible:Ve,getLabelText:te,icon:ie,IconContainerComponent:Re,max:$e,precision:qe,readOnly:He,size:Ge}),mt=useUtilityClasses$9(pt);return jsxRuntimeExports.jsxs(RatingRoot,_extends$1({ref:st,onMouseMove:dt,onMouseLeave:bt,className:clsx(mt.root,L,He&&"MuiRating-readOnly"),ownerState:pt,role:He?"img":null,"aria-label":He?te(Je):null},ot,{children:[Array.from(new Array($e)).map(($t,kt)=>{const Ft=kt+1,nr={classes:mt,disabled:H,emptyIcon:z,focus:ke,getLabelText:te,highlightSelectedOnly:G,hover:Fe,icon:ie,IconContainerComponent:Re,name:Ye,onBlur:Gt,onChange:vt,onClick:St,onFocus:Bt,ratingValue:Je,ratingValueRounded:tt,readOnly:He,ownerState:pt},Yt=Ft===Math.ceil(Je)&&(Fe!==-1||ke!==-1);if(qe<1){const yr=Array.from(new Array(1/qe));return jsxRuntimeExports.jsx(RatingDecimal,{className:clsx(mt.decimal,Yt&&mt.iconActive),ownerState:pt,iconActive:Yt,children:yr.map((gr,br)=>{const cr=roundValueToPrecision(Ft-1+(br+1)*qe,qe);return jsxRuntimeExports.jsx(RatingItem,_extends$1({},nr,{isActive:!1,itemValue:cr,labelProps:{style:yr.length-1===br?{}:{width:cr===Je?`${(br+1)*qe*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),cr)})},Ft)}return jsxRuntimeExports.jsx(RatingItem,_extends$1({},nr,{isActive:Yt,itemValue:Ft}),Ft)}),!He&&!H&&jsxRuntimeExports.jsxs(RatingLabel,{className:clsx(mt.label,mt.labelEmptyValue),ownerState:pt,children:[jsxRuntimeExports.jsx("input",{className:mt.visuallyHidden,value:"",id:`${Ye}-empty`,type:"radio",name:Ye,checked:tt==null,onFocus:()=>Mt(!0),onBlur:()=>Mt(!1),onChange:vt}),jsxRuntimeExports.jsx("span",{className:mt.visuallyHidden,children:Q})]})]}))});function getSelectUtilityClasses(T){return generateUtilityClass("MuiSelect",T)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const _excluded$a=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled("div",{name:"MuiSelect",slot:"Select",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[{[`&.${selectClasses.select}`]:$.select},{[`&.${selectClasses.select}`]:$[I.variant]},{[`&.${selectClasses.error}`]:$.error},{[`&.${selectClasses.multiple}`]:$.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.icon,I.variant&&$[`icon${capitalize(I.variant)}`],I.open&&$.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled("input",{shouldForwardProp:T=>slotShouldForwardProp(T)&&T!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(T,$)=>$.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(T,$){return typeof $=="object"&&$!==null?T===$:String(T)===String($)}function isEmpty$2(T){return T==null||typeof T=="string"&&!T.trim()}const useUtilityClasses$8=T=>{const{classes:$,variant:I,disabled:N,multiple:L,open:B,error:H}=T,z={select:["select",I,N&&"disabled",L&&"multiple",H&&"error"],icon:["icon",`icon${capitalize(I)}`,B&&"iconOpen",N&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(z,getSelectUtilityClasses,$)},SelectInput=reactExports.forwardRef(function($,I){var N;const{"aria-describedby":L,"aria-label":B,autoFocus:H,autoWidth:z,children:Q,className:te,defaultOpen:G,defaultValue:ie,disabled:Re,displayEmpty:$e,error:Pe=!1,IconComponent:Me,inputRef:Be,labelId:Ke,MenuProps:Le={},multiple:qe,name:He,onBlur:Ge,onChange:at,onClose:ot,onFocus:Ye,onOpen:nt,open:Qe,readOnly:tt,renderValue:ze,SelectDisplayProps:Fe={},tabIndex:ke,value:Ue,variant:Je="standard"}=$,rt=_objectWithoutPropertiesLoose($,_excluded$a),[Xe,it]=useControlled({controlled:Ue,default:ie,name:"Select"}),[We,Ve]=useControlled({controlled:Qe,default:G,name:"Select"}),je=reactExports.useRef(null),Ze=reactExports.useRef(null),[st,dt]=reactExports.useState(null),{current:bt}=reactExports.useRef(Qe!=null),[vt,St]=reactExports.useState(),Bt=useForkRef(I,Be),Gt=reactExports.useCallback(Kt=>{Ze.current=Kt,Kt&&dt(Kt)},[]),Dt=st==null?void 0:st.parentNode;reactExports.useImperativeHandle(Bt,()=>({focus:()=>{Ze.current.focus()},node:je.current,value:Xe}),[Xe]),reactExports.useEffect(()=>{G&&We&&st&&!bt&&(St(z?null:Dt.clientWidth),Ze.current.focus())},[st,z]),reactExports.useEffect(()=>{H&&Ze.current.focus()},[H]),reactExports.useEffect(()=>{if(!Ke)return;const Kt=ownerDocument(Ze.current).getElementById(Ke);if(Kt){const tr=()=>{getSelection().isCollapsed&&Ze.current.focus()};return Kt.addEventListener("click",tr),()=>{Kt.removeEventListener("click",tr)}}},[Ke]);const Mt=(Kt,tr)=>{Kt?nt&&nt(tr):ot&&ot(tr),bt||(St(z?null:Dt.clientWidth),Ve(Kt))},pt=Kt=>{Kt.button===0&&(Kt.preventDefault(),Ze.current.focus(),Mt(!0,Kt))},mt=Kt=>{Mt(!1,Kt)},$t=reactExports.Children.toArray(Q),kt=Kt=>{const tr=$t.find(dr=>dr.props.value===Kt.target.value);tr!==void 0&&(it(tr.props.value),at&&at(Kt,tr))},Ft=Kt=>tr=>{let dr;if(tr.currentTarget.hasAttribute("tabindex")){if(qe){dr=Array.isArray(Xe)?Xe.slice():[];const _r=Xe.indexOf(Kt.props.value);_r===-1?dr.push(Kt.props.value):dr.splice(_r,1)}else dr=Kt.props.value;if(Kt.props.onClick&&Kt.props.onClick(tr),Xe!==dr&&(it(dr),at)){const _r=tr.nativeEvent||tr,Nr=new _r.constructor(_r.type,_r);Object.defineProperty(Nr,"target",{writable:!0,value:{value:dr,name:He}}),at(Nr,Kt)}qe||Mt(!1,tr)}},nr=Kt=>{tt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Kt.key)!==-1&&(Kt.preventDefault(),Mt(!0,Kt))},Yt=st!==null&&We,yr=Kt=>{!Yt&&Ge&&(Object.defineProperty(Kt,"target",{writable:!0,value:{value:Xe,name:He}}),Ge(Kt))};delete rt["aria-invalid"];let gr,br;const cr=[];let pr=!1;(isFilled({value:Xe})||$e)&&(ze?gr=ze(Xe):pr=!0);const lt=$t.map(Kt=>{if(!reactExports.isValidElement(Kt))return null;let tr;if(qe){if(!Array.isArray(Xe))throw new Error(formatMuiErrorMessage(2));tr=Xe.some(dr=>areEqualValues(dr,Kt.props.value)),tr&&pr&&cr.push(Kt.props.children)}else tr=areEqualValues(Xe,Kt.props.value),tr&&pr&&(br=Kt.props.children);return reactExports.cloneElement(Kt,{"aria-selected":tr?"true":"false",onClick:Ft(Kt),onKeyUp:dr=>{dr.key===" "&&dr.preventDefault(),Kt.props.onKeyUp&&Kt.props.onKeyUp(dr)},role:"option",selected:tr,value:void 0,"data-value":Kt.props.value})});pr&&(qe?cr.length===0?gr=null:gr=cr.reduce((Kt,tr,dr)=>(Kt.push(tr),dr<cr.length-1&&Kt.push(", "),Kt),[]):gr=br);let ct=vt;!z&&bt&&st&&(ct=Dt.clientWidth);let Nt;typeof ke<"u"?Nt=ke:Nt=Re?null:0;const jt=Fe.id||(He?`mui-component-select-${He}`:void 0),zt=_extends$1({},$,{variant:Je,value:Xe,open:Yt,error:Pe}),Ot=useUtilityClasses$8(zt),Rt=_extends$1({},Le.PaperProps,(N=Le.slotProps)==null?void 0:N.paper),It=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends$1({ref:Gt,tabIndex:Nt,role:"combobox","aria-controls":It,"aria-disabled":Re?"true":void 0,"aria-expanded":Yt?"true":"false","aria-haspopup":"listbox","aria-label":B,"aria-labelledby":[Ke,jt].filter(Boolean).join(" ")||void 0,"aria-describedby":L,onKeyDown:nr,onMouseDown:Re||tt?null:pt,onBlur:yr,onFocus:Ye},Fe,{ownerState:zt,className:clsx(Fe.className,Ot.select,te),id:jt,children:isEmpty$2(gr)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):gr})),jsxRuntimeExports.jsx(SelectNativeInput,_extends$1({"aria-invalid":Pe,value:Array.isArray(Xe)?Xe.join(","):Xe,name:He,ref:je,"aria-hidden":!0,onChange:kt,tabIndex:-1,disabled:Re,className:Ot.nativeInput,autoFocus:H,ownerState:zt},rt)),jsxRuntimeExports.jsx(SelectIcon,{as:Me,className:Ot.icon,ownerState:zt}),jsxRuntimeExports.jsx(Menu,_extends$1({id:`menu-${He||""}`,anchorEl:Dt,open:Yt,onClose:mt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},Le,{MenuListProps:_extends$1({"aria-labelledby":Ke,role:"listbox","aria-multiselectable":qe?"true":void 0,disableListWrap:!0,id:It},Le.MenuListProps),slotProps:_extends$1({},Le.slotProps,{paper:_extends$1({},Rt,{style:_extends$1({minWidth:ct},Rt!=null?Rt.style:null)})}),children:lt}))]})}),_excluded$9=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2$1=["root"],useUtilityClasses$7=T=>{const{classes:$}=T;return $},styledRootConfig={name:"MuiSelect",overridesResolver:(T,$)=>$.root,shouldForwardProp:T=>rootShouldForwardProp(T)&&T!=="variant",slot:"Root"},StyledInput=styled(Input,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput,styledRootConfig)(""),StyledFilledInput=styled(FilledInput,styledRootConfig)(""),Select=reactExports.forwardRef(function($,I){const N=useDefaultProps({name:"MuiSelect",props:$}),{autoWidth:L=!1,children:B,classes:H={},className:z,defaultOpen:Q=!1,displayEmpty:te=!1,IconComponent:G=ArrowDropDownIcon,id:ie,input:Re,inputProps:$e,label:Pe,labelId:Me,MenuProps:Be,multiple:Ke=!1,native:Le=!1,onClose:qe,onOpen:He,open:Ge,renderValue:at,SelectDisplayProps:ot,variant:Ye="outlined"}=N,nt=_objectWithoutPropertiesLoose(N,_excluded$9),Qe=Le?NativeSelectInput:SelectInput,tt=useFormControl(),ze=formControlState({props:N,muiFormControl:tt,states:["variant","error"]}),Fe=ze.variant||Ye,ke=_extends$1({},N,{variant:Fe,classes:H}),Ue=useUtilityClasses$7(ke),Je=_objectWithoutPropertiesLoose(Ue,_excluded2$1),rt=Re||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:ke}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:Pe,ownerState:ke}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:ke})}[Fe],Xe=useForkRef(I,getReactElementRef(rt));return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(rt,_extends$1({inputComponent:Qe,inputProps:_extends$1({children:B,error:ze.error,IconComponent:G,variant:Fe,type:void 0,multiple:Ke},Le?{id:ie}:{autoWidth:L,defaultOpen:Q,displayEmpty:te,labelId:Me,MenuProps:Be,onClose:qe,onOpen:He,open:Ge,renderValue:at,SelectDisplayProps:_extends$1({id:ie},ot)},$e,{classes:$e?deepmerge$1(Je,$e.classes):Je},Re?Re.props.inputProps:{})},(Ke&&Le||te)&&Fe==="outlined"?{notched:!0}:{},{ref:Xe,className:clsx(rt.props.className,z,Ue.root)},!Re&&{variant:Fe},nt))})});Select.muiName="Select";function getTooltipUtilityClass(T){return generateUtilityClass("MuiTooltip",T)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),_excluded$8=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function round$4(T){return Math.round(T*1e5)/1e5}const useUtilityClasses$6=T=>{const{classes:$,disableInteractive:I,arrow:N,touch:L,placement:B}=T,H={popper:["popper",!I&&"popperInteractive",N&&"popperArrow"],tooltip:["tooltip",N&&"tooltipArrow",L&&"touch",`tooltipPlacement${capitalize(B.split("-")[0])}`],arrow:["arrow"]};return composeClasses(H,getTooltipUtilityClass,$)},TooltipPopper=styled(Popper,{name:"MuiTooltip",slot:"Popper",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.popper,!I.disableInteractive&&$.popperInteractive,I.arrow&&$.popperArrow,!I.open&&$.popperClose]}})(({theme:T,ownerState:$,open:I})=>_extends$1({zIndex:(T.vars||T).zIndex.tooltip,pointerEvents:"none"},!$.disableInteractive&&{pointerEvents:"auto"},!I&&{pointerEvents:"none"},$.arrow&&{[`&[data-popper-placement*="bottom"] .${tooltipClasses.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:_extends$1({},$.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:_extends$1({},$.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=styled("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.tooltip,I.touch&&$.touch,I.arrow&&$.tooltipArrow,$[`tooltipPlacement${capitalize(I.placement.split("-")[0])}`]]}})(({theme:T,ownerState:$})=>_extends$1({backgroundColor:T.vars?T.vars.palette.Tooltip.bg:alpha_1(T.palette.grey[700],.92),borderRadius:(T.vars||T).shape.borderRadius,color:(T.vars||T).palette.common.white,fontFamily:T.typography.fontFamily,padding:"4px 8px",fontSize:T.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:T.typography.fontWeightMedium},$.arrow&&{position:"relative",margin:0},$.touch&&{padding:"8px 16px",fontSize:T.typography.pxToRem(14),lineHeight:`${round$4(16/14)}em`,fontWeight:T.typography.fontWeightRegular},{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:_extends$1({transformOrigin:"right center"},$.isRtl?_extends$1({marginLeft:"14px"},$.touch&&{marginLeft:"24px"}):_extends$1({marginRight:"14px"},$.touch&&{marginRight:"24px"})),[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:_extends$1({transformOrigin:"left center"},$.isRtl?_extends$1({marginRight:"14px"},$.touch&&{marginRight:"24px"}):_extends$1({marginLeft:"14px"},$.touch&&{marginLeft:"24px"})),[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:_extends$1({transformOrigin:"center bottom",marginBottom:"14px"},$.touch&&{marginBottom:"24px"}),[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:_extends$1({transformOrigin:"center top",marginTop:"14px"},$.touch&&{marginTop:"24px"})})),TooltipArrow=styled("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(T,$)=>$.arrow})(({theme:T})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:T.vars?T.vars.palette.Tooltip.bg:alpha_1(T.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1;const hystersisTimer=new Timeout;let cursorPosition={x:0,y:0};function composeEventHandler(T,$){return(I,...N)=>{$&&$(I,...N),T(I,...N)}}const Tooltip=reactExports.forwardRef(function($,I){var N,L,B,H,z,Q,te,G,ie,Re,$e,Pe,Me,Be,Ke,Le,qe,He,Ge;const at=useDefaultProps({props:$,name:"MuiTooltip"}),{arrow:ot=!1,children:Ye,components:nt={},componentsProps:Qe={},describeChild:tt=!1,disableFocusListener:ze=!1,disableHoverListener:Fe=!1,disableInteractive:ke=!1,disableTouchListener:Ue=!1,enterDelay:Je=100,enterNextDelay:rt=0,enterTouchDelay:Xe=700,followCursor:it=!1,id:We,leaveDelay:Ve=0,leaveTouchDelay:je=1500,onClose:Ze,onOpen:st,open:dt,placement:bt="bottom",PopperComponent:vt,PopperProps:St={},slotProps:Bt={},slots:Gt={},title:Dt,TransitionComponent:Mt=Grow,TransitionProps:pt}=at,mt=_objectWithoutPropertiesLoose(at,_excluded$8),$t=reactExports.isValidElement(Ye)?Ye:jsxRuntimeExports.jsx("span",{children:Ye}),kt=useTheme$1(),Ft=useRtl(),[nr,Yt]=reactExports.useState(),[yr,gr]=reactExports.useState(null),br=reactExports.useRef(!1),cr=ke||it,pr=useTimeout(),lt=useTimeout(),ct=useTimeout(),Nt=useTimeout(),[jt,zt]=useControlled({controlled:dt,default:!1,name:"Tooltip",state:"open"});let Ot=jt;const Rt=useId(We),It=reactExports.useRef(),Kt=useEventCallback(()=>{It.current!==void 0&&(document.body.style.WebkitUserSelect=It.current,It.current=void 0),Nt.clear()});reactExports.useEffect(()=>Kt,[Kt]);const tr=ln=>{hystersisTimer.clear(),hystersisOpen=!0,zt(!0),st&&!Ot&&st(ln)},dr=useEventCallback(ln=>{hystersisTimer.start(800+Ve,()=>{hystersisOpen=!1}),zt(!1),Ze&&Ot&&Ze(ln),pr.start(kt.transitions.duration.shortest,()=>{br.current=!1})}),_r=ln=>{br.current&&ln.type!=="touchstart"||(nr&&nr.removeAttribute("title"),lt.clear(),ct.clear(),Je||hystersisOpen&&rt?lt.start(hystersisOpen?rt:Je,()=>{tr(ln)}):tr(ln))},Nr=ln=>{lt.clear(),ct.start(Ve,()=>{dr(ln)})},{isFocusVisibleRef:qr,onBlur:Br,onFocus:Qr,ref:Wr}=useIsFocusVisible(),[,Kr]=reactExports.useState(!1),Yr=ln=>{Br(ln),qr.current===!1&&(Kr(!1),Nr(ln))},Pt=ln=>{nr||Yt(ln.currentTarget),Qr(ln),qr.current===!0&&(Kr(!0),_r(ln))},Wt=ln=>{br.current=!0;const er=$t.props;er.onTouchStart&&er.onTouchStart(ln)},qt=ln=>{Wt(ln),ct.clear(),pr.clear(),Kt(),It.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Nt.start(Xe,()=>{document.body.style.WebkitUserSelect=It.current,_r(ln)})},Tt=ln=>{$t.props.onTouchEnd&&$t.props.onTouchEnd(ln),Kt(),ct.start(je,()=>{dr(ln)})};reactExports.useEffect(()=>{if(!Ot)return;function ln(er){(er.key==="Escape"||er.key==="Esc")&&dr(er)}return document.addEventListener("keydown",ln),()=>{document.removeEventListener("keydown",ln)}},[dr,Ot]);const gt=useForkRef(getReactElementRef($t),Wr,Yt,I);!Dt&&Dt!==0&&(Ot=!1);const Et=reactExports.useRef(),wt=ln=>{const er=$t.props;er.onMouseMove&&er.onMouseMove(ln),cursorPosition={x:ln.clientX,y:ln.clientY},Et.current&&Et.current.update()},Lt={},Zt=typeof Dt=="string";tt?(Lt.title=!Ot&&Zt&&!Fe?Dt:null,Lt["aria-describedby"]=Ot?Rt:null):(Lt["aria-label"]=Zt?Dt:null,Lt["aria-labelledby"]=Ot&&!Zt?Rt:null);const lr=_extends$1({},Lt,mt,$t.props,{className:clsx(mt.className,$t.props.className),onTouchStart:Wt,ref:gt},it?{onMouseMove:wt}:{}),Ht={};Ue||(lr.onTouchStart=qt,lr.onTouchEnd=Tt),Fe||(lr.onMouseOver=composeEventHandler(_r,lr.onMouseOver),lr.onMouseLeave=composeEventHandler(Nr,lr.onMouseLeave),cr||(Ht.onMouseOver=_r,Ht.onMouseLeave=Nr)),ze||(lr.onFocus=composeEventHandler(Pt,lr.onFocus),lr.onBlur=composeEventHandler(Yr,lr.onBlur),cr||(Ht.onFocus=Pt,Ht.onBlur=Yr));const Xt=reactExports.useMemo(()=>{var ln;let er=[{name:"arrow",enabled:!!yr,options:{element:yr,padding:4}}];return(ln=St.popperOptions)!=null&&ln.modifiers&&(er=er.concat(St.popperOptions.modifiers)),_extends$1({},St.popperOptions,{modifiers:er})},[yr,St]),ir=_extends$1({},at,{isRtl:Ft,arrow:ot,disableInteractive:cr,placement:bt,PopperComponentProp:vt,touch:br.current}),ur=useUtilityClasses$6(ir),$r=(N=(L=Gt.popper)!=null?L:nt.Popper)!=null?N:TooltipPopper,xr=(B=(H=(z=Gt.transition)!=null?z:nt.Transition)!=null?H:Mt)!=null?B:Grow,Lr=(Q=(te=Gt.tooltip)!=null?te:nt.Tooltip)!=null?Q:TooltipTooltip,on=(G=(ie=Gt.arrow)!=null?ie:nt.Arrow)!=null?G:TooltipArrow,rn=appendOwnerState($r,_extends$1({},St,(Re=Bt.popper)!=null?Re:Qe.popper,{className:clsx(ur.popper,St==null?void 0:St.className,($e=(Pe=Bt.popper)!=null?Pe:Qe.popper)==null?void 0:$e.className)}),ir),tn=appendOwnerState(xr,_extends$1({},pt,(Me=Bt.transition)!=null?Me:Qe.transition),ir),pn=appendOwnerState(Lr,_extends$1({},(Be=Bt.tooltip)!=null?Be:Qe.tooltip,{className:clsx(ur.tooltip,(Ke=(Le=Bt.tooltip)!=null?Le:Qe.tooltip)==null?void 0:Ke.className)}),ir),yn=appendOwnerState(on,_extends$1({},(qe=Bt.arrow)!=null?qe:Qe.arrow,{className:clsx(ur.arrow,(He=(Ge=Bt.arrow)!=null?Ge:Qe.arrow)==null?void 0:He.className)}),ir);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement($t,lr),jsxRuntimeExports.jsx($r,_extends$1({as:vt??Popper,placement:bt,anchorEl:it?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:nr,popperRef:Et,open:nr?Ot:!1,id:Rt,transition:!0},Ht,rn,{popperOptions:Xt,children:({TransitionProps:ln})=>jsxRuntimeExports.jsx(xr,_extends$1({timeout:kt.transitions.duration.shorter},ln,tn,{children:jsxRuntimeExports.jsxs(Lr,_extends$1({},pn,{children:[Dt,ot?jsxRuntimeExports.jsx(on,_extends$1({},yn,{ref:gr})):null]}))}))}))]})}),StepperContext=reactExports.createContext({}),StepContext=reactExports.createContext({});function getStepUtilityClass(T){return generateUtilityClass("MuiStep",T)}generateUtilityClasses("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const _excluded$7=["active","children","className","component","completed","disabled","expanded","index","last"],useUtilityClasses$5=T=>{const{classes:$,orientation:I,alternativeLabel:N,completed:L}=T;return composeClasses({root:["root",I,N&&"alternativeLabel",L&&"completed"]},getStepUtilityClass,$)},StepRoot=styled("div",{name:"MuiStep",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.orientation],I.alternativeLabel&&$.alternativeLabel,I.completed&&$.completed]}})(({ownerState:T})=>_extends$1({},T.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},T.alternativeLabel&&{flex:1,position:"relative"})),Step=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiStep"}),{active:L,children:B,className:H,component:z="div",completed:Q,disabled:te,expanded:G=!1,index:ie,last:Re}=N,$e=_objectWithoutPropertiesLoose(N,_excluded$7),{activeStep:Pe,connector:Me,alternativeLabel:Be,orientation:Ke,nonLinear:Le}=reactExports.useContext(StepperContext);let[qe=!1,He=!1,Ge=!1]=[L,Q,te];Pe===ie?qe=L!==void 0?L:!0:!Le&&Pe>ie?He=Q!==void 0?Q:!0:!Le&&Pe<ie&&(Ge=te!==void 0?te:!0);const at=reactExports.useMemo(()=>({index:ie,last:Re,expanded:G,icon:ie+1,active:qe,completed:He,disabled:Ge}),[ie,Re,G,qe,He,Ge]),ot=_extends$1({},N,{active:qe,orientation:Ke,alternativeLabel:Be,completed:He,disabled:Ge,expanded:G,component:z}),Ye=useUtilityClasses$5(ot),nt=jsxRuntimeExports.jsxs(StepRoot,_extends$1({as:z,className:clsx(Ye.root,H),ref:I,ownerState:ot},$e,{children:[Me&&Be&&ie!==0?Me:null,B]}));return jsxRuntimeExports.jsx(StepContext.Provider,{value:at,children:Me&&!Be&&ie!==0?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Me,nt]}):nt})}),CheckCircle=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Warning=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function getStepIconUtilityClass(T){return generateUtilityClass("MuiStepIcon",T)}const stepIconClasses=generateUtilityClasses("MuiStepIcon",["root","active","completed","error","text"]);var _circle;const _excluded$6=["active","className","completed","error","icon"],useUtilityClasses$4=T=>{const{classes:$,active:I,completed:N,error:L}=T;return composeClasses({root:["root",I&&"active",N&&"completed",L&&"error"],text:["text"]},getStepIconUtilityClass,$)},StepIconRoot=styled(SvgIcon,{name:"MuiStepIcon",slot:"Root",overridesResolver:(T,$)=>$.root})(({theme:T})=>({display:"block",transition:T.transitions.create("color",{duration:T.transitions.duration.shortest}),color:(T.vars||T).palette.text.disabled,[`&.${stepIconClasses.completed}`]:{color:(T.vars||T).palette.primary.main},[`&.${stepIconClasses.active}`]:{color:(T.vars||T).palette.primary.main},[`&.${stepIconClasses.error}`]:{color:(T.vars||T).palette.error.main}})),StepIconText=styled("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(T,$)=>$.text})(({theme:T})=>({fill:(T.vars||T).palette.primary.contrastText,fontSize:T.typography.caption.fontSize,fontFamily:T.typography.fontFamily})),StepIcon=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiStepIcon"}),{active:L=!1,className:B,completed:H=!1,error:z=!1,icon:Q}=N,te=_objectWithoutPropertiesLoose(N,_excluded$6),G=_extends$1({},N,{active:L,completed:H,error:z}),ie=useUtilityClasses$4(G);if(typeof Q=="number"||typeof Q=="string"){const Re=clsx(B,ie.root);return z?jsxRuntimeExports.jsx(StepIconRoot,_extends$1({as:Warning,className:Re,ref:I,ownerState:G},te)):H?jsxRuntimeExports.jsx(StepIconRoot,_extends$1({as:CheckCircle,className:Re,ref:I,ownerState:G},te)):jsxRuntimeExports.jsxs(StepIconRoot,_extends$1({className:Re,ref:I,ownerState:G},te,{children:[_circle||(_circle=jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"12"})),jsxRuntimeExports.jsx(StepIconText,{className:ie.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:G,children:Q})]}))}return Q});function getStepLabelUtilityClass(T){return generateUtilityClass("MuiStepLabel",T)}const stepLabelClasses=generateUtilityClasses("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),_excluded$5=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],useUtilityClasses$3=T=>{const{classes:$,orientation:I,active:N,completed:L,error:B,disabled:H,alternativeLabel:z}=T;return composeClasses({root:["root",I,B&&"error",H&&"disabled",z&&"alternativeLabel"],label:["label",N&&"active",L&&"completed",B&&"error",H&&"disabled",z&&"alternativeLabel"],iconContainer:["iconContainer",N&&"active",L&&"completed",B&&"error",H&&"disabled",z&&"alternativeLabel"],labelContainer:["labelContainer",z&&"alternativeLabel"]},getStepLabelUtilityClass,$)},StepLabelRoot=styled("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.orientation]]}})(({ownerState:T})=>_extends$1({display:"flex",alignItems:"center",[`&.${stepLabelClasses.alternativeLabel}`]:{flexDirection:"column"},[`&.${stepLabelClasses.disabled}`]:{cursor:"default"}},T.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),StepLabelLabel=styled("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(T,$)=>$.label})(({theme:T})=>_extends$1({},T.typography.body2,{display:"block",transition:T.transitions.create("color",{duration:T.transitions.duration.shortest}),[`&.${stepLabelClasses.active}`]:{color:(T.vars||T).palette.text.primary,fontWeight:500},[`&.${stepLabelClasses.completed}`]:{color:(T.vars||T).palette.text.primary,fontWeight:500},[`&.${stepLabelClasses.alternativeLabel}`]:{marginTop:16},[`&.${stepLabelClasses.error}`]:{color:(T.vars||T).palette.error.main}})),StepLabelIconContainer=styled("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(T,$)=>$.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${stepLabelClasses.alternativeLabel}`]:{paddingRight:0}})),StepLabelLabelContainer=styled("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(T,$)=>$.labelContainer})(({theme:T})=>({width:"100%",color:(T.vars||T).palette.text.secondary,[`&.${stepLabelClasses.alternativeLabel}`]:{textAlign:"center"}})),StepLabel=reactExports.forwardRef(function($,I){var N;const L=useDefaultProps({props:$,name:"MuiStepLabel"}),{children:B,className:H,componentsProps:z={},error:Q=!1,icon:te,optional:G,slotProps:ie={},StepIconComponent:Re,StepIconProps:$e}=L,Pe=_objectWithoutPropertiesLoose(L,_excluded$5),{alternativeLabel:Me,orientation:Be}=reactExports.useContext(StepperContext),{active:Ke,disabled:Le,completed:qe,icon:He}=reactExports.useContext(StepContext),Ge=te||He;let at=Re;Ge&&!at&&(at=StepIcon);const ot=_extends$1({},L,{active:Ke,alternativeLabel:Me,completed:qe,disabled:Le,error:Q,orientation:Be}),Ye=useUtilityClasses$3(ot),nt=(N=ie.label)!=null?N:z.label;return jsxRuntimeExports.jsxs(StepLabelRoot,_extends$1({className:clsx(Ye.root,H),ref:I,ownerState:ot},Pe,{children:[Ge||at?jsxRuntimeExports.jsx(StepLabelIconContainer,{className:Ye.iconContainer,ownerState:ot,children:jsxRuntimeExports.jsx(at,_extends$1({completed:qe,active:Ke,error:Q,icon:Ge},$e))}):null,jsxRuntimeExports.jsxs(StepLabelLabelContainer,{className:Ye.labelContainer,ownerState:ot,children:[B?jsxRuntimeExports.jsx(StepLabelLabel,_extends$1({ownerState:ot},nt,{className:clsx(Ye.label,nt==null?void 0:nt.className),children:B})):null,G]})]}))});StepLabel.muiName="StepLabel";function getStepConnectorUtilityClass(T){return generateUtilityClass("MuiStepConnector",T)}generateUtilityClasses("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const _excluded$4=["className"],useUtilityClasses$2=T=>{const{classes:$,orientation:I,alternativeLabel:N,active:L,completed:B,disabled:H}=T,z={root:["root",I,N&&"alternativeLabel",L&&"active",B&&"completed",H&&"disabled"],line:["line",`line${capitalize(I)}`]};return composeClasses(z,getStepConnectorUtilityClass,$)},StepConnectorRoot=styled("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.orientation],I.alternativeLabel&&$.alternativeLabel,I.completed&&$.completed]}})(({ownerState:T})=>_extends$1({flex:"1 1 auto"},T.orientation==="vertical"&&{marginLeft:12},T.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),StepConnectorLine=styled("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.line,$[`line${capitalize(I.orientation)}`]]}})(({ownerState:T,theme:$})=>{const I=$.palette.mode==="light"?$.palette.grey[400]:$.palette.grey[600];return _extends$1({display:"block",borderColor:$.vars?$.vars.palette.StepConnector.border:I},T.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},T.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),StepConnector=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiStepConnector"}),{className:L}=N,B=_objectWithoutPropertiesLoose(N,_excluded$4),{alternativeLabel:H,orientation:z="horizontal"}=reactExports.useContext(StepperContext),{active:Q,disabled:te,completed:G}=reactExports.useContext(StepContext),ie=_extends$1({},N,{alternativeLabel:H,orientation:z,active:Q,completed:G,disabled:te}),Re=useUtilityClasses$2(ie);return jsxRuntimeExports.jsx(StepConnectorRoot,_extends$1({className:clsx(Re.root,L),ref:I,ownerState:ie},B,{children:jsxRuntimeExports.jsx(StepConnectorLine,{className:Re.line,ownerState:ie})}))});function getStepperUtilityClass(T){return generateUtilityClass("MuiStepper",T)}generateUtilityClasses("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const _excluded$3=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],useUtilityClasses$1=T=>{const{orientation:$,nonLinear:I,alternativeLabel:N,classes:L}=T;return composeClasses({root:["root",$,I&&"nonLinear",N&&"alternativeLabel"]},getStepperUtilityClass,L)},StepperRoot=styled("div",{name:"MuiStepper",slot:"Root",overridesResolver:(T,$)=>{const{ownerState:I}=T;return[$.root,$[I.orientation],I.alternativeLabel&&$.alternativeLabel,I.nonLinear&&$.nonLinear]}})(({ownerState:T})=>_extends$1({display:"flex"},T.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},T.orientation==="vertical"&&{flexDirection:"column"},T.alternativeLabel&&{alignItems:"flex-start"})),defaultConnector=jsxRuntimeExports.jsx(StepConnector,{}),Stepper=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiStepper"}),{activeStep:L=0,alternativeLabel:B=!1,children:H,className:z,component:Q="div",connector:te=defaultConnector,nonLinear:G=!1,orientation:ie="horizontal"}=N,Re=_objectWithoutPropertiesLoose(N,_excluded$3),$e=_extends$1({},N,{nonLinear:G,alternativeLabel:B,orientation:ie,component:Q}),Pe=useUtilityClasses$1($e),Me=reactExports.Children.toArray(H).filter(Boolean),Be=Me.map((Le,qe)=>reactExports.cloneElement(Le,_extends$1({index:qe,last:qe+1===Me.length},Le.props))),Ke=reactExports.useMemo(()=>({activeStep:L,alternativeLabel:B,connector:te,nonLinear:G,orientation:ie}),[L,B,te,G,ie]);return jsxRuntimeExports.jsx(StepperContext.Provider,{value:Ke,children:jsxRuntimeExports.jsx(StepperRoot,_extends$1({as:Q,ownerState:$e,className:clsx(Pe.root,z),ref:I},Re,{children:Be}))})}),_excluded$2=["anchor","classes","className","width","style"],SwipeAreaRoot=styled("div",{shouldForwardProp:rootShouldForwardProp})(({theme:T,ownerState:$})=>_extends$1({position:"fixed",top:0,left:0,bottom:0,zIndex:T.zIndex.drawer-1},$.anchor==="left"&&{right:"auto"},$.anchor==="right"&&{left:"auto",right:0},$.anchor==="top"&&{bottom:"auto",right:0},$.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),SwipeArea=reactExports.forwardRef(function($,I){const{anchor:N,classes:L={},className:B,width:H,style:z}=$,Q=_objectWithoutPropertiesLoose($,_excluded$2),te=$;return jsxRuntimeExports.jsx(SwipeAreaRoot,_extends$1({className:clsx("PrivateSwipeArea-root",L.root,L[`anchor${capitalize(N)}`],B),ref:I,style:_extends$1({[isHorizontal(N)?"width":"height"]:H},z),ownerState:te},Q))}),_excluded$1=["BackdropProps"],_excluded2=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],UNCERTAINTY_THRESHOLD=3,DRAG_STARTED_SIGNAL=20;let claimedSwipeInstance=null;function calculateCurrentX(T,$,I){return T==="right"?I.body.offsetWidth-$[0].pageX:$[0].pageX}function calculateCurrentY(T,$,I){return T==="bottom"?I.innerHeight-$[0].clientY:$[0].clientY}function getMaxTranslate(T,$){return T?$.clientWidth:$.clientHeight}function getTranslate(T,$,I,N){return Math.min(Math.max(I?$-T:N+$-T,0),N)}function getDomTreeShapes(T,$){const I=[];for(;T&&T!==$.parentElement;){const N=ownerWindow($).getComputedStyle(T);N.getPropertyValue("position")==="absolute"||N.getPropertyValue("overflow-x")==="hidden"||(T.clientWidth>0&&T.scrollWidth>T.clientWidth||T.clientHeight>0&&T.scrollHeight>T.clientHeight)&&I.push(T),T=T.parentElement}return I}function computeHasNativeHandler({domTreeShapes:T,start:$,current:I,anchor:N}){const L={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return T.some(B=>{let H=I>=$;(N==="top"||N==="left")&&(H=!H);const z=N==="left"||N==="right"?"x":"y",Q=Math.round(B[L.scrollPosition[z]]),te=Q>0,G=Q+B[L.clientLength[z]]<B[L.scrollLength[z]];return!!(H&&G||!H&&te)})}const iOS=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),SwipeableDrawer=reactExports.forwardRef(function($,I){const N=useDefaultProps({name:"MuiSwipeableDrawer",props:$}),L=useTheme$1(),B={enter:L.transitions.duration.enteringScreen,exit:L.transitions.duration.leavingScreen},{anchor:H="left",disableBackdropTransition:z=!1,disableDiscovery:Q=!1,disableSwipeToOpen:te=iOS,hideBackdrop:G,hysteresis:ie=.52,allowSwipeInChildren:Re=!1,minFlingVelocity:$e=450,ModalProps:{BackdropProps:Pe}={},onClose:Me,onOpen:Be,open:Ke=!1,PaperProps:Le={},SwipeAreaProps:qe,swipeAreaWidth:He=20,transitionDuration:Ge=B,variant:at="temporary"}=N,ot=_objectWithoutPropertiesLoose(N.ModalProps,_excluded$1),Ye=_objectWithoutPropertiesLoose(N,_excluded2),[nt,Qe]=reactExports.useState(!1),tt=reactExports.useRef({isSwiping:null}),ze=reactExports.useRef(),Fe=reactExports.useRef(),ke=reactExports.useRef(),Ue=useForkRef(Le.ref,ke),Je=reactExports.useRef(!1),rt=reactExports.useRef();useEnhancedEffect(()=>{rt.current=null},[Ke]);const Xe=reactExports.useCallback((Ze,st={})=>{const{mode:dt=null,changeTransition:bt=!0}=st,vt=getAnchor(L,H),St=["right","bottom"].indexOf(vt)!==-1?1:-1,Bt=isHorizontal(H),Gt=Bt?`translate(${St*Ze}px, 0)`:`translate(0, ${St*Ze}px)`,Dt=ke.current.style;Dt.webkitTransform=Gt,Dt.transform=Gt;let Mt="";if(dt&&(Mt=L.transitions.create("all",getTransitionProps({easing:void 0,style:void 0,timeout:Ge},{mode:dt}))),bt&&(Dt.webkitTransition=Mt,Dt.transition=Mt),!z&&!G){const pt=Fe.current.style;pt.opacity=1-Ze/getMaxTranslate(Bt,ke.current),bt&&(pt.webkitTransition=Mt,pt.transition=Mt)}},[H,z,G,L,Ge]),it=useEventCallback(Ze=>{if(!Je.current)return;if(claimedSwipeInstance=null,Je.current=!1,reactDomExports.flushSync(()=>{Qe(!1)}),!tt.current.isSwiping){tt.current.isSwiping=null;return}tt.current.isSwiping=null;const st=getAnchor(L,H),dt=isHorizontal(H);let bt;dt?bt=calculateCurrentX(st,Ze.changedTouches,ownerDocument(Ze.currentTarget)):bt=calculateCurrentY(st,Ze.changedTouches,ownerWindow(Ze.currentTarget));const vt=dt?tt.current.startX:tt.current.startY,St=getMaxTranslate(dt,ke.current),Bt=getTranslate(bt,vt,Ke,St),Gt=Bt/St;if(Math.abs(tt.current.velocity)>$e&&(rt.current=Math.abs((St-Bt)/tt.current.velocity)*1e3),Ke){tt.current.velocity>$e||Gt>ie?Me():Xe(0,{mode:"exit"});return}tt.current.velocity<-$e||1-Gt>ie?Be():Xe(getMaxTranslate(dt,ke.current),{mode:"enter"})}),We=(Ze=!1)=>{if(!nt){(Ze||!(Q&&Re))&&reactDomExports.flushSync(()=>{Qe(!0)});const st=isHorizontal(H);!Ke&&ke.current&&Xe(getMaxTranslate(st,ke.current)+(Q?15:-20),{changeTransition:!1}),tt.current.velocity=0,tt.current.lastTime=null,tt.current.lastTranslate=null,tt.current.paperHit=!1,Je.current=!0}},Ve=useEventCallback(Ze=>{if(!ke.current||!Je.current||claimedSwipeInstance!==null&&claimedSwipeInstance!==tt.current)return;We(!0);const st=getAnchor(L,H),dt=isHorizontal(H),bt=calculateCurrentX(st,Ze.touches,ownerDocument(Ze.currentTarget)),vt=calculateCurrentY(st,Ze.touches,ownerWindow(Ze.currentTarget));if(Ke&&ke.current.contains(Ze.target)&&claimedSwipeInstance===null){const Mt=getDomTreeShapes(Ze.target,ke.current);if(computeHasNativeHandler({domTreeShapes:Mt,start:dt?tt.current.startX:tt.current.startY,current:dt?bt:vt,anchor:H})){claimedSwipeInstance=!0;return}claimedSwipeInstance=tt.current}if(tt.current.isSwiping==null){const Mt=Math.abs(bt-tt.current.startX),pt=Math.abs(vt-tt.current.startY),mt=dt?Mt>pt&&Mt>UNCERTAINTY_THRESHOLD:pt>Mt&&pt>UNCERTAINTY_THRESHOLD;if(mt&&Ze.cancelable&&Ze.preventDefault(),mt===!0||(dt?pt>UNCERTAINTY_THRESHOLD:Mt>UNCERTAINTY_THRESHOLD)){if(tt.current.isSwiping=mt,!mt){it(Ze);return}tt.current.startX=bt,tt.current.startY=vt,!Q&&!Ke&&(dt?tt.current.startX-=DRAG_STARTED_SIGNAL:tt.current.startY-=DRAG_STARTED_SIGNAL)}}if(!tt.current.isSwiping)return;const St=getMaxTranslate(dt,ke.current);let Bt=dt?tt.current.startX:tt.current.startY;Ke&&!tt.current.paperHit&&(Bt=Math.min(Bt,St));const Gt=getTranslate(dt?bt:vt,Bt,Ke,St);if(Ke)if(tt.current.paperHit)Gt===0&&(tt.current.startX=bt,tt.current.startY=vt);else if(dt?bt<St:vt<St)tt.current.paperHit=!0,tt.current.startX=bt,tt.current.startY=vt;else return;tt.current.lastTranslate===null&&(tt.current.lastTranslate=Gt,tt.current.lastTime=performance.now()+1);const Dt=(Gt-tt.current.lastTranslate)/(performance.now()-tt.current.lastTime)*1e3;tt.current.velocity=tt.current.velocity*.4+Dt*.6,tt.current.lastTranslate=Gt,tt.current.lastTime=performance.now(),Ze.cancelable&&Ze.preventDefault(),Xe(Gt)}),je=useEventCallback(Ze=>{if(Ze.defaultPrevented||Ze.defaultMuiPrevented||Ke&&(G||!Fe.current.contains(Ze.target))&&!ke.current.contains(Ze.target))return;const st=getAnchor(L,H),dt=isHorizontal(H),bt=calculateCurrentX(st,Ze.touches,ownerDocument(Ze.currentTarget)),vt=calculateCurrentY(st,Ze.touches,ownerWindow(Ze.currentTarget));if(!Ke){var St;if(te||!(Ze.target===ze.current||(St=ke.current)!=null&&St.contains(Ze.target)&&(typeof Re=="function"?Re(Ze,ze.current,ke.current):Re)))return;if(dt){if(bt>He)return}else if(vt>He)return}Ze.defaultMuiPrevented=!0,claimedSwipeInstance=null,tt.current.startX=bt,tt.current.startY=vt,We()});return reactExports.useEffect(()=>{if(at==="temporary"){const Ze=ownerDocument(ke.current);return Ze.addEventListener("touchstart",je),Ze.addEventListener("touchmove",Ve,{passive:!Ke}),Ze.addEventListener("touchend",it),()=>{Ze.removeEventListener("touchstart",je),Ze.removeEventListener("touchmove",Ve,{passive:!Ke}),Ze.removeEventListener("touchend",it)}}},[at,Ke,je,Ve,it]),reactExports.useEffect(()=>()=>{claimedSwipeInstance===tt.current&&(claimedSwipeInstance=null)},[]),reactExports.useEffect(()=>{Ke||Qe(!1)},[Ke]),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Drawer,_extends$1({open:at==="temporary"&&nt?!0:Ke,variant:at,ModalProps:_extends$1({BackdropProps:_extends$1({},Pe,{ref:Fe})},at==="temporary"&&{keepMounted:!0},ot),hideBackdrop:G,PaperProps:_extends$1({},Le,{style:_extends$1({pointerEvents:at==="temporary"&&!Ke&&!Re?"none":""},Le.style),ref:Ue}),anchor:H,transitionDuration:rt.current||Ge,onClose:Me,ref:I},Ye)),!te&&at==="temporary"&&jsxRuntimeExports.jsx(NoSsr,{children:jsxRuntimeExports.jsx(SwipeArea,_extends$1({anchor:H,ref:ze,width:He},qe))})]})});function getTextFieldUtilityClass(T){return generateUtilityClass("MuiTextField",T)}generateUtilityClasses("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input,filled:FilledInput,outlined:OutlinedInput},useUtilityClasses=T=>{const{classes:$}=T;return composeClasses({root:["root"]},getTextFieldUtilityClass,$)},TextFieldRoot=styled(FormControl,{name:"MuiTextField",slot:"Root",overridesResolver:(T,$)=>$.root})({}),TextField=reactExports.forwardRef(function($,I){const N=useDefaultProps({props:$,name:"MuiTextField"}),{autoComplete:L,autoFocus:B=!1,children:H,className:z,color:Q="primary",defaultValue:te,disabled:G=!1,error:ie=!1,FormHelperTextProps:Re,fullWidth:$e=!1,helperText:Pe,id:Me,InputLabelProps:Be,inputProps:Ke,InputProps:Le,inputRef:qe,label:He,maxRows:Ge,minRows:at,multiline:ot=!1,name:Ye,onBlur:nt,onChange:Qe,onFocus:tt,placeholder:ze,required:Fe=!1,rows:ke,select:Ue=!1,SelectProps:Je,type:rt,value:Xe,variant:it="outlined"}=N,We=_objectWithoutPropertiesLoose(N,_excluded),Ve=_extends$1({},N,{autoFocus:B,color:Q,disabled:G,error:ie,fullWidth:$e,multiline:ot,required:Fe,select:Ue,variant:it}),je=useUtilityClasses(Ve),Ze={};it==="outlined"&&(Be&&typeof Be.shrink<"u"&&(Ze.notched=Be.shrink),Ze.label=He),Ue&&((!Je||!Je.native)&&(Ze.id=void 0),Ze["aria-describedby"]=void 0);const st=useId(Me),dt=Pe&&st?`${st}-helper-text`:void 0,bt=He&&st?`${st}-label`:void 0,vt=variantComponent[it],St=jsxRuntimeExports.jsx(vt,_extends$1({"aria-describedby":dt,autoComplete:L,autoFocus:B,defaultValue:te,fullWidth:$e,multiline:ot,name:Ye,rows:ke,maxRows:Ge,minRows:at,type:rt,value:Xe,id:st,inputRef:qe,onBlur:nt,onChange:Qe,onFocus:tt,placeholder:ze,inputProps:Ke},Ze,Le));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends$1({className:clsx(je.root,z),disabled:G,error:ie,fullWidth:$e,ref:I,required:Fe,color:Q,variant:it,ownerState:Ve},We,{children:[He!=null&&He!==""&&jsxRuntimeExports.jsx(InputLabel,_extends$1({htmlFor:st,id:bt},Be,{children:He})),Ue?jsxRuntimeExports.jsx(Select,_extends$1({"aria-describedby":dt,id:st,labelId:bt,value:Xe,input:St},Je,{children:H})):St,Pe&&jsxRuntimeExports.jsx(FormHelperText,_extends$1({id:dt},Re,{children:Pe}))]}))});var Home={},createSvgIcon={},hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(T){"use client";Object.defineProperty(T,"__esModule",{value:!0}),Object.defineProperty(T,"default",{enumerable:!0,get:function(){return $.createSvgIcon}});var $=utils$Q}(createSvgIcon)),createSvgIcon}var _interopRequireDefault$c=interopRequireDefault$1;Object.defineProperty(Home,"__esModule",{value:!0});var default_1$c=Home.default=void 0,_createSvgIcon$c=_interopRequireDefault$c(requireCreateSvgIcon()),_jsxRuntime$c=jsxRuntime$1;default_1$c=Home.default=(0,_createSvgIcon$c.default)((0,_jsxRuntime$c.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var ReceiptLong={},_interopRequireDefault$b=interopRequireDefault$1;Object.defineProperty(ReceiptLong,"__esModule",{value:!0});var default_1$b=ReceiptLong.default=void 0,_createSvgIcon$b=_interopRequireDefault$b(requireCreateSvgIcon()),_jsxRuntime$b=jsxRuntime$1;default_1$b=ReceiptLong.default=(0,_createSvgIcon$b.default)([(0,_jsxRuntime$b.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,_jsxRuntime$b.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong");var AccountBalanceWallet={},_interopRequireDefault$a=interopRequireDefault$1;Object.defineProperty(AccountBalanceWallet,"__esModule",{value:!0});var default_1$a=AccountBalanceWallet.default=void 0,_createSvgIcon$a=_interopRequireDefault$a(requireCreateSvgIcon()),_jsxRuntime$a=jsxRuntime$1;default_1$a=AccountBalanceWallet.default=(0,_createSvgIcon$a.default)((0,_jsxRuntime$a.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var Explore={},_interopRequireDefault$9=interopRequireDefault$1;Object.defineProperty(Explore,"__esModule",{value:!0});var default_1$9=Explore.default=void 0,_createSvgIcon$9=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$9=jsxRuntime$1;default_1$9=Explore.default=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var SwapHoriz={},_interopRequireDefault$8=interopRequireDefault$1;Object.defineProperty(SwapHoriz,"__esModule",{value:!0});var default_1$8=SwapHoriz.default=void 0,_createSvgIcon$8=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$8=jsxRuntime$1;default_1$8=SwapHoriz.default=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");const StyledBottomNavigation=styled(BottomNavigation)(({theme:T})=>({backgroundColor:T.palette.background.paper,borderTop:`1px solid ${T.palette.divider}`,maxWidth:"600px",margin:"0 auto",position:"relative"})),StyledBottomNavigationAction=styled(BottomNavigationAction)(({theme:T})=>({color:T.palette.text.secondary,"&.Mui-selected":{color:T.palette.primary.main}})),CenterButton=styled(Fab)(({theme:T})=>({position:"absolute",top:"-28px",left:"50%",transform:"translateX(-50%)",zIndex:1,backgroundColor:T.palette.common.black,color:T.palette.common.white,"&:hover":{backgroundColor:T.palette.grey[900]}})),NavBar=()=>{const[T,$]=reactExports.useState("home"),[I,N]=reactExports.useState(!1),L=useNavigate(),[B,H]=reactExports.useState(!1),z=(ie,Re)=>{$(Re)},Q=()=>{N(!1)},te=ie=>{L(ie)},G=ie=>{H(!1),L(ie)};return jsxRuntimeExports.jsx(ClickAwayListener,{onClickAway:Q,children:jsxRuntimeExports.jsxs(Paper,{sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:"1000"},elevation:3,children:[jsxRuntimeExports.jsxs(StyledBottomNavigation,{value:T,onChange:z,children:[jsxRuntimeExports.jsx(StyledBottomNavigationAction,{label:"Home",value:"home",icon:jsxRuntimeExports.jsx(default_1$c,{}),onClick:()=>te("/dashboard")}),jsxRuntimeExports.jsx(StyledBottomNavigationAction,{label:"Transactions",value:"transactions history",icon:jsxRuntimeExports.jsx(default_1$b,{}),onClick:()=>te("/txhistory")}),jsxRuntimeExports.jsx(StyledBottomNavigationAction,{label:"Portfolio",value:"portfolio",icon:jsxRuntimeExports.jsx(default_1$a,{}),onClick:()=>te("/portfolio")}),jsxRuntimeExports.jsx(StyledBottomNavigationAction,{label:"Explore",value:"explore",icon:jsxRuntimeExports.jsx(default_1$9,{}),onClick:()=>te("/explore")}),jsxRuntimeExports.jsx(CenterButton,{onClick:()=>H(!0),children:jsxRuntimeExports.jsx(default_1$8,{})})]}),jsxRuntimeExports.jsx(SwipeableDrawer,{anchor:"bottom",open:B,onClose:()=>H(!1),onOpen:()=>H(!0),children:jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"body1",gutterBottom:!0,children:"Quick Actions"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,children:jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"outlined",onClick:()=>G("/receiver"),children:"Receive"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,children:jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"outlined",onClick:()=>G("/xender"),children:"Send"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,children:jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"outlined",onClick:()=>G("/converter"),children:"Convert"})})]})]})})]})})};var Search={},_interopRequireDefault$7=interopRequireDefault$1;Object.defineProperty(Search,"__esModule",{value:!0});var default_1$7=Search.default=void 0,_createSvgIcon$7=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$7=jsxRuntime$1;default_1$7=Search.default=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var Send={},_interopRequireDefault$6=interopRequireDefault$1;Object.defineProperty(Send,"__esModule",{value:!0});var default_1$6=Send.default=void 0,_createSvgIcon$6=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$6=jsxRuntime$1;default_1$6=Send.default=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var Star={},_interopRequireDefault$5=interopRequireDefault$1;Object.defineProperty(Star,"__esModule",{value:!0});var default_1$5=Star.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$5=jsxRuntime$1;default_1$5=Star.default=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");var ArrowRightAlt={},_interopRequireDefault$4=interopRequireDefault$1;Object.defineProperty(ArrowRightAlt,"__esModule",{value:!0});var default_1$4=ArrowRightAlt.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$4=jsxRuntime$1;default_1$4=ArrowRightAlt.default=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");function getDefaultExportFromCjs(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var browser$n={exports:{}},process$k=browser$n.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(T){if(cachedSetTimeout===setTimeout)return setTimeout(T,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(T,0);try{return cachedSetTimeout(T,0)}catch{try{return cachedSetTimeout.call(null,T,0)}catch{return cachedSetTimeout.call(this,T,0)}}}function runClearTimeout(T){if(cachedClearTimeout===clearTimeout)return clearTimeout(T);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(T);try{return cachedClearTimeout(T)}catch{try{return cachedClearTimeout.call(null,T)}catch{return cachedClearTimeout.call(this,T)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var T=runTimeout(cleanUpNextTick);draining=!0;for(var $=queue.length;$;){for(currentQueue=queue,queue=[];++queueIndex<$;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,$=queue.length}currentQueue=null,draining=!1,runClearTimeout(T)}}process$k.nextTick=function(T){var $=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)$[I-1]=arguments[I];queue.push(new Item(T,$)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(T,$){this.fun=T,this.array=$}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$k.title="browser";process$k.browser=!0;process$k.env={};process$k.argv=[];process$k.version="";process$k.versions={};function noop$6(){}process$k.on=noop$6;process$k.addListener=noop$6;process$k.once=noop$6;process$k.off=noop$6;process$k.removeListener=noop$6;process$k.removeAllListeners=noop$6;process$k.emit=noop$6;process$k.prependListener=noop$6;process$k.prependOnceListener=noop$6;process$k.listeners=function(T){return[]};process$k.binding=function(T){throw new Error("process.binding is not supported")};process$k.cwd=function(){return"/"};process$k.chdir=function(T){throw new Error("process.chdir is not supported")};process$k.umask=function(){return 0};var browserExports=browser$n.exports;const process$1$1=getDefaultExportFromCjs(browserExports);function bind$4(T,$){return function(){return T.apply($,arguments)}}const{toString:toString$5}=Object.prototype,{getPrototypeOf}=Object,{iterator:iterator$2,toStringTag:toStringTag$1}=Symbol,kindOf=(T=>$=>{const I=toString$5.call($);return T[I]||(T[I]=I.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=T=>(T=T.toLowerCase(),$=>kindOf($)===T),typeOfTest=T=>$=>typeof $===T,{isArray:isArray$3}=Array,isUndefined=typeOfTest("undefined");function isBuffer(T){return T!==null&&!isUndefined(T)&&T.constructor!==null&&!isUndefined(T.constructor)&&isFunction$1(T.constructor.isBuffer)&&T.constructor.isBuffer(T)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView$5(T){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(T):$=T&&T.buffer&&isArrayBuffer(T.buffer),$}const isString$1=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$a=T=>T!==null&&typeof T=="object",isBoolean$1=T=>T===!0||T===!1,isPlainObject=T=>{if(kindOf(T)!=="object")return!1;const $=getPrototypeOf(T);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(toStringTag$1 in T)&&!(iterator$2 in T)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=T=>isObject$a(T)&&isFunction$1(T.pipe),isFormData=T=>{let $;return T&&(typeof FormData=="function"&&T instanceof FormData||isFunction$1(T.append)&&(($=kindOf(T))==="formdata"||$==="object"&&isFunction$1(T.toString)&&T.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream$k,isRequest$c,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=T=>T.trim?T.trim():T.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$a(T,$,{allOwnKeys:I=!1}={}){if(T===null||typeof T>"u")return;let N,L;if(typeof T!="object"&&(T=[T]),isArray$3(T))for(N=0,L=T.length;N<L;N++)$.call(null,T[N],N,T);else{const B=I?Object.getOwnPropertyNames(T):Object.keys(T),H=B.length;let z;for(N=0;N<H;N++)z=B[N],$.call(null,T[z],z,T)}}function findKey(T,$){$=$.toLowerCase();const I=Object.keys(T);let N=I.length,L;for(;N-- >0;)if(L=I[N],$===L.toLowerCase())return L;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,isContextDefined=T=>!isUndefined(T)&&T!==_global;function merge(){const{caseless:T}=isContextDefined(this)&&this||{},$={},I=(N,L)=>{const B=T&&findKey($,L)||L;isPlainObject($[B])&&isPlainObject(N)?$[B]=merge($[B],N):isPlainObject(N)?$[B]=merge({},N):isArray$3(N)?$[B]=N.slice():$[B]=N};for(let N=0,L=arguments.length;N<L;N++)arguments[N]&&forEach$a(arguments[N],I);return $}const extend=(T,$,I,{allOwnKeys:N}={})=>(forEach$a($,(L,B)=>{I&&isFunction$1(L)?T[B]=bind$4(L,I):T[B]=L},{allOwnKeys:N}),T),stripBOM=T=>(T.charCodeAt(0)===65279&&(T=T.slice(1)),T),inherits$h=(T,$,I,N)=>{T.prototype=Object.create($.prototype,N),T.prototype.constructor=T,Object.defineProperty(T,"super",{value:$.prototype}),I&&Object.assign(T.prototype,I)},toFlatObject=(T,$,I,N)=>{let L,B,H;const z={};if($=$||{},T==null)return $;do{for(L=Object.getOwnPropertyNames(T),B=L.length;B-- >0;)H=L[B],(!N||N(H,T,$))&&!z[H]&&($[H]=T[H],z[H]=!0);T=I!==!1&&getPrototypeOf(T)}while(T&&(!I||I(T,$))&&T!==Object.prototype);return $},endsWith$1=(T,$,I)=>{T=String(T),(I===void 0||I>T.length)&&(I=T.length),I-=$.length;const N=T.indexOf($,I);return N!==-1&&N===I},toArray$6=T=>{if(!T)return null;if(isArray$3(T))return T;let $=T.length;if(!isNumber$1($))return null;const I=new Array($);for(;$-- >0;)I[$]=T[$];return I},isTypedArray$2=(T=>$=>T&&$ instanceof T)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(T,$)=>{const N=(T&&T[iterator$2]).call(T);let L;for(;(L=N.next())&&!L.done;){const B=L.value;$.call(T,B[0],B[1])}},matchAll=(T,$)=>{let I;const N=[];for(;(I=T.exec($))!==null;)N.push(I);return N},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=T=>T.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(I,N,L){return N.toUpperCase()+L}),hasOwnProperty$2=(({hasOwnProperty:T})=>($,I)=>T.call($,I))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(T,$)=>{const I=Object.getOwnPropertyDescriptors(T),N={};forEach$a(I,(L,B)=>{let H;(H=$(L,B,T))!==!1&&(N[B]=H||L)}),Object.defineProperties(T,N)},freezeMethods=T=>{reduceDescriptors(T,($,I)=>{if(isFunction$1(T)&&["arguments","caller","callee"].indexOf(I)!==-1)return!1;const N=T[I];if(isFunction$1(N)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+I+"'")})}})},toObjectSet=(T,$)=>{const I={},N=L=>{L.forEach(B=>{I[B]=!0})};return isArray$3(T)?N(T):N(String(T).split($)),I},noop$5=()=>{},toFiniteNumber=(T,$)=>T!=null&&Number.isFinite(T=+T)?T:$;function isSpecCompliantForm(T){return!!(T&&isFunction$1(T.append)&&T[toStringTag$1]==="FormData"&&T[iterator$2])}const toJSONObject=T=>{const $=new Array(10),I=(N,L)=>{if(isObject$a(N)){if($.indexOf(N)>=0)return;if(!("toJSON"in N)){$[L]=N;const B=isArray$3(N)?[]:{};return forEach$a(N,(H,z)=>{const Q=I(H,L+1);!isUndefined(Q)&&(B[z]=Q)}),$[L]=void 0,B}}return N};return I(T,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=T=>T&&(isObject$a(T)||isFunction$1(T))&&isFunction$1(T.then)&&isFunction$1(T.catch),_setImmediate=((T,$)=>T?setImmediate:$?((I,N)=>(_global.addEventListener("message",({source:L,data:B})=>{L===_global&&B===I&&N.length&&N.shift()()},!1),L=>{N.push(L),_global.postMessage(I,"*")}))(`axios@${Math.random()}`,[]):I=>setTimeout(I))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process$1$1<"u"&&process$1$1.nextTick||_setImmediate,isIterable$a=T=>T!=null&&isFunction$1(T[iterator$2]),utils$P={isArray:isArray$3,isArrayBuffer,isBuffer,isFormData,isArrayBufferView:isArrayBufferView$5,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$a,isPlainObject,isReadableStream:isReadableStream$k,isRequest:isRequest$c,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$2,isFileList,forEach:forEach$a,merge,extend,trim,stripBOM,inherits:inherits$h,toFlatObject,kindOf,kindOfTest,endsWith:endsWith$1,toArray:toArray$6,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$5,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable:isIterable$a};var buffer$2={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code$e.length;i$2<len;++i$2)lookup$2[i$2]=code$e[i$2],revLookup[code$e.charCodeAt(i$2)]=i$2;revLookup[45]=62;revLookup[95]=63;function getLens(T){var $=T.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=T.indexOf("=");I===-1&&(I=$);var N=I===$?0:4-I%4;return[I,N]}function byteLength(T){var $=getLens(T),I=$[0],N=$[1];return(I+N)*3/4-N}function _byteLength(T,$,I){return($+I)*3/4-I}function toByteArray(T){var $,I=getLens(T),N=I[0],L=I[1],B=new Arr(_byteLength(T,N,L)),H=0,z=L>0?N-4:N,Q;for(Q=0;Q<z;Q+=4)$=revLookup[T.charCodeAt(Q)]<<18|revLookup[T.charCodeAt(Q+1)]<<12|revLookup[T.charCodeAt(Q+2)]<<6|revLookup[T.charCodeAt(Q+3)],B[H++]=$>>16&255,B[H++]=$>>8&255,B[H++]=$&255;return L===2&&($=revLookup[T.charCodeAt(Q)]<<2|revLookup[T.charCodeAt(Q+1)]>>4,B[H++]=$&255),L===1&&($=revLookup[T.charCodeAt(Q)]<<10|revLookup[T.charCodeAt(Q+1)]<<4|revLookup[T.charCodeAt(Q+2)]>>2,B[H++]=$>>8&255,B[H++]=$&255),B}function tripletToBase64(T){return lookup$2[T>>18&63]+lookup$2[T>>12&63]+lookup$2[T>>6&63]+lookup$2[T&63]}function encodeChunk(T,$,I){for(var N,L=[],B=$;B<I;B+=3)N=(T[B]<<16&16711680)+(T[B+1]<<8&65280)+(T[B+2]&255),L.push(tripletToBase64(N));return L.join("")}function fromByteArray(T){for(var $,I=T.length,N=I%3,L=[],B=16383,H=0,z=I-N;H<z;H+=B)L.push(encodeChunk(T,H,H+B>z?z:H+B));return N===1?($=T[I-1],L.push(lookup$2[$>>2]+lookup$2[$<<4&63]+"==")):N===2&&($=(T[I-2]<<8)+T[I-1],L.push(lookup$2[$>>10]+lookup$2[$>>4&63]+lookup$2[$<<2&63]+"=")),L.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(T,$,I,N,L){var B,H,z=L*8-N-1,Q=(1<<z)-1,te=Q>>1,G=-7,ie=I?L-1:0,Re=I?-1:1,$e=T[$+ie];for(ie+=Re,B=$e&(1<<-G)-1,$e>>=-G,G+=z;G>0;B=B*256+T[$+ie],ie+=Re,G-=8);for(H=B&(1<<-G)-1,B>>=-G,G+=N;G>0;H=H*256+T[$+ie],ie+=Re,G-=8);if(B===0)B=1-te;else{if(B===Q)return H?NaN:($e?-1:1)*(1/0);H=H+Math.pow(2,N),B=B-te}return($e?-1:1)*H*Math.pow(2,B-N)};ieee754.write=function(T,$,I,N,L,B){var H,z,Q,te=B*8-L-1,G=(1<<te)-1,ie=G>>1,Re=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,$e=N?0:B-1,Pe=N?1:-1,Me=$<0||$===0&&1/$<0?1:0;for($=Math.abs($),isNaN($)||$===1/0?(z=isNaN($)?1:0,H=G):(H=Math.floor(Math.log($)/Math.LN2),$*(Q=Math.pow(2,-H))<1&&(H--,Q*=2),H+ie>=1?$+=Re/Q:$+=Re*Math.pow(2,1-ie),$*Q>=2&&(H++,Q/=2),H+ie>=G?(z=0,H=G):H+ie>=1?(z=($*Q-1)*Math.pow(2,L),H=H+ie):(z=$*Math.pow(2,ie-1)*Math.pow(2,L),H=0));L>=8;T[I+$e]=z&255,$e+=Pe,z/=256,L-=8);for(H=H<<L|z,te+=L;te>0;T[I+$e]=H&255,$e+=Pe,H/=256,te-=8);T[I+$e-Pe]|=Me*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(T){const $=base64Js,I=ieee754,N=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;T.Buffer=G,T.SlowBuffer=Ge,T.INSPECT_MAX_BYTES=50;const L=2147483647;T.kMaxLength=L;const{Uint8Array:B,ArrayBuffer:H,SharedArrayBuffer:z}=globalThis;G.TYPED_ARRAY_SUPPORT=Q(),!G.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Q(){try{const Ot=new B(1),Rt={foo:function(){return 42}};return Object.setPrototypeOf(Rt,B.prototype),Object.setPrototypeOf(Ot,Rt),Ot.foo()===42}catch{return!1}}Object.defineProperty(G.prototype,"parent",{enumerable:!0,get:function(){if(G.isBuffer(this))return this.buffer}}),Object.defineProperty(G.prototype,"offset",{enumerable:!0,get:function(){if(G.isBuffer(this))return this.byteOffset}});function te(Ot){if(Ot>L)throw new RangeError('The value "'+Ot+'" is invalid for option "size"');const Rt=new B(Ot);return Object.setPrototypeOf(Rt,G.prototype),Rt}function G(Ot,Rt,It){if(typeof Ot=="number"){if(typeof Rt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Pe(Ot)}return ie(Ot,Rt,It)}G.poolSize=8192;function ie(Ot,Rt,It){if(typeof Ot=="string")return Me(Ot,Rt);if(H.isView(Ot))return Ke(Ot);if(Ot==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ot);if(lt(Ot,H)||Ot&&lt(Ot.buffer,H)||typeof z<"u"&&(lt(Ot,z)||Ot&&lt(Ot.buffer,z)))return Le(Ot,Rt,It);if(typeof Ot=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Kt=Ot.valueOf&&Ot.valueOf();if(Kt!=null&&Kt!==Ot)return G.from(Kt,Rt,It);const tr=qe(Ot);if(tr)return tr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ot[Symbol.toPrimitive]=="function")return G.from(Ot[Symbol.toPrimitive]("string"),Rt,It);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ot)}G.from=function(Ot,Rt,It){return ie(Ot,Rt,It)},Object.setPrototypeOf(G.prototype,B.prototype),Object.setPrototypeOf(G,B);function Re(Ot){if(typeof Ot!="number")throw new TypeError('"size" argument must be of type number');if(Ot<0)throw new RangeError('The value "'+Ot+'" is invalid for option "size"')}function $e(Ot,Rt,It){return Re(Ot),Ot<=0?te(Ot):Rt!==void 0?typeof It=="string"?te(Ot).fill(Rt,It):te(Ot).fill(Rt):te(Ot)}G.alloc=function(Ot,Rt,It){return $e(Ot,Rt,It)};function Pe(Ot){return Re(Ot),te(Ot<0?0:He(Ot)|0)}G.allocUnsafe=function(Ot){return Pe(Ot)},G.allocUnsafeSlow=function(Ot){return Pe(Ot)};function Me(Ot,Rt){if((typeof Rt!="string"||Rt==="")&&(Rt="utf8"),!G.isEncoding(Rt))throw new TypeError("Unknown encoding: "+Rt);const It=at(Ot,Rt)|0;let Kt=te(It);const tr=Kt.write(Ot,Rt);return tr!==It&&(Kt=Kt.slice(0,tr)),Kt}function Be(Ot){const Rt=Ot.length<0?0:He(Ot.length)|0,It=te(Rt);for(let Kt=0;Kt<Rt;Kt+=1)It[Kt]=Ot[Kt]&255;return It}function Ke(Ot){if(lt(Ot,B)){const Rt=new B(Ot);return Le(Rt.buffer,Rt.byteOffset,Rt.byteLength)}return Be(Ot)}function Le(Ot,Rt,It){if(Rt<0||Ot.byteLength<Rt)throw new RangeError('"offset" is outside of buffer bounds');if(Ot.byteLength<Rt+(It||0))throw new RangeError('"length" is outside of buffer bounds');let Kt;return Rt===void 0&&It===void 0?Kt=new B(Ot):It===void 0?Kt=new B(Ot,Rt):Kt=new B(Ot,Rt,It),Object.setPrototypeOf(Kt,G.prototype),Kt}function qe(Ot){if(G.isBuffer(Ot)){const Rt=He(Ot.length)|0,It=te(Rt);return It.length===0||Ot.copy(It,0,0,Rt),It}if(Ot.length!==void 0)return typeof Ot.length!="number"||ct(Ot.length)?te(0):Be(Ot);if(Ot.type==="Buffer"&&Array.isArray(Ot.data))return Be(Ot.data)}function He(Ot){if(Ot>=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");return Ot|0}function Ge(Ot){return+Ot!=Ot&&(Ot=0),G.alloc(+Ot)}G.isBuffer=function(Rt){return Rt!=null&&Rt._isBuffer===!0&&Rt!==G.prototype},G.compare=function(Rt,It){if(lt(Rt,B)&&(Rt=G.from(Rt,Rt.offset,Rt.byteLength)),lt(It,B)&&(It=G.from(It,It.offset,It.byteLength)),!G.isBuffer(Rt)||!G.isBuffer(It))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Rt===It)return 0;let Kt=Rt.length,tr=It.length;for(let dr=0,_r=Math.min(Kt,tr);dr<_r;++dr)if(Rt[dr]!==It[dr]){Kt=Rt[dr],tr=It[dr];break}return Kt<tr?-1:tr<Kt?1:0},G.isEncoding=function(Rt){switch(String(Rt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},G.concat=function(Rt,It){if(!Array.isArray(Rt))throw new TypeError('"list" argument must be an Array of Buffers');if(Rt.length===0)return G.alloc(0);let Kt;if(It===void 0)for(It=0,Kt=0;Kt<Rt.length;++Kt)It+=Rt[Kt].length;const tr=G.allocUnsafe(It);let dr=0;for(Kt=0;Kt<Rt.length;++Kt){let _r=Rt[Kt];if(lt(_r,B))dr+_r.length>tr.length?(G.isBuffer(_r)||(_r=G.from(_r)),_r.copy(tr,dr)):B.prototype.set.call(tr,_r,dr);else if(G.isBuffer(_r))_r.copy(tr,dr);else throw new TypeError('"list" argument must be an Array of Buffers');dr+=_r.length}return tr};function at(Ot,Rt){if(G.isBuffer(Ot))return Ot.length;if(H.isView(Ot)||lt(Ot,H))return Ot.byteLength;if(typeof Ot!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ot);const It=Ot.length,Kt=arguments.length>2&&arguments[2]===!0;if(!Kt&&It===0)return 0;let tr=!1;for(;;)switch(Rt){case"ascii":case"latin1":case"binary":return It;case"utf8":case"utf-8":return yr(Ot).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return It*2;case"hex":return It>>>1;case"base64":return cr(Ot).length;default:if(tr)return Kt?-1:yr(Ot).length;Rt=(""+Rt).toLowerCase(),tr=!0}}G.byteLength=at;function ot(Ot,Rt,It){let Kt=!1;if((Rt===void 0||Rt<0)&&(Rt=0),Rt>this.length||((It===void 0||It>this.length)&&(It=this.length),It<=0)||(It>>>=0,Rt>>>=0,It<=Rt))return"";for(Ot||(Ot="utf8");;)switch(Ot){case"hex":return je(this,Rt,It);case"utf8":case"utf-8":return rt(this,Rt,It);case"ascii":return We(this,Rt,It);case"latin1":case"binary":return Ve(this,Rt,It);case"base64":return Je(this,Rt,It);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ze(this,Rt,It);default:if(Kt)throw new TypeError("Unknown encoding: "+Ot);Ot=(Ot+"").toLowerCase(),Kt=!0}}G.prototype._isBuffer=!0;function Ye(Ot,Rt,It){const Kt=Ot[Rt];Ot[Rt]=Ot[It],Ot[It]=Kt}G.prototype.swap16=function(){const Rt=this.length;if(Rt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let It=0;It<Rt;It+=2)Ye(this,It,It+1);return this},G.prototype.swap32=function(){const Rt=this.length;if(Rt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let It=0;It<Rt;It+=4)Ye(this,It,It+3),Ye(this,It+1,It+2);return this},G.prototype.swap64=function(){const Rt=this.length;if(Rt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let It=0;It<Rt;It+=8)Ye(this,It,It+7),Ye(this,It+1,It+6),Ye(this,It+2,It+5),Ye(this,It+3,It+4);return this},G.prototype.toString=function(){const Rt=this.length;return Rt===0?"":arguments.length===0?rt(this,0,Rt):ot.apply(this,arguments)},G.prototype.toLocaleString=G.prototype.toString,G.prototype.equals=function(Rt){if(!G.isBuffer(Rt))throw new TypeError("Argument must be a Buffer");return this===Rt?!0:G.compare(this,Rt)===0},G.prototype.inspect=function(){let Rt="";const It=T.INSPECT_MAX_BYTES;return Rt=this.toString("hex",0,It).replace(/(.{2})/g,"$1 ").trim(),this.length>It&&(Rt+=" ... "),"<Buffer "+Rt+">"},N&&(G.prototype[N]=G.prototype.inspect),G.prototype.compare=function(Rt,It,Kt,tr,dr){if(lt(Rt,B)&&(Rt=G.from(Rt,Rt.offset,Rt.byteLength)),!G.isBuffer(Rt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Rt);if(It===void 0&&(It=0),Kt===void 0&&(Kt=Rt?Rt.length:0),tr===void 0&&(tr=0),dr===void 0&&(dr=this.length),It<0||Kt>Rt.length||tr<0||dr>this.length)throw new RangeError("out of range index");if(tr>=dr&&It>=Kt)return 0;if(tr>=dr)return-1;if(It>=Kt)return 1;if(It>>>=0,Kt>>>=0,tr>>>=0,dr>>>=0,this===Rt)return 0;let _r=dr-tr,Nr=Kt-It;const qr=Math.min(_r,Nr),Br=this.slice(tr,dr),Qr=Rt.slice(It,Kt);for(let Wr=0;Wr<qr;++Wr)if(Br[Wr]!==Qr[Wr]){_r=Br[Wr],Nr=Qr[Wr];break}return _r<Nr?-1:Nr<_r?1:0};function nt(Ot,Rt,It,Kt,tr){if(Ot.length===0)return-1;if(typeof It=="string"?(Kt=It,It=0):It>2147483647?It=2147483647:It<-2147483648&&(It=-2147483648),It=+It,ct(It)&&(It=tr?0:Ot.length-1),It<0&&(It=Ot.length+It),It>=Ot.length){if(tr)return-1;It=Ot.length-1}else if(It<0)if(tr)It=0;else return-1;if(typeof Rt=="string"&&(Rt=G.from(Rt,Kt)),G.isBuffer(Rt))return Rt.length===0?-1:Qe(Ot,Rt,It,Kt,tr);if(typeof Rt=="number")return Rt=Rt&255,typeof B.prototype.indexOf=="function"?tr?B.prototype.indexOf.call(Ot,Rt,It):B.prototype.lastIndexOf.call(Ot,Rt,It):Qe(Ot,[Rt],It,Kt,tr);throw new TypeError("val must be string, number or Buffer")}function Qe(Ot,Rt,It,Kt,tr){let dr=1,_r=Ot.length,Nr=Rt.length;if(Kt!==void 0&&(Kt=String(Kt).toLowerCase(),Kt==="ucs2"||Kt==="ucs-2"||Kt==="utf16le"||Kt==="utf-16le")){if(Ot.length<2||Rt.length<2)return-1;dr=2,_r/=2,Nr/=2,It/=2}function qr(Qr,Wr){return dr===1?Qr[Wr]:Qr.readUInt16BE(Wr*dr)}let Br;if(tr){let Qr=-1;for(Br=It;Br<_r;Br++)if(qr(Ot,Br)===qr(Rt,Qr===-1?0:Br-Qr)){if(Qr===-1&&(Qr=Br),Br-Qr+1===Nr)return Qr*dr}else Qr!==-1&&(Br-=Br-Qr),Qr=-1}else for(It+Nr>_r&&(It=_r-Nr),Br=It;Br>=0;Br--){let Qr=!0;for(let Wr=0;Wr<Nr;Wr++)if(qr(Ot,Br+Wr)!==qr(Rt,Wr)){Qr=!1;break}if(Qr)return Br}return-1}G.prototype.includes=function(Rt,It,Kt){return this.indexOf(Rt,It,Kt)!==-1},G.prototype.indexOf=function(Rt,It,Kt){return nt(this,Rt,It,Kt,!0)},G.prototype.lastIndexOf=function(Rt,It,Kt){return nt(this,Rt,It,Kt,!1)};function tt(Ot,Rt,It,Kt){It=Number(It)||0;const tr=Ot.length-It;Kt?(Kt=Number(Kt),Kt>tr&&(Kt=tr)):Kt=tr;const dr=Rt.length;Kt>dr/2&&(Kt=dr/2);let _r;for(_r=0;_r<Kt;++_r){const Nr=parseInt(Rt.substr(_r*2,2),16);if(ct(Nr))return _r;Ot[It+_r]=Nr}return _r}function ze(Ot,Rt,It,Kt){return pr(yr(Rt,Ot.length-It),Ot,It,Kt)}function Fe(Ot,Rt,It,Kt){return pr(gr(Rt),Ot,It,Kt)}function ke(Ot,Rt,It,Kt){return pr(cr(Rt),Ot,It,Kt)}function Ue(Ot,Rt,It,Kt){return pr(br(Rt,Ot.length-It),Ot,It,Kt)}G.prototype.write=function(Rt,It,Kt,tr){if(It===void 0)tr="utf8",Kt=this.length,It=0;else if(Kt===void 0&&typeof It=="string")tr=It,Kt=this.length,It=0;else if(isFinite(It))It=It>>>0,isFinite(Kt)?(Kt=Kt>>>0,tr===void 0&&(tr="utf8")):(tr=Kt,Kt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const dr=this.length-It;if((Kt===void 0||Kt>dr)&&(Kt=dr),Rt.length>0&&(Kt<0||It<0)||It>this.length)throw new RangeError("Attempt to write outside buffer bounds");tr||(tr="utf8");let _r=!1;for(;;)switch(tr){case"hex":return tt(this,Rt,It,Kt);case"utf8":case"utf-8":return ze(this,Rt,It,Kt);case"ascii":case"latin1":case"binary":return Fe(this,Rt,It,Kt);case"base64":return ke(this,Rt,It,Kt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,Rt,It,Kt);default:if(_r)throw new TypeError("Unknown encoding: "+tr);tr=(""+tr).toLowerCase(),_r=!0}},G.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Je(Ot,Rt,It){return Rt===0&&It===Ot.length?$.fromByteArray(Ot):$.fromByteArray(Ot.slice(Rt,It))}function rt(Ot,Rt,It){It=Math.min(Ot.length,It);const Kt=[];let tr=Rt;for(;tr<It;){const dr=Ot[tr];let _r=null,Nr=dr>239?4:dr>223?3:dr>191?2:1;if(tr+Nr<=It){let qr,Br,Qr,Wr;switch(Nr){case 1:dr<128&&(_r=dr);break;case 2:qr=Ot[tr+1],(qr&192)===128&&(Wr=(dr&31)<<6|qr&63,Wr>127&&(_r=Wr));break;case 3:qr=Ot[tr+1],Br=Ot[tr+2],(qr&192)===128&&(Br&192)===128&&(Wr=(dr&15)<<12|(qr&63)<<6|Br&63,Wr>2047&&(Wr<55296||Wr>57343)&&(_r=Wr));break;case 4:qr=Ot[tr+1],Br=Ot[tr+2],Qr=Ot[tr+3],(qr&192)===128&&(Br&192)===128&&(Qr&192)===128&&(Wr=(dr&15)<<18|(qr&63)<<12|(Br&63)<<6|Qr&63,Wr>65535&&Wr<1114112&&(_r=Wr))}}_r===null?(_r=65533,Nr=1):_r>65535&&(_r-=65536,Kt.push(_r>>>10&1023|55296),_r=56320|_r&1023),Kt.push(_r),tr+=Nr}return it(Kt)}const Xe=4096;function it(Ot){const Rt=Ot.length;if(Rt<=Xe)return String.fromCharCode.apply(String,Ot);let It="",Kt=0;for(;Kt<Rt;)It+=String.fromCharCode.apply(String,Ot.slice(Kt,Kt+=Xe));return It}function We(Ot,Rt,It){let Kt="";It=Math.min(Ot.length,It);for(let tr=Rt;tr<It;++tr)Kt+=String.fromCharCode(Ot[tr]&127);return Kt}function Ve(Ot,Rt,It){let Kt="";It=Math.min(Ot.length,It);for(let tr=Rt;tr<It;++tr)Kt+=String.fromCharCode(Ot[tr]);return Kt}function je(Ot,Rt,It){const Kt=Ot.length;(!Rt||Rt<0)&&(Rt=0),(!It||It<0||It>Kt)&&(It=Kt);let tr="";for(let dr=Rt;dr<It;++dr)tr+=Nt[Ot[dr]];return tr}function Ze(Ot,Rt,It){const Kt=Ot.slice(Rt,It);let tr="";for(let dr=0;dr<Kt.length-1;dr+=2)tr+=String.fromCharCode(Kt[dr]+Kt[dr+1]*256);return tr}G.prototype.slice=function(Rt,It){const Kt=this.length;Rt=~~Rt,It=It===void 0?Kt:~~It,Rt<0?(Rt+=Kt,Rt<0&&(Rt=0)):Rt>Kt&&(Rt=Kt),It<0?(It+=Kt,It<0&&(It=0)):It>Kt&&(It=Kt),It<Rt&&(It=Rt);const tr=this.subarray(Rt,It);return Object.setPrototypeOf(tr,G.prototype),tr};function st(Ot,Rt,It){if(Ot%1!==0||Ot<0)throw new RangeError("offset is not uint");if(Ot+Rt>It)throw new RangeError("Trying to access beyond buffer length")}G.prototype.readUintLE=G.prototype.readUIntLE=function(Rt,It,Kt){Rt=Rt>>>0,It=It>>>0,Kt||st(Rt,It,this.length);let tr=this[Rt],dr=1,_r=0;for(;++_r<It&&(dr*=256);)tr+=this[Rt+_r]*dr;return tr},G.prototype.readUintBE=G.prototype.readUIntBE=function(Rt,It,Kt){Rt=Rt>>>0,It=It>>>0,Kt||st(Rt,It,this.length);let tr=this[Rt+--It],dr=1;for(;It>0&&(dr*=256);)tr+=this[Rt+--It]*dr;return tr},G.prototype.readUint8=G.prototype.readUInt8=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,1,this.length),this[Rt]},G.prototype.readUint16LE=G.prototype.readUInt16LE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,2,this.length),this[Rt]|this[Rt+1]<<8},G.prototype.readUint16BE=G.prototype.readUInt16BE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,2,this.length),this[Rt]<<8|this[Rt+1]},G.prototype.readUint32LE=G.prototype.readUInt32LE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,4,this.length),(this[Rt]|this[Rt+1]<<8|this[Rt+2]<<16)+this[Rt+3]*16777216},G.prototype.readUint32BE=G.prototype.readUInt32BE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,4,this.length),this[Rt]*16777216+(this[Rt+1]<<16|this[Rt+2]<<8|this[Rt+3])},G.prototype.readBigUInt64LE=jt(function(Rt){Rt=Rt>>>0,kt(Rt,"offset");const It=this[Rt],Kt=this[Rt+7];(It===void 0||Kt===void 0)&&Ft(Rt,this.length-8);const tr=It+this[++Rt]*2**8+this[++Rt]*2**16+this[++Rt]*2**24,dr=this[++Rt]+this[++Rt]*2**8+this[++Rt]*2**16+Kt*2**24;return BigInt(tr)+(BigInt(dr)<<BigInt(32))}),G.prototype.readBigUInt64BE=jt(function(Rt){Rt=Rt>>>0,kt(Rt,"offset");const It=this[Rt],Kt=this[Rt+7];(It===void 0||Kt===void 0)&&Ft(Rt,this.length-8);const tr=It*2**24+this[++Rt]*2**16+this[++Rt]*2**8+this[++Rt],dr=this[++Rt]*2**24+this[++Rt]*2**16+this[++Rt]*2**8+Kt;return(BigInt(tr)<<BigInt(32))+BigInt(dr)}),G.prototype.readIntLE=function(Rt,It,Kt){Rt=Rt>>>0,It=It>>>0,Kt||st(Rt,It,this.length);let tr=this[Rt],dr=1,_r=0;for(;++_r<It&&(dr*=256);)tr+=this[Rt+_r]*dr;return dr*=128,tr>=dr&&(tr-=Math.pow(2,8*It)),tr},G.prototype.readIntBE=function(Rt,It,Kt){Rt=Rt>>>0,It=It>>>0,Kt||st(Rt,It,this.length);let tr=It,dr=1,_r=this[Rt+--tr];for(;tr>0&&(dr*=256);)_r+=this[Rt+--tr]*dr;return dr*=128,_r>=dr&&(_r-=Math.pow(2,8*It)),_r},G.prototype.readInt8=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,1,this.length),this[Rt]&128?(255-this[Rt]+1)*-1:this[Rt]},G.prototype.readInt16LE=function(Rt,It){Rt=Rt>>>0,It||st(Rt,2,this.length);const Kt=this[Rt]|this[Rt+1]<<8;return Kt&32768?Kt|4294901760:Kt},G.prototype.readInt16BE=function(Rt,It){Rt=Rt>>>0,It||st(Rt,2,this.length);const Kt=this[Rt+1]|this[Rt]<<8;return Kt&32768?Kt|4294901760:Kt},G.prototype.readInt32LE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,4,this.length),this[Rt]|this[Rt+1]<<8|this[Rt+2]<<16|this[Rt+3]<<24},G.prototype.readInt32BE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,4,this.length),this[Rt]<<24|this[Rt+1]<<16|this[Rt+2]<<8|this[Rt+3]},G.prototype.readBigInt64LE=jt(function(Rt){Rt=Rt>>>0,kt(Rt,"offset");const It=this[Rt],Kt=this[Rt+7];(It===void 0||Kt===void 0)&&Ft(Rt,this.length-8);const tr=this[Rt+4]+this[Rt+5]*2**8+this[Rt+6]*2**16+(Kt<<24);return(BigInt(tr)<<BigInt(32))+BigInt(It+this[++Rt]*2**8+this[++Rt]*2**16+this[++Rt]*2**24)}),G.prototype.readBigInt64BE=jt(function(Rt){Rt=Rt>>>0,kt(Rt,"offset");const It=this[Rt],Kt=this[Rt+7];(It===void 0||Kt===void 0)&&Ft(Rt,this.length-8);const tr=(It<<24)+this[++Rt]*2**16+this[++Rt]*2**8+this[++Rt];return(BigInt(tr)<<BigInt(32))+BigInt(this[++Rt]*2**24+this[++Rt]*2**16+this[++Rt]*2**8+Kt)}),G.prototype.readFloatLE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,4,this.length),I.read(this,Rt,!0,23,4)},G.prototype.readFloatBE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,4,this.length),I.read(this,Rt,!1,23,4)},G.prototype.readDoubleLE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,8,this.length),I.read(this,Rt,!0,52,8)},G.prototype.readDoubleBE=function(Rt,It){return Rt=Rt>>>0,It||st(Rt,8,this.length),I.read(this,Rt,!1,52,8)};function dt(Ot,Rt,It,Kt,tr,dr){if(!G.isBuffer(Ot))throw new TypeError('"buffer" argument must be a Buffer instance');if(Rt>tr||Rt<dr)throw new RangeError('"value" argument is out of bounds');if(It+Kt>Ot.length)throw new RangeError("Index out of range")}G.prototype.writeUintLE=G.prototype.writeUIntLE=function(Rt,It,Kt,tr){if(Rt=+Rt,It=It>>>0,Kt=Kt>>>0,!tr){const Nr=Math.pow(2,8*Kt)-1;dt(this,Rt,It,Kt,Nr,0)}let dr=1,_r=0;for(this[It]=Rt&255;++_r<Kt&&(dr*=256);)this[It+_r]=Rt/dr&255;return It+Kt},G.prototype.writeUintBE=G.prototype.writeUIntBE=function(Rt,It,Kt,tr){if(Rt=+Rt,It=It>>>0,Kt=Kt>>>0,!tr){const Nr=Math.pow(2,8*Kt)-1;dt(this,Rt,It,Kt,Nr,0)}let dr=Kt-1,_r=1;for(this[It+dr]=Rt&255;--dr>=0&&(_r*=256);)this[It+dr]=Rt/_r&255;return It+Kt},G.prototype.writeUint8=G.prototype.writeUInt8=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,1,255,0),this[It]=Rt&255,It+1},G.prototype.writeUint16LE=G.prototype.writeUInt16LE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,2,65535,0),this[It]=Rt&255,this[It+1]=Rt>>>8,It+2},G.prototype.writeUint16BE=G.prototype.writeUInt16BE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,2,65535,0),this[It]=Rt>>>8,this[It+1]=Rt&255,It+2},G.prototype.writeUint32LE=G.prototype.writeUInt32LE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,4,4294967295,0),this[It+3]=Rt>>>24,this[It+2]=Rt>>>16,this[It+1]=Rt>>>8,this[It]=Rt&255,It+4},G.prototype.writeUint32BE=G.prototype.writeUInt32BE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,4,4294967295,0),this[It]=Rt>>>24,this[It+1]=Rt>>>16,this[It+2]=Rt>>>8,this[It+3]=Rt&255,It+4};function bt(Ot,Rt,It,Kt,tr){$t(Rt,Kt,tr,Ot,It,7);let dr=Number(Rt&BigInt(4294967295));Ot[It++]=dr,dr=dr>>8,Ot[It++]=dr,dr=dr>>8,Ot[It++]=dr,dr=dr>>8,Ot[It++]=dr;let _r=Number(Rt>>BigInt(32)&BigInt(4294967295));return Ot[It++]=_r,_r=_r>>8,Ot[It++]=_r,_r=_r>>8,Ot[It++]=_r,_r=_r>>8,Ot[It++]=_r,It}function vt(Ot,Rt,It,Kt,tr){$t(Rt,Kt,tr,Ot,It,7);let dr=Number(Rt&BigInt(4294967295));Ot[It+7]=dr,dr=dr>>8,Ot[It+6]=dr,dr=dr>>8,Ot[It+5]=dr,dr=dr>>8,Ot[It+4]=dr;let _r=Number(Rt>>BigInt(32)&BigInt(4294967295));return Ot[It+3]=_r,_r=_r>>8,Ot[It+2]=_r,_r=_r>>8,Ot[It+1]=_r,_r=_r>>8,Ot[It]=_r,It+8}G.prototype.writeBigUInt64LE=jt(function(Rt,It=0){return bt(this,Rt,It,BigInt(0),BigInt("0xffffffffffffffff"))}),G.prototype.writeBigUInt64BE=jt(function(Rt,It=0){return vt(this,Rt,It,BigInt(0),BigInt("0xffffffffffffffff"))}),G.prototype.writeIntLE=function(Rt,It,Kt,tr){if(Rt=+Rt,It=It>>>0,!tr){const qr=Math.pow(2,8*Kt-1);dt(this,Rt,It,Kt,qr-1,-qr)}let dr=0,_r=1,Nr=0;for(this[It]=Rt&255;++dr<Kt&&(_r*=256);)Rt<0&&Nr===0&&this[It+dr-1]!==0&&(Nr=1),this[It+dr]=(Rt/_r>>0)-Nr&255;return It+Kt},G.prototype.writeIntBE=function(Rt,It,Kt,tr){if(Rt=+Rt,It=It>>>0,!tr){const qr=Math.pow(2,8*Kt-1);dt(this,Rt,It,Kt,qr-1,-qr)}let dr=Kt-1,_r=1,Nr=0;for(this[It+dr]=Rt&255;--dr>=0&&(_r*=256);)Rt<0&&Nr===0&&this[It+dr+1]!==0&&(Nr=1),this[It+dr]=(Rt/_r>>0)-Nr&255;return It+Kt},G.prototype.writeInt8=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,1,127,-128),Rt<0&&(Rt=255+Rt+1),this[It]=Rt&255,It+1},G.prototype.writeInt16LE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,2,32767,-32768),this[It]=Rt&255,this[It+1]=Rt>>>8,It+2},G.prototype.writeInt16BE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,2,32767,-32768),this[It]=Rt>>>8,this[It+1]=Rt&255,It+2},G.prototype.writeInt32LE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,4,2147483647,-2147483648),this[It]=Rt&255,this[It+1]=Rt>>>8,this[It+2]=Rt>>>16,this[It+3]=Rt>>>24,It+4},G.prototype.writeInt32BE=function(Rt,It,Kt){return Rt=+Rt,It=It>>>0,Kt||dt(this,Rt,It,4,2147483647,-2147483648),Rt<0&&(Rt=4294967295+Rt+1),this[It]=Rt>>>24,this[It+1]=Rt>>>16,this[It+2]=Rt>>>8,this[It+3]=Rt&255,It+4},G.prototype.writeBigInt64LE=jt(function(Rt,It=0){return bt(this,Rt,It,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),G.prototype.writeBigInt64BE=jt(function(Rt,It=0){return vt(this,Rt,It,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function St(Ot,Rt,It,Kt,tr,dr){if(It+Kt>Ot.length)throw new RangeError("Index out of range");if(It<0)throw new RangeError("Index out of range")}function Bt(Ot,Rt,It,Kt,tr){return Rt=+Rt,It=It>>>0,tr||St(Ot,Rt,It,4),I.write(Ot,Rt,It,Kt,23,4),It+4}G.prototype.writeFloatLE=function(Rt,It,Kt){return Bt(this,Rt,It,!0,Kt)},G.prototype.writeFloatBE=function(Rt,It,Kt){return Bt(this,Rt,It,!1,Kt)};function Gt(Ot,Rt,It,Kt,tr){return Rt=+Rt,It=It>>>0,tr||St(Ot,Rt,It,8),I.write(Ot,Rt,It,Kt,52,8),It+8}G.prototype.writeDoubleLE=function(Rt,It,Kt){return Gt(this,Rt,It,!0,Kt)},G.prototype.writeDoubleBE=function(Rt,It,Kt){return Gt(this,Rt,It,!1,Kt)},G.prototype.copy=function(Rt,It,Kt,tr){if(!G.isBuffer(Rt))throw new TypeError("argument should be a Buffer");if(Kt||(Kt=0),!tr&&tr!==0&&(tr=this.length),It>=Rt.length&&(It=Rt.length),It||(It=0),tr>0&&tr<Kt&&(tr=Kt),tr===Kt||Rt.length===0||this.length===0)return 0;if(It<0)throw new RangeError("targetStart out of bounds");if(Kt<0||Kt>=this.length)throw new RangeError("Index out of range");if(tr<0)throw new RangeError("sourceEnd out of bounds");tr>this.length&&(tr=this.length),Rt.length-It<tr-Kt&&(tr=Rt.length-It+Kt);const dr=tr-Kt;return this===Rt&&typeof B.prototype.copyWithin=="function"?this.copyWithin(It,Kt,tr):B.prototype.set.call(Rt,this.subarray(Kt,tr),It),dr},G.prototype.fill=function(Rt,It,Kt,tr){if(typeof Rt=="string"){if(typeof It=="string"?(tr=It,It=0,Kt=this.length):typeof Kt=="string"&&(tr=Kt,Kt=this.length),tr!==void 0&&typeof tr!="string")throw new TypeError("encoding must be a string");if(typeof tr=="string"&&!G.isEncoding(tr))throw new TypeError("Unknown encoding: "+tr);if(Rt.length===1){const _r=Rt.charCodeAt(0);(tr==="utf8"&&_r<128||tr==="latin1")&&(Rt=_r)}}else typeof Rt=="number"?Rt=Rt&255:typeof Rt=="boolean"&&(Rt=Number(Rt));if(It<0||this.length<It||this.length<Kt)throw new RangeError("Out of range index");if(Kt<=It)return this;It=It>>>0,Kt=Kt===void 0?this.length:Kt>>>0,Rt||(Rt=0);let dr;if(typeof Rt=="number")for(dr=It;dr<Kt;++dr)this[dr]=Rt;else{const _r=G.isBuffer(Rt)?Rt:G.from(Rt,tr),Nr=_r.length;if(Nr===0)throw new TypeError('The value "'+Rt+'" is invalid for argument "value"');for(dr=0;dr<Kt-It;++dr)this[dr+It]=_r[dr%Nr]}return this};const Dt={};function Mt(Ot,Rt,It){Dt[Ot]=class extends It{constructor(){super(),Object.defineProperty(this,"message",{value:Rt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ot}]`,this.stack,delete this.name}get code(){return Ot}set code(tr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:tr,writable:!0})}toString(){return`${this.name} [${Ot}]: ${this.message}`}}}Mt("ERR_BUFFER_OUT_OF_BOUNDS",function(Ot){return Ot?`${Ot} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Mt("ERR_INVALID_ARG_TYPE",function(Ot,Rt){return`The "${Ot}" argument must be of type number. Received type ${typeof Rt}`},TypeError),Mt("ERR_OUT_OF_RANGE",function(Ot,Rt,It){let Kt=`The value of "${Ot}" is out of range.`,tr=It;return Number.isInteger(It)&&Math.abs(It)>2**32?tr=pt(String(It)):typeof It=="bigint"&&(tr=String(It),(It>BigInt(2)**BigInt(32)||It<-(BigInt(2)**BigInt(32)))&&(tr=pt(tr)),tr+="n"),Kt+=` It must be ${Rt}. Received ${tr}`,Kt},RangeError);function pt(Ot){let Rt="",It=Ot.length;const Kt=Ot[0]==="-"?1:0;for(;It>=Kt+4;It-=3)Rt=`_${Ot.slice(It-3,It)}${Rt}`;return`${Ot.slice(0,It)}${Rt}`}function mt(Ot,Rt,It){kt(Rt,"offset"),(Ot[Rt]===void 0||Ot[Rt+It]===void 0)&&Ft(Rt,Ot.length-(It+1))}function $t(Ot,Rt,It,Kt,tr,dr){if(Ot>It||Ot<Rt){const _r=typeof Rt=="bigint"?"n":"";let Nr;throw Rt===0||Rt===BigInt(0)?Nr=`>= 0${_r} and < 2${_r} ** ${(dr+1)*8}${_r}`:Nr=`>= -(2${_r} ** ${(dr+1)*8-1}${_r}) and < 2 ** ${(dr+1)*8-1}${_r}`,new Dt.ERR_OUT_OF_RANGE("value",Nr,Ot)}mt(Kt,tr,dr)}function kt(Ot,Rt){if(typeof Ot!="number")throw new Dt.ERR_INVALID_ARG_TYPE(Rt,"number",Ot)}function Ft(Ot,Rt,It){throw Math.floor(Ot)!==Ot?(kt(Ot,It),new Dt.ERR_OUT_OF_RANGE("offset","an integer",Ot)):Rt<0?new Dt.ERR_BUFFER_OUT_OF_BOUNDS:new Dt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Rt}`,Ot)}const nr=/[^+/0-9A-Za-z-_]/g;function Yt(Ot){if(Ot=Ot.split("=")[0],Ot=Ot.trim().replace(nr,""),Ot.length<2)return"";for(;Ot.length%4!==0;)Ot=Ot+"=";return Ot}function yr(Ot,Rt){Rt=Rt||1/0;let It;const Kt=Ot.length;let tr=null;const dr=[];for(let _r=0;_r<Kt;++_r){if(It=Ot.charCodeAt(_r),It>55295&&It<57344){if(!tr){if(It>56319){(Rt-=3)>-1&&dr.push(239,191,189);continue}else if(_r+1===Kt){(Rt-=3)>-1&&dr.push(239,191,189);continue}tr=It;continue}if(It<56320){(Rt-=3)>-1&&dr.push(239,191,189),tr=It;continue}It=(tr-55296<<10|It-56320)+65536}else tr&&(Rt-=3)>-1&&dr.push(239,191,189);if(tr=null,It<128){if((Rt-=1)<0)break;dr.push(It)}else if(It<2048){if((Rt-=2)<0)break;dr.push(It>>6|192,It&63|128)}else if(It<65536){if((Rt-=3)<0)break;dr.push(It>>12|224,It>>6&63|128,It&63|128)}else if(It<1114112){if((Rt-=4)<0)break;dr.push(It>>18|240,It>>12&63|128,It>>6&63|128,It&63|128)}else throw new Error("Invalid code point")}return dr}function gr(Ot){const Rt=[];for(let It=0;It<Ot.length;++It)Rt.push(Ot.charCodeAt(It)&255);return Rt}function br(Ot,Rt){let It,Kt,tr;const dr=[];for(let _r=0;_r<Ot.length&&!((Rt-=2)<0);++_r)It=Ot.charCodeAt(_r),Kt=It>>8,tr=It%256,dr.push(tr),dr.push(Kt);return dr}function cr(Ot){return $.toByteArray(Yt(Ot))}function pr(Ot,Rt,It,Kt){let tr;for(tr=0;tr<Kt&&!(tr+It>=Rt.length||tr>=Ot.length);++tr)Rt[tr+It]=Ot[tr];return tr}function lt(Ot,Rt){return Ot instanceof Rt||Ot!=null&&Ot.constructor!=null&&Ot.constructor.name!=null&&Ot.constructor.name===Rt.name}function ct(Ot){return Ot!==Ot}const Nt=function(){const Ot="0123456789abcdef",Rt=new Array(256);for(let It=0;It<16;++It){const Kt=It*16;for(let tr=0;tr<16;++tr)Rt[Kt+tr]=Ot[It]+Ot[tr]}return Rt}();function jt(Ot){return typeof BigInt>"u"?zt:Ot}function zt(){throw new Error("BigInt not supported")}})(buffer$2);const Buffer$p=buffer$2.Buffer,Buffer$1$1=buffer$2.Buffer;function AxiosError$1(T,$,I,N,L){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=T,this.name="AxiosError",$&&(this.code=$),I&&(this.config=I),N&&(this.request=N),L&&(this.response=L,this.status=L.status?L.status:null)}utils$P.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$P.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(T=>{descriptors[T]={value:T}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(T,$,I,N,L,B)=>{const H=Object.create(prototype$1);return utils$P.toFlatObject(T,H,function(Q){return Q!==Error.prototype},z=>z!=="isAxiosError"),AxiosError$1.call(H,T.message,$,I,N,L),H.cause=T,H.name=T.name,B&&Object.assign(H,B),H};const httpAdapter=null;function isVisitable(T){return utils$P.isPlainObject(T)||utils$P.isArray(T)}function removeBrackets(T){return utils$P.endsWith(T,"[]")?T.slice(0,-2):T}function renderKey(T,$,I){return T?T.concat($).map(function(L,B){return L=removeBrackets(L),!I&&B?"["+L+"]":L}).join(I?".":""):$}function isFlatArray(T){return utils$P.isArray(T)&&!T.some(isVisitable)}const predicates=utils$P.toFlatObject(utils$P,{},null,function($){return/^is[A-Z]/.test($)});function toFormData$1(T,$,I){if(!utils$P.isObject(T))throw new TypeError("target must be an object");$=$||new FormData,I=utils$P.toFlatObject(I,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Me,Be){return!utils$P.isUndefined(Be[Me])});const N=I.metaTokens,L=I.visitor||G,B=I.dots,H=I.indexes,Q=(I.Blob||typeof Blob<"u"&&Blob)&&utils$P.isSpecCompliantForm($);if(!utils$P.isFunction(L))throw new TypeError("visitor must be a function");function te(Pe){if(Pe===null)return"";if(utils$P.isDate(Pe))return Pe.toISOString();if(!Q&&utils$P.isBlob(Pe))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$P.isArrayBuffer(Pe)||utils$P.isTypedArray(Pe)?Q&&typeof Blob=="function"?new Blob([Pe]):Buffer$p.from(Pe):Pe}function G(Pe,Me,Be){let Ke=Pe;if(Pe&&!Be&&typeof Pe=="object"){if(utils$P.endsWith(Me,"{}"))Me=N?Me:Me.slice(0,-2),Pe=JSON.stringify(Pe);else if(utils$P.isArray(Pe)&&isFlatArray(Pe)||(utils$P.isFileList(Pe)||utils$P.endsWith(Me,"[]"))&&(Ke=utils$P.toArray(Pe)))return Me=removeBrackets(Me),Ke.forEach(function(qe,He){!(utils$P.isUndefined(qe)||qe===null)&&$.append(H===!0?renderKey([Me],He,B):H===null?Me:Me+"[]",te(qe))}),!1}return isVisitable(Pe)?!0:($.append(renderKey(Be,Me,B),te(Pe)),!1)}const ie=[],Re=Object.assign(predicates,{defaultVisitor:G,convertValue:te,isVisitable});function $e(Pe,Me){if(!utils$P.isUndefined(Pe)){if(ie.indexOf(Pe)!==-1)throw Error("Circular reference detected in "+Me.join("."));ie.push(Pe),utils$P.forEach(Pe,function(Ke,Le){(!(utils$P.isUndefined(Ke)||Ke===null)&&L.call($,Ke,utils$P.isString(Le)?Le.trim():Le,Me,Re))===!0&&$e(Ke,Me?Me.concat(Le):[Le])}),ie.pop()}}if(!utils$P.isObject(T))throw new TypeError("data must be an object");return $e(T),$}function encode$k(T){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(T).replace(/[!'()~]|%20|%00/g,function(N){return $[N]})}function AxiosURLSearchParams(T,$){this._pairs=[],T&&toFormData$1(T,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,I){this._pairs.push([$,I])};prototype.toString=function($){const I=$?function(N){return $.call(this,N,encode$k)}:encode$k;return this._pairs.map(function(L){return I(L[0])+"="+I(L[1])},"").join("&")};function encode$j(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(T,$,I){if(!$)return T;const N=I&&I.encode||encode$j;utils$P.isFunction(I)&&(I={serialize:I});const L=I&&I.serialize;let B;if(L?B=L($,I):B=utils$P.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,I).toString(N),B){const H=T.indexOf("#");H!==-1&&(T=T.slice(0,H)),T+=(T.indexOf("?")===-1?"?":"&")+B}return T}class InterceptorManager{constructor(){this.handlers=[]}use($,I,N){return this.handlers.push({fulfilled:$,rejected:I,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$P.forEach(this.handlers,function(N){N!==null&&$(N)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$O=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$O,...platform$1};function toURLEncodedForm(T,$){return toFormData$1(T,new platform.classes.URLSearchParams,Object.assign({visitor:function(I,N,L,B){return platform.isNode&&utils$P.isBuffer(I)?(this.append(N,I.toString("base64")),!1):B.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(T){return utils$P.matchAll(/\w+|\[(\w*)]/g,T).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(T){const $={},I=Object.keys(T);let N;const L=I.length;let B;for(N=0;N<L;N++)B=I[N],$[B]=T[B];return $}function formDataToJSON(T){function $(I,N,L,B){let H=I[B++];if(H==="__proto__")return!0;const z=Number.isFinite(+H),Q=B>=I.length;return H=!H&&utils$P.isArray(L)?L.length:H,Q?(utils$P.hasOwnProp(L,H)?L[H]=[L[H],N]:L[H]=N,!z):((!L[H]||!utils$P.isObject(L[H]))&&(L[H]=[]),$(I,N,L[H],B)&&utils$P.isArray(L[H])&&(L[H]=arrayToObject(L[H])),!z)}if(utils$P.isFormData(T)&&utils$P.isFunction(T.entries)){const I={};return utils$P.forEachEntry(T,(N,L)=>{$(parsePropPath(N),L,I,0)}),I}return null}function stringifySafely(T,$,I){if(utils$P.isString(T))try{return($||JSON.parse)(T),utils$P.trim(T)}catch(N){if(N.name!=="SyntaxError")throw N}return(I||JSON.stringify)(T)}const defaults$4={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,I){const N=I.getContentType()||"",L=N.indexOf("application/json")>-1,B=utils$P.isObject($);if(B&&utils$P.isHTMLForm($)&&($=new FormData($)),utils$P.isFormData($))return L?JSON.stringify(formDataToJSON($)):$;if(utils$P.isArrayBuffer($)||utils$P.isBuffer($)||utils$P.isStream($)||utils$P.isFile($)||utils$P.isBlob($)||utils$P.isReadableStream($))return $;if(utils$P.isArrayBufferView($))return $.buffer;if(utils$P.isURLSearchParams($))return I.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let z;if(B){if(N.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((z=utils$P.isFileList($))||N.indexOf("multipart/form-data")>-1){const Q=this.env&&this.env.FormData;return toFormData$1(z?{"files[]":$}:$,Q&&new Q,this.formSerializer)}}return B||L?(I.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const I=this.transitional||defaults$4.transitional,N=I&&I.forcedJSONParsing,L=this.responseType==="json";if(utils$P.isResponse($)||utils$P.isReadableStream($))return $;if($&&utils$P.isString($)&&(N&&!this.responseType||L)){const H=!(I&&I.silentJSONParsing)&&L;try{return JSON.parse($)}catch(z){if(H)throw z.name==="SyntaxError"?AxiosError$1.from(z,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):z}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$P.forEach(["delete","get","head","post","put","patch"],T=>{defaults$4.headers[T]={}});const ignoreDuplicateOf=utils$P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=T=>{const $={};let I,N,L;return T&&T.split(`
`).forEach(function(H){L=H.indexOf(":"),I=H.substring(0,L).trim().toLowerCase(),N=H.substring(L+1).trim(),!(!I||$[I]&&ignoreDuplicateOf[I])&&(I==="set-cookie"?$[I]?$[I].push(N):$[I]=[N]:$[I]=$[I]?$[I]+", "+N:N)}),$},$internals=Symbol("internals");function normalizeHeader(T){return T&&String(T).trim().toLowerCase()}function normalizeValue(T){return T===!1||T==null?T:utils$P.isArray(T)?T.map(normalizeValue):String(T)}function parseTokens(T){const $=Object.create(null),I=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let N;for(;N=I.exec(T);)$[N[1]]=N[2];return $}const isValidHeaderName=T=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(T.trim());function matchHeaderValue(T,$,I,N,L){if(utils$P.isFunction(N))return N.call(this,$,I);if(L&&($=I),!!utils$P.isString($)){if(utils$P.isString(N))return $.indexOf(N)!==-1;if(utils$P.isRegExp(N))return N.test($)}}function formatHeader(T){return T.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,I,N)=>I.toUpperCase()+N)}function buildAccessors(T,$){const I=utils$P.toCamelCase(" "+$);["get","set","has"].forEach(N=>{Object.defineProperty(T,N+I,{value:function(L,B,H){return this[N].call(this,$,L,B,H)},configurable:!0})})}let AxiosHeaders$1=class{constructor($){$&&this.set($)}set($,I,N){const L=this;function B(z,Q,te){const G=normalizeHeader(Q);if(!G)throw new Error("header name must be a non-empty string");const ie=utils$P.findKey(L,G);(!ie||L[ie]===void 0||te===!0||te===void 0&&L[ie]!==!1)&&(L[ie||Q]=normalizeValue(z))}const H=(z,Q)=>utils$P.forEach(z,(te,G)=>B(te,G,Q));if(utils$P.isPlainObject($)||$ instanceof this.constructor)H($,I);else if(utils$P.isString($)&&($=$.trim())&&!isValidHeaderName($))H(parseHeaders($),I);else if(utils$P.isObject($)&&utils$P.isIterable($)){let z={},Q,te;for(const G of $){if(!utils$P.isArray(G))throw TypeError("Object iterator must return a key-value pair");z[te=G[0]]=(Q=z[te])?utils$P.isArray(Q)?[...Q,G[1]]:[Q,G[1]]:G[1]}H(z,I)}else $!=null&&B(I,$,N);return this}get($,I){if($=normalizeHeader($),$){const N=utils$P.findKey(this,$);if(N){const L=this[N];if(!I)return L;if(I===!0)return parseTokens(L);if(utils$P.isFunction(I))return I.call(this,L,N);if(utils$P.isRegExp(I))return I.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has($,I){if($=normalizeHeader($),$){const N=utils$P.findKey(this,$);return!!(N&&this[N]!==void 0&&(!I||matchHeaderValue(this,this[N],N,I)))}return!1}delete($,I){const N=this;let L=!1;function B(H){if(H=normalizeHeader(H),H){const z=utils$P.findKey(N,H);z&&(!I||matchHeaderValue(N,N[z],z,I))&&(delete N[z],L=!0)}}return utils$P.isArray($)?$.forEach(B):B($),L}clear($){const I=Object.keys(this);let N=I.length,L=!1;for(;N--;){const B=I[N];(!$||matchHeaderValue(this,this[B],B,$,!0))&&(delete this[B],L=!0)}return L}normalize($){const I=this,N={};return utils$P.forEach(this,(L,B)=>{const H=utils$P.findKey(N,B);if(H){I[H]=normalizeValue(L),delete I[B];return}const z=$?formatHeader(B):String(B).trim();z!==B&&delete I[B],I[z]=normalizeValue(L),N[z]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const I=Object.create(null);return utils$P.forEach(this,(N,L)=>{N!=null&&N!==!1&&(I[L]=$&&utils$P.isArray(N)?N.join(", "):N)}),I}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,I])=>$+": "+I).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...I){const N=new this($);return I.forEach(L=>N.set(L)),N}static accessor($){const N=(this[$internals]=this[$internals]={accessors:{}}).accessors,L=this.prototype;function B(H){const z=normalizeHeader(H);N[z]||(buildAccessors(L,H),N[z]=!0)}return utils$P.isArray($)?$.forEach(B):B($),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$P.reduceDescriptors(AxiosHeaders$1.prototype,({value:T},$)=>{let I=$[0].toUpperCase()+$.slice(1);return{get:()=>T,set(N){this[I]=N}}});utils$P.freezeMethods(AxiosHeaders$1);function transformData(T,$){const I=this||defaults$4,N=$||I,L=AxiosHeaders$1.from(N.headers);let B=N.data;return utils$P.forEach(T,function(z){B=z.call(I,B,L.normalize(),$?$.status:void 0)}),L.normalize(),B}function isCancel$1(T){return!!(T&&T.__CANCEL__)}function CanceledError$1(T,$,I){AxiosError$1.call(this,T??"canceled",AxiosError$1.ERR_CANCELED,$,I),this.name="CanceledError"}utils$P.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(T,$,I){const N=I.config.validateStatus;!I.status||!N||N(I.status)?T(I):$(new AxiosError$1("Request failed with status code "+I.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(I.status/100)-4],I.config,I.request,I))}function parseProtocol(T){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(T);return $&&$[1]||""}function speedometer(T,$){T=T||10;const I=new Array(T),N=new Array(T);let L=0,B=0,H;return $=$!==void 0?$:1e3,function(Q){const te=Date.now(),G=N[B];H||(H=te),I[L]=Q,N[L]=te;let ie=B,Re=0;for(;ie!==L;)Re+=I[ie++],ie=ie%T;if(L=(L+1)%T,L===B&&(B=(B+1)%T),te-H<$)return;const $e=G&&te-G;return $e?Math.round(Re*1e3/$e):void 0}}function throttle(T,$){let I=0,N=1e3/$,L,B;const H=(te,G=Date.now())=>{I=G,L=null,B&&(clearTimeout(B),B=null),T.apply(null,te)};return[(...te)=>{const G=Date.now(),ie=G-I;ie>=N?H(te,G):(L=te,B||(B=setTimeout(()=>{B=null,H(L)},N-ie)))},()=>L&&H(L)]}const progressEventReducer=(T,$,I=3)=>{let N=0;const L=speedometer(50,250);return throttle(B=>{const H=B.loaded,z=B.lengthComputable?B.total:void 0,Q=H-N,te=L(Q),G=H<=z;N=H;const ie={loaded:H,total:z,progress:z?H/z:void 0,bytes:Q,rate:te||void 0,estimated:te&&z&&G?(z-H)/te:void 0,event:B,lengthComputable:z!=null,[$?"download":"upload"]:!0};T(ie)},I)},progressEventDecorator=(T,$)=>{const I=T!=null;return[N=>$[0]({lengthComputable:I,total:T,loaded:N}),$[1]]},asyncDecorator=T=>(...$)=>utils$P.asap(()=>T(...$)),isURLSameOrigin=platform.hasStandardBrowserEnv?((T,$)=>I=>(I=new URL(I,platform.origin),T.protocol===I.protocol&&T.host===I.host&&($||T.port===I.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(T,$,I,N,L,B){const H=[T+"="+encodeURIComponent($)];utils$P.isNumber(I)&&H.push("expires="+new Date(I).toGMTString()),utils$P.isString(N)&&H.push("path="+N),utils$P.isString(L)&&H.push("domain="+L),B===!0&&H.push("secure"),document.cookie=H.join("; ")},read(T){const $=document.cookie.match(new RegExp("(^|;\\s*)("+T+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(T){this.write(T,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(T){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(T)}function combineURLs(T,$){return $?T.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):T}function buildFullPath(T,$,I){let N=!isAbsoluteURL($);return T&&(N||I==!1)?combineURLs(T,$):$}const headersToObject=T=>T instanceof AxiosHeaders$1?{...T}:T;function mergeConfig$1(T,$){$=$||{};const I={};function N(te,G,ie,Re){return utils$P.isPlainObject(te)&&utils$P.isPlainObject(G)?utils$P.merge.call({caseless:Re},te,G):utils$P.isPlainObject(G)?utils$P.merge({},G):utils$P.isArray(G)?G.slice():G}function L(te,G,ie,Re){if(utils$P.isUndefined(G)){if(!utils$P.isUndefined(te))return N(void 0,te,ie,Re)}else return N(te,G,ie,Re)}function B(te,G){if(!utils$P.isUndefined(G))return N(void 0,G)}function H(te,G){if(utils$P.isUndefined(G)){if(!utils$P.isUndefined(te))return N(void 0,te)}else return N(void 0,G)}function z(te,G,ie){if(ie in $)return N(te,G);if(ie in T)return N(void 0,te)}const Q={url:B,method:B,data:B,baseURL:H,transformRequest:H,transformResponse:H,paramsSerializer:H,timeout:H,timeoutMessage:H,withCredentials:H,withXSRFToken:H,adapter:H,responseType:H,xsrfCookieName:H,xsrfHeaderName:H,onUploadProgress:H,onDownloadProgress:H,decompress:H,maxContentLength:H,maxBodyLength:H,beforeRedirect:H,transport:H,httpAgent:H,httpsAgent:H,cancelToken:H,socketPath:H,responseEncoding:H,validateStatus:z,headers:(te,G,ie)=>L(headersToObject(te),headersToObject(G),ie,!0)};return utils$P.forEach(Object.keys(Object.assign({},T,$)),function(G){const ie=Q[G]||L,Re=ie(T[G],$[G],G);utils$P.isUndefined(Re)&&ie!==z||(I[G]=Re)}),I}const resolveConfig=T=>{const $=mergeConfig$1({},T);let{data:I,withXSRFToken:N,xsrfHeaderName:L,xsrfCookieName:B,headers:H,auth:z}=$;$.headers=H=AxiosHeaders$1.from(H),$.url=buildURL(buildFullPath($.baseURL,$.url,$.allowAbsoluteUrls),T.params,T.paramsSerializer),z&&H.set("Authorization","Basic "+btoa((z.username||"")+":"+(z.password?unescape(encodeURIComponent(z.password)):"")));let Q;if(utils$P.isFormData(I)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)H.setContentType(void 0);else if((Q=H.getContentType())!==!1){const[te,...G]=Q?Q.split(";").map(ie=>ie.trim()).filter(Boolean):[];H.setContentType([te||"multipart/form-data",...G].join("; "))}}if(platform.hasStandardBrowserEnv&&(N&&utils$P.isFunction(N)&&(N=N($)),N||N!==!1&&isURLSameOrigin($.url))){const te=L&&B&&cookies.read(B);te&&H.set(L,te)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(T){return new Promise(function(I,N){const L=resolveConfig(T);let B=L.data;const H=AxiosHeaders$1.from(L.headers).normalize();let{responseType:z,onUploadProgress:Q,onDownloadProgress:te}=L,G,ie,Re,$e,Pe;function Me(){$e&&$e(),Pe&&Pe(),L.cancelToken&&L.cancelToken.unsubscribe(G),L.signal&&L.signal.removeEventListener("abort",G)}let Be=new XMLHttpRequest;Be.open(L.method.toUpperCase(),L.url,!0),Be.timeout=L.timeout;function Ke(){if(!Be)return;const qe=AxiosHeaders$1.from("getAllResponseHeaders"in Be&&Be.getAllResponseHeaders()),Ge={data:!z||z==="text"||z==="json"?Be.responseText:Be.response,status:Be.status,statusText:Be.statusText,headers:qe,config:T,request:Be};settle(function(ot){I(ot),Me()},function(ot){N(ot),Me()},Ge),Be=null}"onloadend"in Be?Be.onloadend=Ke:Be.onreadystatechange=function(){!Be||Be.readyState!==4||Be.status===0&&!(Be.responseURL&&Be.responseURL.indexOf("file:")===0)||setTimeout(Ke)},Be.onabort=function(){Be&&(N(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,T,Be)),Be=null)},Be.onerror=function(){N(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,T,Be)),Be=null},Be.ontimeout=function(){let He=L.timeout?"timeout of "+L.timeout+"ms exceeded":"timeout exceeded";const Ge=L.transitional||transitionalDefaults;L.timeoutErrorMessage&&(He=L.timeoutErrorMessage),N(new AxiosError$1(He,Ge.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,T,Be)),Be=null},B===void 0&&H.setContentType(null),"setRequestHeader"in Be&&utils$P.forEach(H.toJSON(),function(He,Ge){Be.setRequestHeader(Ge,He)}),utils$P.isUndefined(L.withCredentials)||(Be.withCredentials=!!L.withCredentials),z&&z!=="json"&&(Be.responseType=L.responseType),te&&([Re,Pe]=progressEventReducer(te,!0),Be.addEventListener("progress",Re)),Q&&Be.upload&&([ie,$e]=progressEventReducer(Q),Be.upload.addEventListener("progress",ie),Be.upload.addEventListener("loadend",$e)),(L.cancelToken||L.signal)&&(G=qe=>{Be&&(N(!qe||qe.type?new CanceledError$1(null,T,Be):qe),Be.abort(),Be=null)},L.cancelToken&&L.cancelToken.subscribe(G),L.signal&&(L.signal.aborted?G():L.signal.addEventListener("abort",G)));const Le=parseProtocol(L.url);if(Le&&platform.protocols.indexOf(Le)===-1){N(new AxiosError$1("Unsupported protocol "+Le+":",AxiosError$1.ERR_BAD_REQUEST,T));return}Be.send(B||null)})},composeSignals=(T,$)=>{const{length:I}=T=T?T.filter(Boolean):[];if($||I){let N=new AbortController,L;const B=function(te){if(!L){L=!0,z();const G=te instanceof Error?te:this.reason;N.abort(G instanceof AxiosError$1?G:new CanceledError$1(G instanceof Error?G.message:G))}};let H=$&&setTimeout(()=>{H=null,B(new AxiosError$1(`timeout ${$} of ms exceeded`,AxiosError$1.ETIMEDOUT))},$);const z=()=>{T&&(H&&clearTimeout(H),H=null,T.forEach(te=>{te.unsubscribe?te.unsubscribe(B):te.removeEventListener("abort",B)}),T=null)};T.forEach(te=>te.addEventListener("abort",B));const{signal:Q}=N;return Q.unsubscribe=()=>utils$P.asap(z),Q}},streamChunk=function*(T,$){let I=T.byteLength;if(I<$){yield T;return}let N=0,L;for(;N<I;)L=N+$,yield T.slice(N,L),N=L},readBytes=async function*(T,$){for await(const I of readStream(T))yield*streamChunk(I,$)},readStream=async function*(T){if(T[Symbol.asyncIterator]){yield*T;return}const $=T.getReader();try{for(;;){const{done:I,value:N}=await $.read();if(I)break;yield N}}finally{await $.cancel()}},trackStream=(T,$,I,N)=>{const L=readBytes(T,$);let B=0,H,z=Q=>{H||(H=!0,N&&N(Q))};return new ReadableStream({async pull(Q){try{const{done:te,value:G}=await L.next();if(te){z(),Q.close();return}let ie=G.byteLength;if(I){let Re=B+=ie;I(Re)}Q.enqueue(new Uint8Array(G))}catch(te){throw z(te),te}},cancel(Q){return z(Q),L.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(T=>$=>T.encode($))(new TextEncoder):async T=>new Uint8Array(await new Response(T).arrayBuffer())),test=(T,...$)=>{try{return!!T(...$)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let T=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!$}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$P.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(T=>T.body)};isFetchSupported&&(T=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$P.isFunction(T[$])?I=>I[$]():(I,N)=>{throw new AxiosError$1(`Response type '${$}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,N)})})})(new Response);const getBodyLength=async T=>{if(T==null)return 0;if(utils$P.isBlob(T))return T.size;if(utils$P.isSpecCompliantForm(T))return(await new Request(platform.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(utils$P.isArrayBufferView(T)||utils$P.isArrayBuffer(T))return T.byteLength;if(utils$P.isURLSearchParams(T)&&(T=T+""),utils$P.isString(T))return(await encodeText(T)).byteLength},resolveBodyLength=async(T,$)=>{const I=utils$P.toFiniteNumber(T.getContentLength());return I??getBodyLength($)},fetchAdapter=isFetchSupported&&(async T=>{let{url:$,method:I,data:N,signal:L,cancelToken:B,timeout:H,onDownloadProgress:z,onUploadProgress:Q,responseType:te,headers:G,withCredentials:ie="same-origin",fetchOptions:Re}=resolveConfig(T);te=te?(te+"").toLowerCase():"text";let $e=composeSignals([L,B&&B.toAbortSignal()],H),Pe;const Me=$e&&$e.unsubscribe&&(()=>{$e.unsubscribe()});let Be;try{if(Q&&supportsRequestStream&&I!=="get"&&I!=="head"&&(Be=await resolveBodyLength(G,N))!==0){let Ge=new Request($,{method:"POST",body:N,duplex:"half"}),at;if(utils$P.isFormData(N)&&(at=Ge.headers.get("content-type"))&&G.setContentType(at),Ge.body){const[ot,Ye]=progressEventDecorator(Be,progressEventReducer(asyncDecorator(Q)));N=trackStream(Ge.body,DEFAULT_CHUNK_SIZE,ot,Ye)}}utils$P.isString(ie)||(ie=ie?"include":"omit");const Ke="credentials"in Request.prototype;Pe=new Request($,{...Re,signal:$e,method:I.toUpperCase(),headers:G.normalize().toJSON(),body:N,duplex:"half",credentials:Ke?ie:void 0});let Le=await fetch(Pe);const qe=supportsResponseStream&&(te==="stream"||te==="response");if(supportsResponseStream&&(z||qe&&Me)){const Ge={};["status","statusText","headers"].forEach(nt=>{Ge[nt]=Le[nt]});const at=utils$P.toFiniteNumber(Le.headers.get("content-length")),[ot,Ye]=z&&progressEventDecorator(at,progressEventReducer(asyncDecorator(z),!0))||[];Le=new Response(trackStream(Le.body,DEFAULT_CHUNK_SIZE,ot,()=>{Ye&&Ye(),Me&&Me()}),Ge)}te=te||"text";let He=await resolvers[utils$P.findKey(resolvers,te)||"text"](Le,T);return!qe&&Me&&Me(),await new Promise((Ge,at)=>{settle(Ge,at,{data:He,headers:AxiosHeaders$1.from(Le.headers),status:Le.status,statusText:Le.statusText,config:T,request:Pe})})}catch(Ke){throw Me&&Me(),Ke&&Ke.name==="TypeError"&&/Load failed|fetch/i.test(Ke.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,T,Pe),{cause:Ke.cause||Ke}):AxiosError$1.from(Ke,Ke&&Ke.code,T,Pe)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$P.forEach(knownAdapters,(T,$)=>{if(T){try{Object.defineProperty(T,"name",{value:$})}catch{}Object.defineProperty(T,"adapterName",{value:$})}});const renderReason=T=>`- ${T}`,isResolvedHandle=T=>utils$P.isFunction(T)||T===null||T===!1,adapters={getAdapter:T=>{T=utils$P.isArray(T)?T:[T];const{length:$}=T;let I,N;const L={};for(let B=0;B<$;B++){I=T[B];let H;if(N=I,!isResolvedHandle(I)&&(N=knownAdapters[(H=String(I)).toLowerCase()],N===void 0))throw new AxiosError$1(`Unknown adapter '${H}'`);if(N)break;L[H||"#"+B]=N}if(!N){const B=Object.entries(L).map(([z,Q])=>`adapter ${z} `+(Q===!1?"is not supported by the environment":"is not available in the build"));let H=$?B.length>1?`since :
`+B.map(renderReason).join(`
`):" "+renderReason(B[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+H,"ERR_NOT_SUPPORT")}return N},adapters:knownAdapters};function throwIfCancellationRequested(T){if(T.cancelToken&&T.cancelToken.throwIfRequested(),T.signal&&T.signal.aborted)throw new CanceledError$1(null,T)}function dispatchRequest(T){return throwIfCancellationRequested(T),T.headers=AxiosHeaders$1.from(T.headers),T.data=transformData.call(T,T.transformRequest),["post","put","patch"].indexOf(T.method)!==-1&&T.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(T.adapter||defaults$4.adapter)(T).then(function(N){return throwIfCancellationRequested(T),N.data=transformData.call(T,T.transformResponse,N),N.headers=AxiosHeaders$1.from(N.headers),N},function(N){return isCancel$1(N)||(throwIfCancellationRequested(T),N&&N.response&&(N.response.data=transformData.call(T,T.transformResponse,N.response),N.response.headers=AxiosHeaders$1.from(N.response.headers))),Promise.reject(N)})}const VERSION$1="1.9.0",validators$g={};["object","boolean","number","function","string","symbol"].forEach((T,$)=>{validators$g[T]=function(N){return typeof N===T||"a"+($<1?"n ":" ")+T}});const deprecatedWarnings={};validators$g.transitional=function($,I,N){function L(B,H){return"[Axios v"+VERSION$1+"] Transitional option '"+B+"'"+H+(N?". "+N:"")}return(B,H,z)=>{if($===!1)throw new AxiosError$1(L(H," has been removed"+(I?" in "+I:"")),AxiosError$1.ERR_DEPRECATED);return I&&!deprecatedWarnings[H]&&(deprecatedWarnings[H]=!0,console.warn(L(H," has been deprecated since v"+I+" and will be removed in the near future"))),$?$(B,H,z):!0}};validators$g.spelling=function($){return(I,N)=>(console.warn(`${N} is likely a misspelling of ${$}`),!0)};function assertOptions(T,$,I){if(typeof T!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const N=Object.keys(T);let L=N.length;for(;L-- >0;){const B=N[L],H=$[B];if(H){const z=T[B],Q=z===void 0||H(z,B,T);if(Q!==!0)throw new AxiosError$1("option "+B+" must be "+Q,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(I!==!0)throw new AxiosError$1("Unknown option "+B,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$g},validators$f=validator.validators;let Axios$1=class{constructor($){this.defaults=$||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,I){try{return await this._request($,I)}catch(N){if(N instanceof Error){let L={};Error.captureStackTrace?Error.captureStackTrace(L):L=new Error;const B=L.stack?L.stack.replace(/^.+\n/,""):"";try{N.stack?B&&!String(N.stack).endsWith(B.replace(/^.+\n.+\n/,""))&&(N.stack+=`
`+B):N.stack=B}catch{}}throw N}}_request($,I){typeof $=="string"?(I=I||{},I.url=$):I=$||{},I=mergeConfig$1(this.defaults,I);const{transitional:N,paramsSerializer:L,headers:B}=I;N!==void 0&&validator.assertOptions(N,{silentJSONParsing:validators$f.transitional(validators$f.boolean),forcedJSONParsing:validators$f.transitional(validators$f.boolean),clarifyTimeoutError:validators$f.transitional(validators$f.boolean)},!1),L!=null&&(utils$P.isFunction(L)?I.paramsSerializer={serialize:L}:validator.assertOptions(L,{encode:validators$f.function,serialize:validators$f.function},!0)),I.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?I.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:I.allowAbsoluteUrls=!0),validator.assertOptions(I,{baseUrl:validators$f.spelling("baseURL"),withXsrfToken:validators$f.spelling("withXSRFToken")},!0),I.method=(I.method||this.defaults.method||"get").toLowerCase();let H=B&&utils$P.merge(B.common,B[I.method]);B&&utils$P.forEach(["delete","get","head","post","put","patch","common"],Pe=>{delete B[Pe]}),I.headers=AxiosHeaders$1.concat(H,B);const z=[];let Q=!0;this.interceptors.request.forEach(function(Me){typeof Me.runWhen=="function"&&Me.runWhen(I)===!1||(Q=Q&&Me.synchronous,z.unshift(Me.fulfilled,Me.rejected))});const te=[];this.interceptors.response.forEach(function(Me){te.push(Me.fulfilled,Me.rejected)});let G,ie=0,Re;if(!Q){const Pe=[dispatchRequest.bind(this),void 0];for(Pe.unshift.apply(Pe,z),Pe.push.apply(Pe,te),Re=Pe.length,G=Promise.resolve(I);ie<Re;)G=G.then(Pe[ie++],Pe[ie++]);return G}Re=z.length;let $e=I;for(ie=0;ie<Re;){const Pe=z[ie++],Me=z[ie++];try{$e=Pe($e)}catch(Be){Me.call(this,Be);break}}try{G=dispatchRequest.call(this,$e)}catch(Pe){return Promise.reject(Pe)}for(ie=0,Re=te.length;ie<Re;)G=G.then(te[ie++],te[ie++]);return G}getUri($){$=mergeConfig$1(this.defaults,$);const I=buildFullPath($.baseURL,$.url,$.allowAbsoluteUrls);return buildURL(I,$.params,$.paramsSerializer)}};utils$P.forEach(["delete","get","head","options"],function($){Axios$1.prototype[$]=function(I,N){return this.request(mergeConfig$1(N||{},{method:$,url:I,data:(N||{}).data}))}});utils$P.forEach(["post","put","patch"],function($){function I(N){return function(B,H,z){return this.request(mergeConfig$1(z||{},{method:$,headers:N?{"Content-Type":"multipart/form-data"}:{},url:B,data:H}))}}Axios$1.prototype[$]=I(),Axios$1.prototype[$+"Form"]=I(!0)});let CancelToken$1=class Df{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let I;this.promise=new Promise(function(B){I=B});const N=this;this.promise.then(L=>{if(!N._listeners)return;let B=N._listeners.length;for(;B-- >0;)N._listeners[B](L);N._listeners=null}),this.promise.then=L=>{let B;const H=new Promise(z=>{N.subscribe(z),B=z}).then(L);return H.cancel=function(){N.unsubscribe(B)},H},$(function(B,H,z){N.reason||(N.reason=new CanceledError$1(B,H,z),I(N.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const I=this._listeners.indexOf($);I!==-1&&this._listeners.splice(I,1)}toAbortSignal(){const $=new AbortController,I=N=>{$.abort(N)};return this.subscribe(I),$.signal.unsubscribe=()=>this.unsubscribe(I),$.signal}static source(){let $;return{token:new Df(function(L){$=L}),cancel:$}}};function spread$1(T){return function(I){return T.apply(null,I)}}function isAxiosError$1(T){return utils$P.isObject(T)&&T.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([T,$])=>{HttpStatusCode$1[$]=T});function createInstance(T){const $=new Axios$1(T),I=bind$4(Axios$1.prototype.request,$);return utils$P.extend(I,Axios$1.prototype,$,{allOwnKeys:!0}),utils$P.extend(I,$,null,{allOwnKeys:!0}),I.create=function(L){return createInstance(mergeConfig$1(T,L))},I}const axios=createInstance(defaults$4);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=T=>formDataToJSON(utils$P.isHTMLForm(T)?new FormData(T):T);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all:all$1,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,userReducer=(T,$)=>{let I;switch($.type){case"TOGGLE_THEME":I={...T,theme:T.theme==="light"?"dark":"light"},window.location.reload();break;case"DISABLE_NOTIFICATION":I={...T,notificationsEnabled:T.notificationsEnabled==!1};break;case"CREATE_HOLDINGS":case"GET_HOLDINGS":I={...T,holdings:[...T.holdings,...$.payload]};break;case"GET_PORTFOLIO_SUMMARY":I={...T,portfolioSummary:$.payload};break;case"GET_TX_HISTORY":I={...T,transactionHistory:[...T.transactionHistory,...$.payload]};break;case"GET_ARTICLES":I={...T,articles:[...T.articles,...$.payload]};break;default:return T}return localStorage.setItem("user_state",JSON.stringify(I)),I},STORAGE_KEY="zim_state",getInitialState=()=>{const T=localStorage.getItem(STORAGE_KEY);return T?JSON.parse(T):{theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",notificationsEnabled:!0,holdings:[],enabled2F:!1,portfolioSummary:{totalCryptoValue:0,totalFiatValue:0,totalValue:0},transactionHistory:[],articles:[]}},UserContext=reactExports.createContext({state:getInitialState(),dispatch:()=>null}),useWallet=()=>reactExports.useContext(UserContext),UserProvider=({children:T})=>{const[$,I]=reactExports.useReducer(userReducer,getInitialState());return reactExports.useEffect(()=>{localStorage.setItem(STORAGE_KEY,JSON.stringify($))},[$]),jsxRuntimeExports.jsx(UserContext.Provider,{value:{state:$,dispatch:I},children:T})},liquidityProviders=[{name:"AquaFinance Capital",did:"did:dht:3fkz5ssfxbriwks3iy5nwys3q5kyx64ettp9wfn1yfekfkiguj1y",offerings:["GHS to USDC","NGN to KES","KES to USD","USD to KES","NGN to USD","USD to NGN"]},{name:"Flowback Financial",did:"did:dht:zkp5gbsqgzn69b3y5dtt5nnpjtdq6sxyukpzo68npsf79bmtb9zy",offerings:["USD to EUR","EUR to USD","USD to GBP","USD to BTC","NGN to BSC"]}];var define_process_env_default$1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(T){const $=[];let I=0;for(let N=0;N<T.length;N++){let L=T.charCodeAt(N);L<128?$[I++]=L:L<2048?($[I++]=L>>6|192,$[I++]=L&63|128):(L&64512)===55296&&N+1<T.length&&(T.charCodeAt(N+1)&64512)===56320?(L=65536+((L&1023)<<10)+(T.charCodeAt(++N)&1023),$[I++]=L>>18|240,$[I++]=L>>12&63|128,$[I++]=L>>6&63|128,$[I++]=L&63|128):($[I++]=L>>12|224,$[I++]=L>>6&63|128,$[I++]=L&63|128)}return $},byteArrayToString=function(T){const $=[];let I=0,N=0;for(;I<T.length;){const L=T[I++];if(L<128)$[N++]=String.fromCharCode(L);else if(L>191&&L<224){const B=T[I++];$[N++]=String.fromCharCode((L&31)<<6|B&63)}else if(L>239&&L<365){const B=T[I++],H=T[I++],z=T[I++],Q=((L&7)<<18|(B&63)<<12|(H&63)<<6|z&63)-65536;$[N++]=String.fromCharCode(55296+(Q>>10)),$[N++]=String.fromCharCode(56320+(Q&1023))}else{const B=T[I++],H=T[I++];$[N++]=String.fromCharCode((L&15)<<12|(B&63)<<6|H&63)}}return $.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(T,$){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let L=0;L<T.length;L+=3){const B=T[L],H=L+1<T.length,z=H?T[L+1]:0,Q=L+2<T.length,te=Q?T[L+2]:0,G=B>>2,ie=(B&3)<<4|z>>4;let Re=(z&15)<<2|te>>6,$e=te&63;Q||($e=64,H||(Re=64)),N.push(I[G],I[ie],I[Re],I[$e])}return N.join("")},encodeString(T,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(T):this.encodeByteArray(stringToByteArray$1(T),$)},decodeString(T,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(T):byteArrayToString(this.decodeStringToByteArray(T,$))},decodeStringToByteArray(T,$){this.init_();const I=$?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let L=0;L<T.length;){const B=I[T.charAt(L++)],z=L<T.length?I[T.charAt(L)]:0;++L;const te=L<T.length?I[T.charAt(L)]:64;++L;const ie=L<T.length?I[T.charAt(L)]:64;if(++L,B==null||z==null||te==null||ie==null)throw new DecodeBase64StringError;const Re=B<<2|z>>4;if(N.push(Re),te!==64){const $e=z<<4&240|te>>2;if(N.push($e),ie!==64){const Pe=te<<6&192|ie;N.push(Pe)}}}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(T){const $=stringToByteArray$1(T);return base64$2.encodeByteArray($,!0)},base64urlEncodeWithoutPadding=function(T){return base64Encode(T).replace(/\./g,"")},base64Decode=function(T){try{return base64$2.decodeString(T,!0)}catch($){console.error("base64Decode failed: ",$)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process$1$1>"u"||typeof define_process_env_default$1>"u")return;const T=define_process_env_default$1.__FIREBASE_DEFAULTS__;if(T)return JSON.parse(T)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=T&&base64Decode(T[1]);return $&&JSON.parse($)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(T){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`);return}},getDefaultEmulatorHost=T=>{var $,I;return(I=($=getDefaults())===null||$===void 0?void 0:$.emulatorHosts)===null||I===void 0?void 0:I[T]},getDefaultEmulatorHostnameAndPort=T=>{const $=getDefaultEmulatorHost(T);if(!$)return;const I=$.lastIndexOf(":");if(I<=0||I+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const N=parseInt($.substring(I+1),10);return $[0]==="["?[$.substring(1,I-1),N]:[$.substring(0,I),N]},getDefaultAppConfig=()=>{var T;return(T=getDefaults())===null||T===void 0?void 0:T.config},getExperimentalSetting=T=>{var $;return($=getDefaults())===null||$===void 0?void 0:$[`_${T}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,I)=>{this.resolve=$,this.reject=I})}wrapCallback($){return(I,N)=>{I?this.reject(I):this.resolve(N),typeof $=="function"&&(this.promise.catch(()=>{}),$.length===1?$(I):$(I,N))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(T,$){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I={alg:"none",type:"JWT"},N=$||"demo-project",L=T.iat||0,B=T.sub||T.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:L,exp:L+3600,auth_time:L,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},T);return[base64urlEncodeWithoutPadding(JSON.stringify(I)),base64urlEncodeWithoutPadding(JSON.stringify(H)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var T;const $=(T=getDefaults())===null||T===void 0?void 0:T.forceEnvironment;if($==="node")return!0;if($==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const T=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof T=="object"&&T.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const T=getUA();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((T,$)=>{try{let I=!0;const N="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(N);L.onsuccess=()=>{L.result.close(),I||self.indexedDB.deleteDatabase(N),T(!0)},L.onupgradeneeded=()=>{I=!1},L.onerror=()=>{var B;$(((B=L.error)===null||B===void 0?void 0:B.message)||"")}}catch(I){$(I)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor($,I,N){super(I),this.code=$,this.customData=N,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor($,I,N){this.service=$,this.serviceName=I,this.errors=N}create($,...I){const N=I[0]||{},L=`${this.service}/${$}`,B=this.errors[$],H=B?replaceTemplate(B,N):"Error",z=`${this.serviceName}: ${H} (${L}).`;return new FirebaseError(L,z,N)}}function replaceTemplate(T,$){return T.replace(PATTERN,(I,N)=>{const L=$[N];return L!=null?String(L):`<${N}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(T){for(const $ in T)if(Object.prototype.hasOwnProperty.call(T,$))return!1;return!0}function deepEqual(T,$){if(T===$)return!0;const I=Object.keys(T),N=Object.keys($);for(const L of I){if(!N.includes(L))return!1;const B=T[L],H=$[L];if(isObject$9(B)&&isObject$9(H)){if(!deepEqual(B,H))return!1}else if(B!==H)return!1}for(const L of N)if(!I.includes(L))return!1;return!0}function isObject$9(T){return T!==null&&typeof T=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(T){const $=[];for(const[I,N]of Object.entries(T))Array.isArray(N)?N.forEach(L=>{$.push(encodeURIComponent(I)+"="+encodeURIComponent(L))}):$.push(encodeURIComponent(I)+"="+encodeURIComponent(N));return $.length?"&"+$.join("&"):""}function querystringDecode(T){const $={};return T.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[L,B]=N.split("=");$[decodeURIComponent(L)]=decodeURIComponent(B)}}),$}function extractQuerystring(T){const $=T.indexOf("?");if(!$)return"";const I=T.indexOf("#",$);return T.substring($,I>0?I:void 0)}function createSubscribe(T,$){const I=new ObserverProxy(T,$);return I.subscribe.bind(I)}class ObserverProxy{constructor($,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then(()=>{$(this)}).catch(N=>{this.error(N)})}next($){this.forEachObserver(I=>{I.next($)})}error($){this.forEachObserver(I=>{I.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,I,N){let L;if($===void 0&&I===void 0&&N===void 0)throw new Error("Missing Observer.");implementsAnyMethods($,["next","error","complete"])?L=$:L={next:$,error:I,complete:N},L.next===void 0&&(L.next=noop$4),L.error===void 0&&(L.error=noop$4),L.complete===void 0&&(L.complete=noop$4);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),B}unsubscribeOne($){this.observers===void 0||this.observers[$]===void 0||(delete this.observers[$],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,$)}sendOne($,I){this.task.then(()=>{if(this.observers!==void 0&&this.observers[$]!==void 0)try{I(this.observers[$])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close($){this.finalized||(this.finalized=!0,$!==void 0&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(T,$){if(typeof T!="object"||T===null)return!1;for(const I of $)if(I in T&&typeof T[I]=="function")return!0;return!1}function noop$4(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(T,$=DEFAULT_INTERVAL_MILLIS,I=DEFAULT_BACKOFF_FACTOR){const N=$*Math.pow(I,T),L=Math.round(RANDOM_FACTOR*N*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,N+L)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(T){return T&&T._delegate?T._delegate:T}class Component{constructor($,I,N){this.name=$,this.instanceFactory=I,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor($,I){this.name=$,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const I=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(I)){const N=new Deferred;if(this.instancesDeferred.set(I,N),this.isInitialized(I)||this.shouldAutoInitialize())try{const L=this.getOrInitializeService({instanceIdentifier:I});L&&N.resolve(L)}catch{}}return this.instancesDeferred.get(I).promise}getImmediate($){var I;const N=this.normalizeInstanceIdentifier($==null?void 0:$.identifier),L=(I=$==null?void 0:$.optional)!==null&&I!==void 0?I:!1;if(this.isInitialized(N)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:N})}catch(B){if(L)return null;throw B}else{if(L)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,!!this.shouldAutoInitialize()){if(isComponentEager($))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[I,N]of this.instancesDeferred.entries()){const L=this.normalizeInstanceIdentifier(I);try{const B=this.getOrInitializeService({instanceIdentifier:L});N.resolve(B)}catch{}}}}clearInstance($=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}async delete(){const $=Array.from(this.instances.values());await Promise.all([...$.filter(I=>"INTERNAL"in I).map(I=>I.INTERNAL.delete()),...$.filter(I=>"_delete"in I).map(I=>I._delete())])}isComponentSet(){return this.component!=null}isInitialized($=DEFAULT_ENTRY_NAME$1){return this.instances.has($)}getOptions($=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get($)||{}}initialize($={}){const{options:I={}}=$,N=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const L=this.getOrInitializeService({instanceIdentifier:N,options:I});for(const[B,H]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(B);N===z&&H.resolve(L)}return L}onInit($,I){var N;const L=this.normalizeInstanceIdentifier(I),B=(N=this.onInitCallbacks.get(L))!==null&&N!==void 0?N:new Set;B.add($),this.onInitCallbacks.set(L,B);const H=this.instances.get(L);return H&&$(H,L),()=>{B.delete($)}}invokeOnInitCallbacks($,I){const N=this.onInitCallbacks.get(I);if(N)for(const L of N)try{L($,I)}catch{}}getOrInitializeService({instanceIdentifier:$,options:I={}}){let N=this.instances.get($);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory($),options:I}),this.instances.set($,N),this.instancesOptions.set($,I),this.invokeOnInitCallbacks(N,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,N)}catch{}return N||null}normalizeInstanceIdentifier($=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?$:DEFAULT_ENTRY_NAME$1:$}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(T){return T===DEFAULT_ENTRY_NAME$1?void 0:T}function isComponentEager(T){return T.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor($){this.name=$,this.providers=new Map}addComponent($){const I=this.getProvider($.name);if(I.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);I.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const I=new Provider($,this);return this.providers.set($,I),I}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(T){T[T.DEBUG=0]="DEBUG",T[T.VERBOSE=1]="VERBOSE",T[T.INFO=2]="INFO",T[T.WARN=3]="WARN",T[T.ERROR=4]="ERROR",T[T.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(T,$,...I)=>{if($<T.logLevel)return;const N=new Date().toISOString(),L=ConsoleMethod[$];if(L)console[L](`[${N}]  ${T.name}:`,...I);else throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`)};class Logger{constructor($){this.name=$,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel($){if(!($ in LogLevel))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel=typeof $=="string"?levelStringToEnum[$]:$}get logHandler(){return this._logHandler}set logHandler($){if(typeof $!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...$),this._logHandler(this,LogLevel.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...$),this._logHandler(this,LogLevel.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...$),this._logHandler(this,LogLevel.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...$),this._logHandler(this,LogLevel.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...$),this._logHandler(this,LogLevel.ERROR,...$)}}const instanceOfAny=(T,$)=>$.some(I=>T instanceof I);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(T){const $=new Promise((I,N)=>{const L=()=>{T.removeEventListener("success",B),T.removeEventListener("error",H)},B=()=>{I(wrap(T.result)),L()},H=()=>{N(T.error),L()};T.addEventListener("success",B),T.addEventListener("error",H)});return $.then(I=>{I instanceof IDBCursor&&cursorRequestMap.set(I,T)}).catch(()=>{}),reverseTransformCache.set($,T),$}function cacheDonePromiseForTransaction(T){if(transactionDoneMap.has(T))return;const $=new Promise((I,N)=>{const L=()=>{T.removeEventListener("complete",B),T.removeEventListener("error",H),T.removeEventListener("abort",H)},B=()=>{I(),L()},H=()=>{N(T.error||new DOMException("AbortError","AbortError")),L()};T.addEventListener("complete",B),T.addEventListener("error",H),T.addEventListener("abort",H)});transactionDoneMap.set(T,$)}let idbProxyTraps={get(T,$,I){if(T instanceof IDBTransaction){if($==="done")return transactionDoneMap.get(T);if($==="objectStoreNames")return T.objectStoreNames||transactionStoreNamesMap.get(T);if($==="store")return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return wrap(T[$])},set(T,$,I){return T[$]=I,!0},has(T,$){return T instanceof IDBTransaction&&($==="done"||$==="store")?!0:$ in T}};function replaceTraps(T){idbProxyTraps=T(idbProxyTraps)}function wrapFunction(T){return T===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function($,...I){const N=T.call(unwrap(this),$,...I);return transactionStoreNamesMap.set(N,$.sort?$.sort():[$]),wrap(N)}:getCursorAdvanceMethods().includes(T)?function(...$){return T.apply(unwrap(this),$),wrap(cursorRequestMap.get(this))}:function(...$){return wrap(T.apply(unwrap(this),$))}}function transformCachableValue(T){return typeof T=="function"?wrapFunction(T):(T instanceof IDBTransaction&&cacheDonePromiseForTransaction(T),instanceOfAny(T,getIdbProxyableTypes())?new Proxy(T,idbProxyTraps):T)}function wrap(T){if(T instanceof IDBRequest)return promisifyRequest(T);if(transformCache.has(T))return transformCache.get(T);const $=transformCachableValue(T);return $!==T&&(transformCache.set(T,$),reverseTransformCache.set($,T)),$}const unwrap=T=>reverseTransformCache.get(T);function openDB(T,$,{blocked:I,upgrade:N,blocking:L,terminated:B}={}){const H=indexedDB.open(T,$),z=wrap(H);return N&&H.addEventListener("upgradeneeded",Q=>{N(wrap(H.result),Q.oldVersion,Q.newVersion,wrap(H.transaction),Q)}),I&&H.addEventListener("blocked",Q=>I(Q.oldVersion,Q.newVersion,Q)),z.then(Q=>{B&&Q.addEventListener("close",()=>B()),L&&Q.addEventListener("versionchange",te=>L(te.oldVersion,te.newVersion,te))}).catch(()=>{}),z}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(T,$){if(!(T instanceof IDBDatabase&&!($ in T)&&typeof $=="string"))return;if(cachedMethods.get($))return cachedMethods.get($);const I=$.replace(/FromIndex$/,""),N=$!==I,L=writeMethods.includes(I);if(!(I in(N?IDBIndex:IDBObjectStore).prototype)||!(L||readMethods.includes(I)))return;const B=async function(H,...z){const Q=this.transaction(H,L?"readwrite":"readonly");let te=Q.store;return N&&(te=te.index(z.shift())),(await Promise.all([te[I](...z),L&&Q.done]))[0]};return cachedMethods.set($,B),B}replaceTraps(T=>({...T,get:($,I,N)=>getMethod($,I)||T.get($,I,N),has:($,I)=>!!getMethod($,I)||T.has($,I)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(I=>{if(isVersionServiceProvider(I)){const N=I.getImmediate();return`${N.library}/${N.version}`}else return null}).filter(I=>I).join(" ")}}function isVersionServiceProvider(T){const $=T.getComponent();return($==null?void 0:$.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$2=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5$1="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5$1]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(T,$){try{T.container.addComponent($)}catch(I){logger$2.debug(`Component ${$.name} failed to register with FirebaseApp ${T.name}`,I)}}function _registerComponent(T){const $=T.name;if(_components.has($))return logger$2.debug(`There were multiple attempts to register component ${$}.`),!1;_components.set($,T);for(const I of _apps.values())_addComponent(I,T);for(const I of _serverApps.values())_addComponent(I,T);return!0}function _getProvider(T,$){const I=T.container.getProvider("heartbeat").getImmediate({optional:!0});return I&&I.triggerHeartbeat(),T.container.getProvider($)}function _isFirebaseServerApp(T){return T.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor($,I,N){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=N,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$8;function initializeApp(T,$={}){let I=T;typeof $!="object"&&($={name:$});const N=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},$),L=N.name;if(typeof L!="string"||!L)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(L)});if(I||(I=getDefaultAppConfig()),!I)throw ERROR_FACTORY$2.create("no-options");const B=_apps.get(L);if(B){if(deepEqual(I,B.options)&&deepEqual(N,B.config))return B;throw ERROR_FACTORY$2.create("duplicate-app",{appName:L})}const H=new ComponentContainer(L);for(const Q of _components.values())H.addComponent(Q);const z=new FirebaseAppImpl(I,N,H);return _apps.set(L,z),z}function getApp(T=DEFAULT_ENTRY_NAME){const $=_apps.get(T);if(!$&&T===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!$)throw ERROR_FACTORY$2.create("no-app",{appName:T});return $}function registerVersion(T,$,I){var N;let L=(N=PLATFORM_LOG_STRING[T])!==null&&N!==void 0?N:T;I&&(L+=`-${I}`);const B=L.match(/\s|\//),H=$.match(/\s|\//);if(B||H){const z=[`Unable to register library "${L}" with version "${$}":`];B&&z.push(`library name "${L}" contains illegal characters (whitespace or "/")`),B&&H&&z.push("and"),H&&z.push(`version name "${$}" contains illegal characters (whitespace or "/")`),logger$2.warn(z.join(" "));return}_registerComponent(new Component(`${L}-version`,()=>({library:L,version:$}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(T,$)=>{switch($){case 0:try{T.createObjectStore(STORE_NAME)}catch(I){console.warn(I)}}}}).catch(T=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:T.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(T){try{const I=(await getDbPromise$1()).transaction(STORE_NAME),N=await I.objectStore(STORE_NAME).get(computeKey(T));return await I.done,N}catch($){if($ instanceof FirebaseError)logger$2.warn($.message);else{const I=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:$==null?void 0:$.message});logger$2.warn(I.message)}}}async function writeHeartbeatsToIndexedDB(T,$){try{const N=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await N.objectStore(STORE_NAME).put($,computeKey(T)),await N.done}catch(I){if(I instanceof FirebaseError)logger$2.warn(I.message);else{const N=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:I==null?void 0:I.message});logger$2.warn(N.message)}}}function computeKey(T){return`${T.name}!${T.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor($){this.container=$,this._heartbeatsCache=null;const I=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(I),this._heartbeatsCachePromise=this._storage.read().then(N=>(this._heartbeatsCache=N,N))}async triggerHeartbeat(){var $,I;try{const L=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),B=getUTCDateString();return(($=this._heartbeatsCache)===null||$===void 0?void 0:$.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((I=this._heartbeatsCache)===null||I===void 0?void 0:I.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===B||this._heartbeatsCache.heartbeats.some(H=>H.date===B)?void 0:(this._heartbeatsCache.heartbeats.push({date:B,agent:L}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(H=>{const z=new Date(H.date).valueOf();return Date.now()-z<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(N){logger$2.warn(N)}}async getHeartbeatsHeader(){var $;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,(($=this._heartbeatsCache)===null||$===void 0?void 0:$.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const I=getUTCDateString(),{heartbeatsToSend:N,unsentEntries:L}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),B=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:N}));return this._heartbeatsCache.lastSentHeartbeatDate=I,L.length>0?(this._heartbeatsCache.heartbeats=L,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),B}catch(I){return logger$2.warn(I),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(T,$=MAX_HEADER_BYTES){const I=[];let N=T.slice();for(const L of T){const B=I.find(H=>H.agent===L.agent);if(B){if(B.dates.push(L.date),countBytes(I)>$){B.dates.pop();break}}else if(I.push({agent:L.agent,dates:[L.date]}),countBytes(I)>$){I.pop();break}N=N.slice(1)}return{heartbeatsToSend:I,unsentEntries:N}}class HeartbeatStorageImpl{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const I=await readHeartbeatsFromIndexedDB(this.app);return I!=null&&I.heartbeats?I:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite($){var I;if(await this._canUseIndexedDBPromise){const L=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(I=$.lastSentHeartbeatDate)!==null&&I!==void 0?I:L.lastSentHeartbeatDate,heartbeats:$.heartbeats})}else return}async add($){var I;if(await this._canUseIndexedDBPromise){const L=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(I=$.lastSentHeartbeatDate)!==null&&I!==void 0?I:L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...$.heartbeats]})}else return}}function countBytes(T){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:T})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(T){_registerComponent(new Component("platform-logger",$=>new PlatformLoggerServiceImpl($),"PRIVATE")),_registerComponent(new Component("heartbeat",$=>new HeartbeatServiceImpl($),"PRIVATE")),registerVersion(name$q,version$1$1,T),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var T;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function $(ot,Ye){function nt(){}nt.prototype=Ye.prototype,ot.D=Ye.prototype,ot.prototype=new nt,ot.prototype.constructor=ot,ot.C=function(Qe,tt,ze){for(var Fe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)Fe[ke-2]=arguments[ke];return Ye.prototype[tt].apply(Qe,Fe)}}function I(){this.blockSize=-1}function N(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}$(N,I),N.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function L(ot,Ye,nt){nt||(nt=0);var Qe=Array(16);if(typeof Ye=="string")for(var tt=0;16>tt;++tt)Qe[tt]=Ye.charCodeAt(nt++)|Ye.charCodeAt(nt++)<<8|Ye.charCodeAt(nt++)<<16|Ye.charCodeAt(nt++)<<24;else for(tt=0;16>tt;++tt)Qe[tt]=Ye[nt++]|Ye[nt++]<<8|Ye[nt++]<<16|Ye[nt++]<<24;Ye=ot.g[0],nt=ot.g[1],tt=ot.g[2];var ze=ot.g[3],Fe=Ye+(ze^nt&(tt^ze))+Qe[0]+3614090360&4294967295;Ye=nt+(Fe<<7&4294967295|Fe>>>25),Fe=ze+(tt^Ye&(nt^tt))+Qe[1]+3905402710&4294967295,ze=Ye+(Fe<<12&4294967295|Fe>>>20),Fe=tt+(nt^ze&(Ye^nt))+Qe[2]+606105819&4294967295,tt=ze+(Fe<<17&4294967295|Fe>>>15),Fe=nt+(Ye^tt&(ze^Ye))+Qe[3]+3250441966&4294967295,nt=tt+(Fe<<22&4294967295|Fe>>>10),Fe=Ye+(ze^nt&(tt^ze))+Qe[4]+4118548399&4294967295,Ye=nt+(Fe<<7&4294967295|Fe>>>25),Fe=ze+(tt^Ye&(nt^tt))+Qe[5]+1200080426&4294967295,ze=Ye+(Fe<<12&4294967295|Fe>>>20),Fe=tt+(nt^ze&(Ye^nt))+Qe[6]+2821735955&4294967295,tt=ze+(Fe<<17&4294967295|Fe>>>15),Fe=nt+(Ye^tt&(ze^Ye))+Qe[7]+4249261313&4294967295,nt=tt+(Fe<<22&4294967295|Fe>>>10),Fe=Ye+(ze^nt&(tt^ze))+Qe[8]+1770035416&4294967295,Ye=nt+(Fe<<7&4294967295|Fe>>>25),Fe=ze+(tt^Ye&(nt^tt))+Qe[9]+2336552879&4294967295,ze=Ye+(Fe<<12&4294967295|Fe>>>20),Fe=tt+(nt^ze&(Ye^nt))+Qe[10]+4294925233&4294967295,tt=ze+(Fe<<17&4294967295|Fe>>>15),Fe=nt+(Ye^tt&(ze^Ye))+Qe[11]+2304563134&4294967295,nt=tt+(Fe<<22&4294967295|Fe>>>10),Fe=Ye+(ze^nt&(tt^ze))+Qe[12]+1804603682&4294967295,Ye=nt+(Fe<<7&4294967295|Fe>>>25),Fe=ze+(tt^Ye&(nt^tt))+Qe[13]+4254626195&4294967295,ze=Ye+(Fe<<12&4294967295|Fe>>>20),Fe=tt+(nt^ze&(Ye^nt))+Qe[14]+2792965006&4294967295,tt=ze+(Fe<<17&4294967295|Fe>>>15),Fe=nt+(Ye^tt&(ze^Ye))+Qe[15]+1236535329&4294967295,nt=tt+(Fe<<22&4294967295|Fe>>>10),Fe=Ye+(tt^ze&(nt^tt))+Qe[1]+4129170786&4294967295,Ye=nt+(Fe<<5&4294967295|Fe>>>27),Fe=ze+(nt^tt&(Ye^nt))+Qe[6]+3225465664&4294967295,ze=Ye+(Fe<<9&4294967295|Fe>>>23),Fe=tt+(Ye^nt&(ze^Ye))+Qe[11]+643717713&4294967295,tt=ze+(Fe<<14&4294967295|Fe>>>18),Fe=nt+(ze^Ye&(tt^ze))+Qe[0]+3921069994&4294967295,nt=tt+(Fe<<20&4294967295|Fe>>>12),Fe=Ye+(tt^ze&(nt^tt))+Qe[5]+3593408605&4294967295,Ye=nt+(Fe<<5&4294967295|Fe>>>27),Fe=ze+(nt^tt&(Ye^nt))+Qe[10]+38016083&4294967295,ze=Ye+(Fe<<9&4294967295|Fe>>>23),Fe=tt+(Ye^nt&(ze^Ye))+Qe[15]+3634488961&4294967295,tt=ze+(Fe<<14&4294967295|Fe>>>18),Fe=nt+(ze^Ye&(tt^ze))+Qe[4]+3889429448&4294967295,nt=tt+(Fe<<20&4294967295|Fe>>>12),Fe=Ye+(tt^ze&(nt^tt))+Qe[9]+568446438&4294967295,Ye=nt+(Fe<<5&4294967295|Fe>>>27),Fe=ze+(nt^tt&(Ye^nt))+Qe[14]+3275163606&4294967295,ze=Ye+(Fe<<9&4294967295|Fe>>>23),Fe=tt+(Ye^nt&(ze^Ye))+Qe[3]+4107603335&4294967295,tt=ze+(Fe<<14&4294967295|Fe>>>18),Fe=nt+(ze^Ye&(tt^ze))+Qe[8]+1163531501&4294967295,nt=tt+(Fe<<20&4294967295|Fe>>>12),Fe=Ye+(tt^ze&(nt^tt))+Qe[13]+2850285829&4294967295,Ye=nt+(Fe<<5&4294967295|Fe>>>27),Fe=ze+(nt^tt&(Ye^nt))+Qe[2]+4243563512&4294967295,ze=Ye+(Fe<<9&4294967295|Fe>>>23),Fe=tt+(Ye^nt&(ze^Ye))+Qe[7]+1735328473&4294967295,tt=ze+(Fe<<14&4294967295|Fe>>>18),Fe=nt+(ze^Ye&(tt^ze))+Qe[12]+2368359562&4294967295,nt=tt+(Fe<<20&4294967295|Fe>>>12),Fe=Ye+(nt^tt^ze)+Qe[5]+4294588738&4294967295,Ye=nt+(Fe<<4&4294967295|Fe>>>28),Fe=ze+(Ye^nt^tt)+Qe[8]+2272392833&4294967295,ze=Ye+(Fe<<11&4294967295|Fe>>>21),Fe=tt+(ze^Ye^nt)+Qe[11]+1839030562&4294967295,tt=ze+(Fe<<16&4294967295|Fe>>>16),Fe=nt+(tt^ze^Ye)+Qe[14]+4259657740&4294967295,nt=tt+(Fe<<23&4294967295|Fe>>>9),Fe=Ye+(nt^tt^ze)+Qe[1]+2763975236&4294967295,Ye=nt+(Fe<<4&4294967295|Fe>>>28),Fe=ze+(Ye^nt^tt)+Qe[4]+1272893353&4294967295,ze=Ye+(Fe<<11&4294967295|Fe>>>21),Fe=tt+(ze^Ye^nt)+Qe[7]+4139469664&4294967295,tt=ze+(Fe<<16&4294967295|Fe>>>16),Fe=nt+(tt^ze^Ye)+Qe[10]+3200236656&4294967295,nt=tt+(Fe<<23&4294967295|Fe>>>9),Fe=Ye+(nt^tt^ze)+Qe[13]+681279174&4294967295,Ye=nt+(Fe<<4&4294967295|Fe>>>28),Fe=ze+(Ye^nt^tt)+Qe[0]+3936430074&4294967295,ze=Ye+(Fe<<11&4294967295|Fe>>>21),Fe=tt+(ze^Ye^nt)+Qe[3]+3572445317&4294967295,tt=ze+(Fe<<16&4294967295|Fe>>>16),Fe=nt+(tt^ze^Ye)+Qe[6]+76029189&4294967295,nt=tt+(Fe<<23&4294967295|Fe>>>9),Fe=Ye+(nt^tt^ze)+Qe[9]+3654602809&4294967295,Ye=nt+(Fe<<4&4294967295|Fe>>>28),Fe=ze+(Ye^nt^tt)+Qe[12]+3873151461&4294967295,ze=Ye+(Fe<<11&4294967295|Fe>>>21),Fe=tt+(ze^Ye^nt)+Qe[15]+530742520&4294967295,tt=ze+(Fe<<16&4294967295|Fe>>>16),Fe=nt+(tt^ze^Ye)+Qe[2]+3299628645&4294967295,nt=tt+(Fe<<23&4294967295|Fe>>>9),Fe=Ye+(tt^(nt|~ze))+Qe[0]+4096336452&4294967295,Ye=nt+(Fe<<6&4294967295|Fe>>>26),Fe=ze+(nt^(Ye|~tt))+Qe[7]+1126891415&4294967295,ze=Ye+(Fe<<10&4294967295|Fe>>>22),Fe=tt+(Ye^(ze|~nt))+Qe[14]+2878612391&4294967295,tt=ze+(Fe<<15&4294967295|Fe>>>17),Fe=nt+(ze^(tt|~Ye))+Qe[5]+4237533241&4294967295,nt=tt+(Fe<<21&4294967295|Fe>>>11),Fe=Ye+(tt^(nt|~ze))+Qe[12]+1700485571&4294967295,Ye=nt+(Fe<<6&4294967295|Fe>>>26),Fe=ze+(nt^(Ye|~tt))+Qe[3]+2399980690&4294967295,ze=Ye+(Fe<<10&4294967295|Fe>>>22),Fe=tt+(Ye^(ze|~nt))+Qe[10]+4293915773&4294967295,tt=ze+(Fe<<15&4294967295|Fe>>>17),Fe=nt+(ze^(tt|~Ye))+Qe[1]+2240044497&4294967295,nt=tt+(Fe<<21&4294967295|Fe>>>11),Fe=Ye+(tt^(nt|~ze))+Qe[8]+1873313359&4294967295,Ye=nt+(Fe<<6&4294967295|Fe>>>26),Fe=ze+(nt^(Ye|~tt))+Qe[15]+4264355552&4294967295,ze=Ye+(Fe<<10&4294967295|Fe>>>22),Fe=tt+(Ye^(ze|~nt))+Qe[6]+2734768916&4294967295,tt=ze+(Fe<<15&4294967295|Fe>>>17),Fe=nt+(ze^(tt|~Ye))+Qe[13]+1309151649&4294967295,nt=tt+(Fe<<21&4294967295|Fe>>>11),Fe=Ye+(tt^(nt|~ze))+Qe[4]+4149444226&4294967295,Ye=nt+(Fe<<6&4294967295|Fe>>>26),Fe=ze+(nt^(Ye|~tt))+Qe[11]+3174756917&4294967295,ze=Ye+(Fe<<10&4294967295|Fe>>>22),Fe=tt+(Ye^(ze|~nt))+Qe[2]+718787259&4294967295,tt=ze+(Fe<<15&4294967295|Fe>>>17),Fe=nt+(ze^(tt|~Ye))+Qe[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+Ye&4294967295,ot.g[1]=ot.g[1]+(tt+(Fe<<21&4294967295|Fe>>>11))&4294967295,ot.g[2]=ot.g[2]+tt&4294967295,ot.g[3]=ot.g[3]+ze&4294967295}N.prototype.u=function(ot,Ye){Ye===void 0&&(Ye=ot.length);for(var nt=Ye-this.blockSize,Qe=this.B,tt=this.h,ze=0;ze<Ye;){if(tt==0)for(;ze<=nt;)L(this,ot,ze),ze+=this.blockSize;if(typeof ot=="string"){for(;ze<Ye;)if(Qe[tt++]=ot.charCodeAt(ze++),tt==this.blockSize){L(this,Qe),tt=0;break}}else for(;ze<Ye;)if(Qe[tt++]=ot[ze++],tt==this.blockSize){L(this,Qe),tt=0;break}}this.h=tt,this.o+=Ye},N.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var Ye=1;Ye<ot.length-8;++Ye)ot[Ye]=0;var nt=8*this.o;for(Ye=ot.length-8;Ye<ot.length;++Ye)ot[Ye]=nt&255,nt/=256;for(this.u(ot),ot=Array(16),Ye=nt=0;4>Ye;++Ye)for(var Qe=0;32>Qe;Qe+=8)ot[nt++]=this.g[Ye]>>>Qe&255;return ot};function B(ot,Ye){var nt=z;return Object.prototype.hasOwnProperty.call(nt,ot)?nt[ot]:nt[ot]=Ye(ot)}function H(ot,Ye){this.h=Ye;for(var nt=[],Qe=!0,tt=ot.length-1;0<=tt;tt--){var ze=ot[tt]|0;Qe&&ze==Ye||(nt[tt]=ze,Qe=!1)}this.g=nt}var z={};function Q(ot){return-128<=ot&&128>ot?B(ot,function(Ye){return new H([Ye|0],0>Ye?-1:0)}):new H([ot|0],0>ot?-1:0)}function te(ot){if(isNaN(ot)||!isFinite(ot))return ie;if(0>ot)return Be(te(-ot));for(var Ye=[],nt=1,Qe=0;ot>=nt;Qe++)Ye[Qe]=ot/nt|0,nt*=4294967296;return new H(Ye,0)}function G(ot,Ye){if(ot.length==0)throw Error("number format error: empty string");if(Ye=Ye||10,2>Ye||36<Ye)throw Error("radix out of range: "+Ye);if(ot.charAt(0)=="-")return Be(G(ot.substring(1),Ye));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var nt=te(Math.pow(Ye,8)),Qe=ie,tt=0;tt<ot.length;tt+=8){var ze=Math.min(8,ot.length-tt),Fe=parseInt(ot.substring(tt,tt+ze),Ye);8>ze?(ze=te(Math.pow(Ye,ze)),Qe=Qe.j(ze).add(te(Fe))):(Qe=Qe.j(nt),Qe=Qe.add(te(Fe)))}return Qe}var ie=Q(0),Re=Q(1),$e=Q(16777216);T=H.prototype,T.m=function(){if(Me(this))return-Be(this).m();for(var ot=0,Ye=1,nt=0;nt<this.g.length;nt++){var Qe=this.i(nt);ot+=(0<=Qe?Qe:4294967296+Qe)*Ye,Ye*=4294967296}return ot},T.toString=function(ot){if(ot=ot||10,2>ot||36<ot)throw Error("radix out of range: "+ot);if(Pe(this))return"0";if(Me(this))return"-"+Be(this).toString(ot);for(var Ye=te(Math.pow(ot,6)),nt=this,Qe="";;){var tt=He(nt,Ye).g;nt=Ke(nt,tt.j(Ye));var ze=((0<nt.g.length?nt.g[0]:nt.h)>>>0).toString(ot);if(nt=tt,Pe(nt))return ze+Qe;for(;6>ze.length;)ze="0"+ze;Qe=ze+Qe}},T.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h};function Pe(ot){if(ot.h!=0)return!1;for(var Ye=0;Ye<ot.g.length;Ye++)if(ot.g[Ye]!=0)return!1;return!0}function Me(ot){return ot.h==-1}T.l=function(ot){return ot=Ke(this,ot),Me(ot)?-1:Pe(ot)?0:1};function Be(ot){for(var Ye=ot.g.length,nt=[],Qe=0;Qe<Ye;Qe++)nt[Qe]=~ot.g[Qe];return new H(nt,~ot.h).add(Re)}T.abs=function(){return Me(this)?Be(this):this},T.add=function(ot){for(var Ye=Math.max(this.g.length,ot.g.length),nt=[],Qe=0,tt=0;tt<=Ye;tt++){var ze=Qe+(this.i(tt)&65535)+(ot.i(tt)&65535),Fe=(ze>>>16)+(this.i(tt)>>>16)+(ot.i(tt)>>>16);Qe=Fe>>>16,ze&=65535,Fe&=65535,nt[tt]=Fe<<16|ze}return new H(nt,nt[nt.length-1]&-2147483648?-1:0)};function Ke(ot,Ye){return ot.add(Be(Ye))}T.j=function(ot){if(Pe(this)||Pe(ot))return ie;if(Me(this))return Me(ot)?Be(this).j(Be(ot)):Be(Be(this).j(ot));if(Me(ot))return Be(this.j(Be(ot)));if(0>this.l($e)&&0>ot.l($e))return te(this.m()*ot.m());for(var Ye=this.g.length+ot.g.length,nt=[],Qe=0;Qe<2*Ye;Qe++)nt[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var tt=0;tt<ot.g.length;tt++){var ze=this.i(Qe)>>>16,Fe=this.i(Qe)&65535,ke=ot.i(tt)>>>16,Ue=ot.i(tt)&65535;nt[2*Qe+2*tt]+=Fe*Ue,Le(nt,2*Qe+2*tt),nt[2*Qe+2*tt+1]+=ze*Ue,Le(nt,2*Qe+2*tt+1),nt[2*Qe+2*tt+1]+=Fe*ke,Le(nt,2*Qe+2*tt+1),nt[2*Qe+2*tt+2]+=ze*ke,Le(nt,2*Qe+2*tt+2)}for(Qe=0;Qe<Ye;Qe++)nt[Qe]=nt[2*Qe+1]<<16|nt[2*Qe];for(Qe=Ye;Qe<2*Ye;Qe++)nt[Qe]=0;return new H(nt,0)};function Le(ot,Ye){for(;(ot[Ye]&65535)!=ot[Ye];)ot[Ye+1]+=ot[Ye]>>>16,ot[Ye]&=65535,Ye++}function qe(ot,Ye){this.g=ot,this.h=Ye}function He(ot,Ye){if(Pe(Ye))throw Error("division by zero");if(Pe(ot))return new qe(ie,ie);if(Me(ot))return Ye=He(Be(ot),Ye),new qe(Be(Ye.g),Be(Ye.h));if(Me(Ye))return Ye=He(ot,Be(Ye)),new qe(Be(Ye.g),Ye.h);if(30<ot.g.length){if(Me(ot)||Me(Ye))throw Error("slowDivide_ only works with positive integers.");for(var nt=Re,Qe=Ye;0>=Qe.l(ot);)nt=Ge(nt),Qe=Ge(Qe);var tt=at(nt,1),ze=at(Qe,1);for(Qe=at(Qe,2),nt=at(nt,2);!Pe(Qe);){var Fe=ze.add(Qe);0>=Fe.l(ot)&&(tt=tt.add(nt),ze=Fe),Qe=at(Qe,1),nt=at(nt,1)}return Ye=Ke(ot,tt.j(Ye)),new qe(tt,Ye)}for(tt=ie;0<=ot.l(Ye);){for(nt=Math.max(1,Math.floor(ot.m()/Ye.m())),Qe=Math.ceil(Math.log(nt)/Math.LN2),Qe=48>=Qe?1:Math.pow(2,Qe-48),ze=te(nt),Fe=ze.j(Ye);Me(Fe)||0<Fe.l(ot);)nt-=Qe,ze=te(nt),Fe=ze.j(Ye);Pe(ze)&&(ze=Re),tt=tt.add(ze),ot=Ke(ot,Fe)}return new qe(tt,ot)}T.A=function(ot){return He(this,ot).h},T.and=function(ot){for(var Ye=Math.max(this.g.length,ot.g.length),nt=[],Qe=0;Qe<Ye;Qe++)nt[Qe]=this.i(Qe)&ot.i(Qe);return new H(nt,this.h&ot.h)},T.or=function(ot){for(var Ye=Math.max(this.g.length,ot.g.length),nt=[],Qe=0;Qe<Ye;Qe++)nt[Qe]=this.i(Qe)|ot.i(Qe);return new H(nt,this.h|ot.h)},T.xor=function(ot){for(var Ye=Math.max(this.g.length,ot.g.length),nt=[],Qe=0;Qe<Ye;Qe++)nt[Qe]=this.i(Qe)^ot.i(Qe);return new H(nt,this.h^ot.h)};function Ge(ot){for(var Ye=ot.g.length+1,nt=[],Qe=0;Qe<Ye;Qe++)nt[Qe]=ot.i(Qe)<<1|ot.i(Qe-1)>>>31;return new H(nt,ot.h)}function at(ot,Ye){var nt=Ye>>5;Ye%=32;for(var Qe=ot.g.length-nt,tt=[],ze=0;ze<Qe;ze++)tt[ze]=0<Ye?ot.i(ze+nt)>>>Ye|ot.i(ze+nt+1)<<32-Ye:ot.i(ze+nt);return new H(tt,ot.h)}N.prototype.digest=N.prototype.v,N.prototype.reset=N.prototype.s,N.prototype.update=N.prototype.u,Md5=N,H.prototype.add=H.prototype.add,H.prototype.multiply=H.prototype.j,H.prototype.modulo=H.prototype.A,H.prototype.compare=H.prototype.l,H.prototype.toNumber=H.prototype.m,H.prototype.toString=H.prototype.toString,H.prototype.getBits=H.prototype.i,H.fromNumber=te,H.fromString=G,Integer=H}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$2,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var T,$=typeof Object.defineProperties=="function"?Object.defineProperty:function(ht,xt,Ut){return ht==Array.prototype||ht==Object.prototype||(ht[xt]=Ut.value),ht};function I(ht){ht=[typeof globalThis=="object"&&globalThis,ht,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var xt=0;xt<ht.length;++xt){var Ut=ht[xt];if(Ut&&Ut.Math==Math)return Ut}throw Error("Cannot find global object")}var N=I(this);function L(ht,xt){if(xt)e:{var Ut=N;ht=ht.split(".");for(var rr=0;rr<ht.length-1;rr++){var Pr=ht[rr];if(!(Pr in Ut))break e;Ut=Ut[Pr]}ht=ht[ht.length-1],rr=Ut[ht],xt=xt(rr),xt!=rr&&xt!=null&&$(Ut,ht,{configurable:!0,writable:!0,value:xt})}}function B(ht,xt){ht instanceof String&&(ht+="");var Ut=0,rr=!1,Pr={next:function(){if(!rr&&Ut<ht.length){var Mr=Ut++;return{value:xt(Mr,ht[Mr]),done:!1}}return rr=!0,{done:!0,value:void 0}}};return Pr[Symbol.iterator]=function(){return Pr},Pr}L("Array.prototype.values",function(ht){return ht||function(){return B(this,function(xt,Ut){return Ut})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var H=H||{},z=this||self;function Q(ht){var xt=typeof ht;return xt=xt!="object"?xt:ht?Array.isArray(ht)?"array":xt:"null",xt=="array"||xt=="object"&&typeof ht.length=="number"}function te(ht){var xt=typeof ht;return xt=="object"&&ht!=null||xt=="function"}function G(ht,xt,Ut){return ht.call.apply(ht.bind,arguments)}function ie(ht,xt,Ut){if(!ht)throw Error();if(2<arguments.length){var rr=Array.prototype.slice.call(arguments,2);return function(){var Pr=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pr,rr),ht.apply(xt,Pr)}}return function(){return ht.apply(xt,arguments)}}function Re(ht,xt,Ut){return Re=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?G:ie,Re.apply(null,arguments)}function $e(ht,xt){var Ut=Array.prototype.slice.call(arguments,1);return function(){var rr=Ut.slice();return rr.push.apply(rr,arguments),ht.apply(this,rr)}}function Pe(ht,xt){function Ut(){}Ut.prototype=xt.prototype,ht.aa=xt.prototype,ht.prototype=new Ut,ht.prototype.constructor=ht,ht.Qb=function(rr,Pr,Mr){for(var sn=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)sn[Ln-2]=arguments[Ln];return xt.prototype[Pr].apply(rr,sn)}}function Me(ht){const xt=ht.length;if(0<xt){const Ut=Array(xt);for(let rr=0;rr<xt;rr++)Ut[rr]=ht[rr];return Ut}return[]}function Be(ht,xt){for(let Ut=1;Ut<arguments.length;Ut++){const rr=arguments[Ut];if(Q(rr)){const Pr=ht.length||0,Mr=rr.length||0;ht.length=Pr+Mr;for(let sn=0;sn<Mr;sn++)ht[Pr+sn]=rr[sn]}else ht.push(rr)}}class Ke{constructor(xt,Ut){this.i=xt,this.j=Ut,this.h=0,this.g=null}get(){let xt;return 0<this.h?(this.h--,xt=this.g,this.g=xt.next,xt.next=null):xt=this.i(),xt}}function Le(ht){return/^[\s\xa0]*$/.test(ht)}function qe(){var ht=z.navigator;return ht&&(ht=ht.userAgent)?ht:""}function He(ht){return He[" "](ht),ht}He[" "]=function(){};var Ge=qe().indexOf("Gecko")!=-1&&!(qe().toLowerCase().indexOf("webkit")!=-1&&qe().indexOf("Edge")==-1)&&!(qe().indexOf("Trident")!=-1||qe().indexOf("MSIE")!=-1)&&qe().indexOf("Edge")==-1;function at(ht,xt,Ut){for(const rr in ht)xt.call(Ut,ht[rr],rr,ht)}function ot(ht,xt){for(const Ut in ht)xt.call(void 0,ht[Ut],Ut,ht)}function Ye(ht){const xt={};for(const Ut in ht)xt[Ut]=ht[Ut];return xt}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(ht,xt){let Ut,rr;for(let Pr=1;Pr<arguments.length;Pr++){rr=arguments[Pr];for(Ut in rr)ht[Ut]=rr[Ut];for(let Mr=0;Mr<nt.length;Mr++)Ut=nt[Mr],Object.prototype.hasOwnProperty.call(rr,Ut)&&(ht[Ut]=rr[Ut])}}function tt(ht){var xt=1;ht=ht.split(":");const Ut=[];for(;0<xt&&ht.length;)Ut.push(ht.shift()),xt--;return ht.length&&Ut.push(ht.join(":")),Ut}function ze(ht){z.setTimeout(()=>{throw ht},0)}function Fe(){var ht=it;let xt=null;return ht.g&&(xt=ht.g,ht.g=ht.g.next,ht.g||(ht.h=null),xt.next=null),xt}class ke{constructor(){this.h=this.g=null}add(xt,Ut){const rr=Ue.get();rr.set(xt,Ut),this.h?this.h.next=rr:this.g=rr,this.h=rr}}var Ue=new Ke(()=>new Je,ht=>ht.reset());class Je{constructor(){this.next=this.g=this.h=null}set(xt,Ut){this.h=xt,this.g=Ut,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Xe=!1,it=new ke,We=()=>{const ht=z.Promise.resolve(void 0);rt=()=>{ht.then(Ve)}};var Ve=()=>{for(var ht;ht=Fe();){try{ht.h.call(ht.g)}catch(Ut){ze(Ut)}var xt=Ue;xt.j(ht),100>xt.h&&(xt.h++,ht.next=xt.g,xt.g=ht)}Xe=!1};function je(){this.s=this.s,this.C=this.C}je.prototype.s=!1,je.prototype.ma=function(){this.s||(this.s=!0,this.N())},je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(ht,xt){this.type=ht,this.g=this.target=xt,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var ht=!1,xt=Object.defineProperty({},"passive",{get:function(){ht=!0}});try{const Ut=()=>{};z.addEventListener("test",Ut,xt),z.removeEventListener("test",Ut,xt)}catch{}return ht}();function dt(ht,xt){if(Ze.call(this,ht?ht.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,ht){var Ut=this.type=ht.type,rr=ht.changedTouches&&ht.changedTouches.length?ht.changedTouches[0]:null;if(this.target=ht.target||ht.srcElement,this.g=xt,xt=ht.relatedTarget){if(Ge){e:{try{He(xt.nodeName);var Pr=!0;break e}catch{}Pr=!1}Pr||(xt=null)}}else Ut=="mouseover"?xt=ht.fromElement:Ut=="mouseout"&&(xt=ht.toElement);this.relatedTarget=xt,rr?(this.clientX=rr.clientX!==void 0?rr.clientX:rr.pageX,this.clientY=rr.clientY!==void 0?rr.clientY:rr.pageY,this.screenX=rr.screenX||0,this.screenY=rr.screenY||0):(this.clientX=ht.clientX!==void 0?ht.clientX:ht.pageX,this.clientY=ht.clientY!==void 0?ht.clientY:ht.pageY,this.screenX=ht.screenX||0,this.screenY=ht.screenY||0),this.button=ht.button,this.key=ht.key||"",this.ctrlKey=ht.ctrlKey,this.altKey=ht.altKey,this.shiftKey=ht.shiftKey,this.metaKey=ht.metaKey,this.pointerId=ht.pointerId||0,this.pointerType=typeof ht.pointerType=="string"?ht.pointerType:bt[ht.pointerType]||"",this.state=ht.state,this.i=ht,ht.defaultPrevented&&dt.aa.h.call(this)}}Pe(dt,Ze);var bt={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var ht=this.i;ht.preventDefault?ht.preventDefault():ht.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),St=0;function Bt(ht,xt,Ut,rr,Pr){this.listener=ht,this.proxy=null,this.src=xt,this.type=Ut,this.capture=!!rr,this.ha=Pr,this.key=++St,this.da=this.fa=!1}function Gt(ht){ht.da=!0,ht.listener=null,ht.proxy=null,ht.src=null,ht.ha=null}function Dt(ht){this.src=ht,this.g={},this.h=0}Dt.prototype.add=function(ht,xt,Ut,rr,Pr){var Mr=ht.toString();ht=this.g[Mr],ht||(ht=this.g[Mr]=[],this.h++);var sn=pt(ht,xt,rr,Pr);return-1<sn?(xt=ht[sn],Ut||(xt.fa=!1)):(xt=new Bt(xt,this.src,Mr,!!rr,Pr),xt.fa=Ut,ht.push(xt)),xt};function Mt(ht,xt){var Ut=xt.type;if(Ut in ht.g){var rr=ht.g[Ut],Pr=Array.prototype.indexOf.call(rr,xt,void 0),Mr;(Mr=0<=Pr)&&Array.prototype.splice.call(rr,Pr,1),Mr&&(Gt(xt),ht.g[Ut].length==0&&(delete ht.g[Ut],ht.h--))}}function pt(ht,xt,Ut,rr){for(var Pr=0;Pr<ht.length;++Pr){var Mr=ht[Pr];if(!Mr.da&&Mr.listener==xt&&Mr.capture==!!Ut&&Mr.ha==rr)return Pr}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),$t={};function kt(ht,xt,Ut,rr,Pr){if(Array.isArray(xt)){for(var Mr=0;Mr<xt.length;Mr++)kt(ht,xt[Mr],Ut,rr,Pr);return null}return Ut=lt(Ut),ht&&ht[vt]?ht.K(xt,Ut,te(rr)?!!rr.capture:!1,Pr):Ft(ht,xt,Ut,!1,rr,Pr)}function Ft(ht,xt,Ut,rr,Pr,Mr){if(!xt)throw Error("Invalid event type");var sn=te(Pr)?!!Pr.capture:!!Pr,Ln=cr(ht);if(Ln||(ht[mt]=Ln=new Dt(ht)),Ut=Ln.add(xt,Ut,rr,sn,Mr),Ut.proxy)return Ut;if(rr=nr(),Ut.proxy=rr,rr.src=ht,rr.listener=Ut,ht.addEventListener)st||(Pr=sn),Pr===void 0&&(Pr=!1),ht.addEventListener(xt.toString(),rr,Pr);else if(ht.attachEvent)ht.attachEvent(gr(xt.toString()),rr);else if(ht.addListener&&ht.removeListener)ht.addListener(rr);else throw Error("addEventListener and attachEvent are unavailable.");return Ut}function nr(){function ht(Ut){return xt.call(ht.src,ht.listener,Ut)}const xt=br;return ht}function Yt(ht,xt,Ut,rr,Pr){if(Array.isArray(xt))for(var Mr=0;Mr<xt.length;Mr++)Yt(ht,xt[Mr],Ut,rr,Pr);else rr=te(rr)?!!rr.capture:!!rr,Ut=lt(Ut),ht&&ht[vt]?(ht=ht.i,xt=String(xt).toString(),xt in ht.g&&(Mr=ht.g[xt],Ut=pt(Mr,Ut,rr,Pr),-1<Ut&&(Gt(Mr[Ut]),Array.prototype.splice.call(Mr,Ut,1),Mr.length==0&&(delete ht.g[xt],ht.h--)))):ht&&(ht=cr(ht))&&(xt=ht.g[xt.toString()],ht=-1,xt&&(ht=pt(xt,Ut,rr,Pr)),(Ut=-1<ht?xt[ht]:null)&&yr(Ut))}function yr(ht){if(typeof ht!="number"&&ht&&!ht.da){var xt=ht.src;if(xt&&xt[vt])Mt(xt.i,ht);else{var Ut=ht.type,rr=ht.proxy;xt.removeEventListener?xt.removeEventListener(Ut,rr,ht.capture):xt.detachEvent?xt.detachEvent(gr(Ut),rr):xt.addListener&&xt.removeListener&&xt.removeListener(rr),(Ut=cr(xt))?(Mt(Ut,ht),Ut.h==0&&(Ut.src=null,xt[mt]=null)):Gt(ht)}}}function gr(ht){return ht in $t?$t[ht]:$t[ht]="on"+ht}function br(ht,xt){if(ht.da)ht=!0;else{xt=new dt(xt,this);var Ut=ht.listener,rr=ht.ha||ht.src;ht.fa&&yr(ht),ht=Ut.call(rr,xt)}return ht}function cr(ht){return ht=ht[mt],ht instanceof Dt?ht:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(ht){return typeof ht=="function"?ht:(ht[pr]||(ht[pr]=function(xt){return ht.handleEvent(xt)}),ht[pr])}function ct(){je.call(this),this.i=new Dt(this),this.M=this,this.F=null}Pe(ct,je),ct.prototype[vt]=!0,ct.prototype.removeEventListener=function(ht,xt,Ut,rr){Yt(this,ht,xt,Ut,rr)};function Nt(ht,xt){var Ut,rr=ht.F;if(rr)for(Ut=[];rr;rr=rr.F)Ut.push(rr);if(ht=ht.M,rr=xt.type||xt,typeof xt=="string")xt=new Ze(xt,ht);else if(xt instanceof Ze)xt.target=xt.target||ht;else{var Pr=xt;xt=new Ze(rr,ht),Qe(xt,Pr)}if(Pr=!0,Ut)for(var Mr=Ut.length-1;0<=Mr;Mr--){var sn=xt.g=Ut[Mr];Pr=jt(sn,rr,!0,xt)&&Pr}if(sn=xt.g=ht,Pr=jt(sn,rr,!0,xt)&&Pr,Pr=jt(sn,rr,!1,xt)&&Pr,Ut)for(Mr=0;Mr<Ut.length;Mr++)sn=xt.g=Ut[Mr],Pr=jt(sn,rr,!1,xt)&&Pr}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var ht=this.i,xt;for(xt in ht.g){for(var Ut=ht.g[xt],rr=0;rr<Ut.length;rr++)Gt(Ut[rr]);delete ht.g[xt],ht.h--}}this.F=null},ct.prototype.K=function(ht,xt,Ut,rr){return this.i.add(String(ht),xt,!1,Ut,rr)},ct.prototype.L=function(ht,xt,Ut,rr){return this.i.add(String(ht),xt,!0,Ut,rr)};function jt(ht,xt,Ut,rr){if(xt=ht.i.g[String(xt)],!xt)return!0;xt=xt.concat();for(var Pr=!0,Mr=0;Mr<xt.length;++Mr){var sn=xt[Mr];if(sn&&!sn.da&&sn.capture==Ut){var Ln=sn.listener,ei=sn.ha||sn.src;sn.fa&&Mt(ht.i,sn),Pr=Ln.call(ei,rr)!==!1&&Pr}}return Pr&&!rr.defaultPrevented}function zt(ht,xt,Ut){if(typeof ht=="function")Ut&&(ht=Re(ht,Ut));else if(ht&&typeof ht.handleEvent=="function")ht=Re(ht.handleEvent,ht);else throw Error("Invalid listener argument");return 2147483647<Number(xt)?-1:z.setTimeout(ht,xt||0)}function Ot(ht){ht.g=zt(()=>{ht.g=null,ht.i&&(ht.i=!1,Ot(ht))},ht.l);const xt=ht.h;ht.h=null,ht.m.apply(null,xt)}class Rt extends je{constructor(xt,Ut){super(),this.m=xt,this.l=Ut,this.h=null,this.i=!1,this.g=null}j(xt){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(ht){je.call(this),this.h=ht,this.g={}}Pe(It,je);var Kt=[];function tr(ht){at(ht.g,function(xt,Ut){this.g.hasOwnProperty(Ut)&&yr(xt)},ht),ht.g={}}It.prototype.N=function(){It.aa.N.call(this),tr(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=z.JSON.stringify,_r=z.JSON.parse,Nr=class{stringify(ht){return z.JSON.stringify(ht,void 0)}parse(ht){return z.JSON.parse(ht,void 0)}};function qr(){}qr.prototype.h=null;function Br(ht){return ht.h||(ht.h=ht.i())}function Qr(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){Ze.call(this,"d")}Pe(Kr,Ze);function Yr(){Ze.call(this,"c")}Pe(Yr,Ze);var Pt={},Wt=null;function qt(){return Wt=Wt||new ct}Pt.La="serverreachability";function Tt(ht){Ze.call(this,Pt.La,ht)}Pe(Tt,Ze);function gt(ht){const xt=qt();Nt(xt,new Tt(xt))}Pt.STAT_EVENT="statevent";function Et(ht,xt){Ze.call(this,Pt.STAT_EVENT,ht),this.stat=xt}Pe(Et,Ze);function wt(ht){const xt=qt();Nt(xt,new Et(xt,ht))}Pt.Ma="timingevent";function Lt(ht,xt){Ze.call(this,Pt.Ma,ht),this.size=xt}Pe(Lt,Ze);function Zt(ht,xt){if(typeof ht!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){ht()},xt)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function Ht(ht,xt,Ut,rr,Pr,Mr){ht.info(function(){if(ht.g)if(Mr)for(var sn="",Ln=Mr.split("&"),ei=0;ei<Ln.length;ei++){var Mn=Ln[ei].split("=");if(1<Mn.length){var ni=Mn[0];Mn=Mn[1];var Xn=ni.split("_");sn=2<=Xn.length&&Xn[1]=="type"?sn+(ni+"="+Mn+"&"):sn+(ni+"=redacted&")}}else sn=null;else sn=Mr;return"XMLHTTP REQ ("+rr+") [attempt "+Pr+"]: "+xt+`
`+Ut+`
`+sn})}function Xt(ht,xt,Ut,rr,Pr,Mr,sn){ht.info(function(){return"XMLHTTP RESP ("+rr+") [ attempt "+Pr+"]: "+xt+`
`+Ut+`
`+Mr+" "+sn})}function ir(ht,xt,Ut,rr){ht.info(function(){return"XMLHTTP TEXT ("+xt+"): "+$r(ht,Ut)+(rr?" "+rr:"")})}function ur(ht,xt){ht.info(function(){return"TIMEOUT: "+xt})}lr.prototype.info=function(){};function $r(ht,xt){if(!ht.g)return xt;if(!xt)return null;try{var Ut=JSON.parse(xt);if(Ut){for(ht=0;ht<Ut.length;ht++)if(Array.isArray(Ut[ht])){var rr=Ut[ht];if(!(2>rr.length)){var Pr=rr[1];if(Array.isArray(Pr)&&!(1>Pr.length)){var Mr=Pr[0];if(Mr!="noop"&&Mr!="stop"&&Mr!="close")for(var sn=1;sn<Pr.length;sn++)Pr[sn]=""}}}}return dr(Ut)}catch{return xt}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},on;function rn(){}Pe(rn,qr),rn.prototype.g=function(){return new XMLHttpRequest},rn.prototype.i=function(){return{}},on=new rn;function tn(ht,xt,Ut,rr){this.j=ht,this.i=xt,this.l=Ut,this.R=rr||1,this.U=new It(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pn}function pn(){this.i=null,this.g="",this.h=!1}var yn={},ln={};function er(ht,xt,Ut){ht.L=1,ht.v=xn(Gr(xt)),ht.m=Ut,ht.P=!0,Rr(ht,null)}function Rr(ht,xt){ht.F=Date.now(),Hr(ht),ht.A=Gr(ht.v);var Ut=ht.A,rr=ht.R;Array.isArray(rr)||(rr=[String(rr)]),ko(Ut.i,"t",rr),ht.C=0,Ut=ht.j.J,ht.h=new pn,ht.g=Js(ht.j,Ut?xt:null,!ht.m),0<ht.O&&(ht.M=new Rt(Re(ht.Y,ht,ht.g),ht.O)),xt=ht.U,Ut=ht.g,rr=ht.ca;var Pr="readystatechange";Array.isArray(Pr)||(Pr&&(Kt[0]=Pr.toString()),Pr=Kt);for(var Mr=0;Mr<Pr.length;Mr++){var sn=kt(Ut,Pr[Mr],rr||xt.handleEvent,!1,xt.h||xt);if(!sn)break;xt.g[sn.key]=sn}xt=ht.H?Ye(ht.H):{},ht.m?(ht.u||(ht.u="POST"),xt["Content-Type"]="application/x-www-form-urlencoded",ht.g.ea(ht.A,ht.u,ht.m,xt)):(ht.u="GET",ht.g.ea(ht.A,ht.u,null,xt)),gt(),Ht(ht.i,ht.u,ht.A,ht.l,ht.R,ht.m)}tn.prototype.ca=function(ht){ht=ht.target;const xt=this.M;xt&&bi(ht)==3?xt.j():this.Y(ht)},tn.prototype.Y=function(ht){try{if(ht==this.g)e:{const Xn=bi(this.g);var xt=this.g.Ba();const Li=this.g.Z();if(!(3>Xn)&&(Xn!=3||this.g&&(this.h.h||this.g.oa()||ss(this.g)))){this.J||Xn!=4||xt==7||(xt==8||0>=Li?gt(3):gt(2)),cn(this);var Ut=this.g.Z();this.X=Ut;t:if(Or(this)){var rr=ss(this.g);ht="";var Pr=rr.length,Mr=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Rn(this);var sn="";break t}this.h.i=new z.TextDecoder}for(xt=0;xt<Pr;xt++)this.h.h=!0,ht+=this.h.i.decode(rr[xt],{stream:!(Mr&&xt==Pr-1)});rr.length=0,this.h.g+=ht,this.C=0,sn=this.h.g}else sn=this.g.oa();if(this.o=Ut==200,Xt(this.i,this.u,this.A,this.l,this.R,Xn,Ut),this.o){if(this.T&&!this.K){t:{if(this.g){var Ln,ei=this.g;if((Ln=ei.g?ei.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(Ln)){var Mn=Ln;break t}}Mn=null}if(Ut=Mn)ir(this.i,this.l,Ut,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,Ut);else{this.o=!1,this.s=3,wt(12),gn(this),Rn(this);break e}}if(this.P){Ut=!0;let Di;for(;!this.J&&this.C<sn.length;)if(Di=Fr(this,sn),Di==ln){Xn==4&&(this.s=4,wt(14),Ut=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Di==yn){this.s=4,wt(15),ir(this.i,this.l,sn,"[Invalid Chunk]"),Ut=!1;break}else ir(this.i,this.l,Di,null),vn(this,Di);if(Or(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xn!=4||sn.length!=0||this.h.h||(this.s=1,wt(16),Ut=!1),this.o=this.o&&Ut,!Ut)ir(this.i,this.l,sn,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(0<sn.length&&!this.W){this.W=!0;var ni=this.j;ni.g==this&&ni.ba&&!ni.M&&(ni.j.info("Great, no buffering proxy detected. Bytes received: "+sn.length),cs(ni),ni.M=!0,wt(11))}}else ir(this.i,this.l,sn,null),vn(this,sn);Xn==4&&gn(this),this.o&&!this.J&&(Xn==4?ka(this.j,this):(this.o=!1,Hr(this)))}else Pa(this.g),Ut==400&&0<sn.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),gn(this),Rn(this)}}}catch{}finally{}};function Or(ht){return ht.g?ht.u=="GET"&&ht.L!=2&&ht.j.Ca:!1}function Fr(ht,xt){var Ut=ht.C,rr=xt.indexOf(`
`,Ut);return rr==-1?ln:(Ut=Number(xt.substring(Ut,rr)),isNaN(Ut)?yn:(rr+=1,rr+Ut>xt.length?ln:(xt=xt.slice(rr,rr+Ut),ht.C=rr+Ut,xt)))}tn.prototype.cancel=function(){this.J=!0,gn(this)};function Hr(ht){ht.S=Date.now()+ht.I,an(ht,ht.I)}function an(ht,xt){if(ht.B!=null)throw Error("WatchDog timer not null");ht.B=Zt(Re(ht.ba,ht),xt)}function cn(ht){ht.B&&(z.clearTimeout(ht.B),ht.B=null)}tn.prototype.ba=function(){this.B=null;const ht=Date.now();0<=ht-this.S?(ur(this.i,this.A),this.L!=2&&(gt(),wt(17)),gn(this),this.s=2,Rn(this)):an(this,this.S-ht)};function Rn(ht){ht.j.G==0||ht.J||ka(ht.j,ht)}function gn(ht){cn(ht);var xt=ht.M;xt&&typeof xt.ma=="function"&&xt.ma(),ht.M=null,tr(ht.U),ht.g&&(xt=ht.g,ht.g=null,xt.abort(),xt.ma())}function vn(ht,xt){try{var Ut=ht.j;if(Ut.G!=0&&(Ut.g==ht||In(Ut.h,ht))){if(!ht.K&&In(Ut.h,ht)&&Ut.G==3){try{var rr=Ut.Da.g.parse(xt)}catch{rr=null}if(Array.isArray(rr)&&rr.length==3){var Pr=rr;if(Pr[0]==0){e:if(!Ut.u){if(Ut.g)if(Ut.g.F+3e3<ht.F)Da(Ut),Yi(Ut);else break e;Ca(Ut),wt(18)}}else Ut.za=Pr[1],0<Ut.za-Ut.T&&37500>Pr[2]&&Ut.F&&Ut.v==0&&!Ut.C&&(Ut.C=Zt(Re(Ut.Za,Ut),6e3));if(1>=Dn(Ut.h)&&Ut.ca){try{Ut.ca()}catch{}Ut.ca=void 0}}else $o(Ut,11)}else if((ht.K||Ut.g==ht)&&Da(Ut),!Le(xt))for(Pr=Ut.Da.g.parse(xt),xt=0;xt<Pr.length;xt++){let Mn=Pr[xt];if(Ut.T=Mn[0],Mn=Mn[1],Ut.G==2)if(Mn[0]=="c"){Ut.K=Mn[1],Ut.ia=Mn[2];const ni=Mn[3];ni!=null&&(Ut.la=ni,Ut.j.info("VER="+Ut.la));const Xn=Mn[4];Xn!=null&&(Ut.Aa=Xn,Ut.j.info("SVER="+Ut.Aa));const Li=Mn[5];Li!=null&&typeof Li=="number"&&0<Li&&(rr=1.5*Li,Ut.L=rr,Ut.j.info("backChannelRequestTimeoutMs_="+rr)),rr=Ut;const Di=ht.g;if(Di){const ca=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var Mr=rr.h;Mr.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(Mr.j=Mr.l,Mr.g=new Set,Mr.h&&(Qt(Mr,Mr.h),Mr.h=null))}if(rr.D){const Ma=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(rr.ya=Ma,fn(rr.I,rr.D,Ma))}}Ut.G=3,Ut.l&&Ut.l.ua(),Ut.ba&&(Ut.R=Date.now()-ht.F,Ut.j.info("Handshake RTT: "+Ut.R+"ms")),rr=Ut;var sn=ht;if(rr.qa=Gs(rr,rr.J?rr.ia:null,rr.W),sn.K){vr(rr.h,sn);var Ln=sn,ei=rr.L;ei&&(Ln.I=ei),Ln.B&&(cn(Ln),Hr(Ln)),rr.g=sn}else la(rr);0<Ut.i.length&&oo(Ut)}else Mn[0]!="stop"&&Mn[0]!="close"||$o(Ut,7);else Ut.G==3&&(Mn[0]=="stop"||Mn[0]=="close"?Mn[0]=="stop"?$o(Ut,7):li(Ut):Mn[0]!="noop"&&Ut.l&&Ut.l.ta(Mn),Ut.v=0)}}gt(4)}catch{}}var _n=class{constructor(ht,xt){this.g=ht,this.map=xt}};function kn(ht){this.l=ht||10,z.PerformanceNavigationTiming?(ht=z.performance.getEntriesByType("navigation"),ht=0<ht.length&&(ht[0].nextHopProtocol=="hq"||ht[0].nextHopProtocol=="h2")):ht=!!(z.chrome&&z.chrome.loadTimes&&z.chrome.loadTimes()&&z.chrome.loadTimes().wasFetchedViaSpdy),this.j=ht?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(ht){return ht.h?!0:ht.g?ht.g.size>=ht.j:!1}function Dn(ht){return ht.h?1:ht.g?ht.g.size:0}function In(ht,xt){return ht.h?ht.h==xt:ht.g?ht.g.has(xt):!1}function Qt(ht,xt){ht.g?ht.g.add(xt):ht.h=xt}function vr(ht,xt){ht.h&&ht.h==xt?ht.h=null:ht.g&&ht.g.has(xt)&&ht.g.delete(xt)}kn.prototype.cancel=function(){if(this.i=ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const ht of this.g.values())ht.cancel();this.g.clear()}};function ar(ht){if(ht.h!=null)return ht.i.concat(ht.h.D);if(ht.g!=null&&ht.g.size!==0){let xt=ht.i;for(const Ut of ht.g.values())xt=xt.concat(Ut.D);return xt}return Me(ht.i)}function Sr(ht){if(ht.V&&typeof ht.V=="function")return ht.V();if(typeof Map<"u"&&ht instanceof Map||typeof Set<"u"&&ht instanceof Set)return Array.from(ht.values());if(typeof ht=="string")return ht.split("");if(Q(ht)){for(var xt=[],Ut=ht.length,rr=0;rr<Ut;rr++)xt.push(ht[rr]);return xt}xt=[],Ut=0;for(rr in ht)xt[Ut++]=ht[rr];return xt}function Tr(ht){if(ht.na&&typeof ht.na=="function")return ht.na();if(!ht.V||typeof ht.V!="function"){if(typeof Map<"u"&&ht instanceof Map)return Array.from(ht.keys());if(!(typeof Set<"u"&&ht instanceof Set)){if(Q(ht)||typeof ht=="string"){var xt=[];ht=ht.length;for(var Ut=0;Ut<ht;Ut++)xt.push(Ut);return xt}xt=[],Ut=0;for(const rr in ht)xt[Ut++]=rr;return xt}}}function wr(ht,xt){if(ht.forEach&&typeof ht.forEach=="function")ht.forEach(xt,void 0);else if(Q(ht)||typeof ht=="string")Array.prototype.forEach.call(ht,xt,void 0);else for(var Ut=Tr(ht),rr=Sr(ht),Pr=rr.length,Mr=0;Mr<Pr;Mr++)xt.call(void 0,rr[Mr],Ut&&Ut[Mr],ht)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(ht,xt){if(ht){ht=ht.split("&");for(var Ut=0;Ut<ht.length;Ut++){var rr=ht[Ut].indexOf("="),Pr=null;if(0<=rr){var Mr=ht[Ut].substring(0,rr);Pr=ht[Ut].substring(rr+1)}else Mr=ht[Ut];xt(Mr,Pr?decodeURIComponent(Pr.replace(/\+/g," ")):"")}}}function Vr(ht){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,ht instanceof Vr){this.h=ht.h,Zr(this,ht.j),this.o=ht.o,this.g=ht.g,un(this,ht.s),this.l=ht.l;var xt=ht.i,Ut=new si;Ut.i=xt.i,xt.g&&(Ut.g=new Map(xt.g),Ut.h=xt.h),wn(this,Ut),this.m=ht.m}else ht&&(xt=String(ht).match(jr))?(this.h=!1,Zr(this,xt[1]||"",!0),this.o=$n(xt[2]||""),this.g=$n(xt[3]||"",!0),un(this,xt[4]),this.l=$n(xt[5]||"",!0),wn(this,xt[6]||"",!0),this.m=$n(xt[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Vr.prototype.toString=function(){var ht=[],xt=this.j;xt&&ht.push(On(xt,Jn,!0),":");var Ut=this.g;return(Ut||xt=="file")&&(ht.push("//"),(xt=this.o)&&ht.push(On(xt,Jn,!0),"@"),ht.push(encodeURIComponent(String(Ut)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ut=this.s,Ut!=null&&ht.push(":",String(Ut))),(Ut=this.l)&&(this.g&&Ut.charAt(0)!="/"&&ht.push("/"),ht.push(On(Ut,Ut.charAt(0)=="/"?Hi:Wi,!0))),(Ut=this.i.toString())&&ht.push("?",Ut),(Ut=this.m)&&ht.push("#",On(Ut,zi)),ht.join("")};function Gr(ht){return new Vr(ht)}function Zr(ht,xt,Ut){ht.j=Ut?$n(xt,!0):xt,ht.j&&(ht.j=ht.j.replace(/:$/,""))}function un(ht,xt){if(xt){if(xt=Number(xt),isNaN(xt)||0>xt)throw Error("Bad port number "+xt);ht.s=xt}else ht.s=null}function wn(ht,xt,Ut){xt instanceof si?(ht.i=xt,no(ht.i,ht.h)):(Ut||(xt=On(xt,Ni)),ht.i=new si(xt,ht.h))}function fn(ht,xt,Ut){ht.i.set(xt,Ut)}function xn(ht){return fn(ht,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),ht}function $n(ht,xt){return ht?xt?decodeURI(ht.replace(/%25/g,"%2525")):decodeURIComponent(ht):""}function On(ht,xt,Ut){return typeof ht=="string"?(ht=encodeURI(ht).replace(xt,Vn),Ut&&(ht=ht.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ht):null}function Vn(ht){return ht=ht.charCodeAt(0),"%"+(ht>>4&15).toString(16)+(ht&15).toString(16)}var Jn=/[#\/\?@]/g,Wi=/[#\?:]/g,Hi=/[#\?]/g,Ni=/[#\?@]/g,zi=/#/g;function si(ht,xt){this.h=this.g=null,this.i=ht||null,this.j=!!xt}function zn(ht){ht.g||(ht.g=new Map,ht.h=0,ht.i&&Ur(ht.i,function(xt,Ut){ht.add(decodeURIComponent(xt.replace(/\+/g," ")),Ut)}))}T=si.prototype,T.add=function(ht,xt){zn(this),this.i=null,ht=Bi(this,ht);var Ut=this.g.get(ht);return Ut||this.g.set(ht,Ut=[]),Ut.push(xt),this.h+=1,this};function Zn(ht,xt){zn(ht),xt=Bi(ht,xt),ht.g.has(xt)&&(ht.i=null,ht.h-=ht.g.get(xt).length,ht.g.delete(xt))}function di(ht,xt){return zn(ht),xt=Bi(ht,xt),ht.g.has(xt)}T.forEach=function(ht,xt){zn(this),this.g.forEach(function(Ut,rr){Ut.forEach(function(Pr){ht.call(xt,Pr,rr,this)},this)},this)},T.na=function(){zn(this);const ht=Array.from(this.g.values()),xt=Array.from(this.g.keys()),Ut=[];for(let rr=0;rr<xt.length;rr++){const Pr=ht[rr];for(let Mr=0;Mr<Pr.length;Mr++)Ut.push(xt[rr])}return Ut},T.V=function(ht){zn(this);let xt=[];if(typeof ht=="string")di(this,ht)&&(xt=xt.concat(this.g.get(Bi(this,ht))));else{ht=Array.from(this.g.values());for(let Ut=0;Ut<ht.length;Ut++)xt=xt.concat(ht[Ut])}return xt},T.set=function(ht,xt){return zn(this),this.i=null,ht=Bi(this,ht),di(this,ht)&&(this.h-=this.g.get(ht).length),this.g.set(ht,[xt]),this.h+=1,this},T.get=function(ht,xt){return ht?(ht=this.V(ht),0<ht.length?String(ht[0]):xt):xt};function ko(ht,xt,Ut){Zn(ht,xt),0<Ut.length&&(ht.i=null,ht.g.set(Bi(ht,xt),Me(Ut)),ht.h+=Ut.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";const ht=[],xt=Array.from(this.g.keys());for(var Ut=0;Ut<xt.length;Ut++){var rr=xt[Ut];const Mr=encodeURIComponent(String(rr)),sn=this.V(rr);for(rr=0;rr<sn.length;rr++){var Pr=Mr;sn[rr]!==""&&(Pr+="="+encodeURIComponent(String(sn[rr]))),ht.push(Pr)}}return this.i=ht.join("&")};function Bi(ht,xt){return xt=String(xt),ht.j&&(xt=xt.toLowerCase()),xt}function no(ht,xt){xt&&!ht.j&&(zn(ht),ht.i=null,ht.g.forEach(function(Ut,rr){var Pr=rr.toLowerCase();rr!=Pr&&(Zn(this,rr),ko(this,Pr,Ut))},ht)),ht.j=xt}function Yl(ht,xt){const Ut=new lr;if(z.Image){const rr=new Image;rr.onload=$e(_i,Ut,"TestLoadImage: loaded",!0,xt,rr),rr.onerror=$e(_i,Ut,"TestLoadImage: error",!1,xt,rr),rr.onabort=$e(_i,Ut,"TestLoadImage: abort",!1,xt,rr),rr.ontimeout=$e(_i,Ut,"TestLoadImage: timeout",!1,xt,rr),z.setTimeout(function(){rr.ontimeout&&rr.ontimeout()},1e4),rr.src=ht}else xt(!1)}function Vs(ht,xt){const Ut=new lr,rr=new AbortController,Pr=setTimeout(()=>{rr.abort(),_i(Ut,"TestPingServer: timeout",!1,xt)},1e4);fetch(ht,{signal:rr.signal}).then(Mr=>{clearTimeout(Pr),Mr.ok?_i(Ut,"TestPingServer: ok",!0,xt):_i(Ut,"TestPingServer: server error",!1,xt)}).catch(()=>{clearTimeout(Pr),_i(Ut,"TestPingServer: error",!1,xt)})}function _i(ht,xt,Ut,rr,Pr){try{Pr&&(Pr.onload=null,Pr.onerror=null,Pr.onabort=null,Pr.ontimeout=null),rr(Ut)}catch{}}function Xl(){this.g=new Nr}function qs(ht,xt,Ut){const rr=Ut||"";try{wr(ht,function(Pr,Mr){let sn=Pr;te(Pr)&&(sn=dr(Pr)),xt.push(rr+Mr+"="+encodeURIComponent(sn))})}catch(Pr){throw xt.push(rr+"type="+encodeURIComponent("_badmap")),Pr}}function vo(ht){this.l=ht.Ub||null,this.j=ht.eb||!1}Pe(vo,qr),vo.prototype.g=function(){return new aa(this.l,this.j)},vo.prototype.i=function(ht){return function(){return ht}}({});function aa(ht,xt){ct.call(this),this.D=ht,this.o=xt,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Pe(aa,ct),T=aa.prototype,T.open=function(ht,xt){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=ht,this.A=xt,this.readyState=1,Ji(this)},T.send=function(ht){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const xt={headers:this.u,method:this.B,credentials:this.m,cache:void 0};ht&&(xt.body=ht),(this.D||z).fetch(new Request(this.A,xt)).then(this.Sa.bind(this),this.ga.bind(this))},T.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},T.Sa=function(ht){if(this.g&&(this.l=ht,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=ht.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")ht.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in ht){if(this.j=ht.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else ht.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(ht){ht.j.read().then(ht.Pa.bind(ht)).catch(ht.ga.bind(ht))}T.Pa=function(ht){if(this.g){if(this.o&&ht.value)this.response.push(ht.value);else if(!this.o){var xt=ht.value?ht.value:new Uint8Array(0);(xt=this.v.decode(xt,{stream:!ht.done}))&&(this.response=this.responseText+=xt)}ht.done?Gi(this):Ji(this),this.readyState==3&&Ks(this)}},T.Ra=function(ht){this.g&&(this.response=this.responseText=ht,Gi(this))},T.Qa=function(ht){this.g&&(this.response=ht,Gi(this))},T.ga=function(){this.g&&Gi(this)};function Gi(ht){ht.readyState=4,ht.l=null,ht.j=null,ht.v=null,Ji(ht)}T.setRequestHeader=function(ht,xt){this.u.append(ht,xt)},T.getResponseHeader=function(ht){return this.h&&this.h.get(ht.toLowerCase())||""},T.getAllResponseHeaders=function(){if(!this.h)return"";const ht=[],xt=this.h.entries();for(var Ut=xt.next();!Ut.done;)Ut=Ut.value,ht.push(Ut[0]+": "+Ut[1]),Ut=xt.next();return ht.join(`\r
`)};function Ji(ht){ht.onreadystatechange&&ht.onreadystatechange.call(ht)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(ht){this.m=ht?"include":"same-origin"}});function _o(ht){let xt="";return at(ht,function(Ut,rr){xt+=rr,xt+=":",xt+=Ut,xt+=`\r
`}),xt}function Oo(ht,xt,Ut){e:{for(rr in Ut){var rr=!1;break e}rr=!0}rr||(Ut=_o(Ut),typeof ht=="string"?Ut!=null&&encodeURIComponent(String(Ut)):fn(ht,xt,Ut))}function qn(ht){ct.call(this),this.headers=new Map,this.o=ht||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Pe(qn,ct);var Ql=/^https?$/i,os=["POST","PUT"];T=qn.prototype,T.Ha=function(ht){this.J=ht},T.ea=function(ht,xt,Ut,rr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+ht);xt=xt?xt.toUpperCase():"GET",this.D=ht,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():on.g(),this.v=this.o?Br(this.o):Br(on),this.g.onreadystatechange=Re(this.Ea,this);try{this.B=!0,this.g.open(xt,String(ht),!0),this.B=!1}catch(Mr){sa(this,Mr);return}if(ht=Ut||"",Ut=new Map(this.headers),rr)if(Object.getPrototypeOf(rr)===Object.prototype)for(var Pr in rr)Ut.set(Pr,rr[Pr]);else if(typeof rr.keys=="function"&&typeof rr.get=="function")for(const Mr of rr.keys())Ut.set(Mr,rr.get(Mr));else throw Error("Unknown input type for opt_headers: "+String(rr));rr=Array.from(Ut.keys()).find(Mr=>Mr.toLowerCase()=="content-type"),Pr=z.FormData&&ht instanceof z.FormData,!(0<=Array.prototype.indexOf.call(os,xt,void 0))||rr||Pr||Ut.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Mr,sn]of Ut)this.g.setRequestHeader(Mr,sn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ta(this),this.u=!0,this.g.send(ht),this.u=!1}catch(Mr){sa(this,Mr)}};function sa(ht,xt){ht.h=!1,ht.g&&(ht.j=!0,ht.g.abort(),ht.j=!1),ht.l=xt,ht.m=5,Ra(ht),Ci(ht)}function Ra(ht){ht.A||(ht.A=!0,Nt(ht,"complete"),Nt(ht,"error"))}T.abort=function(ht){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=ht||7,Nt(this,"complete"),Nt(this,"abort"),Ci(this))},T.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),qn.aa.N.call(this)},T.Ea=function(){this.s||(this.B||this.u||this.j?as(this):this.bb())},T.bb=function(){as(this)};function as(ht){if(ht.h&&typeof H<"u"&&(!ht.v[1]||bi(ht)!=4||ht.Z()!=2)){if(ht.u&&bi(ht)==4)zt(ht.Ea,0,ht);else if(Nt(ht,"readystatechange"),bi(ht)==4){ht.h=!1;try{const sn=ht.Z();e:switch(sn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var xt=!0;break e;default:xt=!1}var Ut;if(!(Ut=xt)){var rr;if(rr=sn===0){var Pr=String(ht.D).match(jr)[1]||null;!Pr&&z.self&&z.self.location&&(Pr=z.self.location.protocol.slice(0,-1)),rr=!Ql.test(Pr?Pr.toLowerCase():"")}Ut=rr}if(Ut)Nt(ht,"complete"),Nt(ht,"success");else{ht.m=6;try{var Mr=2<bi(ht)?ht.g.statusText:""}catch{Mr=""}ht.l=Mr+" ["+ht.Z()+"]",Ra(ht)}}finally{Ci(ht)}}}}function Ci(ht,xt){if(ht.g){Ta(ht);const Ut=ht.g,rr=ht.v[0]?()=>{}:null;ht.g=null,ht.v=null,xt||Nt(ht,"ready");try{Ut.onreadystatechange=rr}catch{}}}function Ta(ht){ht.I&&(z.clearTimeout(ht.I),ht.I=null)}T.isActive=function(){return!!this.g};function bi(ht){return ht.g?ht.g.readyState:0}T.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},T.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},T.Oa=function(ht){if(this.g){var xt=this.g.responseText;return ht&&xt.indexOf(ht)==0&&(xt=xt.substring(ht.length)),_r(xt)}};function ss(ht){try{if(!ht.g)return null;if("response"in ht.g)return ht.g.response;switch(ht.H){case"":case"text":return ht.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in ht.g)return ht.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(ht){const xt={};ht=(ht.g&&2<=bi(ht)&&ht.g.getAllResponseHeaders()||"").split(`\r
`);for(let rr=0;rr<ht.length;rr++){if(Le(ht[rr]))continue;var Ut=tt(ht[rr]);const Pr=Ut[0];if(Ut=Ut[1],typeof Ut!="string")continue;Ut=Ut.trim();const Mr=xt[Pr]||[];xt[Pr]=Mr,Mr.push(Ut)}ot(xt,function(rr){return rr.join(", ")})}T.Ba=function(){return this.m},T.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function io(ht,xt,Ut){return Ut&&Ut.internalChannelParams&&Ut.internalChannelParams[ht]||xt}function ls(ht){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=io("failFast",!1,ht),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=io("baseRetryDelayMs",5e3,ht),this.cb=io("retryDelaySeedMs",1e4,ht),this.Wa=io("forwardChannelMaxRetries",2,ht),this.wa=io("forwardChannelRequestTimeoutMs",2e4,ht),this.pa=ht&&ht.xmlHttpFactory||void 0,this.Xa=ht&&ht.Tb||void 0,this.Ca=ht&&ht.useFetchStreams||!1,this.L=void 0,this.J=ht&&ht.supportsCrossDomainXhr||!1,this.K="",this.h=new kn(ht&&ht.concurrentRequestLimit),this.Da=new Xl,this.P=ht&&ht.fastHandshake||!1,this.O=ht&&ht.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=ht&&ht.Rb||!1,ht&&ht.xa&&this.j.xa(),ht&&ht.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&ht&&ht.detectBufferingProxy||!1,this.ja=void 0,ht&&ht.longPollingTimeout&&0<ht.longPollingTimeout&&(this.ja=ht.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}T=ls.prototype,T.la=8,T.G=1,T.connect=function(ht,xt,Ut,rr){wt(0),this.W=ht,this.H=xt||{},Ut&&rr!==void 0&&(this.H.OSID=Ut,this.H.OAID=rr),this.F=this.X,this.I=Gs(this,null,this.W),oo(this)};function li(ht){if(Ia(ht),ht.G==3){var xt=ht.U++,Ut=Gr(ht.I);if(fn(Ut,"SID",ht.K),fn(Ut,"RID",xt),fn(Ut,"TYPE","terminate"),bo(ht,Ut),xt=new tn(ht,ht.j,xt),xt.L=2,xt.v=xn(Gr(Ut)),Ut=!1,z.navigator&&z.navigator.sendBeacon)try{Ut=z.navigator.sendBeacon(xt.v.toString(),"")}catch{}!Ut&&z.Image&&(new Image().src=xt.v,Ut=!0),Ut||(xt.g=Js(xt.j,null),xt.g.ea(xt.v)),xt.F=Date.now(),Hr(xt)}zs(ht)}function Yi(ht){ht.g&&(cs(ht),ht.g.cancel(),ht.g=null)}function Ia(ht){Yi(ht),ht.u&&(z.clearTimeout(ht.u),ht.u=null),Da(ht),ht.h.cancel(),ht.s&&(typeof ht.s=="number"&&z.clearTimeout(ht.s),ht.s=null)}function oo(ht){if(!An(ht.h)&&!ht.s){ht.s=!0;var xt=ht.Ga;rt||We(),Xe||(rt(),Xe=!0),it.add(xt,ht),ht.B=0}}function Zl(ht,xt){return Dn(ht.h)>=ht.h.j-(ht.s?1:0)?!1:ht.s?(ht.i=xt.D.concat(ht.i),!0):ht.G==1||ht.G==2||ht.B>=(ht.Va?0:ht.Wa)?!1:(ht.s=Zt(Re(ht.Ga,ht,xt),Hs(ht,ht.B)),ht.B++,!0)}T.Ga=function(ht){if(this.s)if(this.s=null,this.G==1){if(!ht){this.U=Math.floor(1e5*Math.random()),ht=this.U++;const Pr=new tn(this,this.j,ht);let Mr=this.o;if(this.S&&(Mr?(Mr=Ye(Mr),Qe(Mr,this.S)):Mr=this.S),this.m!==null||this.O||(Pr.H=Mr,Mr=null),this.P)e:{for(var xt=0,Ut=0;Ut<this.i.length;Ut++){t:{var rr=this.i[Ut];if("__data__"in rr.map&&(rr=rr.map.__data__,typeof rr=="string")){rr=rr.length;break t}rr=void 0}if(rr===void 0)break;if(xt+=rr,4096<xt){xt=Ut;break e}if(xt===4096||Ut===this.i.length-1){xt=Ut+1;break e}}xt=1e3}else xt=1e3;xt=Mo(this,Pr,xt),Ut=Gr(this.I),fn(Ut,"RID",ht),fn(Ut,"CVER",22),this.D&&fn(Ut,"X-HTTP-Session-Id",this.D),bo(this,Ut),Mr&&(this.O?xt="headers="+encodeURIComponent(String(_o(Mr)))+"&"+xt:this.m&&Oo(Ut,this.m,Mr)),Qt(this.h,Pr),this.Ua&&fn(Ut,"TYPE","init"),this.P?(fn(Ut,"$req",xt),fn(Ut,"SID","null"),Pr.T=!0,er(Pr,Ut,null)):er(Pr,Ut,xt),this.G=2}}else this.G==3&&(ht?xa(this,ht):this.i.length==0||An(this.h)||xa(this))};function xa(ht,xt){var Ut;xt?Ut=xt.l:Ut=ht.U++;const rr=Gr(ht.I);fn(rr,"SID",ht.K),fn(rr,"RID",Ut),fn(rr,"AID",ht.T),bo(ht,rr),ht.m&&ht.o&&Oo(rr,ht.m,ht.o),Ut=new tn(ht,ht.j,Ut,ht.B+1),ht.m===null&&(Ut.H=ht.o),xt&&(ht.i=xt.D.concat(ht.i)),xt=Mo(ht,Ut,1e3),Ut.I=Math.round(.5*ht.wa)+Math.round(.5*ht.wa*Math.random()),Qt(ht.h,Ut),er(Ut,rr,xt)}function bo(ht,xt){ht.H&&at(ht.H,function(Ut,rr){fn(xt,rr,Ut)}),ht.l&&wr({},function(Ut,rr){fn(xt,rr,Ut)})}function Mo(ht,xt,Ut){Ut=Math.min(ht.i.length,Ut);var rr=ht.l?Re(ht.l.Na,ht.l,ht):null;e:{var Pr=ht.i;let Mr=-1;for(;;){const sn=["count="+Ut];Mr==-1?0<Ut?(Mr=Pr[0].g,sn.push("ofs="+Mr)):Mr=0:sn.push("ofs="+Mr);let Ln=!0;for(let ei=0;ei<Ut;ei++){let Mn=Pr[ei].g;const ni=Pr[ei].map;if(Mn-=Mr,0>Mn)Mr=Math.max(0,Pr[ei].g-100),Ln=!1;else try{qs(ni,sn,"req"+Mn+"_")}catch{rr&&rr(ni)}}if(Ln){rr=sn.join("&");break e}}}return ht=ht.i.splice(0,Ut),xt.D=ht,rr}function la(ht){if(!ht.g&&!ht.u){ht.Y=1;var xt=ht.Fa;rt||We(),Xe||(rt(),Xe=!0),it.add(xt,ht),ht.v=0}}function Ca(ht){return ht.g||ht.u||3<=ht.v?!1:(ht.Y++,ht.u=Zt(Re(ht.Fa,ht),Hs(ht,ht.v)),ht.v++,!0)}T.Fa=function(){if(this.u=null,Ws(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var ht=2*this.R;this.j.info("BP detection timer enabled: "+ht),this.A=Zt(Re(this.ab,this),ht)}},T.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Yi(this),Ws(this))};function cs(ht){ht.A!=null&&(z.clearTimeout(ht.A),ht.A=null)}function Ws(ht){ht.g=new tn(ht,ht.j,"rpc",ht.Y),ht.m===null&&(ht.g.H=ht.o),ht.g.O=0;var xt=Gr(ht.qa);fn(xt,"RID","rpc"),fn(xt,"SID",ht.K),fn(xt,"AID",ht.T),fn(xt,"CI",ht.F?"0":"1"),!ht.F&&ht.ja&&fn(xt,"TO",ht.ja),fn(xt,"TYPE","xmlhttp"),bo(ht,xt),ht.m&&ht.o&&Oo(xt,ht.m,ht.o),ht.L&&(ht.g.I=ht.L);var Ut=ht.g;ht=ht.ia,Ut.L=1,Ut.v=xn(Gr(xt)),Ut.m=null,Ut.P=!0,Rr(Ut,ht)}T.Za=function(){this.C!=null&&(this.C=null,Yi(this),Ca(this),wt(19))};function Da(ht){ht.C!=null&&(z.clearTimeout(ht.C),ht.C=null)}function ka(ht,xt){var Ut=null;if(ht.g==xt){Da(ht),cs(ht),ht.g=null;var rr=2}else if(In(ht.h,xt))Ut=xt.D,vr(ht.h,xt),rr=1;else return;if(ht.G!=0){if(xt.o)if(rr==1){Ut=xt.m?xt.m.length:0,xt=Date.now()-xt.F;var Pr=ht.B;rr=qt(),Nt(rr,new Lt(rr,Ut)),oo(ht)}else la(ht);else if(Pr=xt.s,Pr==3||Pr==0&&0<xt.X||!(rr==1&&Zl(ht,xt)||rr==2&&Ca(ht)))switch(Ut&&0<Ut.length&&(xt=ht.h,xt.i=xt.i.concat(Ut)),Pr){case 1:$o(ht,5);break;case 4:$o(ht,10);break;case 3:$o(ht,6);break;default:$o(ht,2)}}}function Hs(ht,xt){let Ut=ht.Ta+Math.floor(Math.random()*ht.cb);return ht.isActive()||(Ut*=2),Ut*xt}function $o(ht,xt){if(ht.j.info("Error code "+xt),xt==2){var Ut=Re(ht.fb,ht),rr=ht.Xa;const Pr=!rr;rr=new Vr(rr||"//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||Zr(rr,"https"),xn(rr),Pr?Yl(rr.toString(),Ut):Vs(rr.toString(),Ut)}else wt(2);ht.G=0,ht.l&&ht.l.sa(xt),zs(ht),Ia(ht)}T.fb=function(ht){ht?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function zs(ht){if(ht.G=0,ht.ka=[],ht.l){const xt=ar(ht.h);(xt.length!=0||ht.i.length!=0)&&(Be(ht.ka,xt),Be(ht.ka,ht.i),ht.h.i.length=0,Me(ht.i),ht.i.length=0),ht.l.ra()}}function Gs(ht,xt,Ut){var rr=Ut instanceof Vr?Gr(Ut):new Vr(Ut);if(rr.g!="")xt&&(rr.g=xt+"."+rr.g),un(rr,rr.s);else{var Pr=z.location;rr=Pr.protocol,xt=xt?xt+"."+Pr.hostname:Pr.hostname,Pr=+Pr.port;var Mr=new Vr(null);rr&&Zr(Mr,rr),xt&&(Mr.g=xt),Pr&&un(Mr,Pr),Ut&&(Mr.l=Ut),rr=Mr}return Ut=ht.D,xt=ht.ya,Ut&&xt&&fn(rr,Ut,xt),fn(rr,"VER",ht.la),bo(ht,rr),rr}function Js(ht,xt,Ut){if(xt&&!ht.J)throw Error("Can't create secondary domain capable XhrIo object.");return xt=ht.Ca&&!ht.pa?new qn(new vo({eb:Ut})):new qn(ht.pa),xt.Ha(ht.J),xt}T.isActive=function(){return!!this.l&&this.l.isActive(this)};function us(){}T=us.prototype,T.ua=function(){},T.ta=function(){},T.sa=function(){},T.ra=function(){},T.isActive=function(){return!0},T.Na=function(){};function Oa(){}Oa.prototype.g=function(ht,xt){return new yi(ht,xt)};function yi(ht,xt){ct.call(this),this.g=new ls(xt),this.l=ht,this.h=xt&&xt.messageUrlParams||null,ht=xt&&xt.messageHeaders||null,xt&&xt.clientProtocolHeaderRequired&&(ht?ht["X-Client-Protocol"]="webchannel":ht={"X-Client-Protocol":"webchannel"}),this.g.o=ht,ht=xt&&xt.initMessageHeaders||null,xt&&xt.messageContentType&&(ht?ht["X-WebChannel-Content-Type"]=xt.messageContentType:ht={"X-WebChannel-Content-Type":xt.messageContentType}),xt&&xt.va&&(ht?ht["X-WebChannel-Client-Profile"]=xt.va:ht={"X-WebChannel-Client-Profile":xt.va}),this.g.S=ht,(ht=xt&&xt.Sb)&&!Le(ht)&&(this.g.m=ht),this.v=xt&&xt.supportsCrossDomainXhr||!1,this.u=xt&&xt.sendRawJson||!1,(xt=xt&&xt.httpSessionIdParam)&&!Le(xt)&&(this.g.D=xt,ht=this.h,ht!==null&&xt in ht&&(ht=this.h,xt in ht&&delete ht[xt])),this.j=new ao(this)}Pe(yi,ct),yi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yi.prototype.close=function(){li(this.g)},yi.prototype.o=function(ht){var xt=this.g;if(typeof ht=="string"){var Ut={};Ut.__data__=ht,ht=Ut}else this.u&&(Ut={},Ut.__data__=dr(ht),ht=Ut);xt.i.push(new _n(xt.Ya++,ht)),xt.G==3&&oo(xt)},yi.prototype.N=function(){this.g.l=null,delete this.j,li(this.g),delete this.g,yi.aa.N.call(this)};function Ys(ht){Kr.call(this),ht.__headers__&&(this.headers=ht.__headers__,this.statusCode=ht.__status__,delete ht.__headers__,delete ht.__status__);var xt=ht.__sm__;if(xt){e:{for(const Ut in xt){ht=Ut;break e}ht=void 0}(this.i=ht)&&(ht=this.i,xt=xt!==null&&ht in xt?xt[ht]:void 0),this.data=xt}else this.data=ht}Pe(Ys,Kr);function Xs(){Yr.call(this),this.status=1}Pe(Xs,Yr);function ao(ht){this.g=ht}Pe(ao,us),ao.prototype.ua=function(){Nt(this.g,"a")},ao.prototype.ta=function(ht){Nt(this.g,new Ys(ht))},ao.prototype.sa=function(ht){Nt(this.g,new Xs)},ao.prototype.ra=function(){Nt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,yi.prototype.send=yi.prototype.o,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,createWebChannelTransport=function(){return new Oa},getStatEventTarget=function(){return qt()},Event$1=Pt,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,ErrorCode$2=xr,Lr.COMPLETE="complete",EventType=Lr,Qr.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,WebChannel=Qr,qn.prototype.listenOnce=qn.prototype.L,qn.prototype.getLastError=qn.prototype.Ka,qn.prototype.getLastErrorCode=qn.prototype.Ba,qn.prototype.getStatus=qn.prototype.Z,qn.prototype.getResponseJson=qn.prototype.Oa,qn.prototype.getResponseText=qn.prototype.oa,qn.prototype.send=qn.prototype.ea,qn.prototype.setWithCredentials=qn.prototype.Ha,XhrIo=qn}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor($){this.uid=$}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual($){return $.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(T,...$){if(b.logLevel<=LogLevel.DEBUG){const I=$.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${T}`,...I)}}function __PRIVATE_logError(T,...$){if(b.logLevel<=LogLevel.ERROR){const I=$.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${T}`,...I)}}function __PRIVATE_logWarn(T,...$){if(b.logLevel<=LogLevel.WARN){const I=$.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${T}`,...I)}}function __PRIVATE_argToString(T){if(typeof T=="string")return T;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(I){return JSON.stringify(I)}(T)}catch{return T}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(T="Unexpected state"){const $=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+T;throw __PRIVATE_logError($),new Error($)}function __PRIVATE_hardAssert(T,$){T||fail()}function __PRIVATE_debugCast(T,$){return T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor($,I){super($,I),this.code=$,this.message=I,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise(($,I)=>{this.resolve=$,this.reject=I})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor($,I){this.user=I,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${$}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start($,I){$.enqueueRetryable(()=>I(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor($){this.token=$,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start($,I){this.changeListener=I,$.enqueueRetryable(()=>I(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor($){this.t=$,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start($,I){__PRIVATE_hardAssert(this.o===void 0);let N=this.i;const L=Q=>this.i!==N?(N=this.i,I(Q)):Promise.resolve();let B=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),B.resolve(),B=new __PRIVATE_Deferred,$.enqueueRetryable(()=>L(this.currentUser))};const H=()=>{const Q=B;$.enqueueRetryable(async()=>{await Q.promise,await L(this.currentUser)})},z=Q=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.o&&(this.auth.addAuthTokenListener(this.o),H())};this.t.onInit(Q=>z(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?z(Q):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),B.resolve(),B=new __PRIVATE_Deferred)}},0),H()}getToken(){const $=this.i,I=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(I).then(N=>this.i!==$?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):N?(__PRIVATE_hardAssert(typeof N.accessToken=="string"),new __PRIVATE_OAuthToken(N.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const $=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert($===null||typeof $=="string"),new User($)}}class __PRIVATE_FirstPartyToken{constructor($,I,N){this.l=$,this.h=I,this.P=N,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const $=this.T();return $&&this.I.set("Authorization",$),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor($,I,N){this.l=$,this.h=I,this.P=N}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start($,I){$.enqueueRetryable(()=>I(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor($){this.value=$,this.type="AppCheck",this.headers=new Map,$&&$.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor($){this.A=$,this.forceRefresh=!1,this.appCheck=null,this.R=null}start($,I){__PRIVATE_hardAssert(this.o===void 0);const N=B=>{B.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${B.error.message}`);const H=B.token!==this.R;return this.R=B.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${H?"new":"existing"} token.`),H?I(B.token):Promise.resolve()};this.o=B=>{$.enqueueRetryable(()=>N(B))};const L=B=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=B,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(B=>L(B)),setTimeout(()=>{if(!this.appCheck){const B=this.A.getImmediate({optional:!0});B?L(B):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const $=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken($).then(I=>I?(__PRIVATE_hardAssert(typeof I.token=="string"),this.R=I.token,new AppCheckToken(I.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(T){const $=typeof self<"u"&&(self.crypto||self.msCrypto),I=new Uint8Array(T);if($&&typeof $.getRandomValues=="function")$.getRandomValues(I);else for(let N=0;N<T;N++)I[N]=Math.floor(256*Math.random());return I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",I=Math.floor(256/$.length)*$.length;let N="";for(;N.length<20;){const L=__PRIVATE_randomBytes(40);for(let B=0;B<L.length;++B)N.length<20&&L[B]<I&&(N+=$.charAt(L[B]%$.length))}return N}}function __PRIVATE_primitiveComparator(T,$){return T<$?-1:T>$?1:0}function __PRIVATE_arrayEquals(T,$,I){return T.length===$.length&&T.every((N,L)=>I(N,$[L]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor($,I){if(this.seconds=$,this.nanoseconds=I,I<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+I);if(I>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+I);if($<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+$);if($>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+$)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate($){return Timestamp.fromMillis($.getTime())}static fromMillis($){const I=Math.floor($/1e3),N=Math.floor(1e6*($-1e3*I));return new Timestamp(I,N)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo($){return this.seconds===$.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,$.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,$.seconds)}isEqual($){return $.seconds===this.seconds&&$.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const $=this.seconds- -62135596800;return String($).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor($){this.timestamp=$}static fromTimestamp($){return new SnapshotVersion($)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo($){return this.timestamp._compareTo($.timestamp)}isEqual($){return this.timestamp.isEqual($.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor($,I,N){I===void 0?I=0:I>$.length&&fail(),N===void 0?N=$.length-I:N>$.length-I&&fail(),this.segments=$,this.offset=I,this.len=N}get length(){return this.len}isEqual($){return BasePath.comparator(this,$)===0}child($){const I=this.segments.slice(this.offset,this.limit());return $ instanceof BasePath?$.forEach(N=>{I.push(N)}):I.push($),this.construct(I)}limit(){return this.offset+this.length}popFirst($){return $=$===void 0?1:$,this.construct(this.segments,this.offset+$,this.length-$)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get($){return this.segments[this.offset+$]}isEmpty(){return this.length===0}isPrefixOf($){if($.length<this.length)return!1;for(let I=0;I<this.length;I++)if(this.get(I)!==$.get(I))return!1;return!0}isImmediateParentOf($){if(this.length+1!==$.length)return!1;for(let I=0;I<this.length;I++)if(this.get(I)!==$.get(I))return!1;return!0}forEach($){for(let I=this.offset,N=this.limit();I<N;I++)$(this.segments[I])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator($,I){const N=Math.min($.length,I.length);for(let L=0;L<N;L++){const B=$.get(L),H=I.get(L);if(B<H)return-1;if(B>H)return 1}return $.length<I.length?-1:$.length>I.length?1:0}}class ResourcePath extends BasePath{construct($,I,N){return new ResourcePath($,I,N)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...$){const I=[];for(const N of $){if(N.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${N}). Paths must not contain // in them.`);I.push(...N.split("/").filter(L=>L.length>0))}return new ResourcePath(I)}static emptyPath(){return new ResourcePath([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct($,I,N){return new FieldPath$1($,I,N)}static isValidIdentifier($){return v.test($)}canonicalString(){return this.toArray().map($=>($=$.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier($)||($="`"+$+"`"),$)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat($){const I=[];let N="",L=0;const B=()=>{if(N.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${$}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);I.push(N),N=""};let H=!1;for(;L<$.length;){const z=$[L];if(z==="\\"){if(L+1===$.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+$);const Q=$[L+1];if(Q!=="\\"&&Q!=="."&&Q!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+$);N+=Q,L+=2}else z==="`"?(H=!H,L++):z!=="."||H?(N+=z,L++):(B(),L++)}if(B(),H)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+$);return new FieldPath$1(I)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor($){this.path=$}static fromPath($){return new DocumentKey(ResourcePath.fromString($))}static fromName($){return new DocumentKey(ResourcePath.fromString($).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId($){return this.path.length>=2&&this.path.get(this.path.length-2)===$}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual($){return $!==null&&ResourcePath.comparator(this.path,$.path)===0}toString(){return this.path.toString()}static comparator($,I){return ResourcePath.comparator($.path,I.path)}static isDocumentKey($){return $.length%2==0}static fromSegments($){return new DocumentKey(new ResourcePath($.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(T,$){const I=T.toTimestamp().seconds,N=T.toTimestamp().nanoseconds+1,L=SnapshotVersion.fromTimestamp(N===1e9?new Timestamp(I+1,0):new Timestamp(I,N));return new IndexOffset(L,DocumentKey.empty(),$)}function __PRIVATE_newIndexOffsetFromDocument(T){return new IndexOffset(T.readTime,T.key,-1)}class IndexOffset{constructor($,I,N){this.readTime=$,this.documentKey=I,this.largestBatchId=N}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(T,$){let I=T.readTime.compareTo($.readTime);return I!==0?I:(I=DocumentKey.comparator(T.documentKey,$.documentKey),I!==0?I:__PRIVATE_primitiveComparator(T.largestBatchId,$.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener($){this.onCommittedListeners.push($)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach($=>$())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(T){if(T.code!==D.FAILED_PRECONDITION||T.message!==C)throw T;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor($){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,$(I=>{this.isDone=!0,this.result=I,this.nextCallback&&this.nextCallback(I)},I=>{this.isDone=!0,this.error=I,this.catchCallback&&this.catchCallback(I)})}catch($){return this.next(void 0,$)}next($,I){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(I,this.error):this.wrapSuccess($,this.result):new PersistencePromise((N,L)=>{this.nextCallback=B=>{this.wrapSuccess($,B).next(N,L)},this.catchCallback=B=>{this.wrapFailure(I,B).next(N,L)}})}toPromise(){return new Promise(($,I)=>{this.next($,I)})}wrapUserFunction($){try{const I=$();return I instanceof PersistencePromise?I:PersistencePromise.resolve(I)}catch(I){return PersistencePromise.reject(I)}}wrapSuccess($,I){return $?this.wrapUserFunction(()=>$(I)):PersistencePromise.resolve(I)}wrapFailure($,I){return $?this.wrapUserFunction(()=>$(I)):PersistencePromise.reject(I)}static resolve($){return new PersistencePromise((I,N)=>{I($)})}static reject($){return new PersistencePromise((I,N)=>{N($)})}static waitFor($){return new PersistencePromise((I,N)=>{let L=0,B=0,H=!1;$.forEach(z=>{++L,z.next(()=>{++B,H&&B===L&&I()},Q=>N(Q))}),H=!0,B===L&&I()})}static or($){let I=PersistencePromise.resolve(!1);for(const N of $)I=I.next(L=>L?PersistencePromise.resolve(L):N());return I}static forEach($,I){const N=[];return $.forEach((L,B)=>{N.push(I.call(this,L,B))}),this.waitFor(N)}static mapArray($,I){return new PersistencePromise((N,L)=>{const B=$.length,H=new Array(B);let z=0;for(let Q=0;Q<B;Q++){const te=Q;I($[te]).next(G=>{H[te]=G,++z,z===B&&N(H)},G=>L(G))}})}static doWhile($,I){return new PersistencePromise((N,L)=>{const B=()=>{$()===!0?I().next(()=>{B()},L):N()};B()})}}function __PRIVATE_getAndroidVersion(T){const $=T.match(/Android ([\d.]+)/i),I=$?$[1].split(".").slice(0,2).join("."):"-1";return Number(I)}function __PRIVATE_isIndexedDbTransactionError(T){return T.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor($,I){this.previousValue=$,I&&(I.sequenceNumberHandler=N=>this.ie(N),this.se=N=>I.writeSequenceNumber(N))}ie($){return this.previousValue=Math.max($,this.previousValue),this.previousValue}next(){const $=++this.previousValue;return this.se&&this.se($),$}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(T){return T==null}function __PRIVATE_isNegativeZero(T){return T===0&&1/T==-1/0}function isSafeInteger(T){return typeof T=="number"&&Number.isInteger(T)&&!__PRIVATE_isNegativeZero(T)&&T<=Number.MAX_SAFE_INTEGER&&T>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(T){let $=0;for(const I in T)Object.prototype.hasOwnProperty.call(T,I)&&$++;return $}function forEach$9(T,$){for(const I in T)Object.prototype.hasOwnProperty.call(T,I)&&$(I,T[I])}function isEmpty(T){for(const $ in T)if(Object.prototype.hasOwnProperty.call(T,$))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor($,I){this.comparator=$,this.root=I||LLRBNode.EMPTY}insert($,I){return new SortedMap(this.comparator,this.root.insert($,I,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove($){return new SortedMap(this.comparator,this.root.remove($,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get($){let I=this.root;for(;!I.isEmpty();){const N=this.comparator($,I.key);if(N===0)return I.value;N<0?I=I.left:N>0&&(I=I.right)}return null}indexOf($){let I=0,N=this.root;for(;!N.isEmpty();){const L=this.comparator($,N.key);if(L===0)return I+N.left.size;L<0?N=N.left:(I+=N.left.size+1,N=N.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal($){return this.root.inorderTraversal($)}forEach($){this.inorderTraversal((I,N)=>($(I,N),!1))}toString(){const $=[];return this.inorderTraversal((I,N)=>($.push(`${I}:${N}`),!1)),`{${$.join(", ")}}`}reverseTraversal($){return this.root.reverseTraversal($)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom($){return new SortedMapIterator(this.root,$,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom($){return new SortedMapIterator(this.root,$,this.comparator,!0)}}class SortedMapIterator{constructor($,I,N,L){this.isReverse=L,this.nodeStack=[];let B=1;for(;!$.isEmpty();)if(B=I?N($.key,I):1,I&&L&&(B*=-1),B<0)$=this.isReverse?$.left:$.right;else{if(B===0){this.nodeStack.push($);break}this.nodeStack.push($),$=this.isReverse?$.right:$.left}}getNext(){let $=this.nodeStack.pop();const I={key:$.key,value:$.value};if(this.isReverse)for($=$.left;!$.isEmpty();)this.nodeStack.push($),$=$.right;else for($=$.right;!$.isEmpty();)this.nodeStack.push($),$=$.left;return I}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const $=this.nodeStack[this.nodeStack.length-1];return{key:$.key,value:$.value}}}class LLRBNode{constructor($,I,N,L,B){this.key=$,this.value=I,this.color=N??LLRBNode.RED,this.left=L??LLRBNode.EMPTY,this.right=B??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy($,I,N,L,B){return new LLRBNode($??this.key,I??this.value,N??this.color,L??this.left,B??this.right)}isEmpty(){return!1}inorderTraversal($){return this.left.inorderTraversal($)||$(this.key,this.value)||this.right.inorderTraversal($)}reverseTraversal($){return this.right.reverseTraversal($)||$(this.key,this.value)||this.left.reverseTraversal($)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert($,I,N){let L=this;const B=N($,L.key);return L=B<0?L.copy(null,null,null,L.left.insert($,I,N),null):B===0?L.copy(null,I,null,null,null):L.copy(null,null,null,null,L.right.insert($,I,N)),L.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let $=this;return $.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),$=$.copy(null,null,null,$.left.removeMin(),null),$.fixUp()}remove($,I){let N,L=this;if(I($,L.key)<0)L.left.isEmpty()||L.left.isRed()||L.left.left.isRed()||(L=L.moveRedLeft()),L=L.copy(null,null,null,L.left.remove($,I),null);else{if(L.left.isRed()&&(L=L.rotateRight()),L.right.isEmpty()||L.right.isRed()||L.right.left.isRed()||(L=L.moveRedRight()),I($,L.key)===0){if(L.right.isEmpty())return LLRBNode.EMPTY;N=L.right.min(),L=L.copy(N.key,N.value,null,null,L.right.removeMin())}L=L.copy(null,null,null,null,L.right.remove($,I))}return L.fixUp()}isRed(){return this.color}fixUp(){let $=this;return $.right.isRed()&&!$.left.isRed()&&($=$.rotateLeft()),$.left.isRed()&&$.left.left.isRed()&&($=$.rotateRight()),$.left.isRed()&&$.right.isRed()&&($=$.colorFlip()),$}moveRedLeft(){let $=this.colorFlip();return $.right.left.isRed()&&($=$.copy(null,null,null,null,$.right.rotateRight()),$=$.rotateLeft(),$=$.colorFlip()),$}moveRedRight(){let $=this.colorFlip();return $.left.left.isRed()&&($=$.rotateRight(),$=$.colorFlip()),$}rotateLeft(){const $=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,$,null)}rotateRight(){const $=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,$)}colorFlip(){const $=this.left.copy(null,null,!this.left.color,null,null),I=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,$,I)}checkMaxDepth(){const $=this.check();return Math.pow(2,$)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const $=this.left.check();if($!==this.right.check())throw fail();return $+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy($,I,N,L,B){return this}insert($,I,N){return new LLRBNode($,I)}remove($,I){return this}isEmpty(){return!0}inorderTraversal($){return!1}reverseTraversal($){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor($){this.comparator=$,this.data=new SortedMap(this.comparator)}has($){return this.data.get($)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf($){return this.data.indexOf($)}forEach($){this.data.inorderTraversal((I,N)=>($(I),!1))}forEachInRange($,I){const N=this.data.getIteratorFrom($[0]);for(;N.hasNext();){const L=N.getNext();if(this.comparator(L.key,$[1])>=0)return;I(L.key)}}forEachWhile($,I){let N;for(N=I!==void 0?this.data.getIteratorFrom(I):this.data.getIterator();N.hasNext();)if(!$(N.getNext().key))return}firstAfterOrEqual($){const I=this.data.getIteratorFrom($);return I.hasNext()?I.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom($){return new SortedSetIterator(this.data.getIteratorFrom($))}add($){return this.copy(this.data.remove($).insert($,!0))}delete($){return this.has($)?this.copy(this.data.remove($)):this}isEmpty(){return this.data.isEmpty()}unionWith($){let I=this;return I.size<$.size&&(I=$,$=this),$.forEach(N=>{I=I.add(N)}),I}isEqual($){if(!($ instanceof SortedSet)||this.size!==$.size)return!1;const I=this.data.getIterator(),N=$.data.getIterator();for(;I.hasNext();){const L=I.getNext().key,B=N.getNext().key;if(this.comparator(L,B)!==0)return!1}return!0}toArray(){const $=[];return this.forEach(I=>{$.push(I)}),$}toString(){const $=[];return this.forEach(I=>$.push(I)),"SortedSet("+$.toString()+")"}copy($){const I=new SortedSet(this.comparator);return I.data=$,I}}class SortedSetIterator{constructor($){this.iter=$}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor($){this.fields=$,$.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith($){let I=new SortedSet(FieldPath$1.comparator);for(const N of this.fields)I=I.add(N);for(const N of $)I=I.add(N);return new FieldMask(I.toArray())}covers($){for(const I of this.fields)if(I.isPrefixOf($))return!0;return!1}isEqual($){return __PRIVATE_arrayEquals(this.fields,$.fields,(I,N)=>I.isEqual(N))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor($){this.binaryString=$}static fromBase64String($){const I=function(L){try{return atob(L)}catch(B){throw typeof DOMException<"u"&&B instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+B):B}}($);return new ByteString(I)}static fromUint8Array($){const I=function(L){let B="";for(let H=0;H<L.length;++H)B+=String.fromCharCode(L[H]);return B}($);return new ByteString(I)}[Symbol.iterator](){let $=0;return{next:()=>$<this.binaryString.length?{value:this.binaryString.charCodeAt($++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(I){return btoa(I)}(this.binaryString)}toUint8Array(){return function(I){const N=new Uint8Array(I.length);for(let L=0;L<I.length;L++)N[L]=I.charCodeAt(L);return N}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo($){return __PRIVATE_primitiveComparator(this.binaryString,$.binaryString)}isEqual($){return this.binaryString===$.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(T){if(__PRIVATE_hardAssert(!!T),typeof T=="string"){let $=0;const I=ne.exec(T);if(__PRIVATE_hardAssert(!!I),I[1]){let L=I[1];L=(L+"000000000").substr(0,9),$=Number(L)}const N=new Date(T);return{seconds:Math.floor(N.getTime()/1e3),nanos:$}}return{seconds:__PRIVATE_normalizeNumber(T.seconds),nanos:__PRIVATE_normalizeNumber(T.nanos)}}function __PRIVATE_normalizeNumber(T){return typeof T=="number"?T:typeof T=="string"?Number(T):0}function __PRIVATE_normalizeByteString(T){return typeof T=="string"?ByteString.fromBase64String(T):ByteString.fromUint8Array(T)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(T){var $,I;return((I=((($=T==null?void 0:T.mapValue)===null||$===void 0?void 0:$.fields)||{}).__type__)===null||I===void 0?void 0:I.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(T){const $=T.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp($)?__PRIVATE_getPreviousValue($):$}function __PRIVATE_getLocalWriteTime(T){const $=__PRIVATE_normalizeTimestamp(T.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp($.seconds,$.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor($,I,N,L,B,H,z,Q,te){this.databaseId=$,this.appId=I,this.persistenceKey=N,this.host=L,this.ssl=B,this.forceLongPolling=H,this.autoDetectLongPolling=z,this.longPollingOptions=Q,this.useFetchStreams=te}}class DatabaseId{constructor($,I){this.projectId=$,this.database=I||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual($){return $ instanceof DatabaseId&&$.projectId===this.projectId&&$.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={mapValue:{}};function __PRIVATE_typeOrder(T){return"nullValue"in T?0:"booleanValue"in T?1:"integerValue"in T||"doubleValue"in T?2:"timestampValue"in T?3:"stringValue"in T?5:"bytesValue"in T?6:"referenceValue"in T?7:"geoPointValue"in T?8:"arrayValue"in T?9:"mapValue"in T?__PRIVATE_isServerTimestamp(T)?4:__PRIVATE_isMaxValue(T)?9007199254740991:__PRIVATE_isVectorValue(T)?10:11:fail()}function __PRIVATE_valueEquals(T,$){if(T===$)return!0;const I=__PRIVATE_typeOrder(T);if(I!==__PRIVATE_typeOrder($))return!1;switch(I){case 0:case 9007199254740991:return!0;case 1:return T.booleanValue===$.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(T).isEqual(__PRIVATE_getLocalWriteTime($));case 3:return function(L,B){if(typeof L.timestampValue=="string"&&typeof B.timestampValue=="string"&&L.timestampValue.length===B.timestampValue.length)return L.timestampValue===B.timestampValue;const H=__PRIVATE_normalizeTimestamp(L.timestampValue),z=__PRIVATE_normalizeTimestamp(B.timestampValue);return H.seconds===z.seconds&&H.nanos===z.nanos}(T,$);case 5:return T.stringValue===$.stringValue;case 6:return function(L,B){return __PRIVATE_normalizeByteString(L.bytesValue).isEqual(__PRIVATE_normalizeByteString(B.bytesValue))}(T,$);case 7:return T.referenceValue===$.referenceValue;case 8:return function(L,B){return __PRIVATE_normalizeNumber(L.geoPointValue.latitude)===__PRIVATE_normalizeNumber(B.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(L.geoPointValue.longitude)===__PRIVATE_normalizeNumber(B.geoPointValue.longitude)}(T,$);case 2:return function(L,B){if("integerValue"in L&&"integerValue"in B)return __PRIVATE_normalizeNumber(L.integerValue)===__PRIVATE_normalizeNumber(B.integerValue);if("doubleValue"in L&&"doubleValue"in B){const H=__PRIVATE_normalizeNumber(L.doubleValue),z=__PRIVATE_normalizeNumber(B.doubleValue);return H===z?__PRIVATE_isNegativeZero(H)===__PRIVATE_isNegativeZero(z):isNaN(H)&&isNaN(z)}return!1}(T,$);case 9:return __PRIVATE_arrayEquals(T.arrayValue.values||[],$.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(L,B){const H=L.mapValue.fields||{},z=B.mapValue.fields||{};if(__PRIVATE_objectSize(H)!==__PRIVATE_objectSize(z))return!1;for(const Q in H)if(H.hasOwnProperty(Q)&&(z[Q]===void 0||!__PRIVATE_valueEquals(H[Q],z[Q])))return!1;return!0}(T,$);default:return fail()}}function __PRIVATE_arrayValueContains(T,$){return(T.values||[]).find(I=>__PRIVATE_valueEquals(I,$))!==void 0}function __PRIVATE_valueCompare(T,$){if(T===$)return 0;const I=__PRIVATE_typeOrder(T),N=__PRIVATE_typeOrder($);if(I!==N)return __PRIVATE_primitiveComparator(I,N);switch(I){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(T.booleanValue,$.booleanValue);case 2:return function(B,H){const z=__PRIVATE_normalizeNumber(B.integerValue||B.doubleValue),Q=__PRIVATE_normalizeNumber(H.integerValue||H.doubleValue);return z<Q?-1:z>Q?1:z===Q?0:isNaN(z)?isNaN(Q)?0:-1:1}(T,$);case 3:return __PRIVATE_compareTimestamps(T.timestampValue,$.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(T),__PRIVATE_getLocalWriteTime($));case 5:return __PRIVATE_primitiveComparator(T.stringValue,$.stringValue);case 6:return function(B,H){const z=__PRIVATE_normalizeByteString(B),Q=__PRIVATE_normalizeByteString(H);return z.compareTo(Q)}(T.bytesValue,$.bytesValue);case 7:return function(B,H){const z=B.split("/"),Q=H.split("/");for(let te=0;te<z.length&&te<Q.length;te++){const G=__PRIVATE_primitiveComparator(z[te],Q[te]);if(G!==0)return G}return __PRIVATE_primitiveComparator(z.length,Q.length)}(T.referenceValue,$.referenceValue);case 8:return function(B,H){const z=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(B.latitude),__PRIVATE_normalizeNumber(H.latitude));return z!==0?z:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(B.longitude),__PRIVATE_normalizeNumber(H.longitude))}(T.geoPointValue,$.geoPointValue);case 9:return __PRIVATE_compareArrays(T.arrayValue,$.arrayValue);case 10:return function(B,H){var z,Q,te,G;const ie=B.fields||{},Re=H.fields||{},$e=(z=ie.value)===null||z===void 0?void 0:z.arrayValue,Pe=(Q=Re.value)===null||Q===void 0?void 0:Q.arrayValue,Me=__PRIVATE_primitiveComparator(((te=$e==null?void 0:$e.values)===null||te===void 0?void 0:te.length)||0,((G=Pe==null?void 0:Pe.values)===null||G===void 0?void 0:G.length)||0);return Me!==0?Me:__PRIVATE_compareArrays($e,Pe)}(T.mapValue,$.mapValue);case 11:return function(B,H){if(B===re.mapValue&&H===re.mapValue)return 0;if(B===re.mapValue)return 1;if(H===re.mapValue)return-1;const z=B.fields||{},Q=Object.keys(z),te=H.fields||{},G=Object.keys(te);Q.sort(),G.sort();for(let ie=0;ie<Q.length&&ie<G.length;++ie){const Re=__PRIVATE_primitiveComparator(Q[ie],G[ie]);if(Re!==0)return Re;const $e=__PRIVATE_valueCompare(z[Q[ie]],te[G[ie]]);if($e!==0)return $e}return __PRIVATE_primitiveComparator(Q.length,G.length)}(T.mapValue,$.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(T,$){if(typeof T=="string"&&typeof $=="string"&&T.length===$.length)return __PRIVATE_primitiveComparator(T,$);const I=__PRIVATE_normalizeTimestamp(T),N=__PRIVATE_normalizeTimestamp($),L=__PRIVATE_primitiveComparator(I.seconds,N.seconds);return L!==0?L:__PRIVATE_primitiveComparator(I.nanos,N.nanos)}function __PRIVATE_compareArrays(T,$){const I=T.values||[],N=$.values||[];for(let L=0;L<I.length&&L<N.length;++L){const B=__PRIVATE_valueCompare(I[L],N[L]);if(B)return B}return __PRIVATE_primitiveComparator(I.length,N.length)}function canonicalId(T){return __PRIVATE_canonifyValue(T)}function __PRIVATE_canonifyValue(T){return"nullValue"in T?"null":"booleanValue"in T?""+T.booleanValue:"integerValue"in T?""+T.integerValue:"doubleValue"in T?""+T.doubleValue:"timestampValue"in T?function(I){const N=__PRIVATE_normalizeTimestamp(I);return`time(${N.seconds},${N.nanos})`}(T.timestampValue):"stringValue"in T?T.stringValue:"bytesValue"in T?function(I){return __PRIVATE_normalizeByteString(I).toBase64()}(T.bytesValue):"referenceValue"in T?function(I){return DocumentKey.fromName(I).toString()}(T.referenceValue):"geoPointValue"in T?function(I){return`geo(${I.latitude},${I.longitude})`}(T.geoPointValue):"arrayValue"in T?function(I){let N="[",L=!0;for(const B of I.values||[])L?L=!1:N+=",",N+=__PRIVATE_canonifyValue(B);return N+"]"}(T.arrayValue):"mapValue"in T?function(I){const N=Object.keys(I.fields||{}).sort();let L="{",B=!0;for(const H of N)B?B=!1:L+=",",L+=`${H}:${__PRIVATE_canonifyValue(I.fields[H])}`;return L+"}"}(T.mapValue):fail()}function isInteger$1(T){return!!T&&"integerValue"in T}function isArray$2(T){return!!T&&"arrayValue"in T}function __PRIVATE_isNullValue(T){return!!T&&"nullValue"in T}function __PRIVATE_isNanValue(T){return!!T&&"doubleValue"in T&&isNaN(Number(T.doubleValue))}function __PRIVATE_isMapValue(T){return!!T&&"mapValue"in T}function __PRIVATE_isVectorValue(T){var $,I;return((I=((($=T==null?void 0:T.mapValue)===null||$===void 0?void 0:$.fields)||{}).__type__)===null||I===void 0?void 0:I.stringValue)==="__vector__"}function __PRIVATE_deepClone(T){if(T.geoPointValue)return{geoPointValue:Object.assign({},T.geoPointValue)};if(T.timestampValue&&typeof T.timestampValue=="object")return{timestampValue:Object.assign({},T.timestampValue)};if(T.mapValue){const $={mapValue:{fields:{}}};return forEach$9(T.mapValue.fields,(I,N)=>$.mapValue.fields[I]=__PRIVATE_deepClone(N)),$}if(T.arrayValue){const $={arrayValue:{values:[]}};for(let I=0;I<(T.arrayValue.values||[]).length;++I)$.arrayValue.values[I]=__PRIVATE_deepClone(T.arrayValue.values[I]);return $}return Object.assign({},T)}function __PRIVATE_isMaxValue(T){return(((T.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor($){this.value=$}static empty(){return new ObjectValue({mapValue:{}})}field($){if($.isEmpty())return this.value;{let I=this.value;for(let N=0;N<$.length-1;++N)if(I=(I.mapValue.fields||{})[$.get(N)],!__PRIVATE_isMapValue(I))return null;return I=(I.mapValue.fields||{})[$.lastSegment()],I||null}}set($,I){this.getFieldsMap($.popLast())[$.lastSegment()]=__PRIVATE_deepClone(I)}setAll($){let I=FieldPath$1.emptyPath(),N={},L=[];$.forEach((H,z)=>{if(!I.isImmediateParentOf(z)){const Q=this.getFieldsMap(I);this.applyChanges(Q,N,L),N={},L=[],I=z.popLast()}H?N[z.lastSegment()]=__PRIVATE_deepClone(H):L.push(z.lastSegment())});const B=this.getFieldsMap(I);this.applyChanges(B,N,L)}delete($){const I=this.field($.popLast());__PRIVATE_isMapValue(I)&&I.mapValue.fields&&delete I.mapValue.fields[$.lastSegment()]}isEqual($){return __PRIVATE_valueEquals(this.value,$.value)}getFieldsMap($){let I=this.value;I.mapValue.fields||(I.mapValue={fields:{}});for(let N=0;N<$.length;++N){let L=I.mapValue.fields[$.get(N)];__PRIVATE_isMapValue(L)&&L.mapValue.fields||(L={mapValue:{fields:{}}},I.mapValue.fields[$.get(N)]=L),I=L}return I.mapValue.fields}applyChanges($,I,N){forEach$9(I,(L,B)=>$[L]=B);for(const L of N)delete $[L]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(T){const $=[];return forEach$9(T.fields,(I,N)=>{const L=new FieldPath$1([I]);if(__PRIVATE_isMapValue(N)){const B=__PRIVATE_extractFieldMask(N.mapValue).fields;if(B.length===0)$.push(L);else for(const H of B)$.push(L.child(H))}else $.push(L)}),new FieldMask($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor($,I,N,L,B,H,z){this.key=$,this.documentType=I,this.version=N,this.readTime=L,this.createTime=B,this.data=H,this.documentState=z}static newInvalidDocument($){return new MutableDocument($,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument($,I,N,L){return new MutableDocument($,1,I,SnapshotVersion.min(),N,L,0)}static newNoDocument($,I){return new MutableDocument($,2,I,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument($,I){return new MutableDocument($,3,I,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument($,I){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=$),this.version=$,this.documentType=1,this.data=I,this.documentState=0,this}convertToNoDocument($){return this.version=$,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument($){return this.version=$,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime($){return this.readTime=$,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual($){return $ instanceof MutableDocument&&this.key.isEqual($.key)&&this.version.isEqual($.version)&&this.documentType===$.documentType&&this.documentState===$.documentState&&this.data.isEqual($.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor($,I){this.position=$,this.inclusive=I}}function __PRIVATE_boundCompareToDocument(T,$,I){let N=0;for(let L=0;L<T.position.length;L++){const B=$[L],H=T.position[L];if(B.field.isKeyField()?N=DocumentKey.comparator(DocumentKey.fromName(H.referenceValue),I.key):N=__PRIVATE_valueCompare(H,I.data.field(B.field)),B.dir==="desc"&&(N*=-1),N!==0)break}return N}function __PRIVATE_boundEquals(T,$){if(T===null)return $===null;if($===null||T.inclusive!==$.inclusive||T.position.length!==$.position.length)return!1;for(let I=0;I<T.position.length;I++)if(!__PRIVATE_valueEquals(T.position[I],$.position[I]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor($,I="asc"){this.field=$,this.dir=I}}function __PRIVATE_orderByEquals(T,$){return T.dir===$.dir&&T.field.isEqual($.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor($,I,N){super(),this.field=$,this.op=I,this.value=N}static create($,I,N){return $.isKeyField()?I==="in"||I==="not-in"?this.createKeyFieldInFilter($,I,N):new __PRIVATE_KeyFieldFilter($,I,N):I==="array-contains"?new __PRIVATE_ArrayContainsFilter($,N):I==="in"?new __PRIVATE_InFilter($,N):I==="not-in"?new __PRIVATE_NotInFilter($,N):I==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter($,N):new FieldFilter($,I,N)}static createKeyFieldInFilter($,I,N){return I==="in"?new __PRIVATE_KeyFieldInFilter($,N):new __PRIVATE_KeyFieldNotInFilter($,N)}matches($){const I=$.data.field(this.field);return this.op==="!="?I!==null&&this.matchesComparison(__PRIVATE_valueCompare(I,this.value)):I!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(I)&&this.matchesComparison(__PRIVATE_valueCompare(I,this.value))}matchesComparison($){switch(this.op){case"<":return $<0;case"<=":return $<=0;case"==":return $===0;case"!=":return $!==0;case">":return $>0;case">=":return $>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor($,I){super(),this.filters=$,this.op=I,this.ae=null}static create($,I){return new CompositeFilter($,I)}matches($){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(I=>!I.matches($))===void 0:this.filters.find(I=>I.matches($))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(($,I)=>$.concat(I.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(T){return T.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(T){return __PRIVATE_compositeFilterIsFlat(T)&&__PRIVATE_compositeFilterIsConjunction(T)}function __PRIVATE_compositeFilterIsFlat(T){for(const $ of T.filters)if($ instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(T){if(T instanceof FieldFilter)return T.field.canonicalString()+T.op.toString()+canonicalId(T.value);if(__PRIVATE_compositeFilterIsFlatConjunction(T))return T.filters.map($=>__PRIVATE_canonifyFilter($)).join(",");{const $=T.filters.map(I=>__PRIVATE_canonifyFilter(I)).join(",");return`${T.op}(${$})`}}function __PRIVATE_filterEquals(T,$){return T instanceof FieldFilter?function(N,L){return L instanceof FieldFilter&&N.op===L.op&&N.field.isEqual(L.field)&&__PRIVATE_valueEquals(N.value,L.value)}(T,$):T instanceof CompositeFilter?function(N,L){return L instanceof CompositeFilter&&N.op===L.op&&N.filters.length===L.filters.length?N.filters.reduce((B,H,z)=>B&&__PRIVATE_filterEquals(H,L.filters[z]),!0):!1}(T,$):void fail()}function __PRIVATE_stringifyFilter(T){return T instanceof FieldFilter?function(I){return`${I.field.canonicalString()} ${I.op} ${canonicalId(I.value)}`}(T):T instanceof CompositeFilter?function(I){return I.op.toString()+" {"+I.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(T):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor($,I,N){super($,I,N),this.key=DocumentKey.fromName(N.referenceValue)}matches($){const I=DocumentKey.comparator($.key,this.key);return this.matchesComparison(I)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor($,I){super($,"in",I),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",I)}matches($){return this.keys.some(I=>I.isEqual($.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor($,I){super($,"not-in",I),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",I)}matches($){return!this.keys.some(I=>I.isEqual($.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(T,$){var I;return(((I=$.arrayValue)===null||I===void 0?void 0:I.values)||[]).map(N=>DocumentKey.fromName(N.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor($,I){super($,"array-contains",I)}matches($){const I=$.data.field(this.field);return isArray$2(I)&&__PRIVATE_arrayValueContains(I.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor($,I){super($,"in",I)}matches($){const I=$.data.field(this.field);return I!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,I)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor($,I){super($,"not-in",I)}matches($){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const I=$.data.field(this.field);return I!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,I)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor($,I){super($,"array-contains-any",I)}matches($){const I=$.data.field(this.field);return!(!isArray$2(I)||!I.arrayValue.values)&&I.arrayValue.values.some(N=>__PRIVATE_arrayValueContains(this.value.arrayValue,N))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor($,I=null,N=[],L=[],B=null,H=null,z=null){this.path=$,this.collectionGroup=I,this.orderBy=N,this.filters=L,this.limit=B,this.startAt=H,this.endAt=z,this.ue=null}}function __PRIVATE_newTarget(T,$=null,I=[],N=[],L=null,B=null,H=null){return new __PRIVATE_TargetImpl(T,$,I,N,L,B,H)}function __PRIVATE_canonifyTarget(T){const $=__PRIVATE_debugCast(T);if($.ue===null){let I=$.path.canonicalString();$.collectionGroup!==null&&(I+="|cg:"+$.collectionGroup),I+="|f:",I+=$.filters.map(N=>__PRIVATE_canonifyFilter(N)).join(","),I+="|ob:",I+=$.orderBy.map(N=>function(B){return B.field.canonicalString()+B.dir}(N)).join(","),__PRIVATE_isNullOrUndefined($.limit)||(I+="|l:",I+=$.limit),$.startAt&&(I+="|lb:",I+=$.startAt.inclusive?"b:":"a:",I+=$.startAt.position.map(N=>canonicalId(N)).join(",")),$.endAt&&(I+="|ub:",I+=$.endAt.inclusive?"a:":"b:",I+=$.endAt.position.map(N=>canonicalId(N)).join(",")),$.ue=I}return $.ue}function __PRIVATE_targetEquals(T,$){if(T.limit!==$.limit||T.orderBy.length!==$.orderBy.length)return!1;for(let I=0;I<T.orderBy.length;I++)if(!__PRIVATE_orderByEquals(T.orderBy[I],$.orderBy[I]))return!1;if(T.filters.length!==$.filters.length)return!1;for(let I=0;I<T.filters.length;I++)if(!__PRIVATE_filterEquals(T.filters[I],$.filters[I]))return!1;return T.collectionGroup===$.collectionGroup&&!!T.path.isEqual($.path)&&!!__PRIVATE_boundEquals(T.startAt,$.startAt)&&__PRIVATE_boundEquals(T.endAt,$.endAt)}function __PRIVATE_targetIsDocumentTarget(T){return DocumentKey.isDocumentKey(T.path)&&T.collectionGroup===null&&T.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor($,I=null,N=[],L=[],B=null,H="F",z=null,Q=null){this.path=$,this.collectionGroup=I,this.explicitOrderBy=N,this.filters=L,this.limit=B,this.limitType=H,this.startAt=z,this.endAt=Q,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(T,$,I,N,L,B,H,z){return new __PRIVATE_QueryImpl(T,$,I,N,L,B,H,z)}function __PRIVATE_newQueryForPath(T){return new __PRIVATE_QueryImpl(T)}function __PRIVATE_queryMatchesAllDocuments(T){return T.filters.length===0&&T.limit===null&&T.startAt==null&&T.endAt==null&&(T.explicitOrderBy.length===0||T.explicitOrderBy.length===1&&T.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(T){return T.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(T){const $=__PRIVATE_debugCast(T);if($.ce===null){$.ce=[];const I=new Set;for(const B of $.explicitOrderBy)$.ce.push(B),I.add(B.field.canonicalString());const N=$.explicitOrderBy.length>0?$.explicitOrderBy[$.explicitOrderBy.length-1].dir:"asc";(function(H){let z=new SortedSet(FieldPath$1.comparator);return H.filters.forEach(Q=>{Q.getFlattenedFilters().forEach(te=>{te.isInequality()&&(z=z.add(te.field))})}),z})($).forEach(B=>{I.has(B.canonicalString())||B.isKeyField()||$.ce.push(new OrderBy(B,N))}),I.has(FieldPath$1.keyField().canonicalString())||$.ce.push(new OrderBy(FieldPath$1.keyField(),N))}return $.ce}function __PRIVATE_queryToTarget(T){const $=__PRIVATE_debugCast(T);return $.le||($.le=__PRIVATE__queryToTarget($,__PRIVATE_queryNormalizedOrderBy(T))),$.le}function __PRIVATE__queryToTarget(T,$){if(T.limitType==="F")return __PRIVATE_newTarget(T.path,T.collectionGroup,$,T.filters,T.limit,T.startAt,T.endAt);{$=$.map(L=>{const B=L.dir==="desc"?"asc":"desc";return new OrderBy(L.field,B)});const I=T.endAt?new Bound(T.endAt.position,T.endAt.inclusive):null,N=T.startAt?new Bound(T.startAt.position,T.startAt.inclusive):null;return __PRIVATE_newTarget(T.path,T.collectionGroup,$,T.filters,T.limit,I,N)}}function __PRIVATE_queryWithLimit(T,$,I){return new __PRIVATE_QueryImpl(T.path,T.collectionGroup,T.explicitOrderBy.slice(),T.filters.slice(),$,I,T.startAt,T.endAt)}function __PRIVATE_queryEquals(T,$){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(T),__PRIVATE_queryToTarget($))&&T.limitType===$.limitType}function __PRIVATE_canonifyQuery(T){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(T))}|lt:${T.limitType}`}function __PRIVATE_stringifyQuery(T){return`Query(target=${function(I){let N=I.path.canonicalString();return I.collectionGroup!==null&&(N+=" collectionGroup="+I.collectionGroup),I.filters.length>0&&(N+=`, filters: [${I.filters.map(L=>__PRIVATE_stringifyFilter(L)).join(", ")}]`),__PRIVATE_isNullOrUndefined(I.limit)||(N+=", limit: "+I.limit),I.orderBy.length>0&&(N+=`, orderBy: [${I.orderBy.map(L=>function(H){return`${H.field.canonicalString()} (${H.dir})`}(L)).join(", ")}]`),I.startAt&&(N+=", startAt: ",N+=I.startAt.inclusive?"b:":"a:",N+=I.startAt.position.map(L=>canonicalId(L)).join(",")),I.endAt&&(N+=", endAt: ",N+=I.endAt.inclusive?"a:":"b:",N+=I.endAt.position.map(L=>canonicalId(L)).join(",")),`Target(${N})`}(__PRIVATE_queryToTarget(T))}; limitType=${T.limitType})`}function __PRIVATE_queryMatches(T,$){return $.isFoundDocument()&&function(N,L){const B=L.key.path;return N.collectionGroup!==null?L.key.hasCollectionId(N.collectionGroup)&&N.path.isPrefixOf(B):DocumentKey.isDocumentKey(N.path)?N.path.isEqual(B):N.path.isImmediateParentOf(B)}(T,$)&&function(N,L){for(const B of __PRIVATE_queryNormalizedOrderBy(N))if(!B.field.isKeyField()&&L.data.field(B.field)===null)return!1;return!0}(T,$)&&function(N,L){for(const B of N.filters)if(!B.matches(L))return!1;return!0}(T,$)&&function(N,L){return!(N.startAt&&!function(H,z,Q){const te=__PRIVATE_boundCompareToDocument(H,z,Q);return H.inclusive?te<=0:te<0}(N.startAt,__PRIVATE_queryNormalizedOrderBy(N),L)||N.endAt&&!function(H,z,Q){const te=__PRIVATE_boundCompareToDocument(H,z,Q);return H.inclusive?te>=0:te>0}(N.endAt,__PRIVATE_queryNormalizedOrderBy(N),L))}(T,$)}function __PRIVATE_queryCollectionGroup(T){return T.collectionGroup||(T.path.length%2==1?T.path.lastSegment():T.path.get(T.path.length-2))}function __PRIVATE_newQueryComparator(T){return($,I)=>{let N=!1;for(const L of __PRIVATE_queryNormalizedOrderBy(T)){const B=__PRIVATE_compareDocs(L,$,I);if(B!==0)return B;N=N||L.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(T,$,I){const N=T.field.isKeyField()?DocumentKey.comparator($.key,I.key):function(B,H,z){const Q=H.data.field(B),te=z.data.field(B);return Q!==null&&te!==null?__PRIVATE_valueCompare(Q,te):fail()}(T.field,$,I);switch(T.dir){case"asc":return N;case"desc":return-1*N;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor($,I){this.mapKeyFn=$,this.equalsFn=I,this.inner={},this.innerSize=0}get($){const I=this.mapKeyFn($),N=this.inner[I];if(N!==void 0){for(const[L,B]of N)if(this.equalsFn(L,$))return B}}has($){return this.get($)!==void 0}set($,I){const N=this.mapKeyFn($),L=this.inner[N];if(L===void 0)return this.inner[N]=[[$,I]],void this.innerSize++;for(let B=0;B<L.length;B++)if(this.equalsFn(L[B][0],$))return void(L[B]=[$,I]);L.push([$,I]),this.innerSize++}delete($){const I=this.mapKeyFn($),N=this.inner[I];if(N===void 0)return!1;for(let L=0;L<N.length;L++)if(this.equalsFn(N[L][0],$))return N.length===1?delete this.inner[I]:N.splice(L,1),this.innerSize--,!0;return!1}forEach($){forEach$9(this.inner,(I,N)=>{for(const[L,B]of N)$(L,B)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...T){let $=_e;for(const I of T)$=$.insert(I.key,I);return $}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(T){let $=_e;return T.forEach((I,N)=>$=$.insert(I,N.overlayedDocument)),$}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(T=>T.toString(),(T,$)=>T.isEqual($))}const ae=new SortedMap(DocumentKey.comparator),ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...T){let $=ue;for(const I of T)$=$.add(I);return $}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(T,$){if(T.useProto3Json){if(isNaN($))return{doubleValue:"NaN"};if($===1/0)return{doubleValue:"Infinity"};if($===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero($)?"-0":$}}function __PRIVATE_toInteger(T){return{integerValue:""+T}}function toNumber(T,$){return isSafeInteger($)?__PRIVATE_toInteger($):__PRIVATE_toDouble(T,$)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(T,$,I){return T instanceof __PRIVATE_ServerTimestampTransform?function(L,B){const H={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:L.seconds,nanos:L.nanoseconds}}}};return B&&__PRIVATE_isServerTimestamp(B)&&(B=__PRIVATE_getPreviousValue(B)),B&&(H.fields.__previous_value__=B),{mapValue:H}}(I,$):T instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(T,$):T instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(T,$):function(L,B){const H=__PRIVATE_computeTransformOperationBaseValue(L,B),z=asNumber(H)+asNumber(L.Pe);return isInteger$1(H)&&isInteger$1(L.Pe)?__PRIVATE_toInteger(z):__PRIVATE_toDouble(L.serializer,z)}(T,$)}function __PRIVATE_applyTransformOperationToRemoteDocument(T,$,I){return T instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(T,$):T instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(T,$):I}function __PRIVATE_computeTransformOperationBaseValue(T,$){return T instanceof __PRIVATE_NumericIncrementTransformOperation?function(N){return isInteger$1(N)||function(B){return!!B&&"doubleValue"in B}(N)}($)?$:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor($){super(),this.elements=$}}function __PRIVATE_applyArrayUnionTransformOperation(T,$){const I=__PRIVATE_coercedFieldValuesArray($);for(const N of T.elements)I.some(L=>__PRIVATE_valueEquals(L,N))||I.push(N);return{arrayValue:{values:I}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor($){super(),this.elements=$}}function __PRIVATE_applyArrayRemoveTransformOperation(T,$){let I=__PRIVATE_coercedFieldValuesArray($);for(const N of T.elements)I=I.filter(L=>!__PRIVATE_valueEquals(L,N));return{arrayValue:{values:I}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor($,I){super(),this.serializer=$,this.Pe=I}}function asNumber(T){return __PRIVATE_normalizeNumber(T.integerValue||T.doubleValue)}function __PRIVATE_coercedFieldValuesArray(T){return isArray$2(T)&&T.arrayValue.values?T.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor($,I){this.field=$,this.transform=I}}function __PRIVATE_fieldTransformEquals(T,$){return T.field.isEqual($.field)&&function(N,L){return N instanceof __PRIVATE_ArrayUnionTransformOperation&&L instanceof __PRIVATE_ArrayUnionTransformOperation||N instanceof __PRIVATE_ArrayRemoveTransformOperation&&L instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(N.elements,L.elements,__PRIVATE_valueEquals):N instanceof __PRIVATE_NumericIncrementTransformOperation&&L instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(N.Pe,L.Pe):N instanceof __PRIVATE_ServerTimestampTransform&&L instanceof __PRIVATE_ServerTimestampTransform}(T.transform,$.transform)}class MutationResult{constructor($,I){this.version=$,this.transformResults=I}}class Precondition{constructor($,I){this.updateTime=$,this.exists=I}static none(){return new Precondition}static exists($){return new Precondition(void 0,$)}static updateTime($){return new Precondition($)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual($){return this.exists===$.exists&&(this.updateTime?!!$.updateTime&&this.updateTime.isEqual($.updateTime):!$.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(T,$){return T.updateTime!==void 0?$.isFoundDocument()&&$.version.isEqual(T.updateTime):T.exists===void 0||T.exists===$.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(T,$){if(!T.hasLocalMutations||$&&$.fields.length===0)return null;if($===null)return T.isNoDocument()?new __PRIVATE_DeleteMutation(T.key,Precondition.none()):new __PRIVATE_SetMutation(T.key,T.data,Precondition.none());{const I=T.data,N=ObjectValue.empty();let L=new SortedSet(FieldPath$1.comparator);for(let B of $.fields)if(!L.has(B)){let H=I.field(B);H===null&&B.length>1&&(B=B.popLast(),H=I.field(B)),H===null?N.delete(B):N.set(B,H),L=L.add(B)}return new __PRIVATE_PatchMutation(T.key,N,new FieldMask(L.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(T,$,I){T instanceof __PRIVATE_SetMutation?function(L,B,H){const z=L.value.clone(),Q=__PRIVATE_serverTransformResults(L.fieldTransforms,B,H.transformResults);z.setAll(Q),B.convertToFoundDocument(H.version,z).setHasCommittedMutations()}(T,$,I):T instanceof __PRIVATE_PatchMutation?function(L,B,H){if(!__PRIVATE_preconditionIsValidForDocument(L.precondition,B))return void B.convertToUnknownDocument(H.version);const z=__PRIVATE_serverTransformResults(L.fieldTransforms,B,H.transformResults),Q=B.data;Q.setAll(__PRIVATE_getPatch(L)),Q.setAll(z),B.convertToFoundDocument(H.version,Q).setHasCommittedMutations()}(T,$,I):function(L,B,H){B.convertToNoDocument(H.version).setHasCommittedMutations()}(0,$,I)}function __PRIVATE_mutationApplyToLocalView(T,$,I,N){return T instanceof __PRIVATE_SetMutation?function(B,H,z,Q){if(!__PRIVATE_preconditionIsValidForDocument(B.precondition,H))return z;const te=B.value.clone(),G=__PRIVATE_localTransformResults(B.fieldTransforms,Q,H);return te.setAll(G),H.convertToFoundDocument(H.version,te).setHasLocalMutations(),null}(T,$,I,N):T instanceof __PRIVATE_PatchMutation?function(B,H,z,Q){if(!__PRIVATE_preconditionIsValidForDocument(B.precondition,H))return z;const te=__PRIVATE_localTransformResults(B.fieldTransforms,Q,H),G=H.data;return G.setAll(__PRIVATE_getPatch(B)),G.setAll(te),H.convertToFoundDocument(H.version,G).setHasLocalMutations(),z===null?null:z.unionWith(B.fieldMask.fields).unionWith(B.fieldTransforms.map(ie=>ie.field))}(T,$,I,N):function(B,H,z){return __PRIVATE_preconditionIsValidForDocument(B.precondition,H)?(H.convertToNoDocument(H.version).setHasLocalMutations(),null):z}(T,$,I)}function __PRIVATE_mutationExtractBaseValue(T,$){let I=null;for(const N of T.fieldTransforms){const L=$.data.field(N.field),B=__PRIVATE_computeTransformOperationBaseValue(N.transform,L||null);B!=null&&(I===null&&(I=ObjectValue.empty()),I.set(N.field,B))}return I||null}function __PRIVATE_mutationEquals(T,$){return T.type===$.type&&!!T.key.isEqual($.key)&&!!T.precondition.isEqual($.precondition)&&!!function(N,L){return N===void 0&&L===void 0||!(!N||!L)&&__PRIVATE_arrayEquals(N,L,(B,H)=>__PRIVATE_fieldTransformEquals(B,H))}(T.fieldTransforms,$.fieldTransforms)&&(T.type===0?T.value.isEqual($.value):T.type!==1||T.data.isEqual($.data)&&T.fieldMask.isEqual($.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor($,I,N,L=[]){super(),this.key=$,this.value=I,this.precondition=N,this.fieldTransforms=L,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor($,I,N,L,B=[]){super(),this.key=$,this.data=I,this.fieldMask=N,this.precondition=L,this.fieldTransforms=B,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(T){const $=new Map;return T.fieldMask.fields.forEach(I=>{if(!I.isEmpty()){const N=T.data.field(I);$.set(I,N)}}),$}function __PRIVATE_serverTransformResults(T,$,I){const N=new Map;__PRIVATE_hardAssert(T.length===I.length);for(let L=0;L<I.length;L++){const B=T[L],H=B.transform,z=$.data.field(B.field);N.set(B.field,__PRIVATE_applyTransformOperationToRemoteDocument(H,z,I[L]))}return N}function __PRIVATE_localTransformResults(T,$,I){const N=new Map;for(const L of T){const B=L.transform,H=I.data.field(L.field);N.set(L.field,__PRIVATE_applyTransformOperationToLocalView(B,H,$))}return N}class __PRIVATE_DeleteMutation extends Mutation{constructor($,I){super(),this.key=$,this.precondition=I,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor($,I){super(),this.key=$,this.precondition=I,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor($,I,N,L){this.batchId=$,this.localWriteTime=I,this.baseMutations=N,this.mutations=L}applyToRemoteDocument($,I){const N=I.mutationResults;for(let L=0;L<this.mutations.length;L++){const B=this.mutations[L];B.key.isEqual($.key)&&__PRIVATE_mutationApplyToRemoteDocument(B,$,N[L])}}applyToLocalView($,I){for(const N of this.baseMutations)N.key.isEqual($.key)&&(I=__PRIVATE_mutationApplyToLocalView(N,$,I,this.localWriteTime));for(const N of this.mutations)N.key.isEqual($.key)&&(I=__PRIVATE_mutationApplyToLocalView(N,$,I,this.localWriteTime));return I}applyToLocalDocumentSet($,I){const N=__PRIVATE_newMutationMap();return this.mutations.forEach(L=>{const B=$.get(L.key),H=B.overlayedDocument;let z=this.applyToLocalView(H,B.mutatedFields);z=I.has(L.key)?null:z;const Q=__PRIVATE_calculateOverlayMutation(H,z);Q!==null&&N.set(L.key,Q),H.isValidDocument()||H.convertToNoDocument(SnapshotVersion.min())}),N}keys(){return this.mutations.reduce(($,I)=>$.add(I.key),__PRIVATE_documentKeySet())}isEqual($){return this.batchId===$.batchId&&__PRIVATE_arrayEquals(this.mutations,$.mutations,(I,N)=>__PRIVATE_mutationEquals(I,N))&&__PRIVATE_arrayEquals(this.baseMutations,$.baseMutations,(I,N)=>__PRIVATE_mutationEquals(I,N))}}class MutationBatchResult{constructor($,I,N,L){this.batch=$,this.commitVersion=I,this.mutationResults=N,this.docVersions=L}static from($,I,N){__PRIVATE_hardAssert($.mutations.length===N.length);let L=function(){return ae}();const B=$.mutations;for(let H=0;H<B.length;H++)L=L.insert(B[H].key,N[H].version);return new MutationBatchResult($,I,N,L)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor($,I){this.largestBatchId=$,this.mutation=I}getKey(){return this.mutation.key}isEqual($){return $!==null&&this.mutation===$.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor($,I){this.count=$,this.unchangedNames=I}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_isPermanentError(T){switch(T){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(T){if(T===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(T){case le.OK:return D.OK;case le.CANCELLED:return D.CANCELLED;case le.UNKNOWN:return D.UNKNOWN;case le.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case le.INTERNAL:return D.INTERNAL;case le.UNAVAILABLE:return D.UNAVAILABLE;case le.UNAUTHENTICATED:return D.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case le.NOT_FOUND:return D.NOT_FOUND;case le.ALREADY_EXISTS:return D.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case le.ABORTED:return D.ABORTED;case le.OUT_OF_RANGE:return D.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D.UNIMPLEMENTED;case le.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(T){const $=__PRIVATE_newTextEncoder().encode(T),I=new Md5;return I.update($),new Uint8Array(I.digest())}function __PRIVATE_get64BitUints(T){const $=new DataView(T.buffer),I=$.getUint32(0,!0),N=$.getUint32(4,!0),L=$.getUint32(8,!0),B=$.getUint32(12,!0);return[new Integer([I,N],0),new Integer([L,B],0)]}class BloomFilter{constructor($,I,N){if(this.bitmap=$,this.padding=I,this.hashCount=N,I<0||I>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${I}`);if(N<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${N}`);if($.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${N}`);if($.length===0&&I!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${I}`);this.Ie=8*$.length-I,this.Te=Integer.fromNumber(this.Ie)}Ee($,I,N){let L=$.add(I.multiply(Integer.fromNumber(N)));return L.compare(Ie)===1&&(L=new Integer([L.getBits(0),L.getBits(1)],0)),L.modulo(this.Te).toNumber()}de($){return(this.bitmap[Math.floor($/8)]&1<<$%8)!=0}mightContain($){if(this.Ie===0)return!1;const I=__PRIVATE_getMd5HashValue($),[N,L]=__PRIVATE_get64BitUints(I);for(let B=0;B<this.hashCount;B++){const H=this.Ee(N,L,B);if(!this.de(H))return!1}return!0}static create($,I,N){const L=$%8==0?0:8-$%8,B=new Uint8Array(Math.ceil($/8)),H=new BloomFilter(B,L,I);return N.forEach(z=>H.insert(z)),H}insert($){if(this.Ie===0)return;const I=__PRIVATE_getMd5HashValue($),[N,L]=__PRIVATE_get64BitUints(I);for(let B=0;B<this.hashCount;B++){const H=this.Ee(N,L,B);this.Ae(H)}}Ae($){const I=Math.floor($/8),N=$%8;this.bitmap[I]|=1<<N}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor($,I,N,L,B){this.snapshotVersion=$,this.targetChanges=I,this.targetMismatches=N,this.documentUpdates=L,this.resolvedLimboDocuments=B}static createSynthesizedRemoteEventForCurrentChange($,I,N){const L=new Map;return L.set($,TargetChange.createSynthesizedTargetChangeForCurrentChange($,I,N)),new RemoteEvent(SnapshotVersion.min(),L,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor($,I,N,L,B){this.resumeToken=$,this.current=I,this.addedDocuments=N,this.modifiedDocuments=L,this.removedDocuments=B}static createSynthesizedTargetChangeForCurrentChange($,I,N){return new TargetChange(N,I,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor($,I,N,L){this.Re=$,this.removedTargetIds=I,this.key=N,this.Ve=L}}class __PRIVATE_ExistenceFilterChange{constructor($,I){this.targetId=$,this.me=I}}class __PRIVATE_WatchTargetChange{constructor($,I,N=ByteString.EMPTY_BYTE_STRING,L=null){this.state=$,this.targetIds=I,this.resumeToken=N,this.cause=L}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De($){$.approximateByteSize()>0&&(this.we=!0,this.pe=$)}ve(){let $=__PRIVATE_documentKeySet(),I=__PRIVATE_documentKeySet(),N=__PRIVATE_documentKeySet();return this.ge.forEach((L,B)=>{switch(B){case 0:$=$.add(L);break;case 2:I=I.add(L);break;case 1:N=N.add(L);break;default:fail()}}),new TargetChange(this.pe,this.ye,$,I,N)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe($,I){this.we=!0,this.ge=this.ge.insert($,I)}Me($){this.we=!0,this.ge=this.ge.remove($)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor($){this.Le=$,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke($){for(const I of $.Re)$.Ve&&$.Ve.isFoundDocument()?this.$e(I,$.Ve):this.Ue(I,$.key,$.Ve);for(const I of $.removedTargetIds)this.Ue(I,$.key,$.Ve)}We($){this.forEachTarget($,I=>{const N=this.Ge(I);switch($.state){case 0:this.ze(I)&&N.De($.resumeToken);break;case 1:N.Oe(),N.Se||N.Ce(),N.De($.resumeToken);break;case 2:N.Oe(),N.Se||this.removeTarget(I);break;case 3:this.ze(I)&&(N.Ne(),N.De($.resumeToken));break;case 4:this.ze(I)&&(this.je(I),N.De($.resumeToken));break;default:fail()}})}forEachTarget($,I){$.targetIds.length>0?$.targetIds.forEach(I):this.Be.forEach((N,L)=>{this.ze(L)&&I(L)})}He($){const I=$.targetId,N=$.me.count,L=this.Je(I);if(L){const B=L.target;if(__PRIVATE_targetIsDocumentTarget(B))if(N===0){const H=new DocumentKey(B.path);this.Ue(I,H,MutableDocument.newNoDocument(H,SnapshotVersion.min()))}else __PRIVATE_hardAssert(N===1);else{const H=this.Ye(I);if(H!==N){const z=this.Ze($),Q=z?this.Xe(z,$,H):1;if(Q!==0){this.je(I);const te=Q===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(I,te)}}}}}Ze($){const I=$.me.unchangedNames;if(!I||!I.bits)return null;const{bits:{bitmap:N="",padding:L=0},hashCount:B=0}=I;let H,z;try{H=__PRIVATE_normalizeByteString(N).toUint8Array()}catch(Q){if(Q instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Q}try{z=new BloomFilter(H,L,B)}catch(Q){return __PRIVATE_logWarn(Q instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Q),null}return z.Ie===0?null:z}Xe($,I,N){return I.me.count===N-this.nt($,I.targetId)?0:2}nt($,I){const N=this.Le.getRemoteKeysForTarget(I);let L=0;return N.forEach(B=>{const H=this.Le.tt(),z=`projects/${H.projectId}/databases/${H.database}/documents/${B.path.canonicalString()}`;$.mightContain(z)||(this.Ue(I,B,null),L++)}),L}rt($){const I=new Map;this.Be.forEach((B,H)=>{const z=this.Je(H);if(z){if(B.current&&__PRIVATE_targetIsDocumentTarget(z.target)){const Q=new DocumentKey(z.target.path);this.ke.get(Q)!==null||this.it(H,Q)||this.Ue(H,Q,MutableDocument.newNoDocument(Q,$))}B.be&&(I.set(H,B.ve()),B.Ce())}});let N=__PRIVATE_documentKeySet();this.qe.forEach((B,H)=>{let z=!0;H.forEachWhile(Q=>{const te=this.Je(Q);return!te||te.purpose==="TargetPurposeLimboResolution"||(z=!1,!1)}),z&&(N=N.add(B))}),this.ke.forEach((B,H)=>H.setReadTime($));const L=new RemoteEvent($,I,this.Qe,this.ke,N);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),L}$e($,I){if(!this.ze($))return;const N=this.it($,I.key)?2:0;this.Ge($).Fe(I.key,N),this.ke=this.ke.insert(I.key,I),this.qe=this.qe.insert(I.key,this.st(I.key).add($))}Ue($,I,N){if(!this.ze($))return;const L=this.Ge($);this.it($,I)?L.Fe(I,1):L.Me(I),this.qe=this.qe.insert(I,this.st(I).delete($)),N&&(this.ke=this.ke.insert(I,N))}removeTarget($){this.Be.delete($)}Ye($){const I=this.Ge($).ve();return this.Le.getRemoteKeysForTarget($).size+I.addedDocuments.size-I.removedDocuments.size}xe($){this.Ge($).xe()}Ge($){let I=this.Be.get($);return I||(I=new __PRIVATE_TargetState,this.Be.set($,I)),I}st($){let I=this.qe.get($);return I||(I=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert($,I)),I}ze($){const I=this.Je($)!==null;return I||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",$),I}Je($){const I=this.Be.get($);return I&&I.Se?null:this.Le.ot($)}je($){this.Be.set($,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget($).forEach(I=>{this.Ue($,I,null)})}it($,I){return this.Le.getRemoteKeysForTarget($).has(I)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de={and:"AND",or:"OR"};class JsonProtoSerializer{constructor($,I){this.databaseId=$,this.useProto3Json=I}}function __PRIVATE_toInt32Proto(T,$){return T.useProto3Json||__PRIVATE_isNullOrUndefined($)?$:{value:$}}function toTimestamp(T,$){return T.useProto3Json?`${new Date(1e3*$.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+$.nanoseconds).slice(-9)}Z`:{seconds:""+$.seconds,nanos:$.nanoseconds}}function __PRIVATE_toBytes(T,$){return T.useProto3Json?$.toBase64():$.toUint8Array()}function __PRIVATE_toVersion(T,$){return toTimestamp(T,$.toTimestamp())}function __PRIVATE_fromVersion(T){return __PRIVATE_hardAssert(!!T),SnapshotVersion.fromTimestamp(function(I){const N=__PRIVATE_normalizeTimestamp(I);return new Timestamp(N.seconds,N.nanos)}(T))}function __PRIVATE_toResourceName(T,$){return __PRIVATE_toResourcePath(T,$).canonicalString()}function __PRIVATE_toResourcePath(T,$){const I=function(L){return new ResourcePath(["projects",L.projectId,"databases",L.database])}(T).child("documents");return $===void 0?I:I.child($)}function __PRIVATE_fromResourceName(T){const $=ResourcePath.fromString(T);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName($)),$}function __PRIVATE_toName(T,$){return __PRIVATE_toResourceName(T.databaseId,$.path)}function fromName(T,$){const I=__PRIVATE_fromResourceName($);if(I.get(1)!==T.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+I.get(1)+" vs "+T.databaseId.projectId);if(I.get(3)!==T.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+I.get(3)+" vs "+T.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(I))}function __PRIVATE_toQueryPath(T,$){return __PRIVATE_toResourceName(T.databaseId,$)}function __PRIVATE_fromQueryPath(T){const $=__PRIVATE_fromResourceName(T);return $.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName($)}function __PRIVATE_getEncodedDatabaseId(T){return new ResourcePath(["projects",T.databaseId.projectId,"databases",T.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(T){return __PRIVATE_hardAssert(T.length>4&&T.get(4)==="documents"),T.popFirst(5)}function __PRIVATE_toMutationDocument(T,$,I){return{name:__PRIVATE_toName(T,$),fields:I.value.mapValue.fields}}function __PRIVATE_fromBatchGetDocumentsResponse(T,$){return"found"in $?function(N,L){__PRIVATE_hardAssert(!!L.found),L.found.name,L.found.updateTime;const B=fromName(N,L.found.name),H=__PRIVATE_fromVersion(L.found.updateTime),z=L.found.createTime?__PRIVATE_fromVersion(L.found.createTime):SnapshotVersion.min(),Q=new ObjectValue({mapValue:{fields:L.found.fields}});return MutableDocument.newFoundDocument(B,H,z,Q)}(T,$):"missing"in $?function(N,L){__PRIVATE_hardAssert(!!L.missing),__PRIVATE_hardAssert(!!L.readTime);const B=fromName(N,L.missing),H=__PRIVATE_fromVersion(L.readTime);return MutableDocument.newNoDocument(B,H)}(T,$):fail()}function __PRIVATE_fromWatchChange(T,$){let I;if("targetChange"in $){$.targetChange;const N=function(te){return te==="NO_CHANGE"?0:te==="ADD"?1:te==="REMOVE"?2:te==="CURRENT"?3:te==="RESET"?4:fail()}($.targetChange.targetChangeType||"NO_CHANGE"),L=$.targetChange.targetIds||[],B=function(te,G){return te.useProto3Json?(__PRIVATE_hardAssert(G===void 0||typeof G=="string"),ByteString.fromBase64String(G||"")):(__PRIVATE_hardAssert(G===void 0||G instanceof Buffer$p||G instanceof Uint8Array),ByteString.fromUint8Array(G||new Uint8Array))}(T,$.targetChange.resumeToken),H=$.targetChange.cause,z=H&&function(te){const G=te.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(te.code);return new FirestoreError(G,te.message||"")}(H);I=new __PRIVATE_WatchTargetChange(N,L,B,z||null)}else if("documentChange"in $){$.documentChange;const N=$.documentChange;N.document,N.document.name,N.document.updateTime;const L=fromName(T,N.document.name),B=__PRIVATE_fromVersion(N.document.updateTime),H=N.document.createTime?__PRIVATE_fromVersion(N.document.createTime):SnapshotVersion.min(),z=new ObjectValue({mapValue:{fields:N.document.fields}}),Q=MutableDocument.newFoundDocument(L,B,H,z),te=N.targetIds||[],G=N.removedTargetIds||[];I=new __PRIVATE_DocumentWatchChange(te,G,Q.key,Q)}else if("documentDelete"in $){$.documentDelete;const N=$.documentDelete;N.document;const L=fromName(T,N.document),B=N.readTime?__PRIVATE_fromVersion(N.readTime):SnapshotVersion.min(),H=MutableDocument.newNoDocument(L,B),z=N.removedTargetIds||[];I=new __PRIVATE_DocumentWatchChange([],z,H.key,H)}else if("documentRemove"in $){$.documentRemove;const N=$.documentRemove;N.document;const L=fromName(T,N.document),B=N.removedTargetIds||[];I=new __PRIVATE_DocumentWatchChange([],B,L,null)}else{if(!("filter"in $))return fail();{$.filter;const N=$.filter;N.targetId;const{count:L=0,unchangedNames:B}=N,H=new ExistenceFilter(L,B),z=N.targetId;I=new __PRIVATE_ExistenceFilterChange(z,H)}}return I}function toMutation(T,$){let I;if($ instanceof __PRIVATE_SetMutation)I={update:__PRIVATE_toMutationDocument(T,$.key,$.value)};else if($ instanceof __PRIVATE_DeleteMutation)I={delete:__PRIVATE_toName(T,$.key)};else if($ instanceof __PRIVATE_PatchMutation)I={update:__PRIVATE_toMutationDocument(T,$.key,$.data),updateMask:__PRIVATE_toDocumentMask($.fieldMask)};else{if(!($ instanceof __PRIVATE_VerifyMutation))return fail();I={verify:__PRIVATE_toName(T,$.key)}}return $.fieldTransforms.length>0&&(I.updateTransforms=$.fieldTransforms.map(N=>function(B,H){const z=H.transform;if(z instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:H.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(z instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:H.field.canonicalString(),appendMissingElements:{values:z.elements}};if(z instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:H.field.canonicalString(),removeAllFromArray:{values:z.elements}};if(z instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:H.field.canonicalString(),increment:z.Pe};throw fail()}(0,N))),$.precondition.isNone||(I.currentDocument=function(L,B){return B.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(L,B.updateTime)}:B.exists!==void 0?{exists:B.exists}:fail()}(T,$.precondition)),I}function __PRIVATE_fromWriteResults(T,$){return T&&T.length>0?(__PRIVATE_hardAssert($!==void 0),T.map(I=>function(L,B){let H=L.updateTime?__PRIVATE_fromVersion(L.updateTime):__PRIVATE_fromVersion(B);return H.isEqual(SnapshotVersion.min())&&(H=__PRIVATE_fromVersion(B)),new MutationResult(H,L.transformResults||[])}(I,$))):[]}function __PRIVATE_toDocumentsTarget(T,$){return{documents:[__PRIVATE_toQueryPath(T,$.path)]}}function __PRIVATE_toQueryTarget(T,$){const I={structuredQuery:{}},N=$.path;let L;$.collectionGroup!==null?(L=N,I.structuredQuery.from=[{collectionId:$.collectionGroup,allDescendants:!0}]):(L=N.popLast(),I.structuredQuery.from=[{collectionId:N.lastSegment()}]),I.parent=__PRIVATE_toQueryPath(T,L);const B=function(te){if(te.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(te,"and"))}($.filters);B&&(I.structuredQuery.where=B);const H=function(te){if(te.length!==0)return te.map(G=>function(Re){return{field:__PRIVATE_toFieldPathReference(Re.field),direction:__PRIVATE_toDirection(Re.dir)}}(G))}($.orderBy);H&&(I.structuredQuery.orderBy=H);const z=__PRIVATE_toInt32Proto(T,$.limit);return z!==null&&(I.structuredQuery.limit=z),$.startAt&&(I.structuredQuery.startAt=function(te){return{before:te.inclusive,values:te.position}}($.startAt)),$.endAt&&(I.structuredQuery.endAt=function(te){return{before:!te.inclusive,values:te.position}}($.endAt)),{_t:I,parent:L}}function __PRIVATE_convertQueryTargetToQuery(T){let $=__PRIVATE_fromQueryPath(T.parent);const I=T.structuredQuery,N=I.from?I.from.length:0;let L=null;if(N>0){__PRIVATE_hardAssert(N===1);const G=I.from[0];G.allDescendants?L=G.collectionId:$=$.child(G.collectionId)}let B=[];I.where&&(B=function(ie){const Re=__PRIVATE_fromFilter(ie);return Re instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Re)?Re.getFilters():[Re]}(I.where));let H=[];I.orderBy&&(H=function(ie){return ie.map(Re=>function(Pe){return new OrderBy(__PRIVATE_fromFieldPathReference(Pe.field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pe.direction))}(Re))}(I.orderBy));let z=null;I.limit&&(z=function(ie){let Re;return Re=typeof ie=="object"?ie.value:ie,__PRIVATE_isNullOrUndefined(Re)?null:Re}(I.limit));let Q=null;I.startAt&&(Q=function(ie){const Re=!!ie.before,$e=ie.values||[];return new Bound($e,Re)}(I.startAt));let te=null;return I.endAt&&(te=function(ie){const Re=!ie.before,$e=ie.values||[];return new Bound($e,Re)}(I.endAt)),__PRIVATE_newQuery($,L,H,B,z,"F",Q,te)}function __PRIVATE_toListenRequestLabels(T,$){const I=function(L){switch(L){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}($.purpose);return I==null?null:{"goog-listen-tags":I}}function __PRIVATE_fromFilter(T){return T.unaryFilter!==void 0?function(I){switch(I.unaryFilter.op){case"IS_NAN":const N=__PRIVATE_fromFieldPathReference(I.unaryFilter.field);return FieldFilter.create(N,"==",{doubleValue:NaN});case"IS_NULL":const L=__PRIVATE_fromFieldPathReference(I.unaryFilter.field);return FieldFilter.create(L,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const B=__PRIVATE_fromFieldPathReference(I.unaryFilter.field);return FieldFilter.create(B,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const H=__PRIVATE_fromFieldPathReference(I.unaryFilter.field);return FieldFilter.create(H,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(T):T.fieldFilter!==void 0?function(I){return FieldFilter.create(__PRIVATE_fromFieldPathReference(I.fieldFilter.field),function(L){switch(L){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(I.fieldFilter.op),I.fieldFilter.value)}(T):T.compositeFilter!==void 0?function(I){return CompositeFilter.create(I.compositeFilter.filters.map(N=>__PRIVATE_fromFilter(N)),function(L){switch(L){case"AND":return"and";case"OR":return"or";default:return fail()}}(I.compositeFilter.op))}(T):fail()}function __PRIVATE_toDirection(T){return Te[T]}function __PRIVATE_toOperatorName(T){return Ee[T]}function __PRIVATE_toCompositeOperatorName(T){return de[T]}function __PRIVATE_toFieldPathReference(T){return{fieldPath:T.canonicalString()}}function __PRIVATE_fromFieldPathReference(T){return FieldPath$1.fromServerFormat(T.fieldPath)}function __PRIVATE_toFilter(T){return T instanceof FieldFilter?function(I){if(I.op==="=="){if(__PRIVATE_isNanValue(I.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(I.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(I.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(I.field),op:"IS_NULL"}}}else if(I.op==="!="){if(__PRIVATE_isNanValue(I.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(I.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(I.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(I.field),op:__PRIVATE_toOperatorName(I.op),value:I.value}}}(T):T instanceof CompositeFilter?function(I){const N=I.getFilters().map(L=>__PRIVATE_toFilter(L));return N.length===1?N[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(I.op),filters:N}}}(T):fail()}function __PRIVATE_toDocumentMask(T){const $=[];return T.fields.forEach(I=>$.push(I.canonicalString())),{fieldPaths:$}}function __PRIVATE_isValidResourceName(T){return T.length>=4&&T.get(0)==="projects"&&T.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor($,I,N,L,B=SnapshotVersion.min(),H=SnapshotVersion.min(),z=ByteString.EMPTY_BYTE_STRING,Q=null){this.target=$,this.targetId=I,this.purpose=N,this.sequenceNumber=L,this.snapshotVersion=B,this.lastLimboFreeSnapshotVersion=H,this.resumeToken=z,this.expectedCount=Q}withSequenceNumber($){return new TargetData(this.target,this.targetId,this.purpose,$,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken($,I){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,I,this.lastLimboFreeSnapshotVersion,$,null)}withExpectedCount($){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,$)}withLastLimboFreeSnapshotVersion($){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,$,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor($){this.ct=$}}function __PRIVATE_fromBundledQuery(T){const $=__PRIVATE_convertQueryTargetToQuery({parent:T.parent,structuredQuery:T.structuredQuery});return T.limitType==="LAST"?__PRIVATE_queryWithLimit($,$.limit,"L"):$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex($,I){return this.un.add(I),PersistencePromise.resolve()}getCollectionParents($,I){return PersistencePromise.resolve(this.un.getEntries(I))}addFieldIndex($,I){return PersistencePromise.resolve()}deleteFieldIndex($,I){return PersistencePromise.resolve()}deleteAllFieldIndexes($){return PersistencePromise.resolve()}createTargetIndexes($,I){return PersistencePromise.resolve()}getDocumentsMatchingTarget($,I){return PersistencePromise.resolve(null)}getIndexType($,I){return PersistencePromise.resolve(0)}getFieldIndexes($,I){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate($){return PersistencePromise.resolve(null)}getMinOffset($,I){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup($,I){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup($,I,N){return PersistencePromise.resolve()}updateIndexEntries($,I){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add($){const I=$.lastSegment(),N=$.popLast(),L=this.index[I]||new SortedSet(ResourcePath.comparator),B=!L.has(N);return this.index[I]=L.add(N),B}has($){const I=$.lastSegment(),N=$.popLast(),L=this.index[I];return L&&L.has(N)}getEntries($){return(this.index[$]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor($){this.Ln=$}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap($=>$.toString(),($,I)=>$.isEqual(I)),this.changesApplied=!1}addEntry($){this.assertNotApplied(),this.changes.set($.key,$)}removeEntry($,I){this.assertNotApplied(),this.changes.set($,MutableDocument.newInvalidDocument($).setReadTime(I))}getEntry($,I){this.assertNotApplied();const N=this.changes.get(I);return N!==void 0?PersistencePromise.resolve(N):this.getFromCache($,I)}getEntries($,I){return this.getAllFromCache($,I)}apply($){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges($)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor($,I){this.overlayedDocument=$,this.mutatedFields=I}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor($,I,N,L){this.remoteDocumentCache=$,this.mutationQueue=I,this.documentOverlayCache=N,this.indexManager=L}getDocument($,I){let N=null;return this.documentOverlayCache.getOverlay($,I).next(L=>(N=L,this.remoteDocumentCache.getEntry($,I))).next(L=>(N!==null&&__PRIVATE_mutationApplyToLocalView(N.mutation,L,FieldMask.empty(),Timestamp.now()),L))}getDocuments($,I){return this.remoteDocumentCache.getEntries($,I).next(N=>this.getLocalViewOfDocuments($,N,__PRIVATE_documentKeySet()).next(()=>N))}getLocalViewOfDocuments($,I,N=__PRIVATE_documentKeySet()){const L=__PRIVATE_newOverlayMap();return this.populateOverlays($,L,I).next(()=>this.computeViews($,I,L,N).next(B=>{let H=documentMap();return B.forEach((z,Q)=>{H=H.insert(z,Q.overlayedDocument)}),H}))}getOverlayedDocuments($,I){const N=__PRIVATE_newOverlayMap();return this.populateOverlays($,N,I).next(()=>this.computeViews($,I,N,__PRIVATE_documentKeySet()))}populateOverlays($,I,N){const L=[];return N.forEach(B=>{I.has(B)||L.push(B)}),this.documentOverlayCache.getOverlays($,L).next(B=>{B.forEach((H,z)=>{I.set(H,z)})})}computeViews($,I,N,L){let B=__PRIVATE_mutableDocumentMap();const H=__PRIVATE_newDocumentKeyMap(),z=function(){return __PRIVATE_newDocumentKeyMap()}();return I.forEach((Q,te)=>{const G=N.get(te.key);L.has(te.key)&&(G===void 0||G.mutation instanceof __PRIVATE_PatchMutation)?B=B.insert(te.key,te):G!==void 0?(H.set(te.key,G.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(G.mutation,te,G.mutation.getFieldMask(),Timestamp.now())):H.set(te.key,FieldMask.empty())}),this.recalculateAndSaveOverlays($,B).next(Q=>(Q.forEach((te,G)=>H.set(te,G)),I.forEach((te,G)=>{var ie;return z.set(te,new OverlayedDocument(G,(ie=H.get(te))!==null&&ie!==void 0?ie:null))}),z))}recalculateAndSaveOverlays($,I){const N=__PRIVATE_newDocumentKeyMap();let L=new SortedMap((H,z)=>H-z),B=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys($,I).next(H=>{for(const z of H)z.keys().forEach(Q=>{const te=I.get(Q);if(te===null)return;let G=N.get(Q)||FieldMask.empty();G=z.applyToLocalView(te,G),N.set(Q,G);const ie=(L.get(z.batchId)||__PRIVATE_documentKeySet()).add(Q);L=L.insert(z.batchId,ie)})}).next(()=>{const H=[],z=L.getReverseIterator();for(;z.hasNext();){const Q=z.getNext(),te=Q.key,G=Q.value,ie=__PRIVATE_newMutationMap();G.forEach(Re=>{if(!B.has(Re)){const $e=__PRIVATE_calculateOverlayMutation(I.get(Re),N.get(Re));$e!==null&&ie.set(Re,$e),B=B.add(Re)}}),H.push(this.documentOverlayCache.saveOverlays($,te,ie))}return PersistencePromise.waitFor(H)}).next(()=>N)}recalculateAndSaveOverlaysForDocumentKeys($,I){return this.remoteDocumentCache.getEntries($,I).next(N=>this.recalculateAndSaveOverlays($,N))}getDocumentsMatchingQuery($,I,N,L){return function(H){return DocumentKey.isDocumentKey(H.path)&&H.collectionGroup===null&&H.filters.length===0}(I)?this.getDocumentsMatchingDocumentQuery($,I.path):__PRIVATE_isCollectionGroupQuery(I)?this.getDocumentsMatchingCollectionGroupQuery($,I,N,L):this.getDocumentsMatchingCollectionQuery($,I,N,L)}getNextDocuments($,I,N,L){return this.remoteDocumentCache.getAllFromCollectionGroup($,I,N,L).next(B=>{const H=L-B.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup($,I,N.largestBatchId,L-B.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let z=-1,Q=B;return H.next(te=>PersistencePromise.forEach(te,(G,ie)=>(z<ie.largestBatchId&&(z=ie.largestBatchId),B.get(G)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry($,G).next(Re=>{Q=Q.insert(G,Re)}))).next(()=>this.populateOverlays($,te,B)).next(()=>this.computeViews($,Q,te,__PRIVATE_documentKeySet())).next(G=>({batchId:z,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(G)})))})}getDocumentsMatchingDocumentQuery($,I){return this.getDocument($,new DocumentKey(I)).next(N=>{let L=documentMap();return N.isFoundDocument()&&(L=L.insert(N.key,N)),L})}getDocumentsMatchingCollectionGroupQuery($,I,N,L){const B=I.collectionGroup;let H=documentMap();return this.indexManager.getCollectionParents($,B).next(z=>PersistencePromise.forEach(z,Q=>{const te=function(ie,Re){return new __PRIVATE_QueryImpl(Re,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt)}(I,Q.child(B));return this.getDocumentsMatchingCollectionQuery($,te,N,L).next(G=>{G.forEach((ie,Re)=>{H=H.insert(ie,Re)})})}).next(()=>H))}getDocumentsMatchingCollectionQuery($,I,N,L){let B;return this.documentOverlayCache.getOverlaysForCollection($,I.path,N.largestBatchId).next(H=>(B=H,this.remoteDocumentCache.getDocumentsMatchingQuery($,I,N,B,L))).next(H=>{B.forEach((Q,te)=>{const G=te.getKey();H.get(G)===null&&(H=H.insert(G,MutableDocument.newInvalidDocument(G)))});let z=documentMap();return H.forEach((Q,te)=>{const G=B.get(Q);G!==void 0&&__PRIVATE_mutationApplyToLocalView(G.mutation,te,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(I,te)&&(z=z.insert(Q,te))}),z})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor($){this.serializer=$,this.hr=new Map,this.Pr=new Map}getBundleMetadata($,I){return PersistencePromise.resolve(this.hr.get(I))}saveBundleMetadata($,I){return this.hr.set(I.id,function(L){return{id:L.id,version:L.version,createTime:__PRIVATE_fromVersion(L.createTime)}}(I)),PersistencePromise.resolve()}getNamedQuery($,I){return PersistencePromise.resolve(this.Pr.get(I))}saveNamedQuery($,I){return this.Pr.set(I.name,function(L){return{name:L.name,query:__PRIVATE_fromBundledQuery(L.bundledQuery),readTime:__PRIVATE_fromVersion(L.readTime)}}(I)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay($,I){return PersistencePromise.resolve(this.overlays.get(I))}getOverlays($,I){const N=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(I,L=>this.getOverlay($,L).next(B=>{B!==null&&N.set(L,B)})).next(()=>N)}saveOverlays($,I,N){return N.forEach((L,B)=>{this.ht($,I,B)}),PersistencePromise.resolve()}removeOverlaysForBatchId($,I,N){const L=this.Ir.get(N);return L!==void 0&&(L.forEach(B=>this.overlays=this.overlays.remove(B)),this.Ir.delete(N)),PersistencePromise.resolve()}getOverlaysForCollection($,I,N){const L=__PRIVATE_newOverlayMap(),B=I.length+1,H=new DocumentKey(I.child("")),z=this.overlays.getIteratorFrom(H);for(;z.hasNext();){const Q=z.getNext().value,te=Q.getKey();if(!I.isPrefixOf(te.path))break;te.path.length===B&&Q.largestBatchId>N&&L.set(Q.getKey(),Q)}return PersistencePromise.resolve(L)}getOverlaysForCollectionGroup($,I,N,L){let B=new SortedMap((te,G)=>te-G);const H=this.overlays.getIterator();for(;H.hasNext();){const te=H.getNext().value;if(te.getKey().getCollectionGroup()===I&&te.largestBatchId>N){let G=B.get(te.largestBatchId);G===null&&(G=__PRIVATE_newOverlayMap(),B=B.insert(te.largestBatchId,G)),G.set(te.getKey(),te)}}const z=__PRIVATE_newOverlayMap(),Q=B.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((te,G)=>z.set(te,G)),!(z.size()>=L)););return PersistencePromise.resolve(z)}ht($,I,N){const L=this.overlays.get(N.key);if(L!==null){const H=this.Ir.get(L.largestBatchId).delete(N.key);this.Ir.set(L.largestBatchId,H)}this.overlays=this.overlays.insert(N.key,new Overlay(I,N));let B=this.Ir.get(I);B===void 0&&(B=__PRIVATE_documentKeySet(),this.Ir.set(I,B)),this.Ir.set(I,B.add(N.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken($){return PersistencePromise.resolve(this.sessionToken)}setSessionToken($,I){return this.sessionToken=I,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference($,I){const N=new __PRIVATE_DocReference($,I);this.Tr=this.Tr.add(N),this.dr=this.dr.add(N)}Rr($,I){$.forEach(N=>this.addReference(N,I))}removeReference($,I){this.Vr(new __PRIVATE_DocReference($,I))}mr($,I){$.forEach(N=>this.removeReference(N,I))}gr($){const I=new DocumentKey(new ResourcePath([])),N=new __PRIVATE_DocReference(I,$),L=new __PRIVATE_DocReference(I,$+1),B=[];return this.dr.forEachInRange([N,L],H=>{this.Vr(H),B.push(H.key)}),B}pr(){this.Tr.forEach($=>this.Vr($))}Vr($){this.Tr=this.Tr.delete($),this.dr=this.dr.delete($)}yr($){const I=new DocumentKey(new ResourcePath([])),N=new __PRIVATE_DocReference(I,$),L=new __PRIVATE_DocReference(I,$+1);let B=__PRIVATE_documentKeySet();return this.dr.forEachInRange([N,L],H=>{B=B.add(H.key)}),B}containsKey($){const I=new __PRIVATE_DocReference($,0),N=this.Tr.firstAfterOrEqual(I);return N!==null&&$.isEqual(N.key)}}class __PRIVATE_DocReference{constructor($,I){this.key=$,this.wr=I}static Er($,I){return DocumentKey.comparator($.key,I.key)||__PRIVATE_primitiveComparator($.wr,I.wr)}static Ar($,I){return __PRIVATE_primitiveComparator($.wr,I.wr)||DocumentKey.comparator($.key,I.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor($,I){this.indexManager=$,this.referenceDelegate=I,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty($){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch($,I,N,L){const B=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const H=new MutationBatch(B,I,N,L);this.mutationQueue.push(H);for(const z of L)this.br=this.br.add(new __PRIVATE_DocReference(z.key,B)),this.indexManager.addToCollectionParentIndex($,z.key.path.popLast());return PersistencePromise.resolve(H)}lookupMutationBatch($,I){return PersistencePromise.resolve(this.Dr(I))}getNextMutationBatchAfterBatchId($,I){const N=I+1,L=this.vr(N),B=L<0?0:L;return PersistencePromise.resolve(this.mutationQueue.length>B?this.mutationQueue[B]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches($){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey($,I){const N=new __PRIVATE_DocReference(I,0),L=new __PRIVATE_DocReference(I,Number.POSITIVE_INFINITY),B=[];return this.br.forEachInRange([N,L],H=>{const z=this.Dr(H.wr);B.push(z)}),PersistencePromise.resolve(B)}getAllMutationBatchesAffectingDocumentKeys($,I){let N=new SortedSet(__PRIVATE_primitiveComparator);return I.forEach(L=>{const B=new __PRIVATE_DocReference(L,0),H=new __PRIVATE_DocReference(L,Number.POSITIVE_INFINITY);this.br.forEachInRange([B,H],z=>{N=N.add(z.wr)})}),PersistencePromise.resolve(this.Cr(N))}getAllMutationBatchesAffectingQuery($,I){const N=I.path,L=N.length+1;let B=N;DocumentKey.isDocumentKey(B)||(B=B.child(""));const H=new __PRIVATE_DocReference(new DocumentKey(B),0);let z=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(Q=>{const te=Q.key.path;return!!N.isPrefixOf(te)&&(te.length===L&&(z=z.add(Q.wr)),!0)},H),PersistencePromise.resolve(this.Cr(z))}Cr($){const I=[];return $.forEach(N=>{const L=this.Dr(N);L!==null&&I.push(L)}),I}removeMutationBatch($,I){__PRIVATE_hardAssert(this.Fr(I.batchId,"removed")===0),this.mutationQueue.shift();let N=this.br;return PersistencePromise.forEach(I.mutations,L=>{const B=new __PRIVATE_DocReference(L.key,I.batchId);return N=N.delete(B),this.referenceDelegate.markPotentiallyOrphaned($,L.key)}).next(()=>{this.br=N})}On($){}containsKey($,I){const N=new __PRIVATE_DocReference(I,0),L=this.br.firstAfterOrEqual(N);return PersistencePromise.resolve(I.isEqual(L&&L.key))}performConsistencyCheck($){return this.mutationQueue.length,PersistencePromise.resolve()}Fr($,I){return this.vr($)}vr($){return this.mutationQueue.length===0?0:$-this.mutationQueue[0].batchId}Dr($){const I=this.vr($);return I<0||I>=this.mutationQueue.length?null:this.mutationQueue[I]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor($){this.Mr=$,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager($){this.indexManager=$}addEntry($,I){const N=I.key,L=this.docs.get(N),B=L?L.size:0,H=this.Mr(I);return this.docs=this.docs.insert(N,{document:I.mutableCopy(),size:H}),this.size+=H-B,this.indexManager.addToCollectionParentIndex($,N.path.popLast())}removeEntry($){const I=this.docs.get($);I&&(this.docs=this.docs.remove($),this.size-=I.size)}getEntry($,I){const N=this.docs.get(I);return PersistencePromise.resolve(N?N.document.mutableCopy():MutableDocument.newInvalidDocument(I))}getEntries($,I){let N=__PRIVATE_mutableDocumentMap();return I.forEach(L=>{const B=this.docs.get(L);N=N.insert(L,B?B.document.mutableCopy():MutableDocument.newInvalidDocument(L))}),PersistencePromise.resolve(N)}getDocumentsMatchingQuery($,I,N,L){let B=__PRIVATE_mutableDocumentMap();const H=I.path,z=new DocumentKey(H.child("")),Q=this.docs.getIteratorFrom(z);for(;Q.hasNext();){const{key:te,value:{document:G}}=Q.getNext();if(!H.isPrefixOf(te.path))break;te.path.length>H.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(G),N)<=0||(L.has(G.key)||__PRIVATE_queryMatches(I,G))&&(B=B.insert(G.key,G.mutableCopy()))}return PersistencePromise.resolve(B)}getAllFromCollectionGroup($,I,N,L){fail()}Or($,I){return PersistencePromise.forEach(this.docs,N=>I(N))}newChangeBuffer($){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize($){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor($){super(),this.cr=$}applyChanges($){const I=[];return this.changes.forEach((N,L)=>{L.isValidDocument()?I.push(this.cr.addEntry($,L)):this.cr.removeEntry(N)}),PersistencePromise.waitFor(I)}getFromCache($,I){return this.cr.getEntry($,I)}getAllFromCache($,I){return this.cr.getEntries($,I)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor($){this.persistence=$,this.Nr=new ObjectMap(I=>__PRIVATE_canonifyTarget(I),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget($,I){return this.Nr.forEach((N,L)=>I(L)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion($){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber($){return PersistencePromise.resolve(this.Lr)}allocateTargetId($){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata($,I,N){return N&&(this.lastRemoteSnapshotVersion=N),I>this.Lr&&(this.Lr=I),PersistencePromise.resolve()}Kn($){this.Nr.set($.target,$);const I=$.targetId;I>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(I),this.highestTargetId=I),$.sequenceNumber>this.Lr&&(this.Lr=$.sequenceNumber)}addTargetData($,I){return this.Kn(I),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData($,I){return this.Kn(I),PersistencePromise.resolve()}removeTargetData($,I){return this.Nr.delete(I.target),this.Br.gr(I.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets($,I,N){let L=0;const B=[];return this.Nr.forEach((H,z)=>{z.sequenceNumber<=I&&N.get(z.targetId)===null&&(this.Nr.delete(H),B.push(this.removeMatchingKeysForTargetId($,z.targetId)),L++)}),PersistencePromise.waitFor(B).next(()=>L)}getTargetCount($){return PersistencePromise.resolve(this.targetCount)}getTargetData($,I){const N=this.Nr.get(I)||null;return PersistencePromise.resolve(N)}addMatchingKeys($,I,N){return this.Br.Rr(I,N),PersistencePromise.resolve()}removeMatchingKeys($,I,N){this.Br.mr(I,N);const L=this.persistence.referenceDelegate,B=[];return L&&I.forEach(H=>{B.push(L.markPotentiallyOrphaned($,H))}),PersistencePromise.waitFor(B)}removeMatchingKeysForTargetId($,I){return this.Br.gr(I),PersistencePromise.resolve()}getMatchingKeysForTargetId($,I){const N=this.Br.yr(I);return PersistencePromise.resolve(N)}containsKey($,I){return PersistencePromise.resolve(this.Br.containsKey(I))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor($,I){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=$(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(L){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(L)}(N=>this.referenceDelegate.Wr(N)),this.serializer=new __PRIVATE_LocalSerializer(I),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager($){return this.indexManager}getDocumentOverlayCache($){let I=this.overlays[$.toKey()];return I||(I=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[$.toKey()]=I),I}getMutationQueue($,I){let N=this.qr[$.toKey()];return N||(N=new __PRIVATE_MemoryMutationQueue(I,this.referenceDelegate),this.qr[$.toKey()]=N),N}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction($,I,N){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",$);const L=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),N(L).next(B=>this.referenceDelegate.jr(L).next(()=>B)).toPromise().then(B=>(L.raiseOnCommittedEvent(),B))}Hr($,I){return PersistencePromise.or(Object.values(this.qr).map(N=>()=>N.containsKey($,I)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor($){super(),this.currentSequenceNumber=$}}class __PRIVATE_MemoryEagerDelegate{constructor($){this.persistence=$,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr($){return new __PRIVATE_MemoryEagerDelegate($)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference($,I,N){return this.Jr.addReference(N,I),this.Xr.delete(N.toString()),PersistencePromise.resolve()}removeReference($,I,N){return this.Jr.removeReference(N,I),this.Xr.add(N.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned($,I){return this.Xr.add(I.toString()),PersistencePromise.resolve()}removeTarget($,I){this.Jr.gr(I.targetId).forEach(L=>this.Xr.add(L.toString()));const N=this.persistence.getTargetCache();return N.getMatchingKeysForTargetId($,I.targetId).next(L=>{L.forEach(B=>this.Xr.add(B.toString()))}).next(()=>N.removeTargetData($,I))}zr(){this.Yr=new Set}jr($){const I=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,N=>{const L=DocumentKey.fromPath(N);return this.ei($,L).next(B=>{B||I.removeEntry(L,SnapshotVersion.min())})}).next(()=>(this.Yr=null,I.apply($)))}updateLimboDocument($,I){return this.ei($,I).next(N=>{N?this.Xr.delete(I.toString()):this.Xr.add(I.toString())})}Wr($){return 0}ei($,I){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(I)),()=>this.persistence.getTargetCache().containsKey($,I),()=>this.persistence.Hr($,I)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor($,I,N,L){this.targetId=$,this.fromCache=I,this.$i=N,this.Ui=L}static Wi($,I){let N=__PRIVATE_documentKeySet(),L=__PRIVATE_documentKeySet();for(const B of I.docChanges)switch(B.type){case 0:N=N.add(B.doc.key);break;case 1:L=L.add(B.doc.key)}return new __PRIVATE_LocalViewChanges($,I.fromCache,N,L)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount($){this._documentReadCount+=$}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize($,I){this.Ji=$,this.indexManager=I,this.Gi=!0}getDocumentsMatchingQuery($,I,N,L){const B={result:null};return this.Yi($,I).next(H=>{B.result=H}).next(()=>{if(!B.result)return this.Zi($,I,L,N).next(H=>{B.result=H})}).next(()=>{if(B.result)return;const H=new QueryContext;return this.Xi($,I,H).next(z=>{if(B.result=z,this.zi)return this.es($,I,H,z.size)})}).next(()=>B.result)}es($,I,N,L){return N.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(I),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(I),"scans",N.documentReadCount,"local documents and returns",L,"documents as results."),N.documentReadCount>this.Hi*L?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(I),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes($,__PRIVATE_queryToTarget(I))):PersistencePromise.resolve())}Yi($,I){if(__PRIVATE_queryMatchesAllDocuments(I))return PersistencePromise.resolve(null);let N=__PRIVATE_queryToTarget(I);return this.indexManager.getIndexType($,N).next(L=>L===0?null:(I.limit!==null&&L===1&&(I=__PRIVATE_queryWithLimit(I,null,"F"),N=__PRIVATE_queryToTarget(I)),this.indexManager.getDocumentsMatchingTarget($,N).next(B=>{const H=__PRIVATE_documentKeySet(...B);return this.Ji.getDocuments($,H).next(z=>this.indexManager.getMinOffset($,N).next(Q=>{const te=this.ts(I,z);return this.ns(I,te,H,Q.readTime)?this.Yi($,__PRIVATE_queryWithLimit(I,null,"F")):this.rs($,te,I,Q)}))})))}Zi($,I,N,L){return __PRIVATE_queryMatchesAllDocuments(I)||L.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments($,N).next(B=>{const H=this.ts(I,B);return this.ns(I,H,N,L)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",L.toString(),__PRIVATE_stringifyQuery(I)),this.rs($,H,I,__PRIVATE_newIndexOffsetSuccessorFromReadTime(L,-1)).next(z=>z))})}ts($,I){let N=new SortedSet(__PRIVATE_newQueryComparator($));return I.forEach((L,B)=>{__PRIVATE_queryMatches($,B)&&(N=N.add(B))}),N}ns($,I,N,L){if($.limit===null)return!1;if(N.size!==I.size)return!0;const B=$.limitType==="F"?I.last():I.first();return!!B&&(B.hasPendingWrites||B.version.compareTo(L)>0)}Xi($,I,N){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(I)),this.Ji.getDocumentsMatchingQuery($,I,IndexOffset.min(),N)}rs($,I,N,L){return this.Ji.getDocumentsMatchingQuery($,N,L).next(B=>(I.forEach(H=>{B=B.insert(H.key,H)}),B))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor($,I,N,L){this.persistence=$,this.ss=I,this.serializer=L,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(B=>__PRIVATE_canonifyTarget(B),__PRIVATE_targetEquals),this.us=new Map,this.cs=$.getRemoteDocumentCache(),this.Ur=$.getTargetCache(),this.Gr=$.getBundleCache(),this.ls(N)}ls($){this.documentOverlayCache=this.persistence.getDocumentOverlayCache($),this.indexManager=this.persistence.getIndexManager($),this.mutationQueue=this.persistence.getMutationQueue($,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage($){return this.persistence.runTransaction("Collect garbage","readwrite-primary",I=>$.collect(I,this.os))}}function __PRIVATE_newLocalStore(T,$,I,N){return new __PRIVATE_LocalStoreImpl(T,$,I,N)}async function __PRIVATE_localStoreHandleUserChange(T,$){const I=__PRIVATE_debugCast(T);return await I.persistence.runTransaction("Handle user change","readonly",N=>{let L;return I.mutationQueue.getAllMutationBatches(N).next(B=>(L=B,I.ls($),I.mutationQueue.getAllMutationBatches(N))).next(B=>{const H=[],z=[];let Q=__PRIVATE_documentKeySet();for(const te of L){H.push(te.batchId);for(const G of te.mutations)Q=Q.add(G.key)}for(const te of B){z.push(te.batchId);for(const G of te.mutations)Q=Q.add(G.key)}return I.localDocuments.getDocuments(N,Q).next(te=>({hs:te,removedBatchIds:H,addedBatchIds:z}))})})}function __PRIVATE_localStoreAcknowledgeBatch(T,$){const I=__PRIVATE_debugCast(T);return I.persistence.runTransaction("Acknowledge batch","readwrite-primary",N=>{const L=$.batch.keys(),B=I.cs.newChangeBuffer({trackRemovals:!0});return function(z,Q,te,G){const ie=te.batch,Re=ie.keys();let $e=PersistencePromise.resolve();return Re.forEach(Pe=>{$e=$e.next(()=>G.getEntry(Q,Pe)).next(Me=>{const Be=te.docVersions.get(Pe);__PRIVATE_hardAssert(Be!==null),Me.version.compareTo(Be)<0&&(ie.applyToRemoteDocument(Me,te),Me.isValidDocument()&&(Me.setReadTime(te.commitVersion),G.addEntry(Me)))})}),$e.next(()=>z.mutationQueue.removeMutationBatch(Q,ie))}(I,N,$,B).next(()=>B.apply(N)).next(()=>I.mutationQueue.performConsistencyCheck(N)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(N,L,$.batch.batchId)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,function(z){let Q=__PRIVATE_documentKeySet();for(let te=0;te<z.mutationResults.length;++te)z.mutationResults[te].transformResults.length>0&&(Q=Q.add(z.batch.mutations[te].key));return Q}($))).next(()=>I.localDocuments.getDocuments(N,L))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(T){const $=__PRIVATE_debugCast(T);return $.persistence.runTransaction("Get last remote snapshot version","readonly",I=>$.Ur.getLastRemoteSnapshotVersion(I))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(T,$){const I=__PRIVATE_debugCast(T),N=$.snapshotVersion;let L=I.os;return I.persistence.runTransaction("Apply remote event","readwrite-primary",B=>{const H=I.cs.newChangeBuffer({trackRemovals:!0});L=I.os;const z=[];$.targetChanges.forEach((G,ie)=>{const Re=L.get(ie);if(!Re)return;z.push(I.Ur.removeMatchingKeys(B,G.removedDocuments,ie).next(()=>I.Ur.addMatchingKeys(B,G.addedDocuments,ie)));let $e=Re.withSequenceNumber(B.currentSequenceNumber);$.targetMismatches.get(ie)!==null?$e=$e.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):G.resumeToken.approximateByteSize()>0&&($e=$e.withResumeToken(G.resumeToken,N)),L=L.insert(ie,$e),function(Me,Be,Ke){return Me.resumeToken.approximateByteSize()===0||Be.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=3e8?!0:Ke.addedDocuments.size+Ke.modifiedDocuments.size+Ke.removedDocuments.size>0}(Re,$e,G)&&z.push(I.Ur.updateTargetData(B,$e))});let Q=__PRIVATE_mutableDocumentMap(),te=__PRIVATE_documentKeySet();if($.documentUpdates.forEach(G=>{$.resolvedLimboDocuments.has(G)&&z.push(I.persistence.referenceDelegate.updateLimboDocument(B,G))}),z.push(__PRIVATE_populateDocumentChangeBuffer(B,H,$.documentUpdates).next(G=>{Q=G.Ps,te=G.Is})),!N.isEqual(SnapshotVersion.min())){const G=I.Ur.getLastRemoteSnapshotVersion(B).next(ie=>I.Ur.setTargetsMetadata(B,B.currentSequenceNumber,N));z.push(G)}return PersistencePromise.waitFor(z).next(()=>H.apply(B)).next(()=>I.localDocuments.getLocalViewOfDocuments(B,Q,te)).next(()=>Q)}).then(B=>(I.os=L,B))}function __PRIVATE_populateDocumentChangeBuffer(T,$,I){let N=__PRIVATE_documentKeySet(),L=__PRIVATE_documentKeySet();return I.forEach(B=>N=N.add(B)),$.getEntries(T,N).next(B=>{let H=__PRIVATE_mutableDocumentMap();return I.forEach((z,Q)=>{const te=B.get(z);Q.isFoundDocument()!==te.isFoundDocument()&&(L=L.add(z)),Q.isNoDocument()&&Q.version.isEqual(SnapshotVersion.min())?($.removeEntry(z,Q.readTime),H=H.insert(z,Q)):!te.isValidDocument()||Q.version.compareTo(te.version)>0||Q.version.compareTo(te.version)===0&&te.hasPendingWrites?($.addEntry(Q),H=H.insert(z,Q)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",z,". Current version:",te.version," Watch version:",Q.version)}),{Ps:H,Is:L}})}function __PRIVATE_localStoreGetNextMutationBatch(T,$){const I=__PRIVATE_debugCast(T);return I.persistence.runTransaction("Get next mutation batch","readonly",N=>($===void 0&&($=-1),I.mutationQueue.getNextMutationBatchAfterBatchId(N,$)))}function __PRIVATE_localStoreAllocateTarget(T,$){const I=__PRIVATE_debugCast(T);return I.persistence.runTransaction("Allocate target","readwrite",N=>{let L;return I.Ur.getTargetData(N,$).next(B=>B?(L=B,PersistencePromise.resolve(L)):I.Ur.allocateTargetId(N).next(H=>(L=new TargetData($,H,"TargetPurposeListen",N.currentSequenceNumber),I.Ur.addTargetData(N,L).next(()=>L))))}).then(N=>{const L=I.os.get(N.targetId);return(L===null||N.snapshotVersion.compareTo(L.snapshotVersion)>0)&&(I.os=I.os.insert(N.targetId,N),I._s.set($,N.targetId)),N})}async function __PRIVATE_localStoreReleaseTarget(T,$,I){const N=__PRIVATE_debugCast(T),L=N.os.get($),B=I?"readwrite":"readwrite-primary";try{I||await N.persistence.runTransaction("Release target",B,H=>N.persistence.referenceDelegate.removeTarget(H,L))}catch(H){if(!__PRIVATE_isIndexedDbTransactionError(H))throw H;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${$}: ${H}`)}N.os=N.os.remove($),N._s.delete(L.target)}function __PRIVATE_localStoreExecuteQuery(T,$,I){const N=__PRIVATE_debugCast(T);let L=SnapshotVersion.min(),B=__PRIVATE_documentKeySet();return N.persistence.runTransaction("Execute query","readwrite",H=>function(Q,te,G){const ie=__PRIVATE_debugCast(Q),Re=ie._s.get(G);return Re!==void 0?PersistencePromise.resolve(ie.os.get(Re)):ie.Ur.getTargetData(te,G)}(N,H,__PRIVATE_queryToTarget($)).next(z=>{if(z)return L=z.lastLimboFreeSnapshotVersion,N.Ur.getMatchingKeysForTargetId(H,z.targetId).next(Q=>{B=Q})}).next(()=>N.ss.getDocumentsMatchingQuery(H,$,I?L:SnapshotVersion.min(),I?B:__PRIVATE_documentKeySet())).next(z=>(__PRIVATE_setMaxReadTime(N,__PRIVATE_queryCollectionGroup($),z),{documents:z,Ts:B})))}function __PRIVATE_setMaxReadTime(T,$,I){let N=T.us.get($)||SnapshotVersion.min();I.forEach((L,B)=>{B.readTime.compareTo(N)>0&&(N=B.readTime)}),T.us.set($,N)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs($){this.activeTargetIds=this.activeTargetIds.add($)}gs($){this.activeTargetIds=this.activeTargetIds.delete($)}Vs(){const $={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify($)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation($){}updateMutationState($,I,N){}addLocalQueryTarget($,I=!0){return I&&this.so.fs($),this.oo[$]||"not-current"}updateQueryState($,I,N){this.oo[$]=I}removeLocalQueryTarget($){this.so.gs($)}isLocalQueryTarget($){return this.so.activeTargetIds.has($)}clearQueryState($){delete this.oo[$]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget($){return this.so.activeTargetIds.has($)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange($,I,N){}setOnlineState($){}shutdown(){}writeSequenceNumber($){}notifyBundleLoaded($){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o($){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o($){this.ho.push($)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const $ of this.ho)$(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const $ of this.ho)$(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=function(){return 268435456+Math.round(2147483648*Math.random())}():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor($){this.Io=$.Io,this.To=$.To}Eo($){this.Ao=$}Ro($){this.Vo=$}mo($){this.fo=$}onMessage($){this.po=$}close(){this.To()}send($){this.Io($)}yo(){this.Ao()}wo(){this.Vo()}So($){this.fo($)}bo($){this.po($)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(I){this.databaseInfo=I,this.databaseId=I.databaseId;const N=I.ssl?"https":"http",L=encodeURIComponent(this.databaseId.projectId),B=encodeURIComponent(this.databaseId.database);this.Do=N+"://"+I.host,this.vo=`projects/${L}/databases/${B}`,this.Co=this.databaseId.database==="(default)"?`project_id=${L}`:`project_id=${L}&database_id=${B}`}get Fo(){return!1}Mo(I,N,L,B,H){const z=__PRIVATE_generateUniqueDebugId(),Q=this.xo(I,N.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${I}' ${z}:`,Q,L);const te={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(te,B,H),this.No(I,Q,te,L).then(G=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${I}' ${z}: `,G),G),G=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${I}' ${z} failed with error: `,G,"url: ",Q,"request:",L),G})}Lo(I,N,L,B,H,z){return this.Mo(I,N,L,B,H)}Oo(I,N,L){I["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),I["Content-Type"]="text/plain",this.databaseInfo.appId&&(I["X-Firebase-GMPID"]=this.databaseInfo.appId),N&&N.headers.forEach((B,H)=>I[H]=B),L&&L.headers.forEach((B,H)=>I[H]=B)}xo(I,N){const L=fe[I];return`${this.Do}/v1/${N}:${L}`}terminate(){}}{constructor($){super($),this.forceLongPolling=$.forceLongPolling,this.autoDetectLongPolling=$.autoDetectLongPolling,this.useFetchStreams=$.useFetchStreams,this.longPollingOptions=$.longPollingOptions}No($,I,N,L){const B=__PRIVATE_generateUniqueDebugId();return new Promise((H,z)=>{const Q=new XhrIo;Q.setWithCredentials(!0),Q.listenOnce(EventType.COMPLETE,()=>{try{switch(Q.getLastErrorCode()){case ErrorCode$2.NO_ERROR:const G=Q.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${$}' ${B} received:`,JSON.stringify(G)),H(G);break;case ErrorCode$2.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${$}' ${B} timed out`),z(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$2.HTTP_ERROR:const ie=Q.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${$}' ${B} failed with status:`,ie,"response text:",Q.getResponseText()),ie>0){let Re=Q.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const $e=Re==null?void 0:Re.error;if($e&&$e.status&&$e.message){const Pe=function(Be){const Ke=Be.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(Ke)>=0?Ke:D.UNKNOWN}($e.status);z(new FirestoreError(Pe,$e.message))}else z(new FirestoreError(D.UNKNOWN,"Server responded with status "+Q.getStatus()))}else z(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${$}' ${B} completed.`)}});const te=JSON.stringify(L);__PRIVATE_logDebug(ge,`RPC '${$}' ${B} sending request:`,L),Q.send(I,"POST",te,N,15)})}Bo($,I,N){const L=__PRIVATE_generateUniqueDebugId(),B=[this.Do,"/","google.firestore.v1.Firestore","/",$,"/channel"],H=createWebChannelTransport(),z=getStatEventTarget(),Q={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;te!==void 0&&(Q.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(Q.useFetchStreams=!0),this.Oo(Q.initMessageHeaders,I,N),Q.encodeInitMessageHeaders=!0;const G=B.join("");__PRIVATE_logDebug(ge,`Creating RPC '${$}' stream ${L}: ${G}`,Q);const ie=H.createWebChannel(G,Q);let Re=!1,$e=!1;const Pe=new __PRIVATE_StreamBridge({Io:Be=>{$e?__PRIVATE_logDebug(ge,`Not sending because RPC '${$}' stream ${L} is closed:`,Be):(Re||(__PRIVATE_logDebug(ge,`Opening RPC '${$}' stream ${L} transport.`),ie.open(),Re=!0),__PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} sending:`,Be),ie.send(Be))},To:()=>ie.close()}),Me=(Be,Ke,Le)=>{Be.listen(Ke,qe=>{try{Le(qe)}catch(He){setTimeout(()=>{throw He},0)}})};return Me(ie,WebChannel.EventType.OPEN,()=>{$e||(__PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} transport opened.`),Pe.yo())}),Me(ie,WebChannel.EventType.CLOSE,()=>{$e||($e=!0,__PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} transport closed`),Pe.So())}),Me(ie,WebChannel.EventType.ERROR,Be=>{$e||($e=!0,__PRIVATE_logWarn(ge,`RPC '${$}' stream ${L} transport errored:`,Be),Pe.So(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),Me(ie,WebChannel.EventType.MESSAGE,Be=>{var Ke;if(!$e){const Le=Be.data[0];__PRIVATE_hardAssert(!!Le);const qe=Le,He=qe.error||((Ke=qe[0])===null||Ke===void 0?void 0:Ke.error);if(He){__PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} received error:`,He);const Ge=He.status;let at=function(nt){const Qe=le[nt];if(Qe!==void 0)return __PRIVATE_mapCodeFromRpcCode(Qe)}(Ge),ot=He.message;at===void 0&&(at=D.INTERNAL,ot="Unknown error status: "+Ge+" with message "+He.message),$e=!0,Pe.So(new FirestoreError(at,ot)),ie.close()}else __PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} received:`,Le),Pe.bo(Le)}}),Me(z,Event$1.STAT_EVENT,Be=>{Be.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} detected buffering proxy`):Be.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${$}' stream ${L} detected no buffering proxy`)}),setTimeout(()=>{Pe.wo()},0),Pe}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(T){return new JsonProtoSerializer(T,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor($,I,N=1e3,L=1.5,B=6e4){this.ui=$,this.timerId=I,this.ko=N,this.qo=L,this.Qo=B,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go($){this.cancel();const I=Math.floor(this.Ko+this.zo()),N=Math.max(0,Date.now()-this.Uo),L=Math.max(0,I-N);L>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${L} ms (base delay: ${this.Ko} ms, delay with jitter: ${I} ms, last attempt: ${N} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,L,()=>(this.Uo=Date.now(),$())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor($,I,N,L,B,H,z,Q){this.ui=$,this.Ho=N,this.Jo=L,this.connection=B,this.authCredentialsProvider=H,this.appCheckCredentialsProvider=z,this.listener=Q,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff($,I)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_($){this.u_(),this.stream.send($)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close($,I){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,$!==4?this.t_.reset():I&&I.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(I.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):I&&I.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=$,await this.listener.mo(I)}l_(){}auth(){this.state=1;const $=this.h_(this.Yo),I=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([N,L])=>{this.Yo===I&&this.P_(N,L)},N=>{$(()=>{const L=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+N.message);return this.I_(L)})})}P_($,I){const N=this.h_(this.Yo);this.stream=this.T_($,I),this.stream.Eo(()=>{N(()=>this.listener.Eo())}),this.stream.Ro(()=>{N(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(L=>{N(()=>this.I_(L))}),this.stream.onMessage(L=>{N(()=>++this.e_==1?this.E_(L):this.onNext(L))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_($){return __PRIVATE_logDebug("PersistentStream",`close with error: ${$}`),this.stream=null,this.close(4,$)}h_($){return I=>{this.ui.enqueueAndForget(()=>this.Yo===$?I():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor($,I,N,L,B,H){super($,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",I,N,L,H),this.serializer=B}T_($,I){return this.connection.Bo("Listen",$,I)}E_($){return this.onNext($)}onNext($){this.t_.reset();const I=__PRIVATE_fromWatchChange(this.serializer,$),N=function(B){if(!("targetChange"in B))return SnapshotVersion.min();const H=B.targetChange;return H.targetIds&&H.targetIds.length?SnapshotVersion.min():H.readTime?__PRIVATE_fromVersion(H.readTime):SnapshotVersion.min()}($);return this.listener.d_(I,N)}A_($){const I={};I.database=__PRIVATE_getEncodedDatabaseId(this.serializer),I.addTarget=function(B,H){let z;const Q=H.target;if(z=__PRIVATE_targetIsDocumentTarget(Q)?{documents:__PRIVATE_toDocumentsTarget(B,Q)}:{query:__PRIVATE_toQueryTarget(B,Q)._t},z.targetId=H.targetId,H.resumeToken.approximateByteSize()>0){z.resumeToken=__PRIVATE_toBytes(B,H.resumeToken);const te=__PRIVATE_toInt32Proto(B,H.expectedCount);te!==null&&(z.expectedCount=te)}else if(H.snapshotVersion.compareTo(SnapshotVersion.min())>0){z.readTime=toTimestamp(B,H.snapshotVersion.toTimestamp());const te=__PRIVATE_toInt32Proto(B,H.expectedCount);te!==null&&(z.expectedCount=te)}return z}(this.serializer,$);const N=__PRIVATE_toListenRequestLabels(this.serializer,$);N&&(I.labels=N),this.a_(I)}R_($){const I={};I.database=__PRIVATE_getEncodedDatabaseId(this.serializer),I.removeTarget=$,this.a_(I)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor($,I,N,L,B,H){super($,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",I,N,L,H),this.serializer=B}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_($,I){return this.connection.Bo("Write",$,I)}E_($){return __PRIVATE_hardAssert(!!$.streamToken),this.lastStreamToken=$.streamToken,__PRIVATE_hardAssert(!$.writeResults||$.writeResults.length===0),this.listener.f_()}onNext($){__PRIVATE_hardAssert(!!$.streamToken),this.lastStreamToken=$.streamToken,this.t_.reset();const I=__PRIVATE_fromWriteResults($.writeResults,$.commitTime),N=__PRIVATE_fromVersion($.commitTime);return this.listener.g_(N,I)}p_(){const $={};$.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_($)}m_($){const I={streamToken:this.lastStreamToken,writes:$.map(N=>toMutation(this.serializer,N))};this.a_(I)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor($,I,N,L){super(),this.authCredentials=$,this.appCheckCredentials=I,this.connection=N,this.serializer=L,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo($,I,N,L){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([B,H])=>this.connection.Mo($,__PRIVATE_toResourcePath(I,N),L,B,H)).catch(B=>{throw B.name==="FirebaseError"?(B.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),B):new FirestoreError(D.UNKNOWN,B.toString())})}Lo($,I,N,L,B){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([H,z])=>this.connection.Lo($,__PRIVATE_toResourcePath(I,N),L,H,z,B)).catch(H=>{throw H.name==="FirebaseError"?(H.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),H):new FirestoreError(D.UNKNOWN,H.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor($,I){this.asyncQueue=$,this.onlineStateHandler=I,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_($){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${$.toString()}`),this.C_("Offline")))}set($){this.x_(),this.S_=0,$==="Online"&&(this.D_=!1),this.C_($)}C_($){$!==this.state&&(this.state=$,this.onlineStateHandler($))}F_($){const I=`Could not reach Cloud Firestore backend. ${$}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(I),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",I)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor($,I,N,L,B){this.localStore=$,this.datastore=I,this.asyncQueue=N,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=B,this.k_._o(H=>{N.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(Q){const te=__PRIVATE_debugCast(Q);te.L_.add(4),await __PRIVATE_disableNetworkInternal(te),te.q_.set("Unknown"),te.L_.delete(4),await __PRIVATE_enableNetworkInternal(te)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(N,L)}}async function __PRIVATE_enableNetworkInternal(T){if(__PRIVATE_canUseNetwork(T))for(const $ of T.B_)await $(!0)}async function __PRIVATE_disableNetworkInternal(T){for(const $ of T.B_)await $(!1)}function __PRIVATE_remoteStoreListen(T,$){const I=__PRIVATE_debugCast(T);I.N_.has($.targetId)||(I.N_.set($.targetId,$),__PRIVATE_shouldStartWatchStream(I)?__PRIVATE_startWatchStream(I):__PRIVATE_ensureWatchStream(I).r_()&&__PRIVATE_sendWatchRequest(I,$))}function __PRIVATE_remoteStoreUnlisten(T,$){const I=__PRIVATE_debugCast(T),N=__PRIVATE_ensureWatchStream(I);I.N_.delete($),N.r_()&&__PRIVATE_sendUnwatchRequest(I,$),I.N_.size===0&&(N.r_()?N.o_():__PRIVATE_canUseNetwork(I)&&I.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(T,$){if(T.Q_.xe($.targetId),$.resumeToken.approximateByteSize()>0||$.snapshotVersion.compareTo(SnapshotVersion.min())>0){const I=T.remoteSyncer.getRemoteKeysForTarget($.targetId).size;$=$.withExpectedCount(I)}__PRIVATE_ensureWatchStream(T).A_($)}function __PRIVATE_sendUnwatchRequest(T,$){T.Q_.xe($),__PRIVATE_ensureWatchStream(T).R_($)}function __PRIVATE_startWatchStream(T){T.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:$=>T.remoteSyncer.getRemoteKeysForTarget($),ot:$=>T.N_.get($)||null,tt:()=>T.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(T).start(),T.q_.v_()}function __PRIVATE_shouldStartWatchStream(T){return __PRIVATE_canUseNetwork(T)&&!__PRIVATE_ensureWatchStream(T).n_()&&T.N_.size>0}function __PRIVATE_canUseNetwork(T){return __PRIVATE_debugCast(T).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(T){T.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(T){T.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(T){T.N_.forEach(($,I)=>{__PRIVATE_sendWatchRequest(T,$)})}async function __PRIVATE_onWatchStreamClose(T,$){__PRIVATE_cleanUpWatchStreamState(T),__PRIVATE_shouldStartWatchStream(T)?(T.q_.M_($),__PRIVATE_startWatchStream(T)):T.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(T,$,I){if(T.q_.set("Online"),$ instanceof __PRIVATE_WatchTargetChange&&$.state===2&&$.cause)try{await async function(L,B){const H=B.cause;for(const z of B.targetIds)L.N_.has(z)&&(await L.remoteSyncer.rejectListen(z,H),L.N_.delete(z),L.Q_.removeTarget(z))}(T,$)}catch(N){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",$.targetIds.join(","),N),await __PRIVATE_disableNetworkUntilRecovery(T,N)}else if($ instanceof __PRIVATE_DocumentWatchChange?T.Q_.Ke($):$ instanceof __PRIVATE_ExistenceFilterChange?T.Q_.He($):T.Q_.We($),!I.isEqual(SnapshotVersion.min()))try{const N=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(T.localStore);I.compareTo(N)>=0&&await function(B,H){const z=B.Q_.rt(H);return z.targetChanges.forEach((Q,te)=>{if(Q.resumeToken.approximateByteSize()>0){const G=B.N_.get(te);G&&B.N_.set(te,G.withResumeToken(Q.resumeToken,H))}}),z.targetMismatches.forEach((Q,te)=>{const G=B.N_.get(Q);if(!G)return;B.N_.set(Q,G.withResumeToken(ByteString.EMPTY_BYTE_STRING,G.snapshotVersion)),__PRIVATE_sendUnwatchRequest(B,Q);const ie=new TargetData(G.target,Q,te,G.sequenceNumber);__PRIVATE_sendWatchRequest(B,ie)}),B.remoteSyncer.applyRemoteEvent(z)}(T,I)}catch(N){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",N),await __PRIVATE_disableNetworkUntilRecovery(T,N)}}async function __PRIVATE_disableNetworkUntilRecovery(T,$,I){if(!__PRIVATE_isIndexedDbTransactionError($))throw $;T.L_.add(1),await __PRIVATE_disableNetworkInternal(T),T.q_.set("Offline"),I||(I=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(T.localStore)),T.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await I(),T.L_.delete(1),await __PRIVATE_enableNetworkInternal(T)})}function __PRIVATE_executeWithRecovery(T,$){return $().catch(I=>__PRIVATE_disableNetworkUntilRecovery(T,I,$))}async function __PRIVATE_fillWritePipeline(T){const $=__PRIVATE_debugCast(T),I=__PRIVATE_ensureWriteStream($);let N=$.O_.length>0?$.O_[$.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline($);)try{const L=await __PRIVATE_localStoreGetNextMutationBatch($.localStore,N);if(L===null){$.O_.length===0&&I.o_();break}N=L.batchId,__PRIVATE_addToWritePipeline($,L)}catch(L){await __PRIVATE_disableNetworkUntilRecovery($,L)}__PRIVATE_shouldStartWriteStream($)&&__PRIVATE_startWriteStream($)}function __PRIVATE_canAddToWritePipeline(T){return __PRIVATE_canUseNetwork(T)&&T.O_.length<10}function __PRIVATE_addToWritePipeline(T,$){T.O_.push($);const I=__PRIVATE_ensureWriteStream(T);I.r_()&&I.V_&&I.m_($.mutations)}function __PRIVATE_shouldStartWriteStream(T){return __PRIVATE_canUseNetwork(T)&&!__PRIVATE_ensureWriteStream(T).n_()&&T.O_.length>0}function __PRIVATE_startWriteStream(T){__PRIVATE_ensureWriteStream(T).start()}async function __PRIVATE_onWriteStreamOpen(T){__PRIVATE_ensureWriteStream(T).p_()}async function __PRIVATE_onWriteHandshakeComplete(T){const $=__PRIVATE_ensureWriteStream(T);for(const I of T.O_)$.m_(I.mutations)}async function __PRIVATE_onMutationResult(T,$,I){const N=T.O_.shift(),L=MutationBatchResult.from(N,$,I);await __PRIVATE_executeWithRecovery(T,()=>T.remoteSyncer.applySuccessfulWrite(L)),await __PRIVATE_fillWritePipeline(T)}async function __PRIVATE_onWriteStreamClose(T,$){$&&__PRIVATE_ensureWriteStream(T).V_&&await async function(N,L){if(function(H){return __PRIVATE_isPermanentError(H)&&H!==D.ABORTED}(L.code)){const B=N.O_.shift();__PRIVATE_ensureWriteStream(N).s_(),await __PRIVATE_executeWithRecovery(N,()=>N.remoteSyncer.rejectFailedWrite(B.batchId,L)),await __PRIVATE_fillWritePipeline(N)}}(T,$),__PRIVATE_shouldStartWriteStream(T)&&__PRIVATE_startWriteStream(T)}async function __PRIVATE_remoteStoreHandleCredentialChange(T,$){const I=__PRIVATE_debugCast(T);I.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const N=__PRIVATE_canUseNetwork(I);I.L_.add(3),await __PRIVATE_disableNetworkInternal(I),N&&I.q_.set("Unknown"),await I.remoteSyncer.handleCredentialChange($),I.L_.delete(3),await __PRIVATE_enableNetworkInternal(I)}async function __PRIVATE_remoteStoreApplyPrimaryState(T,$){const I=__PRIVATE_debugCast(T);$?(I.L_.delete(2),await __PRIVATE_enableNetworkInternal(I)):$||(I.L_.add(2),await __PRIVATE_disableNetworkInternal(I),I.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(T){return T.K_||(T.K_=function(I,N,L){const B=__PRIVATE_debugCast(I);return B.w_(),new __PRIVATE_PersistentListenStream(N,B.connection,B.authCredentials,B.appCheckCredentials,B.serializer,L)}(T.datastore,T.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,T),Ro:__PRIVATE_onWatchStreamOpen.bind(null,T),mo:__PRIVATE_onWatchStreamClose.bind(null,T),d_:__PRIVATE_onWatchStreamChange.bind(null,T)}),T.B_.push(async $=>{$?(T.K_.s_(),__PRIVATE_shouldStartWatchStream(T)?__PRIVATE_startWatchStream(T):T.q_.set("Unknown")):(await T.K_.stop(),__PRIVATE_cleanUpWatchStreamState(T))})),T.K_}function __PRIVATE_ensureWriteStream(T){return T.U_||(T.U_=function(I,N,L){const B=__PRIVATE_debugCast(I);return B.w_(),new __PRIVATE_PersistentWriteStream(N,B.connection,B.authCredentials,B.appCheckCredentials,B.serializer,L)}(T.datastore,T.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,T),mo:__PRIVATE_onWriteStreamClose.bind(null,T),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,T),g_:__PRIVATE_onMutationResult.bind(null,T)}),T.B_.push(async $=>{$?(T.U_.s_(),await __PRIVATE_fillWritePipeline(T)):(await T.U_.stop(),T.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${T.O_.length} pending writes`),T.O_=[]))})),T.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor($,I,N,L,B){this.asyncQueue=$,this.timerId=I,this.targetTimeMs=N,this.op=L,this.removalCallback=B,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(H=>{})}get promise(){return this.deferred.promise}static createAndSchedule($,I,N,L,B){const H=Date.now()+N,z=new DelayedOperation($,I,H,L,B);return z.start(N),z}start($){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),$)}skipDelay(){return this.handleDelayElapsed()}cancel($){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+($?": "+$:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then($=>this.deferred.resolve($))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(T,$){if(__PRIVATE_logError("AsyncQueue",`${$}: ${T}`),__PRIVATE_isIndexedDbTransactionError(T))return new FirestoreError(D.UNAVAILABLE,`${$}: ${T}`);throw T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor($){this.comparator=$?(I,N)=>$(I,N)||DocumentKey.comparator(I.key,N.key):(I,N)=>DocumentKey.comparator(I.key,N.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet($){return new DocumentSet($.comparator)}has($){return this.keyedMap.get($)!=null}get($){return this.keyedMap.get($)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf($){const I=this.keyedMap.get($);return I?this.sortedSet.indexOf(I):-1}get size(){return this.sortedSet.size}forEach($){this.sortedSet.inorderTraversal((I,N)=>($(I),!1))}add($){const I=this.delete($.key);return I.copy(I.keyedMap.insert($.key,$),I.sortedSet.insert($,null))}delete($){const I=this.get($);return I?this.copy(this.keyedMap.remove($),this.sortedSet.remove(I)):this}isEqual($){if(!($ instanceof DocumentSet)||this.size!==$.size)return!1;const I=this.sortedSet.getIterator(),N=$.sortedSet.getIterator();for(;I.hasNext();){const L=I.getNext().key,B=N.getNext().key;if(!L.isEqual(B))return!1}return!0}toString(){const $=[];return this.forEach(I=>{$.push(I.toString())}),$.length===0?"DocumentSet ()":`DocumentSet (
  `+$.join(`  
`)+`
)`}copy($,I){const N=new DocumentSet;return N.comparator=this.comparator,N.keyedMap=$,N.sortedSet=I,N}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track($){const I=$.doc.key,N=this.W_.get(I);N?$.type!==0&&N.type===3?this.W_=this.W_.insert(I,$):$.type===3&&N.type!==1?this.W_=this.W_.insert(I,{type:N.type,doc:$.doc}):$.type===2&&N.type===2?this.W_=this.W_.insert(I,{type:2,doc:$.doc}):$.type===2&&N.type===0?this.W_=this.W_.insert(I,{type:0,doc:$.doc}):$.type===1&&N.type===0?this.W_=this.W_.remove(I):$.type===1&&N.type===2?this.W_=this.W_.insert(I,{type:1,doc:N.doc}):$.type===0&&N.type===1?this.W_=this.W_.insert(I,{type:2,doc:$.doc}):fail():this.W_=this.W_.insert(I,$)}G_(){const $=[];return this.W_.inorderTraversal((I,N)=>{$.push(N)}),$}}class ViewSnapshot{constructor($,I,N,L,B,H,z,Q,te){this.query=$,this.docs=I,this.oldDocs=N,this.docChanges=L,this.mutatedKeys=B,this.fromCache=H,this.syncStateChanged=z,this.excludesMetadataChanges=Q,this.hasCachedResults=te}static fromInitialDocuments($,I,N,L,B){const H=[];return I.forEach(z=>{H.push({type:0,doc:z})}),new ViewSnapshot($,I,DocumentSet.emptySet(I),H,N,L,!0,!1,B)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual($){if(!(this.fromCache===$.fromCache&&this.hasCachedResults===$.hasCachedResults&&this.syncStateChanged===$.syncStateChanged&&this.mutatedKeys.isEqual($.mutatedKeys)&&__PRIVATE_queryEquals(this.query,$.query)&&this.docs.isEqual($.docs)&&this.oldDocs.isEqual($.oldDocs)))return!1;const I=this.docChanges,N=$.docChanges;if(I.length!==N.length)return!1;for(let L=0;L<I.length;L++)if(I[L].type!==N[L].type||!I[L].doc.isEqual(N[L].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some($=>$.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(I,N){const L=__PRIVATE_debugCast(I),B=L.queries;L.queries=__PRIVATE_newQueriesObjectMap(),B.forEach((H,z)=>{for(const Q of z.j_)Q.onError(N)})})(this,new FirestoreError(D.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(T=>__PRIVATE_canonifyQuery(T),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(T,$){const I=__PRIVATE_debugCast(T);let N=3;const L=$.query;let B=I.queries.get(L);B?!B.H_()&&$.J_()&&(N=2):(B=new __PRIVATE_QueryListenersInfo,N=$.J_()?0:1);try{switch(N){case 0:B.z_=await I.onListen(L,!0);break;case 1:B.z_=await I.onListen(L,!1);break;case 2:await I.onFirstRemoteStoreListen(L)}}catch(H){const z=__PRIVATE_wrapInUserErrorIfRecoverable(H,`Initialization of query '${__PRIVATE_stringifyQuery($.query)}' failed`);return void $.onError(z)}I.queries.set(L,B),B.j_.push($),$.Z_(I.onlineState),B.z_&&$.X_(B.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(I)}async function __PRIVATE_eventManagerUnlisten(T,$){const I=__PRIVATE_debugCast(T),N=$.query;let L=3;const B=I.queries.get(N);if(B){const H=B.j_.indexOf($);H>=0&&(B.j_.splice(H,1),B.j_.length===0?L=$.J_()?0:1:!B.H_()&&$.J_()&&(L=2))}switch(L){case 0:return I.queries.delete(N),I.onUnlisten(N,!0);case 1:return I.queries.delete(N),I.onUnlisten(N,!1);case 2:return I.onLastRemoteStoreUnlisten(N);default:return}}function __PRIVATE_eventManagerOnWatchChange(T,$){const I=__PRIVATE_debugCast(T);let N=!1;for(const L of $){const B=L.query,H=I.queries.get(B);if(H){for(const z of H.j_)z.X_(L)&&(N=!0);H.z_=L}}N&&__PRIVATE_raiseSnapshotsInSyncEvent(I)}function __PRIVATE_eventManagerOnWatchError(T,$,I){const N=__PRIVATE_debugCast(T),L=N.queries.get($);if(L)for(const B of L.j_)B.onError(I);N.queries.delete($)}function __PRIVATE_raiseSnapshotsInSyncEvent(T){T.Y_.forEach($=>{$.next()})}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_QueryListener{constructor($,I,N){this.query=$,this.ta=I,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=N||{}}X_($){if(!this.options.includeMetadataChanges){const N=[];for(const L of $.docChanges)L.type!==3&&N.push(L);$=new ViewSnapshot($.query,$.docs,$.oldDocs,N,$.mutatedKeys,$.fromCache,$.syncStateChanged,!0,$.hasCachedResults)}let I=!1;return this.na?this.ia($)&&(this.ta.next($),I=!0):this.sa($,this.onlineState)&&(this.oa($),I=!0),this.ra=$,I}onError($){this.ta.error($)}Z_($){this.onlineState=$;let I=!1;return this.ra&&!this.na&&this.sa(this.ra,$)&&(this.oa(this.ra),I=!0),I}sa($,I){if(!$.fromCache||!this.J_())return!0;const N=I!=="Offline";return(!this.options._a||!N)&&(!$.docs.isEmpty()||$.hasCachedResults||I==="Offline")}ia($){if($.docChanges.length>0)return!0;const I=this.ra&&this.ra.hasPendingWrites!==$.hasPendingWrites;return!(!$.syncStateChanged&&!I)&&this.options.includeMetadataChanges===!0}oa($){$=ViewSnapshot.fromInitialDocuments($.query,$.docs,$.mutatedKeys,$.fromCache,$.hasCachedResults),this.na=!0,this.ta.next($)}J_(){return this.options.source!==pe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor($){this.key=$}}class __PRIVATE_RemovedLimboDocument{constructor($){this.key=$}}class __PRIVATE_View{constructor($,I){this.query=$,this.Ta=I,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator($),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma($,I){const N=I?I.fa:new __PRIVATE_DocumentChangeSet,L=I?I.Ra:this.Ra;let B=I?I.mutatedKeys:this.mutatedKeys,H=L,z=!1;const Q=this.query.limitType==="F"&&L.size===this.query.limit?L.last():null,te=this.query.limitType==="L"&&L.size===this.query.limit?L.first():null;if($.inorderTraversal((G,ie)=>{const Re=L.get(G),$e=__PRIVATE_queryMatches(this.query,ie)?ie:null,Pe=!!Re&&this.mutatedKeys.has(Re.key),Me=!!$e&&($e.hasLocalMutations||this.mutatedKeys.has($e.key)&&$e.hasCommittedMutations);let Be=!1;Re&&$e?Re.data.isEqual($e.data)?Pe!==Me&&(N.track({type:3,doc:$e}),Be=!0):this.ga(Re,$e)||(N.track({type:2,doc:$e}),Be=!0,(Q&&this.Aa($e,Q)>0||te&&this.Aa($e,te)<0)&&(z=!0)):!Re&&$e?(N.track({type:0,doc:$e}),Be=!0):Re&&!$e&&(N.track({type:1,doc:Re}),Be=!0,(Q||te)&&(z=!0)),Be&&($e?(H=H.add($e),B=Me?B.add(G):B.delete(G)):(H=H.delete(G),B=B.delete(G)))}),this.query.limit!==null)for(;H.size>this.query.limit;){const G=this.query.limitType==="F"?H.last():H.first();H=H.delete(G.key),B=B.delete(G.key),N.track({type:1,doc:G})}return{Ra:H,fa:N,ns:z,mutatedKeys:B}}ga($,I){return $.hasLocalMutations&&I.hasCommittedMutations&&!I.hasLocalMutations}applyChanges($,I,N,L){const B=this.Ra;this.Ra=$.Ra,this.mutatedKeys=$.mutatedKeys;const H=$.fa.G_();H.sort((G,ie)=>function($e,Pe){const Me=Be=>{switch(Be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return Me($e)-Me(Pe)}(G.type,ie.type)||this.Aa(G.doc,ie.doc)),this.pa(N),L=L!=null&&L;const z=I&&!L?this.ya():[],Q=this.da.size===0&&this.current&&!L?1:0,te=Q!==this.Ea;return this.Ea=Q,H.length!==0||te?{snapshot:new ViewSnapshot(this.query,$.Ra,B,H,$.mutatedKeys,Q===0,te,!1,!!N&&N.resumeToken.approximateByteSize()>0),wa:z}:{wa:z}}Z_($){return this.current&&$==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa($){return!this.Ta.has($)&&!!this.Ra.has($)&&!this.Ra.get($).hasLocalMutations}pa($){$&&($.addedDocuments.forEach(I=>this.Ta=this.Ta.add(I)),$.modifiedDocuments.forEach(I=>{}),$.removedDocuments.forEach(I=>this.Ta=this.Ta.delete(I)),this.current=$.current)}ya(){if(!this.current)return[];const $=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(N=>{this.Sa(N.key)&&(this.da=this.da.add(N.key))});const I=[];return $.forEach(N=>{this.da.has(N)||I.push(new __PRIVATE_RemovedLimboDocument(N))}),this.da.forEach(N=>{$.has(N)||I.push(new __PRIVATE_AddedLimboDocument(N))}),I}ba($){this.Ta=$.Ts,this.da=__PRIVATE_documentKeySet();const I=this.ma($.documents);return this.applyChanges(I,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor($,I,N){this.query=$,this.targetId=I,this.view=N}}class LimboResolution{constructor($){this.key=$,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor($,I,N,L,B,H){this.localStore=$,this.remoteStore=I,this.eventManager=N,this.sharedClientState=L,this.currentUser=B,this.maxConcurrentLimboResolutions=H,this.Ca={},this.Fa=new ObjectMap(z=>__PRIVATE_canonifyQuery(z),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(T,$,I=!0){const N=__PRIVATE_ensureWatchCallbacks(T);let L;const B=N.Fa.get($);return B?(N.sharedClientState.addLocalQueryTarget(B.targetId),L=B.view.Da()):L=await __PRIVATE_allocateTargetAndMaybeListen(N,$,I,!0),L}async function __PRIVATE_triggerRemoteStoreListen(T,$){const I=__PRIVATE_ensureWatchCallbacks(T);await __PRIVATE_allocateTargetAndMaybeListen(I,$,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(T,$,I,N){const L=await __PRIVATE_localStoreAllocateTarget(T.localStore,__PRIVATE_queryToTarget($)),B=L.targetId,H=T.sharedClientState.addLocalQueryTarget(B,I);let z;return N&&(z=await __PRIVATE_initializeViewAndComputeSnapshot(T,$,B,H==="current",L.resumeToken)),T.isPrimaryClient&&I&&__PRIVATE_remoteStoreListen(T.remoteStore,L),z}async function __PRIVATE_initializeViewAndComputeSnapshot(T,$,I,N,L){T.Ka=(ie,Re,$e)=>async function(Me,Be,Ke,Le){let qe=Be.view.ma(Ke);qe.ns&&(qe=await __PRIVATE_localStoreExecuteQuery(Me.localStore,Be.query,!1).then(({documents:ot})=>Be.view.ma(ot,qe)));const He=Le&&Le.targetChanges.get(Be.targetId),Ge=Le&&Le.targetMismatches.get(Be.targetId)!=null,at=Be.view.applyChanges(qe,Me.isPrimaryClient,He,Ge);return __PRIVATE_updateTrackedLimbos(Me,Be.targetId,at.wa),at.snapshot}(T,ie,Re,$e);const B=await __PRIVATE_localStoreExecuteQuery(T.localStore,$,!0),H=new __PRIVATE_View($,B.Ts),z=H.ma(B.documents),Q=TargetChange.createSynthesizedTargetChangeForCurrentChange(I,N&&T.onlineState!=="Offline",L),te=H.applyChanges(z,T.isPrimaryClient,Q);__PRIVATE_updateTrackedLimbos(T,I,te.wa);const G=new __PRIVATE_QueryView($,I,H);return T.Fa.set($,G),T.Ma.has(I)?T.Ma.get(I).push($):T.Ma.set(I,[$]),te.snapshot}async function __PRIVATE_syncEngineUnlisten(T,$,I){const N=__PRIVATE_debugCast(T),L=N.Fa.get($),B=N.Ma.get(L.targetId);if(B.length>1)return N.Ma.set(L.targetId,B.filter(H=>!__PRIVATE_queryEquals(H,$))),void N.Fa.delete($);N.isPrimaryClient?(N.sharedClientState.removeLocalQueryTarget(L.targetId),N.sharedClientState.isActiveQueryTarget(L.targetId)||await __PRIVATE_localStoreReleaseTarget(N.localStore,L.targetId,!1).then(()=>{N.sharedClientState.clearQueryState(L.targetId),I&&__PRIVATE_remoteStoreUnlisten(N.remoteStore,L.targetId),__PRIVATE_removeAndCleanupTarget(N,L.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(N,L.targetId),await __PRIVATE_localStoreReleaseTarget(N.localStore,L.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(T,$){const I=__PRIVATE_debugCast(T),N=I.Fa.get($),L=I.Ma.get(N.targetId);I.isPrimaryClient&&L.length===1&&(I.sharedClientState.removeLocalQueryTarget(N.targetId),__PRIVATE_remoteStoreUnlisten(I.remoteStore,N.targetId))}async function __PRIVATE_syncEngineWrite(T,$,I){const N=__PRIVATE_syncEngineEnsureWriteCallbacks(T);try{const L=await function(H,z){const Q=__PRIVATE_debugCast(H),te=Timestamp.now(),G=z.reduce(($e,Pe)=>$e.add(Pe.key),__PRIVATE_documentKeySet());let ie,Re;return Q.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let Pe=__PRIVATE_mutableDocumentMap(),Me=__PRIVATE_documentKeySet();return Q.cs.getEntries($e,G).next(Be=>{Pe=Be,Pe.forEach((Ke,Le)=>{Le.isValidDocument()||(Me=Me.add(Ke))})}).next(()=>Q.localDocuments.getOverlayedDocuments($e,Pe)).next(Be=>{ie=Be;const Ke=[];for(const Le of z){const qe=__PRIVATE_mutationExtractBaseValue(Le,ie.get(Le.key).overlayedDocument);qe!=null&&Ke.push(new __PRIVATE_PatchMutation(Le.key,qe,__PRIVATE_extractFieldMask(qe.value.mapValue),Precondition.exists(!0)))}return Q.mutationQueue.addMutationBatch($e,te,Ke,z)}).next(Be=>{Re=Be;const Ke=Be.applyToLocalDocumentSet(ie,Me);return Q.documentOverlayCache.saveOverlays($e,Be.batchId,Ke)})}).then(()=>({batchId:Re.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ie)}))}(N.localStore,$);N.sharedClientState.addPendingMutation(L.batchId),function(H,z,Q){let te=H.Ba[H.currentUser.toKey()];te||(te=new SortedMap(__PRIVATE_primitiveComparator)),te=te.insert(z,Q),H.Ba[H.currentUser.toKey()]=te}(N,L.batchId,I),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(N,L.changes),await __PRIVATE_fillWritePipeline(N.remoteStore)}catch(L){const B=__PRIVATE_wrapInUserErrorIfRecoverable(L,"Failed to persist write");I.reject(B)}}async function __PRIVATE_syncEngineApplyRemoteEvent(T,$){const I=__PRIVATE_debugCast(T);try{const N=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(I.localStore,$);$.targetChanges.forEach((L,B)=>{const H=I.Na.get(B);H&&(__PRIVATE_hardAssert(L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size<=1),L.addedDocuments.size>0?H.va=!0:L.modifiedDocuments.size>0?__PRIVATE_hardAssert(H.va):L.removedDocuments.size>0&&(__PRIVATE_hardAssert(H.va),H.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(I,N,$)}catch(N){await __PRIVATE_ignoreIfPrimaryLeaseLoss(N)}}function __PRIVATE_syncEngineApplyOnlineStateChange(T,$,I){const N=__PRIVATE_debugCast(T);if(N.isPrimaryClient&&I===0||!N.isPrimaryClient&&I===1){const L=[];N.Fa.forEach((B,H)=>{const z=H.view.Z_($);z.snapshot&&L.push(z.snapshot)}),function(H,z){const Q=__PRIVATE_debugCast(H);Q.onlineState=z;let te=!1;Q.queries.forEach((G,ie)=>{for(const Re of ie.j_)Re.Z_(z)&&(te=!0)}),te&&__PRIVATE_raiseSnapshotsInSyncEvent(Q)}(N.eventManager,$),L.length&&N.Ca.d_(L),N.onlineState=$,N.isPrimaryClient&&N.sharedClientState.setOnlineState($)}}async function __PRIVATE_syncEngineRejectListen(T,$,I){const N=__PRIVATE_debugCast(T);N.sharedClientState.updateQueryState($,"rejected",I);const L=N.Na.get($),B=L&&L.key;if(B){let H=new SortedMap(DocumentKey.comparator);H=H.insert(B,MutableDocument.newNoDocument(B,SnapshotVersion.min()));const z=__PRIVATE_documentKeySet().add(B),Q=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),H,z);await __PRIVATE_syncEngineApplyRemoteEvent(N,Q),N.Oa=N.Oa.remove(B),N.Na.delete($),__PRIVATE_pumpEnqueuedLimboResolutions(N)}else await __PRIVATE_localStoreReleaseTarget(N.localStore,$,!1).then(()=>__PRIVATE_removeAndCleanupTarget(N,$,I)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(T,$){const I=__PRIVATE_debugCast(T),N=$.batch.batchId;try{const L=await __PRIVATE_localStoreAcknowledgeBatch(I.localStore,$);__PRIVATE_processUserCallback(I,N,null),__PRIVATE_triggerPendingWritesCallbacks(I,N),I.sharedClientState.updateMutationState(N,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(I,L)}catch(L){await __PRIVATE_ignoreIfPrimaryLeaseLoss(L)}}async function __PRIVATE_syncEngineRejectFailedWrite(T,$,I){const N=__PRIVATE_debugCast(T);try{const L=await function(H,z){const Q=__PRIVATE_debugCast(H);return Q.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let G;return Q.mutationQueue.lookupMutationBatch(te,z).next(ie=>(__PRIVATE_hardAssert(ie!==null),G=ie.keys(),Q.mutationQueue.removeMutationBatch(te,ie))).next(()=>Q.mutationQueue.performConsistencyCheck(te)).next(()=>Q.documentOverlayCache.removeOverlaysForBatchId(te,G,z)).next(()=>Q.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(te,G)).next(()=>Q.localDocuments.getDocuments(te,G))})}(N.localStore,$);__PRIVATE_processUserCallback(N,$,I),__PRIVATE_triggerPendingWritesCallbacks(N,$),N.sharedClientState.updateMutationState($,"rejected",I),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(N,L)}catch(L){await __PRIVATE_ignoreIfPrimaryLeaseLoss(L)}}function __PRIVATE_triggerPendingWritesCallbacks(T,$){(T.ka.get($)||[]).forEach(I=>{I.resolve()}),T.ka.delete($)}function __PRIVATE_processUserCallback(T,$,I){const N=__PRIVATE_debugCast(T);let L=N.Ba[N.currentUser.toKey()];if(L){const B=L.get($);B&&(I?B.reject(I):B.resolve(),L=L.remove($)),N.Ba[N.currentUser.toKey()]=L}}function __PRIVATE_removeAndCleanupTarget(T,$,I=null){T.sharedClientState.removeLocalQueryTarget($);for(const N of T.Ma.get($))T.Fa.delete(N),I&&T.Ca.$a(N,I);T.Ma.delete($),T.isPrimaryClient&&T.La.gr($).forEach(N=>{T.La.containsKey(N)||__PRIVATE_removeLimboTarget(T,N)})}function __PRIVATE_removeLimboTarget(T,$){T.xa.delete($.path.canonicalString());const I=T.Oa.get($);I!==null&&(__PRIVATE_remoteStoreUnlisten(T.remoteStore,I),T.Oa=T.Oa.remove($),T.Na.delete(I),__PRIVATE_pumpEnqueuedLimboResolutions(T))}function __PRIVATE_updateTrackedLimbos(T,$,I){for(const N of I)N instanceof __PRIVATE_AddedLimboDocument?(T.La.addReference(N.key,$),__PRIVATE_trackLimboChange(T,N)):N instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+N.key),T.La.removeReference(N.key,$),T.La.containsKey(N.key)||__PRIVATE_removeLimboTarget(T,N.key)):fail()}function __PRIVATE_trackLimboChange(T,$){const I=$.key,N=I.path.canonicalString();T.Oa.get(I)||T.xa.has(N)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+I),T.xa.add(N),__PRIVATE_pumpEnqueuedLimboResolutions(T))}function __PRIVATE_pumpEnqueuedLimboResolutions(T){for(;T.xa.size>0&&T.Oa.size<T.maxConcurrentLimboResolutions;){const $=T.xa.values().next().value;T.xa.delete($);const I=new DocumentKey(ResourcePath.fromString($)),N=T.qa.next();T.Na.set(N,new LimboResolution(I)),T.Oa=T.Oa.insert(I,N),__PRIVATE_remoteStoreListen(T.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(I.path)),N,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(T,$,I){const N=__PRIVATE_debugCast(T),L=[],B=[],H=[];N.Fa.isEmpty()||(N.Fa.forEach((z,Q)=>{H.push(N.Ka(Q,$,I).then(te=>{var G;if((te||I)&&N.isPrimaryClient){const ie=te?!te.fromCache:(G=I==null?void 0:I.targetChanges.get(Q.targetId))===null||G===void 0?void 0:G.current;N.sharedClientState.updateQueryState(Q.targetId,ie?"current":"not-current")}if(te){L.push(te);const ie=__PRIVATE_LocalViewChanges.Wi(Q.targetId,te);B.push(ie)}}))}),await Promise.all(H),N.Ca.d_(L),await async function(Q,te){const G=__PRIVATE_debugCast(Q);try{await G.persistence.runTransaction("notifyLocalViewChanges","readwrite",ie=>PersistencePromise.forEach(te,Re=>PersistencePromise.forEach(Re.$i,$e=>G.persistence.referenceDelegate.addReference(ie,Re.targetId,$e)).next(()=>PersistencePromise.forEach(Re.Ui,$e=>G.persistence.referenceDelegate.removeReference(ie,Re.targetId,$e)))))}catch(ie){if(!__PRIVATE_isIndexedDbTransactionError(ie))throw ie;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+ie)}for(const ie of te){const Re=ie.targetId;if(!ie.fromCache){const $e=G.os.get(Re),Pe=$e.snapshotVersion,Me=$e.withLastLimboFreeSnapshotVersion(Pe);G.os=G.os.insert(Re,Me)}}}(N.localStore,B))}async function __PRIVATE_syncEngineHandleCredentialChange(T,$){const I=__PRIVATE_debugCast(T);if(!I.currentUser.isEqual($)){__PRIVATE_logDebug("SyncEngine","User change. New user:",$.toKey());const N=await __PRIVATE_localStoreHandleUserChange(I.localStore,$);I.currentUser=$,function(B,H){B.ka.forEach(z=>{z.forEach(Q=>{Q.reject(new FirestoreError(D.CANCELLED,H))})}),B.ka.clear()}(I,"'waitForPendingWrites' promise is rejected due to a user change."),I.sharedClientState.handleUserChange($,N.removedBatchIds,N.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(I,N.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(T,$){const I=__PRIVATE_debugCast(T),N=I.Na.get($);if(N&&N.va)return __PRIVATE_documentKeySet().add(N.key);{let L=__PRIVATE_documentKeySet();const B=I.Ma.get($);if(!B)return L;for(const H of B){const z=I.Fa.get(H);L=L.unionWith(z.view.Va)}return L}}function __PRIVATE_ensureWatchCallbacks(T){const $=__PRIVATE_debugCast(T);return $.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,$),$.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,$),$.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,$),$.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,$.eventManager),$.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,$.eventManager),$}function __PRIVATE_syncEngineEnsureWriteCallbacks(T){const $=__PRIVATE_debugCast(T);return $.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,$),$.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,$),$}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize($){this.serializer=__PRIVATE_newSerializer($.databaseInfo.databaseId),this.sharedClientState=this.Wa($),this.persistence=this.Ga($),await this.persistence.start(),this.localStore=this.za($),this.gcScheduler=this.ja($,this.localStore),this.indexBackfillerScheduler=this.Ha($,this.localStore)}ja($,I){return null}Ha($,I){return null}za($){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,$.initialUser,this.serializer)}Ga($){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa($){return new __PRIVATE_MemorySharedClientState}async terminate(){var $,I;($=this.gcScheduler)===null||$===void 0||$.stop(),(I=this.indexBackfillerScheduler)===null||I===void 0||I.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize($,I){this.localStore||(this.localStore=$.localStore,this.sharedClientState=$.sharedClientState,this.datastore=this.createDatastore(I),this.remoteStore=this.createRemoteStore(I),this.eventManager=this.createEventManager(I),this.syncEngine=this.createSyncEngine(I,!$.synchronizeTabs),this.sharedClientState.onlineStateHandler=N=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,N,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager($){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore($){const I=__PRIVATE_newSerializer($.databaseInfo.databaseId),N=function(B){return new __PRIVATE_WebChannelConnection(B)}($.databaseInfo);return function(B,H,z,Q){return new __PRIVATE_DatastoreImpl(B,H,z,Q)}($.authCredentials,$.appCheckCredentials,N,I)}createRemoteStore($){return function(N,L,B,H,z){return new __PRIVATE_RemoteStoreImpl(N,L,B,H,z)}(this.localStore,this.datastore,$.asyncQueue,I=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,I,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine($,I){return function(L,B,H,z,Q,te,G){const ie=new __PRIVATE_SyncEngineImpl(L,B,H,z,Q,te);return G&&(ie.Qa=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,$.initialUser,$.maxConcurrentLimboResolutions,I)}async terminate(){var $,I;await async function(L){const B=__PRIVATE_debugCast(L);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),B.L_.add(5),await __PRIVATE_disableNetworkInternal(B),B.k_.shutdown(),B.q_.set("Unknown")}(this.remoteStore),($=this.datastore)===null||$===void 0||$.terminate(),(I=this.eventManager)===null||I===void 0||I.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor($){this.observer=$,this.muted=!1}next($){this.muted||this.observer.next&&this.Ya(this.observer.next,$)}error($){this.muted||(this.observer.error?this.Ya(this.observer.error,$):__PRIVATE_logError("Uncaught Error in snapshot listener:",$.toString()))}Za(){this.muted=!0}Ya($,I){setTimeout(()=>{this.muted||$(I)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Transaction$2{constructor($){this.datastore=$,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup($){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new FirestoreError(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const I=await async function(L,B){const H=__PRIVATE_debugCast(L),z={documents:B.map(ie=>__PRIVATE_toName(H.serializer,ie))},Q=await H.Lo("BatchGetDocuments",H.serializer.databaseId,ResourcePath.emptyPath(),z,B.length),te=new Map;Q.forEach(ie=>{const Re=__PRIVATE_fromBatchGetDocumentsResponse(H.serializer,ie);te.set(Re.key.toString(),Re)});const G=[];return B.forEach(ie=>{const Re=te.get(ie.toString());__PRIVATE_hardAssert(!!Re),G.push(Re)}),G}(this.datastore,$);return I.forEach(N=>this.recordVersion(N)),I}set($,I){this.write(I.toMutation($,this.precondition($))),this.writtenDocs.add($.toString())}update($,I){try{this.write(I.toMutation($,this.preconditionForUpdate($)))}catch(N){this.lastTransactionError=N}this.writtenDocs.add($.toString())}delete($){this.write(new __PRIVATE_DeleteMutation($,this.precondition($))),this.writtenDocs.add($.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const $=this.readVersions;this.mutations.forEach(I=>{$.delete(I.key.toString())}),$.forEach((I,N)=>{const L=DocumentKey.fromPath(N);this.mutations.push(new __PRIVATE_VerifyMutation(L,this.precondition(L)))}),await async function(N,L){const B=__PRIVATE_debugCast(N),H={writes:L.map(z=>toMutation(B.serializer,z))};await B.Mo("Commit",B.serializer.databaseId,ResourcePath.emptyPath(),H)}(this.datastore,this.mutations),this.committed=!0}recordVersion($){let I;if($.isFoundDocument())I=$.version;else{if(!$.isNoDocument())throw fail();I=SnapshotVersion.min()}const N=this.readVersions.get($.key.toString());if(N){if(!I.isEqual(N))throw new FirestoreError(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set($.key.toString(),I)}precondition($){const I=this.readVersions.get($.toString());return!this.writtenDocs.has($.toString())&&I?I.isEqual(SnapshotVersion.min())?Precondition.exists(!1):Precondition.updateTime(I):Precondition.none()}preconditionForUpdate($){const I=this.readVersions.get($.toString());if(!this.writtenDocs.has($.toString())&&I){if(I.isEqual(SnapshotVersion.min()))throw new FirestoreError(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Precondition.updateTime(I)}return Precondition.exists(!0)}write($){this.ensureCommitNotCalled(),this.mutations.push($)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TransactionRunner{constructor($,I,N,L,B){this.asyncQueue=$,this.datastore=I,this.options=N,this.updateFunction=L,this.deferred=B,this._u=N.maxAttempts,this.t_=new __PRIVATE_ExponentialBackoff(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const $=new Transaction$2(this.datastore),I=this.cu($);I&&I.then(N=>{this.asyncQueue.enqueueAndForget(()=>$.commit().then(()=>{this.deferred.resolve(N)}).catch(L=>{this.lu(L)}))}).catch(N=>{this.lu(N)})})}cu($){try{const I=this.updateFunction($);return!__PRIVATE_isNullOrUndefined(I)&&I.catch&&I.then?I:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(I){return this.deferred.reject(I),null}}lu($){this._u>0&&this.hu($)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject($)}hu($){if($.name==="FirebaseError"){const I=$.code;return I==="aborted"||I==="failed-precondition"||I==="already-exists"||!__PRIVATE_isPermanentError(I)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor($,I,N,L,B){this.authCredentials=$,this.appCheckCredentials=I,this.asyncQueue=N,this.databaseInfo=L,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=B,this.authCredentials.start(N,async H=>{__PRIVATE_logDebug("FirestoreClient","Received user=",H.uid),await this.authCredentialListener(H),this.user=H}),this.appCheckCredentials.start(N,H=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",H),this.appCheckCredentialListener(H,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener($){this.authCredentialListener=$}setAppCheckTokenChangeListener($){this.appCheckCredentialListener=$}terminate(){this.asyncQueue.enterRestrictedMode();const $=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),$.resolve()}catch(I){const N=__PRIVATE_wrapInUserErrorIfRecoverable(I,"Failed to shutdown persistence");$.reject(N)}}),$.promise}}async function __PRIVATE_setOfflineComponentProvider(T,$){T.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const I=T.configuration;await $.initialize(I);let N=I.initialUser;T.setCredentialChangeListener(async L=>{N.isEqual(L)||(await __PRIVATE_localStoreHandleUserChange($.localStore,L),N=L)}),$.persistence.setDatabaseDeletedListener(()=>T.terminate()),T._offlineComponents=$}async function __PRIVATE_setOnlineComponentProvider(T,$){T.asyncQueue.verifyOperationInProgress();const I=await __PRIVATE_ensureOfflineComponents(T);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await $.initialize(I,T.configuration),T.setCredentialChangeListener(N=>__PRIVATE_remoteStoreHandleCredentialChange($.remoteStore,N)),T.setAppCheckTokenChangeListener((N,L)=>__PRIVATE_remoteStoreHandleCredentialChange($.remoteStore,L)),T._onlineComponents=$}async function __PRIVATE_ensureOfflineComponents(T){if(!T._offlineComponents)if(T._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(T,T._uninitializedComponentsProvider._offline)}catch($){const I=$;if(!function(L){return L.name==="FirebaseError"?L.code===D.FAILED_PRECONDITION||L.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&L instanceof DOMException)||L.code===22||L.code===20||L.code===11}(I))throw I;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+I),await __PRIVATE_setOfflineComponentProvider(T,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(T,new __PRIVATE_MemoryOfflineComponentProvider);return T._offlineComponents}async function __PRIVATE_ensureOnlineComponents(T){return T._onlineComponents||(T._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(T,T._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(T,new OnlineComponentProvider))),T._onlineComponents}function __PRIVATE_getSyncEngine(T){return __PRIVATE_ensureOnlineComponents(T).then($=>$.syncEngine)}function __PRIVATE_getDatastore(T){return __PRIVATE_ensureOnlineComponents(T).then($=>$.datastore)}async function __PRIVATE_getEventManager(T){const $=await __PRIVATE_ensureOnlineComponents(T),I=$.eventManager;return I.onListen=__PRIVATE_syncEngineListen.bind(null,$.syncEngine),I.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,$.syncEngine),I.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,$.syncEngine),I.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,$.syncEngine),I}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(T,$,I={}){const N=new __PRIVATE_Deferred;return T.asyncQueue.enqueueAndForget(async()=>function(B,H,z,Q,te){const G=new __PRIVATE_AsyncObserver({next:Re=>{G.Za(),H.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(B,ie));const $e=Re.docs.has(z);!$e&&Re.fromCache?te.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&Re.fromCache&&Q&&Q.source==="server"?te.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(Re)},error:Re=>te.reject(Re)}),ie=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(z.path),G,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(B,ie)}(await __PRIVATE_getEventManager(T),T.asyncQueue,$,I,N)),N.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(T,$,I={}){const N=new __PRIVATE_Deferred;return T.asyncQueue.enqueueAndForget(async()=>function(B,H,z,Q,te){const G=new __PRIVATE_AsyncObserver({next:Re=>{G.Za(),H.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(B,ie)),Re.fromCache&&Q.source==="server"?te.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(Re)},error:Re=>te.reject(Re)}),ie=new __PRIVATE_QueryListener(z,G,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(B,ie)}(await __PRIVATE_getEventManager(T),T.asyncQueue,$,I,N)),N.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(T){const $={};return T.timeoutSeconds!==void 0&&($.timeoutSeconds=T.timeoutSeconds),$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(T,$,I){if(!I)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${T}() cannot be called with an empty ${$}.`)}function __PRIVATE_validateIsNotUsedTogether(T,$,I,N){if($===!0&&N===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${T} and ${I} cannot be used together.`)}function __PRIVATE_validateDocumentPath(T){if(!DocumentKey.isDocumentKey(T))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${T} has ${T.length}.`)}function __PRIVATE_validateCollectionPath(T){if(DocumentKey.isDocumentKey(T))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${T} has ${T.length}.`)}function __PRIVATE_valueDescription(T){if(T===void 0)return"undefined";if(T===null)return"null";if(typeof T=="string")return T.length>20&&(T=`${T.substring(0,20)}...`),JSON.stringify(T);if(typeof T=="number"||typeof T=="boolean")return""+T;if(typeof T=="object"){if(T instanceof Array)return"an array";{const $=function(N){return N.constructor?N.constructor.name:null}(T);return $?`a custom ${$} object`:"an object"}}return typeof T=="function"?"a function":fail()}function __PRIVATE_cast(T,$){if("_delegate"in T&&(T=T._delegate),!(T instanceof $)){if($.name===T.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const I=__PRIVATE_valueDescription(T);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${$.name}', but it was: ${I}`)}}return T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor($){var I,N;if($.host===void 0){if($.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=$.host,this.ssl=(I=$.ssl)===null||I===void 0||I;if(this.credentials=$.credentials,this.ignoreUndefinedProperties=!!$.ignoreUndefinedProperties,this.localCache=$.localCache,$.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if($.cacheSizeBytes!==-1&&$.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=$.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",$.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",$.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!$.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:$.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!$.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((N=$.experimentalLongPollingOptions)!==null&&N!==void 0?N:{}),function(B){if(B.timeoutSeconds!==void 0){if(isNaN(B.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${B.timeoutSeconds} (must not be NaN)`);if(B.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${B.timeoutSeconds} (minimum allowed value is 5)`);if(B.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${B.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!$.useFetchStreams}isEqual($){return this.host===$.host&&this.ssl===$.ssl&&this.credentials===$.credentials&&this.cacheSizeBytes===$.cacheSizeBytes&&this.experimentalForceLongPolling===$.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===$.experimentalAutoDetectLongPolling&&function(N,L){return N.timeoutSeconds===L.timeoutSeconds}(this.experimentalLongPollingOptions,$.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===$.ignoreUndefinedProperties&&this.useFetchStreams===$.useFetchStreams}}class Firestore$1{constructor($,I,N,L){this._authCredentials=$,this._appCheckCredentials=I,this._databaseId=N,this._app=L,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings($){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl($),$.credentials!==void 0&&(this._authCredentials=function(N){if(!N)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(N.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(N.sessionIndex||"0",N.iamToken||null,N.authTokenFactory||null);case"provider":return N.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}($.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(I){const N=we.get(I);N&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(I),N.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(T,$,I,N={}){var L;const B=(T=__PRIVATE_cast(T,Firestore$1))._getSettings(),H=`${$}:${I}`;if(B.host!=="firestore.googleapis.com"&&B.host!==H&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),T._setSettings(Object.assign(Object.assign({},B),{host:H,ssl:!1})),N.mockUserToken){let z,Q;if(typeof N.mockUserToken=="string")z=N.mockUserToken,Q=User.MOCK_USER;else{z=createMockUserToken(N.mockUserToken,(L=T._app)===null||L===void 0?void 0:L.options.projectId);const te=N.mockUserToken.sub||N.mockUserToken.user_id;if(!te)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Q=new User(te)}T._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(z,Q))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor($,I,N){this.converter=I,this._query=N,this.type="query",this.firestore=$}withConverter($){return new Query(this.firestore,$,this._query)}}class DocumentReference{constructor($,I,N){this.converter=I,this._key=N,this.type="document",this.firestore=$}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter($){return new DocumentReference(this.firestore,$,this._key)}}class CollectionReference extends Query{constructor($,I,N){super($,I,__PRIVATE_newQueryForPath(N)),this._path=N,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const $=this._path.popLast();return $.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey($))}withConverter($){return new CollectionReference(this.firestore,$,this._path)}}function collection(T,$,...I){if(T=getModularInstance(T),__PRIVATE_validateNonEmptyArgument("collection","path",$),T instanceof Firestore$1){const N=ResourcePath.fromString($,...I);return __PRIVATE_validateCollectionPath(N),new CollectionReference(T,null,N)}{if(!(T instanceof DocumentReference||T instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const N=T._path.child(ResourcePath.fromString($,...I));return __PRIVATE_validateCollectionPath(N),new CollectionReference(T.firestore,null,N)}}function doc(T,$,...I){if(T=getModularInstance(T),arguments.length===1&&($=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",$),T instanceof Firestore$1){const N=ResourcePath.fromString($,...I);return __PRIVATE_validateDocumentPath(N),new DocumentReference(T,null,new DocumentKey(N))}{if(!(T instanceof DocumentReference||T instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const N=T._path.child(ResourcePath.fromString($,...I));return __PRIVATE_validateDocumentPath(N),new DocumentReference(T.firestore,T instanceof CollectionReference?T.converter:null,new DocumentKey(N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor($=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const N=getDocument();N&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+N.visibilityState),this.t_.jo()},this.mu=$;const I=getDocument();I&&typeof I.addEventListener=="function"&&I.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget($){this.enqueue($)}enqueueAndForgetEvenWhileRestricted($){this.fu(),this.gu($)}enterRestrictedMode($){if(!this.Iu){this.Iu=!0,this.Au=$||!1;const I=getDocument();I&&typeof I.removeEventListener=="function"&&I.removeEventListener("visibilitychange",this.Vu)}}enqueue($){if(this.fu(),this.Iu)return new Promise(()=>{});const I=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():($().then(I.resolve,I.reject),I.promise)).then(()=>I.promise)}enqueueRetryable($){this.enqueueAndForget(()=>(this.Pu.push($),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch($){if(!__PRIVATE_isIndexedDbTransactionError($))throw $;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+$)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu($){const I=this.mu.then(()=>(this.du=!0,$().catch(N=>{this.Eu=N,this.du=!1;const L=function(H){let z=H.message||"";return H.stack&&(z=H.stack.includes(H.message)?H.stack:H.message+`
`+H.stack),z}(N);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",L),N}).then(N=>(this.du=!1,N))));return this.mu=I,I}enqueueAfterDelay($,I,N){this.fu(),this.Ru.indexOf($)>-1&&(I=0);const L=DelayedOperation.createAndSchedule(this,$,I,N,B=>this.yu(B));return this.Tu.push(L),L}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let $;do $=this.mu,await $;while($!==this.mu)}Su($){for(const I of this.Tu)if(I.timerId===$)return!0;return!1}bu($){return this.wu().then(()=>{this.Tu.sort((I,N)=>I.targetTimeMs-N.targetTimeMs);for(const I of this.Tu)if(I.skipDelay(),$!=="all"&&I.timerId===$)break;return this.wu()})}Du($){this.Ru.push($)}yu($){const I=this.Tu.indexOf($);this.Tu.splice(I,1)}}class Firestore extends Firestore$1{constructor($,I,N,L){super($,I,N,L),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(L==null?void 0:L.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const $=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl($),this._firestoreClient=void 0,await $}}}function getFirestore(T,$){const I=typeof T=="object"?T:getApp(),N=typeof T=="string"?T:"(default)",L=_getProvider(I,"firestore").getImmediate({identifier:N});if(!L._initialized){const B=getDefaultEmulatorHostnameAndPort("firestore");B&&connectFirestoreEmulator(L,...B)}return L}function ensureFirestoreConfigured(T){if(T._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.");return T._firestoreClient||__PRIVATE_configureFirestore(T),T._firestoreClient}function __PRIVATE_configureFirestore(T){var $,I,N;const L=T._freezeSettings(),B=function(z,Q,te,G){return new DatabaseInfo(z,Q,te,G.host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(G.experimentalLongPollingOptions),G.useFetchStreams)}(T._databaseId,(($=T._app)===null||$===void 0?void 0:$.options.appId)||"",T._persistenceKey,L);T._componentsProvider||!((I=L.localCache)===null||I===void 0)&&I._offlineComponentProvider&&(!((N=L.localCache)===null||N===void 0)&&N._onlineComponentProvider)&&(T._componentsProvider={_offline:L.localCache._offlineComponentProvider,_online:L.localCache._onlineComponentProvider}),T._firestoreClient=new FirestoreClient(T._authCredentials,T._appCheckCredentials,T._queue,B,T._componentsProvider&&function(z){const Q=z==null?void 0:z._online.build();return{_offline:z==null?void 0:z._offline.build(Q),_online:Q}}(T._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor($){this._byteString=$}static fromBase64String($){try{return new Bytes(ByteString.fromBase64String($))}catch(I){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+I)}}static fromUint8Array($){return new Bytes(ByteString.fromUint8Array($))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual($){return this._byteString.isEqual($._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...$){for(let I=0;I<$.length;++I)if($[I].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1($)}isEqual($){return this._internalPath.isEqual($._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor($){this._methodName=$}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor($,I){if(!isFinite($)||$<-90||$>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+$);if(!isFinite(I)||I<-180||I>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+I);this._lat=$,this._long=I}get latitude(){return this._lat}get longitude(){return this._long}isEqual($){return this._lat===$._lat&&this._long===$._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo($){return __PRIVATE_primitiveComparator(this._lat,$._lat)||__PRIVATE_primitiveComparator(this._long,$._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor($){this._values=($||[]).map(I=>I)}toArray(){return this._values.map($=>$)}isEqual($){return function(N,L){if(N.length!==L.length)return!1;for(let B=0;B<N.length;++B)if(N[B]!==L[B])return!1;return!0}(this._values,$._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=/^__.*__$/;class ParsedSetData{constructor($,I,N){this.data=$,this.fieldMask=I,this.fieldTransforms=N}toMutation($,I){return this.fieldMask!==null?new __PRIVATE_PatchMutation($,this.data,this.fieldMask,I,this.fieldTransforms):new __PRIVATE_SetMutation($,this.data,I,this.fieldTransforms)}}class ParsedUpdateData{constructor($,I,N){this.data=$,this.fieldMask=I,this.fieldTransforms=N}toMutation($,I){return new __PRIVATE_PatchMutation($,this.data,this.fieldMask,I,this.fieldTransforms)}}function __PRIVATE_isWrite(T){switch(T){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor($,I,N,L,B,H){this.settings=$,this.databaseId=I,this.serializer=N,this.ignoreUndefinedProperties=L,B===void 0&&this.vu(),this.fieldTransforms=B||[],this.fieldMask=H||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu($){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),$),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu($){var I;const N=(I=this.path)===null||I===void 0?void 0:I.child($),L=this.Fu({path:N,xu:!1});return L.Ou($),L}Nu($){var I;const N=(I=this.path)===null||I===void 0?void 0:I.child($),L=this.Fu({path:N,xu:!1});return L.vu(),L}Lu($){return this.Fu({path:void 0,xu:!0})}Bu($){return __PRIVATE_createError($,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains($){return this.fieldMask.find(I=>$.isPrefixOf(I))!==void 0||this.fieldTransforms.find(I=>$.isPrefixOf(I.field))!==void 0}vu(){if(this.path)for(let $=0;$<this.path.length;$++)this.Ou(this.path.get($))}Ou($){if($.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be.test($))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor($,I,N){this.databaseId=$,this.ignoreUndefinedProperties=I,this.serializer=N||__PRIVATE_newSerializer($)}Qu($,I,N,L=!1){return new __PRIVATE_ParseContextImpl({Cu:$,methodName:I,qu:N,path:FieldPath$1.emptyPath(),xu:!1,ku:L},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(T){const $=T._freezeSettings(),I=__PRIVATE_newSerializer(T._databaseId);return new __PRIVATE_UserDataReader(T._databaseId,!!$.ignoreUndefinedProperties,I)}function __PRIVATE_parseSetData(T,$,I,N,L,B={}){const H=T.Qu(B.merge||B.mergeFields?2:0,$,I,L);__PRIVATE_validatePlainObject("Data must be an object, but it was:",H,N);const z=__PRIVATE_parseObject(N,H);let Q,te;if(B.merge)Q=new FieldMask(H.fieldMask),te=H.fieldTransforms;else if(B.mergeFields){const G=[];for(const ie of B.mergeFields){const Re=__PRIVATE_fieldPathFromArgument$1($,ie,I);if(!H.contains(Re))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(G,Re)||G.push(Re)}Q=new FieldMask(G),te=H.fieldTransforms.filter(ie=>Q.covers(ie.field))}else Q=null,te=H.fieldTransforms;return new ParsedSetData(new ObjectValue(z),Q,te)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform($){if($.Cu!==2)throw $.Cu===1?$.Bu(`${this._methodName}() can only appear at the top level of your update data`):$.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return $.fieldMask.push($.path),null}isEqual($){return $ instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_createSentinelChildContext(T,$,I){return new __PRIVATE_ParseContextImpl({Cu:3,qu:$.settings.qu,methodName:T._methodName,xu:I},$.databaseId,$.serializer,$.ignoreUndefinedProperties)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform($){return new FieldTransform($.path,new __PRIVATE_ServerTimestampTransform)}isEqual($){return $ instanceof __PRIVATE_ServerTimestampFieldValueImpl}}class __PRIVATE_ArrayUnionFieldValueImpl extends FieldValue{constructor($,I){super($),this.Ku=I}_toFieldTransform($){const I=__PRIVATE_createSentinelChildContext(this,$,!0),N=this.Ku.map(B=>__PRIVATE_parseData(B,I)),L=new __PRIVATE_ArrayUnionTransformOperation(N);return new FieldTransform($.path,L)}isEqual($){return $ instanceof __PRIVATE_ArrayUnionFieldValueImpl&&deepEqual(this.Ku,$.Ku)}}function __PRIVATE_parseUpdateData(T,$,I,N){const L=T.Qu(1,$,I);__PRIVATE_validatePlainObject("Data must be an object, but it was:",L,N);const B=[],H=ObjectValue.empty();forEach$9(N,(Q,te)=>{const G=__PRIVATE_fieldPathFromDotSeparatedString($,Q,I);te=getModularInstance(te);const ie=L.Nu(G);if(te instanceof __PRIVATE_DeleteFieldValueImpl)B.push(G);else{const Re=__PRIVATE_parseData(te,ie);Re!=null&&(B.push(G),H.set(G,Re))}});const z=new FieldMask(B);return new ParsedUpdateData(H,z,L.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(T,$,I,N,L,B){const H=T.Qu(1,$,I),z=[__PRIVATE_fieldPathFromArgument$1($,N,I)],Q=[L];if(B.length%2!=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${$}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<B.length;Re+=2)z.push(__PRIVATE_fieldPathFromArgument$1($,B[Re])),Q.push(B[Re+1]);const te=[],G=ObjectValue.empty();for(let Re=z.length-1;Re>=0;--Re)if(!__PRIVATE_fieldMaskContains(te,z[Re])){const $e=z[Re];let Pe=Q[Re];Pe=getModularInstance(Pe);const Me=H.Nu($e);if(Pe instanceof __PRIVATE_DeleteFieldValueImpl)te.push($e);else{const Be=__PRIVATE_parseData(Pe,Me);Be!=null&&(te.push($e),G.set($e,Be))}}const ie=new FieldMask(te);return new ParsedUpdateData(G,ie,H.fieldTransforms)}function __PRIVATE_parseData(T,$){if(__PRIVATE_looksLikeJsonObject(T=getModularInstance(T)))return __PRIVATE_validatePlainObject("Unsupported field value:",$,T),__PRIVATE_parseObject(T,$);if(T instanceof FieldValue)return function(N,L){if(!__PRIVATE_isWrite(L.Cu))throw L.Bu(`${N._methodName}() can only be used with update() and set()`);if(!L.path)throw L.Bu(`${N._methodName}() is not currently supported inside arrays`);const B=N._toFieldTransform(L);B&&L.fieldTransforms.push(B)}(T,$),null;if(T===void 0&&$.ignoreUndefinedProperties)return null;if($.path&&$.fieldMask.push($.path),T instanceof Array){if($.settings.xu&&$.Cu!==4)throw $.Bu("Nested arrays are not supported");return function(N,L){const B=[];let H=0;for(const z of N){let Q=__PRIVATE_parseData(z,L.Lu(H));Q==null&&(Q={nullValue:"NULL_VALUE"}),B.push(Q),H++}return{arrayValue:{values:B}}}(T,$)}return function(N,L){if((N=getModularInstance(N))===null)return{nullValue:"NULL_VALUE"};if(typeof N=="number")return toNumber(L.serializer,N);if(typeof N=="boolean")return{booleanValue:N};if(typeof N=="string")return{stringValue:N};if(N instanceof Date){const B=Timestamp.fromDate(N);return{timestampValue:toTimestamp(L.serializer,B)}}if(N instanceof Timestamp){const B=new Timestamp(N.seconds,1e3*Math.floor(N.nanoseconds/1e3));return{timestampValue:toTimestamp(L.serializer,B)}}if(N instanceof GeoPoint)return{geoPointValue:{latitude:N.latitude,longitude:N.longitude}};if(N instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(L.serializer,N._byteString)};if(N instanceof DocumentReference){const B=L.databaseId,H=N.firestore._databaseId;if(!H.isEqual(B))throw L.Bu(`Document reference is for database ${H.projectId}/${H.database} but should be for database ${B.projectId}/${B.database}`);return{referenceValue:__PRIVATE_toResourceName(N.firestore._databaseId||L.databaseId,N._key.path)}}if(N instanceof VectorValue)return function(H,z){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:H.toArray().map(Q=>{if(typeof Q!="number")throw z.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(z.serializer,Q)})}}}}}}(N,L);throw L.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(N)}`)}(T,$)}function __PRIVATE_parseObject(T,$){const I={};return isEmpty(T)?$.path&&$.path.length>0&&$.fieldMask.push($.path):forEach$9(T,(N,L)=>{const B=__PRIVATE_parseData(L,$.Mu(N));B!=null&&(I[N]=B)}),{mapValue:{fields:I}}}function __PRIVATE_looksLikeJsonObject(T){return!(typeof T!="object"||T===null||T instanceof Array||T instanceof Date||T instanceof Timestamp||T instanceof GeoPoint||T instanceof Bytes||T instanceof DocumentReference||T instanceof FieldValue||T instanceof VectorValue)}function __PRIVATE_validatePlainObject(T,$,I){if(!__PRIVATE_looksLikeJsonObject(I)||!function(L){return typeof L=="object"&&L!==null&&(Object.getPrototypeOf(L)===Object.prototype||Object.getPrototypeOf(L)===null)}(I)){const N=__PRIVATE_valueDescription(I);throw N==="an object"?$.Bu(T+" a custom object"):$.Bu(T+" "+N)}}function __PRIVATE_fieldPathFromArgument$1(T,$,I){if(($=getModularInstance($))instanceof FieldPath)return $._internalPath;if(typeof $=="string")return __PRIVATE_fieldPathFromDotSeparatedString(T,$);throw __PRIVATE_createError("Field path arguments must be of type string or ",T,!1,void 0,I)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(T,$,I){if($.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${$}). Paths must not contain '~', '*', '/', '[', or ']'`,T,!1,void 0,I);try{return new FieldPath(...$.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${$}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,T,!1,void 0,I)}}function __PRIVATE_createError(T,$,I,N,L){const B=N&&!N.isEmpty(),H=L!==void 0;let z=`Function ${$}() called with invalid data`;I&&(z+=" (via `toFirestore()`)"),z+=". ";let Q="";return(B||H)&&(Q+=" (found",B&&(Q+=` in field ${N}`),H&&(Q+=` in document ${L}`),Q+=")"),new FirestoreError(D.INVALID_ARGUMENT,z+T+Q)}function __PRIVATE_fieldMaskContains(T,$){return T.some(I=>I.isEqual($))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor($,I,N,L,B){this._firestore=$,this._userDataWriter=I,this._key=N,this._document=L,this._converter=B}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const $=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore($)}return this._userDataWriter.convertValue(this._document.data.value)}}get($){if(this._document){const I=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",$));if(I!==null)return this._userDataWriter.convertValue(I)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(T,$){return typeof $=="string"?__PRIVATE_fieldPathFromDotSeparatedString(T,$):$ instanceof FieldPath?$._internalPath:$._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(T){if(T.limitType==="L"&&T.explicitOrderBy.length===0)throw new FirestoreError(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AbstractUserDataWriter{convertValue($,I="none"){switch(__PRIVATE_typeOrder($)){case 0:return null;case 1:return $.booleanValue;case 2:return __PRIVATE_normalizeNumber($.integerValue||$.doubleValue);case 3:return this.convertTimestamp($.timestampValue);case 4:return this.convertServerTimestamp($,I);case 5:return $.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString($.bytesValue));case 7:return this.convertReference($.referenceValue);case 8:return this.convertGeoPoint($.geoPointValue);case 9:return this.convertArray($.arrayValue,I);case 11:return this.convertObject($.mapValue,I);case 10:return this.convertVectorValue($.mapValue);default:throw fail()}}convertObject($,I){return this.convertObjectMap($.fields,I)}convertObjectMap($,I="none"){const N={};return forEach$9($,(L,B)=>{N[L]=this.convertValue(B,I)}),N}convertVectorValue($){var I,N,L;const B=(L=(N=(I=$.fields)===null||I===void 0?void 0:I.value.arrayValue)===null||N===void 0?void 0:N.values)===null||L===void 0?void 0:L.map(H=>__PRIVATE_normalizeNumber(H.doubleValue));return new VectorValue(B)}convertGeoPoint($){return new GeoPoint(__PRIVATE_normalizeNumber($.latitude),__PRIVATE_normalizeNumber($.longitude))}convertArray($,I){return($.values||[]).map(N=>this.convertValue(N,I))}convertServerTimestamp($,I){switch(I){case"previous":const N=__PRIVATE_getPreviousValue($);return N==null?null:this.convertValue(N,I);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime($));default:return null}}convertTimestamp($){const I=__PRIVATE_normalizeTimestamp($);return new Timestamp(I.seconds,I.nanos)}convertDocumentKey($,I){const N=ResourcePath.fromString($);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(N));const L=new DatabaseId(N.get(1),N.get(3)),B=new DocumentKey(N.popFirst(5));return L.isEqual(I)||__PRIVATE_logError(`Document ${B} contains a document reference within a different database (${L.projectId}/${L.database}) which is not supported. It will be treated as a reference in the current database (${I.projectId}/${I.database}) instead.`),B}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(T,$,I){let N;return N=T?I&&(I.merge||I.mergeFields)?T.toFirestore($,I):T.toFirestore($):$,N}class __PRIVATE_LiteUserDataWriter extends AbstractUserDataWriter{constructor($){super(),this.firestore=$}convertBytes($){return new Bytes($)}convertReference($){const I=this.convertDocumentKey($,this.firestore._databaseId);return new DocumentReference(this.firestore,null,I)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor($,I){this.hasPendingWrites=$,this.fromCache=I}isEqual($){return this.hasPendingWrites===$.hasPendingWrites&&this.fromCache===$.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor($,I,N,L,B,H){super($,I,N,L,H),this._firestore=$,this._firestoreImpl=$,this.metadata=B}exists(){return super.exists()}data($={}){if(this._document){if(this._converter){const I=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(I,$)}return this._userDataWriter.convertValue(this._document.data.value,$.serverTimestamps)}}get($,I={}){if(this._document){const N=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",$));if(N!==null)return this._userDataWriter.convertValue(N,I.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data($={}){return super.data($)}}class QuerySnapshot{constructor($,I,N,L){this._firestore=$,this._userDataWriter=I,this._snapshot=L,this.metadata=new SnapshotMetadata(L.hasPendingWrites,L.fromCache),this.query=N}get docs(){const $=[];return this.forEach(I=>$.push(I)),$}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach($,I){this._snapshot.docs.forEach(N=>{$.call(I,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,N.key,N,new SnapshotMetadata(this._snapshot.mutatedKeys.has(N.key),this._snapshot.fromCache),this.query.converter))})}docChanges($={}){const I=!!$.includeMetadataChanges;if(I&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===I||(this._cachedChanges=function(L,B){if(L._snapshot.oldDocs.isEmpty()){let H=0;return L._snapshot.docChanges.map(z=>{const Q=new QueryDocumentSnapshot(L._firestore,L._userDataWriter,z.doc.key,z.doc,new SnapshotMetadata(L._snapshot.mutatedKeys.has(z.doc.key),L._snapshot.fromCache),L.query.converter);return z.doc,{type:"added",doc:Q,oldIndex:-1,newIndex:H++}})}{let H=L._snapshot.oldDocs;return L._snapshot.docChanges.filter(z=>B||z.type!==3).map(z=>{const Q=new QueryDocumentSnapshot(L._firestore,L._userDataWriter,z.doc.key,z.doc,new SnapshotMetadata(L._snapshot.mutatedKeys.has(z.doc.key),L._snapshot.fromCache),L.query.converter);let te=-1,G=-1;return z.type!==0&&(te=H.indexOf(z.doc.key),H=H.delete(z.doc.key)),z.type!==1&&(H=H.add(z.doc),G=H.indexOf(z.doc.key)),{type:__PRIVATE_resultChangeType(z.type),doc:Q,oldIndex:te,newIndex:G}})}}(this,I),this._cachedChangesIncludeMetadataChanges=I),this._cachedChanges}}function __PRIVATE_resultChangeType(T){switch(T){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(T){T=__PRIVATE_cast(T,DocumentReference);const $=__PRIVATE_cast(T.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured($),T._key).then(I=>__PRIVATE_convertToDocSnapshot($,T,I))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor($){super(),this.firestore=$}convertBytes($){return new Bytes($)}convertReference($){const I=this.convertDocumentKey($,this.firestore._databaseId);return new DocumentReference(this.firestore,null,I)}}function getDocs(T){T=__PRIVATE_cast(T,Query);const $=__PRIVATE_cast(T.firestore,Firestore),I=ensureFirestoreConfigured($),N=new __PRIVATE_ExpUserDataWriter($);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(T._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(I,T._query).then(L=>new QuerySnapshot($,N,T,L))}function setDoc(T,$,I){T=__PRIVATE_cast(T,DocumentReference);const N=__PRIVATE_cast(T.firestore,Firestore),L=__PRIVATE_applyFirestoreDataConverter(T.converter,$,I);return executeWrite(N,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(N),"setDoc",T._key,L,T.converter!==null,I).toMutation(T._key,Precondition.none())])}function updateDoc(T,$,I,...N){T=__PRIVATE_cast(T,DocumentReference);const L=__PRIVATE_cast(T.firestore,Firestore),B=__PRIVATE_newUserDataReader(L);let H;return H=typeof($=getModularInstance($))=="string"||$ instanceof FieldPath?__PRIVATE_parseUpdateVarargs(B,"updateDoc",T._key,$,I,N):__PRIVATE_parseUpdateData(B,"updateDoc",T._key,$),executeWrite(L,[H.toMutation(T._key,Precondition.exists(!0))])}function addDoc(T,$){const I=__PRIVATE_cast(T.firestore,Firestore),N=doc(T),L=__PRIVATE_applyFirestoreDataConverter(T.converter,$);return executeWrite(I,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(T.firestore),"addDoc",N._key,L,T.converter!==null,{}).toMutation(N._key,Precondition.exists(!1))]).then(()=>N)}function executeWrite(T,$){return function(N,L){const B=new __PRIVATE_Deferred;return N.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(N),L,B)),B.promise}(ensureFirestoreConfigured(T),$)}function __PRIVATE_convertToDocSnapshot(T,$,I){const N=I.docs.get($._key),L=new __PRIVATE_ExpUserDataWriter(T);return new DocumentSnapshot(T,L,$._key,N,new SnapshotMetadata(I.hasPendingWrites,I.fromCache),$.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={maxAttempts:5};function __PRIVATE_validateReference(T,$){if((T=getModularInstance(T)).firestore!==$)throw new FirestoreError(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Transaction extends class{constructor(I,N){this._firestore=I,this._transaction=N,this._dataReader=__PRIVATE_newUserDataReader(I)}get(I){const N=__PRIVATE_validateReference(I,this._firestore),L=new __PRIVATE_LiteUserDataWriter(this._firestore);return this._transaction.lookup([N._key]).then(B=>{if(!B||B.length!==1)return fail();const H=B[0];if(H.isFoundDocument())return new DocumentSnapshot$1(this._firestore,L,H.key,H,N.converter);if(H.isNoDocument())return new DocumentSnapshot$1(this._firestore,L,N._key,null,N.converter);throw fail()})}set(I,N,L){const B=__PRIVATE_validateReference(I,this._firestore),H=__PRIVATE_applyFirestoreDataConverter(B.converter,N,L),z=__PRIVATE_parseSetData(this._dataReader,"Transaction.set",B._key,H,B.converter!==null,L);return this._transaction.set(B._key,z),this}update(I,N,L,...B){const H=__PRIVATE_validateReference(I,this._firestore);let z;return z=typeof(N=getModularInstance(N))=="string"||N instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"Transaction.update",H._key,N,L,B):__PRIVATE_parseUpdateData(this._dataReader,"Transaction.update",H._key,N),this._transaction.update(H._key,z),this}delete(I){const N=__PRIVATE_validateReference(I,this._firestore);return this._transaction.delete(N._key),this}}{constructor($,I){super($,I),this._firestore=$}get($){const I=__PRIVATE_validateReference($,this._firestore),N=new __PRIVATE_ExpUserDataWriter(this._firestore);return super.get($).then(L=>new DocumentSnapshot(this._firestore,N,I._key,L._document,new SnapshotMetadata(!1,!1),I.converter))}}function runTransaction(T,$,I){T=__PRIVATE_cast(T,Firestore);const N=Object.assign(Object.assign({},ve),I);return function(B){if(B.maxAttempts<1)throw new FirestoreError(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(N),function(B,H,z){const Q=new __PRIVATE_Deferred;return B.asyncQueue.enqueueAndForget(async()=>{const te=await __PRIVATE_getDatastore(B);new __PRIVATE_TransactionRunner(B.asyncQueue,te,z,H,Q).au()}),Q.promise}(ensureFirestoreConfigured(T),L=>$(new Transaction(T,L)),N)}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}function arrayUnion(...T){return new __PRIVATE_ArrayUnionFieldValueImpl("arrayUnion",T)}(function($,I=!0){(function(L){S=L})(SDK_VERSION),_registerComponent(new Component("firestore",(N,{instanceIdentifier:L,options:B})=>{const H=N.getProvider("app").getImmediate(),z=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(N.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(N.getProvider("app-check-internal")),function(te,G){if(!Object.prototype.hasOwnProperty.apply(te.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(te.options.projectId,G)}(H,L),H);return B=Object.assign({useFetchStreams:I},B),z._setSettings(B),z},"PUBLIC").setMultipleInstances(!0)),registerVersion(w$1,"4.7.3",$),registerVersion(w$1,"4.7.3","esm2017")})();var name$5="firebase",version$7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$5,version$7,"app");const name$4="@firebase/installations",version$6="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$6}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(T){return T instanceof FirebaseError&&T.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:T}){return`${INSTALLATIONS_API_URL}/projects/${T}/installations`}function extractAuthTokenInfoFromResponse(T){return{token:T.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(T.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(T,$){const N=(await $.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:T,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})}function getHeaders$1({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function getHeadersWithAuth(T,{refreshToken:$}){const I=getHeaders$1(T);return I.append("Authorization",getAuthorizationHeader($)),I}async function retryIfServerError(T){const $=await T();return $.status>=500&&$.status<600?T():$}function getExpiresInFromResponseExpiresIn(T){return Number(T.replace("s","000"))}function getAuthorizationHeader(T){return`${INTERNAL_AUTH_VERSION} ${T}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:T,heartbeatServiceProvider:$},{fid:I}){const N=getInstallationsEndpoint(T),L=getHeaders$1(T),B=$.getImmediate({optional:!0});if(B){const te=await B.getHeartbeatsHeader();te&&L.append("x-firebase-client",te)}const H={fid:I,authVersion:INTERNAL_AUTH_VERSION,appId:T.appId,sdkVersion:PACKAGE_VERSION},z={method:"POST",headers:L,body:JSON.stringify(H)},Q=await retryIfServerError(()=>fetch(N,z));if(Q.ok){const te=await Q.json();return{fid:te.fid||I,registrationStatus:2,refreshToken:te.refreshToken,authToken:extractAuthTokenInfoFromResponse(te.authToken)}}else throw await getErrorFromResponse("Create Installation",Q)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(T){return new Promise($=>{setTimeout($,T)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const I=encode$i(T);return VALID_FID_PATTERN.test(I)?I:INVALID_FID}catch{return INVALID_FID}}function encode$i(T){return bufferToBase64UrlSafe(T).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(T){return`${T.appName}!${T.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(T,$){const I=getKey(T);callFidChangeCallbacks(I,$),broadcastFidChange(I,$)}function callFidChangeCallbacks(T,$){const I=fidChangeCallbacks.get(T);if(I)for(const N of I)N($)}function broadcastFidChange(T,$){const I=getBroadcastChannel();I&&I.postMessage({key:T,fid:$}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=T=>{callFidChangeCallbacks(T.data.key,T.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(T,$)=>{switch($){case 0:T.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set(T,$){const I=getKey(T),L=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),B=L.objectStore(OBJECT_STORE_NAME),H=await B.get(I);return await B.put($,I),await L.done,(!H||H.fid!==$.fid)&&fidChanged(T,$.fid),$}async function remove(T){const $=getKey(T),N=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await N.objectStore(OBJECT_STORE_NAME).delete($),await N.done}async function update(T,$){const I=getKey(T),L=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),B=L.objectStore(OBJECT_STORE_NAME),H=await B.get(I),z=$(H);return z===void 0?await B.delete(I):await B.put(z,I),await L.done,z&&(!H||H.fid!==z.fid)&&fidChanged(T,z.fid),z}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(T){let $;const I=await update(T.appConfig,N=>{const L=updateOrCreateInstallationEntry(N),B=triggerRegistrationIfNecessary(T,L);return $=B.registrationPromise,B.installationEntry});return I.fid===INVALID_FID?{installationEntry:await $}:{installationEntry:I,registrationPromise:$}}function updateOrCreateInstallationEntry(T){const $=T||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest($)}function triggerRegistrationIfNecessary(T,$){if($.registrationStatus===0){if(!navigator.onLine){const L=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:$,registrationPromise:L}}const I={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},N=registerInstallation(T,I);return{installationEntry:I,registrationPromise:N}}else return $.registrationStatus===1?{installationEntry:$,registrationPromise:waitUntilFidRegistration(T)}:{installationEntry:$}}async function registerInstallation(T,$){try{const I=await createInstallationRequest(T,$);return set(T.appConfig,I)}catch(I){throw isServerError(I)&&I.customData.serverCode===409?await remove(T.appConfig):await set(T.appConfig,{fid:$.fid,registrationStatus:0}),I}}async function waitUntilFidRegistration(T){let $=await updateInstallationRequest(T.appConfig);for(;$.registrationStatus===1;)await sleep(100),$=await updateInstallationRequest(T.appConfig);if($.registrationStatus===0){const{installationEntry:I,registrationPromise:N}=await getInstallationEntry(T);return N||I}return $}function updateInstallationRequest(T){return update(T,$=>{if(!$)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest($)})}function clearTimedOutRequest(T){return hasInstallationRequestTimedOut(T)?{fid:T.fid,registrationStatus:0}:T}function hasInstallationRequestTimedOut(T){return T.registrationStatus===1&&T.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:T,heartbeatServiceProvider:$},I){const N=getGenerateAuthTokenEndpoint(T,I),L=getHeadersWithAuth(T,I),B=$.getImmediate({optional:!0});if(B){const te=await B.getHeartbeatsHeader();te&&L.append("x-firebase-client",te)}const H={installation:{sdkVersion:PACKAGE_VERSION,appId:T.appId}},z={method:"POST",headers:L,body:JSON.stringify(H)},Q=await retryIfServerError(()=>fetch(N,z));if(Q.ok){const te=await Q.json();return extractAuthTokenInfoFromResponse(te)}else throw await getErrorFromResponse("Generate Auth Token",Q)}function getGenerateAuthTokenEndpoint(T,{fid:$}){return`${getInstallationsEndpoint(T)}/${$}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(T,$=!1){let I;const N=await update(T.appConfig,B=>{if(!isEntryRegistered(B))throw ERROR_FACTORY$1.create("not-registered");const H=B.authToken;if(!$&&isAuthTokenValid(H))return B;if(H.requestStatus===1)return I=waitUntilAuthTokenRequest(T,$),B;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const z=makeAuthTokenRequestInProgressEntry(B);return I=fetchAuthTokenFromServer(T,z),z}});return I?await I:N.authToken}async function waitUntilAuthTokenRequest(T,$){let I=await updateAuthTokenRequest(T.appConfig);for(;I.authToken.requestStatus===1;)await sleep(100),I=await updateAuthTokenRequest(T.appConfig);const N=I.authToken;return N.requestStatus===0?refreshAuthToken(T,$):N}function updateAuthTokenRequest(T){return update(T,$=>{if(!isEntryRegistered($))throw ERROR_FACTORY$1.create("not-registered");const I=$.authToken;return hasAuthTokenRequestTimedOut(I)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}async function fetchAuthTokenFromServer(T,$){try{const I=await generateAuthTokenRequest(T,$),N=Object.assign(Object.assign({},$),{authToken:I});return await set(T.appConfig,N),I}catch(I){if(isServerError(I)&&(I.customData.serverCode===401||I.customData.serverCode===404))await remove(T.appConfig);else{const N=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});await set(T.appConfig,N)}throw I}}function isEntryRegistered(T){return T!==void 0&&T.registrationStatus===2}function isAuthTokenValid(T){return T.requestStatus===2&&!isAuthTokenExpired(T)}function isAuthTokenExpired(T){const $=Date.now();return $<T.creationTime||T.creationTime+T.expiresIn<$+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(T){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:$})}function hasAuthTokenRequestTimedOut(T){return T.requestStatus===1&&T.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(T){const $=T,{installationEntry:I,registrationPromise:N}=await getInstallationEntry($);return N?N.catch(console.error):refreshAuthToken($).catch(console.error),I.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(T,$=!1){const I=T;return await completeInstallationRegistration(I),(await refreshAuthToken(I,$)).token}async function completeInstallationRegistration(T){const{registrationPromise:$}=await getInstallationEntry(T);$&&await $}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(T){if(!T||!T.options)throw getMissingValueError("App Configuration");if(!T.name)throw getMissingValueError("App Name");const $=["projectId","apiKey","appId"];for(const I of $)if(!T.options[I])throw getMissingValueError(I);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}function getMissingValueError(T){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:T})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=T=>{const $=T.getProvider("app").getImmediate(),I=extractAppConfig($),N=_getProvider($,"heartbeat");return{app:$,appConfig:I,heartbeatServiceProvider:N,_delete:()=>Promise.resolve()}},internalFactory=T=>{const $=T.getProvider("app").getImmediate(),I=_getProvider($,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(I),getToken:L=>getToken(I,L)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$4,version$6);registerVersion(name$4,version$6,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(T){if(!T.startsWith(GTAG_URL)){const $=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:T});return logger$1.warn($.message),""}return T}function promiseAllSettled(T){return Promise.all(T.map($=>$.catch(I=>I)))}function createTrustedTypesPolicy(T,$){let I;return window.trustedTypes&&(I=window.trustedTypes.createPolicy(T,$)),I}function insertScriptTag(T,$){const I=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),N=document.createElement("script"),L=`${GTAG_URL}?l=${T}&id=${$}`;N.src=I?I==null?void 0:I.createScriptURL(L):L,N.async=!0,document.head.appendChild(N)}function getOrCreateDataLayer(T){let $=[];return Array.isArray(window[T])?$=window[T]:window[T]=$,$}async function gtagOnConfig(T,$,I,N,L,B){const H=N[L];try{if(H)await $[H];else{const Q=(await promiseAllSettled(I)).find(te=>te.measurementId===L);Q&&await $[Q.appId]}}catch(z){logger$1.error(z)}T("config",L,B)}async function gtagOnEvent(T,$,I,N,L){try{let B=[];if(L&&L.send_to){let H=L.send_to;Array.isArray(H)||(H=[H]);const z=await promiseAllSettled(I);for(const Q of H){const te=z.find(ie=>ie.measurementId===Q),G=te&&$[te.appId];if(G)B.push(G);else{B=[];break}}}B.length===0&&(B=Object.values($)),await Promise.all(B),T("event",N,L||{})}catch(B){logger$1.error(B)}}function wrapGtag(T,$,I,N){async function L(B,...H){try{if(B==="event"){const[z,Q]=H;await gtagOnEvent(T,$,I,z,Q)}else if(B==="config"){const[z,Q]=H;await gtagOnConfig(T,$,I,N,z,Q)}else if(B==="consent"){const[z,Q]=H;T("consent",z,Q)}else if(B==="get"){const[z,Q,te]=H;T("get",z,Q,te)}else if(B==="set"){const[z]=H;T("set",z)}else T(B,...H)}catch(z){logger$1.error(z)}}return L}function wrapOrCreateGtag(T,$,I,N,L){let B=function(...H){window[N].push(arguments)};return window[L]&&typeof window[L]=="function"&&(B=window[L]),window[L]=wrapGtag(B,T,$,I),{gtagCore:B,wrappedGtag:window[L]}}function findGtagScriptOnPage(T){const $=window.document.getElementsByTagName("script");for(const I of Object.values($))if(I.src&&I.src.includes(GTAG_URL)&&I.src.includes(T))return I;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor($={},I=BASE_INTERVAL_MILLIS){this.throttleMetadata=$,this.intervalMillis=I}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,I){this.throttleMetadata[$]=I}deleteThrottleMetadata($){delete this.throttleMetadata[$]}}const defaultRetryData=new RetryData;function getHeaders(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}async function fetchDynamicConfig(T){var $;const{appId:I,apiKey:N}=T,L={method:"GET",headers:getHeaders(N)},B=DYNAMIC_CONFIG_URL.replace("{app-id}",I),H=await fetch(B,L);if(H.status!==200&&H.status!==304){let z="";try{const Q=await H.json();!(($=Q.error)===null||$===void 0)&&$.message&&(z=Q.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:H.status,responseMessage:z})}return H.json()}async function fetchDynamicConfigWithRetry(T,$=defaultRetryData,I){const{appId:N,apiKey:L,measurementId:B}=T.options;if(!N)throw ERROR_FACTORY.create("no-app-id");if(!L){if(B)return{measurementId:B,appId:N};throw ERROR_FACTORY.create("no-api-key")}const H=$.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},z=new AnalyticsAbortSignal;return setTimeout(async()=>{z.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:N,apiKey:L,measurementId:B},H,z,$)}async function attemptFetchDynamicConfigWithRetry(T,{throttleEndTimeMillis:$,backoffCount:I},N,L=defaultRetryData){var B;const{appId:H,measurementId:z}=T;try{await setAbortableTimeout(N,$)}catch(Q){if(z)return logger$1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${z} provided in the "measurementId" field in the local Firebase config. [${Q==null?void 0:Q.message}]`),{appId:H,measurementId:z};throw Q}try{const Q=await fetchDynamicConfig(T);return L.deleteThrottleMetadata(H),Q}catch(Q){const te=Q;if(!isRetriableError(te)){if(L.deleteThrottleMetadata(H),z)return logger$1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${z} provided in the "measurementId" field in the local Firebase config. [${te==null?void 0:te.message}]`),{appId:H,measurementId:z};throw Q}const G=Number((B=te==null?void 0:te.customData)===null||B===void 0?void 0:B.httpStatus)===503?calculateBackoffMillis(I,L.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(I,L.intervalMillis),ie={throttleEndTimeMillis:Date.now()+G,backoffCount:I+1};return L.setThrottleMetadata(H,ie),logger$1.debug(`Calling attemptFetch again in ${G} millis`),attemptFetchDynamicConfigWithRetry(T,ie,N,L)}}function setAbortableTimeout(T,$){return new Promise((I,N)=>{const L=Math.max($-Date.now(),0),B=setTimeout(I,L);T.addEventListener(()=>{clearTimeout(B),N(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}function isRetriableError(T){if(!(T instanceof FirebaseError)||!T.customData)return!1;const $=Number(T.customData.httpStatus);return $===429||$===500||$===503||$===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}async function logEvent$1(T,$,I,N,L){if(L&&L.global){T("event",I,N);return}else{const B=await $,H=Object.assign(Object.assign({},N),{send_to:B});T("event",I,H)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(T){return logger$1.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:T==null?void 0:T.toString()}).message),!1}else return logger$1.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(T,$,I,N,L,B,H){var z;const Q=fetchDynamicConfigWithRetry(T);Q.then($e=>{I[$e.measurementId]=$e.appId,T.options.measurementId&&$e.measurementId!==T.options.measurementId&&logger$1.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${$e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($e=>logger$1.error($e)),$.push(Q);const te=validateIndexedDB().then($e=>{if($e)return N.getId()}),[G,ie]=await Promise.all([Q,te]);findGtagScriptOnPage(B)||insertScriptTag(B,G.measurementId),L("js",new Date);const Re=(z=H==null?void 0:H.config)!==null&&z!==void 0?z:{};return Re[ORIGIN_KEY]="firebase",Re.update=!0,ie!=null&&(Re[GA_FID_KEY]=ie),L("config",G.measurementId,Re),G.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor($){this.app=$}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const T=[];if(isBrowserExtension()&&T.push("This is a browser extension environment."),areCookiesEnabled()||T.push("Cookies are not available."),T.length>0){const $=T.map((N,L)=>`(${L+1}) ${N}`).join(" "),I=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:$});logger$1.warn(I.message)}}function factory$1(T,$,I){warnOnBrowserContextMismatch();const N=T.options.appId;if(!N)throw ERROR_FACTORY.create("no-app-id");if(!T.options.apiKey)if(T.options.measurementId)logger$1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[N]!=null)throw ERROR_FACTORY.create("already-exists",{id:N});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:B,gtagCore:H}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=B,gtagCoreFunction=H,globalInitDone=!0}return initializationPromisesMap[N]=_initializeAnalytics(T,dynamicConfigPromisesList,measurementIdToAppId,$,gtagCoreFunction,dataLayerName,I),new AnalyticsService(T)}function getAnalytics(T=getApp()){T=getModularInstance(T);const $=_getProvider(T,ANALYTICS_TYPE);return $.isInitialized()?$.getImmediate():initializeAnalytics(T)}function initializeAnalytics(T,$={}){const I=_getProvider(T,ANALYTICS_TYPE);if(I.isInitialized()){const L=I.getImmediate();if(deepEqual($,I.getOptions()))return L;throw ERROR_FACTORY.create("already-initialized")}return I.initialize({options:$})}function logEvent(T,$,I,N){T=getModularInstance(T),logEvent$1(wrappedGtagFunction,initializationPromisesMap[T.app.options.appId],$,I,N).catch(L=>logger$1.error(L))}const name$3="@firebase/analytics",version$5="0.10.8";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,($,{options:I})=>{const N=$.getProvider("app").getImmediate(),L=$.getProvider("installations-internal").getImmediate();return factory$1(N,L,I)},"PUBLIC")),_registerComponent(new Component("analytics-internal",T,"PRIVATE")),registerVersion(name$3,version$5),registerVersion(name$3,version$5,"esm2017");function T($){try{const I=$.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(N,L,B)=>logEvent(I,N,L,B)}}catch(I){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:I})}}}registerAnalytics();var extendStatics=function(T,$){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(I[L]=N[L])},extendStatics(T,$)};function __extends(T,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");extendStatics(T,$);function I(){this.constructor=T}T.prototype=$===null?Object.create($):(I.prototype=$.prototype,new I)}var __assign=function(){return __assign=Object.assign||function($){for(var I,N=1,L=arguments.length;N<L;N++){I=arguments[N];for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&($[B]=I[B])}return $},__assign.apply(this,arguments)};function __rest$j(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I}function __decorate(T,$,I,N){var L=arguments.length,B=L<3?$:N===null?N=Object.getOwnPropertyDescriptor($,I):N,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(T,$,I,N);else for(var z=T.length-1;z>=0;z--)(H=T[z])&&(B=(L<3?H(B):L>3?H($,I,B):H($,I))||B);return L>3&&B&&Object.defineProperty($,I,B),B}function __param(T,$){return function(I,N){$(I,N,T)}}function __esDecorate(T,$,I,N,L,B){function H(Ke){if(Ke!==void 0&&typeof Ke!="function")throw new TypeError("Function expected");return Ke}for(var z=N.kind,Q=z==="getter"?"get":z==="setter"?"set":"value",te=!$&&T?N.static?T:T.prototype:null,G=$||(te?Object.getOwnPropertyDescriptor(te,N.name):{}),ie,Re=!1,$e=I.length-1;$e>=0;$e--){var Pe={};for(var Me in N)Pe[Me]=Me==="access"?{}:N[Me];for(var Me in N.access)Pe.access[Me]=N.access[Me];Pe.addInitializer=function(Ke){if(Re)throw new TypeError("Cannot add initializers after decoration has completed");B.push(H(Ke||null))};var Be=(0,I[$e])(z==="accessor"?{get:G.get,set:G.set}:G[Q],Pe);if(z==="accessor"){if(Be===void 0)continue;if(Be===null||typeof Be!="object")throw new TypeError("Object expected");(ie=H(Be.get))&&(G.get=ie),(ie=H(Be.set))&&(G.set=ie),(ie=H(Be.init))&&L.unshift(ie)}else(ie=H(Be))&&(z==="field"?L.unshift(ie):G[Q]=ie)}te&&Object.defineProperty(te,N.name,G),Re=!0}function __runInitializers(T,$,I){for(var N=arguments.length>2,L=0;L<$.length;L++)I=N?$[L].call(T,I):$[L].call(T);return N?I:void 0}function __propKey(T){return typeof T=="symbol"?T:"".concat(T)}function __setFunctionName(T,$,I){return typeof $=="symbol"&&($=$.description?"[".concat($.description,"]"):""),Object.defineProperty(T,"name",{configurable:!0,value:I?"".concat(I," ",$):$})}function __metadata(T,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(T,$)}function __awaiter$1d(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})}function __generator(T,$){var I={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},N,L,B,H=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return H.next=z(0),H.throw=z(1),H.return=z(2),typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function z(te){return function(G){return Q([te,G])}}function Q(te){if(N)throw new TypeError("Generator is already executing.");for(;H&&(H=0,te[0]&&(I=0)),I;)try{if(N=1,L&&(B=te[0]&2?L.return:te[0]?L.throw||((B=L.return)&&B.call(L),0):L.next)&&!(B=B.call(L,te[1])).done)return B;switch(L=0,B&&(te=[te[0]&2,B.value]),te[0]){case 0:case 1:B=te;break;case 4:return I.label++,{value:te[1],done:!1};case 5:I.label++,L=te[1],te=[0];continue;case 7:te=I.ops.pop(),I.trys.pop();continue;default:if(B=I.trys,!(B=B.length>0&&B[B.length-1])&&(te[0]===6||te[0]===2)){I=0;continue}if(te[0]===3&&(!B||te[1]>B[0]&&te[1]<B[3])){I.label=te[1];break}if(te[0]===6&&I.label<B[1]){I.label=B[1],B=te;break}if(B&&I.label<B[2]){I.label=B[2],I.ops.push(te);break}B[2]&&I.ops.pop(),I.trys.pop();continue}te=$.call(T,I)}catch(G){te=[6,G],L=0}finally{N=B=0}if(te[0]&5)throw te[1];return{value:te[0]?te[1]:void 0,done:!0}}}var __createBinding=Object.create?function(T,$,I,N){N===void 0&&(N=I);var L=Object.getOwnPropertyDescriptor($,I);(!L||("get"in L?!$.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return $[I]}}),Object.defineProperty(T,N,L)}:function(T,$,I,N){N===void 0&&(N=I),T[N]=$[I]};function __exportStar(T,$){for(var I in T)I!=="default"&&!Object.prototype.hasOwnProperty.call($,I)&&__createBinding($,T,I)}function __values$1(T){var $=typeof Symbol=="function"&&Symbol.iterator,I=$&&T[$],N=0;if(I)return I.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&N>=T.length&&(T=void 0),{value:T&&T[N++],done:!T}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(T,$){var I=typeof Symbol=="function"&&T[Symbol.iterator];if(!I)return T;var N=I.call(T),L,B=[],H;try{for(;($===void 0||$-- >0)&&!(L=N.next()).done;)B.push(L.value)}catch(z){H={error:z}}finally{try{L&&!L.done&&(I=N.return)&&I.call(N)}finally{if(H)throw H.error}}return B}function __spread(){for(var T=[],$=0;$<arguments.length;$++)T=T.concat(__read(arguments[$]));return T}function __spreadArrays(){for(var T=0,$=0,I=arguments.length;$<I;$++)T+=arguments[$].length;for(var N=Array(T),L=0,$=0;$<I;$++)for(var B=arguments[$],H=0,z=B.length;H<z;H++,L++)N[L]=B[H];return N}function __spreadArray(T,$,I){if(I||arguments.length===2)for(var N=0,L=$.length,B;N<L;N++)(B||!(N in $))&&(B||(B=Array.prototype.slice.call($,0,N)),B[N]=$[N]);return T.concat(B||Array.prototype.slice.call($))}function __await(T){return this instanceof __await?(this.v=T,this):new __await(T)}function __asyncGenerator(T,$,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=I.apply(T,$||[]),L,B=[];return L=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",H),L[Symbol.asyncIterator]=function(){return this},L;function H($e){return function(Pe){return Promise.resolve(Pe).then($e,ie)}}function z($e,Pe){N[$e]&&(L[$e]=function(Me){return new Promise(function(Be,Ke){B.push([$e,Me,Be,Ke])>1||Q($e,Me)})},Pe&&(L[$e]=Pe(L[$e])))}function Q($e,Pe){try{te(N[$e](Pe))}catch(Me){Re(B[0][3],Me)}}function te($e){$e.value instanceof __await?Promise.resolve($e.value.v).then(G,ie):Re(B[0][2],$e)}function G($e){Q("next",$e)}function ie($e){Q("throw",$e)}function Re($e,Pe){$e(Pe),B.shift(),B.length&&Q(B[0][0],B[0][1])}}function __asyncDelegator(T){var $,I;return $={},N("next"),N("throw",function(L){throw L}),N("return"),$[Symbol.iterator]=function(){return this},$;function N(L,B){$[L]=T[L]?function(H){return(I=!I)?{value:__await(T[L](H)),done:!1}:B?B(H):H}:B}}function __asyncValues$6(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values$1=="function"?__values$1(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}}function __makeTemplateObject(T,$){return Object.defineProperty?Object.defineProperty(T,"raw",{value:$}):T.raw=$,T}var __setModuleDefault=Object.create?function(T,$){Object.defineProperty(T,"default",{enumerable:!0,value:$})}:function(T,$){T.default=$},ownKeys=function(T){return ownKeys=Object.getOwnPropertyNames||function($){var I=[];for(var N in $)Object.prototype.hasOwnProperty.call($,N)&&(I[I.length]=N);return I},ownKeys(T)};function __importStar(T){if(T&&T.__esModule)return T;var $={};if(T!=null)for(var I=ownKeys(T),N=0;N<I.length;N++)I[N]!=="default"&&__createBinding($,T,I[N]);return __setModuleDefault($,T),$}function __importDefault$1(T){return T&&T.__esModule?T:{default:T}}function __classPrivateFieldGet(T,$,I,N){if(I==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof $=="function"?T!==$||!N:!$.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return I==="m"?N:I==="a"?N.call(T):N?N.value:$.get(T)}function __classPrivateFieldSet(T,$,I,N,L){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!L)throw new TypeError("Private accessor was defined without a setter");if(typeof $=="function"?T!==$||!L:!$.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?L.call(T,I):L?L.value=I:$.set(T,I),I}function __classPrivateFieldIn(T,$){if($===null||typeof $!="object"&&typeof $!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof T=="function"?$===T:T.has($)}function __addDisposableResource(T,$,I){if($!=null){if(typeof $!="object"&&typeof $!="function")throw new TypeError("Object expected.");var N,L;if(I){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=$[Symbol.asyncDispose]}if(N===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=$[Symbol.dispose],I&&(L=N)}if(typeof N!="function")throw new TypeError("Object not disposable.");L&&(N=function(){try{L.call(this)}catch(B){return Promise.reject(B)}}),T.stack.push({value:$,dispose:N,async:I})}else I&&T.stack.push({async:!0});return $}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(T,$,I){var N=new Error(I);return N.name="SuppressedError",N.error=T,N.suppressed=$,N};function __disposeResources(T){function $(B){T.error=T.hasError?new _SuppressedError(B,T.error,"An error was suppressed during disposal."):B,T.hasError=!0}var I,N=0;function L(){for(;I=T.stack.pop();)try{if(!I.async&&N===1)return N=0,T.stack.push(I),Promise.resolve().then(L);if(I.dispose){var B=I.dispose.call(I.value);if(I.async)return N|=2,Promise.resolve(B).then(L,function(H){return $(H),L()})}else N|=1}catch(H){$(H)}if(N===1)return T.hasError?Promise.reject(T.error):Promise.resolve();if(T.hasError)throw T.error}return L()}function __rewriteRelativeImportExtension(T,$){return typeof T=="string"&&/^\.\.?\//.test(T)?T.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(I,N,L,B,H){return N?$?".jsx":".js":L&&(!B||!H)?I:L+B+"."+H.toLowerCase()+"js"}):T}const tslib_es6={__extends,__assign,__rest:__rest$j,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter:__awaiter$1d,__generator,__createBinding,__exportStar,__values:__values$1,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues:__asyncValues$6,__makeTemplateObject,__importStar,__importDefault:__importDefault$1,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues:__asyncValues$6,__await,__awaiter:__awaiter$1d,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault:__importDefault$1,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest:__rest$j,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values:__values$1,default:tslib_es6},Symbol.toStringTag,{value:"Module"}));function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(T,...$){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${T}`,...$)}function _logError(T,...$){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${T}`,...$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(T,...$){throw createErrorInternal(T,...$)}function _createError(T,...$){return createErrorInternal(T,...$)}function _errorWithCustomMessage(T,$,I){const N=Object.assign(Object.assign({},prodErrorMap()),{[$]:I});return new ErrorFactory("auth","Firebase",N).create($,{appName:T.name})}function _serverAppCurrentUserOperationNotSupportedError(T){return _errorWithCustomMessage(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(T,...$){if(typeof T!="string"){const I=$[0],N=[...$.slice(1)];return N[0]&&(N[0].appName=T.name),T._errorFactory.create(I,...N)}return _DEFAULT_AUTH_ERROR_FACTORY.create(T,...$)}function _assert(T,$,...I){if(!T)throw createErrorInternal($,...I)}function debugFail(T){const $="INTERNAL ASSERTION FAILED: "+T;throw _logError($),new Error($)}function debugAssert(T,$){T||debugFail($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var T;return typeof self<"u"&&((T=self.location)===null||T===void 0?void 0:T.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var T;return typeof self<"u"&&((T=self.location)===null||T===void 0?void 0:T.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor($,I){this.shortDelay=$,this.longDelay=I,debugAssert(I>$,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(T,$){debugAssert(T.emulator,"Emulator should always be set here");const{url:I}=T.emulator;return $?`${I}${$.startsWith("/")?$.slice(1):$}`:I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize($,I,N){this.fetchImpl=$,I&&(this.headersImpl=I),N&&(this.responseImpl=N)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(T,$){return T.tenantId&&!$.tenantId?Object.assign(Object.assign({},$),{tenantId:T.tenantId}):$}async function _performApiRequest(T,$,I,N,L={}){return _performFetchWithErrorHandling(T,L,async()=>{let B={},H={};N&&($==="GET"?H=N:B={body:JSON.stringify(N)});const z=querystring(Object.assign({key:T.config.apiKey},H)).slice(1),Q=await T._getAdditionalHeaders();Q["Content-Type"]="application/json",T.languageCode&&(Q["X-Firebase-Locale"]=T.languageCode);const te=Object.assign({method:$,headers:Q},B);return isCloudflareWorker()||(te.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(T,T.config.apiHost,I,z),te)})}async function _performFetchWithErrorHandling(T,$,I){T._canInitEmulator=!1;const N=Object.assign(Object.assign({},SERVER_ERROR_MAP),$);try{const L=new NetworkTimeout(T),B=await Promise.race([I(),L.promise]);L.clearNetworkTimeout();const H=await B.json();if("needConfirmation"in H)throw _makeTaggedError(T,"account-exists-with-different-credential",H);if(B.ok&&!("errorMessage"in H))return H;{const z=B.ok?H.errorMessage:H.error.message,[Q,te]=z.split(" : ");if(Q==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(T,"credential-already-in-use",H);if(Q==="EMAIL_EXISTS")throw _makeTaggedError(T,"email-already-in-use",H);if(Q==="USER_DISABLED")throw _makeTaggedError(T,"user-disabled",H);const G=N[Q]||Q.toLowerCase().replace(/[_\s]+/g,"-");if(te)throw _errorWithCustomMessage(T,G,te);_fail(T,G)}}catch(L){if(L instanceof FirebaseError)throw L;_fail(T,"network-request-failed",{message:String(L)})}}async function _performSignInRequest(T,$,I,N,L={}){const B=await _performApiRequest(T,$,I,N,L);return"mfaPendingCredential"in B&&_fail(T,"multi-factor-auth-required",{_serverResponse:B}),B}function _getFinalTarget(T,$,I,N){const L=`${$}${I}?${N}`;return T.config.emulator?_emulatorUrl(T.config,L):`${T.config.apiScheme}://${L}`}function _parseEnforcementState(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor($){this.auth=$,this.timer=null,this.promise=new Promise((I,N)=>{this.timer=setTimeout(()=>N(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(T,$,I){const N={appName:T.name};I.email&&(N.email=I.email),I.phoneNumber&&(N.phoneNumber=I.phoneNumber);const L=_createError(T,$,N);return L.customData._tokenResponse=I,L}function isEnterprise(T){return T!==void 0&&T.enterprise!==void 0}class RecaptchaConfig{constructor($){if(this.siteKey="",this.recaptchaEnforcementState=[],$.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=$.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=$.recaptchaEnforcementState}getProviderEnforcementState($){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const I of this.recaptchaEnforcementState)if(I.provider&&I.provider===$)return _parseEnforcementState(I.enforcementState);return null}isProviderEnabled($){return this.getProviderEnforcementState($)==="ENFORCE"||this.getProviderEnforcementState($)==="AUDIT"}}async function getRecaptchaConfig(T,$){return _performApiRequest(T,"GET","/v2/recaptchaConfig",_addTidIfNecessary(T,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(T,$){return _performApiRequest(T,"POST","/v1/accounts:delete",$)}async function getAccountInfo(T,$){return _performApiRequest(T,"POST","/v1/accounts:lookup",$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(T){if(T)try{const $=new Date(Number(T));if(!isNaN($.getTime()))return $.toUTCString()}catch{}}async function getIdTokenResult(T,$=!1){const I=getModularInstance(T),N=await I.getIdToken($),L=_parseToken(N);_assert(L&&L.exp&&L.auth_time&&L.iat,I.auth,"internal-error");const B=typeof L.firebase=="object"?L.firebase:void 0,H=B==null?void 0:B.sign_in_provider;return{claims:L,token:N,authTime:utcTimestampToDateString(secondsStringToMilliseconds(L.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(L.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(L.exp)),signInProvider:H||null,signInSecondFactor:(B==null?void 0:B.sign_in_second_factor)||null}}function secondsStringToMilliseconds(T){return Number(T)*1e3}function _parseToken(T){const[$,I,N]=T.split(".");if($===void 0||I===void 0||N===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const L=base64Decode(I);return L?JSON.parse(L):(_logError("Failed to decode base64 JWT payload"),null)}catch(L){return _logError("Caught error parsing JWT payload as JSON",L==null?void 0:L.toString()),null}}function _tokenExpiresIn(T){const $=_parseToken(T);return _assert($,"internal-error"),_assert(typeof $.exp<"u","internal-error"),_assert(typeof $.iat<"u","internal-error"),Number($.exp)-Number($.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(T,$,I=!1){if(I)return $;try{return await $}catch(N){throw N instanceof FirebaseError&&isUserInvalidated(N)&&T.auth.currentUser===T&&await T.auth.signOut(),N}}function isUserInvalidated({code:T}){return T==="auth/user-disabled"||T==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor($){this.user=$,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval($){var I;if($){const N=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),N}else{this.errorBackoff=3e4;const L=((I=this.user.stsTokenManager.expirationTime)!==null&&I!==void 0?I:0)-Date.now()-3e5;return Math.max(0,L)}}schedule($=!1){if(!this.isRunning)return;const I=this.getInterval($);this.timerId=setTimeout(async()=>{await this.iteration()},I)}async iteration(){try{await this.user.getIdToken(!0)}catch($){($==null?void 0:$.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor($,I){this.createdAt=$,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy($){this.createdAt=$.createdAt,this.lastLoginAt=$.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(T){var $;const I=T.auth,N=await T.getIdToken(),L=await _logoutIfInvalidated(T,getAccountInfo(I,{idToken:N}));_assert(L==null?void 0:L.users.length,I,"internal-error");const B=L.users[0];T._notifyReloadListener(B);const H=!(($=B.providerUserInfo)===null||$===void 0)&&$.length?extractProviderData(B.providerUserInfo):[],z=mergeProviderData(T.providerData,H),Q=T.isAnonymous,te=!(T.email&&B.passwordHash)&&!(z!=null&&z.length),G=Q?te:!1,ie={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:z,metadata:new UserMetadata(B.createdAt,B.lastLoginAt),isAnonymous:G};Object.assign(T,ie)}async function reload(T){const $=getModularInstance(T);await _reloadWithoutSaving($),await $.auth._persistUserIfCurrent($),$.auth._notifyListenersIfCurrent($)}function mergeProviderData(T,$){return[...T.filter(N=>!$.some(L=>L.providerId===N.providerId)),...$]}function extractProviderData(T){return T.map($=>{var{providerId:I}=$,N=__rest$j($,["providerId"]);return{providerId:I,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(T,$){const I=await _performFetchWithErrorHandling(T,{},async()=>{const N=querystring({grant_type:"refresh_token",refresh_token:$}).slice(1),{tokenApiHost:L,apiKey:B}=T.config,H=_getFinalTarget(T,L,"/v1/token",`key=${B}`),z=await T._getAdditionalHeaders();return z["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(H,{method:"POST",headers:z,body:N})});return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}}async function revokeToken(T,$){return _performApiRequest(T,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(T,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse($){_assert($.idToken,"internal-error"),_assert(typeof $.idToken<"u","internal-error"),_assert(typeof $.refreshToken<"u","internal-error");const I="expiresIn"in $&&typeof $.expiresIn<"u"?Number($.expiresIn):_tokenExpiresIn($.idToken);this.updateTokensAndExpiration($.idToken,$.refreshToken,I)}updateFromIdToken($){_assert($.length!==0,"internal-error");const I=_tokenExpiresIn($);this.updateTokensAndExpiration($,null,I)}async getToken($,I=!1){return!I&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,$,"user-token-expired"),this.refreshToken?(await this.refresh($,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh($,I){const{accessToken:N,refreshToken:L,expiresIn:B}=await requestStsToken($,I);this.updateTokensAndExpiration(N,L,Number(B))}updateTokensAndExpiration($,I,N){this.refreshToken=I||null,this.accessToken=$||null,this.expirationTime=Date.now()+N*1e3}static fromJSON($,I){const{refreshToken:N,accessToken:L,expirationTime:B}=I,H=new StsTokenManager;return N&&(_assert(typeof N=="string","internal-error",{appName:$}),H.refreshToken=N),L&&(_assert(typeof L=="string","internal-error",{appName:$}),H.accessToken=L),B&&(_assert(typeof B=="number","internal-error",{appName:$}),H.expirationTime=B),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign($){this.accessToken=$.accessToken,this.refreshToken=$.refreshToken,this.expirationTime=$.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(T,$){_assert(typeof T=="string"||typeof T>"u","internal-error",{appName:$})}class UserImpl{constructor($){var{uid:I,auth:N,stsTokenManager:L}=$,B=__rest$j($,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=N,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new UserMetadata(B.createdAt||void 0,B.lastLoginAt||void 0)}async getIdToken($){const I=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,$));return _assert(I,this.auth,"internal-error"),this.accessToken!==I&&(this.accessToken=I,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),I}getIdTokenResult($){return getIdTokenResult(this,$)}reload(){return reload(this)}_assign($){this!==$&&(_assert(this.uid===$.uid,this.auth,"internal-error"),this.displayName=$.displayName,this.photoURL=$.photoURL,this.email=$.email,this.emailVerified=$.emailVerified,this.phoneNumber=$.phoneNumber,this.isAnonymous=$.isAnonymous,this.tenantId=$.tenantId,this.providerData=$.providerData.map(I=>Object.assign({},I)),this.metadata._copy($.metadata),this.stsTokenManager._assign($.stsTokenManager))}_clone($){const I=new UserImpl(Object.assign(Object.assign({},this),{auth:$,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload($){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=$,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener($){this.reloadListener?this.reloadListener($):this.reloadUserInfo=$}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary($,I=!1){let N=!1;$.idToken&&$.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse($),N=!0),I&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),N&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const $=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:$})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map($=>Object.assign({},$)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON($,I){var N,L,B,H,z,Q,te,G;const ie=(N=I.displayName)!==null&&N!==void 0?N:void 0,Re=(L=I.email)!==null&&L!==void 0?L:void 0,$e=(B=I.phoneNumber)!==null&&B!==void 0?B:void 0,Pe=(H=I.photoURL)!==null&&H!==void 0?H:void 0,Me=(z=I.tenantId)!==null&&z!==void 0?z:void 0,Be=(Q=I._redirectEventId)!==null&&Q!==void 0?Q:void 0,Ke=(te=I.createdAt)!==null&&te!==void 0?te:void 0,Le=(G=I.lastLoginAt)!==null&&G!==void 0?G:void 0,{uid:qe,emailVerified:He,isAnonymous:Ge,providerData:at,stsTokenManager:ot}=I;_assert(qe&&ot,$,"internal-error");const Ye=StsTokenManager.fromJSON(this.name,ot);_assert(typeof qe=="string",$,"internal-error"),assertStringOrUndefined(ie,$.name),assertStringOrUndefined(Re,$.name),_assert(typeof He=="boolean",$,"internal-error"),_assert(typeof Ge=="boolean",$,"internal-error"),assertStringOrUndefined($e,$.name),assertStringOrUndefined(Pe,$.name),assertStringOrUndefined(Me,$.name),assertStringOrUndefined(Be,$.name),assertStringOrUndefined(Ke,$.name),assertStringOrUndefined(Le,$.name);const nt=new UserImpl({uid:qe,auth:$,email:Re,emailVerified:He,displayName:ie,isAnonymous:Ge,photoURL:Pe,phoneNumber:$e,tenantId:Me,stsTokenManager:Ye,createdAt:Ke,lastLoginAt:Le});return at&&Array.isArray(at)&&(nt.providerData=at.map(Qe=>Object.assign({},Qe))),Be&&(nt._redirectEventId=Be),nt}static async _fromIdTokenResponse($,I,N=!1){const L=new StsTokenManager;L.updateFromServerResponse(I);const B=new UserImpl({uid:I.localId,auth:$,stsTokenManager:L,isAnonymous:N});return await _reloadWithoutSaving(B),B}static async _fromGetAccountInfoResponse($,I,N){const L=I.users[0];_assert(L.localId!==void 0,"internal-error");const B=L.providerUserInfo!==void 0?extractProviderData(L.providerUserInfo):[],H=!(L.email&&L.passwordHash)&&!(B!=null&&B.length),z=new StsTokenManager;z.updateFromIdToken(N);const Q=new UserImpl({uid:L.localId,auth:$,stsTokenManager:z,isAnonymous:H}),te={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:B,metadata:new UserMetadata(L.createdAt,L.lastLoginAt),isAnonymous:!(L.email&&L.passwordHash)&&!(B!=null&&B.length)};return Object.assign(Q,te),Q}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(T){debugAssert(T instanceof Function,"Expected a class definition");let $=instanceCache.get(T);return $?(debugAssert($ instanceof T,"Instance stored in cache mismatched with class"),$):($=new T,instanceCache.set(T,$),$)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set($,I){this.storage[$]=I}async _get($){const I=this.storage[$];return I===void 0?null:I}async _remove($){delete this.storage[$]}_addListener($,I){}_removeListener($,I){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(T,$,I){return`firebase:${T}:${$}:${I}`}class PersistenceUserManager{constructor($,I,N){this.persistence=$,this.auth=I,this.userKey=N;const{config:L,name:B}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,L.apiKey,B),this.fullPersistenceKey=_persistenceKeyName("persistence",L.apiKey,B),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser($){return this.persistence._set(this.fullUserKey,$.toJSON())}async getCurrentUser(){const $=await this.persistence._get(this.fullUserKey);return $?UserImpl._fromJSON(this.auth,$):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence($){if(this.persistence===$)return;const I=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=$,I)return this.setCurrentUser(I)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create($,I,N="authUser"){if(!I.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),$,N);const L=(await Promise.all(I.map(async te=>{if(await te._isAvailable())return te}))).filter(te=>te);let B=L[0]||_getInstance(inMemoryPersistence);const H=_persistenceKeyName(N,$.config.apiKey,$.name);let z=null;for(const te of I)try{const G=await te._get(H);if(G){const ie=UserImpl._fromJSON($,G);te!==B&&(z=ie),B=te;break}}catch{}const Q=L.filter(te=>te._shouldAllowMigration);return!B._shouldAllowMigration||!Q.length?new PersistenceUserManager(B,$,N):(B=Q[0],z&&await B._set(H,z.toJSON()),await Promise.all(I.map(async te=>{if(te!==B)try{await te._remove(H)}catch{}})),new PersistenceUserManager(B,$,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(T){const $=T.toLowerCase();if($.includes("opera/")||$.includes("opr/")||$.includes("opios/"))return"Opera";if(_isIEMobile($))return"IEMobile";if($.includes("msie")||$.includes("trident/"))return"IE";if($.includes("edge/"))return"Edge";if(_isFirefox($))return"Firefox";if($.includes("silk/"))return"Silk";if(_isBlackBerry($))return"Blackberry";if(_isWebOS($))return"Webos";if(_isSafari($))return"Safari";if(($.includes("chrome/")||_isChromeIOS($))&&!$.includes("edge/"))return"Chrome";if(_isAndroid($))return"Android";{const I=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,N=T.match(I);if((N==null?void 0:N.length)===2)return N[1]}return"Other"}function _isFirefox(T=getUA()){return/firefox\//i.test(T)}function _isSafari(T=getUA()){const $=T.toLowerCase();return $.includes("safari/")&&!$.includes("chrome/")&&!$.includes("crios/")&&!$.includes("android")}function _isChromeIOS(T=getUA()){return/crios\//i.test(T)}function _isIEMobile(T=getUA()){return/iemobile/i.test(T)}function _isAndroid(T=getUA()){return/android/i.test(T)}function _isBlackBerry(T=getUA()){return/blackberry/i.test(T)}function _isWebOS(T=getUA()){return/webos/i.test(T)}function _isIOS(T=getUA()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function _isIOSStandalone(T=getUA()){var $;return _isIOS(T)&&!!(!(($=window.navigator)===null||$===void 0)&&$.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(T=getUA()){return _isIOS(T)||_isAndroid(T)||_isWebOS(T)||_isBlackBerry(T)||/windows phone/i.test(T)||_isIEMobile(T)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(T,$=[]){let I;switch(T){case"Browser":I=_getBrowserName(getUA());break;case"Worker":I=`${_getBrowserName(getUA())}-${T}`;break;default:I=T}const N=$.length?$.join(","):"FirebaseCore-web";return`${I}/JsCore/${SDK_VERSION}/${N}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor($){this.auth=$,this.queue=[]}pushCallback($,I){const N=B=>new Promise((H,z)=>{try{const Q=$(B);H(Q)}catch(Q){z(Q)}});N.onAbort=I,this.queue.push(N);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}async runMiddleware($){if(this.auth.currentUser===$)return;const I=[];try{for(const N of this.queue)await N($),N.onAbort&&I.push(N.onAbort)}catch(N){I.reverse();for(const L of I)try{L()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:N==null?void 0:N.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(T,$={}){return _performApiRequest(T,"GET","/v2/passwordPolicy",_addTidIfNecessary(T,$))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor($){var I,N,L,B;const H=$.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(I=H.minPasswordLength)!==null&&I!==void 0?I:MINIMUM_MIN_PASSWORD_LENGTH,H.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=H.maxPasswordLength),H.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=H.containsLowercaseCharacter),H.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=H.containsUppercaseCharacter),H.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=H.containsNumericCharacter),H.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=H.containsNonAlphanumericCharacter),this.enforcementState=$.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(L=(N=$.allowedNonAlphanumericCharacters)===null||N===void 0?void 0:N.join(""))!==null&&L!==void 0?L:"",this.forceUpgradeOnSignin=(B=$.forceUpgradeOnSignin)!==null&&B!==void 0?B:!1,this.schemaVersion=$.schemaVersion}validatePassword($){var I,N,L,B,H,z;const Q={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions($,Q),this.validatePasswordCharacterOptions($,Q),Q.isValid&&(Q.isValid=(I=Q.meetsMinPasswordLength)!==null&&I!==void 0?I:!0),Q.isValid&&(Q.isValid=(N=Q.meetsMaxPasswordLength)!==null&&N!==void 0?N:!0),Q.isValid&&(Q.isValid=(L=Q.containsLowercaseLetter)!==null&&L!==void 0?L:!0),Q.isValid&&(Q.isValid=(B=Q.containsUppercaseLetter)!==null&&B!==void 0?B:!0),Q.isValid&&(Q.isValid=(H=Q.containsNumericCharacter)!==null&&H!==void 0?H:!0),Q.isValid&&(Q.isValid=(z=Q.containsNonAlphanumericCharacter)!==null&&z!==void 0?z:!0),Q}validatePasswordLengthOptions($,I){const N=this.customStrengthOptions.minPasswordLength,L=this.customStrengthOptions.maxPasswordLength;N&&(I.meetsMinPasswordLength=$.length>=N),L&&(I.meetsMaxPasswordLength=$.length<=L)}validatePasswordCharacterOptions($,I){this.updatePasswordCharacterOptionsStatuses(I,!1,!1,!1,!1);let N;for(let L=0;L<$.length;L++)N=$.charAt(L),this.updatePasswordCharacterOptionsStatuses(I,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses($,I,N,L,B){this.customStrengthOptions.containsLowercaseLetter&&($.containsLowercaseLetter||($.containsLowercaseLetter=I)),this.customStrengthOptions.containsUppercaseLetter&&($.containsUppercaseLetter||($.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&($.containsNumericCharacter||($.containsNumericCharacter=L)),this.customStrengthOptions.containsNonAlphanumericCharacter&&($.containsNonAlphanumericCharacter||($.containsNonAlphanumericCharacter=B))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor($,I,N,L){this.app=$,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=N,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=$.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence($,I){return I&&(this._popupRedirectResolver=_getInstance(I)),this._initializationPromise=this.queue(async()=>{var N,L;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,$),!this._deleted)){if(!((N=this._popupRedirectResolver)===null||N===void 0)&&N._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(I),this.lastNotifiedUid=((L=this.currentUser)===null||L===void 0?void 0:L.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const $=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!$)){if(this.currentUser&&$&&this.currentUser.uid===$.uid){this._currentUser._assign($),await this.currentUser.getIdToken();return}await this._updateCurrentUser($,!0)}}async initializeCurrentUserFromIdToken($){try{const I=await getAccountInfo(this,{idToken:$}),N=await UserImpl._fromGetAccountInfoResponse(this,I,$);await this.directlySetCurrentUser(N)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),await this.directlySetCurrentUser(null)}}async initializeCurrentUser($){var I;if(_isFirebaseServerApp(this.app)){const H=this.app.settings.authIdToken;return H?new Promise(z=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(H).then(z,z))}):this.directlySetCurrentUser(null)}const N=await this.assertedPersistence.getCurrentUser();let L=N,B=!1;if($&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const H=(I=this.redirectUser)===null||I===void 0?void 0:I._redirectEventId,z=L==null?void 0:L._redirectEventId,Q=await this.tryRedirectSignIn($);(!H||H===z)&&(Q!=null&&Q.user)&&(L=Q.user,B=!0)}if(!L)return this.directlySetCurrentUser(null);if(!L._redirectEventId){if(B)try{await this.beforeStateQueue.runMiddleware(L)}catch(H){L=N,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(H))}return L?this.reloadAndSetCurrentUserOrClear(L):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===L._redirectEventId?this.directlySetCurrentUser(L):this.reloadAndSetCurrentUserOrClear(L)}async tryRedirectSignIn($){let I=null;try{I=await this._popupRedirectResolver._completeRedirectFn(this,$,!0)}catch{await this._setRedirectUser(null)}return I}async reloadAndSetCurrentUserOrClear($){try{await _reloadWithoutSaving($)}catch(I){if((I==null?void 0:I.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser($)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser($){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const I=$?getModularInstance($):null;return I&&_assert(I.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(I&&I._clone(this))}async _updateCurrentUser($,I=!1){if(!this._deleted)return $&&_assert(this.tenantId===$.tenantId,this,"tenant-id-mismatch"),I||await this.beforeStateQueue.runMiddleware($),this.queue(async()=>{await this.directlySetCurrentUser($),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence($){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance($))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword($){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const I=this._getPasswordPolicyInternal();return I.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword($)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const $=await _getPasswordPolicy(this),I=new PasswordPolicyImpl($);this.tenantId===null?this._projectPasswordPolicy=I:this._tenantPasswordPolicies[this.tenantId]=I}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap($){this._errorFactory=new ErrorFactory("auth","Firebase",$())}onAuthStateChanged($,I,N){return this.registerStateListener(this.authStateSubscription,$,I,N)}beforeAuthStateChanged($,I){return this.beforeStateQueue.pushCallback($,I)}onIdTokenChanged($,I,N){return this.registerStateListener(this.idTokenSubscription,$,I,N)}authStateReady(){return new Promise(($,I)=>{if(this.currentUser)$();else{const N=this.onAuthStateChanged(()=>{N(),$()},I)}})}async revokeAccessToken($){if(this.currentUser){const I=await this.currentUser.getIdToken(),N={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:$,idToken:I};this.tenantId!=null&&(N.tenantId=this.tenantId),await revokeToken(this,N)}}toJSON(){var $;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:($=this._currentUser)===null||$===void 0?void 0:$.toJSON()}}async _setRedirectUser($,I){const N=await this.getOrInitRedirectPersistenceManager(I);return $===null?N.removeCurrentUser():N.setCurrentUser($)}async getOrInitRedirectPersistenceManager($){if(!this.redirectPersistenceManager){const I=$&&_getInstance($)||this._popupRedirectResolver;_assert(I,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(I._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId($){var I,N;return this._isInitialized&&await this.queue(async()=>{}),((I=this._currentUser)===null||I===void 0?void 0:I._redirectEventId)===$?this._currentUser:((N=this.redirectUser)===null||N===void 0?void 0:N._redirectEventId)===$?this.redirectUser:null}async _persistUserIfCurrent($){if($===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser($))}_notifyListenersIfCurrent($){$===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var $,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=(I=($=this.currentUser)===null||$===void 0?void 0:$.uid)!==null&&I!==void 0?I:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener($,I,N,L){if(this._deleted)return()=>{};const B=typeof I=="function"?I:I.next.bind(I);let H=!1;const z=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(z,this,"internal-error"),z.then(()=>{H||B(this.currentUser)}),typeof I=="function"){const Q=$.addObserver(I,N,L);return()=>{H=!0,Q()}}else{const Q=$.addObserver(I);return()=>{H=!0,Q()}}}async directlySetCurrentUser($){this.currentUser&&this.currentUser!==$&&this._currentUser._stopProactiveRefresh(),$&&this.isProactiveRefreshEnabled&&$._startProactiveRefresh(),this.currentUser=$,$?await this.assertedPersistence.setCurrentUser($):await this.assertedPersistence.removeCurrentUser()}queue($){return this.operations=this.operations.then($,$),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework($){!$||this.frameworks.includes($)||(this.frameworks.push($),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var $;const I={"X-Client-Version":this.clientVersion};this.app.options.appId&&(I["X-Firebase-gmpid"]=this.app.options.appId);const N=await(($=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||$===void 0?void 0:$.getHeartbeatsHeader());N&&(I["X-Firebase-Client"]=N);const L=await this._getAppCheckToken();return L&&(I["X-Firebase-AppCheck"]=L),I}async _getAppCheckToken(){var $;const I=await(($=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||$===void 0?void 0:$.getToken());return I!=null&&I.error&&_logWarn(`Error while retrieving App Check token: ${I.error}`),I==null?void 0:I.token}}function _castAuth(T){return getModularInstance(T)}class Subscription{constructor($){this.auth=$,this.observer=null,this.addObserver=createSubscribe(I=>this.observer=I)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(T){externalJSProvider=T}function _loadJS(T){return externalJSProvider.loadJS(T)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(T){return`__${T}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor($){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth($)}async verify($="verify",I=!1){async function N(B){if(!I){if(B.tenantId==null&&B._agentRecaptchaConfig!=null)return B._agentRecaptchaConfig.siteKey;if(B.tenantId!=null&&B._tenantRecaptchaConfigs[B.tenantId]!==void 0)return B._tenantRecaptchaConfigs[B.tenantId].siteKey}return new Promise(async(H,z)=>{getRecaptchaConfig(B,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Q=>{if(Q.recaptchaKey===void 0)z(new Error("recaptcha Enterprise site key undefined"));else{const te=new RecaptchaConfig(Q);return B.tenantId==null?B._agentRecaptchaConfig=te:B._tenantRecaptchaConfigs[B.tenantId]=te,H(te.siteKey)}}).catch(Q=>{z(Q)})})}function L(B,H,z){const Q=window.grecaptcha;isEnterprise(Q)?Q.enterprise.ready(()=>{Q.enterprise.execute(B,{action:$}).then(te=>{H(te)}).catch(()=>{H(FAKE_TOKEN)})}):z(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((B,H)=>{N(this.auth).then(z=>{if(!I&&isEnterprise(window.grecaptcha))L(z,B,H);else{if(typeof window>"u"){H(new Error("RecaptchaVerifier is only supported in browser"));return}let Q=_recaptchaEnterpriseScriptUrl();Q.length!==0&&(Q+=z),_loadJS(Q).then(()=>{L(z,B,H)}).catch(te=>{H(te)})}}).catch(z=>{H(z)})})}}async function injectRecaptchaFields(T,$,I,N=!1){const L=new RecaptchaEnterpriseVerifier(T);let B;try{B=await L.verify(I)}catch{B=await L.verify(I,!0)}const H=Object.assign({},$);return N?Object.assign(H,{captchaResp:B}):Object.assign(H,{captchaResponse:B}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H}async function handleRecaptchaFlow(T,$,I,N){var L;if(!((L=T._getRecaptchaConfig())===null||L===void 0)&&L.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const B=await injectRecaptchaFields(T,$,I,I==="getOobCode");return N(T,B)}else return N(T,$).catch(async B=>{if(B.code==="auth/missing-recaptcha-token"){console.log(`${I} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=await injectRecaptchaFields(T,$,I,I==="getOobCode");return N(T,H)}else return Promise.reject(B)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(T,$){const I=_getProvider(T,"auth");if(I.isInitialized()){const L=I.getImmediate(),B=I.getOptions();if(deepEqual(B,$??{}))return L;_fail(L,"already-initialized")}return I.initialize({options:$})}function _initializeAuthInstance(T,$){const I=($==null?void 0:$.persistence)||[],N=(Array.isArray(I)?I:[I]).map(_getInstance);$!=null&&$.errorMap&&T._updateErrorMap($.errorMap),T._initializeWithPersistence(N,$==null?void 0:$.popupRedirectResolver)}function connectAuthEmulator(T,$,I){const N=_castAuth(T);_assert(N._canInitEmulator,N,"emulator-config-failed"),_assert(/^https?:\/\//.test($),N,"invalid-emulator-scheme");const L=!1,B=extractProtocol($),{host:H,port:z}=extractHostAndPort($),Q=z===null?"":`:${z}`;N.config.emulator={url:`${B}//${H}${Q}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:H,port:z,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:L})}),emitEmulatorWarning()}function extractProtocol(T){const $=T.indexOf(":");return $<0?"":T.substr(0,$+1)}function extractHostAndPort(T){const $=extractProtocol(T),I=/(\/\/)?([^?#/]+)/.exec(T.substr($.length));if(!I)return{host:"",port:null};const N=I[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(N);if(L){const B=L[1];return{host:B,port:parsePort(N.substr(B.length+1))}}else{const[B,H]=N.split(":");return{host:B,port:parsePort(H)}}}function parsePort(T){if(!T)return null;const $=Number(T);return isNaN($)?null:$}function emitEmulatorWarning(){function T(){const $=document.createElement("p"),I=$.style;$.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",$.classList.add("firebase-emulator-warning"),document.body.appendChild($)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor($,I){this.providerId=$,this.signInMethod=I}toJSON(){return debugFail("not implemented")}_getIdTokenResponse($){return debugFail("not implemented")}_linkToIdToken($,I){return debugFail("not implemented")}_getReauthenticationResolver($){return debugFail("not implemented")}}async function linkEmailPassword(T,$){return _performApiRequest(T,"POST","/v1/accounts:signUp",$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(T,$){return _performSignInRequest(T,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(T,$))}async function sendOobCode(T,$){return _performApiRequest(T,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(T,$))}async function sendPasswordResetEmail$1(T,$){return sendOobCode(T,$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(T,$){return _performSignInRequest(T,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(T,$))}async function signInWithEmailLinkForLinking(T,$){return _performSignInRequest(T,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(T,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor($,I,N,L=null){super("password",N),this._email=$,this._password=I,this._tenantId=L}static _fromEmailAndPassword($,I){return new EmailAuthCredential($,I,"password")}static _fromEmailAndCode($,I,N=null){return new EmailAuthCredential($,I,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON($){const I=typeof $=="string"?JSON.parse($):$;if(I!=null&&I.email&&(I!=null&&I.password)){if(I.signInMethod==="password")return this._fromEmailAndPassword(I.email,I.password);if(I.signInMethod==="emailLink")return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}async _getIdTokenResponse($){switch(this.signInMethod){case"password":const I={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow($,I,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1($,{email:this._email,oobCode:this._password});default:_fail($,"internal-error")}}async _linkToIdToken($,I){switch(this.signInMethod){case"password":const N={idToken:I,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow($,N,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking($,{idToken:I,email:this._email,oobCode:this._password});default:_fail($,"internal-error")}}_getReauthenticationResolver($){return this._getIdTokenResponse($)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(T,$){return _performSignInRequest(T,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(T,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams($){const I=new OAuthCredential($.providerId,$.signInMethod);return $.idToken||$.accessToken?($.idToken&&(I.idToken=$.idToken),$.accessToken&&(I.accessToken=$.accessToken),$.nonce&&!$.pendingToken&&(I.nonce=$.nonce),$.pendingToken&&(I.pendingToken=$.pendingToken)):$.oauthToken&&$.oauthTokenSecret?(I.accessToken=$.oauthToken,I.secret=$.oauthTokenSecret):_fail("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON($){const I=typeof $=="string"?JSON.parse($):$,{providerId:N,signInMethod:L}=I,B=__rest$j(I,["providerId","signInMethod"]);if(!N||!L)return null;const H=new OAuthCredential(N,L);return H.idToken=B.idToken||void 0,H.accessToken=B.accessToken||void 0,H.secret=B.secret,H.nonce=B.nonce,H.pendingToken=B.pendingToken||null,H}_getIdTokenResponse($){const I=this.buildRequest();return signInWithIdp($,I)}_linkToIdToken($,I){const N=this.buildRequest();return N.idToken=I,signInWithIdp($,N)}_getReauthenticationResolver($){const I=this.buildRequest();return I.autoCreate=!1,signInWithIdp($,I)}buildRequest(){const $={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)$.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),$.postBody=querystring(I)}return $}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(T){const $=querystringDecode(extractQuerystring(T)).link,I=$?querystringDecode(extractQuerystring($)).deep_link_id:null,N=querystringDecode(extractQuerystring(T)).deep_link_id;return(N?querystringDecode(extractQuerystring(N)).link:null)||N||I||$||T}class ActionCodeURL{constructor($){var I,N,L,B,H,z;const Q=querystringDecode(extractQuerystring($)),te=(I=Q.apiKey)!==null&&I!==void 0?I:null,G=(N=Q.oobCode)!==null&&N!==void 0?N:null,ie=parseMode((L=Q.mode)!==null&&L!==void 0?L:null);_assert(te&&G&&ie,"argument-error"),this.apiKey=te,this.operation=ie,this.code=G,this.continueUrl=(B=Q.continueUrl)!==null&&B!==void 0?B:null,this.languageCode=(H=Q.languageCode)!==null&&H!==void 0?H:null,this.tenantId=(z=Q.tenantId)!==null&&z!==void 0?z:null}static parseLink($){const I=parseDeepLink($);try{return new ActionCodeURL(I)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential($,I){return EmailAuthCredential._fromEmailAndPassword($,I)}static credentialWithLink($,I){const N=ActionCodeURL.parseLink(I);return _assert(N,"argument-error"),EmailAuthCredential._fromEmailAndCode($,N.code,N.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor($){this.providerId=$,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage($){this.defaultLanguageCode=$}setCustomParameters($){return this.customParameters=$,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope($){return this.scopes.includes($)||this.scopes.push($),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential($){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:$})}static credentialFromResult($){return FacebookAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return FacebookAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$||!("oauthAccessToken"in $)||!$.oauthAccessToken)return null;try{return FacebookAuthProvider.credential($.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential($,I){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:$,accessToken:I})}static credentialFromResult($){return GoogleAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return GoogleAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$)return null;const{oauthIdToken:I,oauthAccessToken:N}=$;if(!I&&!N)return null;try{return GoogleAuthProvider.credential(I,N)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential($){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:$})}static credentialFromResult($){return GithubAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return GithubAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$||!("oauthAccessToken"in $)||!$.oauthAccessToken)return null;try{return GithubAuthProvider.credential($.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential($,I){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:$,oauthTokenSecret:I})}static credentialFromResult($){return TwitterAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return TwitterAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$)return null;const{oauthAccessToken:I,oauthTokenSecret:N}=$;if(!I||!N)return null;try{return TwitterAuthProvider.credential(I,N)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(T,$){return _performSignInRequest(T,"POST","/v1/accounts:signUp",_addTidIfNecessary(T,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor($){this.user=$.user,this.providerId=$.providerId,this._tokenResponse=$._tokenResponse,this.operationType=$.operationType}static async _fromIdTokenResponse($,I,N,L=!1){const B=await UserImpl._fromIdTokenResponse($,N,L),H=providerIdForResponse(N);return new UserCredentialImpl({user:B,providerId:H,_tokenResponse:N,operationType:I})}static async _forOperation($,I,N){await $._updateTokensIfNecessary(N,!0);const L=providerIdForResponse(N);return new UserCredentialImpl({user:$,providerId:L,_tokenResponse:N,operationType:I})}}function providerIdForResponse(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor($,I,N,L){var B;super(I.code,I.message),this.operationType=N,this.user=L,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:$.name,tenantId:(B=$.tenantId)!==null&&B!==void 0?B:void 0,_serverResponse:I.customData._serverResponse,operationType:N}}static _fromErrorAndOperation($,I,N,L){return new MultiFactorError($,I,N,L)}}function _processCredentialSavingMfaContextIfNecessary(T,$,I,N){return($==="reauthenticate"?I._getReauthenticationResolver(T):I._getIdTokenResponse(T)).catch(B=>{throw B.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(T,B,$,N):B})}async function _link$1(T,$,I=!1){const N=await _logoutIfInvalidated(T,$._linkToIdToken(T.auth,await T.getIdToken()),I);return UserCredentialImpl._forOperation(T,"link",N)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(T,$,I=!1){const{auth:N}=T;if(_isFirebaseServerApp(N.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(N));const L="reauthenticate";try{const B=await _logoutIfInvalidated(T,_processCredentialSavingMfaContextIfNecessary(N,L,$,T),I);_assert(B.idToken,N,"internal-error");const H=_parseToken(B.idToken);_assert(H,N,"internal-error");const{sub:z}=H;return _assert(T.uid===z,N,"user-mismatch"),UserCredentialImpl._forOperation(T,L,B)}catch(B){throw(B==null?void 0:B.code)==="auth/user-not-found"&&_fail(N,"user-mismatch"),B}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(T,$,I=!1){if(_isFirebaseServerApp(T.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T));const N="signIn",L=await _processCredentialSavingMfaContextIfNecessary(T,N,$),B=await UserCredentialImpl._fromIdTokenResponse(T,N,L);return I||await T._updateCurrentUser(B.user),B}async function signInWithCredential(T,$){return _signInWithCredential(_castAuth(T),$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(T){const $=_castAuth(T);$._getPasswordPolicyInternal()&&await $._updatePasswordPolicy()}async function sendPasswordResetEmail(T,$,I){const N=_castAuth(T);await handleRecaptchaFlow(N,{requestType:"PASSWORD_RESET",email:$,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sendPasswordResetEmail$1)}async function createUserWithEmailAndPassword(T,$,I){if(_isFirebaseServerApp(T.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T));const N=_castAuth(T),H=await handleRecaptchaFlow(N,{returnSecureToken:!0,email:$,password:I,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Q=>{throw Q.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(T),Q}),z=await UserCredentialImpl._fromIdTokenResponse(N,"signIn",H);return await N._updateCurrentUser(z.user),z}function signInWithEmailAndPassword(T,$,I){return _isFirebaseServerApp(T.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T)):signInWithCredential(getModularInstance(T),EmailAuthProvider.credential($,I)).catch(async N=>{throw N.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(T),N})}function onIdTokenChanged(T,$,I,N){return getModularInstance(T).onIdTokenChanged($,I,N)}function beforeAuthStateChanged(T,$,I){return getModularInstance(T).beforeAuthStateChanged($,I)}function signOut(T){return getModularInstance(T).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor($,I){this.storageRetriever=$,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set($,I){return this.storage.setItem($,JSON.stringify(I)),Promise.resolve()}_get($){const I=this.storage.getItem($);return Promise.resolve(I?JSON.parse(I):null)}_remove($){return this.storage.removeItem($),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=($,I)=>this.onStorageEvent($,I),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys($){for(const I of Object.keys(this.listeners)){const N=this.storage.getItem(I),L=this.localCache[I];N!==L&&$(I,L,N)}}onStorageEvent($,I=!1){if(!$.key){this.forAllChangedKeys((H,z,Q)=>{this.notifyListeners(H,Q)});return}const N=$.key;I?this.detachListener():this.stopPolling();const L=()=>{const H=this.storage.getItem(N);!I&&this.localCache[N]===H||this.notifyListeners(N,H)},B=this.storage.getItem(N);_isIE10()&&B!==$.newValue&&$.newValue!==$.oldValue?setTimeout(L,IE10_LOCAL_STORAGE_SYNC_DELAY):L()}notifyListeners($,I){this.localCache[$]=I;const N=this.listeners[$];if(N)for(const L of Array.from(N))L(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys(($,I,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:$,oldValue:I,newValue:N}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener($,I){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[$]||(this.listeners[$]=new Set,this.localCache[$]=this.storage.getItem($)),this.listeners[$].add(I)}_removeListener($,I){this.listeners[$]&&(this.listeners[$].delete(I),this.listeners[$].size===0&&delete this.listeners[$]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set($,I){await super._set($,I),this.localCache[$]=JSON.stringify(I)}async _get($){const I=await super._get($);return this.localCache[$]=JSON.stringify(I),I}async _remove($){await super._remove($),delete this.localCache[$]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener($,I){}_removeListener($,I){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(T){return Promise.all(T.map(async $=>{try{return{fulfilled:!0,value:await $}}catch(I){return{fulfilled:!1,reason:I}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Receiver$1=class kf{constructor($){this.eventTarget=$,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance($){const I=this.receivers.find(L=>L.isListeningto($));if(I)return I;const N=new kf($);return this.receivers.push(N),N}isListeningto($){return this.eventTarget===$}async handleEvent($){const I=$,{eventId:N,eventType:L,data:B}=I.data,H=this.handlersMap[L];if(!(H!=null&&H.size))return;I.ports[0].postMessage({status:"ack",eventId:N,eventType:L});const z=Array.from(H).map(async te=>te(I.origin,B)),Q=await _allSettled(z);I.ports[0].postMessage({status:"done",eventId:N,eventType:L,response:Q})}_subscribe($,I){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[$]||(this.handlersMap[$]=new Set),this.handlersMap[$].add(I)}_unsubscribe($,I){this.handlersMap[$]&&I&&this.handlersMap[$].delete(I),(!I||this.handlersMap[$].size===0)&&delete this.handlersMap[$],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};Receiver$1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(T="",$=10){let I="";for(let N=0;N<$;N++)I+=Math.floor(Math.random()*10);return T+I}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor($){this.target=$,this.handlers=new Set}removeMessageHandler($){$.messageChannel&&($.messageChannel.port1.removeEventListener("message",$.onMessage),$.messageChannel.port1.close()),this.handlers.delete($)}async _send($,I,N=50){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let B,H;return new Promise((z,Q)=>{const te=_generateEventId("",20);L.port1.start();const G=setTimeout(()=>{Q(new Error("unsupported_event"))},N);H={messageChannel:L,onMessage(ie){const Re=ie;if(Re.data.eventId===te)switch(Re.data.status){case"ack":clearTimeout(G),B=setTimeout(()=>{Q(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),z(Re.data.response);break;default:clearTimeout(G),clearTimeout(B),Q(new Error("invalid_response"));break}}},this.handlers.add(H),L.port1.addEventListener("message",H.onMessage),this.target.postMessage({eventType:$,eventId:te,data:I},[L.port2])}).finally(()=>{H&&this.removeMessageHandler(H)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(T){_window().location.href=T}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var T;return((T=navigator==null?void 0:navigator.serviceWorker)===null||T===void 0?void 0:T.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor($){this.request=$}toPromise(){return new Promise(($,I)=>{this.request.addEventListener("success",()=>{$(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function getObjectStore(T,$){return T.transaction([DB_OBJECTSTORE_NAME],$?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const T=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(T).toPromise()}function _openDatabase(){const T=indexedDB.open(DB_NAME,DB_VERSION);return new Promise(($,I)=>{T.addEventListener("error",()=>{I(T.error)}),T.addEventListener("upgradeneeded",()=>{const N=T.result;try{N.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(L){I(L)}}),T.addEventListener("success",async()=>{const N=T.result;N.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?$(N):(N.close(),await _deleteDatabase(),$(await _openDatabase()))})})}async function _putObject(T,$,I){const N=getObjectStore(T,!0).put({[DB_DATA_KEYPATH]:$,value:I});return new DBPromise(N).toPromise()}async function getObject(T,$){const I=getObjectStore(T,!1).get($),N=await new DBPromise(I).toPromise();return N===void 0?null:N.value}function _deleteObject(T,$){const I=getObjectStore(T,!0).delete($);return new DBPromise(I).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries($){let I=0;for(;;)try{const N=await this._openDb();return await $(N)}catch(N){if(I++>_TRANSACTION_RETRY_COUNT)throw N;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver$1._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async($,I)=>({keyProcessed:(await this._poll()).includes(I.key)})),this.receiver._subscribe("ping",async($,I)=>["keyChanged"])}async initializeSender(){var $,I;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const N=await this.sender._send("ping",{},800);N&&!(($=N[0])===null||$===void 0)&&$.fulfilled&&!((I=N[0])===null||I===void 0)&&I.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker($){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:$},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const $=await _openDatabase();return await _putObject($,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject($,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite($){this.pendingWrites++;try{await $()}finally{this.pendingWrites--}}async _set($,I){return this._withPendingWrite(async()=>(await this._withRetries(N=>_putObject(N,$,I)),this.localCache[$]=I,this.notifyServiceWorker($)))}async _get($){const I=await this._withRetries(N=>getObject(N,$));return this.localCache[$]=I,I}async _remove($){return this._withPendingWrite(async()=>(await this._withRetries(I=>_deleteObject(I,$)),delete this.localCache[$],this.notifyServiceWorker($)))}async _poll(){const $=await this._withRetries(L=>{const B=getObjectStore(L,!1).getAll();return new DBPromise(B).toPromise()});if(!$)return[];if(this.pendingWrites!==0)return[];const I=[],N=new Set;if($.length!==0)for(const{fbase_key:L,value:B}of $)N.add(L),JSON.stringify(this.localCache[L])!==JSON.stringify(B)&&(this.notifyListeners(L,B),I.push(L));for(const L of Object.keys(this.localCache))this.localCache[L]&&!N.has(L)&&(this.notifyListeners(L,null),I.push(L));return I}notifyListeners($,I){this.localCache[$]=I;const N=this.listeners[$];if(N)for(const L of Array.from(N))L(I)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener($,I){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[$]||(this.listeners[$]=new Set,this._get($)),this.listeners[$].add(I)}_removeListener($,I){this.listeners[$]&&(this.listeners[$].delete(I),this.listeners[$].size===0&&delete this.listeners[$]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(T,$){return $?_getInstance($):(_assert(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor($){super("custom","custom"),this.params=$}_getIdTokenResponse($){return signInWithIdp($,this._buildIdpRequest())}_linkToIdToken($,I){return signInWithIdp($,this._buildIdpRequest(I))}_getReauthenticationResolver($){return signInWithIdp($,this._buildIdpRequest())}_buildIdpRequest($){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return $&&(I.idToken=$),I}}function _signIn(T){return _signInWithCredential(T.auth,new IdpCredential(T),T.bypassAuthState)}function _reauth(T){const{auth:$,user:I}=T;return _assert(I,$,"internal-error"),_reauthenticate(I,new IdpCredential(T),T.bypassAuthState)}async function _link(T){const{auth:$,user:I}=T;return _assert(I,$,"internal-error"),_link$1(I,new IdpCredential(T),T.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor($,I,N,L,B=!1){this.auth=$,this.resolver=N,this.user=L,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){return new Promise(async($,I)=>{this.pendingPromise={resolve:$,reject:I};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(N){this.reject(N)}})}async onAuthEvent($){const{urlResponse:I,sessionId:N,postBody:L,tenantId:B,error:H,type:z}=$;if(H){this.reject(H);return}const Q={auth:this.auth,requestUri:I,sessionId:N,tenantId:B||void 0,postBody:L||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(z)(Q))}catch(te){this.reject(te)}}onError($){this.reject($)}getIdpTask($){switch($){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve($){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve($),this.unregisterAndCleanUp()}reject($){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject($),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor($,I,N,L,B){super($,I,L,B),this.provider=N,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const $=await this.execute();return _assert($,this.auth,"internal-error"),$}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const $=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],$),this.authWindow.associatedEvent=$,this.resolver._originValidation(this.auth).catch(I=>{this.reject(I)}),this.resolver._isIframeWebStorageSupported(this.auth,I=>{I||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var $;return(($=this.authWindow)===null||$===void 0?void 0:$.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const $=()=>{var I,N;if(!((N=(I=this.authWindow)===null||I===void 0?void 0:I.window)===null||N===void 0)&&N.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout($,_POLL_WINDOW_CLOSE_TIMEOUT.get())};$()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor($,I,N=!1){super($,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,N),this.eventId=null}async execute(){let $=redirectOutcomeMap.get(this.auth._key());if(!$){try{const N=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;$=()=>Promise.resolve(N)}catch(I){$=()=>Promise.reject(I)}redirectOutcomeMap.set(this.auth._key(),$)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),$()}async onAuthEvent($){if($.type==="signInViaRedirect")return super.onAuthEvent($);if($.type==="unknown"){this.resolve(null);return}if($.eventId){const I=await this.auth._redirectUserForId($.eventId);if(I)return this.user=I,super.onAuthEvent($);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(T,$){const I=pendingRedirectKey($),N=resolverPersistence(T);if(!await N._isAvailable())return!1;const L=await N._get(I)==="true";return await N._remove(I),L}function _overrideRedirectResult(T,$){redirectOutcomeMap.set(T._key(),$)}function resolverPersistence(T){return _getInstance(T._redirectPersistence)}function pendingRedirectKey(T){return _persistenceKeyName(PENDING_REDIRECT_KEY,T.config.apiKey,T.name)}async function _getRedirectResult(T,$,I=!1){if(_isFirebaseServerApp(T.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(T));const N=_castAuth(T),L=_withDefaultResolver(N,$),H=await new RedirectAction(N,L,I).execute();return H&&!I&&(delete H.user._redirectEventId,await N._persistUserIfCurrent(H.user),await N._setRedirectUser(null,$)),H}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor($){this.auth=$,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer($){this.consumers.add($),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,$)&&(this.sendToConsumer(this.queuedRedirectEvent,$),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer($){this.consumers.delete($)}onEvent($){if(this.hasEventBeenHandled($))return!1;let I=!1;return this.consumers.forEach(N=>{this.isEventForConsumer($,N)&&(I=!0,this.sendToConsumer($,N),this.saveEventToCache($))}),this.hasHandledPotentialRedirect||!isRedirectEvent($)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=$,I=!0)),I}sendToConsumer($,I){var N;if($.error&&!isNullRedirectEvent($)){const L=((N=$.error.code)===null||N===void 0?void 0:N.split("auth/")[1])||"internal-error";I.onError(_createError(this.auth,L))}else I.onAuthEvent($)}isEventForConsumer($,I){const N=I.eventId===null||!!$.eventId&&$.eventId===I.eventId;return I.filter.includes($.type)&&N}hasEventBeenHandled($){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid($))}saveEventToCache($){this.cachedEventUids.add(eventUid($)),this.lastProcessedEventTime=Date.now()}}function eventUid(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter($=>$).join("-")}function isNullRedirectEvent({type:T,error:$}){return T==="unknown"&&($==null?void 0:$.code)==="auth/no-auth-event"}function isRedirectEvent(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(T);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(T,$={}){return _performApiRequest(T,"GET","/v1/projects",$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(T){if(T.config.emulator)return;const{authorizedDomains:$}=await _getProjectConfig(T);for(const I of $)try{if(matchDomain(I))return}catch{}_fail(T,"unauthorized-domain")}function matchDomain(T){const $=_getCurrentUrl(),{protocol:I,hostname:N}=new URL($);if(T.startsWith("chrome-extension://")){const H=new URL(T);return H.hostname===""&&N===""?I==="chrome-extension:"&&T.replace("chrome-extension://","")===$.replace("chrome-extension://",""):I==="chrome-extension:"&&H.hostname===N}if(!HTTP_REGEX.test(I))return!1;if(IP_ADDRESS_REGEX.test(T))return N===T;const L=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(N)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const T=_window().___jsl;if(T!=null&&T.H){for(const $ of Object.keys(T.H))if(T.H[$].r=T.H[$].r||[],T.H[$].L=T.H[$].L||[],T.H[$].r=[...T.H[$].L],T.CP)for(let I=0;I<T.CP.length;I++)T.CP[I]=null}}function loadGapi(T){return new Promise(($,I)=>{var N,L,B;function H(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{$(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),I(_createError(T,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((L=(N=_window().gapi)===null||N===void 0?void 0:N.iframes)===null||L===void 0)&&L.Iframe)$(gapi.iframes.getContext());else if(!((B=_window().gapi)===null||B===void 0)&&B.load)H();else{const z=_generateCallbackName("iframefcb");return _window()[z]=()=>{gapi.load?H():I(_createError(T,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${z}`).catch(Q=>I(Q))}}).catch($=>{throw cachedGApiLoader=null,$})}let cachedGApiLoader=null;function _loadGapi(T){return cachedGApiLoader=cachedGApiLoader||loadGapi(T),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(T){const $=T.config;_assert($.authDomain,T,"auth-domain-config-required");const I=$.emulator?_emulatorUrl($,EMULATED_IFRAME_PATH):`https://${T.config.authDomain}/${IFRAME_PATH}`,N={apiKey:$.apiKey,appName:T.name,v:SDK_VERSION},L=EID_FROM_APIHOST.get(T.config.apiHost);L&&(N.eid=L);const B=T._getFrameworks();return B.length&&(N.fw=B.join(",")),`${I}?${querystring(N).slice(1)}`}async function _openIframe(T){const $=await _loadGapi(T),I=_window().gapi;return _assert(I,T,"internal-error"),$.open({where:document.body,url:getIframeUrl(T),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},N=>new Promise(async(L,B)=>{await N.restyle({setHideOnLeave:!1});const H=_createError(T,"network-request-failed"),z=_window().setTimeout(()=>{B(H)},PING_TIMEOUT.get());function Q(){_window().clearTimeout(z),L(N)}N.ping(Q).then(Q,()=>{B(H)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor($){this.window=$,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(T,$,I,N=DEFAULT_WIDTH,L=DEFAULT_HEIGHT){const B=Math.max((window.screen.availHeight-L)/2,0).toString(),H=Math.max((window.screen.availWidth-N)/2,0).toString();let z="";const Q=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:N.toString(),height:L.toString(),top:B,left:H}),te=getUA().toLowerCase();I&&(z=_isChromeIOS(te)?TARGET_BLANK:I),_isFirefox(te)&&($=$||FIREFOX_EMPTY_URL,Q.scrollbars="yes");const G=Object.entries(Q).reduce((Re,[$e,Pe])=>`${Re}${$e}=${Pe},`,"");if(_isIOSStandalone(te)&&z!=="_self")return openAsNewWindowIOS($||"",z),new AuthPopup(null);const ie=window.open($||"",z,G);_assert(ie,T,"popup-blocked");try{ie.focus()}catch{}return new AuthPopup(ie)}function openAsNewWindowIOS(T,$){const I=document.createElement("a");I.href=T,I.target=$;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(N)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(T,$,I,N,L,B){_assert(T.config.authDomain,T,"auth-domain-config-required"),_assert(T.config.apiKey,T,"invalid-api-key");const H={apiKey:T.config.apiKey,appName:T.name,authType:I,redirectUrl:N,v:SDK_VERSION,eventId:L};if($ instanceof FederatedAuthProvider){$.setDefaultLanguage(T.languageCode),H.providerId=$.providerId||"",isEmpty$1($.getCustomParameters())||(H.customParameters=JSON.stringify($.getCustomParameters()));for(const[G,ie]of Object.entries({}))H[G]=ie}if($ instanceof BaseOAuthProvider){const G=$.getScopes().filter(ie=>ie!=="");G.length>0&&(H.scopes=G.join(","))}T.tenantId&&(H.tid=T.tenantId);const z=H;for(const G of Object.keys(z))z[G]===void 0&&delete z[G];const Q=await T._getAppCheckToken(),te=Q?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Q)}`:"";return`${getHandlerBase(T)}?${querystring(z).slice(1)}${te}`}function getHandlerBase({config:T}){return T.emulator?_emulatorUrl(T,EMULATOR_WIDGET_PATH):`https://${T.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup($,I,N,L){var B;debugAssert((B=this.eventManagers[$._key()])===null||B===void 0?void 0:B.manager,"_initialize() not called before _openPopup()");const H=await _getRedirectUrl($,I,N,_getCurrentUrl(),L);return _open($,H,_generateEventId())}async _openRedirect($,I,N,L){await this._originValidation($);const B=await _getRedirectUrl($,I,N,_getCurrentUrl(),L);return _setWindowLocation(B),new Promise(()=>{})}_initialize($){const I=$._key();if(this.eventManagers[I]){const{manager:L,promise:B}=this.eventManagers[I];return L?Promise.resolve(L):(debugAssert(B,"If manager is not set, promise should be"),B)}const N=this.initAndGetManager($);return this.eventManagers[I]={promise:N},N.catch(()=>{delete this.eventManagers[I]}),N}async initAndGetManager($){const I=await _openIframe($),N=new AuthEventManager($);return I.register("authEvent",L=>(_assert(L==null?void 0:L.authEvent,$,"invalid-auth-event"),{status:N.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[$._key()]={manager:N},this.iframes[$._key()]=I,N}_isIframeWebStorageSupported($,I){this.iframes[$._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},L=>{var B;const H=(B=L==null?void 0:L[0])===null||B===void 0?void 0:B[WEB_STORAGE_SUPPORT_KEY];H!==void 0&&I(!!H),_fail($,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation($){const I=$._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=_validateOrigin($)),this.originValidationPromises[I]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$4="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor($){this.auth=$,this.internalListeners=new Map}getUid(){var $;return this.assertAuthConfigured(),(($=this.auth.currentUser)===null||$===void 0?void 0:$.uid)||null}async getToken($){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken($)}:null}addAuthTokenListener($){if(this.assertAuthConfigured(),this.internalListeners.has($))return;const I=this.auth.onIdTokenChanged(N=>{$((N==null?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set($,I),this.updateProactiveRefresh()}removeAuthTokenListener($){this.assertAuthConfigured();const I=this.internalListeners.get($);I&&(this.internalListeners.delete($),I(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(T){_registerComponent(new Component("auth",($,{options:I})=>{const N=$.getProvider("app").getImmediate(),L=$.getProvider("heartbeat"),B=$.getProvider("app-check-internal"),{apiKey:H,authDomain:z}=N.options;_assert(H&&!H.includes(":"),"invalid-api-key",{appName:N.name});const Q={apiKey:H,authDomain:z,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(T)},te=new AuthImpl(N,L,B,Q);return _initializeAuthInstance(te,I),te},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($,I,N)=>{$.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",$=>{const I=_castAuth($.getProvider("auth").getImmediate());return(N=>new AuthInterop(N))(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$4,getVersionForPlatform(T)),registerVersion(name$2,version$4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=T=>async $=>{const I=$&&await $.getIdTokenResult(),N=I&&(new Date().getTime()-Date.parse(I.issuedAtTime))/1e3;if(N&&N>authIdTokenMaxAge)return;const L=I==null?void 0:I.token;lastPostedIdToken!==L&&(lastPostedIdToken=L,await fetch(T,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))};function getAuth(T=getApp()){const $=_getProvider(T,"auth");if($.isInitialized())return $.getImmediate();const I=initializeAuth(T,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),N=getExperimentalSetting("authTokenSyncURL");if(N&&typeof isSecureContext=="boolean"&&isSecureContext){const B=new URL(N,location.origin);if(location.origin===B.origin){const H=mintCookieFactory(B.toString());beforeAuthStateChanged(I,H,()=>H(I.currentUser)),onIdTokenChanged(I,z=>H(z))}}const L=getDefaultEmulatorHost("auth");return L&&connectAuthEmulator(I,`http://${L}`),I}function getScriptParentElement(){var T,$;return($=(T=document.getElementsByTagName("head"))===null||T===void 0?void 0:T[0])!==null&&$!==void 0?$:document}_setExternalJSProvider({loadJS(T){return new Promise(($,I)=>{const N=document.createElement("script");N.setAttribute("src",T),N.onload=$,N.onerror=L=>{const B=_createError("internal-error");B.customData=L,I(B)},N.type="text/javascript",N.charset="UTF-8",getScriptParentElement().appendChild(N)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor($,I,N=0){super(prependCode($),`Firebase Storage: ${I} (${prependCode($)})`),this.status_=N,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status($){this.status_=$}_codeEquals($){return prependCode($)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse($){this.customData.serverResponse=$,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(T){T.UNKNOWN="unknown",T.OBJECT_NOT_FOUND="object-not-found",T.BUCKET_NOT_FOUND="bucket-not-found",T.PROJECT_NOT_FOUND="project-not-found",T.QUOTA_EXCEEDED="quota-exceeded",T.UNAUTHENTICATED="unauthenticated",T.UNAUTHORIZED="unauthorized",T.UNAUTHORIZED_APP="unauthorized-app",T.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",T.INVALID_CHECKSUM="invalid-checksum",T.CANCELED="canceled",T.INVALID_EVENT_NAME="invalid-event-name",T.INVALID_URL="invalid-url",T.INVALID_DEFAULT_BUCKET="invalid-default-bucket",T.NO_DEFAULT_BUCKET="no-default-bucket",T.CANNOT_SLICE_BLOB="cannot-slice-blob",T.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",T.NO_DOWNLOAD_URL="no-download-url",T.INVALID_ARGUMENT="invalid-argument",T.INVALID_ARGUMENT_COUNT="invalid-argument-count",T.APP_DELETED="app-deleted",T.INVALID_ROOT_OPERATION="invalid-root-operation",T.INVALID_FORMAT="invalid-format",T.INTERNAL_ERROR="internal-error",T.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(T){return"storage/"+T}function unknown(){const T="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,T)}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(T){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+T+"'.")}function invalidDefaultBucket(T){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+T+"'.")}function invalidArgument(T){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,T)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(T){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+T+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor($,I){this.bucket=$,this.path_=I}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o/"+$(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec($,I){let N;try{N=Location.makeFromUrl($,I)}catch{return new Location($,"")}if(N.path==="")return N;throw invalidDefaultBucket($)}static makeFromUrl($,I){let N=null;const L="([A-Za-z0-9.\\-_]+)";function B(He){He.path.charAt(He.path.length-1)==="/"&&(He.path_=He.path_.slice(0,-1))}const H="(/(.*))?$",z=new RegExp("^gs://"+L+H,"i"),Q={bucket:1,path:3};function te(He){He.path_=decodeURIComponent(He.path)}const G="v[A-Za-z0-9_]+",ie=I.replace(/[.]/g,"\\."),Re="(/([^?#]*).*)?$",$e=new RegExp(`^https?://${ie}/${G}/b/${L}/o${Re}`,"i"),Pe={bucket:1,path:3},Me=I===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":I,Be="([^?#]*)",Ke=new RegExp(`^https?://${Me}/${L}/${Be}`,"i"),qe=[{regex:z,indices:Q,postModify:B},{regex:$e,indices:Pe,postModify:te},{regex:Ke,indices:{bucket:1,path:2},postModify:te}];for(let He=0;He<qe.length;He++){const Ge=qe[He],at=Ge.regex.exec($);if(at){const ot=at[Ge.indices.bucket];let Ye=at[Ge.indices.path];Ye||(Ye=""),N=new Location(ot,Ye),Ge.postModify(N);break}}if(N==null)throw invalidUrl($);return N}}class FailRequest{constructor($){this.promise_=Promise.reject($)}getPromise(){return this.promise_}cancel($=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(T,$,I){let N=1,L=null,B=null,H=!1,z=0;function Q(){return z===2}let te=!1;function G(...Be){te||(te=!0,$.apply(null,Be))}function ie(Be){L=setTimeout(()=>{L=null,T($e,Q())},Be)}function Re(){B&&clearTimeout(B)}function $e(Be,...Ke){if(te){Re();return}if(Be){Re(),G.call(null,Be,...Ke);return}if(Q()||H){Re(),G.call(null,Be,...Ke);return}N<64&&(N*=2);let qe;z===1?(z=2,qe=0):qe=(N+Math.random())*1e3,ie(qe)}let Pe=!1;function Me(Be){Pe||(Pe=!0,Re(),!te&&(L!==null?(Be||(z=2),clearTimeout(L),ie(0)):Be||(z=1)))}return ie(0),B=setTimeout(()=>{H=!0,Me(!0)},I),Me}function stop(T){T(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(T){return T!==void 0}function validateNumber$5(T,$,I,N){if(N<$)throw invalidArgument(`Invalid value for '${T}'. Expected ${$} or greater.`);if(N>I)throw invalidArgument(`Invalid value for '${T}'. Expected ${I} or less.`)}function makeQueryString(T){const $=encodeURIComponent;let I="?";for(const N in T)if(T.hasOwnProperty(N)){const L=$(N)+"="+$(T[N]);I=I+L+"&"}return I=I.slice(0,-1),I}var ErrorCode$1;(function(T){T[T.NO_ERROR=0]="NO_ERROR",T[T.NETWORK_ERROR=1]="NETWORK_ERROR",T[T.ABORT=2]="ABORT"})(ErrorCode$1||(ErrorCode$1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(T,$){const I=T>=500&&T<600,L=[408,429].indexOf(T)!==-1,B=$.indexOf(T)!==-1;return I||L||B}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor($,I,N,L,B,H,z,Q,te,G,ie,Re=!0){this.url_=$,this.method_=I,this.headers_=N,this.body_=L,this.successCodes_=B,this.additionalRetryCodes_=H,this.callback_=z,this.errorCallback_=Q,this.timeout_=te,this.progressCallback_=G,this.connectionFactory_=ie,this.retry=Re,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($e,Pe)=>{this.resolve_=$e,this.reject_=Pe,this.start_()})}start_(){const $=(N,L)=>{if(L){N(!1,new RequestEndStatus(!1,null,!0));return}const B=this.connectionFactory_();this.pendingConnection_=B;const H=z=>{const Q=z.loaded,te=z.lengthComputable?z.total:-1;this.progressCallback_!==null&&this.progressCallback_(Q,te)};this.progressCallback_!==null&&B.addUploadProgressListener(H),B.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&B.removeUploadProgressListener(H),this.pendingConnection_=null;const z=B.getErrorCode()===ErrorCode$1.NO_ERROR,Q=B.getStatus();if(!z||isRetryStatusCode(Q,this.additionalRetryCodes_)&&this.retry){const G=B.getErrorCode()===ErrorCode$1.ABORT;N(!1,new RequestEndStatus(!1,null,G));return}const te=this.successCodes_.indexOf(Q)!==-1;N(!0,new RequestEndStatus(te,B))})},I=(N,L)=>{const B=this.resolve_,H=this.reject_,z=L.connection;if(L.wasSuccessCode)try{const Q=this.callback_(z,z.getResponse());isJustDef(Q)?B(Q):B()}catch(Q){H(Q)}else if(z!==null){const Q=unknown();Q.serverResponse=z.getErrorText(),this.errorCallback_?H(this.errorCallback_(z,Q)):H(Q)}else if(L.canceled){const Q=this.appDelete_?appDeleted():canceled();H(Q)}else{const Q=retryLimitExceeded();H(Q)}};this.canceled_?I(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start($,I,this.timeout_)}getPromise(){return this.promise_}cancel($){this.canceled_=!0,this.appDelete_=$||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor($,I,N){this.wasSuccessCode=$,this.connection=I,this.canceled=!!N}}function addAuthHeader_(T,$){$!==null&&$.length>0&&(T.Authorization="Firebase "+$)}function addVersionHeader_(T,$){T["X-Firebase-Storage-Version"]="webjs/"+($??"AppManager")}function addGmpidHeader_(T,$){$&&(T["X-Firebase-GMPID"]=$)}function addAppCheckHeader_(T,$){$!==null&&(T["X-Firebase-AppCheck"]=$)}function makeRequest(T,$,I,N,L,B,H=!0){const z=makeQueryString(T.urlParams),Q=T.url+z,te=Object.assign({},T.headers);return addGmpidHeader_(te,$),addAuthHeader_(te,I),addVersionHeader_(te,B),addAppCheckHeader_(te,N),new NetworkRequest(Q,T.method,te,T.body,T.successCodes,T.additionalRetryCodes,T.handler,T.errorHandler,T.timeout,T.progressCallback,L,H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(T){if(T.length===0)return null;const $=T.lastIndexOf("/");return $===-1?"":T.slice(0,$)}function lastComponent(T){const $=T.lastIndexOf("/",T.length-2);return $===-1?T:T.slice($+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor($,I){this._service=$,I instanceof Location?this._location=I:this._location=Location.makeFromUrl(I,$.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef($,I){return new Reference($,I)}get root(){const $=new Location(this._location.bucket,"");return this._newRef(this._service,$)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const $=parent(this._location.path);if($===null)return null;const I=new Location(this._location.bucket,$);return new Reference(this._service,I)}_throwIfRoot($){if(this._location.path==="")throw invalidRootOperation($)}}function extractBucket(T,$){const I=$==null?void 0:$[CONFIG_STORAGE_BUCKET_KEY];return I==null?null:Location.makeFromBucketSpec(I,T)}function connectStorageEmulator$1(T,$,I,N={}){T.host=`${$}:${I}`,T._protocol="http";const{mockUserToken:L}=N;L&&(T._overrideAuthToken=typeof L=="string"?L:createMockUserToken(L,T.app.options.projectId))}class FirebaseStorageImpl{constructor($,I,N,L,B){this.app=$,this._authProvider=I,this._appCheckProvider=N,this._url=L,this._firebaseVersion=B,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,L!=null?this._bucket=Location.makeFromBucketSpec(L,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host($){this._host=$,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,$):this._bucket=extractBucket($,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime($){validateNumber$5("time",0,Number.POSITIVE_INFINITY,$),this._maxUploadRetryTime=$}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime($){validateNumber$5("time",0,Number.POSITIVE_INFINITY,$),this._maxOperationRetryTime=$}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const $=this._authProvider.getImmediate({optional:!0});if($){const I=await $.getToken();if(I!==null)return I.accessToken}return null}async _getAppCheckToken(){const $=this._appCheckProvider.getImmediate({optional:!0});return $?(await $.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach($=>$.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference($){return new Reference(this,$)}_makeRequest($,I,N,L,B=!0){if(this._deleted)return new FailRequest(appDeleted());{const H=makeRequest($,this._appId,N,L,I,this._firebaseVersion,B);return this._requests.add(H),H.getPromise().then(()=>this._requests.delete(H),()=>this._requests.delete(H)),H}}async makeRequestWithTokens($,I){const[N,L]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest($,I,N,L).getPromise()}}const name$1="@firebase/storage",version$3="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage(T=getApp(),$){T=getModularInstance(T);const N=_getProvider(T,STORAGE_TYPE).getImmediate({identifier:$}),L=getDefaultEmulatorHostnameAndPort("storage");return L&&connectStorageEmulator(N,...L),N}function connectStorageEmulator(T,$,I,N={}){connectStorageEmulator$1(T,$,I,N)}function factory(T,{instanceIdentifier:$}){const I=T.getProvider("app").getImmediate(),N=T.getProvider("auth-internal"),L=T.getProvider("app-check-internal");return new FirebaseStorageImpl(I,N,L,$,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$3,""),registerVersion(name$1,version$3,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAtgLfUsqHeYlHfqITsFOpWUtHV2jr45jc",authDomain:"apore-vault.firebaseapp.com",projectId:"apore-vault",storageBucket:"apore-vault.appspot.com",messagingSenderId:"612796850763",appId:"1:612796850763:web:eb0e5c7d5495e2c14123ce",measurementId:"G-K50MSGGB8N"},app=initializeApp(firebaseConfig);getAnalytics(app);const auth=getAuth(app),db=getFirestore(app);getStorage(app);var DidVerificationRelationship$3;(function(T){T.authentication="authentication",T.assertionMethod="assertionMethod",T.keyAgreement="keyAgreement",T.capabilityInvocation="capabilityInvocation",T.capabilityDelegation="capabilityDelegation"})(DidVerificationRelationship$3||(DidVerificationRelationship$3={}));const EMPTY_DID_RESOLUTION_RESULT$2={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};let Did$2=class Of{constructor({method:$,id:I,path:N,query:L,fragment:B,params:H}){this.uri=`did:${$}:${I}`,this.method=$,this.id=I,this.path=N,this.query=L,this.fragment=B,this.params=H}static parse($){if(!$)return null;const I=Of.DID_URI_PATTERN.exec($);if(!I||!I.groups)return null;const{method:N,id:L,path:B,query:H,fragment:z}=I.groups,Q={uri:`did:${N}:${L}`,method:N,id:L};if(B&&(Q.path=B),H&&(Q.query=H.slice(1)),z&&(Q.fragment=z.slice(1)),H){const te={},G=H.slice(1).split("&");for(const ie of G){const[Re,$e]=ie.split("=");te[Re]=$e}Q.params=te}return Q}};Did$2.METHOD_PATTERN="([a-z0-9]+)";Did$2.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})";Did$2.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Did$2.PCT_ENCODED_PATTERN})`;Did$2.METHOD_ID_PATTERN=`((?:${Did$2.ID_CHAR_PATTERN}*:)*(${Did$2.ID_CHAR_PATTERN}+))`;Did$2.PATH_PATTERN="(/[^#?]*)?";Did$2.QUERY_PATTERN="([?][^#]*)?";Did$2.FRAGMENT_PATTERN="(#.*)?";Did$2.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Did$2.METHOD_PATTERN}):(?<id>${Did$2.METHOD_ID_PATTERN})(?<path>${Did$2.PATH_PATTERN})(?<query>${Did$2.QUERY_PATTERN})(?<fragment>${Did$2.FRAGMENT_PATTERN})$`);let DidError$2=class Mf extends Error{constructor($,I){super(`${$}: ${I}`),this.code=$,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mf)}};var DidErrorCode$3;(function(T){T.InvalidDid="invalidDid",T.MethodNotSupported="methodNotSupported",T.InternalError="internalError",T.InvalidDidDocument="invalidDidDocument",T.InvalidDidDocumentLength="invalidDidDocumentLength",T.InvalidDidUrl="invalidDidUrl",T.InvalidPreviousDidProof="invalidPreviousDidProof",T.InvalidPublicKey="invalidPublicKey",T.InvalidPublicKeyLength="invalidPublicKeyLength",T.InvalidPublicKeyType="invalidPublicKeyType",T.InvalidSignature="invalidSignature",T.NotFound="notFound",T.RepresentationNotSupported="representationNotSupported",T.UnsupportedPublicKeyType="unsupportedPublicKeyType"})(DidErrorCode$3||(DidErrorCode$3={}));function coerce$5(T){if(T instanceof Uint8Array&&T.constructor.name==="Uint8Array")return T;if(T instanceof ArrayBuffer)return new Uint8Array(T);if(ArrayBuffer.isView(T))return new Uint8Array(T.buffer,T.byteOffset,T.byteLength);throw new Error("Unknown type, must be binary type")}function base$8(T,$){if(T.length>=255)throw new TypeError("Alphabet too long");for(var I=new Uint8Array(256),N=0;N<I.length;N++)I[N]=255;for(var L=0;L<T.length;L++){var B=T.charAt(L),H=B.charCodeAt(0);if(I[H]!==255)throw new TypeError(B+" is ambiguous");I[H]=L}var z=T.length,Q=T.charAt(0),te=Math.log(z)/Math.log(256),G=Math.log(256)/Math.log(z);function ie(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Pe.length===0)return"";for(var Me=0,Be=0,Ke=0,Le=Pe.length;Ke!==Le&&Pe[Ke]===0;)Ke++,Me++;for(var qe=(Le-Ke)*G+1>>>0,He=new Uint8Array(qe);Ke!==Le;){for(var Ge=Pe[Ke],at=0,ot=qe-1;(Ge!==0||at<Be)&&ot!==-1;ot--,at++)Ge+=256*He[ot]>>>0,He[ot]=Ge%z>>>0,Ge=Ge/z>>>0;if(Ge!==0)throw new Error("Non-zero carry");Be=at,Ke++}for(var Ye=qe-Be;Ye!==qe&&He[Ye]===0;)Ye++;for(var nt=Q.repeat(Me);Ye<qe;++Ye)nt+=T.charAt(He[Ye]);return nt}function Re(Pe){if(typeof Pe!="string")throw new TypeError("Expected String");if(Pe.length===0)return new Uint8Array;var Me=0;if(Pe[Me]!==" "){for(var Be=0,Ke=0;Pe[Me]===Q;)Be++,Me++;for(var Le=(Pe.length-Me)*te+1>>>0,qe=new Uint8Array(Le);Pe[Me];){var He=I[Pe.charCodeAt(Me)];if(He===255)return;for(var Ge=0,at=Le-1;(He!==0||Ge<Ke)&&at!==-1;at--,Ge++)He+=z*qe[at]>>>0,qe[at]=He%256>>>0,He=He/256>>>0;if(He!==0)throw new Error("Non-zero carry");Ke=Ge,Me++}if(Pe[Me]!==" "){for(var ot=Le-Ke;ot!==Le&&qe[ot]===0;)ot++;for(var Ye=new Uint8Array(Be+(Le-ot)),nt=Be;ot!==Le;)Ye[nt++]=qe[ot++];return Ye}}}function $e(Pe){var Me=Re(Pe);if(Me)return Me;throw new Error(`Non-${$} character`)}return{encode:ie,decodeUnsafe:Re,decode:$e}}var src$4=base$8,_brrp__multiformats_scope_baseX$4=src$4;let Encoder$6=class{constructor($,I,N){Dr(this,"name");Dr(this,"prefix");Dr(this,"baseEncode");this.name=$,this.prefix=I,this.baseEncode=N}encode($){if($ instanceof Uint8Array)return`${this.prefix}${this.baseEncode($)}`;throw Error("Unknown type, must be binary type")}},Decoder$5=class{constructor($,I,N){Dr(this,"name");Dr(this,"prefix");Dr(this,"baseDecode");Dr(this,"prefixCodePoint");if(this.name=$,this.prefix=I,I.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=I.codePointAt(0),this.baseDecode=N}decode($){if(typeof $=="string"){if($.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify($)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode($.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or($){return or$5(this,$)}},ComposedDecoder$5=class{constructor($){Dr(this,"decoders");this.decoders=$}or($){return or$5(this,$)}decode($){const I=$[0],N=this.decoders[I];if(N!=null)return N.decode($);throw RangeError(`Unable to decode multibase string ${JSON.stringify($)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$5(T,$){return new ComposedDecoder$5({...T.decoders??{[T.prefix]:T},...$.decoders??{[$.prefix]:$}})}let Codec$5=class{constructor($,I,N,L){Dr(this,"name");Dr(this,"prefix");Dr(this,"baseEncode");Dr(this,"baseDecode");Dr(this,"encoder");Dr(this,"decoder");this.name=$,this.prefix=I,this.baseEncode=N,this.baseDecode=L,this.encoder=new Encoder$6($,I,N),this.decoder=new Decoder$5($,I,L)}encode($){return this.encoder.encode($)}decode($){return this.decoder.decode($)}};function from$n({name:T,prefix:$,encode:I,decode:N}){return new Codec$5(T,$,I,N)}function baseX$4({name:T,prefix:$,alphabet:I}){const{encode:N,decode:L}=_brrp__multiformats_scope_baseX$4(I,T);return from$n({prefix:$,name:T,encode:N,decode:B=>coerce$5(L(B))})}function decode$p(T,$,I,N){const L={};for(let G=0;G<$.length;++G)L[$[G]]=G;let B=T.length;for(;T[B-1]==="=";)--B;const H=new Uint8Array(B*I/8|0);let z=0,Q=0,te=0;for(let G=0;G<B;++G){const ie=L[T[G]];if(ie===void 0)throw new SyntaxError(`Non-${N} character`);Q=Q<<I|ie,z+=I,z>=8&&(z-=8,H[te++]=255&Q>>z)}if(z>=I||(255&Q<<8-z)!==0)throw new SyntaxError("Unexpected end of data");return H}function encode$h(T,$,I){const N=$[$.length-1]==="=",L=(1<<I)-1;let B="",H=0,z=0;for(let Q=0;Q<T.length;++Q)for(z=z<<8|T[Q],H+=8;H>I;)H-=I,B+=$[L&z>>H];if(H!==0&&(B+=$[L&z<<I-H]),N)for(;(B.length*I&7)!==0;)B+="=";return B}function rfc4648$5({name:T,prefix:$,bitsPerChar:I,alphabet:N}){return from$n({prefix:$,name:T,encode(L){return encode$h(L,N,I)},decode(L){return decode$p(L,N,I,T)}})}rfc4648$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const base32z$3=rfc4648$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base58btc$3=baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url$4=rfc4648$5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function isArrayBufferSlice$5(T){return T.byteOffset!==0||T.byteLength!==T.buffer.byteLength}function isAsyncIterable$5(T){return typeof T!="object"||T===null?!1:typeof T[Symbol.asyncIterator]=="function"}function universalTypeOf$5(T){const I=Object.prototype.toString.call(T).match(/\s([a-zA-Z0-9]+)/),[N,L]=I;return L}var __awaiter$1c=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__asyncValues$5=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}};const textEncoder$7=new TextEncoder,textDecoder$6=new TextDecoder;let Convert$5=class Ri{constructor($,I){this.data=$,this.format=I}static arrayBuffer($){return new Ri($,"ArrayBuffer")}static asyncIterable($){if(!isAsyncIterable$5($))throw new TypeError("Input must be of type AsyncIterable.");return new Ri($,"AsyncIterable")}static base32Z($){return new Ri($,"Base32Z")}static base58Btc($){return new Ri($,"Base58Btc")}static base64Url($){return new Ri($,"Base64Url")}static bufferSource($){return new Ri($,"BufferSource")}static hex($){if(typeof $!="string")throw new TypeError("Hex input must be a string.");if($.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Ri($,"Hex")}static multibase($){return new Ri($,"Multibase")}static object($){return new Ri($,"Object")}static string($){return new Ri($,"String")}static uint8Array($){return new Ri($,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return base58btc$3.baseDecode(this.data).buffer;case"Base64Url":return base64url$4.baseDecode(this.data).buffer;case"BufferSource":{if(universalTypeOf$5(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return isArrayBufferSlice$5(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return __awaiter$1c(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return base32z$3.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base58btc$3.baseEncode($)}case"Multibase":return this.data.substring(1);case"Uint8Array":return base58btc$3.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base64url$4.baseEncode($)}case"BufferSource":{const $=this.toUint8Array();return base64url$4.baseEncode($)}case"Object":{const $=JSON.stringify(this.data),I=textEncoder$7.encode($);return base64url$4.baseEncode(I)}case"String":{const $=textEncoder$7.encode(this.data);return base64url$4.baseEncode($)}case"Uint8Array":return base64url$4.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return __awaiter$1c(this,void 0,void 0,function*(){var $,I,N,L;switch(this.format){case"AsyncIterable":{const Q=[];try{for(var B=!0,H=__asyncValues$5(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const G=L;Q.push(G)}}catch(G){I={error:G}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return new Blob(Q)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const $=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const I=this.toUint8Array();return Ri.uint8Array(I).toHex()}case"Base64Url":{const I=this.toUint8Array();return Ri.uint8Array(I).toHex()}case"Uint8Array":{let I="";for(let N=0;N<this.data.length;N++)I+=$[this.data[N]];return I}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const $=base64url$4.baseDecode(this.data),I=textDecoder$6.decode($);return JSON.parse(I)}case"String":return JSON.parse(this.data);case"Uint8Array":{const $=textDecoder$6.decode(this.data);return JSON.parse($)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return __awaiter$1c(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toStringAsync();return JSON.parse($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return textDecoder$6.decode(this.data);case"Base64Url":{const $=base64url$4.baseDecode(this.data);return textDecoder$6.decode($)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return textDecoder$6.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return __awaiter$1c(this,void 0,void 0,function*(){var $,I,N,L;switch(this.format){case"AsyncIterable":{let Q="";try{for(var B=!0,H=__asyncValues$5(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const te=L;typeof te=="string"?Q+=te:Q+=textDecoder$6.decode(te,{stream:!0})}}catch(te){I={error:te}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return Q+=textDecoder$6.decode(void 0,{stream:!1}),Q}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return base32z$3.baseDecode(this.data);case"Base58Btc":return base58btc$3.baseDecode(this.data);case"Base64Url":return base64url$4.baseDecode(this.data);case"BufferSource":{const $=universalTypeOf$5(this.data);if($==="Uint8Array")return this.data;if($==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const $=new Uint8Array(this.data.length/2);for(let I=0;I<this.data.length;I+=2){const N=parseInt(this.data.substring(I,I+2),16);if(isNaN(N))throw new TypeError("Input is not a valid hexadecimal string.");$[I/2]=N}return $}case"Object":{const $=JSON.stringify(this.data);return textEncoder$7.encode($)}case"String":return textEncoder$7.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return __awaiter$1c(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toArrayBufferAsync();return new Uint8Array($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};var Web5LogLevel;(function(T){T.Debug="debug",T.Silent="silent"})(Web5LogLevel||(Web5LogLevel={}));class Web5Logger{constructor(){this.logLevel=Web5LogLevel.Silent}setLogLevel($){this.logLevel=$}log($){this.info($)}info($){this.logLevel!==Web5LogLevel.Silent&&console.info($)}error($){this.logLevel!==Web5LogLevel.Silent&&console.error($)}}const logger=new Web5Logger;typeof window<"u"&&(window.web5logger=logger);var encode_1$5=encode$g,MSB$6=128,MSBALL$5=-128,INT$5=Math.pow(2,31);function encode$g(T,$,I){$=$||[],I=I||0;for(var N=I;T>=INT$5;)$[I++]=T&255|MSB$6,T/=128;for(;T&MSBALL$5;)$[I++]=T&255|MSB$6,T>>>=7;return $[I]=T|0,encode$g.bytes=I-N+1,$}var decode$o=read$5,MSB$1$5=128,REST$1$5=127;function read$5(T,N){var I=0,N=N||0,L=0,B=N,H,z=T.length;do{if(B>=z)throw read$5.bytes=0,new RangeError("Could not decode varint");H=T[B++],I+=L<28?(H&REST$1$5)<<L:(H&REST$1$5)*Math.pow(2,L),L+=7}while(H>=MSB$1$5);return read$5.bytes=B-N,I}var N1$5=Math.pow(2,7),N2$5=Math.pow(2,14),N3$5=Math.pow(2,21),N4$5=Math.pow(2,28),N5$5=Math.pow(2,35),N6$5=Math.pow(2,42),N7$5=Math.pow(2,49),N8$5=Math.pow(2,56),N9$5=Math.pow(2,63),length$6=function(T){return T<N1$5?1:T<N2$5?2:T<N3$5?3:T<N4$5?4:T<N5$5?5:T<N6$5?6:T<N7$5?7:T<N8$5?8:T<N9$5?9:10},varint$5={encode:encode_1$5,decode:decode$o,encodingLength:length$6},_brrp_varint$5=varint$5;function decode$n(T,$=0){return[_brrp_varint$5.decode(T,$),_brrp_varint$5.decode.bytes]}function encodeTo$5(T,$,I=0){return _brrp_varint$5.encode(T,$,I),$}function encodingLength$9(T){return _brrp_varint$5.encodingLength(T)}let Multicodec$6=class Yo{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=Yo.codeToName.has(N)?N:Yo.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength$9(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo$5(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$n(I);return N}static getCodeFromName($){const{name:I}=$,N=Yo.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=Yo.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){Yo.codeToName.set($.code,$.name),Yo.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$n(I),B=Yo.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}};Multicodec$6.codeToName=new Map;Multicodec$6.nameToCode=new Map;Multicodec$6.registerCodec({code:237,name:"ed25519-pub"});Multicodec$6.registerCodec({code:4864,name:"ed25519-priv"});Multicodec$6.registerCodec({code:236,name:"x25519-pub"});Multicodec$6.registerCodec({code:4866,name:"x25519-priv"});Multicodec$6.registerCodec({code:231,name:"secp256k1-pub"});Multicodec$6.registerCodec({code:4865,name:"secp256k1-priv"});function removeUndefinedProperties$3(T){Object.keys(T).forEach($=>{T[$]===void 0?delete T[$]:typeof T[$]=="object"&&removeUndefinedProperties$3(T[$])})}var abstractLevel$3={},abstractLevel$2={},levelSupports$1={},supports$1=levelSupports$1.supports=function(...$){const I=$.reduce((N,L)=>Object.assign(N,L),{});return Object.assign(I,{snapshots:I.snapshots||!1,permanence:I.permanence||!1,seek:I.seek||!1,clear:I.clear||!1,getMany:I.getMany||!1,keyIterator:I.keyIterator||!1,valueIterator:I.valueIterator||!1,iteratorNextv:I.iteratorNextv||!1,iteratorAll:I.iteratorAll||!1,status:I.status||!1,createIfMissing:I.createIfMissing||!1,errorIfExists:I.errorIfExists||!1,deferredOpen:I.deferredOpen||!1,promises:I.promises||!1,streams:I.streams||!1,encodings:Object.assign({},I.encodings),events:Object.assign({},I.events),additionalMethods:Object.assign({},I.additionalMethods)})};const levelSupports=_mergeNamespaces({__proto__:null,default:levelSupports$1,supports:supports$1},[levelSupports$1]);var levelTranscoder$1={},moduleError=class extends Error{constructor($,I){super($||""),typeof I=="object"&&I!==null&&(I.code&&(this.code=String(I.code)),I.expected&&(this.expected=!0),I.transient&&(this.transient=!0),I.cause&&(this.cause=I.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};const index$R=getDefaultExportFromCjs$1(moduleError),moduleError$1=_mergeNamespaces({__proto__:null,default:index$R},[moduleError]);var encodings$2={},dist$6={};(function(T){Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var $={},I={};I.byteLength=G,I.toByteArray=Re,I.fromByteArray=Me;for(var N=[],L=[],B=typeof Uint8Array<"u"?Uint8Array:Array,H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=0,Q=H.length;z<Q;++z)N[z]=H[z],L[H.charCodeAt(z)]=z;L[45]=62,L[95]=63;function te(Le){var qe=Le.length;if(qe%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var He=Le.indexOf("=");He===-1&&(He=qe);var Ge=He===qe?0:4-He%4;return[He,Ge]}function G(Le){var qe=te(Le),He=qe[0],Ge=qe[1];return(He+Ge)*3/4-Ge}function ie(Le,qe,He){return(qe+He)*3/4-He}function Re(Le){var qe,He=te(Le),Ge=He[0],at=He[1],ot=new B(ie(Le,Ge,at)),Ye=0,nt=at>0?Ge-4:Ge,Qe;for(Qe=0;Qe<nt;Qe+=4)qe=L[Le.charCodeAt(Qe)]<<18|L[Le.charCodeAt(Qe+1)]<<12|L[Le.charCodeAt(Qe+2)]<<6|L[Le.charCodeAt(Qe+3)],ot[Ye++]=qe>>16&255,ot[Ye++]=qe>>8&255,ot[Ye++]=qe&255;return at===2&&(qe=L[Le.charCodeAt(Qe)]<<2|L[Le.charCodeAt(Qe+1)]>>4,ot[Ye++]=qe&255),at===1&&(qe=L[Le.charCodeAt(Qe)]<<10|L[Le.charCodeAt(Qe+1)]<<4|L[Le.charCodeAt(Qe+2)]>>2,ot[Ye++]=qe>>8&255,ot[Ye++]=qe&255),ot}function $e(Le){return N[Le>>18&63]+N[Le>>12&63]+N[Le>>6&63]+N[Le&63]}function Pe(Le,qe,He){for(var Ge,at=[],ot=qe;ot<He;ot+=3)Ge=(Le[ot]<<16&16711680)+(Le[ot+1]<<8&65280)+(Le[ot+2]&255),at.push($e(Ge));return at.join("")}function Me(Le){for(var qe,He=Le.length,Ge=He%3,at=[],ot=16383,Ye=0,nt=He-Ge;Ye<nt;Ye+=ot)at.push(Pe(Le,Ye,Ye+ot>nt?nt:Ye+ot));return Ge===1?(qe=Le[He-1],at.push(N[qe>>2]+N[qe<<4&63]+"==")):Ge===2&&(qe=(Le[He-2]<<8)+Le[He-1],at.push(N[qe>>10]+N[qe>>4&63]+N[qe<<2&63]+"=")),at.join("")}var Be={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Be.read=function(Le,qe,He,Ge,at){var ot,Ye,nt=at*8-Ge-1,Qe=(1<<nt)-1,tt=Qe>>1,ze=-7,Fe=He?at-1:0,ke=He?-1:1,Ue=Le[qe+Fe];for(Fe+=ke,ot=Ue&(1<<-ze)-1,Ue>>=-ze,ze+=nt;ze>0;ot=ot*256+Le[qe+Fe],Fe+=ke,ze-=8);for(Ye=ot&(1<<-ze)-1,ot>>=-ze,ze+=Ge;ze>0;Ye=Ye*256+Le[qe+Fe],Fe+=ke,ze-=8);if(ot===0)ot=1-tt;else{if(ot===Qe)return Ye?NaN:(Ue?-1:1)*(1/0);Ye=Ye+Math.pow(2,Ge),ot=ot-tt}return(Ue?-1:1)*Ye*Math.pow(2,ot-Ge)},Be.write=function(Le,qe,He,Ge,at,ot){var Ye,nt,Qe,tt=ot*8-at-1,ze=(1<<tt)-1,Fe=ze>>1,ke=at===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ue=Ge?0:ot-1,Je=Ge?1:-1,rt=qe<0||qe===0&&1/qe<0?1:0;for(qe=Math.abs(qe),isNaN(qe)||qe===1/0?(nt=isNaN(qe)?1:0,Ye=ze):(Ye=Math.floor(Math.log(qe)/Math.LN2),qe*(Qe=Math.pow(2,-Ye))<1&&(Ye--,Qe*=2),Ye+Fe>=1?qe+=ke/Qe:qe+=ke*Math.pow(2,1-Fe),qe*Qe>=2&&(Ye++,Qe/=2),Ye+Fe>=ze?(nt=0,Ye=ze):Ye+Fe>=1?(nt=(qe*Qe-1)*Math.pow(2,at),Ye=Ye+Fe):(nt=qe*Math.pow(2,Fe-1)*Math.pow(2,at),Ye=0));at>=8;Le[He+Ue]=nt&255,Ue+=Je,nt/=256,at-=8);for(Ye=Ye<<at|nt,tt+=at;tt>0;Le[He+Ue]=Ye&255,Ue+=Je,Ye/=256,tt-=8);Le[He+Ue-Je]|=rt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(Le){const qe=I,He=Be,Ge=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Le.Buffer=ze,Le.SlowBuffer=Ze,Le.INSPECT_MAX_BYTES=50;const at=2147483647;Le.kMaxLength=at;const{Uint8Array:ot,ArrayBuffer:Ye,SharedArrayBuffer:nt}=globalThis;ze.TYPED_ARRAY_SUPPORT=Qe(),!ze.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Qe(){try{const gt=new ot(1),Et={foo:function(){return 42}};return Object.setPrototypeOf(Et,ot.prototype),Object.setPrototypeOf(gt,Et),gt.foo()===42}catch{return!1}}Object.defineProperty(ze.prototype,"parent",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.buffer}}),Object.defineProperty(ze.prototype,"offset",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.byteOffset}});function tt(gt){if(gt>at)throw new RangeError('The value "'+gt+'" is invalid for option "size"');const Et=new ot(gt);return Object.setPrototypeOf(Et,ze.prototype),Et}function ze(gt,Et,wt){if(typeof gt=="number"){if(typeof Et=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Je(gt)}return Fe(gt,Et,wt)}ze.poolSize=8192;function Fe(gt,Et,wt){if(typeof gt=="string")return rt(gt,Et);if(Ye.isView(gt))return it(gt);if(gt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gt);if(Yr(gt,Ye)||gt&&Yr(gt.buffer,Ye)||typeof nt<"u"&&(Yr(gt,nt)||gt&&Yr(gt.buffer,nt)))return We(gt,Et,wt);if(typeof gt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Lt=gt.valueOf&&gt.valueOf();if(Lt!=null&&Lt!==gt)return ze.from(Lt,Et,wt);const Zt=Ve(gt);if(Zt)return Zt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof gt[Symbol.toPrimitive]=="function")return ze.from(gt[Symbol.toPrimitive]("string"),Et,wt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gt)}ze.from=function(gt,Et,wt){return Fe(gt,Et,wt)},Object.setPrototypeOf(ze.prototype,ot.prototype),Object.setPrototypeOf(ze,ot);function ke(gt){if(typeof gt!="number")throw new TypeError('"size" argument must be of type number');if(gt<0)throw new RangeError('The value "'+gt+'" is invalid for option "size"')}function Ue(gt,Et,wt){return ke(gt),gt<=0?tt(gt):Et!==void 0?typeof wt=="string"?tt(gt).fill(Et,wt):tt(gt).fill(Et):tt(gt)}ze.alloc=function(gt,Et,wt){return Ue(gt,Et,wt)};function Je(gt){return ke(gt),tt(gt<0?0:je(gt)|0)}ze.allocUnsafe=function(gt){return Je(gt)},ze.allocUnsafeSlow=function(gt){return Je(gt)};function rt(gt,Et){if((typeof Et!="string"||Et==="")&&(Et="utf8"),!ze.isEncoding(Et))throw new TypeError("Unknown encoding: "+Et);const wt=st(gt,Et)|0;let Lt=tt(wt);const Zt=Lt.write(gt,Et);return Zt!==wt&&(Lt=Lt.slice(0,Zt)),Lt}function Xe(gt){const Et=gt.length<0?0:je(gt.length)|0,wt=tt(Et);for(let Lt=0;Lt<Et;Lt+=1)wt[Lt]=gt[Lt]&255;return wt}function it(gt){if(Yr(gt,ot)){const Et=new ot(gt);return We(Et.buffer,Et.byteOffset,Et.byteLength)}return Xe(gt)}function We(gt,Et,wt){if(Et<0||gt.byteLength<Et)throw new RangeError('"offset" is outside of buffer bounds');if(gt.byteLength<Et+(wt||0))throw new RangeError('"length" is outside of buffer bounds');let Lt;return Et===void 0&&wt===void 0?Lt=new ot(gt):wt===void 0?Lt=new ot(gt,Et):Lt=new ot(gt,Et,wt),Object.setPrototypeOf(Lt,ze.prototype),Lt}function Ve(gt){if(ze.isBuffer(gt)){const Et=je(gt.length)|0,wt=tt(Et);return wt.length===0||gt.copy(wt,0,0,Et),wt}if(gt.length!==void 0)return typeof gt.length!="number"||Pt(gt.length)?tt(0):Xe(gt);if(gt.type==="Buffer"&&Array.isArray(gt.data))return Xe(gt.data)}function je(gt){if(gt>=at)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+at.toString(16)+" bytes");return gt|0}function Ze(gt){return+gt!=gt&&(gt=0),ze.alloc(+gt)}ze.isBuffer=function(Et){return Et!=null&&Et._isBuffer===!0&&Et!==ze.prototype},ze.compare=function(Et,wt){if(Yr(Et,ot)&&(Et=ze.from(Et,Et.offset,Et.byteLength)),Yr(wt,ot)&&(wt=ze.from(wt,wt.offset,wt.byteLength)),!ze.isBuffer(Et)||!ze.isBuffer(wt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Et===wt)return 0;let Lt=Et.length,Zt=wt.length;for(let lr=0,Ht=Math.min(Lt,Zt);lr<Ht;++lr)if(Et[lr]!==wt[lr]){Lt=Et[lr],Zt=wt[lr];break}return Lt<Zt?-1:Zt<Lt?1:0},ze.isEncoding=function(Et){switch(String(Et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ze.concat=function(Et,wt){if(!Array.isArray(Et))throw new TypeError('"list" argument must be an Array of Buffers');if(Et.length===0)return ze.alloc(0);let Lt;if(wt===void 0)for(wt=0,Lt=0;Lt<Et.length;++Lt)wt+=Et[Lt].length;const Zt=ze.allocUnsafe(wt);let lr=0;for(Lt=0;Lt<Et.length;++Lt){let Ht=Et[Lt];if(Yr(Ht,ot))lr+Ht.length>Zt.length?(ze.isBuffer(Ht)||(Ht=ze.from(Ht)),Ht.copy(Zt,lr)):ot.prototype.set.call(Zt,Ht,lr);else if(ze.isBuffer(Ht))Ht.copy(Zt,lr);else throw new TypeError('"list" argument must be an Array of Buffers');lr+=Ht.length}return Zt};function st(gt,Et){if(ze.isBuffer(gt))return gt.length;if(Ye.isView(gt)||Yr(gt,Ye))return gt.byteLength;if(typeof gt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof gt);const wt=gt.length,Lt=arguments.length>2&&arguments[2]===!0;if(!Lt&&wt===0)return 0;let Zt=!1;for(;;)switch(Et){case"ascii":case"latin1":case"binary":return wt;case"utf8":case"utf-8":return qr(gt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wt*2;case"hex":return wt>>>1;case"base64":return Wr(gt).length;default:if(Zt)return Lt?-1:qr(gt).length;Et=(""+Et).toLowerCase(),Zt=!0}}ze.byteLength=st;function dt(gt,Et,wt){let Lt=!1;if((Et===void 0||Et<0)&&(Et=0),Et>this.length||((wt===void 0||wt>this.length)&&(wt=this.length),wt<=0)||(wt>>>=0,Et>>>=0,wt<=Et))return"";for(gt||(gt="utf8");;)switch(gt){case"hex":return yr(this,Et,wt);case"utf8":case"utf-8":return $t(this,Et,wt);case"ascii":return nr(this,Et,wt);case"latin1":case"binary":return Yt(this,Et,wt);case"base64":return mt(this,Et,wt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gr(this,Et,wt);default:if(Lt)throw new TypeError("Unknown encoding: "+gt);gt=(gt+"").toLowerCase(),Lt=!0}}ze.prototype._isBuffer=!0;function bt(gt,Et,wt){const Lt=gt[Et];gt[Et]=gt[wt],gt[wt]=Lt}ze.prototype.swap16=function(){const Et=this.length;if(Et%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let wt=0;wt<Et;wt+=2)bt(this,wt,wt+1);return this},ze.prototype.swap32=function(){const Et=this.length;if(Et%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let wt=0;wt<Et;wt+=4)bt(this,wt,wt+3),bt(this,wt+1,wt+2);return this},ze.prototype.swap64=function(){const Et=this.length;if(Et%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let wt=0;wt<Et;wt+=8)bt(this,wt,wt+7),bt(this,wt+1,wt+6),bt(this,wt+2,wt+5),bt(this,wt+3,wt+4);return this},ze.prototype.toString=function(){const Et=this.length;return Et===0?"":arguments.length===0?$t(this,0,Et):dt.apply(this,arguments)},ze.prototype.toLocaleString=ze.prototype.toString,ze.prototype.equals=function(Et){if(!ze.isBuffer(Et))throw new TypeError("Argument must be a Buffer");return this===Et?!0:ze.compare(this,Et)===0},ze.prototype.inspect=function(){let Et="";const wt=Le.INSPECT_MAX_BYTES;return Et=this.toString("hex",0,wt).replace(/(.{2})/g,"$1 ").trim(),this.length>wt&&(Et+=" ... "),"<Buffer "+Et+">"},Ge&&(ze.prototype[Ge]=ze.prototype.inspect),ze.prototype.compare=function(Et,wt,Lt,Zt,lr){if(Yr(Et,ot)&&(Et=ze.from(Et,Et.offset,Et.byteLength)),!ze.isBuffer(Et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Et);if(wt===void 0&&(wt=0),Lt===void 0&&(Lt=Et?Et.length:0),Zt===void 0&&(Zt=0),lr===void 0&&(lr=this.length),wt<0||Lt>Et.length||Zt<0||lr>this.length)throw new RangeError("out of range index");if(Zt>=lr&&wt>=Lt)return 0;if(Zt>=lr)return-1;if(wt>=Lt)return 1;if(wt>>>=0,Lt>>>=0,Zt>>>=0,lr>>>=0,this===Et)return 0;let Ht=lr-Zt,Xt=Lt-wt;const ir=Math.min(Ht,Xt),ur=this.slice(Zt,lr),$r=Et.slice(wt,Lt);for(let xr=0;xr<ir;++xr)if(ur[xr]!==$r[xr]){Ht=ur[xr],Xt=$r[xr];break}return Ht<Xt?-1:Xt<Ht?1:0};function vt(gt,Et,wt,Lt,Zt){if(gt.length===0)return-1;if(typeof wt=="string"?(Lt=wt,wt=0):wt>2147483647?wt=2147483647:wt<-2147483648&&(wt=-2147483648),wt=+wt,Pt(wt)&&(wt=Zt?0:gt.length-1),wt<0&&(wt=gt.length+wt),wt>=gt.length){if(Zt)return-1;wt=gt.length-1}else if(wt<0)if(Zt)wt=0;else return-1;if(typeof Et=="string"&&(Et=ze.from(Et,Lt)),ze.isBuffer(Et))return Et.length===0?-1:St(gt,Et,wt,Lt,Zt);if(typeof Et=="number")return Et=Et&255,typeof ot.prototype.indexOf=="function"?Zt?ot.prototype.indexOf.call(gt,Et,wt):ot.prototype.lastIndexOf.call(gt,Et,wt):St(gt,[Et],wt,Lt,Zt);throw new TypeError("val must be string, number or Buffer")}function St(gt,Et,wt,Lt,Zt){let lr=1,Ht=gt.length,Xt=Et.length;if(Lt!==void 0&&(Lt=String(Lt).toLowerCase(),Lt==="ucs2"||Lt==="ucs-2"||Lt==="utf16le"||Lt==="utf-16le")){if(gt.length<2||Et.length<2)return-1;lr=2,Ht/=2,Xt/=2,wt/=2}function ir($r,xr){return lr===1?$r[xr]:$r.readUInt16BE(xr*lr)}let ur;if(Zt){let $r=-1;for(ur=wt;ur<Ht;ur++)if(ir(gt,ur)===ir(Et,$r===-1?0:ur-$r)){if($r===-1&&($r=ur),ur-$r+1===Xt)return $r*lr}else $r!==-1&&(ur-=ur-$r),$r=-1}else for(wt+Xt>Ht&&(wt=Ht-Xt),ur=wt;ur>=0;ur--){let $r=!0;for(let xr=0;xr<Xt;xr++)if(ir(gt,ur+xr)!==ir(Et,xr)){$r=!1;break}if($r)return ur}return-1}ze.prototype.includes=function(Et,wt,Lt){return this.indexOf(Et,wt,Lt)!==-1},ze.prototype.indexOf=function(Et,wt,Lt){return vt(this,Et,wt,Lt,!0)},ze.prototype.lastIndexOf=function(Et,wt,Lt){return vt(this,Et,wt,Lt,!1)};function Bt(gt,Et,wt,Lt){wt=Number(wt)||0;const Zt=gt.length-wt;Lt?(Lt=Number(Lt),Lt>Zt&&(Lt=Zt)):Lt=Zt;const lr=Et.length;Lt>lr/2&&(Lt=lr/2);let Ht;for(Ht=0;Ht<Lt;++Ht){const Xt=parseInt(Et.substr(Ht*2,2),16);if(Pt(Xt))return Ht;gt[wt+Ht]=Xt}return Ht}function Gt(gt,Et,wt,Lt){return Kr(qr(Et,gt.length-wt),gt,wt,Lt)}function Dt(gt,Et,wt,Lt){return Kr(Br(Et),gt,wt,Lt)}function Mt(gt,Et,wt,Lt){return Kr(Wr(Et),gt,wt,Lt)}function pt(gt,Et,wt,Lt){return Kr(Qr(Et,gt.length-wt),gt,wt,Lt)}ze.prototype.write=function(Et,wt,Lt,Zt){if(wt===void 0)Zt="utf8",Lt=this.length,wt=0;else if(Lt===void 0&&typeof wt=="string")Zt=wt,Lt=this.length,wt=0;else if(isFinite(wt))wt=wt>>>0,isFinite(Lt)?(Lt=Lt>>>0,Zt===void 0&&(Zt="utf8")):(Zt=Lt,Lt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const lr=this.length-wt;if((Lt===void 0||Lt>lr)&&(Lt=lr),Et.length>0&&(Lt<0||wt<0)||wt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zt||(Zt="utf8");let Ht=!1;for(;;)switch(Zt){case"hex":return Bt(this,Et,wt,Lt);case"utf8":case"utf-8":return Gt(this,Et,wt,Lt);case"ascii":case"latin1":case"binary":return Dt(this,Et,wt,Lt);case"base64":return Mt(this,Et,wt,Lt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,Et,wt,Lt);default:if(Ht)throw new TypeError("Unknown encoding: "+Zt);Zt=(""+Zt).toLowerCase(),Ht=!0}},ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mt(gt,Et,wt){return Et===0&&wt===gt.length?qe.fromByteArray(gt):qe.fromByteArray(gt.slice(Et,wt))}function $t(gt,Et,wt){wt=Math.min(gt.length,wt);const Lt=[];let Zt=Et;for(;Zt<wt;){const lr=gt[Zt];let Ht=null,Xt=lr>239?4:lr>223?3:lr>191?2:1;if(Zt+Xt<=wt){let ir,ur,$r,xr;switch(Xt){case 1:lr<128&&(Ht=lr);break;case 2:ir=gt[Zt+1],(ir&192)===128&&(xr=(lr&31)<<6|ir&63,xr>127&&(Ht=xr));break;case 3:ir=gt[Zt+1],ur=gt[Zt+2],(ir&192)===128&&(ur&192)===128&&(xr=(lr&15)<<12|(ir&63)<<6|ur&63,xr>2047&&(xr<55296||xr>57343)&&(Ht=xr));break;case 4:ir=gt[Zt+1],ur=gt[Zt+2],$r=gt[Zt+3],(ir&192)===128&&(ur&192)===128&&($r&192)===128&&(xr=(lr&15)<<18|(ir&63)<<12|(ur&63)<<6|$r&63,xr>65535&&xr<1114112&&(Ht=xr))}}Ht===null?(Ht=65533,Xt=1):Ht>65535&&(Ht-=65536,Lt.push(Ht>>>10&1023|55296),Ht=56320|Ht&1023),Lt.push(Ht),Zt+=Xt}return Ft(Lt)}const kt=4096;function Ft(gt){const Et=gt.length;if(Et<=kt)return String.fromCharCode.apply(String,gt);let wt="",Lt=0;for(;Lt<Et;)wt+=String.fromCharCode.apply(String,gt.slice(Lt,Lt+=kt));return wt}function nr(gt,Et,wt){let Lt="";wt=Math.min(gt.length,wt);for(let Zt=Et;Zt<wt;++Zt)Lt+=String.fromCharCode(gt[Zt]&127);return Lt}function Yt(gt,Et,wt){let Lt="";wt=Math.min(gt.length,wt);for(let Zt=Et;Zt<wt;++Zt)Lt+=String.fromCharCode(gt[Zt]);return Lt}function yr(gt,Et,wt){const Lt=gt.length;(!Et||Et<0)&&(Et=0),(!wt||wt<0||wt>Lt)&&(wt=Lt);let Zt="";for(let lr=Et;lr<wt;++lr)Zt+=Wt[gt[lr]];return Zt}function gr(gt,Et,wt){const Lt=gt.slice(Et,wt);let Zt="";for(let lr=0;lr<Lt.length-1;lr+=2)Zt+=String.fromCharCode(Lt[lr]+Lt[lr+1]*256);return Zt}ze.prototype.slice=function(Et,wt){const Lt=this.length;Et=~~Et,wt=wt===void 0?Lt:~~wt,Et<0?(Et+=Lt,Et<0&&(Et=0)):Et>Lt&&(Et=Lt),wt<0?(wt+=Lt,wt<0&&(wt=0)):wt>Lt&&(wt=Lt),wt<Et&&(wt=Et);const Zt=this.subarray(Et,wt);return Object.setPrototypeOf(Zt,ze.prototype),Zt};function br(gt,Et,wt){if(gt%1!==0||gt<0)throw new RangeError("offset is not uint");if(gt+Et>wt)throw new RangeError("Trying to access beyond buffer length")}ze.prototype.readUintLE=ze.prototype.readUIntLE=function(Et,wt,Lt){Et=Et>>>0,wt=wt>>>0,Lt||br(Et,wt,this.length);let Zt=this[Et],lr=1,Ht=0;for(;++Ht<wt&&(lr*=256);)Zt+=this[Et+Ht]*lr;return Zt},ze.prototype.readUintBE=ze.prototype.readUIntBE=function(Et,wt,Lt){Et=Et>>>0,wt=wt>>>0,Lt||br(Et,wt,this.length);let Zt=this[Et+--wt],lr=1;for(;wt>0&&(lr*=256);)Zt+=this[Et+--wt]*lr;return Zt},ze.prototype.readUint8=ze.prototype.readUInt8=function(Et,wt){return Et=Et>>>0,wt||br(Et,1,this.length),this[Et]},ze.prototype.readUint16LE=ze.prototype.readUInt16LE=function(Et,wt){return Et=Et>>>0,wt||br(Et,2,this.length),this[Et]|this[Et+1]<<8},ze.prototype.readUint16BE=ze.prototype.readUInt16BE=function(Et,wt){return Et=Et>>>0,wt||br(Et,2,this.length),this[Et]<<8|this[Et+1]},ze.prototype.readUint32LE=ze.prototype.readUInt32LE=function(Et,wt){return Et=Et>>>0,wt||br(Et,4,this.length),(this[Et]|this[Et+1]<<8|this[Et+2]<<16)+this[Et+3]*16777216},ze.prototype.readUint32BE=ze.prototype.readUInt32BE=function(Et,wt){return Et=Et>>>0,wt||br(Et,4,this.length),this[Et]*16777216+(this[Et+1]<<16|this[Et+2]<<8|this[Et+3])},ze.prototype.readBigUInt64LE=qt(function(Et){Et=Et>>>0,tr(Et,"offset");const wt=this[Et],Lt=this[Et+7];(wt===void 0||Lt===void 0)&&dr(Et,this.length-8);const Zt=wt+this[++Et]*2**8+this[++Et]*2**16+this[++Et]*2**24,lr=this[++Et]+this[++Et]*2**8+this[++Et]*2**16+Lt*2**24;return BigInt(Zt)+(BigInt(lr)<<BigInt(32))}),ze.prototype.readBigUInt64BE=qt(function(Et){Et=Et>>>0,tr(Et,"offset");const wt=this[Et],Lt=this[Et+7];(wt===void 0||Lt===void 0)&&dr(Et,this.length-8);const Zt=wt*2**24+this[++Et]*2**16+this[++Et]*2**8+this[++Et],lr=this[++Et]*2**24+this[++Et]*2**16+this[++Et]*2**8+Lt;return(BigInt(Zt)<<BigInt(32))+BigInt(lr)}),ze.prototype.readIntLE=function(Et,wt,Lt){Et=Et>>>0,wt=wt>>>0,Lt||br(Et,wt,this.length);let Zt=this[Et],lr=1,Ht=0;for(;++Ht<wt&&(lr*=256);)Zt+=this[Et+Ht]*lr;return lr*=128,Zt>=lr&&(Zt-=Math.pow(2,8*wt)),Zt},ze.prototype.readIntBE=function(Et,wt,Lt){Et=Et>>>0,wt=wt>>>0,Lt||br(Et,wt,this.length);let Zt=wt,lr=1,Ht=this[Et+--Zt];for(;Zt>0&&(lr*=256);)Ht+=this[Et+--Zt]*lr;return lr*=128,Ht>=lr&&(Ht-=Math.pow(2,8*wt)),Ht},ze.prototype.readInt8=function(Et,wt){return Et=Et>>>0,wt||br(Et,1,this.length),this[Et]&128?(255-this[Et]+1)*-1:this[Et]},ze.prototype.readInt16LE=function(Et,wt){Et=Et>>>0,wt||br(Et,2,this.length);const Lt=this[Et]|this[Et+1]<<8;return Lt&32768?Lt|4294901760:Lt},ze.prototype.readInt16BE=function(Et,wt){Et=Et>>>0,wt||br(Et,2,this.length);const Lt=this[Et+1]|this[Et]<<8;return Lt&32768?Lt|4294901760:Lt},ze.prototype.readInt32LE=function(Et,wt){return Et=Et>>>0,wt||br(Et,4,this.length),this[Et]|this[Et+1]<<8|this[Et+2]<<16|this[Et+3]<<24},ze.prototype.readInt32BE=function(Et,wt){return Et=Et>>>0,wt||br(Et,4,this.length),this[Et]<<24|this[Et+1]<<16|this[Et+2]<<8|this[Et+3]},ze.prototype.readBigInt64LE=qt(function(Et){Et=Et>>>0,tr(Et,"offset");const wt=this[Et],Lt=this[Et+7];(wt===void 0||Lt===void 0)&&dr(Et,this.length-8);const Zt=this[Et+4]+this[Et+5]*2**8+this[Et+6]*2**16+(Lt<<24);return(BigInt(Zt)<<BigInt(32))+BigInt(wt+this[++Et]*2**8+this[++Et]*2**16+this[++Et]*2**24)}),ze.prototype.readBigInt64BE=qt(function(Et){Et=Et>>>0,tr(Et,"offset");const wt=this[Et],Lt=this[Et+7];(wt===void 0||Lt===void 0)&&dr(Et,this.length-8);const Zt=(wt<<24)+this[++Et]*2**16+this[++Et]*2**8+this[++Et];return(BigInt(Zt)<<BigInt(32))+BigInt(this[++Et]*2**24+this[++Et]*2**16+this[++Et]*2**8+Lt)}),ze.prototype.readFloatLE=function(Et,wt){return Et=Et>>>0,wt||br(Et,4,this.length),He.read(this,Et,!0,23,4)},ze.prototype.readFloatBE=function(Et,wt){return Et=Et>>>0,wt||br(Et,4,this.length),He.read(this,Et,!1,23,4)},ze.prototype.readDoubleLE=function(Et,wt){return Et=Et>>>0,wt||br(Et,8,this.length),He.read(this,Et,!0,52,8)},ze.prototype.readDoubleBE=function(Et,wt){return Et=Et>>>0,wt||br(Et,8,this.length),He.read(this,Et,!1,52,8)};function cr(gt,Et,wt,Lt,Zt,lr){if(!ze.isBuffer(gt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Et>Zt||Et<lr)throw new RangeError('"value" argument is out of bounds');if(wt+Lt>gt.length)throw new RangeError("Index out of range")}ze.prototype.writeUintLE=ze.prototype.writeUIntLE=function(Et,wt,Lt,Zt){if(Et=+Et,wt=wt>>>0,Lt=Lt>>>0,!Zt){const Xt=Math.pow(2,8*Lt)-1;cr(this,Et,wt,Lt,Xt,0)}let lr=1,Ht=0;for(this[wt]=Et&255;++Ht<Lt&&(lr*=256);)this[wt+Ht]=Et/lr&255;return wt+Lt},ze.prototype.writeUintBE=ze.prototype.writeUIntBE=function(Et,wt,Lt,Zt){if(Et=+Et,wt=wt>>>0,Lt=Lt>>>0,!Zt){const Xt=Math.pow(2,8*Lt)-1;cr(this,Et,wt,Lt,Xt,0)}let lr=Lt-1,Ht=1;for(this[wt+lr]=Et&255;--lr>=0&&(Ht*=256);)this[wt+lr]=Et/Ht&255;return wt+Lt},ze.prototype.writeUint8=ze.prototype.writeUInt8=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,1,255,0),this[wt]=Et&255,wt+1},ze.prototype.writeUint16LE=ze.prototype.writeUInt16LE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,2,65535,0),this[wt]=Et&255,this[wt+1]=Et>>>8,wt+2},ze.prototype.writeUint16BE=ze.prototype.writeUInt16BE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,2,65535,0),this[wt]=Et>>>8,this[wt+1]=Et&255,wt+2},ze.prototype.writeUint32LE=ze.prototype.writeUInt32LE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,4,4294967295,0),this[wt+3]=Et>>>24,this[wt+2]=Et>>>16,this[wt+1]=Et>>>8,this[wt]=Et&255,wt+4},ze.prototype.writeUint32BE=ze.prototype.writeUInt32BE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,4,4294967295,0),this[wt]=Et>>>24,this[wt+1]=Et>>>16,this[wt+2]=Et>>>8,this[wt+3]=Et&255,wt+4};function pr(gt,Et,wt,Lt,Zt){Kt(Et,Lt,Zt,gt,wt,7);let lr=Number(Et&BigInt(4294967295));gt[wt++]=lr,lr=lr>>8,gt[wt++]=lr,lr=lr>>8,gt[wt++]=lr,lr=lr>>8,gt[wt++]=lr;let Ht=Number(Et>>BigInt(32)&BigInt(4294967295));return gt[wt++]=Ht,Ht=Ht>>8,gt[wt++]=Ht,Ht=Ht>>8,gt[wt++]=Ht,Ht=Ht>>8,gt[wt++]=Ht,wt}function lt(gt,Et,wt,Lt,Zt){Kt(Et,Lt,Zt,gt,wt,7);let lr=Number(Et&BigInt(4294967295));gt[wt+7]=lr,lr=lr>>8,gt[wt+6]=lr,lr=lr>>8,gt[wt+5]=lr,lr=lr>>8,gt[wt+4]=lr;let Ht=Number(Et>>BigInt(32)&BigInt(4294967295));return gt[wt+3]=Ht,Ht=Ht>>8,gt[wt+2]=Ht,Ht=Ht>>8,gt[wt+1]=Ht,Ht=Ht>>8,gt[wt]=Ht,wt+8}ze.prototype.writeBigUInt64LE=qt(function(Et,wt=0){return pr(this,Et,wt,BigInt(0),BigInt("0xffffffffffffffff"))}),ze.prototype.writeBigUInt64BE=qt(function(Et,wt=0){return lt(this,Et,wt,BigInt(0),BigInt("0xffffffffffffffff"))}),ze.prototype.writeIntLE=function(Et,wt,Lt,Zt){if(Et=+Et,wt=wt>>>0,!Zt){const ir=Math.pow(2,8*Lt-1);cr(this,Et,wt,Lt,ir-1,-ir)}let lr=0,Ht=1,Xt=0;for(this[wt]=Et&255;++lr<Lt&&(Ht*=256);)Et<0&&Xt===0&&this[wt+lr-1]!==0&&(Xt=1),this[wt+lr]=(Et/Ht>>0)-Xt&255;return wt+Lt},ze.prototype.writeIntBE=function(Et,wt,Lt,Zt){if(Et=+Et,wt=wt>>>0,!Zt){const ir=Math.pow(2,8*Lt-1);cr(this,Et,wt,Lt,ir-1,-ir)}let lr=Lt-1,Ht=1,Xt=0;for(this[wt+lr]=Et&255;--lr>=0&&(Ht*=256);)Et<0&&Xt===0&&this[wt+lr+1]!==0&&(Xt=1),this[wt+lr]=(Et/Ht>>0)-Xt&255;return wt+Lt},ze.prototype.writeInt8=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,1,127,-128),Et<0&&(Et=255+Et+1),this[wt]=Et&255,wt+1},ze.prototype.writeInt16LE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,2,32767,-32768),this[wt]=Et&255,this[wt+1]=Et>>>8,wt+2},ze.prototype.writeInt16BE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,2,32767,-32768),this[wt]=Et>>>8,this[wt+1]=Et&255,wt+2},ze.prototype.writeInt32LE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,4,2147483647,-2147483648),this[wt]=Et&255,this[wt+1]=Et>>>8,this[wt+2]=Et>>>16,this[wt+3]=Et>>>24,wt+4},ze.prototype.writeInt32BE=function(Et,wt,Lt){return Et=+Et,wt=wt>>>0,Lt||cr(this,Et,wt,4,2147483647,-2147483648),Et<0&&(Et=4294967295+Et+1),this[wt]=Et>>>24,this[wt+1]=Et>>>16,this[wt+2]=Et>>>8,this[wt+3]=Et&255,wt+4},ze.prototype.writeBigInt64LE=qt(function(Et,wt=0){return pr(this,Et,wt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ze.prototype.writeBigInt64BE=qt(function(Et,wt=0){return lt(this,Et,wt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ct(gt,Et,wt,Lt,Zt,lr){if(wt+Lt>gt.length)throw new RangeError("Index out of range");if(wt<0)throw new RangeError("Index out of range")}function Nt(gt,Et,wt,Lt,Zt){return Et=+Et,wt=wt>>>0,Zt||ct(gt,Et,wt,4),He.write(gt,Et,wt,Lt,23,4),wt+4}ze.prototype.writeFloatLE=function(Et,wt,Lt){return Nt(this,Et,wt,!0,Lt)},ze.prototype.writeFloatBE=function(Et,wt,Lt){return Nt(this,Et,wt,!1,Lt)};function jt(gt,Et,wt,Lt,Zt){return Et=+Et,wt=wt>>>0,Zt||ct(gt,Et,wt,8),He.write(gt,Et,wt,Lt,52,8),wt+8}ze.prototype.writeDoubleLE=function(Et,wt,Lt){return jt(this,Et,wt,!0,Lt)},ze.prototype.writeDoubleBE=function(Et,wt,Lt){return jt(this,Et,wt,!1,Lt)},ze.prototype.copy=function(Et,wt,Lt,Zt){if(!ze.isBuffer(Et))throw new TypeError("argument should be a Buffer");if(Lt||(Lt=0),!Zt&&Zt!==0&&(Zt=this.length),wt>=Et.length&&(wt=Et.length),wt||(wt=0),Zt>0&&Zt<Lt&&(Zt=Lt),Zt===Lt||Et.length===0||this.length===0)return 0;if(wt<0)throw new RangeError("targetStart out of bounds");if(Lt<0||Lt>=this.length)throw new RangeError("Index out of range");if(Zt<0)throw new RangeError("sourceEnd out of bounds");Zt>this.length&&(Zt=this.length),Et.length-wt<Zt-Lt&&(Zt=Et.length-wt+Lt);const lr=Zt-Lt;return this===Et&&typeof ot.prototype.copyWithin=="function"?this.copyWithin(wt,Lt,Zt):ot.prototype.set.call(Et,this.subarray(Lt,Zt),wt),lr},ze.prototype.fill=function(Et,wt,Lt,Zt){if(typeof Et=="string"){if(typeof wt=="string"?(Zt=wt,wt=0,Lt=this.length):typeof Lt=="string"&&(Zt=Lt,Lt=this.length),Zt!==void 0&&typeof Zt!="string")throw new TypeError("encoding must be a string");if(typeof Zt=="string"&&!ze.isEncoding(Zt))throw new TypeError("Unknown encoding: "+Zt);if(Et.length===1){const Ht=Et.charCodeAt(0);(Zt==="utf8"&&Ht<128||Zt==="latin1")&&(Et=Ht)}}else typeof Et=="number"?Et=Et&255:typeof Et=="boolean"&&(Et=Number(Et));if(wt<0||this.length<wt||this.length<Lt)throw new RangeError("Out of range index");if(Lt<=wt)return this;wt=wt>>>0,Lt=Lt===void 0?this.length:Lt>>>0,Et||(Et=0);let lr;if(typeof Et=="number")for(lr=wt;lr<Lt;++lr)this[lr]=Et;else{const Ht=ze.isBuffer(Et)?Et:ze.from(Et,Zt),Xt=Ht.length;if(Xt===0)throw new TypeError('The value "'+Et+'" is invalid for argument "value"');for(lr=0;lr<Lt-wt;++lr)this[lr+wt]=Ht[lr%Xt]}return this};const zt={};function Ot(gt,Et,wt){zt[gt]=class extends wt{constructor(){super(),Object.defineProperty(this,"message",{value:Et.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${gt}]`,this.stack,delete this.name}get code(){return gt}set code(Zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Zt,writable:!0})}toString(){return`${this.name} [${gt}]: ${this.message}`}}}Ot("ERR_BUFFER_OUT_OF_BOUNDS",function(gt){return gt?`${gt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ot("ERR_INVALID_ARG_TYPE",function(gt,Et){return`The "${gt}" argument must be of type number. Received type ${typeof Et}`},TypeError),Ot("ERR_OUT_OF_RANGE",function(gt,Et,wt){let Lt=`The value of "${gt}" is out of range.`,Zt=wt;return Number.isInteger(wt)&&Math.abs(wt)>2**32?Zt=Rt(String(wt)):typeof wt=="bigint"&&(Zt=String(wt),(wt>BigInt(2)**BigInt(32)||wt<-(BigInt(2)**BigInt(32)))&&(Zt=Rt(Zt)),Zt+="n"),Lt+=` It must be ${Et}. Received ${Zt}`,Lt},RangeError);function Rt(gt){let Et="",wt=gt.length;const Lt=gt[0]==="-"?1:0;for(;wt>=Lt+4;wt-=3)Et=`_${gt.slice(wt-3,wt)}${Et}`;return`${gt.slice(0,wt)}${Et}`}function It(gt,Et,wt){tr(Et,"offset"),(gt[Et]===void 0||gt[Et+wt]===void 0)&&dr(Et,gt.length-(wt+1))}function Kt(gt,Et,wt,Lt,Zt,lr){if(gt>wt||gt<Et){const Ht=typeof Et=="bigint"?"n":"";let Xt;throw Et===0||Et===BigInt(0)?Xt=`>= 0${Ht} and < 2${Ht} ** ${(lr+1)*8}${Ht}`:Xt=`>= -(2${Ht} ** ${(lr+1)*8-1}${Ht}) and < 2 ** ${(lr+1)*8-1}${Ht}`,new zt.ERR_OUT_OF_RANGE("value",Xt,gt)}It(Lt,Zt,lr)}function tr(gt,Et){if(typeof gt!="number")throw new zt.ERR_INVALID_ARG_TYPE(Et,"number",gt)}function dr(gt,Et,wt){throw Math.floor(gt)!==gt?(tr(gt,wt),new zt.ERR_OUT_OF_RANGE("offset","an integer",gt)):Et<0?new zt.ERR_BUFFER_OUT_OF_BOUNDS:new zt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Et}`,gt)}const _r=/[^+/0-9A-Za-z-_]/g;function Nr(gt){if(gt=gt.split("=")[0],gt=gt.trim().replace(_r,""),gt.length<2)return"";for(;gt.length%4!==0;)gt=gt+"=";return gt}function qr(gt,Et){Et=Et||1/0;let wt;const Lt=gt.length;let Zt=null;const lr=[];for(let Ht=0;Ht<Lt;++Ht){if(wt=gt.charCodeAt(Ht),wt>55295&&wt<57344){if(!Zt){if(wt>56319){(Et-=3)>-1&&lr.push(239,191,189);continue}else if(Ht+1===Lt){(Et-=3)>-1&&lr.push(239,191,189);continue}Zt=wt;continue}if(wt<56320){(Et-=3)>-1&&lr.push(239,191,189),Zt=wt;continue}wt=(Zt-55296<<10|wt-56320)+65536}else Zt&&(Et-=3)>-1&&lr.push(239,191,189);if(Zt=null,wt<128){if((Et-=1)<0)break;lr.push(wt)}else if(wt<2048){if((Et-=2)<0)break;lr.push(wt>>6|192,wt&63|128)}else if(wt<65536){if((Et-=3)<0)break;lr.push(wt>>12|224,wt>>6&63|128,wt&63|128)}else if(wt<1114112){if((Et-=4)<0)break;lr.push(wt>>18|240,wt>>12&63|128,wt>>6&63|128,wt&63|128)}else throw new Error("Invalid code point")}return lr}function Br(gt){const Et=[];for(let wt=0;wt<gt.length;++wt)Et.push(gt.charCodeAt(wt)&255);return Et}function Qr(gt,Et){let wt,Lt,Zt;const lr=[];for(let Ht=0;Ht<gt.length&&!((Et-=2)<0);++Ht)wt=gt.charCodeAt(Ht),Lt=wt>>8,Zt=wt%256,lr.push(Zt),lr.push(Lt);return lr}function Wr(gt){return qe.toByteArray(Nr(gt))}function Kr(gt,Et,wt,Lt){let Zt;for(Zt=0;Zt<Lt&&!(Zt+wt>=Et.length||Zt>=gt.length);++Zt)Et[Zt+wt]=gt[Zt];return Zt}function Yr(gt,Et){return gt instanceof Et||gt!=null&&gt.constructor!=null&&gt.constructor.name!=null&&gt.constructor.name===Et.name}function Pt(gt){return gt!==gt}const Wt=function(){const gt="0123456789abcdef",Et=new Array(256);for(let wt=0;wt<16;++wt){const Lt=wt*16;for(let Zt=0;Zt<16;++Zt)Et[Lt+Zt]=gt[wt]+gt[Zt]}return Et}();function qt(gt){return typeof BigInt>"u"?Tt:gt}function Tt(){throw new Error("BigInt not supported")}})($);const Ke=$.Buffer;T.Blob=$.Blob,T.BlobOptions=$.BlobOptions,T.Buffer=$.Buffer,T.File=$.File,T.FileOptions=$.FileOptions,T.INSPECT_MAX_BYTES=$.INSPECT_MAX_BYTES,T.SlowBuffer=$.SlowBuffer,T.TranscodeEncoding=$.TranscodeEncoding,T.atob=$.atob,T.btoa=$.btoa,T.constants=$.constants,T.default=Ke,T.isAscii=$.isAscii,T.isUtf8=$.isUtf8,T.kMaxLength=$.kMaxLength,T.kStringMaxLength=$.kStringMaxLength,T.resolveObjectURL=$.resolveObjectURL,T.transcode=$.transcode})(dist$6);const index$Q=getDefaultExportFromCjs$1(dist$6),dist$5=_mergeNamespaces({__proto__:null,default:index$Q},[dist$6]);let lazy=null;var textEndec$1=function(){return lazy===null&&(lazy={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),lazy};const textEndec$2=getDefaultExportFromCjs$1(textEndec$1),textEndec$3=_mergeNamespaces({__proto__:null,default:textEndec$2},[textEndec$1]);var formats$6={},encoding$1={};const ModuleError$8=moduleError$1,formats$5=new Set(["buffer","view","utf8"]);let Encoding$2=class{constructor($){if(this.encode=$.encode||this.encode,this.decode=$.decode||this.decode,this.name=$.name||this.name,this.format=$.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!formats$5.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");$.createViewTranscoder&&(this.createViewTranscoder=$.createViewTranscoder),$.createBufferTranscoder&&(this.createBufferTranscoder=$.createBufferTranscoder),$.createUTF8Transcoder&&(this.createUTF8Transcoder=$.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};var Encoding_1=encoding$1.Encoding=Encoding$2;const encoding=_mergeNamespaces({__proto__:null,Encoding:Encoding_1,default:encoding$1},[encoding$1]),{Buffer:Buffer$o}=dist$5||{},{Encoding:Encoding$1}=encoding,textEndec=textEndec$3;let BufferFormat$2=class extends Encoding$1{constructor($){super({...$,format:"buffer"})}createViewTranscoder(){return new ViewFormat$2({encode:this.encode,decode:$=>this.decode(Buffer$o.from($.buffer,$.byteOffset,$.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},ViewFormat$2=class extends Encoding$1{constructor($){super({...$,format:"view"})}createBufferTranscoder(){return new BufferFormat$2({encode:$=>{const I=this.encode($);return Buffer$o.from(I.buffer,I.byteOffset,I.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},UTF8Format$2=class extends Encoding$1{constructor($){super({...$,format:"utf8"})}createBufferTranscoder(){return new BufferFormat$2({encode:$=>Buffer$o.from(this.encode($),"utf8"),decode:$=>this.decode($.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:$,textDecoder:I}=textEndec();return new ViewFormat$2({encode:N=>$.encode(this.encode(N)),decode:N=>this.decode(I.decode(N)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};var BufferFormat_1=formats$6.BufferFormat=BufferFormat$2,ViewFormat_1=formats$6.ViewFormat=ViewFormat$2,UTF8Format_1=formats$6.UTF8Format=UTF8Format$2;const formats$4=_mergeNamespaces({__proto__:null,BufferFormat:BufferFormat_1,UTF8Format:UTF8Format_1,ViewFormat:ViewFormat_1,default:formats$6},[formats$6]),{Buffer:Buffer$n}=dist$5||{Buffer:{isBuffer:()=>!1}},{textEncoder:textEncoder$6,textDecoder:textDecoder$5}=textEndec$3(),{BufferFormat:BufferFormat$1,ViewFormat:ViewFormat$1,UTF8Format:UTF8Format$1}=formats$4,identity=T=>T;var utf8=encodings$2.utf8=new UTF8Format$1({encode:function(T){return Buffer$n.isBuffer(T)?T.toString("utf8"):ArrayBuffer.isView(T)?textDecoder$5.decode(T):String(T)},decode:identity,name:"utf8",createViewTranscoder(){return new ViewFormat$1({encode:function(T){return ArrayBuffer.isView(T)?T:textEncoder$6.encode(T)},decode:function(T){return textDecoder$5.decode(T)},name:`${this.name}+view`})},createBufferTranscoder(){return new BufferFormat$1({encode:function(T){return Buffer$n.isBuffer(T)?T:ArrayBuffer.isView(T)?Buffer$n.from(T.buffer,T.byteOffset,T.byteLength):Buffer$n.from(String(T),"utf8")},decode:function(T){return T.toString("utf8")},name:`${this.name}+buffer`})}}),json=encodings$2.json=new UTF8Format$1({encode:JSON.stringify,decode:JSON.parse,name:"json"}),buffer$1=encodings$2.buffer=new BufferFormat$1({encode:function(T){return Buffer$n.isBuffer(T)?T:ArrayBuffer.isView(T)?Buffer$n.from(T.buffer,T.byteOffset,T.byteLength):Buffer$n.from(String(T),"utf8")},decode:identity,name:"buffer",createViewTranscoder(){return new ViewFormat$1({encode:function(T){return ArrayBuffer.isView(T)?T:Buffer$n.from(String(T),"utf8")},decode:function(T){return Buffer$n.from(T.buffer,T.byteOffset,T.byteLength)},name:`${this.name}+view`})}}),view=encodings$2.view=new ViewFormat$1({encode:function(T){return ArrayBuffer.isView(T)?T:textEncoder$6.encode(T)},decode:identity,name:"view",createBufferTranscoder(){return new BufferFormat$1({encode:function(T){return Buffer$n.isBuffer(T)?T:ArrayBuffer.isView(T)?Buffer$n.from(T.buffer,T.byteOffset,T.byteLength):Buffer$n.from(String(T),"utf8")},decode:identity,name:`${this.name}+buffer`})}}),hex=encodings$2.hex=new BufferFormat$1({encode:function(T){return Buffer$n.isBuffer(T)?T:Buffer$n.from(String(T),"hex")},decode:function(T){return T.toString("hex")},name:"hex"}),base64$1=encodings$2.base64=new BufferFormat$1({encode:function(T){return Buffer$n.isBuffer(T)?T:Buffer$n.from(String(T),"base64")},decode:function(T){return T.toString("base64")},name:"base64"});const encodings$1=_mergeNamespaces({__proto__:null,base64:base64$1,buffer:buffer$1,default:encodings$2,hex,json,utf8,view},[encodings$2]),ModuleError$7=moduleError$1,encodings=encodings$1,{Encoding}=encoding,{BufferFormat,ViewFormat,UTF8Format}=formats$4,kFormats=Symbol("formats"),kEncodings=Symbol("encodings"),validFormats=new Set(["buffer","view","utf8"]);let Transcoder$1=class{constructor($){if(Array.isArray($)){if(!$.every(I=>validFormats.has(I)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[kEncodings]=new Map,this[kFormats]=new Set($);for(const I in encodings)try{this.encoding(I)}catch(N){if(N.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw N}}encodings(){return Array.from(new Set(this[kEncodings].values()))}encoding($){let I=this[kEncodings].get($);if(I===void 0){if(typeof $=="string"&&$!==""){if(I=lookup$1[$],!I)throw new ModuleError$7(`Encoding '${$}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof $!="object"||$===null)throw new TypeError("First argument 'encoding' must be a string or object");I=from$m($)}const{name:N,format:L}=I;if(!this[kFormats].has(L))if(this[kFormats].has("view"))I=I.createViewTranscoder();else if(this[kFormats].has("buffer"))I=I.createBufferTranscoder();else if(this[kFormats].has("utf8"))I=I.createUTF8Transcoder();else throw new ModuleError$7(`Encoding '${N}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const B of[$,N,I.name,I.commonName])this[kEncodings].set(B,I)}return I}};var Transcoder_1=levelTranscoder$1.Transcoder=Transcoder$1;function from$m(T){if(T instanceof Encoding)return T;const $="type"in T&&typeof T.type=="string"?T.type:void 0,I=T.name||$||`anonymous-${anonymousCount++}`;switch(detectFormat(T)){case"view":return new ViewFormat({...T,name:I});case"utf8":return new UTF8Format({...T,name:I});case"buffer":return new BufferFormat({...T,name:I});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function detectFormat(T){return"format"in T&&T.format!==void 0?T.format:"buffer"in T&&typeof T.buffer=="boolean"?T.buffer?"buffer":"utf8":"code"in T&&Number.isInteger(T.code)?"view":"buffer"}const aliases={binary:encodings.buffer,"utf-8":encodings.utf8},lookup$1={...encodings,...aliases};let anonymousCount=0;const levelTranscoder=_mergeNamespaces({__proto__:null,Transcoder:Transcoder_1,default:levelTranscoder$1},[levelTranscoder$1]);var events$2={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function($,I,N){return Function.prototype.apply.call($,I,N)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:ReflectOwnKeys=function($){return Object.getOwnPropertyNames($)};function ProcessEmitWarning(T){console&&console.warn&&console.warn(T)}var NumberIsNaN$a=Number.isNaN||function($){return $!==$};function EventEmitter$1(){EventEmitter$1.init.call(this)}events$2.exports=EventEmitter$1;var once_1=events$2.exports.once=once2;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(T){if(typeof T!="number"||T<0||NumberIsNaN$a(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");defaultMaxListeners=T}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||NumberIsNaN$a($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function _getMaxListeners(T){return T._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:T._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function($){for(var I=[],N=1;N<arguments.length;N++)I.push(arguments[N]);var L=$==="error",B=this._events;if(B!==void 0)L=L&&B.error===void 0;else if(!L)return!1;if(L){var H;if(I.length>0&&(H=I[0]),H instanceof Error)throw H;var z=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw z.context=H,z}var Q=B[$];if(Q===void 0)return!1;if(typeof Q=="function")ReflectApply(Q,this,I);else for(var te=Q.length,G=arrayClone(Q,te),N=0;N<te;++N)ReflectApply(G[N],this,I);return!0};function _addListener(T,$,I,N){var L,B,H;if(checkListener(I),B=T._events,B===void 0?(B=T._events=Object.create(null),T._eventsCount=0):(B.newListener!==void 0&&(T.emit("newListener",$,I.listener?I.listener:I),B=T._events),H=B[$]),H===void 0)H=B[$]=I,++T._eventsCount;else if(typeof H=="function"?H=B[$]=N?[I,H]:[H,I]:N?H.unshift(I):H.push(I),L=_getMaxListeners(T),L>0&&H.length>L&&!H.warned){H.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=T,z.type=$,z.count=H.length,ProcessEmitWarning(z)}return T}EventEmitter$1.prototype.addListener=function($,I){return _addListener(this,$,I,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function($,I){return _addListener(this,$,I,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(T,$,I){var N={fired:!1,wrapFn:void 0,target:T,type:$,listener:I},L=onceWrapper.bind(N);return L.listener=I,N.wrapFn=L,L}EventEmitter$1.prototype.once=function($,I){return checkListener(I),this.on($,_onceWrap(this,$,I)),this};EventEmitter$1.prototype.prependOnceListener=function($,I){return checkListener(I),this.prependListener($,_onceWrap(this,$,I)),this};EventEmitter$1.prototype.removeListener=function($,I){var N,L,B,H,z;if(checkListener(I),L=this._events,L===void 0)return this;if(N=L[$],N===void 0)return this;if(N===I||N.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete L[$],L.removeListener&&this.emit("removeListener",$,N.listener||I));else if(typeof N!="function"){for(B=-1,H=N.length-1;H>=0;H--)if(N[H]===I||N[H].listener===I){z=N[H].listener,B=H;break}if(B<0)return this;B===0?N.shift():spliceOne(N,B),N.length===1&&(L[$]=N[0]),L.removeListener!==void 0&&this.emit("removeListener",$,z||I)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function($){var I,N,L;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[$]),this;if(arguments.length===0){var B=Object.keys(N),H;for(L=0;L<B.length;++L)H=B[L],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=N[$],typeof I=="function")this.removeListener($,I);else if(I!==void 0)for(L=I.length-1;L>=0;L--)this.removeListener($,I[L]);return this};function _listeners(T,$,I){var N=T._events;if(N===void 0)return[];var L=N[$];return L===void 0?[]:typeof L=="function"?I?[L.listener||L]:[L]:I?unwrapListeners(L):arrayClone(L,L.length)}EventEmitter$1.prototype.listeners=function($){return _listeners(this,$,!0)};EventEmitter$1.prototype.rawListeners=function($){return _listeners(this,$,!1)};EventEmitter$1.listenerCount=function(T,$){return typeof T.listenerCount=="function"?T.listenerCount($):listenerCount.call(T,$)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(T){var $=this._events;if($!==void 0){var I=$[T];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(T,$){for(var I=new Array($),N=0;N<$;++N)I[N]=T[N];return I}function spliceOne(T,$){for(;$+1<T.length;$++)T[$]=T[$+1];T.pop()}function unwrapListeners(T){for(var $=new Array(T.length),I=0;I<$.length;++I)$[I]=T[I].listener||T[I];return $}function once2(T,$){return new Promise(function(I,N){function L(H){T.removeListener($,B),N(H)}function B(){typeof T.removeListener=="function"&&T.removeListener("error",L),I([].slice.call(arguments))}eventTargetAgnosticAddListener(T,$,B,{once:!0}),$!=="error"&&addErrorHandlerIfEventEmitter(T,L,{once:!0})})}function addErrorHandlerIfEventEmitter(T,$,I){typeof T.on=="function"&&eventTargetAgnosticAddListener(T,"error",$,I)}function eventTargetAgnosticAddListener(T,$,I,N){if(typeof T.on=="function")N.once?T.once($,I):T.on($,I);else if(typeof T.addEventListener=="function")T.addEventListener($,function L(B){N.once&&T.removeEventListener($,L),I(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}var eventsExports=events$2.exports;const events=getDefaultExportFromCjs$1(eventsExports),events$1=_mergeNamespaces({__proto__:null,default:events,once:once_1},[eventsExports]);var catering$1={},nextTickBrowser$1=typeof queueMicrotask=="function"?queueMicrotask:T=>Promise.resolve().then(T);const nextTickBrowser$2=getDefaultExportFromCjs$1(nextTickBrowser$1),nextTickBrowser$3=_mergeNamespaces({__proto__:null,default:nextTickBrowser$2},[nextTickBrowser$1]);var nextTick=nextTickBrowser$3,fromCallback$4=catering$1.fromCallback=function(T,$){if(T===void 0){var I=new Promise(function(N,L){T=function(B,H){B?L(B):N(H)}});T[$!==void 0?$:"promise"]=I}else if(typeof T!="function")throw new TypeError("Callback must be a function");return T},fromPromise=catering$1.fromPromise=function(T,$){if($===void 0)return T;T.then(function(I){nextTick(()=>$(null,I))}).catch(function(I){nextTick(()=>$(I))})};const catering=_mergeNamespaces({__proto__:null,default:catering$1,fromCallback:fromCallback$4,fromPromise},[catering$1]);var abstractIterator$1={},common$9={},getCallback$3=common$9.getCallback=function(T,$){return typeof T=="function"?T:$},getOptions$3=common$9.getOptions=function(T,$){return typeof T=="object"&&T!==null?T:$!==void 0?$:{}};const common$8=_mergeNamespaces({__proto__:null,default:common$9,getCallback:getCallback$3,getOptions:getOptions$3},[common$9]),{fromCallback:fromCallback$3}=catering,ModuleError$6=moduleError$1,{getOptions:getOptions$2,getCallback:getCallback$2}=common$8,kPromise$3=Symbol("promise"),kCallback$6=Symbol("callback"),kWorking=Symbol("working"),kHandleOne$1=Symbol("handleOne"),kHandleMany$1=Symbol("handleMany"),kAutoClose=Symbol("autoClose"),kFinishWork=Symbol("finishWork"),kReturnMany=Symbol("returnMany"),kClosing=Symbol("closing"),kHandleClose=Symbol("handleClose"),kClosed=Symbol("closed"),kCloseCallbacks$1=Symbol("closeCallbacks"),kKeyEncoding$1=Symbol("keyEncoding"),kValueEncoding$1=Symbol("valueEncoding"),kAbortOnClose=Symbol("abortOnClose"),kLegacy=Symbol("legacy"),kKeys=Symbol("keys"),kValues=Symbol("values"),kLimit=Symbol("limit"),kCount=Symbol("count"),emptyOptions$1=Object.freeze({}),noop$3=()=>{};let warnedEnd=!1;class CommonIterator{constructor($,I,N){if(typeof $!="object"||$===null){const L=$===null?"null":typeof $;throw new TypeError(`The first argument must be an abstract-level database, received ${L}`)}if(typeof I!="object"||I===null)throw new TypeError("The second argument must be an options object");this[kClosed]=!1,this[kCloseCallbacks$1]=[],this[kWorking]=!1,this[kClosing]=!1,this[kAutoClose]=!1,this[kCallback$6]=null,this[kHandleOne$1]=this[kHandleOne$1].bind(this),this[kHandleMany$1]=this[kHandleMany$1].bind(this),this[kHandleClose]=this[kHandleClose].bind(this),this[kKeyEncoding$1]=I[kKeyEncoding$1],this[kValueEncoding$1]=I[kValueEncoding$1],this[kLegacy]=N,this[kLimit]=Number.isInteger(I.limit)&&I.limit>=0?I.limit:1/0,this[kCount]=0,this[kAbortOnClose]=!!I.abortOnClose,this.db=$,this.db.attachResource(this),this.nextTick=$.nextTick}get count(){return this[kCount]}get limit(){return this[kLimit]}next($){let I;if($===void 0)I=new Promise((N,L)=>{$=(B,H,z)=>{B?L(B):this[kLegacy]?H===void 0&&z===void 0?N():N([H,z]):N(H)}});else if(typeof $!="function")throw new TypeError("Callback must be a function");return this[kClosing]?this.nextTick($,new ModuleError$6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick($,new ModuleError$6("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$6]=$,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleOne$1],null):this._next(this[kHandleOne$1])),I}_next($){this.nextTick($)}nextv($,I,N){return N=getCallback$2(I,N),N=fromCallback$3(N,kPromise$3),I=getOptions$2(I,emptyOptions$1),Number.isInteger($)?(this[kClosing]?this.nextTick(N,new ModuleError$6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(N,new ModuleError$6("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):($<1&&($=1),this[kLimit]<1/0&&($=Math.min($,this[kLimit]-this[kCount])),this[kWorking]=!0,this[kCallback$6]=N,$<=0?this.nextTick(this[kHandleMany$1],null,[]):this._nextv($,I,this[kHandleMany$1])),N[kPromise$3]):(this.nextTick(N,new TypeError("The first argument 'size' must be an integer")),N[kPromise$3])}_nextv($,I,N){const L=[],B=(H,z,Q)=>{if(H)return N(H);if(this[kLegacy]?z===void 0&&Q===void 0:z===void 0)return N(null,L);L.push(this[kLegacy]?[z,Q]:z),L.length===$?N(null,L):this._next(B)};this._next(B)}all($,I){return I=getCallback$2($,I),I=fromCallback$3(I,kPromise$3),$=getOptions$2($,emptyOptions$1),this[kClosing]?this.nextTick(I,new ModuleError$6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(I,new ModuleError$6("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$6]=I,this[kAutoClose]=!0,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleMany$1],null,[]):this._all($,this[kHandleMany$1])),I[kPromise$3]}_all($,I){let N=this[kCount];const L=[],B=()=>{const z=this[kLimit]<1/0?Math.min(1e3,this[kLimit]-N):1e3;z<=0?this.nextTick(I,null,L):this._nextv(z,emptyOptions$1,H)},H=(z,Q)=>{z?I(z):Q.length===0?I(null,L):(L.push.apply(L,Q),N+=Q.length,B())};B()}[kFinishWork](){const $=this[kCallback$6];return this[kAbortOnClose]&&$===null?noop$3:(this[kWorking]=!1,this[kCallback$6]=null,this[kClosing]&&this._close(this[kHandleClose]),$)}[kReturnMany]($,I,N){this[kAutoClose]?this.close($.bind(null,I,N)):$(I,N)}seek($,I){if(I=getOptions$2(I,emptyOptions$1),!this[kClosing]){if(this[kWorking])throw new ModuleError$6("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const N=this.db.keyEncoding(I.keyEncoding||this[kKeyEncoding$1]),L=N.format;I.keyEncoding!==L&&(I={...I,keyEncoding:L});const B=this.db.prefixKey(N.encode($),L);this._seek(B,I)}}}_seek($,I){throw new ModuleError$6("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close($){return $=fromCallback$3($,kPromise$3),this[kClosed]?this.nextTick($):this[kClosing]?this[kCloseCallbacks$1].push($):(this[kClosing]=!0,this[kCloseCallbacks$1].push($),this[kWorking]?this[kAbortOnClose]&&this[kFinishWork]()(new ModuleError$6("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[kHandleClose])),$[kPromise$3]}_close($){this.nextTick($)}[kHandleClose](){this[kClosed]=!0,this.db.detachResource(this);const $=this[kCloseCallbacks$1];this[kCloseCallbacks$1]=[];for(const I of $)I()}async*[Symbol.asyncIterator](){try{let $;for(;($=await this.next())!==void 0;)yield $}finally{this[kClosed]||await this.close()}}}let AbstractIterator$4=class extends CommonIterator{constructor($,I){super($,I,!0),this[kKeys]=I.keys!==!1,this[kValues]=I.values!==!1}[kHandleOne$1]($,I,N){const L=this[kFinishWork]();if($)return L($);try{I=this[kKeys]&&I!==void 0?this[kKeyEncoding$1].decode(I):void 0,N=this[kValues]&&N!==void 0?this[kValueEncoding$1].decode(N):void 0}catch(B){return L(new IteratorDecodeError("entry",B))}I===void 0&&N===void 0||this[kCount]++,L(null,I,N)}[kHandleMany$1]($,I){const N=this[kFinishWork]();if($)return this[kReturnMany](N,$);try{for(const L of I){const B=L[0],H=L[1];L[0]=this[kKeys]&&B!==void 0?this[kKeyEncoding$1].decode(B):void 0,L[1]=this[kValues]&&H!==void 0?this[kValueEncoding$1].decode(H):void 0}}catch(L){return this[kReturnMany](N,new IteratorDecodeError("entries",L))}this[kCount]+=I.length,this[kReturnMany](N,null,I)}end($){return!warnedEnd&&typeof console<"u"&&(warnedEnd=!0,console.warn(new ModuleError$6("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close($)}},AbstractKeyIterator$3=class extends CommonIterator{constructor($,I){super($,I,!1)}[kHandleOne$1]($,I){const N=this[kFinishWork]();if($)return N($);try{I=I!==void 0?this[kKeyEncoding$1].decode(I):void 0}catch(L){return N(new IteratorDecodeError("key",L))}I!==void 0&&this[kCount]++,N(null,I)}[kHandleMany$1]($,I){const N=this[kFinishWork]();if($)return this[kReturnMany](N,$);try{for(let L=0;L<I.length;L++){const B=I[L];I[L]=B!==void 0?this[kKeyEncoding$1].decode(B):void 0}}catch(L){return this[kReturnMany](N,new IteratorDecodeError("keys",L))}this[kCount]+=I.length,this[kReturnMany](N,null,I)}},AbstractValueIterator$3=class extends CommonIterator{constructor($,I){super($,I,!1)}[kHandleOne$1]($,I){const N=this[kFinishWork]();if($)return N($);try{I=I!==void 0?this[kValueEncoding$1].decode(I):void 0}catch(L){return N(new IteratorDecodeError("value",L))}I!==void 0&&this[kCount]++,N(null,I)}[kHandleMany$1]($,I){const N=this[kFinishWork]();if($)return this[kReturnMany](N,$);try{for(let L=0;L<I.length;L++){const B=I[L];I[L]=B!==void 0?this[kValueEncoding$1].decode(B):void 0}}catch(L){return this[kReturnMany](N,new IteratorDecodeError("values",L))}this[kCount]+=I.length,this[kReturnMany](N,null,I)}};class IteratorDecodeError extends ModuleError$6{constructor($,I){super(`Iterator could not decode ${$}`,{code:"LEVEL_DECODE_ERROR",cause:I})}}for(const T of["_ended property","_nexting property","_end method"])Object.defineProperty(AbstractIterator$4.prototype,T.split(" ")[0],{get(){throw new ModuleError$6(`The ${T} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ModuleError$6(`The ${T} has been removed`,{code:"LEVEL_LEGACY"})}});AbstractIterator$4.keyEncoding=kKeyEncoding$1;AbstractIterator$4.valueEncoding=kValueEncoding$1;var AbstractIterator_1=abstractIterator$1.AbstractIterator=AbstractIterator$4,AbstractKeyIterator_1=abstractIterator$1.AbstractKeyIterator=AbstractKeyIterator$3,AbstractValueIterator_1=abstractIterator$1.AbstractValueIterator=AbstractValueIterator$3;const abstractIterator=_mergeNamespaces({__proto__:null,AbstractIterator:AbstractIterator_1,AbstractKeyIterator:AbstractKeyIterator_1,AbstractValueIterator:AbstractValueIterator_1,default:abstractIterator$1},[abstractIterator$1]);var defaultKvIterator$1={};const{AbstractKeyIterator:AbstractKeyIterator$2,AbstractValueIterator:AbstractValueIterator$2}=abstractIterator,kIterator=Symbol("iterator"),kCallback$5=Symbol("callback"),kHandleOne=Symbol("handleOne"),kHandleMany=Symbol("handleMany");let DefaultKeyIterator$1=class extends AbstractKeyIterator$2{constructor($,I){super($,I),this[kIterator]=$.iterator({...I,keys:!0,values:!1}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}},DefaultValueIterator$1=class extends AbstractValueIterator$2{constructor($,I){super($,I),this[kIterator]=$.iterator({...I,keys:!1,values:!0}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}};for(const T of[DefaultKeyIterator$1,DefaultValueIterator$1]){const $=T===DefaultKeyIterator$1,I=$?N=>N[0]:N=>N[1];T.prototype._next=function(N){this[kCallback$5]=N,this[kIterator].next(this[kHandleOne])},T.prototype[kHandleOne]=function(N,L,B){const H=this[kCallback$5];N?H(N):H(null,$?L:B)},T.prototype._nextv=function(N,L,B){this[kCallback$5]=B,this[kIterator].nextv(N,L,this[kHandleMany])},T.prototype._all=function(N,L){this[kCallback$5]=L,this[kIterator].all(N,this[kHandleMany])},T.prototype[kHandleMany]=function(N,L){const B=this[kCallback$5];N?B(N):B(null,L.map(I))},T.prototype._seek=function(N,L){this[kIterator].seek(N,L)},T.prototype._close=function(N){this[kIterator].close(N)}}var DefaultKeyIterator_1=defaultKvIterator$1.DefaultKeyIterator=DefaultKeyIterator$1,DefaultValueIterator_1=defaultKvIterator$1.DefaultValueIterator=DefaultValueIterator$1;const defaultKvIterator=_mergeNamespaces({__proto__:null,DefaultKeyIterator:DefaultKeyIterator_1,DefaultValueIterator:DefaultValueIterator_1,default:defaultKvIterator$1},[defaultKvIterator$1]);var deferredIterator$1={};const{AbstractIterator:AbstractIterator$3,AbstractKeyIterator:AbstractKeyIterator$1,AbstractValueIterator:AbstractValueIterator$1}=abstractIterator,ModuleError$5=moduleError$1,kNut=Symbol("nut"),kUndefer$1=Symbol("undefer"),kFactory=Symbol("factory");let DeferredIterator$1=class extends AbstractIterator$3{constructor($,I){super($,I),this[kNut]=null,this[kFactory]=()=>$.iterator(I),this.db.defer(()=>this[kUndefer$1]())}},DeferredKeyIterator$1=class extends AbstractKeyIterator$1{constructor($,I){super($,I),this[kNut]=null,this[kFactory]=()=>$.keys(I),this.db.defer(()=>this[kUndefer$1]())}},DeferredValueIterator$1=class extends AbstractValueIterator$1{constructor($,I){super($,I),this[kNut]=null,this[kFactory]=()=>$.values(I),this.db.defer(()=>this[kUndefer$1]())}};for(const T of[DeferredIterator$1,DeferredKeyIterator$1,DeferredValueIterator$1])T.prototype[kUndefer$1]=function(){this.db.status==="open"&&(this[kNut]=this[kFactory]())},T.prototype._next=function($){this[kNut]!==null?this[kNut].next($):this.db.status==="opening"?this.db.defer(()=>this._next($)):this.nextTick($,new ModuleError$5("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},T.prototype._nextv=function($,I,N){this[kNut]!==null?this[kNut].nextv($,I,N):this.db.status==="opening"?this.db.defer(()=>this._nextv($,I,N)):this.nextTick(N,new ModuleError$5("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},T.prototype._all=function($,I){this[kNut]!==null?this[kNut].all(I):this.db.status==="opening"?this.db.defer(()=>this._all($,I)):this.nextTick(I,new ModuleError$5("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},T.prototype._seek=function($,I){this[kNut]!==null?this[kNut]._seek($,I):this.db.status==="opening"&&this.db.defer(()=>this._seek($,I))},T.prototype._close=function($){this[kNut]!==null?this[kNut].close($):this.db.status==="opening"?this.db.defer(()=>this._close($)):this.nextTick($)};var DeferredIterator_1=deferredIterator$1.DeferredIterator=DeferredIterator$1,DeferredKeyIterator_1=deferredIterator$1.DeferredKeyIterator=DeferredKeyIterator$1,DeferredValueIterator_1=deferredIterator$1.DeferredValueIterator=DeferredValueIterator$1;const deferredIterator=_mergeNamespaces({__proto__:null,DeferredIterator:DeferredIterator_1,DeferredKeyIterator:DeferredKeyIterator_1,DeferredValueIterator:DeferredValueIterator_1,default:deferredIterator$1},[deferredIterator$1]);var defaultChainedBatch$1={},abstractChainedBatch$1={};const{fromCallback:fromCallback$2}=catering,ModuleError$4=moduleError$1,{getCallback:getCallback$1,getOptions:getOptions$1}=common$8,kPromise$2=Symbol("promise"),kStatus$1=Symbol("status"),kOperations$1=Symbol("operations"),kFinishClose=Symbol("finishClose"),kCloseCallbacks=Symbol("closeCallbacks");let AbstractChainedBatch$2=class{constructor($){if(typeof $!="object"||$===null){const I=$===null?"null":typeof $;throw new TypeError(`The first argument must be an abstract-level database, received ${I}`)}this[kOperations$1]=[],this[kCloseCallbacks]=[],this[kStatus$1]="open",this[kFinishClose]=this[kFinishClose].bind(this),this.db=$,this.db.attachResource(this),this.nextTick=$.nextTick}get length(){return this[kOperations$1].length}put($,I,N){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const L=this.db._checkKey($)||this.db._checkValue(I);if(L)throw L;const B=N&&N.sublevel!=null?N.sublevel:this.db,H=N,z=B.keyEncoding(N&&N.keyEncoding),Q=B.valueEncoding(N&&N.valueEncoding),te=z.format;N={...N,keyEncoding:te,valueEncoding:Q.format},B!==this.db&&(N.sublevel=null);const G=B.prefixKey(z.encode($),te),ie=Q.encode(I);return this._put(G,ie,N),this[kOperations$1].push({...H,type:"put",key:$,value:I}),this}_put($,I,N){}del($,I){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const N=this.db._checkKey($);if(N)throw N;const L=I&&I.sublevel!=null?I.sublevel:this.db,B=I,H=L.keyEncoding(I&&I.keyEncoding),z=H.format;return I={...I,keyEncoding:z},L!==this.db&&(I.sublevel=null),this._del(L.prefixKey(H.encode($),z),I),this[kOperations$1].push({...B,type:"del",key:$}),this}_del($,I){}clear(){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[kOperations$1]=[],this}_clear(){}write($,I){return I=getCallback$1($,I),I=fromCallback$2(I,kPromise$2),$=getOptions$1($),this[kStatus$1]!=="open"?this.nextTick(I,new ModuleError$4("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(I):(this[kStatus$1]="writing",this._write($,N=>{this[kStatus$1]="closing",this[kCloseCallbacks].push(()=>I(N)),N||this.db.emit("batch",this[kOperations$1]),this._close(this[kFinishClose])})),I[kPromise$2]}_write($,I){}close($){return $=fromCallback$2($,kPromise$2),this[kStatus$1]==="closing"?this[kCloseCallbacks].push($):this[kStatus$1]==="closed"?this.nextTick($):(this[kCloseCallbacks].push($),this[kStatus$1]!=="writing"&&(this[kStatus$1]="closing",this._close(this[kFinishClose]))),$[kPromise$2]}_close($){this.nextTick($)}[kFinishClose](){this[kStatus$1]="closed",this.db.detachResource(this);const $=this[kCloseCallbacks];this[kCloseCallbacks]=[];for(const I of $)I()}};var AbstractChainedBatch_1=abstractChainedBatch$1.AbstractChainedBatch=AbstractChainedBatch$2;const abstractChainedBatch=_mergeNamespaces({__proto__:null,AbstractChainedBatch:AbstractChainedBatch_1,default:abstractChainedBatch$1},[abstractChainedBatch$1]),{AbstractChainedBatch:AbstractChainedBatch$1}=abstractChainedBatch,ModuleError$3=moduleError$1,kEncoded=Symbol("encoded");let DefaultChainedBatch$1=class extends AbstractChainedBatch$1{constructor($){super($),this[kEncoded]=[]}_put($,I,N){this[kEncoded].push({...N,type:"put",key:$,value:I})}_del($,I){this[kEncoded].push({...I,type:"del",key:$})}_clear(){this[kEncoded]=[]}_write($,I){this.db.status==="opening"?this.db.defer(()=>this._write($,I)):this.db.status==="open"?this[kEncoded].length===0?this.nextTick(I):this.db._batch(this[kEncoded],$,I):this.nextTick(I,new ModuleError$3("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};var DefaultChainedBatch_1=defaultChainedBatch$1.DefaultChainedBatch=DefaultChainedBatch$1;const defaultChainedBatch=_mergeNamespaces({__proto__:null,DefaultChainedBatch:DefaultChainedBatch_1,default:defaultChainedBatch$1},[defaultChainedBatch$1]),ModuleError$2=moduleError$1,hasOwnProperty$1=Object.prototype.hasOwnProperty,rangeOptions$1=new Set(["lt","lte","gt","gte"]);var rangeOptions_1=function(T,$){const I={};for(const N in T)if(hasOwnProperty$1.call(T,N)&&!(N==="keyEncoding"||N==="valueEncoding")){if(N==="start"||N==="end")throw new ModuleError$2(`The legacy range option '${N}' has been removed`,{code:"LEVEL_LEGACY"});if(N==="encoding")throw new ModuleError$2("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});rangeOptions$1.has(N)?I[N]=$.encode(T[N]):I[N]=T[N]}return I.reverse=!!I.reverse,I.limit=Number.isInteger(I.limit)&&I.limit>=0?I.limit:-1,I};const rangeOptions$2=getDefaultExportFromCjs$1(rangeOptions_1),rangeOptions$3=_mergeNamespaces({__proto__:null,default:rangeOptions$2},[rangeOptions_1]);/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let promise;var queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal$2):T=>(promise||(promise=Promise.resolve())).then(T).catch($=>setTimeout(()=>{throw $},0));const index$P=getDefaultExportFromCjs$1(queueMicrotask_1),queueMicrotask$2=_mergeNamespaces({__proto__:null,default:index$P},[queueMicrotask_1]);var nextTickBrowser,hasRequiredNextTickBrowser;function requireNextTickBrowser(){if(hasRequiredNextTickBrowser)return nextTickBrowser;hasRequiredNextTickBrowser=1;const T=queueMicrotask$2;return nextTickBrowser=function($,...I){I.length===0?T($):T(()=>$(...I))},nextTickBrowser}var abstractSublevelIterator={},hasRequiredAbstractSublevelIterator;function requireAbstractSublevelIterator(){if(hasRequiredAbstractSublevelIterator)return abstractSublevelIterator;hasRequiredAbstractSublevelIterator=1;const{AbstractIterator:T,AbstractKeyIterator:$,AbstractValueIterator:I}=abstractIterator,N=Symbol("unfix"),L=Symbol("iterator"),B=Symbol("handleOne"),H=Symbol("handleMany"),z=Symbol("callback");class Q extends T{constructor(Re,$e,Pe,Me){super(Re,$e),this[L]=Pe,this[N]=Me,this[B]=this[B].bind(this),this[H]=this[H].bind(this),this[z]=null}[B](Re,$e,Pe){const Me=this[z];if(Re)return Me(Re);$e!==void 0&&($e=this[N]($e)),Me(Re,$e,Pe)}[H](Re,$e){const Pe=this[z];if(Re)return Pe(Re);for(const Me of $e){const Be=Me[0];Be!==void 0&&(Me[0]=this[N](Be))}Pe(Re,$e)}}class te extends ${constructor(Re,$e,Pe,Me){super(Re,$e),this[L]=Pe,this[N]=Me,this[B]=this[B].bind(this),this[H]=this[H].bind(this),this[z]=null}[B](Re,$e){const Pe=this[z];if(Re)return Pe(Re);$e!==void 0&&($e=this[N]($e)),Pe(Re,$e)}[H](Re,$e){const Pe=this[z];if(Re)return Pe(Re);for(let Me=0;Me<$e.length;Me++){const Be=$e[Me];Be!==void 0&&($e[Me]=this[N](Be))}Pe(Re,$e)}}class G extends I{constructor(Re,$e,Pe){super(Re,$e),this[L]=Pe}}for(const ie of[Q,te])ie.prototype._next=function(Re){this[z]=Re,this[L].next(this[B])},ie.prototype._nextv=function(Re,$e,Pe){this[z]=Pe,this[L].nextv(Re,$e,this[H])},ie.prototype._all=function(Re,$e){this[z]=$e,this[L].all(Re,this[H])};for(const ie of[G])ie.prototype._next=function(Re){this[L].next(Re)},ie.prototype._nextv=function(Re,$e,Pe){this[L].nextv(Re,$e,Pe)},ie.prototype._all=function(Re,$e){this[L].all(Re,$e)};for(const ie of[Q,te,G])ie.prototype._seek=function(Re,$e){this[L].seek(Re,$e)},ie.prototype._close=function(Re){this[L].close(Re)};return abstractSublevelIterator.AbstractSublevelIterator=Q,abstractSublevelIterator.AbstractSublevelKeyIterator=te,abstractSublevelIterator.AbstractSublevelValueIterator=G,abstractSublevelIterator}var abstractSublevel,hasRequiredAbstractSublevel;function requireAbstractSublevel(){if(hasRequiredAbstractSublevel)return abstractSublevel;hasRequiredAbstractSublevel=1;const T=moduleError$1,{Buffer:$}=dist$5||{},{AbstractSublevelIterator:I,AbstractSublevelKeyIterator:N,AbstractSublevelValueIterator:L}=requireAbstractSublevelIterator(),B=Symbol("prefix"),H=Symbol("upperBound"),z=Symbol("prefixRange"),Q=Symbol("parent"),te=Symbol("unfix"),G=new TextEncoder,ie={separator:"!"};abstractSublevel=function({AbstractLevel:Ke}){class Le extends Ke{static defaults(He){if(typeof He=="string")throw new T("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(He&&He.open)throw new T("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return He==null?ie:He.separator?He:{...He,separator:"!"}}constructor(He,Ge,at){const{separator:ot,manifest:Ye,...nt}=Le.defaults(at);Ge=Be(Ge,ot);const Qe=ot.charCodeAt(0)+1,tt=He[Q]||He;if(!G.encode(Ge).every(ke=>ke>Qe&&ke<127))throw new T(`Prefix must use bytes > ${Qe} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(Re(tt,Ye),nt);const ze=(He.prefix||"")+ot+Ge+ot,Fe=ze.slice(0,-1)+String.fromCharCode(Qe);this[Q]=tt,this[B]=new Pe(ze),this[H]=new Pe(Fe),this[te]=new Me,this.nextTick=tt.nextTick}prefixKey(He,Ge){if(Ge==="utf8")return this[B].utf8+He;if(He.byteLength===0)return this[B][Ge];if(Ge==="view"){const at=this[B].view,ot=new Uint8Array(at.byteLength+He.byteLength);return ot.set(at,0),ot.set(He,at.byteLength),ot}else{const at=this[B].buffer;return $.concat([at,He],at.byteLength+He.byteLength)}}[z](He,Ge){He.gte!==void 0?He.gte=this.prefixKey(He.gte,Ge):He.gt!==void 0?He.gt=this.prefixKey(He.gt,Ge):He.gte=this[B][Ge],He.lte!==void 0?He.lte=this.prefixKey(He.lte,Ge):He.lt!==void 0?He.lt=this.prefixKey(He.lt,Ge):He.lte=this[H][Ge]}get prefix(){return this[B].utf8}get db(){return this[Q]}_open(He,Ge){this[Q].open({passive:!0},Ge)}_put(He,Ge,at,ot){this[Q].put(He,Ge,at,ot)}_get(He,Ge,at){this[Q].get(He,Ge,at)}_getMany(He,Ge,at){this[Q].getMany(He,Ge,at)}_del(He,Ge,at){this[Q].del(He,Ge,at)}_batch(He,Ge,at){this[Q].batch(He,Ge,at)}_clear(He,Ge){this[z](He,He.keyEncoding),this[Q].clear(He,Ge)}_iterator(He){this[z](He,He.keyEncoding);const Ge=this[Q].iterator(He),at=this[te].get(this[B].utf8.length,He.keyEncoding);return new I(this,He,Ge,at)}_keys(He){this[z](He,He.keyEncoding);const Ge=this[Q].keys(He),at=this[te].get(this[B].utf8.length,He.keyEncoding);return new N(this,He,Ge,at)}_values(He){this[z](He,He.keyEncoding);const Ge=this[Q].values(He);return new L(this,He,Ge)}}return{AbstractSublevel:Le}};const Re=function(Ke,Le){return{...Ke.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...Le,encodings:{utf8:$e(Ke,"utf8"),buffer:$e(Ke,"buffer"),view:$e(Ke,"view")}}},$e=function(Ke,Le){return Ke.supports.encodings[Le]?Ke.keyEncoding(Le).name===Le:!1};class Pe{constructor(Le){this.utf8=Le,this.view=G.encode(Le),this.buffer=$?$.from(this.view.buffer,0,this.view.byteLength):{}}}class Me{constructor(){this.cache=new Map}get(Le,qe){let He=this.cache.get(qe);return He===void 0&&(qe==="view"?He=(function(Ge,at){return at.subarray(Ge)}).bind(null,Le):He=(function(Ge,at){return at.slice(Ge)}).bind(null,Le),this.cache.set(qe,He)),He}}const Be=function(Ke,Le){let qe=0,He=Ke.length;for(;qe<He&&Ke[qe]===Le;)qe++;for(;He>qe&&Ke[He-1]===Le;)He--;return Ke.slice(qe,He)};return abstractSublevel}const{supports}=levelSupports,{Transcoder}=levelTranscoder,{EventEmitter}=events$1,{fromCallback:fromCallback$1}=catering,ModuleError$1=moduleError$1,{AbstractIterator:AbstractIterator$2}=abstractIterator,{DefaultKeyIterator,DefaultValueIterator}=defaultKvIterator,{DeferredIterator,DeferredKeyIterator,DeferredValueIterator}=deferredIterator,{DefaultChainedBatch}=defaultChainedBatch,{getCallback,getOptions}=common$8,rangeOptions=rangeOptions$3,kPromise$1=Symbol("promise"),kLanded=Symbol("landed"),kResources=Symbol("resources"),kCloseResources=Symbol("closeResources"),kOperations=Symbol("operations"),kUndefer=Symbol("undefer"),kDeferOpen=Symbol("deferOpen"),kOptions$1=Symbol("options"),kStatus=Symbol("status"),kDefaultOptions=Symbol("defaultOptions"),kTranscoder=Symbol("transcoder"),kKeyEncoding=Symbol("keyEncoding"),kValueEncoding=Symbol("valueEncoding"),noop$2=()=>{};let AbstractLevel$2=class extends EventEmitter{constructor($,I){if(super(),typeof $!="object"||$===null)throw new TypeError("The first argument 'manifest' must be an object");I=getOptions(I);const{keyEncoding:N,valueEncoding:L,passive:B,...H}=I;this[kResources]=new Set,this[kOperations]=[],this[kDeferOpen]=!0,this[kOptions$1]=H,this[kStatus]="opening",this.supports=supports($,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:$.snapshots!==!1,permanence:$.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:$.encodings||{},events:Object.assign({},$.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[kTranscoder]=new Transcoder(formats$3(this)),this[kKeyEncoding]=this[kTranscoder].encoding(N||"utf8"),this[kValueEncoding]=this[kTranscoder].encoding(L||"utf8");for(const z of this[kTranscoder].encodings())this.supports.encodings[z.commonName]||(this.supports.encodings[z.commonName]=!0);this[kDefaultOptions]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[kKeyEncoding].commonName,valueEncoding:this[kValueEncoding].commonName}),key:Object.freeze({keyEncoding:this[kKeyEncoding].commonName})},this.nextTick(()=>{this[kDeferOpen]&&this.open({passive:!1},noop$2)})}get status(){return this[kStatus]}keyEncoding($){return this[kTranscoder].encoding($??this[kKeyEncoding])}valueEncoding($){return this[kTranscoder].encoding($??this[kValueEncoding])}open($,I){I=getCallback($,I),I=fromCallback$1(I,kPromise$1),$={...this[kOptions$1],...getOptions($)},$.createIfMissing=$.createIfMissing!==!1,$.errorIfExists=!!$.errorIfExists;const N=L=>{this[kStatus]==="closing"||this[kStatus]==="opening"?this.once(kLanded,L?()=>N(L):N):this[kStatus]!=="open"?I(new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:L})):I()};return $.passive?this[kStatus]==="opening"?this.once(kLanded,N):this.nextTick(N):this[kStatus]==="closed"||this[kDeferOpen]?(this[kDeferOpen]=!1,this[kStatus]="opening",this.emit("opening"),this._open($,L=>{if(L){this[kStatus]="closed",this[kCloseResources](()=>{this.emit(kLanded),N(L)}),this[kUndefer]();return}this[kStatus]="open",this[kUndefer](),this.emit(kLanded),this[kStatus]==="open"&&this.emit("open"),this[kStatus]==="open"&&this.emit("ready"),N()})):this[kStatus]==="open"?this.nextTick(N):this.once(kLanded,()=>this.open($,I)),I[kPromise$1]}_open($,I){this.nextTick(I)}close($){$=fromCallback$1($,kPromise$1);const I=N=>{this[kStatus]==="opening"||this[kStatus]==="closing"?this.once(kLanded,N?I(N):I):this[kStatus]!=="closed"?$(new ModuleError$1("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:N})):$()};if(this[kStatus]==="open"){this[kStatus]="closing",this.emit("closing");const N=L=>{this[kStatus]="open",this[kUndefer](),this.emit(kLanded),I(L)};this[kCloseResources](()=>{this._close(L=>{if(L)return N(L);this[kStatus]="closed",this[kUndefer](),this.emit(kLanded),this[kStatus]==="closed"&&this.emit("closed"),I()})})}else this[kStatus]==="closed"?this.nextTick(I):this.once(kLanded,()=>this.close($));return $[kPromise$1]}[kCloseResources]($){if(this[kResources].size===0)return this.nextTick($);let I=this[kResources].size,N=!0;const L=()=>{--I===0&&(N?this.nextTick($):$())};for(const B of this[kResources])B.close(L);N=!1,this[kResources].clear()}_close($){this.nextTick($)}get($,I,N){if(N=getCallback(I,N),N=fromCallback$1(N,kPromise$1),I=getOptions(I,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.get($,I,N)),N[kPromise$1];if(maybeError(this,N))return N[kPromise$1];const L=this._checkKey($);if(L)return this.nextTick(N,L),N[kPromise$1];const B=this.keyEncoding(I.keyEncoding),H=this.valueEncoding(I.valueEncoding),z=B.format,Q=H.format;return(I.keyEncoding!==z||I.valueEncoding!==Q)&&(I=Object.assign({},I,{keyEncoding:z,valueEncoding:Q})),this._get(this.prefixKey(B.encode($),z),I,(te,G)=>{if(te)return(te.code==="LEVEL_NOT_FOUND"||te.notFound||/NotFound/i.test(te))&&(te.code||(te.code="LEVEL_NOT_FOUND"),te.notFound||(te.notFound=!0),te.status||(te.status=404)),N(te);try{G=H.decode(G)}catch(ie){return N(new ModuleError$1("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:ie}))}N(null,G)}),N[kPromise$1]}_get($,I,N){this.nextTick(N,new Error("NotFound"))}getMany($,I,N){if(N=getCallback(I,N),N=fromCallback$1(N,kPromise$1),I=getOptions(I,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.getMany($,I,N)),N[kPromise$1];if(maybeError(this,N))return N[kPromise$1];if(!Array.isArray($))return this.nextTick(N,new TypeError("The first argument 'keys' must be an array")),N[kPromise$1];if($.length===0)return this.nextTick(N,null,[]),N[kPromise$1];const L=this.keyEncoding(I.keyEncoding),B=this.valueEncoding(I.valueEncoding),H=L.format,z=B.format;(I.keyEncoding!==H||I.valueEncoding!==z)&&(I=Object.assign({},I,{keyEncoding:H,valueEncoding:z}));const Q=new Array($.length);for(let te=0;te<$.length;te++){const G=$[te],ie=this._checkKey(G);if(ie)return this.nextTick(N,ie),N[kPromise$1];Q[te]=this.prefixKey(L.encode(G),H)}return this._getMany(Q,I,(te,G)=>{if(te)return N(te);try{for(let ie=0;ie<G.length;ie++)G[ie]!==void 0&&(G[ie]=B.decode(G[ie]))}catch(ie){return N(new ModuleError$1(`Could not decode one or more of ${G.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:ie}))}N(null,G)}),N[kPromise$1]}_getMany($,I,N){this.nextTick(N,null,new Array($.length).fill(void 0))}put($,I,N,L){if(L=getCallback(N,L),L=fromCallback$1(L,kPromise$1),N=getOptions(N,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.put($,I,N,L)),L[kPromise$1];if(maybeError(this,L))return L[kPromise$1];const B=this._checkKey($)||this._checkValue(I);if(B)return this.nextTick(L,B),L[kPromise$1];const H=this.keyEncoding(N.keyEncoding),z=this.valueEncoding(N.valueEncoding),Q=H.format,te=z.format;(N.keyEncoding!==Q||N.valueEncoding!==te)&&(N=Object.assign({},N,{keyEncoding:Q,valueEncoding:te}));const G=this.prefixKey(H.encode($),Q),ie=z.encode(I);return this._put(G,ie,N,Re=>{if(Re)return L(Re);this.emit("put",$,I),L()}),L[kPromise$1]}_put($,I,N,L){this.nextTick(L)}del($,I,N){if(N=getCallback(I,N),N=fromCallback$1(N,kPromise$1),I=getOptions(I,this[kDefaultOptions].key),this[kStatus]==="opening")return this.defer(()=>this.del($,I,N)),N[kPromise$1];if(maybeError(this,N))return N[kPromise$1];const L=this._checkKey($);if(L)return this.nextTick(N,L),N[kPromise$1];const B=this.keyEncoding(I.keyEncoding),H=B.format;return I.keyEncoding!==H&&(I=Object.assign({},I,{keyEncoding:H})),this._del(this.prefixKey(B.encode($),H),I,z=>{if(z)return N(z);this.emit("del",$),N()}),N[kPromise$1]}_del($,I,N){this.nextTick(N)}batch($,I,N){if(!arguments.length){if(this[kStatus]==="opening")return new DefaultChainedBatch(this);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof $=="function"?N=$:N=getCallback(I,N),N=fromCallback$1(N,kPromise$1),I=getOptions(I,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.batch($,I,N)),N[kPromise$1];if(maybeError(this,N))return N[kPromise$1];if(!Array.isArray($))return this.nextTick(N,new TypeError("The first argument 'operations' must be an array")),N[kPromise$1];if($.length===0)return this.nextTick(N),N[kPromise$1];const L=new Array($.length),{keyEncoding:B,valueEncoding:H,...z}=I;for(let Q=0;Q<$.length;Q++){if(typeof $[Q]!="object"||$[Q]===null)return this.nextTick(N,new TypeError("A batch operation must be an object")),N[kPromise$1];const te=Object.assign({},$[Q]);if(te.type!=="put"&&te.type!=="del")return this.nextTick(N,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),N[kPromise$1];const G=this._checkKey(te.key);if(G)return this.nextTick(N,G),N[kPromise$1];const ie=te.sublevel!=null?te.sublevel:this,Re=ie.keyEncoding(te.keyEncoding||B),$e=Re.format;if(te.key=ie.prefixKey(Re.encode(te.key),$e),te.keyEncoding=$e,te.type==="put"){const Pe=this._checkValue(te.value);if(Pe)return this.nextTick(N,Pe),N[kPromise$1];const Me=ie.valueEncoding(te.valueEncoding||H);te.value=Me.encode(te.value),te.valueEncoding=Me.format}ie!==this&&(te.sublevel=null),L[Q]=te}return this._batch(L,z,Q=>{if(Q)return N(Q);this.emit("batch",$),N()}),N[kPromise$1]}_batch($,I,N){this.nextTick(N)}sublevel($,I){return this._sublevel($,AbstractSublevel$1.defaults(I))}_sublevel($,I){return new AbstractSublevel$1(this,$,I)}prefixKey($,I){return $}clear($,I){if(I=getCallback($,I),I=fromCallback$1(I,kPromise$1),$=getOptions($,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.clear($,I)),I[kPromise$1];if(maybeError(this,I))return I[kPromise$1];const N=$,L=this.keyEncoding($.keyEncoding);return $=rangeOptions($,L),$.keyEncoding=L.format,$.limit===0?this.nextTick(I):this._clear($,B=>{if(B)return I(B);this.emit("clear",N),I()}),I[kPromise$1]}_clear($,I){this.nextTick(I)}iterator($){const I=this.keyEncoding($&&$.keyEncoding),N=this.valueEncoding($&&$.valueEncoding);if($=rangeOptions($,I),$.keys=$.keys!==!1,$.values=$.values!==!1,$[AbstractIterator$2.keyEncoding]=I,$[AbstractIterator$2.valueEncoding]=N,$.keyEncoding=I.format,$.valueEncoding=N.format,this[kStatus]==="opening")return new DeferredIterator(this,$);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator($)}_iterator($){return new AbstractIterator$2(this,$)}keys($){const I=this.keyEncoding($&&$.keyEncoding),N=this.valueEncoding($&&$.valueEncoding);if($=rangeOptions($,I),$[AbstractIterator$2.keyEncoding]=I,$[AbstractIterator$2.valueEncoding]=N,$.keyEncoding=I.format,$.valueEncoding=N.format,this[kStatus]==="opening")return new DeferredKeyIterator(this,$);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys($)}_keys($){return new DefaultKeyIterator(this,$)}values($){const I=this.keyEncoding($&&$.keyEncoding),N=this.valueEncoding($&&$.valueEncoding);if($=rangeOptions($,I),$[AbstractIterator$2.keyEncoding]=I,$[AbstractIterator$2.valueEncoding]=N,$.keyEncoding=I.format,$.valueEncoding=N.format,this[kStatus]==="opening")return new DeferredValueIterator(this,$);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values($)}_values($){return new DefaultValueIterator(this,$)}defer($){if(typeof $!="function")throw new TypeError("The first argument must be a function");this[kOperations].push($)}[kUndefer](){if(this[kOperations].length===0)return;const $=this[kOperations];this[kOperations]=[];for(const I of $)I()}attachResource($){if(typeof $!="object"||$===null||typeof $.close!="function")throw new TypeError("The first argument must be a resource object");this[kResources].add($)}detachResource($){this[kResources].delete($)}_chainedBatch(){return new DefaultChainedBatch(this)}_checkKey($){if($==null)return new ModuleError$1("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue($){if($==null)return new ModuleError$1("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};AbstractLevel$2.prototype.nextTick=requireNextTickBrowser();const{AbstractSublevel:AbstractSublevel$1}=requireAbstractSublevel()({AbstractLevel:AbstractLevel$2});var AbstractLevel_1=abstractLevel$2.AbstractLevel=AbstractLevel$2,AbstractSublevel_1=abstractLevel$2.AbstractSublevel=AbstractSublevel$1;const maybeError=function(T,$){return T[kStatus]!=="open"?(T.nextTick($,new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},formats$3=function(T){return Object.keys(T.supports.encodings).filter($=>!!T.supports.encodings[$])},abstractLevel$1=_mergeNamespaces({__proto__:null,AbstractLevel:AbstractLevel_1,AbstractSublevel:AbstractSublevel_1,default:abstractLevel$2},[abstractLevel$2]);var AbstractLevel$1=abstractLevel$3.AbstractLevel=abstractLevel$1.AbstractLevel,AbstractSublevel=abstractLevel$3.AbstractSublevel=abstractLevel$1.AbstractSublevel,AbstractIterator$1=abstractLevel$3.AbstractIterator=abstractIterator.AbstractIterator,AbstractKeyIterator=abstractLevel$3.AbstractKeyIterator=abstractIterator.AbstractKeyIterator,AbstractValueIterator=abstractLevel$3.AbstractValueIterator=abstractIterator.AbstractValueIterator,AbstractChainedBatch=abstractLevel$3.AbstractChainedBatch=abstractChainedBatch.AbstractChainedBatch;const abstractLevel=_mergeNamespaces({__proto__:null,AbstractChainedBatch,AbstractIterator:AbstractIterator$1,AbstractKeyIterator,AbstractLevel:AbstractLevel$1,AbstractSublevel,AbstractValueIterator,default:abstractLevel$3},[abstractLevel$3]);/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var runParallelLimit_1=runParallelLimit;const queueMicrotask$1=queueMicrotask$2;function runParallelLimit(T,$,I){if(typeof $!="number")throw new Error("second argument must be a Number");let N,L,B,H,z,Q=!0,te;Array.isArray(T)?(N=[],B=L=T.length):(H=Object.keys(T),N={},B=L=H.length);function G(Re){function $e(){I&&I(Re,N),I=null}Q?queueMicrotask$1($e):$e()}function ie(Re,$e,Pe){if(N[Re]=Pe,$e&&(z=!0),--B===0||$e)G($e);else if(!z&&te<L){let Me;H?(Me=H[te],te+=1,T[Me](function(Be,Ke){ie(Me,Be,Ke)})):(Me=te,te+=1,T[Me](function(Be,Ke){ie(Me,Be,Ke)}))}}te=$,B?H?H.some(function(Re,$e){return T[Re](function(Pe,Me){ie(Re,Pe,Me)}),$e===$-1}):T.some(function(Re,$e){return Re(function(Pe,Me){ie($e,Pe,Me)}),$e===$-1}):G(null),Q=!1}const index$O=getDefaultExportFromCjs$1(runParallelLimit_1),runParallelLimit$1=_mergeNamespaces({__proto__:null,default:index$O},[runParallelLimit_1]);var iterator$1={},keyRange=function($){const I=$.gte!==void 0?$.gte:$.gt!==void 0?$.gt:void 0,N=$.lte!==void 0?$.lte:$.lt!==void 0?$.lt:void 0,L=$.gte===void 0,B=$.lte===void 0;return I!==void 0&&N!==void 0?IDBKeyRange.bound(I,N,L,B):I!==void 0?IDBKeyRange.lowerBound(I,L):N!==void 0?IDBKeyRange.upperBound(N,B):null};const keyRange$1=getDefaultExportFromCjs$1(keyRange),keyRange$2=_mergeNamespaces({__proto__:null,default:keyRange$1},[keyRange]),textEncoder$5=new TextEncoder;var deserialize$2=function(T){return T instanceof Uint8Array?T:T instanceof ArrayBuffer?new Uint8Array(T):textEncoder$5.encode(T)};const deserialize$3=getDefaultExportFromCjs$1(deserialize$2),deserialize$4=_mergeNamespaces({__proto__:null,default:deserialize$3},[deserialize$2]),{AbstractIterator}=abstractLevel,createKeyRange$1=keyRange$2,deserialize$1=deserialize$4,kCache=Symbol("cache"),kFinished=Symbol("finished"),kOptions=Symbol("options"),kCurrentOptions=Symbol("currentOptions"),kPosition=Symbol("position"),kLocation$1=Symbol("location"),kFirst=Symbol("first"),emptyOptions={};let Iterator$2=class extends AbstractIterator{constructor($,I,N){super($,N),this[kCache]=[],this[kFinished]=this.limit===0,this[kOptions]=N,this[kCurrentOptions]={...N},this[kPosition]=void 0,this[kLocation$1]=I,this[kFirst]=!0}_nextv($,I,N){if(this[kFirst]=!1,this[kFinished])return this.nextTick(N,null,[]);if(this[kCache].length>0)return $=Math.min($,this[kCache].length),this.nextTick(N,null,this[kCache].splice(0,$));this[kPosition]!==void 0&&(this[kOptions].reverse?(this[kCurrentOptions].lt=this[kPosition],this[kCurrentOptions].lte=void 0):(this[kCurrentOptions].gt=this[kPosition],this[kCurrentOptions].gte=void 0));let L;try{L=createKeyRange$1(this[kCurrentOptions])}catch{return this[kFinished]=!0,this.nextTick(N,null,[])}const B=this.db.db.transaction([this[kLocation$1]],"readonly"),H=B.objectStore(this[kLocation$1]),z=[];if(this[kOptions].reverse){const Q=!this[kOptions].values&&H.openKeyCursor?"openKeyCursor":"openCursor";H[Q](L,"prev").onsuccess=te=>{const G=te.target.result;if(G){const{key:ie,value:Re}=G;this[kPosition]=ie,z.push([this[kOptions].keys&&ie!==void 0?deserialize$1(ie):void 0,this[kOptions].values&&Re!==void 0?deserialize$1(Re):void 0]),z.length<$?G.continue():maybeCommit(B)}else this[kFinished]=!0}}else{let Q,te;const G=()=>{if(Q===void 0||te===void 0)return;const ie=Math.max(Q.length,te.length);ie===0||$===1/0?this[kFinished]=!0:this[kPosition]=Q[ie-1],z.length=ie;for(let Re=0;Re<ie;Re++){const $e=Q[Re],Pe=te[Re];z[Re]=[this[kOptions].keys&&$e!==void 0?deserialize$1($e):void 0,this[kOptions].values&&Pe!==void 0?deserialize$1(Pe):void 0]}maybeCommit(B)};this[kOptions].keys||$<1/0?H.getAllKeys(L,$<1/0?$:void 0).onsuccess=ie=>{Q=ie.target.result,G()}:(Q=[],this.nextTick(G)),this[kOptions].values?H.getAll(L,$<1/0?$:void 0).onsuccess=ie=>{te=ie.target.result,G()}:(te=[],this.nextTick(G))}B.onabort=()=>{N(B.error||new Error("aborted by user")),N=null},B.oncomplete=()=>{N(null,z),N=null}}_next($){if(this[kCache].length>0){const[I,N]=this[kCache].shift();this.nextTick($,null,I,N)}else if(this[kFinished])this.nextTick($);else{let I=Math.min(100,this.limit-this.count);this[kFirst]&&(this[kFirst]=!1,I=1),this._nextv(I,emptyOptions,(N,L)=>{if(N)return $(N);this[kCache]=L,this._next($)})}}_all($,I){this[kFirst]=!1;const N=this[kCache].splice(0,this[kCache].length),L=this.limit-this.count-N.length;if(L<=0)return this.nextTick(I,null,N);this._nextv(L,emptyOptions,(B,H)=>{if(B)return I(B);N.length>0&&(H=N.concat(H)),I(null,H)})}_seek($,I){this[kFirst]=!0,this[kCache]=[],this[kFinished]=!1,this[kPosition]=void 0,this[kCurrentOptions]={...this[kOptions]};let N;try{N=createKeyRange$1(this[kOptions])}catch{this[kFinished]=!0;return}N!==null&&!N.includes($)?this[kFinished]=!0:this[kOptions].reverse?this[kCurrentOptions].lte=$:this[kCurrentOptions].gte=$}};var Iterator_1=iterator$1.Iterator=Iterator$2;function maybeCommit(T){typeof T.commit=="function"&&T.commit()}const iterator=_mergeNamespaces({__proto__:null,Iterator:Iterator_1,default:iterator$1},[iterator$1]);var clear$1=function($,I,N,L,B){if(L.limit===0)return $.nextTick(B);const H=$.db.transaction([I],"readwrite"),z=H.objectStore(I);let Q=0;H.oncomplete=function(){B()},H.onabort=function(){B(H.error||new Error("aborted by user"))};const te=z.openKeyCursor?"openKeyCursor":"openCursor",G=L.reverse?"prev":"next";z[te](N,G).onsuccess=function(ie){const Re=ie.target.result;Re&&(z.delete(Re.key).onsuccess=function(){(L.limit<=0||++Q<L.limit)&&Re.continue()})}};const clear$2=getDefaultExportFromCjs$1(clear$1),clear$3=_mergeNamespaces({__proto__:null,default:clear$2},[clear$1]),{AbstractLevel}=abstractLevel,ModuleError=moduleError$1,parallel=runParallelLimit$1,{fromCallback}=catering,{Iterator:Iterator$1}=iterator,deserialize=deserialize$4,clear=clear$3,createKeyRange=keyRange$2,DEFAULT_PREFIX="level-js-",kIDB=Symbol("idb"),kNamePrefix=Symbol("namePrefix"),kLocation=Symbol("location"),kVersion=Symbol("version"),kStore=Symbol("store"),kOnComplete=Symbol("onComplete"),kPromise=Symbol("promise");class BrowserLevel extends AbstractLevel{constructor($,I,N){if(typeof I=="function"||typeof N=="function")throw new ModuleError("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:L,version:B,...H}=I||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},H),typeof $!="string")throw new Error("constructor requires a location string argument");this[kLocation]=$,this[kNamePrefix]=L??DEFAULT_PREFIX,this[kVersion]=parseInt(B||1,10),this[kIDB]=null}get location(){return this[kLocation]}get namePrefix(){return this[kNamePrefix]}get version(){return this[kVersion]}get db(){return this[kIDB]}get type(){return"browser-level"}_open($,I){const N=indexedDB.open(this[kNamePrefix]+this[kLocation],this[kVersion]);N.onerror=function(){I(N.error||new Error("unknown error"))},N.onsuccess=()=>{this[kIDB]=N.result,I()},N.onupgradeneeded=L=>{const B=L.target.result;B.objectStoreNames.contains(this[kLocation])||B.createObjectStore(this[kLocation])}}[kStore]($){return this[kIDB].transaction([this[kLocation]],$).objectStore(this[kLocation])}[kOnComplete]($,I){const N=$.transaction;N.onabort=function(){I(N.error||new Error("aborted by user"))},N.oncomplete=function(){I(null,$.result)}}_get($,I,N){const L=this[kStore]("readonly");let B;try{B=L.get($)}catch(H){return this.nextTick(N,H)}this[kOnComplete](B,function(H,z){if(H)return N(H);if(z===void 0)return N(new ModuleError("Entry not found",{code:"LEVEL_NOT_FOUND"}));N(null,deserialize(z))})}_getMany($,I,N){const L=this[kStore]("readonly"),B=$.map(H=>z=>{let Q;try{Q=L.get(H)}catch(te){return z(te)}Q.onsuccess=()=>{const te=Q.result;z(null,te===void 0?te:deserialize(te))},Q.onerror=te=>{te.stopPropagation(),z(Q.error)}});parallel(B,16,N)}_del($,I,N){const L=this[kStore]("readwrite");let B;try{B=L.delete($)}catch(H){return this.nextTick(N,H)}this[kOnComplete](B,N)}_put($,I,N,L){const B=this[kStore]("readwrite");let H;try{H=B.put(I,$)}catch(z){return this.nextTick(L,z)}this[kOnComplete](H,L)}_iterator($){return new Iterator$1(this,this[kLocation],$)}_batch($,I,N){const L=this[kStore]("readwrite"),B=L.transaction;let H=0,z;B.onabort=function(){N(z||B.error||new Error("aborted by user"))},B.oncomplete=function(){N()};function Q(){const te=$[H++],G=te.key;let ie;try{ie=te.type==="del"?L.delete(G):L.put(te.value,G)}catch(Re){z=Re,B.abort();return}H<$.length?ie.onsuccess=Q:typeof B.commit=="function"&&B.commit()}Q()}_clear($,I){let N,L;try{N=createKeyRange($)}catch{return this.nextTick(I)}if($.limit>=0)return clear(this,this[kLocation],N,$,I);try{const B=this[kStore]("readwrite");L=N?B.delete(N):B.clear()}catch(B){return this.nextTick(I,B)}this[kOnComplete](L,I)}_close($){this[kIDB].close(),this.nextTick($)}}BrowserLevel.destroy=function(T,$,I){typeof $=="function"&&(I=$,$=DEFAULT_PREFIX),I=fromCallback(I,kPromise);const N=indexedDB.deleteDatabase($+T);return N.onsuccess=function(){I()},N.onerror=function(L){I(L)},I[kPromise]};var __awaiter$1b=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let MemoryStore$3=class{constructor(){this.store=new Map}clear(){return __awaiter$1b(this,void 0,void 0,function*(){this.store.clear()})}close(){return __awaiter$1b(this,void 0,void 0,function*(){})}delete($){return __awaiter$1b(this,void 0,void 0,function*(){return this.store.delete($)})}get($){return __awaiter$1b(this,void 0,void 0,function*(){return this.store.get($)})}has($){return __awaiter$1b(this,void 0,void 0,function*(){return this.store.has($)})}list(){return __awaiter$1b(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set($,I){return __awaiter$1b(this,void 0,void 0,function*(){this.store.set($,I)})}};var browser$m={exports:{}},stream$4={exports:{}},primordials$c={ArrayIsArray(T){return Array.isArray(T)},ArrayPrototypeIncludes(T,$){return T.includes($)},ArrayPrototypeIndexOf(T,$){return T.indexOf($)},ArrayPrototypeJoin(T,$){return T.join($)},ArrayPrototypeMap(T,$){return T.map($)},ArrayPrototypePop(T,$){return T.pop($)},ArrayPrototypePush(T,$){return T.push($)},ArrayPrototypeSlice(T,$,I){return T.slice($,I)},Error,FunctionPrototypeCall(T,$,...I){return T.call($,...I)},FunctionPrototypeSymbolHasInstance(T,$){return Function.prototype[Symbol.hasInstance].call(T,$)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(T,$){return Object.defineProperties(T,$)},ObjectDefineProperty(T,$,I){return Object.defineProperty(T,$,I)},ObjectGetOwnPropertyDescriptor(T,$){return Object.getOwnPropertyDescriptor(T,$)},ObjectKeys(T){return Object.keys(T)},ObjectSetPrototypeOf(T,$){return Object.setPrototypeOf(T,$)},Promise,PromisePrototypeCatch(T,$){return T.catch($)},PromisePrototypeThen(T,$,I){return T.then($,I)},PromiseReject(T){return Promise.reject(T)},PromiseResolve(T){return Promise.resolve(T)},ReflectApply:Reflect.apply,RegExpPrototypeTest(T,$){return T.test($)},SafeSet:Set,String,StringPrototypeSlice(T,$,I){return T.slice($,I)},StringPrototypeToLowerCase(T){return T.toLowerCase()},StringPrototypeToUpperCase(T){return T.toUpperCase()},StringPrototypeTrim(T){return T.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(T,$,I){return T.set($,I)},Boolean,Uint8Array};const primordials$d=getDefaultExportFromCjs$1(primordials$c),primordials$e=_mergeNamespaces({__proto__:null,default:primordials$d},[primordials$c]);var util$o={exports:{}},browser$l={exports:{}},hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$l.exports;hasRequiredBrowser$a=1;const{AbortController:T,AbortSignal:$}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$l.exports=T,browser$l.exports.AbortSignal=$,browser$l.exports.default=T,browser$l.exports}(function(T){const $=dist$5,{kResistStopPropagation:I,SymbolDispose:N}=primordials$e,L=globalThis.AbortSignal||requireBrowser$a().AbortSignal,B=globalThis.AbortController||requireBrowser$a().AbortController,H=Object.getPrototypeOf(async function(){}).constructor,z=globalThis.Blob||$.Blob,Q=typeof z<"u"?function($e){return $e instanceof z}:function($e){return!1},te=(Re,$e)=>{if(Re!==void 0&&(Re===null||typeof Re!="object"||!("aborted"in Re)))throw new ERR_INVALID_ARG_TYPE($e,"AbortSignal",Re)},G=(Re,$e)=>{if(typeof Re!="function")throw new ERR_INVALID_ARG_TYPE($e,"Function",Re)};class ie extends Error{constructor($e){if(!Array.isArray($e))throw new TypeError(`Expected input to be an Array, got ${typeof $e}`);let Pe="";for(let Me=0;Me<$e.length;Me++)Pe+=`    ${$e[Me].stack}
`;super(Pe),this.name="AggregateError",this.errors=$e}}T.exports={AggregateError:ie,kEmptyObject:Object.freeze({}),once(Re){let $e=!1;return function(...Pe){$e||($e=!0,Re.apply(this,Pe))}},createDeferredPromise:function(){let Re,$e;return{promise:new Promise((Me,Be)=>{Re=Me,$e=Be}),resolve:Re,reject:$e}},promisify(Re){return new Promise(($e,Pe)=>{Re((Me,...Be)=>Me?Pe(Me):$e(...Be))})},debuglog(){return function(){}},format(Re,...$e){return Re.replace(/%([sdifj])/g,function(...[Pe,Me]){const Be=$e.shift();return Me==="f"?Be.toFixed(6):Me==="j"?JSON.stringify(Be):Me==="s"&&typeof Be=="object"?`${Be.constructor!==Object?Be.constructor.name:""} {}`.trim():Be.toString()})},inspect(Re){switch(typeof Re){case"string":if(Re.includes("'"))if(Re.includes('"')){if(!Re.includes("`")&&!Re.includes("${"))return`\`${Re}\``}else return`"${Re}"`;return`'${Re}'`;case"number":return isNaN(Re)?"NaN":Object.is(Re,-0)?String(Re):Re;case"bigint":return`${String(Re)}n`;case"boolean":case"undefined":return String(Re);case"object":return"{}"}},types:{isAsyncFunction(Re){return Re instanceof H},isArrayBufferView(Re){return ArrayBuffer.isView(Re)}},isBlob:Q,deprecate(Re,$e){return Re},addAbortListener:events$1.addAbortListener||function($e,Pe){if($e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",$e);te($e,"signal"),G(Pe,"listener");let Me;return $e.aborted?queueMicrotask(()=>Pe()):($e.addEventListener("abort",Pe,{__proto__:null,once:!0,[I]:!0}),Me=()=>{$e.removeEventListener("abort",Pe)}),{__proto__:null,[N](){var Be;(Be=Me)===null||Be===void 0||Be()}}},AbortSignalAny:L.any||function($e){if($e.length===1)return $e[0];const Pe=new B,Me=()=>Pe.abort();return $e.forEach(Be=>{te(Be,"signals"),Be.addEventListener("abort",Me,{once:!0})}),Pe.signal.addEventListener("abort",()=>{$e.forEach(Be=>Be.removeEventListener("abort",Me))},{once:!0}),Pe.signal}},T.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$o);var utilExports$4=util$o.exports;const util$m=getDefaultExportFromCjs$1(utilExports$4),util$n=_mergeNamespaces({__proto__:null,default:util$m},[utilExports$4]);var operators$9={};const{format:format$g,inspect:inspect$c,AggregateError:CustomAggregateError$4}=util$n,AggregateError$5=globalThis.AggregateError||CustomAggregateError$4,kIsNodeError$4=Symbol("kIsNodeError"),kTypes$4=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp$4=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix$4="__node_internal_",codes$a={};function assert$l(T,$){if(!T)throw new codes$a.ERR_INTERNAL_ASSERTION($)}function addNumericalSeparator$4(T){let $="",I=T.length;const N=T[0]==="-"?1:0;for(;I>=N+4;I-=3)$=`_${T.slice(I-3,I)}${$}`;return`${T.slice(0,I)}${$}`}function getMessage$4(T,$,I){if(typeof $=="function")return assert$l($.length<=I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${$.length}).`),$(...I);const N=($.match(/%[dfijoOs]/g)||[]).length;return assert$l(N===I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${N}).`),I.length===0?$:format$g($,...I)}function E$4(T,$,I){I||(I=Error);class N extends I{constructor(...B){super(getMessage$4(T,$,B))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=T,N.prototype[kIsNodeError$4]=!0,codes$a[T]=N}function hideStackFrames$9(T){const $=nodeInternalPrefix$4+T.name;return Object.defineProperty(T,"name",{value:$}),T}function aggregateTwoErrors$e(T,$){if(T&&$&&T!==$){if(Array.isArray($.errors))return $.errors.push(T),$;const I=new AggregateError$5([$,T],$.message);return I.code=$.code,I}return T||$}let AbortError$u=class extends Error{constructor($="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new codes$a.ERR_INVALID_ARG_TYPE("options","Object",I);super($,I),this.code="ABORT_ERR",this.name="AbortError"}};E$4("ERR_ASSERTION","%s",Error);E$4("ERR_INVALID_ARG_TYPE",(T,$,I)=>{assert$l(typeof T=="string","'name' must be a string"),Array.isArray($)||($=[$]);let N="The ";T.endsWith(" argument")?N+=`${T} `:N+=`"${T}" ${T.includes(".")?"property":"argument"} `,N+="must be ";const L=[],B=[],H=[];for(const Q of $)assert$l(typeof Q=="string","All expected entries have to be of type string"),kTypes$4.includes(Q)?L.push(Q.toLowerCase()):classRegExp$4.test(Q)?B.push(Q):(assert$l(Q!=="object",'The value "object" should be written as "Object"'),H.push(Q));if(B.length>0){const Q=L.indexOf("object");Q!==-1&&(L.splice(L,Q,1),B.push("Object"))}if(L.length>0){switch(L.length){case 1:N+=`of type ${L[0]}`;break;case 2:N+=`one of type ${L[0]} or ${L[1]}`;break;default:{const Q=L.pop();N+=`one of type ${L.join(", ")}, or ${Q}`}}(B.length>0||H.length>0)&&(N+=" or ")}if(B.length>0){switch(B.length){case 1:N+=`an instance of ${B[0]}`;break;case 2:N+=`an instance of ${B[0]} or ${B[1]}`;break;default:{const Q=B.pop();N+=`an instance of ${B.join(", ")}, or ${Q}`}}H.length>0&&(N+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(N+="an "),N+=`${H[0]}`;break;case 2:N+=`one of ${H[0]} or ${H[1]}`;break;default:{const Q=H.pop();N+=`one of ${H.join(", ")}, or ${Q}`}}if(I==null)N+=`. Received ${I}`;else if(typeof I=="function"&&I.name)N+=`. Received function ${I.name}`;else if(typeof I=="object"){var z;if((z=I.constructor)!==null&&z!==void 0&&z.name)N+=`. Received an instance of ${I.constructor.name}`;else{const Q=inspect$c(I,{depth:-1});N+=`. Received ${Q}`}}else{let Q=inspect$c(I,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),N+=`. Received type ${typeof I} (${Q})`}return N},TypeError);E$4("ERR_INVALID_ARG_VALUE",(T,$,I="is invalid")=>{let N=inspect$c($);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${I}. Received ${N}`},TypeError);E$4("ERR_INVALID_RETURN_VALUE",(T,$,I)=>{var N;const L=I!=null&&(N=I.constructor)!==null&&N!==void 0&&N.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${T} to be returned from the "${$}" function but got ${L}.`},TypeError);E$4("ERR_MISSING_ARGS",(...T)=>{assert$l(T.length>0,"At least one arg needs to be specified");let $;const I=T.length;switch(T=(Array.isArray(T)?T:[T]).map(N=>`"${N}"`).join(" or "),I){case 1:$+=`The ${T[0]} argument`;break;case 2:$+=`The ${T[0]} and ${T[1]} arguments`;break;default:{const N=T.pop();$+=`The ${T.join(", ")}, and ${N} arguments`}break}return`${$} must be specified`},TypeError);E$4("ERR_OUT_OF_RANGE",(T,$,I)=>{assert$l($,'Missing "range" argument');let N;return Number.isInteger(I)&&Math.abs(I)>2**32?N=addNumericalSeparator$4(String(I)):typeof I=="bigint"?(N=String(I),(I>2n**32n||I<-(2n**32n))&&(N=addNumericalSeparator$4(N)),N+="n"):N=inspect$c(I),`The value of "${T}" is out of range. It must be ${$}. Received ${N}`},RangeError);E$4("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E$4("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E$4("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E$4("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E$4("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E$4("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E$4("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E$4("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E$4("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E$4("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E$4("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors$i={AbortError:AbortError$u,aggregateTwoErrors:hideStackFrames$9(aggregateTwoErrors$e),hideStackFrames:hideStackFrames$9,codes:codes$a};const errors$j=getDefaultExportFromCjs$1(errors$i),errors$k=_mergeNamespaces({__proto__:null,default:errors$j},[errors$i]),{ArrayIsArray:ArrayIsArray$e,ArrayPrototypeIncludes:ArrayPrototypeIncludes$4,ArrayPrototypeJoin:ArrayPrototypeJoin$4,ArrayPrototypeMap:ArrayPrototypeMap$4,NumberIsInteger:NumberIsInteger$9,NumberIsNaN:NumberIsNaN$9,NumberMAX_SAFE_INTEGER:NumberMAX_SAFE_INTEGER$4,NumberMIN_SAFE_INTEGER:NumberMIN_SAFE_INTEGER$4,NumberParseInt:NumberParseInt$4,ObjectPrototypeHasOwnProperty:ObjectPrototypeHasOwnProperty$4,RegExpPrototypeExec:RegExpPrototypeExec$4,String:String$5,StringPrototypeToUpperCase:StringPrototypeToUpperCase$4,StringPrototypeTrim:StringPrototypeTrim$4}=primordials$e,{hideStackFrames:hideStackFrames$8,codes:{ERR_SOCKET_BAD_PORT:ERR_SOCKET_BAD_PORT$4,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$p,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$j,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$9,ERR_UNKNOWN_SIGNAL:ERR_UNKNOWN_SIGNAL$4}}=errors$k,{normalizeEncoding:normalizeEncoding$5}=util$n,{isAsyncFunction:isAsyncFunction$4,isArrayBufferView:isArrayBufferView$4}=util$n.types,signals$4={};function isInt32$4(T){return T===(T|0)}function isUint32$4(T){return T===T>>>0}const octalReg$4=/^[0-7]+$/,modeDesc$4="must be a 32-bit unsigned integer or an octal string";function parseFileMode$4(T,$,I){if(typeof T>"u"&&(T=I),typeof T=="string"){if(RegExpPrototypeExec$4(octalReg$4,T)===null)throw new ERR_INVALID_ARG_VALUE$j($,T,modeDesc$4);T=NumberParseInt$4(T,8)}return validateUint32$4(T,$),T}const validateInteger$a=hideStackFrames$8((T,$,I=NumberMIN_SAFE_INTEGER$4,N=NumberMAX_SAFE_INTEGER$4)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$p($,"number",T);if(!NumberIsInteger$9(T))throw new ERR_OUT_OF_RANGE$9($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$9($,`>= ${I} && <= ${N}`,T)}),validateInt32$4=hideStackFrames$8((T,$,I=-2147483648,N=2147483647)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$p($,"number",T);if(!NumberIsInteger$9(T))throw new ERR_OUT_OF_RANGE$9($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$9($,`>= ${I} && <= ${N}`,T)}),validateUint32$4=hideStackFrames$8((T,$,I=!1)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$p($,"number",T);if(!NumberIsInteger$9(T))throw new ERR_OUT_OF_RANGE$9($,"an integer",T);const N=I?1:0,L=4294967295;if(T<N||T>L)throw new ERR_OUT_OF_RANGE$9($,`>= ${N} && <= ${L}`,T)});function validateString$4(T,$){if(typeof T!="string")throw new ERR_INVALID_ARG_TYPE$p($,"string",T)}function validateNumber$4(T,$,I=void 0,N){if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$p($,"number",T);if(I!=null&&T<I||N!=null&&T>N||(I!=null||N!=null)&&NumberIsNaN$9(T))throw new ERR_OUT_OF_RANGE$9($,`${I!=null?`>= ${I}`:""}${I!=null&&N!=null?" && ":""}${N!=null?`<= ${N}`:""}`,T)}const validateOneOf$4=hideStackFrames$8((T,$,I)=>{if(!ArrayPrototypeIncludes$4(I,T)){const L="must be one of: "+ArrayPrototypeJoin$4(ArrayPrototypeMap$4(I,B=>typeof B=="string"?`'${B}'`:String$5(B)),", ");throw new ERR_INVALID_ARG_VALUE$j($,T,L)}});function validateBoolean$9(T,$){if(typeof T!="boolean")throw new ERR_INVALID_ARG_TYPE$p($,"boolean",T)}function getOwnPropertyValueOrDefault$4(T,$,I){return T==null||!ObjectPrototypeHasOwnProperty$4(T,$)?I:T[$]}const validateObject$f=hideStackFrames$8((T,$,I=null)=>{const N=getOwnPropertyValueOrDefault$4(I,"allowArray",!1),L=getOwnPropertyValueOrDefault$4(I,"allowFunction",!1);if(!getOwnPropertyValueOrDefault$4(I,"nullable",!1)&&T===null||!N&&ArrayIsArray$e(T)||typeof T!="object"&&(!L||typeof T!="function"))throw new ERR_INVALID_ARG_TYPE$p($,"Object",T)}),validateDictionary$4=hideStackFrames$8((T,$)=>{if(T!=null&&typeof T!="object"&&typeof T!="function")throw new ERR_INVALID_ARG_TYPE$p($,"a dictionary",T)}),validateArray$6=hideStackFrames$8((T,$,I=0)=>{if(!ArrayIsArray$e(T))throw new ERR_INVALID_ARG_TYPE$p($,"Array",T);if(T.length<I){const N=`must be longer than ${I}`;throw new ERR_INVALID_ARG_VALUE$j($,T,N)}});function validateStringArray$4(T,$){validateArray$6(T,$);for(let I=0;I<T.length;I++)validateString$4(T[I],`${$}[${I}]`)}function validateBooleanArray$4(T,$){validateArray$6(T,$);for(let I=0;I<T.length;I++)validateBoolean$9(T[I],`${$}[${I}]`)}function validateAbortSignalArray(T,$){validateArray$6(T,$);for(let I=0;I<T.length;I++){const N=T[I],L=`${$}[${I}]`;if(N==null)throw new ERR_INVALID_ARG_TYPE$p(L,"AbortSignal",N);validateAbortSignal$j(N,L)}}function validateSignalName$4(T,$="signal"){if(validateString$4(T,$),signals$4[T]===void 0)throw signals$4[StringPrototypeToUpperCase$4(T)]!==void 0?new ERR_UNKNOWN_SIGNAL$4(T+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL$4(T)}const validateBuffer$4=hideStackFrames$8((T,$="buffer")=>{if(!isArrayBufferView$4(T))throw new ERR_INVALID_ARG_TYPE$p($,["Buffer","TypedArray","DataView"],T)});function validateEncoding$4(T,$){const I=normalizeEncoding$5($),N=T.length;if(I==="hex"&&N%2!==0)throw new ERR_INVALID_ARG_VALUE$j("encoding",$,`is invalid for data of length ${N}`)}function validatePort$4(T,$="Port",I=!0){if(typeof T!="number"&&typeof T!="string"||typeof T=="string"&&StringPrototypeTrim$4(T).length===0||+T!==+T>>>0||T>65535||T===0&&!I)throw new ERR_SOCKET_BAD_PORT$4($,T,I);return T|0}const validateAbortSignal$j=hideStackFrames$8((T,$)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new ERR_INVALID_ARG_TYPE$p($,"AbortSignal",T)}),validateFunction$g=hideStackFrames$8((T,$)=>{if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$p($,"Function",T)}),validatePlainFunction$4=hideStackFrames$8((T,$)=>{if(typeof T!="function"||isAsyncFunction$4(T))throw new ERR_INVALID_ARG_TYPE$p($,"Function",T)}),validateUndefined$4=hideStackFrames$8((T,$)=>{if(T!==void 0)throw new ERR_INVALID_ARG_TYPE$p($,"undefined",T)});function validateUnion$6(T,$,I){if(!ArrayPrototypeIncludes$4(I,T))throw new ERR_INVALID_ARG_TYPE$p($,`('${ArrayPrototypeJoin$4(I,"|")}')`,T)}const linkValueRegExp$4=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat$4(T,$){if(typeof T>"u"||!RegExpPrototypeExec$4(linkValueRegExp$4,T))throw new ERR_INVALID_ARG_VALUE$j($,T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue$4(T){if(typeof T=="string")return validateLinkHeaderFormat$4(T,"hints"),T;if(ArrayIsArray$e(T)){const $=T.length;let I="";if($===0)return I;for(let N=0;N<$;N++){const L=T[N];validateLinkHeaderFormat$4(L,"hints"),I+=L,N!==$-1&&(I+=", ")}return I}throw new ERR_INVALID_ARG_VALUE$j("hints",T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators$c={isInt32:isInt32$4,isUint32:isUint32$4,parseFileMode:parseFileMode$4,validateArray:validateArray$6,validateStringArray:validateStringArray$4,validateBooleanArray:validateBooleanArray$4,validateAbortSignalArray,validateBoolean:validateBoolean$9,validateBuffer:validateBuffer$4,validateDictionary:validateDictionary$4,validateEncoding:validateEncoding$4,validateFunction:validateFunction$g,validateInt32:validateInt32$4,validateInteger:validateInteger$a,validateNumber:validateNumber$4,validateObject:validateObject$f,validateOneOf:validateOneOf$4,validatePlainFunction:validatePlainFunction$4,validatePort:validatePort$4,validateSignalName:validateSignalName$4,validateString:validateString$4,validateUint32:validateUint32$4,validateUndefined:validateUndefined$4,validateUnion:validateUnion$6,validateAbortSignal:validateAbortSignal$j,validateLinkHeaderValue:validateLinkHeaderValue$4};const validators$d=getDefaultExportFromCjs$1(validators$c),validators$e=_mergeNamespaces({__proto__:null,default:validators$d},[validators$c]);var endOfStream$h={exports:{}},dist$4={};(function(T){Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function $(He){return He&&He.__esModule&&Object.prototype.hasOwnProperty.call(He,"default")?He.default:He}var I={exports:{}},N=I.exports={},L,B;function H(){throw new Error("setTimeout has not been defined")}function z(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?L=setTimeout:L=H}catch{L=H}try{typeof clearTimeout=="function"?B=clearTimeout:B=z}catch{B=z}})();function Q(He){if(L===setTimeout)return setTimeout(He,0);if((L===H||!L)&&setTimeout)return L=setTimeout,setTimeout(He,0);try{return L(He,0)}catch{try{return L.call(null,He,0)}catch{return L.call(this,He,0)}}}function te(He){if(B===clearTimeout)return clearTimeout(He);if((B===z||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(He);try{return B(He)}catch{try{return B.call(null,He)}catch{return B.call(this,He)}}}var G=[],ie=!1,Re,$e=-1;function Pe(){!ie||!Re||(ie=!1,Re.length?G=Re.concat(G):$e=-1,G.length&&Me())}function Me(){if(!ie){var He=Q(Pe);ie=!0;for(var Ge=G.length;Ge;){for(Re=G,G=[];++$e<Ge;)Re&&Re[$e].run();$e=-1,Ge=G.length}Re=null,ie=!1,te(He)}}N.nextTick=function(He){var Ge=new Array(arguments.length-1);if(arguments.length>1)for(var at=1;at<arguments.length;at++)Ge[at-1]=arguments[at];G.push(new Be(He,Ge)),G.length===1&&!ie&&Q(Me)};function Be(He,Ge){this.fun=He,this.array=Ge}Be.prototype.run=function(){this.fun.apply(null,this.array)},N.title="browser",N.browser=!0,N.env={},N.argv=[],N.version="",N.versions={};function Ke(){}N.on=Ke,N.addListener=Ke,N.once=Ke,N.off=Ke,N.removeListener=Ke,N.removeAllListeners=Ke,N.emit=Ke,N.prependListener=Ke,N.prependOnceListener=Ke,N.listeners=function(He){return[]},N.binding=function(He){throw new Error("process.binding is not supported")},N.cwd=function(){return"/"},N.chdir=function(He){throw new Error("process.chdir is not supported")},N.umask=function(){return 0};var Le=I.exports;const qe=$(Le);T.default=qe,T.process=qe})(dist$4);const index$N=getDefaultExportFromCjs$1(dist$4),dist$3=_mergeNamespaces({__proto__:null,default:index$N},[dist$4]),{SymbolAsyncIterator:SymbolAsyncIterator$e,SymbolIterator:SymbolIterator$e,SymbolFor:SymbolFor$4}=primordials$e,kIsDestroyed$1=SymbolFor$4("nodejs.stream.destroyed"),kIsErrored$4=SymbolFor$4("nodejs.stream.errored"),kIsReadable$4=SymbolFor$4("nodejs.stream.readable"),kIsWritable=SymbolFor$4("nodejs.stream.writable"),kIsDisturbed$4=SymbolFor$4("nodejs.stream.disturbed"),kIsClosedPromise$9=SymbolFor$4("nodejs.webstream.isClosedPromise"),kControllerErrorFunction$4=SymbolFor$4("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$e(T,$=!1){var I;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!$||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((I=T._readableState)===null||I===void 0?void 0:I.readable)!==!1)&&(!T._writableState||T._readableState))}function isWritableNodeStream$9(T){var $;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||(($=T._writableState)===null||$===void 0?void 0:$.writable)!==!1))}function isDuplexNodeStream$4(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function isNodeStream$o(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function isReadableStream$j(T){return!!(T&&!isNodeStream$o(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function isWritableStream$e(T){return!!(T&&!isNodeStream$o(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function isTransformStream$e(T){return!!(T&&!isNodeStream$o(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function isWebStream$e(T){return isReadableStream$j(T)||isWritableStream$e(T)||isTransformStream$e(T)}function isIterable$9(T,$){return T==null?!1:$===!0?typeof T[SymbolAsyncIterator$e]=="function":$===!1?typeof T[SymbolIterator$e]=="function":typeof T[SymbolAsyncIterator$e]=="function"||typeof T[SymbolIterator$e]=="function"}function isDestroyed$9(T){if(!isNodeStream$o(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!!(T.destroyed||T[kIsDestroyed$1]||N!=null&&N.destroyed)}function isWritableEnded$4(T){if(!isWritableNodeStream$9(T))return null;if(T.writableEnded===!0)return!0;const $=T._writableState;return $!=null&&$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isWritableFinished$9(T,$){if(!isWritableNodeStream$9(T))return null;if(T.writableFinished===!0)return!0;const I=T._writableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.finished)!="boolean"?null:!!(I.finished||$===!1&&I.ended===!0&&I.length===0)}function isReadableEnded$8(T){if(!isReadableNodeStream$e(T))return null;if(T.readableEnded===!0)return!0;const $=T._readableState;return!$||$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isReadableFinished$a(T,$){if(!isReadableNodeStream$e(T))return null;const I=T._readableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.endEmitted)!="boolean"?null:!!(I.endEmitted||$===!1&&I.ended===!0&&I.length===0)}function isReadable$j(T){return T&&T[kIsReadable$4]!=null?T[kIsReadable$4]:typeof(T==null?void 0:T.readable)!="boolean"?null:isDestroyed$9(T)?!1:isReadableNodeStream$e(T)&&T.readable&&!isReadableFinished$a(T)}function isWritable$j(T){return T&&T[kIsWritable]!=null?T[kIsWritable]:typeof(T==null?void 0:T.writable)!="boolean"?null:isDestroyed$9(T)?!1:isWritableNodeStream$9(T)&&T.writable&&!isWritableEnded$4(T)}function isFinished$9(T,$){return isNodeStream$o(T)?isDestroyed$9(T)?!0:!(($==null?void 0:$.readable)!==!1&&isReadable$j(T)||($==null?void 0:$.writable)!==!1&&isWritable$j(T)):null}function isWritableErrored$9(T){var $,I;return isNodeStream$o(T)?T.writableErrored?T.writableErrored:($=(I=T._writableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isReadableErrored$9(T){var $,I;return isNodeStream$o(T)?T.readableErrored?T.readableErrored:($=(I=T._readableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isClosed$9(T){if(!isNodeStream$o(T))return null;if(typeof T.closed=="boolean")return T.closed;const $=T._writableState,I=T._readableState;return typeof($==null?void 0:$.closed)=="boolean"||typeof(I==null?void 0:I.closed)=="boolean"?($==null?void 0:$.closed)||(I==null?void 0:I.closed):typeof T._closed=="boolean"&&isOutgoingMessage$4(T)?T._closed:null}function isOutgoingMessage$4(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function isServerResponse$4(T){return typeof T._sent100=="boolean"&&isOutgoingMessage$4(T)}function isServerRequest$9(T){var $;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&(($=T.req)===null||$===void 0?void 0:$.upgradeOrConnect)===void 0}function willEmitClose$4(T){if(!isNodeStream$o(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!N&&isServerResponse$4(T)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function isDisturbed$4(T){var $;return!!(T&&(($=T[kIsDisturbed$4])!==null&&$!==void 0?$:T.readableDidRead||T.readableAborted))}function isErrored$4(T){var $,I,N,L,B,H,z,Q,te,G;return!!(T&&(($=(I=(N=(L=(B=(H=T[kIsErrored$4])!==null&&H!==void 0?H:T.readableErrored)!==null&&B!==void 0?B:T.writableErrored)!==null&&L!==void 0?L:(z=T._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&N!==void 0?N:(Q=T._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&I!==void 0?I:(te=T._readableState)===null||te===void 0?void 0:te.errored)!==null&&$!==void 0?$:!((G=T._writableState)===null||G===void 0)&&G.errored))}var utils$L={isDestroyed:isDestroyed$9,kIsDestroyed:kIsDestroyed$1,isDisturbed:isDisturbed$4,kIsDisturbed:kIsDisturbed$4,isErrored:isErrored$4,kIsErrored:kIsErrored$4,isReadable:isReadable$j,kIsReadable:kIsReadable$4,kIsClosedPromise:kIsClosedPromise$9,kControllerErrorFunction:kControllerErrorFunction$4,kIsWritable,isClosed:isClosed$9,isDuplexNodeStream:isDuplexNodeStream$4,isFinished:isFinished$9,isIterable:isIterable$9,isReadableNodeStream:isReadableNodeStream$e,isReadableStream:isReadableStream$j,isReadableEnded:isReadableEnded$8,isReadableFinished:isReadableFinished$a,isReadableErrored:isReadableErrored$9,isNodeStream:isNodeStream$o,isWebStream:isWebStream$e,isWritable:isWritable$j,isWritableNodeStream:isWritableNodeStream$9,isWritableStream:isWritableStream$e,isWritableEnded:isWritableEnded$4,isWritableFinished:isWritableFinished$9,isWritableErrored:isWritableErrored$9,isServerRequest:isServerRequest$9,isServerResponse:isServerResponse$4,willEmitClose:willEmitClose$4,isTransformStream:isTransformStream$e};const utils$M=getDefaultExportFromCjs$1(utils$L),utils$N=_mergeNamespaces({__proto__:null,default:utils$M},[utils$L]),process$j=dist$3,{AbortError:AbortError$t,codes:codes$9}=errors$k,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$o,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$a}=codes$9,{kEmptyObject:kEmptyObject$4,once:once$b}=util$n,{validateAbortSignal:validateAbortSignal$i,validateFunction:validateFunction$f,validateObject:validateObject$e,validateBoolean:validateBoolean$8}=validators$e,{Promise:Promise$f,PromisePrototypeThen:PromisePrototypeThen$e,SymbolDispose:SymbolDispose$1}=primordials$e,{isClosed:isClosed$8,isReadable:isReadable$i,isReadableNodeStream:isReadableNodeStream$d,isReadableStream:isReadableStream$i,isReadableFinished:isReadableFinished$9,isReadableErrored:isReadableErrored$8,isWritable:isWritable$i,isWritableNodeStream:isWritableNodeStream$8,isWritableStream:isWritableStream$d,isWritableFinished:isWritableFinished$8,isWritableErrored:isWritableErrored$8,isNodeStream:isNodeStream$n,willEmitClose:_willEmitClose$4,kIsClosedPromise:kIsClosedPromise$8}=utils$N;let addAbortListener$1;function isRequest$b(T){return T.setHeader&&typeof T.abort=="function"}const nop$4=()=>{};function eos$g(T,$,I){var N,L;if(arguments.length===2?(I=$,$=kEmptyObject$4):$==null?$=kEmptyObject$4:validateObject$e($,"options"),validateFunction$f(I,"callback"),validateAbortSignal$i($.signal,"options.signal"),I=once$b(I),isReadableStream$i(T)||isWritableStream$d(T))return eosWeb$4(T,$,I);if(!isNodeStream$n(T))throw new ERR_INVALID_ARG_TYPE$o("stream",["ReadableStream","WritableStream","Stream"],T);const B=(N=$.readable)!==null&&N!==void 0?N:isReadableNodeStream$d(T),H=(L=$.writable)!==null&&L!==void 0?L:isWritableNodeStream$8(T),z=T._writableState,Q=T._readableState,te=()=>{T.writable||Re()};let G=_willEmitClose$4(T)&&isReadableNodeStream$d(T)===B&&isWritableNodeStream$8(T)===H,ie=isWritableFinished$8(T,!1);const Re=()=>{ie=!0,T.destroyed&&(G=!1),!(G&&(!T.readable||B))&&(!B||$e)&&I.call(T)};let $e=isReadableFinished$9(T,!1);const Pe=()=>{$e=!0,T.destroyed&&(G=!1),!(G&&(!T.writable||H))&&(!H||ie)&&I.call(T)},Me=Ge=>{I.call(T,Ge)};let Be=isClosed$8(T);const Ke=()=>{Be=!0;const Ge=isWritableErrored$8(T)||isReadableErrored$8(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);if(B&&!$e&&isReadableNodeStream$d(T,!0)&&!isReadableFinished$9(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$a);if(H&&!ie&&!isWritableFinished$8(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$a);I.call(T)},Le=()=>{Be=!0;const Ge=isWritableErrored$8(T)||isReadableErrored$8(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);I.call(T)},qe=()=>{T.req.on("finish",Re)};isRequest$b(T)?(T.on("complete",Re),G||T.on("abort",Ke),T.req?qe():T.on("request",qe)):H&&!z&&(T.on("end",te),T.on("close",te)),!G&&typeof T.aborted=="boolean"&&T.on("aborted",Ke),T.on("end",Pe),T.on("finish",Re),$.error!==!1&&T.on("error",Me),T.on("close",Ke),Be?process$j.nextTick(Ke):z!=null&&z.errorEmitted||Q!=null&&Q.errorEmitted?G||process$j.nextTick(Le):(!B&&(!G||isReadable$i(T))&&(ie||isWritable$i(T)===!1)||!H&&(!G||isWritable$i(T))&&($e||isReadable$i(T)===!1)||Q&&T.req&&T.aborted)&&process$j.nextTick(Le);const He=()=>{I=nop$4,T.removeListener("aborted",Ke),T.removeListener("complete",Re),T.removeListener("abort",Ke),T.removeListener("request",qe),T.req&&T.req.removeListener("finish",Re),T.removeListener("end",te),T.removeListener("close",te),T.removeListener("finish",Re),T.removeListener("end",Pe),T.removeListener("error",Me),T.removeListener("close",Ke)};if($.signal&&!Be){const Ge=()=>{const at=I;He(),at.call(T,new AbortError$t(void 0,{cause:$.signal.reason}))};if($.signal.aborted)process$j.nextTick(Ge);else{addAbortListener$1=addAbortListener$1||util$n.addAbortListener;const at=addAbortListener$1($.signal,Ge),ot=I;I=once$b((...Ye)=>{at[SymbolDispose$1](),ot.apply(T,Ye)})}}return He}function eosWeb$4(T,$,I){let N=!1,L=nop$4;if($.signal)if(L=()=>{N=!0,I.call(T,new AbortError$t(void 0,{cause:$.signal.reason}))},$.signal.aborted)process$j.nextTick(L);else{addAbortListener$1=addAbortListener$1||util$n.addAbortListener;const H=addAbortListener$1($.signal,L),z=I;I=once$b((...Q)=>{H[SymbolDispose$1](),z.apply(T,Q)})}const B=(...H)=>{N||process$j.nextTick(()=>I.apply(T,H))};return PromisePrototypeThen$e(T[kIsClosedPromise$8].promise,B,B),nop$4}function finished$9(T,$){var I;let N=!1;return $===null&&($=kEmptyObject$4),(I=$)!==null&&I!==void 0&&I.cleanup&&(validateBoolean$8($.cleanup,"cleanup"),N=$.cleanup),new Promise$f((L,B)=>{const H=eos$g(T,$,z=>{N&&H(),z?B(z):L()})})}endOfStream$h.exports=eos$g;var finished_1$4=endOfStream$h.exports.finished=finished$9,endOfStreamExports$4=endOfStream$h.exports;const endOfStream$f=getDefaultExportFromCjs$1(endOfStreamExports$4),endOfStream$g=_mergeNamespaces({__proto__:null,default:endOfStream$f,finished:finished_1$4},[endOfStreamExports$4]),process$i=dist$3,{aggregateTwoErrors:aggregateTwoErrors$d,codes:{ERR_MULTIPLE_CALLBACK:ERR_MULTIPLE_CALLBACK$5},AbortError:AbortError$s}=errors$k,{Symbol:Symbol$j}=primordials$e,{kIsDestroyed,isDestroyed:isDestroyed$8,isFinished:isFinished$8,isServerRequest:isServerRequest$8}=utils$N,kDestroy$4=Symbol$j("kDestroy"),kConstruct$4=Symbol$j("kConstruct");function checkError$4(T,$,I){T&&(T.stack,$&&!$.errored&&($.errored=T),I&&!I.errored&&(I.errored=T))}function destroy$f(T,$){const I=this._readableState,N=this._writableState,L=N||I;return N!=null&&N.destroyed||I!=null&&I.destroyed?(typeof $=="function"&&$(),this):(checkError$4(T,N,I),N&&(N.destroyed=!0),I&&(I.destroyed=!0),L.constructed?_destroy$4(this,T,$):this.once(kDestroy$4,function(B){_destroy$4(this,aggregateTwoErrors$d(B,T),$)}),this)}function _destroy$4(T,$,I){let N=!1;function L(B){if(N)return;N=!0;const H=T._readableState,z=T._writableState;checkError$4(B,z,H),z&&(z.closed=!0),H&&(H.closed=!0),typeof I=="function"&&I(B),B?process$i.nextTick(emitErrorCloseNT$4,T,B):process$i.nextTick(emitCloseNT$5,T)}try{T._destroy($||null,L)}catch(B){L(B)}}function emitErrorCloseNT$4(T,$){emitErrorNT$5(T,$),emitCloseNT$5(T)}function emitCloseNT$5(T){const $=T._readableState,I=T._writableState;I&&(I.closeEmitted=!0),$&&($.closeEmitted=!0),(I!=null&&I.emitClose||$!=null&&$.emitClose)&&T.emit("close")}function emitErrorNT$5(T,$){const I=T._readableState,N=T._writableState;N!=null&&N.errorEmitted||I!=null&&I.errorEmitted||(N&&(N.errorEmitted=!0),I&&(I.errorEmitted=!0),T.emit("error",$))}function undestroy$5(){const T=this._readableState,$=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function errorOrDestroy$5(T,$,I){const N=T._readableState,L=T._writableState;if(L!=null&&L.destroyed||N!=null&&N.destroyed)return this;N!=null&&N.autoDestroy||L!=null&&L.autoDestroy?T.destroy($):$&&($.stack,L&&!L.errored&&(L.errored=$),N&&!N.errored&&(N.errored=$),I?process$i.nextTick(emitErrorNT$5,T,$):emitErrorNT$5(T,$))}function construct$4(T,$){if(typeof T._construct!="function")return;const I=T._readableState,N=T._writableState;I&&(I.constructed=!1),N&&(N.constructed=!1),T.once(kConstruct$4,$),!(T.listenerCount(kConstruct$4)>1)&&process$i.nextTick(constructNT$4,T)}function constructNT$4(T){let $=!1;function I(N){if($){errorOrDestroy$5(T,N??new ERR_MULTIPLE_CALLBACK$5);return}$=!0;const L=T._readableState,B=T._writableState,H=B||L;L&&(L.constructed=!0),B&&(B.constructed=!0),H.destroyed?T.emit(kDestroy$4,N):N?errorOrDestroy$5(T,N,!0):process$i.nextTick(emitConstructNT$4,T)}try{T._construct(N=>{process$i.nextTick(I,N)})}catch(N){process$i.nextTick(I,N)}}function emitConstructNT$4(T){T.emit(kConstruct$4)}function isRequest$a(T){return(T==null?void 0:T.setHeader)&&typeof T.abort=="function"}function emitCloseLegacy$4(T){T.emit("close")}function emitErrorCloseLegacy$4(T,$){T.emit("error",$),process$i.nextTick(emitCloseLegacy$4,T)}function destroyer$f(T,$){!T||isDestroyed$8(T)||(!$&&!isFinished$8(T)&&($=new AbortError$s),isServerRequest$8(T)?(T.socket=null,T.destroy($)):isRequest$a(T)?T.abort():isRequest$a(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy($):typeof T.close=="function"?T.close():$?process$i.nextTick(emitErrorCloseLegacy$4,T,$):process$i.nextTick(emitCloseLegacy$4,T),T.destroyed||(T[kIsDestroyed]=!0))}var destroy_1$6={construct:construct$4,destroyer:destroyer$f,destroy:destroy$f,undestroy:undestroy$5,errorOrDestroy:errorOrDestroy$5};const destroy$g=getDefaultExportFromCjs$1(destroy_1$6),destroy$h=_mergeNamespaces({__proto__:null,default:destroy$g},[destroy_1$6]),{ArrayIsArray:ArrayIsArray$d,ObjectSetPrototypeOf:ObjectSetPrototypeOf$e}=primordials$e,{EventEmitter:EE$5}=events$1;function Stream$5(T){EE$5.call(this,T)}ObjectSetPrototypeOf$e(Stream$5.prototype,EE$5.prototype);ObjectSetPrototypeOf$e(Stream$5,EE$5);Stream$5.prototype.pipe=function(T,$){const I=this;function N(G){T.writable&&T.write(G)===!1&&I.pause&&I.pause()}I.on("data",N);function L(){I.readable&&I.resume&&I.resume()}T.on("drain",L),!T._isStdio&&(!$||$.end!==!1)&&(I.on("end",H),I.on("close",z));let B=!1;function H(){B||(B=!0,T.end())}function z(){B||(B=!0,typeof T.destroy=="function"&&T.destroy())}function Q(G){te(),EE$5.listenerCount(this,"error")===0&&this.emit("error",G)}prependListener$4(I,"error",Q),prependListener$4(T,"error",Q);function te(){I.removeListener("data",N),T.removeListener("drain",L),I.removeListener("end",H),I.removeListener("close",z),I.removeListener("error",Q),T.removeListener("error",Q),I.removeListener("end",te),I.removeListener("close",te),T.removeListener("close",te)}return I.on("end",te),I.on("close",te),T.on("close",te),T.emit("pipe",I),T};function prependListener$4(T,$,I){if(typeof T.prependListener=="function")return T.prependListener($,I);!T._events||!T._events[$]?T.on($,I):ArrayIsArray$d(T._events[$])?T._events[$].unshift(I):T._events[$]=[I,T._events[$]]}var legacy$d={Stream:Stream$5,prependListener:prependListener$4};const legacy$e=getDefaultExportFromCjs$1(legacy$d),legacy$f=_mergeNamespaces({__proto__:null,default:legacy$e},[legacy$d]);var addAbortSignal$e={exports:{}};(function(T){const{SymbolDispose:$}=primordials$e,{AbortError:I,codes:N}=errors$k,{isNodeStream:L,isWebStream:B,kControllerErrorFunction:H}=utils$N,z=endOfStream$g,{ERR_INVALID_ARG_TYPE:Q}=N;let te;const G=(ie,Re)=>{if(typeof ie!="object"||!("aborted"in ie))throw new Q(Re,"AbortSignal",ie)};T.exports.addAbortSignal=function(Re,$e){if(G(Re,"signal"),!L($e)&&!B($e))throw new Q("stream",["ReadableStream","WritableStream","Stream"],$e);return T.exports.addAbortSignalNoValidate(Re,$e)},T.exports.addAbortSignalNoValidate=function(ie,Re){if(typeof ie!="object"||!("aborted"in ie))return Re;const $e=L(Re)?()=>{Re.destroy(new I(void 0,{cause:ie.reason}))}:()=>{Re[H](new I(void 0,{cause:ie.reason}))};if(ie.aborted)$e();else{te=te||util$n.addAbortListener;const Pe=te(ie,$e);z(Re,Pe[$])}return Re}})(addAbortSignal$e);var addAbortSignalExports$4=addAbortSignal$e.exports;const addAbortSignal$c=getDefaultExportFromCjs$1(addAbortSignalExports$4),addAbortSignal$d=_mergeNamespaces({__proto__:null,default:addAbortSignal$c},[addAbortSignalExports$4]),{StringPrototypeSlice:StringPrototypeSlice$4,SymbolIterator:SymbolIterator$d,TypedArrayPrototypeSet:TypedArrayPrototypeSet$4,Uint8Array:Uint8Array$5}=primordials$e,{Buffer:Buffer$m}=dist$5,{inspect:inspect$b}=util$n;var buffer_list$d=class{constructor(){this.head=null,this.tail=null,this.length=0}push($){const I={data:$,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}unshift($){const I={data:$,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}shift(){if(this.length===0)return;const $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}clear(){this.head=this.tail=null,this.length=0}join($){if(this.length===0)return"";let I=this.head,N=""+I.data;for(;(I=I.next)!==null;)N+=$+I.data;return N}concat($){if(this.length===0)return Buffer$m.alloc(0);const I=Buffer$m.allocUnsafe($>>>0);let N=this.head,L=0;for(;N;)TypedArrayPrototypeSet$4(I,N.data,L),L+=N.data.length,N=N.next;return I}consume($,I){const N=this.head.data;if($<N.length){const L=N.slice(0,$);return this.head.data=N.slice($),L}return $===N.length?this.shift():I?this._getString($):this._getBuffer($)}first(){return this.head.data}*[SymbolIterator$d](){for(let $=this.head;$;$=$.next)yield $.data}_getString($){let I="",N=this.head,L=0;do{const B=N.data;if($>B.length)I+=B,$-=B.length;else{$===B.length?(I+=B,++L,N.next?this.head=N.next:this.head=this.tail=null):(I+=StringPrototypeSlice$4(B,0,$),this.head=N,N.data=StringPrototypeSlice$4(B,$));break}++L}while((N=N.next)!==null);return this.length-=L,I}_getBuffer($){const I=Buffer$m.allocUnsafe($),N=$;let L=this.head,B=0;do{const H=L.data;if($>H.length)TypedArrayPrototypeSet$4(I,H,N-$),$-=H.length;else{$===H.length?(TypedArrayPrototypeSet$4(I,H,N-$),++B,L.next?this.head=L.next:this.head=this.tail=null):(TypedArrayPrototypeSet$4(I,new Uint8Array$5(H.buffer,H.byteOffset,$),N-$),this.head=L,L.data=H.slice($));break}++B}while((L=L.next)!==null);return this.length-=B,I}[Symbol.for("nodejs.util.inspect.custom")]($,I){return inspect$b(this,{...I,depth:0,customInspect:!1})}};const buffer_list$e=getDefaultExportFromCjs$1(buffer_list$d),buffer_list$f=_mergeNamespaces({__proto__:null,default:buffer_list$e},[buffer_list$d]),{MathFloor:MathFloor$9,NumberIsInteger:NumberIsInteger$8}=primordials$e,{validateInteger:validateInteger$9}=validators$e,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$i}=errors$k.codes;let defaultHighWaterMarkBytes=16*1024,defaultHighWaterMarkObjectMode=16;function highWaterMarkFrom$5(T,$,I){return T.highWaterMark!=null?T.highWaterMark:$?T[I]:null}function getDefaultHighWaterMark$4(T){return T?defaultHighWaterMarkObjectMode:defaultHighWaterMarkBytes}function setDefaultHighWaterMark(T,$){validateInteger$9($,"value",0),T?defaultHighWaterMarkObjectMode=$:defaultHighWaterMarkBytes=$}function getHighWaterMark$a(T,$,I,N){const L=highWaterMarkFrom$5($,N,I);if(L!=null){if(!NumberIsInteger$8(L)||L<0){const B=N?`options.${I}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$i(B,L)}return MathFloor$9(L)}return getDefaultHighWaterMark$4(T.objectMode)}var state$g={getHighWaterMark:getHighWaterMark$a,getDefaultHighWaterMark:getDefaultHighWaterMark$4,setDefaultHighWaterMark};const state$h=getDefaultExportFromCjs$1(state$g),state$i=_mergeNamespaces({__proto__:null,default:state$h},[state$g]);var string_decoder$1={},safeBuffer$2={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(T,$){var I=dist$5,N=I.Buffer;function L(H,z){for(var Q in H)z[Q]=H[Q]}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?T.exports=I:(L(I,$),$.Buffer=B);function B(H,z,Q){return N(H,z,Q)}B.prototype=Object.create(N.prototype),L(N,B),B.from=function(H,z,Q){if(typeof H=="number")throw new TypeError("Argument must not be a number");return N(H,z,Q)},B.alloc=function(H,z,Q){if(typeof H!="number")throw new TypeError("Argument must be a number");var te=N(H);return z!==void 0?typeof Q=="string"?te.fill(z,Q):te.fill(z):te.fill(0),te},B.allocUnsafe=function(H){if(typeof H!="number")throw new TypeError("Argument must be a number");return N(H)},B.allocUnsafeSlow=function(H){if(typeof H!="number")throw new TypeError("Argument must be a number");return I.SlowBuffer(H)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports=safeBuffer$2.exports;const index$M=getDefaultExportFromCjs$1(safeBufferExports),safeBuffer$1=_mergeNamespaces({__proto__:null,default:index$M},[safeBufferExports]);var Buffer$l=safeBuffer$1.Buffer,isEncoding=Buffer$l.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(T){if(!T)return"utf8";for(var $;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if($)return;T=(""+T).toLowerCase(),$=!0}}function normalizeEncoding$4(T){var $=_normalizeEncoding(T);if(typeof $!="string"&&(Buffer$l.isEncoding===isEncoding||!isEncoding(T)))throw new Error("Unknown encoding: "+T);return $||T}var StringDecoder_1=string_decoder$1.StringDecoder=StringDecoder$1;function StringDecoder$1(T){this.encoding=normalizeEncoding$4(T);var $;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,$=4;break;case"utf8":this.fillLast=utf8FillLast,$=4;break;case"base64":this.text=base64Text,this.end=base64End,$=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$l.allocUnsafe($)}StringDecoder$1.prototype.write=function(T){if(T.length===0)return"";var $,I;if(this.lastNeed){if($=this.fillLast(T),$===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<T.length?$?$+this.text(T,I):this.text(T,I):$||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function utf8CheckByte(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function utf8CheckIncomplete(T,$,I){var N=$.length-1;if(N<I)return 0;var L=utf8CheckByte($[N]);return L>=0?(L>0&&(T.lastNeed=L-1),L):--N<I||L===-2?0:(L=utf8CheckByte($[N]),L>=0?(L>0&&(T.lastNeed=L-2),L):--N<I||L===-2?0:(L=utf8CheckByte($[N]),L>=0?(L>0&&(L===2?L=0:T.lastNeed=L-3),L):0))}function utf8CheckExtraBytes(T,$,I){if(($[0]&192)!==128)return T.lastNeed=0,"�";if(T.lastNeed>1&&$.length>1){if(($[1]&192)!==128)return T.lastNeed=1,"�";if(T.lastNeed>2&&$.length>2&&($[2]&192)!==128)return T.lastNeed=2,"�"}}function utf8FillLast(T){var $=this.lastTotal-this.lastNeed,I=utf8CheckExtraBytes(this,T);if(I!==void 0)return I;if(this.lastNeed<=T.length)return T.copy(this.lastChar,$,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,$,0,T.length),this.lastNeed-=T.length}function utf8Text(T,$){var I=utf8CheckIncomplete(this,T,$);if(!this.lastNeed)return T.toString("utf8",$);this.lastTotal=I;var N=T.length-(I-this.lastNeed);return T.copy(this.lastChar,0,N),T.toString("utf8",$,N)}function utf8End(T){var $=T&&T.length?this.write(T):"";return this.lastNeed?$+"�":$}function utf16Text(T,$){if((T.length-$)%2===0){var I=T.toString("utf16le",$);if(I){var N=I.charCodeAt(I.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",$,T.length-1)}function utf16End(T){var $=T&&T.length?this.write(T):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return $+this.lastChar.toString("utf16le",0,I)}return $}function base64Text(T,$){var I=(T.length-$)%3;return I===0?T.toString("base64",$):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",$,T.length-I))}function base64End(T){var $=T&&T.length?this.write(T):"";return this.lastNeed?$+this.lastChar.toString("base64",0,3-this.lastNeed):$}function simpleWrite(T){return T.toString(this.encoding)}function simpleEnd(T){return T&&T.length?this.write(T):""}const string_decoder=_mergeNamespaces({__proto__:null,StringDecoder:StringDecoder_1,default:string_decoder$1},[string_decoder$1]),process$h=dist$3,{PromisePrototypeThen:PromisePrototypeThen$d,SymbolAsyncIterator:SymbolAsyncIterator$d,SymbolIterator:SymbolIterator$c}=primordials$e,{Buffer:Buffer$k}=dist$5,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$n,ERR_STREAM_NULL_VALUES:ERR_STREAM_NULL_VALUES$4}=errors$k.codes;function from$j(T,$,I){let N;if(typeof $=="string"||$ instanceof Buffer$k)return new T({objectMode:!0,...I,read(){this.push($),this.push(null)}});let L;if($&&$[SymbolAsyncIterator$d])L=!0,N=$[SymbolAsyncIterator$d]();else if($&&$[SymbolIterator$c])L=!1,N=$[SymbolIterator$c]();else throw new ERR_INVALID_ARG_TYPE$n("iterable",["Iterable"],$);const B=new T({objectMode:!0,highWaterMark:1,...I});let H=!1;B._read=function(){H||(H=!0,Q())},B._destroy=function(te,G){PromisePrototypeThen$d(z(te),()=>process$h.nextTick(G,te),ie=>process$h.nextTick(G,ie||te))};async function z(te){const G=te!=null,ie=typeof N.throw=="function";if(G&&ie){const{value:Re,done:$e}=await N.throw(te);if(await Re,$e)return}if(typeof N.return=="function"){const{value:Re}=await N.return();await Re}}async function Q(){for(;;){try{const{value:te,done:G}=L?await N.next():N.next();if(G)B.push(null);else{const ie=te&&typeof te.then=="function"?await te:te;if(ie===null)throw H=!1,new ERR_STREAM_NULL_VALUES$4;if(B.push(ie))continue;H=!1}}catch(te){B.destroy(te)}break}}return B}var from_1$4=from$j;const from$k=getDefaultExportFromCjs$1(from_1$4),from$l=_mergeNamespaces({__proto__:null,default:from$k},[from_1$4]);var readable$4,hasRequiredReadable$4;function requireReadable$4(){if(hasRequiredReadable$4)return readable$4;hasRequiredReadable$4=1;const T=dist$3,{ArrayPrototypeIndexOf:$,NumberIsInteger:I,NumberIsNaN:N,NumberParseInt:L,ObjectDefineProperties:B,ObjectKeys:H,ObjectSetPrototypeOf:z,Promise:Q,SafeSet:te,SymbolAsyncDispose:G,SymbolAsyncIterator:ie,Symbol:Re}=primordials$e;readable$4=br,br.ReadableState=gr;const{EventEmitter:$e}=events$1,{Stream:Pe,prependListener:Me}=legacy$f,{Buffer:Be}=dist$5,{addAbortSignal:Ke}=addAbortSignal$d,Le=endOfStream$g;let qe=util$n.debuglog("stream",Tt=>{qe=Tt});const He=buffer_list$f,Ge=destroy$h,{getHighWaterMark:at,getDefaultHighWaterMark:ot}=state$i,{aggregateTwoErrors:Ye,codes:{ERR_INVALID_ARG_TYPE:nt,ERR_METHOD_NOT_IMPLEMENTED:Qe,ERR_OUT_OF_RANGE:tt,ERR_STREAM_PUSH_AFTER_EOF:ze,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Fe},AbortError:ke}=errors$k,{validateObject:Ue}=validators$e,Je=Re("kPaused"),{StringDecoder:rt}=string_decoder,Xe=from$l;z(br.prototype,Pe.prototype),z(br,Pe);const it=()=>{},{errorOrDestroy:We}=Ge,Ve=1,je=2,Ze=4,st=8,dt=16,bt=32,vt=64,St=128,Bt=256,Gt=512,Dt=1024,Mt=2048,pt=4096,mt=8192,$t=16384,kt=32768,Ft=65536,nr=1<<17,Yt=1<<18;function yr(Tt){return{enumerable:!1,get(){return(this.state&Tt)!==0},set(gt){gt?this.state|=Tt:this.state&=~Tt}}}B(gr.prototype,{objectMode:yr(Ve),ended:yr(je),endEmitted:yr(Ze),reading:yr(st),constructed:yr(dt),sync:yr(bt),needReadable:yr(vt),emittedReadable:yr(St),readableListening:yr(Bt),resumeScheduled:yr(Gt),errorEmitted:yr(Dt),emitClose:yr(Mt),autoDestroy:yr(pt),destroyed:yr(mt),closed:yr($t),closeEmitted:yr(kt),multiAwaitDrain:yr(Ft),readingMore:yr(nr),dataEmitted:yr(Yt)});function gr(Tt,gt,Et){typeof Et!="boolean"&&(Et=gt instanceof requireDuplex$4()),this.state=Mt|pt|dt|bt,Tt&&Tt.objectMode&&(this.state|=Ve),Et&&Tt&&Tt.readableObjectMode&&(this.state|=Ve),this.highWaterMark=Tt?at(this,Tt,"readableHighWaterMark",Et):ot(!1),this.buffer=new He,this.length=0,this.pipes=[],this.flowing=null,this[Je]=null,Tt&&Tt.emitClose===!1&&(this.state&=-2049),Tt&&Tt.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=Tt&&Tt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Tt&&Tt.encoding&&(this.decoder=new rt(Tt.encoding),this.encoding=Tt.encoding)}function br(Tt){if(!(this instanceof br))return new br(Tt);const gt=this instanceof requireDuplex$4();this._readableState=new gr(Tt,this,gt),Tt&&(typeof Tt.read=="function"&&(this._read=Tt.read),typeof Tt.destroy=="function"&&(this._destroy=Tt.destroy),typeof Tt.construct=="function"&&(this._construct=Tt.construct),Tt.signal&&!gt&&Ke(Tt.signal,this)),Pe.call(this,Tt),Ge.construct(this,()=>{this._readableState.needReadable&&Rt(this,this._readableState)})}br.prototype.destroy=Ge.destroy,br.prototype._undestroy=Ge.undestroy,br.prototype._destroy=function(Tt,gt){gt(Tt)},br.prototype[$e.captureRejectionSymbol]=function(Tt){this.destroy(Tt)},br.prototype[G]=function(){let Tt;return this.destroyed||(Tt=this.readableEnded?null:new ke,this.destroy(Tt)),new Q((gt,Et)=>Le(this,wt=>wt&&wt!==Tt?Et(wt):gt(null)))},br.prototype.push=function(Tt,gt){return cr(this,Tt,gt,!1)},br.prototype.unshift=function(Tt,gt){return cr(this,Tt,gt,!0)};function cr(Tt,gt,Et,wt){qe("readableAddChunk",gt);const Lt=Tt._readableState;let Zt;if((Lt.state&Ve)===0&&(typeof gt=="string"?(Et=Et||Lt.defaultEncoding,Lt.encoding!==Et&&(wt&&Lt.encoding?gt=Be.from(gt,Et).toString(Lt.encoding):(gt=Be.from(gt,Et),Et=""))):gt instanceof Be?Et="":Pe._isUint8Array(gt)?(gt=Pe._uint8ArrayToBuffer(gt),Et=""):gt!=null&&(Zt=new nt("chunk",["string","Buffer","Uint8Array"],gt))),Zt)We(Tt,Zt);else if(gt===null)Lt.state&=-9,jt(Tt,Lt);else if((Lt.state&Ve)!==0||gt&&gt.length>0)if(wt)if((Lt.state&Ze)!==0)We(Tt,new Fe);else{if(Lt.destroyed||Lt.errored)return!1;pr(Tt,Lt,gt,!0)}else if(Lt.ended)We(Tt,new ze);else{if(Lt.destroyed||Lt.errored)return!1;Lt.state&=-9,Lt.decoder&&!Et?(gt=Lt.decoder.write(gt),Lt.objectMode||gt.length!==0?pr(Tt,Lt,gt,!1):Rt(Tt,Lt)):pr(Tt,Lt,gt,!1)}else wt||(Lt.state&=-9,Rt(Tt,Lt));return!Lt.ended&&(Lt.length<Lt.highWaterMark||Lt.length===0)}function pr(Tt,gt,Et,wt){gt.flowing&&gt.length===0&&!gt.sync&&Tt.listenerCount("data")>0?((gt.state&Ft)!==0?gt.awaitDrainWriters.clear():gt.awaitDrainWriters=null,gt.dataEmitted=!0,Tt.emit("data",Et)):(gt.length+=gt.objectMode?1:Et.length,wt?gt.buffer.unshift(Et):gt.buffer.push(Et),(gt.state&vt)!==0&&zt(Tt)),Rt(Tt,gt)}br.prototype.isPaused=function(){const Tt=this._readableState;return Tt[Je]===!0||Tt.flowing===!1},br.prototype.setEncoding=function(Tt){const gt=new rt(Tt);this._readableState.decoder=gt,this._readableState.encoding=this._readableState.decoder.encoding;const Et=this._readableState.buffer;let wt="";for(const Lt of Et)wt+=gt.write(Lt);return Et.clear(),wt!==""&&Et.push(wt),this._readableState.length=wt.length,this};const lt=1073741824;function ct(Tt){if(Tt>lt)throw new tt("size","<= 1GiB",Tt);return Tt--,Tt|=Tt>>>1,Tt|=Tt>>>2,Tt|=Tt>>>4,Tt|=Tt>>>8,Tt|=Tt>>>16,Tt++,Tt}function Nt(Tt,gt){return Tt<=0||gt.length===0&&gt.ended?0:(gt.state&Ve)!==0?1:N(Tt)?gt.flowing&&gt.length?gt.buffer.first().length:gt.length:Tt<=gt.length?Tt:gt.ended?gt.length:0}br.prototype.read=function(Tt){qe("read",Tt),Tt===void 0?Tt=NaN:I(Tt)||(Tt=L(Tt,10));const gt=this._readableState,Et=Tt;if(Tt>gt.highWaterMark&&(gt.highWaterMark=ct(Tt)),Tt!==0&&(gt.state&=-129),Tt===0&&gt.needReadable&&((gt.highWaterMark!==0?gt.length>=gt.highWaterMark:gt.length>0)||gt.ended))return qe("read: emitReadable",gt.length,gt.ended),gt.length===0&&gt.ended?Kr(this):zt(this),null;if(Tt=Nt(Tt,gt),Tt===0&&gt.ended)return gt.length===0&&Kr(this),null;let wt=(gt.state&vt)!==0;if(qe("need readable",wt),(gt.length===0||gt.length-Tt<gt.highWaterMark)&&(wt=!0,qe("length less than watermark",wt)),gt.ended||gt.reading||gt.destroyed||gt.errored||!gt.constructed)wt=!1,qe("reading, ended or constructing",wt);else if(wt){qe("do read"),gt.state|=st|bt,gt.length===0&&(gt.state|=vt);try{this._read(gt.highWaterMark)}catch(Zt){We(this,Zt)}gt.state&=-33,gt.reading||(Tt=Nt(Et,gt))}let Lt;return Tt>0?Lt=Wr(Tt,gt):Lt=null,Lt===null?(gt.needReadable=gt.length<=gt.highWaterMark,Tt=0):(gt.length-=Tt,gt.multiAwaitDrain?gt.awaitDrainWriters.clear():gt.awaitDrainWriters=null),gt.length===0&&(gt.ended||(gt.needReadable=!0),Et!==Tt&&gt.ended&&Kr(this)),Lt!==null&&!gt.errorEmitted&&!gt.closeEmitted&&(gt.dataEmitted=!0,this.emit("data",Lt)),Lt};function jt(Tt,gt){if(qe("onEofChunk"),!gt.ended){if(gt.decoder){const Et=gt.decoder.end();Et&&Et.length&&(gt.buffer.push(Et),gt.length+=gt.objectMode?1:Et.length)}gt.ended=!0,gt.sync?zt(Tt):(gt.needReadable=!1,gt.emittedReadable=!0,Ot(Tt))}}function zt(Tt){const gt=Tt._readableState;qe("emitReadable",gt.needReadable,gt.emittedReadable),gt.needReadable=!1,gt.emittedReadable||(qe("emitReadable",gt.flowing),gt.emittedReadable=!0,T.nextTick(Ot,Tt))}function Ot(Tt){const gt=Tt._readableState;qe("emitReadable_",gt.destroyed,gt.length,gt.ended),!gt.destroyed&&!gt.errored&&(gt.length||gt.ended)&&(Tt.emit("readable"),gt.emittedReadable=!1),gt.needReadable=!gt.flowing&&!gt.ended&&gt.length<=gt.highWaterMark,qr(Tt)}function Rt(Tt,gt){!gt.readingMore&&gt.constructed&&(gt.readingMore=!0,T.nextTick(It,Tt,gt))}function It(Tt,gt){for(;!gt.reading&&!gt.ended&&(gt.length<gt.highWaterMark||gt.flowing&&gt.length===0);){const Et=gt.length;if(qe("maybeReadMore read 0"),Tt.read(0),Et===gt.length)break}gt.readingMore=!1}br.prototype._read=function(Tt){throw new Qe("_read()")},br.prototype.pipe=function(Tt,gt){const Et=this,wt=this._readableState;wt.pipes.length===1&&(wt.multiAwaitDrain||(wt.multiAwaitDrain=!0,wt.awaitDrainWriters=new te(wt.awaitDrainWriters?[wt.awaitDrainWriters]:[]))),wt.pipes.push(Tt),qe("pipe count=%d opts=%j",wt.pipes.length,gt);const Zt=(!gt||gt.end!==!1)&&Tt!==T.stdout&&Tt!==T.stderr?Ht:tn;wt.endEmitted?T.nextTick(Zt):Et.once("end",Zt),Tt.on("unpipe",lr);function lr(pn,yn){qe("onunpipe"),pn===Et&&yn&&yn.hasUnpiped===!1&&(yn.hasUnpiped=!0,ur())}function Ht(){qe("onend"),Tt.end()}let Xt,ir=!1;function ur(){qe("cleanup"),Tt.removeListener("close",on),Tt.removeListener("finish",rn),Xt&&Tt.removeListener("drain",Xt),Tt.removeListener("error",Lr),Tt.removeListener("unpipe",lr),Et.removeListener("end",Ht),Et.removeListener("end",tn),Et.removeListener("data",xr),ir=!0,Xt&&wt.awaitDrainWriters&&(!Tt._writableState||Tt._writableState.needDrain)&&Xt()}function $r(){ir||(wt.pipes.length===1&&wt.pipes[0]===Tt?(qe("false write response, pause",0),wt.awaitDrainWriters=Tt,wt.multiAwaitDrain=!1):wt.pipes.length>1&&wt.pipes.includes(Tt)&&(qe("false write response, pause",wt.awaitDrainWriters.size),wt.awaitDrainWriters.add(Tt)),Et.pause()),Xt||(Xt=Kt(Et,Tt),Tt.on("drain",Xt))}Et.on("data",xr);function xr(pn){qe("ondata");const yn=Tt.write(pn);qe("dest.write",yn),yn===!1&&$r()}function Lr(pn){if(qe("onerror",pn),tn(),Tt.removeListener("error",Lr),Tt.listenerCount("error")===0){const yn=Tt._writableState||Tt._readableState;yn&&!yn.errorEmitted?We(Tt,pn):Tt.emit("error",pn)}}Me(Tt,"error",Lr);function on(){Tt.removeListener("finish",rn),tn()}Tt.once("close",on);function rn(){qe("onfinish"),Tt.removeListener("close",on),tn()}Tt.once("finish",rn);function tn(){qe("unpipe"),Et.unpipe(Tt)}return Tt.emit("pipe",Et),Tt.writableNeedDrain===!0?$r():wt.flowing||(qe("pipe resume"),Et.resume()),Tt};function Kt(Tt,gt){return function(){const wt=Tt._readableState;wt.awaitDrainWriters===gt?(qe("pipeOnDrain",1),wt.awaitDrainWriters=null):wt.multiAwaitDrain&&(qe("pipeOnDrain",wt.awaitDrainWriters.size),wt.awaitDrainWriters.delete(gt)),(!wt.awaitDrainWriters||wt.awaitDrainWriters.size===0)&&Tt.listenerCount("data")&&Tt.resume()}}br.prototype.unpipe=function(Tt){const gt=this._readableState,Et={hasUnpiped:!1};if(gt.pipes.length===0)return this;if(!Tt){const Lt=gt.pipes;gt.pipes=[],this.pause();for(let Zt=0;Zt<Lt.length;Zt++)Lt[Zt].emit("unpipe",this,{hasUnpiped:!1});return this}const wt=$(gt.pipes,Tt);return wt===-1?this:(gt.pipes.splice(wt,1),gt.pipes.length===0&&this.pause(),Tt.emit("unpipe",this,Et),this)},br.prototype.on=function(Tt,gt){const Et=Pe.prototype.on.call(this,Tt,gt),wt=this._readableState;return Tt==="data"?(wt.readableListening=this.listenerCount("readable")>0,wt.flowing!==!1&&this.resume()):Tt==="readable"&&!wt.endEmitted&&!wt.readableListening&&(wt.readableListening=wt.needReadable=!0,wt.flowing=!1,wt.emittedReadable=!1,qe("on readable",wt.length,wt.reading),wt.length?zt(this):wt.reading||T.nextTick(dr,this)),Et},br.prototype.addListener=br.prototype.on,br.prototype.removeListener=function(Tt,gt){const Et=Pe.prototype.removeListener.call(this,Tt,gt);return Tt==="readable"&&T.nextTick(tr,this),Et},br.prototype.off=br.prototype.removeListener,br.prototype.removeAllListeners=function(Tt){const gt=Pe.prototype.removeAllListeners.apply(this,arguments);return(Tt==="readable"||Tt===void 0)&&T.nextTick(tr,this),gt};function tr(Tt){const gt=Tt._readableState;gt.readableListening=Tt.listenerCount("readable")>0,gt.resumeScheduled&&gt[Je]===!1?gt.flowing=!0:Tt.listenerCount("data")>0?Tt.resume():gt.readableListening||(gt.flowing=null)}function dr(Tt){qe("readable nexttick read 0"),Tt.read(0)}br.prototype.resume=function(){const Tt=this._readableState;return Tt.flowing||(qe("resume"),Tt.flowing=!Tt.readableListening,_r(this,Tt)),Tt[Je]=!1,this};function _r(Tt,gt){gt.resumeScheduled||(gt.resumeScheduled=!0,T.nextTick(Nr,Tt,gt))}function Nr(Tt,gt){qe("resume",gt.reading),gt.reading||Tt.read(0),gt.resumeScheduled=!1,Tt.emit("resume"),qr(Tt),gt.flowing&&!gt.reading&&Tt.read(0)}br.prototype.pause=function(){return qe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Je]=!0,this};function qr(Tt){const gt=Tt._readableState;for(qe("flow",gt.flowing);gt.flowing&&Tt.read()!==null;);}br.prototype.wrap=function(Tt){let gt=!1;Tt.on("data",wt=>{!this.push(wt)&&Tt.pause&&(gt=!0,Tt.pause())}),Tt.on("end",()=>{this.push(null)}),Tt.on("error",wt=>{We(this,wt)}),Tt.on("close",()=>{this.destroy()}),Tt.on("destroy",()=>{this.destroy()}),this._read=()=>{gt&&Tt.resume&&(gt=!1,Tt.resume())};const Et=H(Tt);for(let wt=1;wt<Et.length;wt++){const Lt=Et[wt];this[Lt]===void 0&&typeof Tt[Lt]=="function"&&(this[Lt]=Tt[Lt].bind(Tt))}return this},br.prototype[ie]=function(){return Br(this)},br.prototype.iterator=function(Tt){return Tt!==void 0&&Ue(Tt,"options"),Br(this,Tt)};function Br(Tt,gt){typeof Tt.read!="function"&&(Tt=br.wrap(Tt,{objectMode:!0}));const Et=Qr(Tt,gt);return Et.stream=Tt,Et}async function*Qr(Tt,gt){let Et=it;function wt(lr){this===Tt?(Et(),Et=it):Et=lr}Tt.on("readable",wt);let Lt;const Zt=Le(Tt,{writable:!1},lr=>{Lt=lr?Ye(Lt,lr):null,Et(),Et=it});try{for(;;){const lr=Tt.destroyed?null:Tt.read();if(lr!==null)yield lr;else{if(Lt)throw Lt;if(Lt===null)return;await new Q(wt)}}}catch(lr){throw Lt=Ye(Lt,lr),Lt}finally{(Lt||(gt==null?void 0:gt.destroyOnReturn)!==!1)&&(Lt===void 0||Tt._readableState.autoDestroy)?Ge.destroyer(Tt,null):(Tt.off("readable",wt),Zt())}}B(br.prototype,{readable:{__proto__:null,get(){const Tt=this._readableState;return!!Tt&&Tt.readable!==!1&&!Tt.destroyed&&!Tt.errorEmitted&&!Tt.endEmitted},set(Tt){this._readableState&&(this._readableState.readable=!!Tt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Tt){this._readableState&&(this._readableState.flowing=Tt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Tt){this._readableState&&(this._readableState.destroyed=Tt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(gr.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Je]!==!1},set(Tt){this[Je]=!!Tt}}}),br._fromList=Wr;function Wr(Tt,gt){if(gt.length===0)return null;let Et;return gt.objectMode?Et=gt.buffer.shift():!Tt||Tt>=gt.length?(gt.decoder?Et=gt.buffer.join(""):gt.buffer.length===1?Et=gt.buffer.first():Et=gt.buffer.concat(gt.length),gt.buffer.clear()):Et=gt.buffer.consume(Tt,gt.decoder),Et}function Kr(Tt){const gt=Tt._readableState;qe("endReadable",gt.endEmitted),gt.endEmitted||(gt.ended=!0,T.nextTick(Yr,gt,Tt))}function Yr(Tt,gt){if(qe("endReadableNT",Tt.endEmitted,Tt.length),!Tt.errored&&!Tt.closeEmitted&&!Tt.endEmitted&&Tt.length===0){if(Tt.endEmitted=!0,gt.emit("end"),gt.writable&&gt.allowHalfOpen===!1)T.nextTick(Pt,gt);else if(Tt.autoDestroy){const Et=gt._writableState;(!Et||Et.autoDestroy&&(Et.finished||Et.writable===!1))&&gt.destroy()}}}function Pt(Tt){Tt.writable&&!Tt.writableEnded&&!Tt.destroyed&&Tt.end()}br.from=function(Tt,gt){return Xe(br,Tt,gt)};let Wt;function qt(){return Wt===void 0&&(Wt={}),Wt}return br.fromWeb=function(Tt,gt){return qt().newStreamReadableFromReadableStream(Tt,gt)},br.toWeb=function(Tt,gt){return qt().newReadableStreamFromStreamReadable(Tt,gt)},br.wrap=function(Tt,gt){var Et,wt;return new br({objectMode:(Et=(wt=Tt.readableObjectMode)!==null&&wt!==void 0?wt:Tt.objectMode)!==null&&Et!==void 0?Et:!0,...gt,destroy(Lt,Zt){Ge.destroyer(Tt,Lt),Zt(Lt)}}).wrap(Tt)},readable$4}var writable$4,hasRequiredWritable$4;function requireWritable$4(){if(hasRequiredWritable$4)return writable$4;hasRequiredWritable$4=1;const T=dist$3,{ArrayPrototypeSlice:$,Error:I,FunctionPrototypeSymbolHasInstance:N,ObjectDefineProperty:L,ObjectDefineProperties:B,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:z,Symbol:Q,SymbolHasInstance:te}=primordials$e;writable$4=Ue,Ue.WritableState=Fe;const{EventEmitter:G}=events$1,ie=legacy$f.Stream,{Buffer:Re}=dist$5,$e=destroy$h,{addAbortSignal:Pe}=addAbortSignal$d,{getHighWaterMark:Me,getDefaultHighWaterMark:Be}=state$i,{ERR_INVALID_ARG_TYPE:Ke,ERR_METHOD_NOT_IMPLEMENTED:Le,ERR_MULTIPLE_CALLBACK:qe,ERR_STREAM_CANNOT_PIPE:He,ERR_STREAM_DESTROYED:Ge,ERR_STREAM_ALREADY_FINISHED:at,ERR_STREAM_NULL_VALUES:ot,ERR_STREAM_WRITE_AFTER_END:Ye,ERR_UNKNOWN_ENCODING:nt}=errors$k.codes,{errorOrDestroy:Qe}=$e;H(Ue.prototype,ie.prototype),H(Ue,ie);function tt(){}const ze=Q("kOnFinished");function Fe(pt,mt,$t){typeof $t!="boolean"&&($t=mt instanceof requireDuplex$4()),this.objectMode=!!(pt&&pt.objectMode),$t&&(this.objectMode=this.objectMode||!!(pt&&pt.writableObjectMode)),this.highWaterMark=pt?Me(this,pt,"writableHighWaterMark",$t):Be(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const kt=!!(pt&&pt.decodeStrings===!1);this.decodeStrings=!kt,this.defaultEncoding=pt&&pt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=We.bind(void 0,mt),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ke(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pt||pt.emitClose!==!1,this.autoDestroy=!pt||pt.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ze]=[]}function ke(pt){pt.buffered=[],pt.bufferedIndex=0,pt.allBuffers=!0,pt.allNoop=!0}Fe.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},L(Fe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ue(pt){const mt=this instanceof requireDuplex$4();if(!mt&&!N(Ue,this))return new Ue(pt);this._writableState=new Fe(pt,this,mt),pt&&(typeof pt.write=="function"&&(this._write=pt.write),typeof pt.writev=="function"&&(this._writev=pt.writev),typeof pt.destroy=="function"&&(this._destroy=pt.destroy),typeof pt.final=="function"&&(this._final=pt.final),typeof pt.construct=="function"&&(this._construct=pt.construct),pt.signal&&Pe(pt.signal,this)),ie.call(this,pt),$e.construct(this,()=>{const $t=this._writableState;$t.writing||st(this,$t),St(this,$t)})}L(Ue,te,{__proto__:null,value:function(pt){return N(this,pt)?!0:this!==Ue?!1:pt&&pt._writableState instanceof Fe}}),Ue.prototype.pipe=function(){Qe(this,new He)};function Je(pt,mt,$t,kt){const Ft=pt._writableState;if(typeof $t=="function")kt=$t,$t=Ft.defaultEncoding;else{if(!$t)$t=Ft.defaultEncoding;else if($t!=="buffer"&&!Re.isEncoding($t))throw new nt($t);typeof kt!="function"&&(kt=tt)}if(mt===null)throw new ot;if(!Ft.objectMode)if(typeof mt=="string")Ft.decodeStrings!==!1&&(mt=Re.from(mt,$t),$t="buffer");else if(mt instanceof Re)$t="buffer";else if(ie._isUint8Array(mt))mt=ie._uint8ArrayToBuffer(mt),$t="buffer";else throw new Ke("chunk",["string","Buffer","Uint8Array"],mt);let nr;return Ft.ending?nr=new Ye:Ft.destroyed&&(nr=new Ge("write")),nr?(T.nextTick(kt,nr),Qe(pt,nr,!0),nr):(Ft.pendingcb++,rt(pt,Ft,mt,$t,kt))}Ue.prototype.write=function(pt,mt,$t){return Je(this,pt,mt,$t)===!0},Ue.prototype.cork=function(){this._writableState.corked++},Ue.prototype.uncork=function(){const pt=this._writableState;pt.corked&&(pt.corked--,pt.writing||st(this,pt))},Ue.prototype.setDefaultEncoding=function(mt){if(typeof mt=="string"&&(mt=z(mt)),!Re.isEncoding(mt))throw new nt(mt);return this._writableState.defaultEncoding=mt,this};function rt(pt,mt,$t,kt,Ft){const nr=mt.objectMode?1:$t.length;mt.length+=nr;const Yt=mt.length<mt.highWaterMark;return Yt||(mt.needDrain=!0),mt.writing||mt.corked||mt.errored||!mt.constructed?(mt.buffered.push({chunk:$t,encoding:kt,callback:Ft}),mt.allBuffers&&kt!=="buffer"&&(mt.allBuffers=!1),mt.allNoop&&Ft!==tt&&(mt.allNoop=!1)):(mt.writelen=nr,mt.writecb=Ft,mt.writing=!0,mt.sync=!0,pt._write($t,kt,mt.onwrite),mt.sync=!1),Yt&&!mt.errored&&!mt.destroyed}function Xe(pt,mt,$t,kt,Ft,nr,Yt){mt.writelen=kt,mt.writecb=Yt,mt.writing=!0,mt.sync=!0,mt.destroyed?mt.onwrite(new Ge("write")):$t?pt._writev(Ft,mt.onwrite):pt._write(Ft,nr,mt.onwrite),mt.sync=!1}function it(pt,mt,$t,kt){--mt.pendingcb,kt($t),Ze(mt),Qe(pt,$t)}function We(pt,mt){const $t=pt._writableState,kt=$t.sync,Ft=$t.writecb;if(typeof Ft!="function"){Qe(pt,new qe);return}$t.writing=!1,$t.writecb=null,$t.length-=$t.writelen,$t.writelen=0,mt?(mt.stack,$t.errored||($t.errored=mt),pt._readableState&&!pt._readableState.errored&&(pt._readableState.errored=mt),kt?T.nextTick(it,pt,$t,mt,Ft):it(pt,$t,mt,Ft)):($t.buffered.length>$t.bufferedIndex&&st(pt,$t),kt?$t.afterWriteTickInfo!==null&&$t.afterWriteTickInfo.cb===Ft?$t.afterWriteTickInfo.count++:($t.afterWriteTickInfo={count:1,cb:Ft,stream:pt,state:$t},T.nextTick(Ve,$t.afterWriteTickInfo)):je(pt,$t,1,Ft))}function Ve({stream:pt,state:mt,count:$t,cb:kt}){return mt.afterWriteTickInfo=null,je(pt,mt,$t,kt)}function je(pt,mt,$t,kt){for(!mt.ending&&!pt.destroyed&&mt.length===0&&mt.needDrain&&(mt.needDrain=!1,pt.emit("drain"));$t-- >0;)mt.pendingcb--,kt();mt.destroyed&&Ze(mt),St(pt,mt)}function Ze(pt){if(pt.writing)return;for(let Ft=pt.bufferedIndex;Ft<pt.buffered.length;++Ft){var mt;const{chunk:nr,callback:Yt}=pt.buffered[Ft],yr=pt.objectMode?1:nr.length;pt.length-=yr,Yt((mt=pt.errored)!==null&&mt!==void 0?mt:new Ge("write"))}const $t=pt[ze].splice(0);for(let Ft=0;Ft<$t.length;Ft++){var kt;$t[Ft]((kt=pt.errored)!==null&&kt!==void 0?kt:new Ge("end"))}ke(pt)}function st(pt,mt){if(mt.corked||mt.bufferProcessing||mt.destroyed||!mt.constructed)return;const{buffered:$t,bufferedIndex:kt,objectMode:Ft}=mt,nr=$t.length-kt;if(!nr)return;let Yt=kt;if(mt.bufferProcessing=!0,nr>1&&pt._writev){mt.pendingcb-=nr-1;const yr=mt.allNoop?tt:br=>{for(let cr=Yt;cr<$t.length;++cr)$t[cr].callback(br)},gr=mt.allNoop&&Yt===0?$t:$($t,Yt);gr.allBuffers=mt.allBuffers,Xe(pt,mt,!0,mt.length,gr,"",yr),ke(mt)}else{do{const{chunk:yr,encoding:gr,callback:br}=$t[Yt];$t[Yt++]=null;const cr=Ft?1:yr.length;Xe(pt,mt,!1,cr,yr,gr,br)}while(Yt<$t.length&&!mt.writing);Yt===$t.length?ke(mt):Yt>256?($t.splice(0,Yt),mt.bufferedIndex=0):mt.bufferedIndex=Yt}mt.bufferProcessing=!1}Ue.prototype._write=function(pt,mt,$t){if(this._writev)this._writev([{chunk:pt,encoding:mt}],$t);else throw new Le("_write()")},Ue.prototype._writev=null,Ue.prototype.end=function(pt,mt,$t){const kt=this._writableState;typeof pt=="function"?($t=pt,pt=null,mt=null):typeof mt=="function"&&($t=mt,mt=null);let Ft;if(pt!=null){const nr=Je(this,pt,mt);nr instanceof I&&(Ft=nr)}return kt.corked&&(kt.corked=1,this.uncork()),Ft||(!kt.errored&&!kt.ending?(kt.ending=!0,St(this,kt,!0),kt.ended=!0):kt.finished?Ft=new at("end"):kt.destroyed&&(Ft=new Ge("end"))),typeof $t=="function"&&(Ft||kt.finished?T.nextTick($t,Ft):kt[ze].push($t)),this};function dt(pt){return pt.ending&&!pt.destroyed&&pt.constructed&&pt.length===0&&!pt.errored&&pt.buffered.length===0&&!pt.finished&&!pt.writing&&!pt.errorEmitted&&!pt.closeEmitted}function bt(pt,mt){let $t=!1;function kt(Ft){if($t){Qe(pt,Ft??qe());return}if($t=!0,mt.pendingcb--,Ft){const nr=mt[ze].splice(0);for(let Yt=0;Yt<nr.length;Yt++)nr[Yt](Ft);Qe(pt,Ft,mt.sync)}else dt(mt)&&(mt.prefinished=!0,pt.emit("prefinish"),mt.pendingcb++,T.nextTick(Bt,pt,mt))}mt.sync=!0,mt.pendingcb++;try{pt._final(kt)}catch(Ft){kt(Ft)}mt.sync=!1}function vt(pt,mt){!mt.prefinished&&!mt.finalCalled&&(typeof pt._final=="function"&&!mt.destroyed?(mt.finalCalled=!0,bt(pt,mt)):(mt.prefinished=!0,pt.emit("prefinish")))}function St(pt,mt,$t){dt(mt)&&(vt(pt,mt),mt.pendingcb===0&&($t?(mt.pendingcb++,T.nextTick((kt,Ft)=>{dt(Ft)?Bt(kt,Ft):Ft.pendingcb--},pt,mt)):dt(mt)&&(mt.pendingcb++,Bt(pt,mt))))}function Bt(pt,mt){mt.pendingcb--,mt.finished=!0;const $t=mt[ze].splice(0);for(let kt=0;kt<$t.length;kt++)$t[kt]();if(pt.emit("finish"),mt.autoDestroy){const kt=pt._readableState;(!kt||kt.autoDestroy&&(kt.endEmitted||kt.readable===!1))&&pt.destroy()}}B(Ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pt){this._writableState&&(this._writableState.destroyed=pt)}},writable:{__proto__:null,get(){const pt=this._writableState;return!!pt&&pt.writable!==!1&&!pt.destroyed&&!pt.errored&&!pt.ending&&!pt.ended},set(pt){this._writableState&&(this._writableState.writable=!!pt)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const pt=this._writableState;return pt?!pt.destroyed&&!pt.ending&&pt.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Gt=$e.destroy;Ue.prototype.destroy=function(pt,mt){const $t=this._writableState;return!$t.destroyed&&($t.bufferedIndex<$t.buffered.length||$t[ze].length)&&T.nextTick(Ze,$t),Gt.call(this,pt,mt),this},Ue.prototype._undestroy=$e.undestroy,Ue.prototype._destroy=function(pt,mt){mt(pt)},Ue.prototype[G.captureRejectionSymbol]=function(pt){this.destroy(pt)};let Dt;function Mt(){return Dt===void 0&&(Dt={}),Dt}return Ue.fromWeb=function(pt,mt){return Mt().newStreamWritableFromWritableStream(pt,mt)},Ue.toWeb=function(pt){return Mt().newWritableStreamFromStreamWritable(pt)},writable$4}var duplexify$4,hasRequiredDuplexify$4;function requireDuplexify$4(){if(hasRequiredDuplexify$4)return duplexify$4;hasRequiredDuplexify$4=1;const T=dist$3,$=dist$5,{isReadable:I,isWritable:N,isIterable:L,isNodeStream:B,isReadableNodeStream:H,isWritableNodeStream:z,isDuplexNodeStream:Q,isReadableStream:te,isWritableStream:G}=utils$N,ie=endOfStream$g,{AbortError:Re,codes:{ERR_INVALID_ARG_TYPE:$e,ERR_INVALID_RETURN_VALUE:Pe}}=errors$k,{destroyer:Me}=destroy$h,Be=requireDuplex$4(),Ke=requireReadable$4(),Le=requireWritable$4(),{createDeferredPromise:qe}=util$n,He=from$l,Ge=globalThis.Blob||$.Blob,at=typeof Ge<"u"?function(Fe){return Fe instanceof Ge}:function(Fe){return!1},ot=globalThis.AbortController||requireBrowser$a().AbortController,{FunctionPrototypeCall:Ye}=primordials$e;class nt extends Be{constructor(Fe){super(Fe),(Fe==null?void 0:Fe.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Fe==null?void 0:Fe.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify$4=function ze(Fe,ke){if(Q(Fe))return Fe;if(H(Fe))return tt({readable:Fe});if(z(Fe))return tt({writable:Fe});if(B(Fe))return tt({writable:!1,readable:!1});if(te(Fe))return tt({readable:Ke.fromWeb(Fe)});if(G(Fe))return tt({writable:Le.fromWeb(Fe)});if(typeof Fe=="function"){const{value:Je,write:rt,final:Xe,destroy:it}=Qe(Fe);if(L(Je))return He(nt,Je,{objectMode:!0,write:rt,final:Xe,destroy:it});const We=Je==null?void 0:Je.then;if(typeof We=="function"){let Ve;const je=Ye(We,Je,Ze=>{if(Ze!=null)throw new Pe("nully","body",Ze)},Ze=>{Me(Ve,Ze)});return Ve=new nt({objectMode:!0,readable:!1,write:rt,final(Ze){Xe(async()=>{try{await je,T.nextTick(Ze,null)}catch(st){T.nextTick(Ze,st)}})},destroy:it})}throw new Pe("Iterable, AsyncIterable or AsyncFunction",ke,Je)}if(at(Fe))return ze(Fe.arrayBuffer());if(L(Fe))return He(nt,Fe,{objectMode:!0,writable:!1});if(te(Fe==null?void 0:Fe.readable)&&G(Fe==null?void 0:Fe.writable))return nt.fromWeb(Fe);if(typeof(Fe==null?void 0:Fe.writable)=="object"||typeof(Fe==null?void 0:Fe.readable)=="object"){const Je=Fe!=null&&Fe.readable?H(Fe==null?void 0:Fe.readable)?Fe==null?void 0:Fe.readable:ze(Fe.readable):void 0,rt=Fe!=null&&Fe.writable?z(Fe==null?void 0:Fe.writable)?Fe==null?void 0:Fe.writable:ze(Fe.writable):void 0;return tt({readable:Je,writable:rt})}const Ue=Fe==null?void 0:Fe.then;if(typeof Ue=="function"){let Je;return Ye(Ue,Fe,rt=>{rt!=null&&Je.push(rt),Je.push(null)},rt=>{Me(Je,rt)}),Je=new nt({objectMode:!0,writable:!1,read(){}})}throw new $e(ke,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Fe)};function Qe(ze){let{promise:Fe,resolve:ke}=qe();const Ue=new ot,Je=Ue.signal;return{value:ze(async function*(){for(;;){const Xe=Fe;Fe=null;const{chunk:it,done:We,cb:Ve}=await Xe;if(T.nextTick(Ve),We)return;if(Je.aborted)throw new Re(void 0,{cause:Je.reason});({promise:Fe,resolve:ke}=qe()),yield it}}(),{signal:Je}),write(Xe,it,We){const Ve=ke;ke=null,Ve({chunk:Xe,done:!1,cb:We})},final(Xe){const it=ke;ke=null,it({done:!0,cb:Xe})},destroy(Xe,it){Ue.abort(),it(Xe)}}}function tt(ze){const Fe=ze.readable&&typeof ze.readable.read!="function"?Ke.wrap(ze.readable):ze.readable,ke=ze.writable;let Ue=!!I(Fe),Je=!!N(ke),rt,Xe,it,We,Ve;function je(Ze){const st=We;We=null,st?st(Ze):Ze&&Ve.destroy(Ze)}return Ve=new nt({readableObjectMode:!!(Fe!=null&&Fe.readableObjectMode),writableObjectMode:!!(ke!=null&&ke.writableObjectMode),readable:Ue,writable:Je}),Je&&(ie(ke,Ze=>{Je=!1,Ze&&Me(Fe,Ze),je(Ze)}),Ve._write=function(Ze,st,dt){ke.write(Ze,st)?dt():rt=dt},Ve._final=function(Ze){ke.end(),Xe=Ze},ke.on("drain",function(){if(rt){const Ze=rt;rt=null,Ze()}}),ke.on("finish",function(){if(Xe){const Ze=Xe;Xe=null,Ze()}})),Ue&&(ie(Fe,Ze=>{Ue=!1,Ze&&Me(Fe,Ze),je(Ze)}),Fe.on("readable",function(){if(it){const Ze=it;it=null,Ze()}}),Fe.on("end",function(){Ve.push(null)}),Ve._read=function(){for(;;){const Ze=Fe.read();if(Ze===null){it=Ve._read;return}if(!Ve.push(Ze))return}}),Ve._destroy=function(Ze,st){!Ze&&We!==null&&(Ze=new Re),it=null,rt=null,Xe=null,We===null?st(Ze):(We=st,Me(ke,Ze),Me(Fe,Ze))},Ve}return duplexify$4}var duplex$4,hasRequiredDuplex$4;function requireDuplex$4(){if(hasRequiredDuplex$4)return duplex$4;hasRequiredDuplex$4=1;const{ObjectDefineProperties:T,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:I,ObjectSetPrototypeOf:N}=primordials$e;duplex$4=H;const L=requireReadable$4(),B=requireWritable$4();N(H.prototype,L.prototype),N(H,L);{const G=I(B.prototype);for(let ie=0;ie<G.length;ie++){const Re=G[ie];H.prototype[Re]||(H.prototype[Re]=B.prototype[Re])}}function H(G){if(!(this instanceof H))return new H(G);L.call(this,G),B.call(this,G),G?(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}T(H.prototype,{writable:{__proto__:null,...$(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(B.prototype,"writableLength")},writableFinished:{__proto__:null,...$(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(G){this._readableState&&this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}});let z;function Q(){return z===void 0&&(z={}),z}H.fromWeb=function(G,ie){return Q().newStreamDuplexFromReadableWritablePair(G,ie)},H.toWeb=function(G){return Q().newReadableWritablePairFromDuplex(G)};let te;return H.from=function(G){return te||(te=requireDuplexify$4()),te(G,"body")},duplex$4}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$d,Symbol:Symbol$i}=primordials$e;var transform$c=Transform$e;const{ERR_METHOD_NOT_IMPLEMENTED:ERR_METHOD_NOT_IMPLEMENTED$5}=errors$k.codes,Duplex$f=requireDuplex$4(),{getHighWaterMark:getHighWaterMark$9}=state$i;ObjectSetPrototypeOf$d(Transform$e.prototype,Duplex$f.prototype);ObjectSetPrototypeOf$d(Transform$e,Duplex$f);const kCallback$4=Symbol$i("kCallback");function Transform$e(T){if(!(this instanceof Transform$e))return new Transform$e(T);const $=T?getHighWaterMark$9(this,T,"readableHighWaterMark",!0):null;$===0&&(T={...T,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:T.writableHighWaterMark||0}),Duplex$f.call(this,T),this._readableState.sync=!1,this[kCallback$4]=null,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",prefinish$5)}function final$4(T){typeof this._flush=="function"&&!this.destroyed?this._flush(($,I)=>{if($){T?T($):this.destroy($);return}I!=null&&this.push(I),this.push(null),T&&T()}):(this.push(null),T&&T())}function prefinish$5(){this._final!==final$4&&final$4.call(this)}Transform$e.prototype._final=final$4;Transform$e.prototype._transform=function(T,$,I){throw new ERR_METHOD_NOT_IMPLEMENTED$5("_transform()")};Transform$e.prototype._write=function(T,$,I){const N=this._readableState,L=this._writableState,B=N.length;this._transform(T,$,(H,z)=>{if(H){I(H);return}z!=null&&this.push(z),L.ended||B===N.length||N.length<N.highWaterMark?I():this[kCallback$4]=I})};Transform$e.prototype._read=function(){if(this[kCallback$4]){const T=this[kCallback$4];this[kCallback$4]=null,T()}};const transform$d=getDefaultExportFromCjs$1(transform$c),transform$e=_mergeNamespaces({__proto__:null,default:transform$d},[transform$c]),{ObjectSetPrototypeOf:ObjectSetPrototypeOf$c}=primordials$e;var passthrough$c=PassThrough$a;const Transform$d=transform$e;ObjectSetPrototypeOf$c(PassThrough$a.prototype,Transform$d.prototype);ObjectSetPrototypeOf$c(PassThrough$a,Transform$d);function PassThrough$a(T){if(!(this instanceof PassThrough$a))return new PassThrough$a(T);Transform$d.call(this,T)}PassThrough$a.prototype._transform=function(T,$,I){I(null,T)};const passthrough$d=getDefaultExportFromCjs$1(passthrough$c),passthrough$e=_mergeNamespaces({__proto__:null,default:passthrough$d},[passthrough$c]),process$g=dist$3,{ArrayIsArray:ArrayIsArray$c,Promise:Promise$e,SymbolAsyncIterator:SymbolAsyncIterator$c,SymbolDispose}=primordials$e,eos$f=endOfStream$g,{once:once$a}=util$n,destroyImpl$4=destroy$h,Duplex$e=requireDuplex$4(),{aggregateTwoErrors:aggregateTwoErrors$c,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$m,ERR_INVALID_RETURN_VALUE:ERR_INVALID_RETURN_VALUE$4,ERR_MISSING_ARGS:ERR_MISSING_ARGS$f,ERR_STREAM_DESTROYED:ERR_STREAM_DESTROYED$5,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$9},AbortError:AbortError$r}=errors$k,{validateFunction:validateFunction$e,validateAbortSignal:validateAbortSignal$h}=validators$e,{isIterable:isIterable$8,isReadable:isReadable$h,isReadableNodeStream:isReadableNodeStream$c,isNodeStream:isNodeStream$m,isTransformStream:isTransformStream$d,isWebStream:isWebStream$d,isReadableStream:isReadableStream$h,isReadableFinished:isReadableFinished$8}=utils$N,AbortController$a=globalThis.AbortController||requireBrowser$a().AbortController;let PassThrough$9,Readable$4,addAbortListener;function destroyer$e(T,$,I){let N=!1;T.on("close",()=>{N=!0});const L=eos$f(T,{readable:$,writable:I},B=>{N=!B});return{destroy:B=>{N||(N=!0,destroyImpl$4.destroyer(T,B||new ERR_STREAM_DESTROYED$5("pipe")))},cleanup:L}}function popCallback$5(T){return validateFunction$e(T[T.length-1],"streams[stream.length - 1]"),T.pop()}function makeAsyncIterable$4(T){if(isIterable$8(T))return T;if(isReadableNodeStream$c(T))return fromReadable$4(T);throw new ERR_INVALID_ARG_TYPE$m("val",["Readable","Iterable","AsyncIterable"],T)}async function*fromReadable$4(T){Readable$4||(Readable$4=requireReadable$4()),yield*Readable$4.prototype[SymbolAsyncIterator$c].call(T)}async function pumpToNode$4(T,$,I,{end:N}){let L,B=null;const H=te=>{if(te&&(L=te),B){const G=B;B=null,G()}},z=()=>new Promise$e((te,G)=>{L?G(L):B=()=>{L?G(L):te()}});$.on("drain",H);const Q=eos$f($,{readable:!1},H);try{$.writableNeedDrain&&await z();for await(const te of T)$.write(te)||await z();N&&($.end(),await z()),I()}catch(te){I(L!==te?aggregateTwoErrors$c(L,te):te)}finally{Q(),$.off("drain",H)}}async function pumpToWeb$4(T,$,I,{end:N}){isTransformStream$d($)&&($=$.writable);const L=$.getWriter();try{for await(const B of T)await L.ready,L.write(B).catch(()=>{});await L.ready,N&&await L.close(),I()}catch(B){try{await L.abort(B),I(B)}catch(H){I(H)}}}function pipeline$k(...T){return pipelineImpl$4(T,once$a(popCallback$5(T)))}function pipelineImpl$4(T,$,I){if(T.length===1&&ArrayIsArray$c(T[0])&&(T=T[0]),T.length<2)throw new ERR_MISSING_ARGS$f("streams");const N=new AbortController$a,L=N.signal,B=I==null?void 0:I.signal,H=[];validateAbortSignal$h(B,"options.signal");function z(){Pe(new AbortError$r)}addAbortListener=addAbortListener||util$n.addAbortListener;let Q;B&&(Q=addAbortListener(B,z));let te,G;const ie=[];let Re=0;function $e(Le){Pe(Le,--Re===0)}function Pe(Le,qe){var He;if(Le&&(!te||te.code==="ERR_STREAM_PREMATURE_CLOSE")&&(te=Le),!(!te&&!qe)){for(;ie.length;)ie.shift()(te);(He=Q)===null||He===void 0||He[SymbolDispose](),N.abort(),qe&&(te||H.forEach(Ge=>Ge()),process$g.nextTick($,te,G))}}let Me;for(let Le=0;Le<T.length;Le++){const qe=T[Le],He=Le<T.length-1,Ge=Le>0,at=He||(I==null?void 0:I.end)!==!1,ot=Le===T.length-1;if(isNodeStream$m(qe)){let Ye=function(nt){nt&&nt.name!=="AbortError"&&nt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&$e(nt)};if(at){const{destroy:nt,cleanup:Qe}=destroyer$e(qe,He,Ge);ie.push(nt),isReadable$h(qe)&&ot&&H.push(Qe)}qe.on("error",Ye),isReadable$h(qe)&&ot&&H.push(()=>{qe.removeListener("error",Ye)})}if(Le===0)if(typeof qe=="function"){if(Me=qe({signal:L}),!isIterable$8(Me))throw new ERR_INVALID_RETURN_VALUE$4("Iterable, AsyncIterable or Stream","source",Me)}else isIterable$8(qe)||isReadableNodeStream$c(qe)||isTransformStream$d(qe)?Me=qe:Me=Duplex$e.from(qe);else if(typeof qe=="function"){if(isTransformStream$d(Me)){var Be;Me=makeAsyncIterable$4((Be=Me)===null||Be===void 0?void 0:Be.readable)}else Me=makeAsyncIterable$4(Me);if(Me=qe(Me,{signal:L}),He){if(!isIterable$8(Me,!0))throw new ERR_INVALID_RETURN_VALUE$4("AsyncIterable",`transform[${Le-1}]`,Me)}else{var Ke;PassThrough$9||(PassThrough$9=passthrough$e);const Ye=new PassThrough$9({objectMode:!0}),nt=(Ke=Me)===null||Ke===void 0?void 0:Ke.then;if(typeof nt=="function")Re++,nt.call(Me,ze=>{G=ze,ze!=null&&Ye.write(ze),at&&Ye.end(),process$g.nextTick($e)},ze=>{Ye.destroy(ze),process$g.nextTick($e,ze)});else if(isIterable$8(Me,!0))Re++,pumpToNode$4(Me,Ye,$e,{end:at});else if(isReadableStream$h(Me)||isTransformStream$d(Me)){const ze=Me.readable||Me;Re++,pumpToNode$4(ze,Ye,$e,{end:at})}else throw new ERR_INVALID_RETURN_VALUE$4("AsyncIterable or Promise","destination",Me);Me=Ye;const{destroy:Qe,cleanup:tt}=destroyer$e(Me,!1,!0);ie.push(Qe),ot&&H.push(tt)}}else if(isNodeStream$m(qe)){if(isReadableNodeStream$c(Me)){Re+=2;const Ye=pipe$5(Me,qe,$e,{end:at});isReadable$h(qe)&&ot&&H.push(Ye)}else if(isTransformStream$d(Me)||isReadableStream$h(Me)){const Ye=Me.readable||Me;Re++,pumpToNode$4(Ye,qe,$e,{end:at})}else if(isIterable$8(Me))Re++,pumpToNode$4(Me,qe,$e,{end:at});else throw new ERR_INVALID_ARG_TYPE$m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Me);Me=qe}else if(isWebStream$d(qe)){if(isReadableNodeStream$c(Me))Re++,pumpToWeb$4(makeAsyncIterable$4(Me),qe,$e,{end:at});else if(isReadableStream$h(Me)||isIterable$8(Me))Re++,pumpToWeb$4(Me,qe,$e,{end:at});else if(isTransformStream$d(Me))Re++,pumpToWeb$4(Me.readable,qe,$e,{end:at});else throw new ERR_INVALID_ARG_TYPE$m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Me);Me=qe}else Me=Duplex$e.from(qe)}return(L!=null&&L.aborted||B!=null&&B.aborted)&&process$g.nextTick(z),Me}function pipe$5(T,$,I,{end:N}){let L=!1;if($.on("close",()=>{L||I(new ERR_STREAM_PREMATURE_CLOSE$9)}),T.pipe($,{end:!1}),N){let B=function(){L=!0,$.end()};isReadableFinished$8(T)?process$g.nextTick(B):T.once("end",B)}else I();return eos$f(T,{readable:!0,writable:!1},B=>{const H=T._readableState;B&&B.code==="ERR_STREAM_PREMATURE_CLOSE"&&H&&H.ended&&!H.errored&&!H.errorEmitted?T.once("end",I).once("error",I):I(B)}),eos$f($,{readable:!1,writable:!0},I)}var pipeline_1$5={pipelineImpl:pipelineImpl$4,pipeline:pipeline$k};const pipeline$l=getDefaultExportFromCjs$1(pipeline_1$5),pipeline$m=_mergeNamespaces({__proto__:null,default:pipeline$l},[pipeline_1$5]),{pipeline:pipeline$j}=pipeline$m,Duplex$d=requireDuplex$4(),{destroyer:destroyer$d}=destroy$h,{isNodeStream:isNodeStream$l,isReadable:isReadable$g,isWritable:isWritable$h,isWebStream:isWebStream$c,isTransformStream:isTransformStream$c,isWritableStream:isWritableStream$c,isReadableStream:isReadableStream$g}=utils$N,{AbortError:AbortError$q,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$h,ERR_MISSING_ARGS:ERR_MISSING_ARGS$e}}=errors$k,eos$e=endOfStream$g;var compose$h=function(...$){if($.length===0)throw new ERR_MISSING_ARGS$e("streams");if($.length===1)return Duplex$d.from($[0]);const I=[...$];if(typeof $[0]=="function"&&($[0]=Duplex$d.from($[0])),typeof $[$.length-1]=="function"){const $e=$.length-1;$[$e]=Duplex$d.from($[$e])}for(let $e=0;$e<$.length;++$e)if(!(!isNodeStream$l($[$e])&&!isWebStream$c($[$e]))){if($e<$.length-1&&!(isReadable$g($[$e])||isReadableStream$g($[$e])||isTransformStream$c($[$e])))throw new ERR_INVALID_ARG_VALUE$h(`streams[${$e}]`,I[$e],"must be readable");if($e>0&&!(isWritable$h($[$e])||isWritableStream$c($[$e])||isTransformStream$c($[$e])))throw new ERR_INVALID_ARG_VALUE$h(`streams[${$e}]`,I[$e],"must be writable")}let N,L,B,H,z;function Q($e){const Pe=H;H=null,Pe?Pe($e):$e?z.destroy($e):!Re&&!ie&&z.destroy()}const te=$[0],G=pipeline$j($,Q),ie=!!(isWritable$h(te)||isWritableStream$c(te)||isTransformStream$c(te)),Re=!!(isReadable$g(G)||isReadableStream$g(G)||isTransformStream$c(G));if(z=new Duplex$d({writableObjectMode:!!(te!=null&&te.writableObjectMode),readableObjectMode:!!(G!=null&&G.readableObjectMode),writable:ie,readable:Re}),ie){if(isNodeStream$l(te))z._write=function(Pe,Me,Be){te.write(Pe,Me)?Be():N=Be},z._final=function(Pe){te.end(),L=Pe},te.on("drain",function(){if(N){const Pe=N;N=null,Pe()}});else if(isWebStream$c(te)){const Me=(isTransformStream$c(te)?te.writable:te).getWriter();z._write=async function(Be,Ke,Le){try{await Me.ready,Me.write(Be).catch(()=>{}),Le()}catch(qe){Le(qe)}},z._final=async function(Be){try{await Me.ready,Me.close().catch(()=>{}),L=Be}catch(Ke){Be(Ke)}}}const $e=isTransformStream$c(G)?G.readable:G;eos$e($e,()=>{if(L){const Pe=L;L=null,Pe()}})}if(Re){if(isNodeStream$l(G))G.on("readable",function(){if(B){const $e=B;B=null,$e()}}),G.on("end",function(){z.push(null)}),z._read=function(){for(;;){const $e=G.read();if($e===null){B=z._read;return}if(!z.push($e))return}};else if(isWebStream$c(G)){const Pe=(isTransformStream$c(G)?G.readable:G).getReader();z._read=async function(){for(;;)try{const{value:Me,done:Be}=await Pe.read();if(!z.push(Me))return;if(Be){z.push(null);return}}catch{return}}}}return z._destroy=function($e,Pe){!$e&&H!==null&&($e=new AbortError$q),B=null,N=null,L=null,H===null?Pe($e):(H=Pe,isNodeStream$l(G)&&destroyer$d(G,$e))},z};const compose$i=getDefaultExportFromCjs$1(compose$h),compose$j=_mergeNamespaces({__proto__:null,default:compose$i},[compose$h]),AbortController$9=globalThis.AbortController||requireBrowser$a().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$g,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$l,ERR_MISSING_ARGS:ERR_MISSING_ARGS$d,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$8},AbortError:AbortError$p}=errors$k,{validateAbortSignal:validateAbortSignal$g,validateInteger:validateInteger$8,validateObject:validateObject$d}=validators$e,kWeakHandler$4=primordials$e.Symbol("kWeak"),kResistStopPropagation=primordials$e.Symbol("kResistStopPropagation"),{finished:finished$8}=endOfStream$g,staticCompose$4=compose$j,{addAbortSignalNoValidate:addAbortSignalNoValidate$4}=addAbortSignal$d,{isWritable:isWritable$g,isNodeStream:isNodeStream$k}=utils$N,{deprecate:deprecate$1}=util$n,{ArrayPrototypePush:ArrayPrototypePush$4,Boolean:Boolean$1,MathFloor:MathFloor$8,Number:Number$5,NumberIsNaN:NumberIsNaN$8,Promise:Promise$d,PromiseReject:PromiseReject$4,PromiseResolve,PromisePrototypeThen:PromisePrototypeThen$c,Symbol:Symbol$h}=primordials$e,kEmpty$4=Symbol$h("kEmpty"),kEof$4=Symbol$h("kEof");function compose$g(T,$){if($!=null&&validateObject$d($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$g($.signal,"options.signal"),isNodeStream$k(T)&&!isWritable$g(T))throw new ERR_INVALID_ARG_VALUE$g("stream",T,"must be writable");const I=staticCompose$4(this,T);return $!=null&&$.signal&&addAbortSignalNoValidate$4($.signal,I),I}function map$4(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$l("fn",["Function","AsyncFunction"],T);$!=null&&validateObject$d($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$g($.signal,"options.signal");let I=1;($==null?void 0:$.concurrency)!=null&&(I=MathFloor$8($.concurrency));let N=I-1;return($==null?void 0:$.highWaterMark)!=null&&(N=MathFloor$8($.highWaterMark)),validateInteger$8(I,"options.concurrency",1),validateInteger$8(N,"options.highWaterMark",0),N+=I,(async function*(){const B=util$n.AbortSignalAny([$==null?void 0:$.signal].filter(Boolean$1)),H=this,z=[],Q={signal:B};let te,G,ie=!1,Re=0;function $e(){ie=!0,Pe()}function Pe(){Re-=1,Me()}function Me(){G&&!ie&&Re<I&&z.length<N&&(G(),G=null)}async function Be(){try{for await(let Ke of H){if(ie)return;if(B.aborted)throw new AbortError$p;try{if(Ke=T(Ke,Q),Ke===kEmpty$4)continue;Ke=PromiseResolve(Ke)}catch(Le){Ke=PromiseReject$4(Le)}Re+=1,PromisePrototypeThen$c(Ke,Pe,$e),z.push(Ke),te&&(te(),te=null),!ie&&(z.length>=N||Re>=I)&&await new Promise$d(Le=>{G=Le})}z.push(kEof$4)}catch(Ke){const Le=PromiseReject$4(Ke);PromisePrototypeThen$c(Le,Pe,$e),z.push(Le)}finally{ie=!0,te&&(te(),te=null)}}Be();try{for(;;){for(;z.length>0;){const Ke=await z[0];if(Ke===kEof$4)return;if(B.aborted)throw new AbortError$p;Ke!==kEmpty$4&&(yield Ke),z.shift(),Me()}await new Promise$d(Ke=>{te=Ke})}}finally{ie=!0,G&&(G(),G=null)}}).call(this)}function asIndexedPairs$4(T=void 0){return T!=null&&validateObject$d(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$g(T.signal,"options.signal"),(async function*(){let I=0;for await(const L of this){var N;if(T!=null&&(N=T.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$p({cause:T.signal.reason});yield[I++,L]}}).call(this)}async function some$4(T,$=void 0){for await(const I of filter$4.call(this,T,$))return!0;return!1}async function every$4(T,$=void 0){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$l("fn",["Function","AsyncFunction"],T);return!await some$4.call(this,async(...I)=>!await T(...I),$)}async function find$4(T,$){for await(const I of filter$4.call(this,T,$))return I}async function forEach$8(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$l("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L),kEmpty$4}for await(const N of map$4.call(this,I,$));}function filter$4(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$l("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L)?N:kEmpty$4}return map$4.call(this,I,$)}let ReduceAwareErrMissingArgs$4=class extends ERR_MISSING_ARGS$d{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function reduce$4(T,$,I){var N;if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$l("reducer",["Function","AsyncFunction"],T);I!=null&&validateObject$d(I,"options"),(I==null?void 0:I.signal)!=null&&validateAbortSignal$g(I.signal,"options.signal");let L=arguments.length>1;if(I!=null&&(N=I.signal)!==null&&N!==void 0&&N.aborted){const te=new AbortError$p(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await finished$8(this.destroy(te)),te}const B=new AbortController$9,H=B.signal;if(I!=null&&I.signal){const te={once:!0,[kWeakHandler$4]:this,[kResistStopPropagation]:!0};I.signal.addEventListener("abort",()=>B.abort(),te)}let z=!1;try{for await(const te of this){var Q;if(z=!0,I!=null&&(Q=I.signal)!==null&&Q!==void 0&&Q.aborted)throw new AbortError$p;L?$=await T($,te,{signal:H}):($=te,L=!0)}if(!z&&!L)throw new ReduceAwareErrMissingArgs$4}finally{B.abort()}return $}async function toArray$5(T){T!=null&&validateObject$d(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$g(T.signal,"options.signal");const $=[];for await(const N of this){var I;if(T!=null&&(I=T.signal)!==null&&I!==void 0&&I.aborted)throw new AbortError$p(void 0,{cause:T.signal.reason});ArrayPrototypePush$4($,N)}return $}function flatMap$4(T,$){const I=map$4.call(this,T,$);return(async function*(){for await(const L of I)yield*L}).call(this)}function toIntegerOrInfinity$4(T){if(T=Number$5(T),NumberIsNaN$8(T))return 0;if(T<0)throw new ERR_OUT_OF_RANGE$8("number",">= 0",T);return T}function drop$4(T,$=void 0){return $!=null&&validateObject$d($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$g($.signal,"options.signal"),T=toIntegerOrInfinity$4(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$p;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$p;T--<=0&&(yield B)}}).call(this)}function take$4(T,$=void 0){return $!=null&&validateObject$d($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$g($.signal,"options.signal"),T=toIntegerOrInfinity$4(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$p;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$p;if(T-- >0&&(yield B),T<=0)return}}).call(this)}var streamReturningOperators$4=operators$9.streamReturningOperators={asIndexedPairs:deprecate$1(asIndexedPairs$4,"readable.asIndexedPairs will be removed in a future version."),drop:drop$4,filter:filter$4,flatMap:flatMap$4,map:map$4,take:take$4,compose:compose$g},promiseReturningOperators$4=operators$9.promiseReturningOperators={every:every$4,forEach:forEach$8,reduce:reduce$4,toArray:toArray$5,some:some$4,find:find$4};const operators$8=_mergeNamespaces({__proto__:null,default:operators$9,promiseReturningOperators:promiseReturningOperators$4,streamReturningOperators:streamReturningOperators$4},[operators$9]);var promises$4,hasRequiredPromises$4;function requirePromises$4(){if(hasRequiredPromises$4)return promises$4;hasRequiredPromises$4=1;const{ArrayPrototypePop:T,Promise:$}=primordials$e,{isIterable:I,isNodeStream:N,isWebStream:L}=utils$N,{pipelineImpl:B}=pipeline$m,{finished:H}=endOfStream$g;requireStream$4();function z(...Q){return new $((te,G)=>{let ie,Re;const $e=Q[Q.length-1];if($e&&typeof $e=="object"&&!N($e)&&!I($e)&&!L($e)){const Pe=T(Q);ie=Pe.signal,Re=Pe.end}B(Q,(Pe,Me)=>{Pe?G(Pe):te(Me)},{signal:ie,end:Re})})}return promises$4={finished:H,pipeline:z},promises$4}var hasRequiredStream$4;function requireStream$4(){if(hasRequiredStream$4)return stream$4.exports;hasRequiredStream$4=1;const{Buffer:T}=dist$5,{ObjectDefineProperty:$,ObjectKeys:I,ReflectApply:N}=primordials$e,{promisify:{custom:L}}=util$n,{streamReturningOperators:B,promiseReturningOperators:H}=operators$8,{codes:{ERR_ILLEGAL_CONSTRUCTOR:z}}=errors$k,Q=compose$j,{setDefaultHighWaterMark:te,getDefaultHighWaterMark:G}=state$i,{pipeline:ie}=pipeline$m,{destroyer:Re}=destroy$h,$e=endOfStream$g,Pe=requirePromises$4(),Me=utils$N,Be=stream$4.exports=legacy$f.Stream;Be.isDestroyed=Me.isDestroyed,Be.isDisturbed=Me.isDisturbed,Be.isErrored=Me.isErrored,Be.isReadable=Me.isReadable,Be.isWritable=Me.isWritable,Be.Readable=requireReadable$4();for(const Le of I(B)){let qe=function(...Ge){if(new.target)throw z();return Be.Readable.from(N(He,this,Ge))};const He=B[Le];$(qe,"name",{__proto__:null,value:He.name}),$(qe,"length",{__proto__:null,value:He.length}),$(Be.Readable.prototype,Le,{__proto__:null,value:qe,enumerable:!1,configurable:!0,writable:!0})}for(const Le of I(H)){let qe=function(...Ge){if(new.target)throw z();return N(He,this,Ge)};const He=H[Le];$(qe,"name",{__proto__:null,value:He.name}),$(qe,"length",{__proto__:null,value:He.length}),$(Be.Readable.prototype,Le,{__proto__:null,value:qe,enumerable:!1,configurable:!0,writable:!0})}Be.Writable=requireWritable$4(),Be.Duplex=requireDuplex$4(),Be.Transform=transform$e,Be.PassThrough=passthrough$e,Be.pipeline=ie;const{addAbortSignal:Ke}=addAbortSignal$d;return Be.addAbortSignal=Ke,Be.finished=$e,Be.destroy=Re,Be.compose=Q,Be.setDefaultHighWaterMark=te,Be.getDefaultHighWaterMark=G,$(Be,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Pe}}),$(ie,L,{__proto__:null,enumerable:!0,get(){return Pe.pipeline}}),$($e,L,{__proto__:null,enumerable:!0,get(){return Pe.finished}}),Be.Stream=Be,Be._isUint8Array=function(qe){return qe instanceof Uint8Array},Be._uint8ArrayToBuffer=function(qe){return T.from(qe.buffer,qe.byteOffset,qe.byteLength)},stream$4.exports}(function(T){const $=requireStream$4(),I=requirePromises$4(),N=$.Readable.destroy;T.exports=$.Readable,T.exports._uint8ArrayToBuffer=$._uint8ArrayToBuffer,T.exports._isUint8Array=$._isUint8Array,T.exports.isDisturbed=$.isDisturbed,T.exports.isErrored=$.isErrored,T.exports.isReadable=$.isReadable,T.exports.Readable=$.Readable,T.exports.Writable=$.Writable,T.exports.Duplex=$.Duplex,T.exports.Transform=$.Transform,T.exports.PassThrough=$.PassThrough,T.exports.addAbortSignal=$.addAbortSignal,T.exports.finished=$.finished,T.exports.destroy=$.destroy,T.exports.destroy=N,T.exports.pipeline=$.pipeline,T.exports.compose=$.compose,Object.defineProperty($,"promises",{configurable:!0,enumerable:!0,get(){return I}}),T.exports.Stream=$.Stream,T.exports.default=T.exports})(browser$m);function isBytes$6(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}function bytes$3(T,...$){if(!isBytes$6(T))throw new Error("Uint8Array expected");if($.length>0&&!$.includes(T.length))throw new Error(`Uint8Array expected of length ${$}, not of length=${T.length}`)}function exists$3(T,$=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if($&&T.finished)throw new Error("Hash#digest() has already been called")}function output$3(T,$){bytes$3(T);const I=$.outputLen;if(T.length<I)throw new Error(`digestInto() expects output buffer of length at least ${I}`)}const crypto$5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView$2=T=>new DataView(T.buffer,T.byteOffset,T.byteLength),rotr$2=(T,$)=>T<<32-$|T>>>$;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$4(T){if(typeof T!="string")throw new Error(`utf8ToBytes expected string, got ${typeof T}`);return new Uint8Array(new TextEncoder().encode(T))}function toBytes$3(T){return typeof T=="string"&&(T=utf8ToBytes$4(T)),bytes$3(T),T}let Hash$a=class{clone(){return this._cloneInto()}};function wrapConstructor$2(T){const $=N=>T().update(toBytes$3(N)).digest(),I=T();return $.outputLen=I.outputLen,$.blockLen=I.blockLen,$.create=()=>T(),$}function randomBytes$3(T=32){if(crypto$5&&typeof crypto$5.getRandomValues=="function")return crypto$5.getRandomValues(new Uint8Array(T));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$2(T,$,I,N){if(typeof T.setBigUint64=="function")return T.setBigUint64($,I,N);const L=BigInt(32),B=BigInt(4294967295),H=Number(I>>L&B),z=Number(I&B),Q=N?4:0,te=N?0:4;T.setUint32($+Q,H,N),T.setUint32($+te,z,N)}const Chi$2=(T,$,I)=>T&$^~T&I,Maj$2=(T,$,I)=>T&$^T&I^$&I;let HashMD$1=class extends Hash$a{constructor($,I,N,L){super(),this.blockLen=$,this.outputLen=I,this.padOffset=N,this.isLE=L,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=createView$2(this.buffer)}update($){exists$3(this);const{view:I,buffer:N,blockLen:L}=this;$=toBytes$3($);const B=$.length;for(let H=0;H<B;){const z=Math.min(L-this.pos,B-H);if(z===L){const Q=createView$2($);for(;L<=B-H;H+=L)this.process(Q,H);continue}N.set($.subarray(H,H+z),this.pos),this.pos+=z,H+=z,this.pos===L&&(this.process(I,0),this.pos=0)}return this.length+=$.length,this.roundClean(),this}digestInto($){exists$3(this),output$3($,this),this.finished=!0;const{buffer:I,view:N,blockLen:L,isLE:B}=this;let{pos:H}=this;I[H++]=128,this.buffer.subarray(H).fill(0),this.padOffset>L-H&&(this.process(N,0),H=0);for(let ie=H;ie<L;ie++)I[ie]=0;setBigUint64$2(N,L-8,BigInt(this.length*8),B),this.process(N,0);const z=createView$2($),Q=this.outputLen;if(Q%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const te=Q/4,G=this.get();if(te>G.length)throw new Error("_sha2: outputLen bigger than state");for(let ie=0;ie<te;ie++)z.setUint32(4*ie,G[ie],B)}digest(){const{buffer:$,outputLen:I}=this;this.digestInto($);const N=$.slice(0,I);return this.destroy(),N}_cloneInto($){$||($=new this.constructor),$.set(...this.get());const{blockLen:I,buffer:N,length:L,finished:B,destroyed:H,pos:z}=this;return $.length=L,$.pos=z,$.finished=B,$.destroyed=H,L%I&&$.buffer.set(N),$}};const SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);let SHA256$4=class extends HashMD$1{constructor(){super(64,32,8,!1),this.A=SHA256_IV$1[0]|0,this.B=SHA256_IV$1[1]|0,this.C=SHA256_IV$1[2]|0,this.D=SHA256_IV$1[3]|0,this.E=SHA256_IV$1[4]|0,this.F=SHA256_IV$1[5]|0,this.G=SHA256_IV$1[6]|0,this.H=SHA256_IV$1[7]|0}get(){const{A:$,B:I,C:N,D:L,E:B,F:H,G:z,H:Q}=this;return[$,I,N,L,B,H,z,Q]}set($,I,N,L,B,H,z,Q){this.A=$|0,this.B=I|0,this.C=N|0,this.D=L|0,this.E=B|0,this.F=H|0,this.G=z|0,this.H=Q|0}process($,I){for(let ie=0;ie<16;ie++,I+=4)SHA256_W$2[ie]=$.getUint32(I,!1);for(let ie=16;ie<64;ie++){const Re=SHA256_W$2[ie-15],$e=SHA256_W$2[ie-2],Pe=rotr$2(Re,7)^rotr$2(Re,18)^Re>>>3,Me=rotr$2($e,17)^rotr$2($e,19)^$e>>>10;SHA256_W$2[ie]=Me+SHA256_W$2[ie-7]+Pe+SHA256_W$2[ie-16]|0}let{A:N,B:L,C:B,D:H,E:z,F:Q,G:te,H:G}=this;for(let ie=0;ie<64;ie++){const Re=rotr$2(z,6)^rotr$2(z,11)^rotr$2(z,25),$e=G+Re+Chi$2(z,Q,te)+SHA256_K$2[ie]+SHA256_W$2[ie]|0,Me=(rotr$2(N,2)^rotr$2(N,13)^rotr$2(N,22))+Maj$2(N,L,B)|0;G=te,te=Q,Q=z,z=H+$e|0,H=B,B=L,L=N,N=$e+Me|0}N=N+this.A|0,L=L+this.B|0,B=B+this.C|0,H=H+this.D|0,z=z+this.E|0,Q=Q+this.F|0,te=te+this.G|0,G=G+this.H|0,this.set(N,L,B,H,z,Q,te,G)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$9=wrapConstructor$2(()=>new SHA256$4);var __awaiter$1a=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let Sha256$5=class{static digest($){return __awaiter$1a(this,arguments,void 0,function*({data:I}){return sha256$9(I)})}},CryptoAlgorithm$3=class{};var __awaiter$19=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let Sha2Algorithm$3=class extends CryptoAlgorithm$3{digest($){return __awaiter$19(this,arguments,void 0,function*({algorithm:I,data:N}){switch(I){case"SHA-256":return yield Sha256$5.digest({data:N})}})}};function number(T){if(!Number.isSafeInteger(T)||T<0)throw new Error(`Wrong positive integer: ${T}`)}function isBytes$5(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}function bytes$2(T,...$){if(!isBytes$5(T))throw new Error("Expected Uint8Array");if($.length>0&&!$.includes(T.length))throw new Error(`Expected Uint8Array of length ${$}, not of length=${T.length}`)}function hash$8(T){if(typeof T!="function"||typeof T.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(T.outputLen),number(T.blockLen)}function exists$2(T,$=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if($&&T.finished)throw new Error("Hash#digest() has already been called")}function output$2(T,$){bytes$2(T);const I=$.outputLen;if(T.length<I)throw new Error(`digestInto() expects output buffer of length at least ${I}`)}const crypto$4=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$4(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}const createView$1=T=>new DataView(T.buffer,T.byteOffset,T.byteLength),rotr$1=(T,$)=>T<<32-$|T>>>$,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$3(T){if(typeof T!="string")throw new Error(`utf8ToBytes expected string, got ${typeof T}`);return new Uint8Array(new TextEncoder().encode(T))}function toBytes$2(T){if(typeof T=="string"&&(T=utf8ToBytes$3(T)),!isBytes$4(T))throw new Error(`expected Uint8Array, got ${typeof T}`);return T}function concatBytes$1(...T){let $=0;for(let N=0;N<T.length;N++){const L=T[N];if(!isBytes$4(L))throw new Error("Uint8Array expected");$+=L.length}const I=new Uint8Array($);for(let N=0,L=0;N<T.length;N++){const B=T[N];I.set(B,L),L+=B.length}return I}let Hash$9=class{clone(){return this._cloneInto()}};function wrapConstructor$1(T){const $=N=>T().update(toBytes$2(N)).digest(),I=T();return $.outputLen=I.outputLen,$.blockLen=I.blockLen,$.create=()=>T(),$}function randomBytes$2(T=32){if(crypto$4&&typeof crypto$4.getRandomValues=="function")return crypto$4.getRandomValues(new Uint8Array(T));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(T,$,I,N){if(typeof T.setBigUint64=="function")return T.setBigUint64($,I,N);const L=BigInt(32),B=BigInt(4294967295),H=Number(I>>L&B),z=Number(I&B),Q=N?4:0,te=N?0:4;T.setUint32($+Q,H,N),T.setUint32($+te,z,N)}class SHA2 extends Hash$9{constructor($,I,N,L){super(),this.blockLen=$,this.outputLen=I,this.padOffset=N,this.isLE=L,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=createView$1(this.buffer)}update($){exists$2(this);const{view:I,buffer:N,blockLen:L}=this;$=toBytes$2($);const B=$.length;for(let H=0;H<B;){const z=Math.min(L-this.pos,B-H);if(z===L){const Q=createView$1($);for(;L<=B-H;H+=L)this.process(Q,H);continue}N.set($.subarray(H,H+z),this.pos),this.pos+=z,H+=z,this.pos===L&&(this.process(I,0),this.pos=0)}return this.length+=$.length,this.roundClean(),this}digestInto($){exists$2(this),output$2($,this),this.finished=!0;const{buffer:I,view:N,blockLen:L,isLE:B}=this;let{pos:H}=this;I[H++]=128,this.buffer.subarray(H).fill(0),this.padOffset>L-H&&(this.process(N,0),H=0);for(let ie=H;ie<L;ie++)I[ie]=0;setBigUint64$1(N,L-8,BigInt(this.length*8),B),this.process(N,0);const z=createView$1($),Q=this.outputLen;if(Q%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const te=Q/4,G=this.get();if(te>G.length)throw new Error("_sha2: outputLen bigger than state");for(let ie=0;ie<te;ie++)z.setUint32(4*ie,G[ie],B)}digest(){const{buffer:$,outputLen:I}=this;this.digestInto($);const N=$.slice(0,I);return this.destroy(),N}_cloneInto($){$||($=new this.constructor),$.set(...this.get());const{blockLen:I,buffer:N,length:L,finished:B,destroyed:H,pos:z}=this;return $.length=L,$.pos=z,$.finished=B,$.destroyed=H,L%I&&$.buffer.set(N),$}}const Chi$1=(T,$,I)=>T&$^~T&I,Maj$1=(T,$,I)=>T&$^T&I^$&I,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$3=class extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:$,B:I,C:N,D:L,E:B,F:H,G:z,H:Q}=this;return[$,I,N,L,B,H,z,Q]}set($,I,N,L,B,H,z,Q){this.A=$|0,this.B=I|0,this.C=N|0,this.D=L|0,this.E=B|0,this.F=H|0,this.G=z|0,this.H=Q|0}process($,I){for(let ie=0;ie<16;ie++,I+=4)SHA256_W$1[ie]=$.getUint32(I,!1);for(let ie=16;ie<64;ie++){const Re=SHA256_W$1[ie-15],$e=SHA256_W$1[ie-2],Pe=rotr$1(Re,7)^rotr$1(Re,18)^Re>>>3,Me=rotr$1($e,17)^rotr$1($e,19)^$e>>>10;SHA256_W$1[ie]=Me+SHA256_W$1[ie-7]+Pe+SHA256_W$1[ie-16]|0}let{A:N,B:L,C:B,D:H,E:z,F:Q,G:te,H:G}=this;for(let ie=0;ie<64;ie++){const Re=rotr$1(z,6)^rotr$1(z,11)^rotr$1(z,25),$e=G+Re+Chi$1(z,Q,te)+SHA256_K$1[ie]+SHA256_W$1[ie]|0,Me=(rotr$1(N,2)^rotr$1(N,13)^rotr$1(N,22))+Maj$1(N,L,B)|0;G=te,te=Q,Q=z,z=H+$e|0,H=B,B=L,L=N,N=$e+Me|0}N=N+this.A|0,L=L+this.B|0,B=B+this.C|0,H=H+this.D|0,z=z+this.E|0,Q=Q+this.F|0,te=te+this.G|0,G=G+this.H|0,this.set(N,L,B,H,z,Q,te,G)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$8=wrapConstructor$1(()=>new SHA256$3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$7=BigInt(1),_2n$4=BigInt(2);function isBytes$3(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}const hexes=Array.from({length:256},(T,$)=>$.toString(16).padStart(2,"0"));function bytesToHex(T){if(!isBytes$3(T))throw new Error("Uint8Array expected");let $="";for(let I=0;I<T.length;I++)$+=hexes[T[I]];return $}function numberToHexUnpadded(T){const $=T.toString(16);return $.length&1?`0${$}`:$}function hexToNumber(T){if(typeof T!="string")throw new Error("hex string expected, got "+typeof T);return BigInt(T===""?"0":`0x${T}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(T){if(T>=asciis._0&&T<=asciis._9)return T-asciis._0;if(T>=asciis._A&&T<=asciis._F)return T-(asciis._A-10);if(T>=asciis._a&&T<=asciis._f)return T-(asciis._a-10)}function hexToBytes(T){if(typeof T!="string")throw new Error("hex string expected, got "+typeof T);const $=T.length,I=$/2;if($%2)throw new Error("padded hex string expected, got unpadded hex of length "+$);const N=new Uint8Array(I);for(let L=0,B=0;L<I;L++,B+=2){const H=asciiToBase16(T.charCodeAt(B)),z=asciiToBase16(T.charCodeAt(B+1));if(H===void 0||z===void 0){const Q=T[B]+T[B+1];throw new Error('hex string expected, got non-hex character "'+Q+'" at index '+B)}N[L]=H*16+z}return N}function bytesToNumberBE(T){return hexToNumber(bytesToHex(T))}function bytesToNumberLE(T){if(!isBytes$3(T))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(T).reverse()))}function numberToBytesBE(T,$){return hexToBytes(T.toString(16).padStart($*2,"0"))}function numberToBytesLE(T,$){return numberToBytesBE(T,$).reverse()}function numberToVarBytesBE(T){return hexToBytes(numberToHexUnpadded(T))}function ensureBytes$1(T,$,I){let N;if(typeof $=="string")try{N=hexToBytes($)}catch(B){throw new Error(`${T} must be valid hex string, got "${$}". Cause: ${B}`)}else if(isBytes$3($))N=Uint8Array.from($);else throw new Error(`${T} must be hex string or Uint8Array`);const L=N.length;if(typeof I=="number"&&L!==I)throw new Error(`${T} expected ${I} bytes, got ${L}`);return N}function concatBytes(...T){let $=0;for(let L=0;L<T.length;L++){const B=T[L];if(!isBytes$3(B))throw new Error("Uint8Array expected");$+=B.length}let I=new Uint8Array($),N=0;for(let L=0;L<T.length;L++){const B=T[L];I.set(B,N),N+=B.length}return I}function equalBytes(T,$){if(T.length!==$.length)return!1;let I=0;for(let N=0;N<T.length;N++)I|=T[N]^$[N];return I===0}function utf8ToBytes$2(T){if(typeof T!="string")throw new Error(`utf8ToBytes expected string, got ${typeof T}`);return new Uint8Array(new TextEncoder().encode(T))}function bitLen(T){let $;for($=0;T>_0n$5;T>>=_1n$7,$+=1);return $}function bitGet(T,$){return T>>BigInt($)&_1n$7}const bitSet=(T,$,I)=>T|(I?_1n$7:_0n$5)<<BigInt($),bitMask=T=>(_2n$4<<BigInt(T-1))-_1n$7,u8n=T=>new Uint8Array(T),u8fr=T=>Uint8Array.from(T);function createHmacDrbg(T,$,I){if(typeof T!="number"||T<2)throw new Error("hashLen must be a number");if(typeof $!="number"||$<2)throw new Error("qByteLen must be a number");if(typeof I!="function")throw new Error("hmacFn must be a function");let N=u8n(T),L=u8n(T),B=0;const H=()=>{N.fill(1),L.fill(0),B=0},z=(...ie)=>I(L,N,...ie),Q=(ie=u8n())=>{L=z(u8fr([0]),ie),N=z(),ie.length!==0&&(L=z(u8fr([1]),ie),N=z())},te=()=>{if(B++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Re=[];for(;ie<$;){N=z();const $e=N.slice();Re.push($e),ie+=N.length}return concatBytes(...Re)};return(ie,Re)=>{H(),Q(ie);let $e;for(;!($e=Re(te()));)Q();return H(),$e}}const validatorFns={bigint:T=>typeof T=="bigint",function:T=>typeof T=="function",boolean:T=>typeof T=="boolean",string:T=>typeof T=="string",stringOrUint8Array:T=>typeof T=="string"||isBytes$3(T),isSafeInteger:T=>Number.isSafeInteger(T),array:T=>Array.isArray(T),field:(T,$)=>$.Fp.isValid(T),hash:T=>typeof T=="function"&&Number.isSafeInteger(T.outputLen)};function validateObject$c(T,$,I={}){const N=(L,B,H)=>{const z=validatorFns[B];if(typeof z!="function")throw new Error(`Invalid validator "${B}", expected function`);const Q=T[L];if(!(H&&Q===void 0)&&!z(Q,T))throw new Error(`Invalid param ${String(L)}=${Q} (${typeof Q}), expected ${B}`)};for(const[L,B]of Object.entries($))N(L,B,!1);for(const[L,B]of Object.entries(I))N(L,B,!0);return T}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes:ensureBytes$1,equalBytes,hexToBytes,hexToNumber,isBytes:isBytes$3,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$2,validateObject:validateObject$c},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod(T,$){const I=T%$;return I>=_0n$4?I:$+I}function pow$4(T,$,I){if(I<=_0n$4||$<_0n$4)throw new Error("Expected power/modulo > 0");if(I===_1n$6)return _0n$4;let N=_1n$6;for(;$>_0n$4;)$&_1n$6&&(N=N*T%I),T=T*T%I,$>>=_1n$6;return N}function pow2(T,$,I){let N=T;for(;$-- >_0n$4;)N*=N,N%=I;return N}function invert(T,$){if(T===_0n$4||$<=_0n$4)throw new Error(`invert: expected positive integers, got n=${T} mod=${$}`);let I=mod(T,$),N=$,L=_0n$4,B=_1n$6;for(;I!==_0n$4;){const z=N/I,Q=N%I,te=L-B*z;N=I,I=Q,L=B,B=te}if(N!==_1n$6)throw new Error("invert: does not exist");return mod(L,$)}function tonelliShanks(T){const $=(T-_1n$6)/_2n$3;let I,N,L;for(I=T-_1n$6,N=0;I%_2n$3===_0n$4;I/=_2n$3,N++);for(L=_2n$3;L<T&&pow$4(L,$,T)!==T-_1n$6;L++);if(N===1){const H=(T+_1n$6)/_4n;return function(Q,te){const G=Q.pow(te,H);if(!Q.eql(Q.sqr(G),te))throw new Error("Cannot find square root");return G}}const B=(I+_1n$6)/_2n$3;return function(z,Q){if(z.pow(Q,$)===z.neg(z.ONE))throw new Error("Cannot find square root");let te=N,G=z.pow(z.mul(z.ONE,L),I),ie=z.pow(Q,B),Re=z.pow(Q,I);for(;!z.eql(Re,z.ONE);){if(z.eql(Re,z.ZERO))return z.ZERO;let $e=1;for(let Me=z.sqr(Re);$e<te&&!z.eql(Me,z.ONE);$e++)Me=z.sqr(Me);const Pe=z.pow(G,_1n$6<<BigInt(te-$e-1));G=z.sqr(Pe),ie=z.mul(ie,Pe),Re=z.mul(Re,G),te=$e}return ie}}function FpSqrt(T){if(T%_4n===_3n$1){const $=(T+_1n$6)/_4n;return function(N,L){const B=N.pow(L,$);if(!N.eql(N.sqr(B),L))throw new Error("Cannot find square root");return B}}if(T%_8n$1===_5n$1){const $=(T-_5n$1)/_8n$1;return function(N,L){const B=N.mul(L,_2n$3),H=N.pow(B,$),z=N.mul(L,H),Q=N.mul(N.mul(z,_2n$3),H),te=N.mul(z,N.sub(Q,N.ONE));if(!N.eql(N.sqr(te),L))throw new Error("Cannot find square root");return te}}return tonelliShanks(T)}const isNegativeLE=(T,$)=>(mod(T,$)&_1n$6)===_1n$6,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(T){const $={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},I=FIELD_FIELDS.reduce((N,L)=>(N[L]="function",N),$);return validateObject$c(T,I)}function FpPow(T,$,I){if(I<_0n$4)throw new Error("Expected power > 0");if(I===_0n$4)return T.ONE;if(I===_1n$6)return $;let N=T.ONE,L=$;for(;I>_0n$4;)I&_1n$6&&(N=T.mul(N,L)),L=T.sqr(L),I>>=_1n$6;return N}function FpInvertBatch(T,$){const I=new Array($.length),N=$.reduce((B,H,z)=>T.is0(H)?B:(I[z]=B,T.mul(B,H)),T.ONE),L=T.inv(N);return $.reduceRight((B,H,z)=>T.is0(H)?B:(I[z]=T.mul(B,I[z]),T.mul(B,H)),L),I}function nLength(T,$){const I=$!==void 0?$:T.toString(2).length,N=Math.ceil(I/8);return{nBitLength:I,nByteLength:N}}function Field(T,$,I=!1,N={}){if(T<=_0n$4)throw new Error(`Expected Field ORDER > 0, got ${T}`);const{nBitLength:L,nByteLength:B}=nLength(T,$);if(B>2048)throw new Error("Field lengths over 2048 bytes are not supported");const H=FpSqrt(T),z=Object.freeze({ORDER:T,BITS:L,BYTES:B,MASK:bitMask(L),ZERO:_0n$4,ONE:_1n$6,create:Q=>mod(Q,T),isValid:Q=>{if(typeof Q!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Q}`);return _0n$4<=Q&&Q<T},is0:Q=>Q===_0n$4,isOdd:Q=>(Q&_1n$6)===_1n$6,neg:Q=>mod(-Q,T),eql:(Q,te)=>Q===te,sqr:Q=>mod(Q*Q,T),add:(Q,te)=>mod(Q+te,T),sub:(Q,te)=>mod(Q-te,T),mul:(Q,te)=>mod(Q*te,T),pow:(Q,te)=>FpPow(z,Q,te),div:(Q,te)=>mod(Q*invert(te,T),T),sqrN:Q=>Q*Q,addN:(Q,te)=>Q+te,subN:(Q,te)=>Q-te,mulN:(Q,te)=>Q*te,inv:Q=>invert(Q,T),sqrt:N.sqrt||(Q=>H(z,Q)),invertBatch:Q=>FpInvertBatch(z,Q),cmov:(Q,te,G)=>G?te:Q,toBytes:Q=>I?numberToBytesLE(Q,B):numberToBytesBE(Q,B),fromBytes:Q=>{if(Q.length!==B)throw new Error(`Fp.fromBytes: expected ${B}, got ${Q.length}`);return I?bytesToNumberLE(Q):bytesToNumberBE(Q)}});return Object.freeze(z)}function FpSqrtEven(T,$){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const I=T.sqrt($);return T.isOdd(I)?T.neg(I):I}function getFieldBytesLength(T){if(typeof T!="bigint")throw new Error("field order must be bigint");const $=T.toString(2).length;return Math.ceil($/8)}function getMinHashLength(T){const $=getFieldBytesLength(T);return $+Math.ceil($/2)}function mapHashToField(T,$,I=!1){const N=T.length,L=getFieldBytesLength($),B=getMinHashLength($);if(N<16||N<B||N>1024)throw new Error(`expected ${B}-1024 bytes of input, got ${N}`);const H=I?bytesToNumberBE(T):bytesToNumberLE(T),z=mod(H,$-_1n$6)+_1n$6;return I?numberToBytesLE(z,L):numberToBytesBE(z,L)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$5=BigInt(1);function wNAF(T,$){const I=(L,B)=>{const H=B.negate();return L?H:B},N=L=>{const B=Math.ceil($/L)+1,H=2**(L-1);return{windows:B,windowSize:H}};return{constTimeNegate:I,unsafeLadder(L,B){let H=T.ZERO,z=L;for(;B>_0n$3;)B&_1n$5&&(H=H.add(z)),z=z.double(),B>>=_1n$5;return H},precomputeWindow(L,B){const{windows:H,windowSize:z}=N(B),Q=[];let te=L,G=te;for(let ie=0;ie<H;ie++){G=te,Q.push(G);for(let Re=1;Re<z;Re++)G=G.add(te),Q.push(G);te=G.double()}return Q},wNAF(L,B,H){const{windows:z,windowSize:Q}=N(L);let te=T.ZERO,G=T.BASE;const ie=BigInt(2**L-1),Re=2**L,$e=BigInt(L);for(let Pe=0;Pe<z;Pe++){const Me=Pe*Q;let Be=Number(H&ie);H>>=$e,Be>Q&&(Be-=Re,H+=_1n$5);const Ke=Me,Le=Me+Math.abs(Be)-1,qe=Pe%2!==0,He=Be<0;Be===0?G=G.add(I(qe,B[Ke])):te=te.add(I(He,B[Le]))}return{p:te,f:G}},wNAFCached(L,B,H,z){const Q=L._WINDOW_SIZE||1;let te=B.get(L);return te||(te=this.precomputeWindow(L,Q),Q!==1&&B.set(L,z(te))),this.wNAF(Q,te,H)}}}function validateBasic(T){return validateField(T.Fp),validateObject$c(T,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(T.n,T.nBitLength),...T,p:T.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(T){const $=validateBasic(T);validateObject$c($,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:I,Fp:N,a:L}=$;if(I){if(!N.eql(L,N.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof I!="object"||typeof I.beta!="bigint"||typeof I.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...$})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor($=""){super($)}},_parseInt(T){const{Err:$}=DER;if(T.length<2||T[0]!==2)throw new $("Invalid signature integer tag");const I=T[1],N=T.subarray(2,I+2);if(!I||N.length!==I)throw new $("Invalid signature integer: wrong length");if(N[0]&128)throw new $("Invalid signature integer: negative");if(N[0]===0&&!(N[1]&128))throw new $("Invalid signature integer: unnecessary leading zero");return{d:b2n(N),l:T.subarray(I+2)}},toSig(T){const{Err:$}=DER,I=typeof T=="string"?h2b(T):T;if(!isBytes$3(I))throw new Error("ui8a expected");let N=I.length;if(N<2||I[0]!=48)throw new $("Invalid signature tag");if(I[1]!==N-2)throw new $("Invalid signature: incorrect length");const{d:L,l:B}=DER._parseInt(I.subarray(2)),{d:H,l:z}=DER._parseInt(B);if(z.length)throw new $("Invalid signature: left bytes after parsing");return{r:L,s:H}},hexFromSig(T){const $=te=>Number.parseInt(te[0],16)&8?"00"+te:te,I=te=>{const G=te.toString(16);return G.length&1?`0${G}`:G},N=$(I(T.s)),L=$(I(T.r)),B=N.length/2,H=L.length/2,z=I(B),Q=I(H);return`30${I(H+B+4)}02${Q}${L}02${z}${N}`}},_0n$2=BigInt(0),_1n$4=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(T){const $=validatePointOpts(T),{Fp:I}=$,N=$.toBytes||((Pe,Me,Be)=>{const Ke=Me.toAffine();return concatBytes(Uint8Array.from([4]),I.toBytes(Ke.x),I.toBytes(Ke.y))}),L=$.fromBytes||(Pe=>{const Me=Pe.subarray(1),Be=I.fromBytes(Me.subarray(0,I.BYTES)),Ke=I.fromBytes(Me.subarray(I.BYTES,2*I.BYTES));return{x:Be,y:Ke}});function B(Pe){const{a:Me,b:Be}=$,Ke=I.sqr(Pe),Le=I.mul(Ke,Pe);return I.add(I.add(Le,I.mul(Pe,Me)),Be)}if(!I.eql(I.sqr($.Gy),B($.Gx)))throw new Error("bad generator point: equation left != right");function H(Pe){return typeof Pe=="bigint"&&_0n$2<Pe&&Pe<$.n}function z(Pe){if(!H(Pe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Q(Pe){const{allowedPrivateKeyLengths:Me,nByteLength:Be,wrapPrivateKey:Ke,n:Le}=$;if(Me&&typeof Pe!="bigint"){if(isBytes$3(Pe)&&(Pe=bytesToHex(Pe)),typeof Pe!="string"||!Me.includes(Pe.length))throw new Error("Invalid key");Pe=Pe.padStart(Be*2,"0")}let qe;try{qe=typeof Pe=="bigint"?Pe:bytesToNumberBE(ensureBytes$1("private key",Pe,Be))}catch{throw new Error(`private key must be ${Be} bytes, hex or bigint, not ${typeof Pe}`)}return Ke&&(qe=mod(qe,Le)),z(qe),qe}const te=new Map;function G(Pe){if(!(Pe instanceof ie))throw new Error("ProjectivePoint expected")}class ie{constructor(Me,Be,Ke){if(this.px=Me,this.py=Be,this.pz=Ke,Me==null||!I.isValid(Me))throw new Error("x required");if(Be==null||!I.isValid(Be))throw new Error("y required");if(Ke==null||!I.isValid(Ke))throw new Error("z required")}static fromAffine(Me){const{x:Be,y:Ke}=Me||{};if(!Me||!I.isValid(Be)||!I.isValid(Ke))throw new Error("invalid affine point");if(Me instanceof ie)throw new Error("projective point not allowed");const Le=qe=>I.eql(qe,I.ZERO);return Le(Be)&&Le(Ke)?ie.ZERO:new ie(Be,Ke,I.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Me){const Be=I.invertBatch(Me.map(Ke=>Ke.pz));return Me.map((Ke,Le)=>Ke.toAffine(Be[Le])).map(ie.fromAffine)}static fromHex(Me){const Be=ie.fromAffine(L(ensureBytes$1("pointHex",Me)));return Be.assertValidity(),Be}static fromPrivateKey(Me){return ie.BASE.multiply(Q(Me))}_setWindowSize(Me){this._WINDOW_SIZE=Me,te.delete(this)}assertValidity(){if(this.is0()){if($.allowInfinityPoint&&!I.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Me,y:Be}=this.toAffine();if(!I.isValid(Me)||!I.isValid(Be))throw new Error("bad point: x or y not FE");const Ke=I.sqr(Be),Le=B(Me);if(!I.eql(Ke,Le))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Me}=this.toAffine();if(I.isOdd)return!I.isOdd(Me);throw new Error("Field doesn't support isOdd")}equals(Me){G(Me);const{px:Be,py:Ke,pz:Le}=this,{px:qe,py:He,pz:Ge}=Me,at=I.eql(I.mul(Be,Ge),I.mul(qe,Le)),ot=I.eql(I.mul(Ke,Ge),I.mul(He,Le));return at&&ot}negate(){return new ie(this.px,I.neg(this.py),this.pz)}double(){const{a:Me,b:Be}=$,Ke=I.mul(Be,_3n),{px:Le,py:qe,pz:He}=this;let Ge=I.ZERO,at=I.ZERO,ot=I.ZERO,Ye=I.mul(Le,Le),nt=I.mul(qe,qe),Qe=I.mul(He,He),tt=I.mul(Le,qe);return tt=I.add(tt,tt),ot=I.mul(Le,He),ot=I.add(ot,ot),Ge=I.mul(Me,ot),at=I.mul(Ke,Qe),at=I.add(Ge,at),Ge=I.sub(nt,at),at=I.add(nt,at),at=I.mul(Ge,at),Ge=I.mul(tt,Ge),ot=I.mul(Ke,ot),Qe=I.mul(Me,Qe),tt=I.sub(Ye,Qe),tt=I.mul(Me,tt),tt=I.add(tt,ot),ot=I.add(Ye,Ye),Ye=I.add(ot,Ye),Ye=I.add(Ye,Qe),Ye=I.mul(Ye,tt),at=I.add(at,Ye),Qe=I.mul(qe,He),Qe=I.add(Qe,Qe),Ye=I.mul(Qe,tt),Ge=I.sub(Ge,Ye),ot=I.mul(Qe,nt),ot=I.add(ot,ot),ot=I.add(ot,ot),new ie(Ge,at,ot)}add(Me){G(Me);const{px:Be,py:Ke,pz:Le}=this,{px:qe,py:He,pz:Ge}=Me;let at=I.ZERO,ot=I.ZERO,Ye=I.ZERO;const nt=$.a,Qe=I.mul($.b,_3n);let tt=I.mul(Be,qe),ze=I.mul(Ke,He),Fe=I.mul(Le,Ge),ke=I.add(Be,Ke),Ue=I.add(qe,He);ke=I.mul(ke,Ue),Ue=I.add(tt,ze),ke=I.sub(ke,Ue),Ue=I.add(Be,Le);let Je=I.add(qe,Ge);return Ue=I.mul(Ue,Je),Je=I.add(tt,Fe),Ue=I.sub(Ue,Je),Je=I.add(Ke,Le),at=I.add(He,Ge),Je=I.mul(Je,at),at=I.add(ze,Fe),Je=I.sub(Je,at),Ye=I.mul(nt,Ue),at=I.mul(Qe,Fe),Ye=I.add(at,Ye),at=I.sub(ze,Ye),Ye=I.add(ze,Ye),ot=I.mul(at,Ye),ze=I.add(tt,tt),ze=I.add(ze,tt),Fe=I.mul(nt,Fe),Ue=I.mul(Qe,Ue),ze=I.add(ze,Fe),Fe=I.sub(tt,Fe),Fe=I.mul(nt,Fe),Ue=I.add(Ue,Fe),tt=I.mul(ze,Ue),ot=I.add(ot,tt),tt=I.mul(Je,Ue),at=I.mul(ke,at),at=I.sub(at,tt),tt=I.mul(ke,ze),Ye=I.mul(Je,Ye),Ye=I.add(Ye,tt),new ie(at,ot,Ye)}subtract(Me){return this.add(Me.negate())}is0(){return this.equals(ie.ZERO)}wNAF(Me){return $e.wNAFCached(this,te,Me,Be=>{const Ke=I.invertBatch(Be.map(Le=>Le.pz));return Be.map((Le,qe)=>Le.toAffine(Ke[qe])).map(ie.fromAffine)})}multiplyUnsafe(Me){const Be=ie.ZERO;if(Me===_0n$2)return Be;if(z(Me),Me===_1n$4)return this;const{endo:Ke}=$;if(!Ke)return $e.unsafeLadder(this,Me);let{k1neg:Le,k1:qe,k2neg:He,k2:Ge}=Ke.splitScalar(Me),at=Be,ot=Be,Ye=this;for(;qe>_0n$2||Ge>_0n$2;)qe&_1n$4&&(at=at.add(Ye)),Ge&_1n$4&&(ot=ot.add(Ye)),Ye=Ye.double(),qe>>=_1n$4,Ge>>=_1n$4;return Le&&(at=at.negate()),He&&(ot=ot.negate()),ot=new ie(I.mul(ot.px,Ke.beta),ot.py,ot.pz),at.add(ot)}multiply(Me){z(Me);let Be=Me,Ke,Le;const{endo:qe}=$;if(qe){const{k1neg:He,k1:Ge,k2neg:at,k2:ot}=qe.splitScalar(Be);let{p:Ye,f:nt}=this.wNAF(Ge),{p:Qe,f:tt}=this.wNAF(ot);Ye=$e.constTimeNegate(He,Ye),Qe=$e.constTimeNegate(at,Qe),Qe=new ie(I.mul(Qe.px,qe.beta),Qe.py,Qe.pz),Ke=Ye.add(Qe),Le=nt.add(tt)}else{const{p:He,f:Ge}=this.wNAF(Be);Ke=He,Le=Ge}return ie.normalizeZ([Ke,Le])[0]}multiplyAndAddUnsafe(Me,Be,Ke){const Le=ie.BASE,qe=(Ge,at)=>at===_0n$2||at===_1n$4||!Ge.equals(Le)?Ge.multiplyUnsafe(at):Ge.multiply(at),He=qe(this,Be).add(qe(Me,Ke));return He.is0()?void 0:He}toAffine(Me){const{px:Be,py:Ke,pz:Le}=this,qe=this.is0();Me==null&&(Me=qe?I.ONE:I.inv(Le));const He=I.mul(Be,Me),Ge=I.mul(Ke,Me),at=I.mul(Le,Me);if(qe)return{x:I.ZERO,y:I.ZERO};if(!I.eql(at,I.ONE))throw new Error("invZ was invalid");return{x:He,y:Ge}}isTorsionFree(){const{h:Me,isTorsionFree:Be}=$;if(Me===_1n$4)return!0;if(Be)return Be(ie,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Me,clearCofactor:Be}=$;return Me===_1n$4?this:Be?Be(ie,this):this.multiplyUnsafe($.h)}toRawBytes(Me=!0){return this.assertValidity(),N(ie,this,Me)}toHex(Me=!0){return bytesToHex(this.toRawBytes(Me))}}ie.BASE=new ie($.Gx,$.Gy,I.ONE),ie.ZERO=new ie(I.ZERO,I.ONE,I.ZERO);const Re=$.nBitLength,$e=wNAF(ie,$.endo?Math.ceil(Re/2):Re);return{CURVE:$,ProjectivePoint:ie,normPrivateKeyToScalar:Q,weierstrassEquation:B,isWithinCurveOrder:H}}function validateOpts$2(T){const $=validateBasic(T);return validateObject$c($,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...$})}function weierstrass(T){const $=validateOpts$2(T),{Fp:I,n:N}=$,L=I.BYTES+1,B=2*I.BYTES+1;function H(Ue){return _0n$2<Ue&&Ue<I.ORDER}function z(Ue){return mod(Ue,N)}function Q(Ue){return invert(Ue,N)}const{ProjectivePoint:te,normPrivateKeyToScalar:G,weierstrassEquation:ie,isWithinCurveOrder:Re}=weierstrassPoints({...$,toBytes(Ue,Je,rt){const Xe=Je.toAffine(),it=I.toBytes(Xe.x),We=concatBytes;return rt?We(Uint8Array.from([Je.hasEvenY()?2:3]),it):We(Uint8Array.from([4]),it,I.toBytes(Xe.y))},fromBytes(Ue){const Je=Ue.length,rt=Ue[0],Xe=Ue.subarray(1);if(Je===L&&(rt===2||rt===3)){const it=bytesToNumberBE(Xe);if(!H(it))throw new Error("Point is not on curve");const We=ie(it);let Ve=I.sqrt(We);const je=(Ve&_1n$4)===_1n$4;return(rt&1)===1!==je&&(Ve=I.neg(Ve)),{x:it,y:Ve}}else if(Je===B&&rt===4){const it=I.fromBytes(Xe.subarray(0,I.BYTES)),We=I.fromBytes(Xe.subarray(I.BYTES,2*I.BYTES));return{x:it,y:We}}else throw new Error(`Point of length ${Je} was invalid. Expected ${L} compressed bytes or ${B} uncompressed bytes`)}}),$e=Ue=>bytesToHex(numberToBytesBE(Ue,$.nByteLength));function Pe(Ue){const Je=N>>_1n$4;return Ue>Je}function Me(Ue){return Pe(Ue)?z(-Ue):Ue}const Be=(Ue,Je,rt)=>bytesToNumberBE(Ue.slice(Je,rt));class Ke{constructor(Je,rt,Xe){this.r=Je,this.s=rt,this.recovery=Xe,this.assertValidity()}static fromCompact(Je){const rt=$.nByteLength;return Je=ensureBytes$1("compactSignature",Je,rt*2),new Ke(Be(Je,0,rt),Be(Je,rt,2*rt))}static fromDER(Je){const{r:rt,s:Xe}=DER.toSig(ensureBytes$1("DER",Je));return new Ke(rt,Xe)}assertValidity(){if(!Re(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Re(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Je){return new Ke(this.r,this.s,Je)}recoverPublicKey(Je){const{r:rt,s:Xe,recovery:it}=this,We=ot(ensureBytes$1("msgHash",Je));if(it==null||![0,1,2,3].includes(it))throw new Error("recovery id invalid");const Ve=it===2||it===3?rt+$.n:rt;if(Ve>=I.ORDER)throw new Error("recovery id 2 or 3 invalid");const je=(it&1)===0?"02":"03",Ze=te.fromHex(je+$e(Ve)),st=Q(Ve),dt=z(-We*st),bt=z(Xe*st),vt=te.BASE.multiplyAndAddUnsafe(Ze,dt,bt);if(!vt)throw new Error("point at infinify");return vt.assertValidity(),vt}hasHighS(){return Pe(this.s)}normalizeS(){return this.hasHighS()?new Ke(this.r,z(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return $e(this.r)+$e(this.s)}}const Le={isValidPrivateKey(Ue){try{return G(Ue),!0}catch{return!1}},normPrivateKeyToScalar:G,randomPrivateKey:()=>{const Ue=getMinHashLength($.n);return mapHashToField($.randomBytes(Ue),$.n)},precompute(Ue=8,Je=te.BASE){return Je._setWindowSize(Ue),Je.multiply(BigInt(3)),Je}};function qe(Ue,Je=!0){return te.fromPrivateKey(Ue).toRawBytes(Je)}function He(Ue){const Je=isBytes$3(Ue),rt=typeof Ue=="string",Xe=(Je||rt)&&Ue.length;return Je?Xe===L||Xe===B:rt?Xe===2*L||Xe===2*B:Ue instanceof te}function Ge(Ue,Je,rt=!0){if(He(Ue))throw new Error("first arg must be private key");if(!He(Je))throw new Error("second arg must be public key");return te.fromHex(Je).multiply(G(Ue)).toRawBytes(rt)}const at=$.bits2int||function(Ue){const Je=bytesToNumberBE(Ue),rt=Ue.length*8-$.nBitLength;return rt>0?Je>>BigInt(rt):Je},ot=$.bits2int_modN||function(Ue){return z(at(Ue))},Ye=bitMask($.nBitLength);function nt(Ue){if(typeof Ue!="bigint")throw new Error("bigint expected");if(!(_0n$2<=Ue&&Ue<Ye))throw new Error(`bigint expected < 2^${$.nBitLength}`);return numberToBytesBE(Ue,$.nByteLength)}function Qe(Ue,Je,rt=tt){if(["recovered","canonical"].some(Bt=>Bt in rt))throw new Error("sign() legacy options not supported");const{hash:Xe,randomBytes:it}=$;let{lowS:We,prehash:Ve,extraEntropy:je}=rt;We==null&&(We=!0),Ue=ensureBytes$1("msgHash",Ue),Ve&&(Ue=ensureBytes$1("prehashed msgHash",Xe(Ue)));const Ze=ot(Ue),st=G(Je),dt=[nt(st),nt(Ze)];if(je!=null){const Bt=je===!0?it(I.BYTES):je;dt.push(ensureBytes$1("extraEntropy",Bt))}const bt=concatBytes(...dt),vt=Ze;function St(Bt){const Gt=at(Bt);if(!Re(Gt))return;const Dt=Q(Gt),Mt=te.BASE.multiply(Gt).toAffine(),pt=z(Mt.x);if(pt===_0n$2)return;const mt=z(Dt*z(vt+pt*st));if(mt===_0n$2)return;let $t=(Mt.x===pt?0:2)|Number(Mt.y&_1n$4),kt=mt;return We&&Pe(mt)&&(kt=Me(mt),$t^=1),new Ke(pt,kt,$t)}return{seed:bt,k2sig:St}}const tt={lowS:$.lowS,prehash:!1},ze={lowS:$.lowS,prehash:!1};function Fe(Ue,Je,rt=tt){const{seed:Xe,k2sig:it}=Qe(Ue,Je,rt),We=$;return createHmacDrbg(We.hash.outputLen,We.nByteLength,We.hmac)(Xe,it)}te.BASE._setWindowSize(8);function ke(Ue,Je,rt,Xe=ze){var Mt;const it=Ue;if(Je=ensureBytes$1("msgHash",Je),rt=ensureBytes$1("publicKey",rt),"strict"in Xe)throw new Error("options.strict was renamed to lowS");const{lowS:We,prehash:Ve}=Xe;let je,Ze;try{if(typeof it=="string"||isBytes$3(it))try{je=Ke.fromDER(it)}catch(pt){if(!(pt instanceof DER.Err))throw pt;je=Ke.fromCompact(it)}else if(typeof it=="object"&&typeof it.r=="bigint"&&typeof it.s=="bigint"){const{r:pt,s:mt}=it;je=new Ke(pt,mt)}else throw new Error("PARSE");Ze=te.fromHex(rt)}catch(pt){if(pt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(We&&je.hasHighS())return!1;Ve&&(Je=$.hash(Je));const{r:st,s:dt}=je,bt=ot(Je),vt=Q(dt),St=z(bt*vt),Bt=z(st*vt),Gt=(Mt=te.BASE.multiplyAndAddUnsafe(Ze,St,Bt))==null?void 0:Mt.toAffine();return Gt?z(Gt.x)===st:!1}return{CURVE:$,getPublicKey:qe,getSharedSecret:Ge,sign:Fe,verify:ke,ProjectivePoint:te,Signature:Ke,utils:Le}}class HMAC extends Hash$9{constructor($,I){super(),this.finished=!1,this.destroyed=!1,hash$8($);const N=toBytes$2(I);if(this.iHash=$.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const L=this.blockLen,B=new Uint8Array(L);B.set(N.length>L?$.create().update(N).digest():N);for(let H=0;H<B.length;H++)B[H]^=54;this.iHash.update(B),this.oHash=$.create();for(let H=0;H<B.length;H++)B[H]^=106;this.oHash.update(B),B.fill(0)}update($){return exists$2(this),this.iHash.update($),this}digestInto($){exists$2(this),bytes$2($,this.outputLen),this.finished=!0,this.iHash.digestInto($),this.oHash.update($),this.oHash.digestInto($),this.destroy()}digest(){const $=new Uint8Array(this.oHash.outputLen);return this.digestInto($),$}_cloneInto($){$||($=Object.create(Object.getPrototypeOf(this),{}));const{oHash:I,iHash:N,finished:L,destroyed:B,blockLen:H,outputLen:z}=this;return $=$,$.finished=L,$.destroyed=B,$.blockLen=H,$.outputLen=z,$.oHash=I._cloneInto($.oHash),$.iHash=N._cloneInto($.iHash),$}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$4=(T,$,I)=>new HMAC(T,$).update(I).digest();hmac$4.create=(T,$)=>new HMAC(T,$);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(T){return{hash:T,hmac:($,...I)=>hmac$4(T,$,concatBytes$1(...I)),randomBytes:randomBytes$2}}function createCurve(T,$){const I=N=>weierstrass({...T,...getHash$1(N)});return Object.freeze({...I($),create:I})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$3=BigInt(1),_2n$2=BigInt(2),divNearest=(T,$)=>(T+$/_2n$2)/$;function sqrtMod(T){const $=secp256k1P,I=BigInt(3),N=BigInt(6),L=BigInt(11),B=BigInt(22),H=BigInt(23),z=BigInt(44),Q=BigInt(88),te=T*T*T%$,G=te*te*T%$,ie=pow2(G,I,$)*G%$,Re=pow2(ie,I,$)*G%$,$e=pow2(Re,_2n$2,$)*te%$,Pe=pow2($e,L,$)*$e%$,Me=pow2(Pe,B,$)*Pe%$,Be=pow2(Me,z,$)*Me%$,Ke=pow2(Be,Q,$)*Be%$,Le=pow2(Ke,z,$)*Me%$,qe=pow2(Le,I,$)*G%$,He=pow2(qe,H,$)*Pe%$,Ge=pow2(He,N,$)*te%$,at=pow2(Ge,_2n$2,$);if(!Fp$2.eql(Fp$2.sqr(at),T))throw new Error("Cannot find square root");return at}const Fp$2=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$1=createCurve({a:BigInt(0),b:BigInt(7),Fp:Fp$2,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:T=>{const $=secp256k1N,I=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),N=-_1n$3*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),L=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),B=I,H=BigInt("0x100000000000000000000000000000000"),z=divNearest(B*T,$),Q=divNearest(-N*T,$);let te=mod(T-z*I-Q*L,$),G=mod(-z*N-Q*B,$);const ie=te>H,Re=G>H;if(ie&&(te=$-te),Re&&(G=$-G),te>H||G>H)throw new Error("splitScalar: Endomorphism failed, k="+T);return{k1neg:ie,k1:te,k2neg:Re,k2:G}}}},sha256$8);BigInt(0);secp256k1$1.ProjectivePoint;function canonicalize$7(T){const $=N=>{if(N!==null&&typeof N=="object"&&!Array.isArray(N)){const L=Object.keys(N).sort(),B={};for(const H of L)B[H]=$(N[H]);return B}return N},I=$(T);return JSON.stringify(I)}var __awaiter$18=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};const KEY_URI_PREFIX_JWK$3="urn:jwk:";function computeJwkThumbprint$3(T){return __awaiter$18(this,arguments,void 0,function*({jwk:$}){const I=$.kty;let N;if(I==="EC")N={crv:$.crv,kty:$.kty,x:$.x,y:$.y};else if(I==="oct")N={k:$.k,kty:$.kty};else if(I==="OKP")N={crv:$.crv,kty:$.kty,x:$.x};else if(I==="RSA")N={e:$.e,kty:$.kty,n:$.n};else throw new Error(`Unsupported key type: ${I}`);removeUndefinedProperties$3(N);const L=canonicalize$7(N),B=Convert$5.string(L).toUint8Array(),H=yield Sha256$5.digest({data:B});return Convert$5.uint8Array(H).toBase64Url()})}function isEcPrivateJwk$3(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="EC"||typeof T.d!="string"||typeof T.x!="string")}function isEcPublicJwk$3(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T)||"d"in T||T.kty!=="EC"||typeof T.x!="string")}function isOkpPrivateJwk$3(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="OKP"||typeof T.d!="string"||typeof T.x!="string")}function isOkpPublicJwk$3(T){return!(!T||typeof T!="object"||"d"in T||!("kty"in T&&"crv"in T&&"x"in T)||T.kty!=="OKP"||typeof T.x!="string")}function isPrivateJwk$3(T){if(!T||typeof T!="object")return!1;switch(T.kty){case"EC":case"OKP":case"RSA":return"d"in T;case"oct":return"k"in T;default:return!1}}var __awaiter$17=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$i=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Secp256k1$3=class fo{static adjustSignatureToLowS($){return __awaiter$17(this,arguments,void 0,function*({signature:I}){const N=secp256k1$1.Signature.fromCompact(I);return N.hasHighS()?N.normalizeS().toCompactRawBytes():I})}static bytesToPrivateKey($){return __awaiter$17(this,arguments,void 0,function*({privateKeyBytes:I}){const N=yield fo.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"secp256k1",d:Convert$5.uint8Array(I).toBase64Url(),x:Convert$5.uint8Array(N.x).toBase64Url(),y:Convert$5.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$3({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$17(this,arguments,void 0,function*({publicKeyBytes:I}){const N=yield fo.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"secp256k1",x:Convert$5.uint8Array(N.x).toBase64Url(),y:Convert$5.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$3({jwk:L}),L})}static compressPublicKey($){return __awaiter$17(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256k1$1.ProjectivePoint.fromHex(I).toRawBytes(!0)})}static computePublicKey($){return __awaiter$17(this,arguments,void 0,function*({key:I}){const N=yield fo.privateKeyToBytes({privateKey:I}),L=yield fo.getCurvePoint({keyBytes:N}),B={kty:"EC",crv:"secp256k1",x:Convert$5.uint8Array(L.x).toBase64Url(),y:Convert$5.uint8Array(L.y).toBase64Url()};return B.kid=yield computeJwkThumbprint$3({jwk:B}),B})}static convertDerToCompactSignature($){return __awaiter$17(this,arguments,void 0,function*({derSignature:I}){return secp256k1$1.Signature.fromDER(I).toCompactRawBytes()})}static decompressPublicKey($){return __awaiter$17(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256k1$1.ProjectivePoint.fromHex(I).toRawBytes(!1)})}static generateKey(){return __awaiter$17(this,void 0,void 0,function*(){const $=secp256k1$1.utils.randomPrivateKey(),I=yield fo.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$3({jwk:I}),I})}static getPublicKey($){return __awaiter$17(this,arguments,void 0,function*({key:I}){var N;if(!(isEcPrivateJwk$3(I)&&I.crv==="secp256k1"))throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let{d:L}=I,B=__rest$i(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$3({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$17(this,arguments,void 0,function*({privateKey:I}){if(!isEcPrivateJwk$3(I))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Convert$5.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$17(this,arguments,void 0,function*({publicKey:I}){if(!(isEcPublicJwk$3(I)&&I.y))throw new Error("Secp256k1: The provided key is not a valid EC public key.");const N=new Uint8Array([4]),L=Convert$5.base64Url(I.x).toUint8Array(),B=Convert$5.base64Url(I.y).toUint8Array();return new Uint8Array([...N,...L,...B])})}static sharedSecret($){return __awaiter$17(this,arguments,void 0,function*({privateKeyA:I,publicKeyB:N}){if("x"in I&&"x"in N&&I.x===N.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const L=yield fo.privateKeyToBytes({privateKey:I}),B=yield fo.publicKeyToBytes({publicKey:N});return secp256k1$1.getSharedSecret(L,B,!0).slice(1)})}static sign($){return __awaiter$17(this,arguments,void 0,function*({data:I,key:N}){const L=yield fo.privateKeyToBytes({privateKey:N}),B=sha256$9(I);return secp256k1$1.sign(B,L).toCompactRawBytes()})}static validatePrivateKey($){return __awaiter$17(this,arguments,void 0,function*({privateKeyBytes:I}){return secp256k1$1.utils.isValidPrivateKey(I)})}static validatePublicKey($){return __awaiter$17(this,arguments,void 0,function*({publicKeyBytes:I}){try{secp256k1$1.ProjectivePoint.fromHex(I).assertValidity()}catch{return!1}return!0})}static verify($){return __awaiter$17(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=yield fo.publicKeyToBytes({publicKey:I}),H=sha256$9(L);return secp256k1$1.verify(N,H,B,{lowS:!1})})}static getCurvePoint($){return __awaiter$17(this,arguments,void 0,function*({keyBytes:I}){I.byteLength===32&&(I=secp256k1$1.getPublicKey(I));const N=secp256k1$1.ProjectivePoint.fromHex(I),L=numberToBytesBE(N.x,32),B=numberToBytesBE(N.y,32);return{x:L,y:B}})}};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fp$1=Field(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),CURVE_A=Fp$1.create(BigInt("-3")),CURVE_B=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),p256=createCurve({a:CURVE_A,b:CURVE_B,Fp:Fp$1,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},sha256$8),secp256r1=p256;var __awaiter$16=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$h=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Secp256r1$3=class po{static adjustSignatureToLowS($){return __awaiter$16(this,arguments,void 0,function*({signature:I}){const N=secp256r1.Signature.fromCompact(I);return N.hasHighS()?N.normalizeS().toCompactRawBytes():I})}static bytesToPrivateKey($){return __awaiter$16(this,arguments,void 0,function*({privateKeyBytes:I}){const N=yield po.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"P-256",d:Convert$5.uint8Array(I).toBase64Url(),x:Convert$5.uint8Array(N.x).toBase64Url(),y:Convert$5.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$3({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$16(this,arguments,void 0,function*({publicKeyBytes:I}){const N=yield po.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"P-256",x:Convert$5.uint8Array(N.x).toBase64Url(),y:Convert$5.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$3({jwk:L}),L})}static compressPublicKey($){return __awaiter$16(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256r1.ProjectivePoint.fromHex(I).toRawBytes(!0)})}static computePublicKey($){return __awaiter$16(this,arguments,void 0,function*({key:I}){const N=yield po.privateKeyToBytes({privateKey:I}),L=yield po.getCurvePoint({keyBytes:N}),B={kty:"EC",crv:"P-256",x:Convert$5.uint8Array(L.x).toBase64Url(),y:Convert$5.uint8Array(L.y).toBase64Url()};return B.kid=yield computeJwkThumbprint$3({jwk:B}),B})}static convertDerToCompactSignature($){return __awaiter$16(this,arguments,void 0,function*({derSignature:I}){return secp256r1.Signature.fromDER(I).toCompactRawBytes()})}static decompressPublicKey($){return __awaiter$16(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256r1.ProjectivePoint.fromHex(I).toRawBytes(!1)})}static generateKey(){return __awaiter$16(this,void 0,void 0,function*(){const $=secp256r1.utils.randomPrivateKey(),I=yield po.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$3({jwk:I}),I})}static getPublicKey($){return __awaiter$16(this,arguments,void 0,function*({key:I}){var N;if(!(isEcPrivateJwk$3(I)&&I.crv==="P-256"))throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let{d:L}=I,B=__rest$h(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$3({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$16(this,arguments,void 0,function*({privateKey:I}){if(!isEcPrivateJwk$3(I))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Convert$5.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$16(this,arguments,void 0,function*({publicKey:I}){if(!(isEcPublicJwk$3(I)&&I.y))throw new Error("Secp256r1: The provided key is not a valid EC public key.");const N=new Uint8Array([4]),L=Convert$5.base64Url(I.x).toUint8Array(),B=Convert$5.base64Url(I.y).toUint8Array();return new Uint8Array([...N,...L,...B])})}static sharedSecret($){return __awaiter$16(this,arguments,void 0,function*({privateKeyA:I,publicKeyB:N}){if("x"in I&&"x"in N&&I.x===N.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const L=yield po.privateKeyToBytes({privateKey:I}),B=yield po.publicKeyToBytes({publicKey:N});return secp256r1.getSharedSecret(L,B,!0).slice(1)})}static sign($){return __awaiter$16(this,arguments,void 0,function*({data:I,key:N}){const L=yield po.privateKeyToBytes({privateKey:N}),B=sha256$9(I);return secp256r1.sign(B,L).toCompactRawBytes()})}static validatePrivateKey($){return __awaiter$16(this,arguments,void 0,function*({privateKeyBytes:I}){return secp256r1.utils.isValidPrivateKey(I)})}static validatePublicKey($){return __awaiter$16(this,arguments,void 0,function*({publicKeyBytes:I}){try{secp256r1.ProjectivePoint.fromHex(I).assertValidity()}catch{return!1}return!0})}static verify($){return __awaiter$16(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=yield po.publicKeyToBytes({publicKey:I}),H=sha256$9(L);return secp256r1.verify(N,H,B,{lowS:!1})})}static getCurvePoint($){return __awaiter$16(this,arguments,void 0,function*({keyBytes:I}){I.byteLength===32&&(I=secp256r1.getPublicKey(I));const N=secp256r1.ProjectivePoint.fromHex(I),L=numberToBytesBE(N.x,32),B=numberToBytesBE(N.y,32);return{x:L,y:B}})}};var __awaiter$15=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let EcdsaAlgorithm$3=class extends CryptoAlgorithm$3{computePublicKey($){return __awaiter$15(this,arguments,void 0,function*({key:I}){if(!isEcPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(I.crv){case"secp256k1":{const N=yield Secp256k1$3.computePublicKey({key:I});return N.alg="ES256K",N}case"P-256":{const N=yield Secp256r1$3.computePublicKey({key:I});return N.alg="ES256",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}generateKey($){return __awaiter$15(this,arguments,void 0,function*({algorithm:I}){switch(I){case"ES256K":case"secp256k1":{const N=yield Secp256k1$3.generateKey();return N.alg="ES256K",N}case"ES256":case"secp256r1":{const N=yield Secp256r1$3.generateKey();return N.alg="ES256",N}}})}getPublicKey($){return __awaiter$15(this,arguments,void 0,function*({key:I}){if(!isEcPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(I.crv){case"secp256k1":{const N=yield Secp256k1$3.getPublicKey({key:I});return N.alg="ES256K",N}case"P-256":{const N=yield Secp256r1$3.getPublicKey({key:I});return N.alg="ES256",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}sign($){return __awaiter$15(this,arguments,void 0,function*({key:I,data:N}){if(!isEcPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(I.crv){case"secp256k1":return yield Secp256k1$3.sign({key:I,data:N});case"P-256":return yield Secp256r1$3.sign({key:I,data:N});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}verify($){return __awaiter$15(this,arguments,void 0,function*({key:I,signature:N,data:L}){if(!isEcPublicJwk$3(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(I.crv){case"secp256k1":return yield Secp256k1$3.verify({key:I,signature:N,data:L});case"P-256":return yield Secp256r1$3.verify({key:I,signature:N,data:L});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}};const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(T,$=!1){return $?{h:Number(T&U32_MASK64),l:Number(T>>_32n&U32_MASK64)}:{h:Number(T>>_32n&U32_MASK64)|0,l:Number(T&U32_MASK64)|0}}function split(T,$=!1){let I=new Uint32Array(T.length),N=new Uint32Array(T.length);for(let L=0;L<T.length;L++){const{h:B,l:H}=fromBig(T[L],$);[I[L],N[L]]=[B,H]}return[I,N]}const toBig=(T,$)=>BigInt(T>>>0)<<_32n|BigInt($>>>0),shrSH=(T,$,I)=>T>>>I,shrSL=(T,$,I)=>T<<32-I|$>>>I,rotrSH=(T,$,I)=>T>>>I|$<<32-I,rotrSL=(T,$,I)=>T<<32-I|$>>>I,rotrBH=(T,$,I)=>T<<64-I|$>>>I-32,rotrBL=(T,$,I)=>T>>>I-32|$<<64-I,rotr32H=(T,$)=>$,rotr32L=(T,$)=>T,rotlSH=(T,$,I)=>T<<I|$>>>32-I,rotlSL=(T,$,I)=>$<<I|T>>>32-I,rotlBH=(T,$,I)=>$<<I-32|T>>>64-I,rotlBL=(T,$,I)=>T<<I-32|$>>>64-I;function add(T,$,I,N){const L=($>>>0)+(N>>>0);return{h:T+I+(L/2**32|0)|0,l:L|0}}const add3L=(T,$,I)=>(T>>>0)+($>>>0)+(I>>>0),add3H=(T,$,I,N)=>$+I+N+(T/2**32|0)|0,add4L=(T,$,I,N)=>(T>>>0)+($>>>0)+(I>>>0)+(N>>>0),add4H=(T,$,I,N,L)=>$+I+N+L+(T/2**32|0)|0,add5L=(T,$,I,N,L)=>(T>>>0)+($>>>0)+(I>>>0)+(N>>>0)+(L>>>0),add5H=(T,$,I,N,L,B)=>$+I+N+L+B+(T/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(T=>BigInt(T))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);let SHA512$3=class extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:$,Al:I,Bh:N,Bl:L,Ch:B,Cl:H,Dh:z,Dl:Q,Eh:te,El:G,Fh:ie,Fl:Re,Gh:$e,Gl:Pe,Hh:Me,Hl:Be}=this;return[$,I,N,L,B,H,z,Q,te,G,ie,Re,$e,Pe,Me,Be]}set($,I,N,L,B,H,z,Q,te,G,ie,Re,$e,Pe,Me,Be){this.Ah=$|0,this.Al=I|0,this.Bh=N|0,this.Bl=L|0,this.Ch=B|0,this.Cl=H|0,this.Dh=z|0,this.Dl=Q|0,this.Eh=te|0,this.El=G|0,this.Fh=ie|0,this.Fl=Re|0,this.Gh=$e|0,this.Gl=Pe|0,this.Hh=Me|0,this.Hl=Be|0}process($,I){for(let qe=0;qe<16;qe++,I+=4)SHA512_W_H[qe]=$.getUint32(I),SHA512_W_L[qe]=$.getUint32(I+=4);for(let qe=16;qe<80;qe++){const He=SHA512_W_H[qe-15]|0,Ge=SHA512_W_L[qe-15]|0,at=u64.rotrSH(He,Ge,1)^u64.rotrSH(He,Ge,8)^u64.shrSH(He,Ge,7),ot=u64.rotrSL(He,Ge,1)^u64.rotrSL(He,Ge,8)^u64.shrSL(He,Ge,7),Ye=SHA512_W_H[qe-2]|0,nt=SHA512_W_L[qe-2]|0,Qe=u64.rotrSH(Ye,nt,19)^u64.rotrBH(Ye,nt,61)^u64.shrSH(Ye,nt,6),tt=u64.rotrSL(Ye,nt,19)^u64.rotrBL(Ye,nt,61)^u64.shrSL(Ye,nt,6),ze=u64.add4L(ot,tt,SHA512_W_L[qe-7],SHA512_W_L[qe-16]),Fe=u64.add4H(ze,at,Qe,SHA512_W_H[qe-7],SHA512_W_H[qe-16]);SHA512_W_H[qe]=Fe|0,SHA512_W_L[qe]=ze|0}let{Ah:N,Al:L,Bh:B,Bl:H,Ch:z,Cl:Q,Dh:te,Dl:G,Eh:ie,El:Re,Fh:$e,Fl:Pe,Gh:Me,Gl:Be,Hh:Ke,Hl:Le}=this;for(let qe=0;qe<80;qe++){const He=u64.rotrSH(ie,Re,14)^u64.rotrSH(ie,Re,18)^u64.rotrBH(ie,Re,41),Ge=u64.rotrSL(ie,Re,14)^u64.rotrSL(ie,Re,18)^u64.rotrBL(ie,Re,41),at=ie&$e^~ie&Me,ot=Re&Pe^~Re&Be,Ye=u64.add5L(Le,Ge,ot,SHA512_Kl[qe],SHA512_W_L[qe]),nt=u64.add5H(Ye,Ke,He,at,SHA512_Kh[qe],SHA512_W_H[qe]),Qe=Ye|0,tt=u64.rotrSH(N,L,28)^u64.rotrBH(N,L,34)^u64.rotrBH(N,L,39),ze=u64.rotrSL(N,L,28)^u64.rotrBL(N,L,34)^u64.rotrBL(N,L,39),Fe=N&B^N&z^B&z,ke=L&H^L&Q^H&Q;Ke=Me|0,Le=Be|0,Me=$e|0,Be=Pe|0,$e=ie|0,Pe=Re|0,{h:ie,l:Re}=u64.add(te|0,G|0,nt|0,Qe|0),te=z|0,G=Q|0,z=B|0,Q=H|0,B=N|0,H=L|0;const Ue=u64.add3L(Qe,ze,ke);N=u64.add3H(Ue,nt,tt,Fe),L=Ue|0}({h:N,l:L}=u64.add(this.Ah|0,this.Al|0,N|0,L|0)),{h:B,l:H}=u64.add(this.Bh|0,this.Bl|0,B|0,H|0),{h:z,l:Q}=u64.add(this.Ch|0,this.Cl|0,z|0,Q|0),{h:te,l:G}=u64.add(this.Dh|0,this.Dl|0,te|0,G|0),{h:ie,l:Re}=u64.add(this.Eh|0,this.El|0,ie|0,Re|0),{h:$e,l:Pe}=u64.add(this.Fh|0,this.Fl|0,$e|0,Pe|0),{h:Me,l:Be}=u64.add(this.Gh|0,this.Gl|0,Me|0,Be|0),{h:Ke,l:Le}=u64.add(this.Hh|0,this.Hl|0,Ke|0,Le|0),this.set(N,L,B,H,z,Q,te,G,ie,Re,$e,Pe,Me,Be,Ke,Le)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const sha512$6=wrapConstructor$1(()=>new SHA512$3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1),_2n$1=BigInt(2),_8n=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(T){const $=validateBasic(T);return validateObject$c(T,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...$})}function twistedEdwards(T){const $=validateOpts$1(T),{Fp:I,n:N,prehash:L,hash:B,randomBytes:H,nByteLength:z,h:Q}=$,te=_2n$1<<BigInt(z*8)-_1n$2,G=I.create,ie=$.uvRatio||((Xe,it)=>{try{return{isValid:!0,value:I.sqrt(Xe*I.inv(it))}}catch{return{isValid:!1,value:_0n$1}}}),Re=$.adjustScalarBytes||(Xe=>Xe),$e=$.domain||((Xe,it,We)=>{if(it.length||We)throw new Error("Contexts/pre-hash are not supported");return Xe}),Pe=Xe=>typeof Xe=="bigint"&&_0n$1<Xe,Me=(Xe,it)=>Pe(Xe)&&Pe(it)&&Xe<it,Be=Xe=>Xe===_0n$1||Me(Xe,te);function Ke(Xe,it){if(Me(Xe,it))return Xe;throw new Error(`Expected valid scalar < ${it}, got ${typeof Xe} ${Xe}`)}function Le(Xe){return Xe===_0n$1?Xe:Ke(Xe,N)}const qe=new Map;function He(Xe){if(!(Xe instanceof Ge))throw new Error("ExtendedPoint expected")}class Ge{constructor(it,We,Ve,je){if(this.ex=it,this.ey=We,this.ez=Ve,this.et=je,!Be(it))throw new Error("x required");if(!Be(We))throw new Error("y required");if(!Be(Ve))throw new Error("z required");if(!Be(je))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(it){if(it instanceof Ge)throw new Error("extended point not allowed");const{x:We,y:Ve}=it||{};if(!Be(We)||!Be(Ve))throw new Error("invalid affine point");return new Ge(We,Ve,_1n$2,G(We*Ve))}static normalizeZ(it){const We=I.invertBatch(it.map(Ve=>Ve.ez));return it.map((Ve,je)=>Ve.toAffine(We[je])).map(Ge.fromAffine)}_setWindowSize(it){this._WINDOW_SIZE=it,qe.delete(this)}assertValidity(){const{a:it,d:We}=$;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ve,ey:je,ez:Ze,et:st}=this,dt=G(Ve*Ve),bt=G(je*je),vt=G(Ze*Ze),St=G(vt*vt),Bt=G(dt*it),Gt=G(vt*G(Bt+bt)),Dt=G(St+G(We*G(dt*bt)));if(Gt!==Dt)throw new Error("bad point: equation left != right (1)");const Mt=G(Ve*je),pt=G(Ze*st);if(Mt!==pt)throw new Error("bad point: equation left != right (2)")}equals(it){He(it);const{ex:We,ey:Ve,ez:je}=this,{ex:Ze,ey:st,ez:dt}=it,bt=G(We*dt),vt=G(Ze*je),St=G(Ve*dt),Bt=G(st*je);return bt===vt&&St===Bt}is0(){return this.equals(Ge.ZERO)}negate(){return new Ge(G(-this.ex),this.ey,this.ez,G(-this.et))}double(){const{a:it}=$,{ex:We,ey:Ve,ez:je}=this,Ze=G(We*We),st=G(Ve*Ve),dt=G(_2n$1*G(je*je)),bt=G(it*Ze),vt=We+Ve,St=G(G(vt*vt)-Ze-st),Bt=bt+st,Gt=Bt-dt,Dt=bt-st,Mt=G(St*Gt),pt=G(Bt*Dt),mt=G(St*Dt),$t=G(Gt*Bt);return new Ge(Mt,pt,$t,mt)}add(it){He(it);const{a:We,d:Ve}=$,{ex:je,ey:Ze,ez:st,et:dt}=this,{ex:bt,ey:vt,ez:St,et:Bt}=it;if(We===BigInt(-1)){const br=G((Ze-je)*(vt+bt)),cr=G((Ze+je)*(vt-bt)),pr=G(cr-br);if(pr===_0n$1)return this.double();const lt=G(st*_2n$1*Bt),ct=G(dt*_2n$1*St),Nt=ct+lt,jt=cr+br,zt=ct-lt,Ot=G(Nt*pr),Rt=G(jt*zt),It=G(Nt*zt),Kt=G(pr*jt);return new Ge(Ot,Rt,Kt,It)}const Gt=G(je*bt),Dt=G(Ze*vt),Mt=G(dt*Ve*Bt),pt=G(st*St),mt=G((je+Ze)*(bt+vt)-Gt-Dt),$t=pt-Mt,kt=pt+Mt,Ft=G(Dt-We*Gt),nr=G(mt*$t),Yt=G(kt*Ft),yr=G(mt*Ft),gr=G($t*kt);return new Ge(nr,Yt,gr,yr)}subtract(it){return this.add(it.negate())}wNAF(it){return Ye.wNAFCached(this,qe,it,Ge.normalizeZ)}multiply(it){const{p:We,f:Ve}=this.wNAF(Ke(it,N));return Ge.normalizeZ([We,Ve])[0]}multiplyUnsafe(it){let We=Le(it);return We===_0n$1?ot:this.equals(ot)||We===_1n$2?this:this.equals(at)?this.wNAF(We).p:Ye.unsafeLadder(this,We)}isSmallOrder(){return this.multiplyUnsafe(Q).is0()}isTorsionFree(){return Ye.unsafeLadder(this,N).is0()}toAffine(it){const{ex:We,ey:Ve,ez:je}=this,Ze=this.is0();it==null&&(it=Ze?_8n:I.inv(je));const st=G(We*it),dt=G(Ve*it),bt=G(je*it);if(Ze)return{x:_0n$1,y:_1n$2};if(bt!==_1n$2)throw new Error("invZ was invalid");return{x:st,y:dt}}clearCofactor(){const{h:it}=$;return it===_1n$2?this:this.multiplyUnsafe(it)}static fromHex(it,We=!1){const{d:Ve,a:je}=$,Ze=I.BYTES;it=ensureBytes$1("pointHex",it,Ze);const st=it.slice(),dt=it[Ze-1];st[Ze-1]=dt&-129;const bt=bytesToNumberLE(st);bt===_0n$1||(We?Ke(bt,te):Ke(bt,I.ORDER));const vt=G(bt*bt),St=G(vt-_1n$2),Bt=G(Ve*vt-je);let{isValid:Gt,value:Dt}=ie(St,Bt);if(!Gt)throw new Error("Point.fromHex: invalid y coordinate");const Mt=(Dt&_1n$2)===_1n$2,pt=(dt&128)!==0;if(!We&&Dt===_0n$1&&pt)throw new Error("Point.fromHex: x=0 and x_0=1");return pt!==Mt&&(Dt=G(-Dt)),Ge.fromAffine({x:Dt,y:bt})}static fromPrivateKey(it){return tt(it).point}toRawBytes(){const{x:it,y:We}=this.toAffine(),Ve=numberToBytesLE(We,I.BYTES);return Ve[Ve.length-1]|=it&_1n$2?128:0,Ve}toHex(){return bytesToHex(this.toRawBytes())}}Ge.BASE=new Ge($.Gx,$.Gy,_1n$2,G($.Gx*$.Gy)),Ge.ZERO=new Ge(_0n$1,_1n$2,_1n$2,_0n$1);const{BASE:at,ZERO:ot}=Ge,Ye=wNAF(Ge,z*8);function nt(Xe){return mod(Xe,N)}function Qe(Xe){return nt(bytesToNumberLE(Xe))}function tt(Xe){const it=z;Xe=ensureBytes$1("private key",Xe,it);const We=ensureBytes$1("hashed private key",B(Xe),2*it),Ve=Re(We.slice(0,it)),je=We.slice(it,2*it),Ze=Qe(Ve),st=at.multiply(Ze),dt=st.toRawBytes();return{head:Ve,prefix:je,scalar:Ze,point:st,pointBytes:dt}}function ze(Xe){return tt(Xe).pointBytes}function Fe(Xe=new Uint8Array,...it){const We=concatBytes(...it);return Qe(B($e(We,ensureBytes$1("context",Xe),!!L)))}function ke(Xe,it,We={}){Xe=ensureBytes$1("message",Xe),L&&(Xe=L(Xe));const{prefix:Ve,scalar:je,pointBytes:Ze}=tt(it),st=Fe(We.context,Ve,Xe),dt=at.multiply(st).toRawBytes(),bt=Fe(We.context,dt,Ze,Xe),vt=nt(st+bt*je);Le(vt);const St=concatBytes(dt,numberToBytesLE(vt,I.BYTES));return ensureBytes$1("result",St,z*2)}const Ue=VERIFY_DEFAULT;function Je(Xe,it,We,Ve=Ue){const{context:je,zip215:Ze}=Ve,st=I.BYTES;Xe=ensureBytes$1("signature",Xe,2*st),it=ensureBytes$1("message",it),L&&(it=L(it));const dt=bytesToNumberLE(Xe.slice(st,2*st));let bt,vt,St;try{bt=Ge.fromHex(We,Ze),vt=Ge.fromHex(Xe.slice(0,st),Ze),St=at.multiplyUnsafe(dt)}catch{return!1}if(!Ze&&bt.isSmallOrder())return!1;const Bt=Fe(je,vt.toRawBytes(),bt.toRawBytes(),it);return vt.add(bt.multiplyUnsafe(Bt)).subtract(St).clearCofactor().equals(Ge.ZERO)}return at._setWindowSize(8),{CURVE:$,getPublicKey:ze,sign:ke,verify:Je,ExtendedPoint:Ge,utils:{getExtendedPublicKey:tt,randomPrivateKey:()=>H(I.BYTES),precompute(Xe=8,it=Ge.BASE){return it._setWindowSize(Xe),it.multiply(BigInt(3)),it}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n$1=BigInt(1);function validateOpts(T){return validateObject$c(T,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...T})}function montgomery(T){const $=validateOpts(T),{P:I}=$,N=qe=>mod(qe,I),L=$.montgomeryBits,B=Math.ceil(L/8),H=$.nByteLength,z=$.adjustScalarBytes||(qe=>qe),Q=$.powPminus2||(qe=>pow$4(qe,I-BigInt(2),I));function te(qe,He,Ge){const at=N(qe*(He-Ge));return He=N(He-at),Ge=N(Ge+at),[He,Ge]}function G(qe){if(typeof qe=="bigint"&&_0n<=qe&&qe<I)return qe;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const ie=($.a-BigInt(2))/BigInt(4);function Re(qe,He){const Ge=G(qe),at=G(He),ot=Ge;let Ye=_1n$1,nt=_0n,Qe=Ge,tt=_1n$1,ze=_0n,Fe;for(let Ue=BigInt(L-1);Ue>=_0n;Ue--){const Je=at>>Ue&_1n$1;ze^=Je,Fe=te(ze,Ye,Qe),Ye=Fe[0],Qe=Fe[1],Fe=te(ze,nt,tt),nt=Fe[0],tt=Fe[1],ze=Je;const rt=Ye+nt,Xe=N(rt*rt),it=Ye-nt,We=N(it*it),Ve=Xe-We,je=Qe+tt,Ze=Qe-tt,st=N(Ze*rt),dt=N(je*it),bt=st+dt,vt=st-dt;Qe=N(bt*bt),tt=N(ot*N(vt*vt)),Ye=N(Xe*We),nt=N(Ve*(Xe+N(ie*Ve)))}Fe=te(ze,Ye,Qe),Ye=Fe[0],Qe=Fe[1],Fe=te(ze,nt,tt),nt=Fe[0],tt=Fe[1];const ke=Q(nt);return N(Ye*ke)}function $e(qe){return numberToBytesLE(N(qe),B)}function Pe(qe){const He=ensureBytes$1("u coordinate",qe,B);return H===32&&(He[31]&=127),bytesToNumberLE(He)}function Me(qe){const He=ensureBytes$1("scalar",qe),Ge=He.length;if(Ge!==B&&Ge!==H)throw new Error(`Expected ${B} or ${H} bytes, got ${Ge}`);return bytesToNumberLE(z(He))}function Be(qe,He){const Ge=Pe(He),at=Me(qe),ot=Re(Ge,at);if(ot===_0n)throw new Error("Invalid private or public key received");return $e(ot)}const Ke=$e($.Gu);function Le(qe){return Be(qe,Ke)}return{scalarMult:Be,scalarMultBase:Le,getSharedSecret:(qe,He)=>Be(qe,He),getPublicKey:qe=>Le(qe),utils:{randomPrivateKey:()=>$.randomBytes($.nByteLength)},GuBytes:Ke}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n=BigInt(1),_2n=BigInt(2),_5n=BigInt(5),_10n=BigInt(10),_20n=BigInt(20),_40n=BigInt(40),_80n=BigInt(80);function ed25519_pow_2_252_3(T){const $=ED25519_P,N=T*T%$*T%$,L=pow2(N,_2n,$)*N%$,B=pow2(L,_1n,$)*T%$,H=pow2(B,_5n,$)*B%$,z=pow2(H,_10n,$)*H%$,Q=pow2(z,_20n,$)*z%$,te=pow2(Q,_40n,$)*Q%$,G=pow2(te,_80n,$)*te%$,ie=pow2(G,_80n,$)*te%$,Re=pow2(ie,_10n,$)*H%$;return{pow_p_5_8:pow2(Re,_2n,$)*T%$,b2:N}}function adjustScalarBytes(T){return T[0]&=248,T[31]&=127,T[31]|=64,T}function uvRatio(T,$){const I=ED25519_P,N=mod($*$*$,I),L=mod(N*N*$,I),B=ed25519_pow_2_252_3(T*L).pow_p_5_8;let H=mod(T*N*B,I);const z=mod($*H*H,I),Q=H,te=mod(H*ED25519_SQRT_M1,I),G=z===T,ie=z===mod(-T,I),Re=z===mod(-T*ED25519_SQRT_M1,I);return G&&(H=Q),(ie||Re)&&(H=te),isNegativeLE(H,I)&&(H=mod(-H,I)),{isValid:G||ie,value:H}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$6,randomBytes:randomBytes$2,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);function ed25519_domain(T,$,I){if($.length>255)throw new Error("Context is too big");return concatBytes$1(utf8ToBytes$3("SigEd25519 no Ed25519 collisions"),new Uint8Array([I?1:0,$.length]),$,T)}({...ed25519Defaults});({...ed25519Defaults});const x25519=montgomery({P:ED25519_P,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:T=>{const $=ED25519_P,{pow_p_5_8:I,b2:N}=ed25519_pow_2_252_3(T);return mod(pow2(I,BigInt(3),$)*N,$)},adjustScalarBytes,randomBytes:randomBytes$2});function edwardsToMontgomeryPub(T){const{y:$}=ed25519.ExtendedPoint.fromHex(T),I=BigInt(1);return Fp.toBytes(Fp.create((I+$)*Fp.inv(I-$)))}function edwardsToMontgomeryPriv(T){const $=ed25519Defaults.hash(T.subarray(0,32));return ed25519Defaults.adjustScalarBytes($).subarray(0,32)}const ELL2_C1=(Fp.ORDER+BigInt(3))/BigInt(8);Fp.pow(_2n,ELL2_C1);Fp.sqrt(Fp.neg(Fp.ONE));(Fp.ORDER-BigInt(5))/BigInt(8);BigInt(486662);FpSqrtEven(Fp,Fp.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var __awaiter$14=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$g=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Ed25519$3=class Xo{static bytesToPrivateKey($){return __awaiter$14(this,arguments,void 0,function*({privateKeyBytes:I}){const N=ed25519.getPublicKey(I),L={crv:"Ed25519",d:Convert$5.uint8Array(I).toBase64Url(),kty:"OKP",x:Convert$5.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint$3({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$14(this,arguments,void 0,function*({publicKeyBytes:I}){const N={kty:"OKP",crv:"Ed25519",x:Convert$5.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint$3({jwk:N}),N})}static computePublicKey($){return __awaiter$14(this,arguments,void 0,function*({key:I}){const N=yield Xo.privateKeyToBytes({privateKey:I}),L=ed25519.getPublicKey(N),B={kty:"OKP",crv:"Ed25519",x:Convert$5.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint$3({jwk:B}),B})}static convertPrivateKeyToX25519($){return __awaiter$14(this,arguments,void 0,function*({privateKey:I}){const N=yield Xo.privateKeyToBytes({privateKey:I}),L=edwardsToMontgomeryPriv(N),B=x25519.getPublicKey(L),H={kty:"OKP",crv:"X25519",d:Convert$5.uint8Array(L).toBase64Url(),x:Convert$5.uint8Array(B).toBase64Url()};return H.kid=yield computeJwkThumbprint$3({jwk:H}),H})}static convertPublicKeyToX25519($){return __awaiter$14(this,arguments,void 0,function*({publicKey:I}){const N=yield Xo.publicKeyToBytes({publicKey:I});if(!(yield Xo.validatePublicKey({publicKeyBytes:N})))throw new Error("Ed25519: Invalid public key.");const B=edwardsToMontgomeryPub(N),H={kty:"OKP",crv:"X25519",x:Convert$5.uint8Array(B).toBase64Url()};return H.kid=yield computeJwkThumbprint$3({jwk:H}),H})}static generateKey(){return __awaiter$14(this,void 0,void 0,function*(){const $=ed25519.utils.randomPrivateKey(),I=yield Xo.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$3({jwk:I}),I})}static getPublicKey($){return __awaiter$14(this,arguments,void 0,function*({key:I}){var N;if(!(isOkpPrivateJwk$3(I)&&I.crv==="Ed25519"))throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let{d:L}=I,B=__rest$g(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$3({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$14(this,arguments,void 0,function*({privateKey:I}){if(!isOkpPrivateJwk$3(I))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Convert$5.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$14(this,arguments,void 0,function*({publicKey:I}){if(!isOkpPublicJwk$3(I))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Convert$5.base64Url(I.x).toUint8Array()})}static sign($){return __awaiter$14(this,arguments,void 0,function*({key:I,data:N}){const L=yield Xo.privateKeyToBytes({privateKey:I});return ed25519.sign(N,L)})}static validatePublicKey($){return __awaiter$14(this,arguments,void 0,function*({publicKeyBytes:I}){try{ed25519.ExtendedPoint.fromHex(I).assertValidity()}catch{return!1}return!0})}static verify($){return __awaiter$14(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=yield Xo.publicKeyToBytes({publicKey:I});return ed25519.verify(N,L,B)})}};var __awaiter$13=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let EdDsaAlgorithm$3=class extends CryptoAlgorithm$3{computePublicKey($){return __awaiter$13(this,arguments,void 0,function*({key:I}){if(!isOkpPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch(I.crv){case"Ed25519":{const N=yield Ed25519$3.computePublicKey({key:I});return N.alg="EdDSA",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}generateKey($){return __awaiter$13(this,arguments,void 0,function*({algorithm:I}){switch(I){case"Ed25519":{const N=yield Ed25519$3.generateKey();return N.alg="EdDSA",N}}})}getPublicKey($){return __awaiter$13(this,arguments,void 0,function*({key:I}){if(!isOkpPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch(I.crv){case"Ed25519":{const N=yield Ed25519$3.getPublicKey({key:I});return N.alg="EdDSA",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}sign($){return __awaiter$13(this,arguments,void 0,function*({key:I,data:N}){if(!isOkpPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch(I.crv){case"Ed25519":return yield Ed25519$3.sign({key:I,data:N});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}verify($){return __awaiter$13(this,arguments,void 0,function*({key:I,signature:N,data:L}){if(!isOkpPublicJwk$3(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");switch(I.crv){case"Ed25519":return yield Ed25519$3.verify({key:I,signature:N,data:L});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}};var __awaiter$12=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};const supportedAlgorithms$3={Ed25519:{implementation:EdDsaAlgorithm$3,names:["Ed25519"]},secp256k1:{implementation:EcdsaAlgorithm$3,names:["ES256K","secp256k1"]},secp256r1:{implementation:EcdsaAlgorithm$3,names:["ES256","secp256r1"]},"SHA-256":{implementation:Sha2Algorithm$3,names:["SHA-256"]}};let LocalKeyManager$3=class{constructor($){var I;this._algorithmInstances=new Map,this._keyStore=(I=$==null?void 0:$.keyStore)!==null&&I!==void 0?I:new MemoryStore$3}digest($){return __awaiter$12(this,arguments,void 0,function*({algorithm:I,data:N}){return yield this.getAlgorithm({algorithm:I}).digest({algorithm:I,data:N})})}exportKey($){return __awaiter$12(this,arguments,void 0,function*({keyUri:I}){return yield this.getPrivateKey({keyUri:I})})}generateKey($){return __awaiter$12(this,arguments,void 0,function*({algorithm:I}){const L=yield this.getAlgorithm({algorithm:I}).generateKey({algorithm:I});if((L==null?void 0:L.kid)===void 0)throw new Error("Generated key is missing a required property: kid");const B=`${KEY_URI_PREFIX_JWK$3}${L.kid}`;return yield this._keyStore.set(B,L),B})}getKeyUri($){return __awaiter$12(this,arguments,void 0,function*({key:I}){const N=yield computeJwkThumbprint$3({jwk:I});return`${KEY_URI_PREFIX_JWK$3}${N}`})}getPublicKey($){return __awaiter$12(this,arguments,void 0,function*({keyUri:I}){const N=yield this.getPrivateKey({keyUri:I}),L=this.getAlgorithmName({key:N});return yield this.getAlgorithm({algorithm:L}).getPublicKey({key:N})})}importKey($){return __awaiter$12(this,arguments,void 0,function*({key:I}){var N;if(!isPrivateJwk$3(I))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const L=structuredClone(I);(N=L.kid)!==null&&N!==void 0||(L.kid=yield computeJwkThumbprint$3({jwk:L}));const B=yield this.getKeyUri({key:L});return yield this._keyStore.set(B,L),B})}sign($){return __awaiter$12(this,arguments,void 0,function*({keyUri:I,data:N}){const L=yield this.getPrivateKey({keyUri:I}),B=this.getAlgorithmName({key:L});return this.getAlgorithm({algorithm:B}).sign({data:N,key:L})})}verify($){return __awaiter$12(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=this.getAlgorithmName({key:I});return this.getAlgorithm({algorithm:B}).verify({key:I,signature:N,data:L})})}getAlgorithm({algorithm:$}){var I;const N=(I=supportedAlgorithms$3[$])===null||I===void 0?void 0:I.implementation;if(!N)throw new Error(`Algorithm not supported: ${$}`);return this._algorithmInstances.has(N)||this._algorithmInstances.set(N,new N),this._algorithmInstances.get(N)}getAlgorithmName({key:$}){const I=$.alg,N=$.crv;for(const L in supportedAlgorithms$3){const B=supportedAlgorithms$3[L];if(I&&B.names.includes(I))return L;if(N&&B.names.includes(N))return L}throw new Error(`Unable to determine algorithm based on provided input: alg=${I}, crv=${N}`)}getPrivateKey($){return __awaiter$12(this,arguments,void 0,function*({keyUri:I}){const N=yield this._keyStore.get(I);if(!N)throw new Error(`Key not found: ${I}`);return N})}};class CryptoUtils{static getJoseSignatureAlgorithmFromPublicKey($){const I={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if($.alg&&Object.values(I).includes($.alg))return $.alg;if($.crv&&Object.keys(I).includes($.crv))return I[$.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${$.alg}, crv=${$.crv}. Supported 'alg' values: ${Object.values(I).join(", ")}. Supported 'crv' values: ${Object.keys(I).join(", ")}.`)}static randomBytes($){return randomBytes$3($)}static randomUuid(){return crypto$5.randomUUID()}static randomPin({length:$}){if(3>$||$>10)throw new Error("randomPin() can securely generate a PIN between 3 to 10 digits.");const I=Math.pow(10,$)-1;let N;if($<=6){const L=Math.pow(10,$);do{const B=CryptoUtils.randomBytes(Math.ceil($/2));N=new DataView(B.buffer).getUint16(0,!1)%L}while(N>I)}else{const L=Math.pow(10,10);do{const B=CryptoUtils.randomBytes(4);N=new DataView(B.buffer).getUint32(0,!1)%L}while(N>I)}return N.toString().padStart($,"0")}}var __awaiter$11=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$f=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let X25519$2=class Ns{static bytesToPrivateKey($){return __awaiter$11(this,arguments,void 0,function*({privateKeyBytes:I}){const N=x25519.getPublicKey(I),L={kty:"OKP",crv:"X25519",d:Convert$5.uint8Array(I).toBase64Url(),x:Convert$5.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint$3({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$11(this,arguments,void 0,function*({publicKeyBytes:I}){const N={kty:"OKP",crv:"X25519",x:Convert$5.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint$3({jwk:N}),N})}static computePublicKey($){return __awaiter$11(this,arguments,void 0,function*({key:I}){const N=yield Ns.privateKeyToBytes({privateKey:I}),L=x25519.getPublicKey(N),B={kty:"OKP",crv:"X25519",x:Convert$5.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint$3({jwk:B}),B})}static generateKey(){return __awaiter$11(this,void 0,void 0,function*(){const $=x25519.utils.randomPrivateKey(),I=yield Ns.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$3({jwk:I}),I})}static getPublicKey($){return __awaiter$11(this,arguments,void 0,function*({key:I}){var N;if(!(isOkpPrivateJwk$3(I)&&I.crv==="X25519"))throw new Error("X25519: The provided key is not an X25519 private JWK.");let{d:L}=I,B=__rest$f(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$3({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$11(this,arguments,void 0,function*({privateKey:I}){if(!isOkpPrivateJwk$3(I))throw new Error("X25519: The provided key is not a valid OKP private key.");return Convert$5.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$11(this,arguments,void 0,function*({publicKey:I}){if(!isOkpPublicJwk$3(I))throw new Error("X25519: The provided key is not a valid OKP public key.");return Convert$5.base64Url(I.x).toUint8Array()})}static sharedSecret($){return __awaiter$11(this,arguments,void 0,function*({privateKeyA:I,publicKeyB:N}){if("x"in I&&"x"in N&&I.x===N.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const L=yield Ns.privateKeyToBytes({privateKey:I}),B=yield Ns.publicKeyToBytes({publicKey:N});return x25519.getSharedSecret(L,B)})}};function extractDidFragment$2(T){if(typeof T=="string"&&T.length!==0)return T.split("#").pop()}function getVerificationMethods$2({didDocument:T}){var $,I;if(!T)throw new TypeError("Required parameter missing: 'didDocument'");const N=[];return N.push(...(I=($=T.verificationMethod)===null||$===void 0?void 0:$.filter(isDidVerificationMethod$2))!==null&&I!==void 0?I:[]),Object.keys(DidVerificationRelationship$3).forEach(L=>{var B,H;N.push(...(H=(B=T[L])===null||B===void 0?void 0:B.filter(isDidVerificationMethod$2))!==null&&H!==void 0?H:[])}),N}function getVerificationMethodTypes$2({didDocument:T}){const I=getVerificationMethods$2({didDocument:T}).map(N=>N.type);return[...new Set(I)]}function getVerificationRelationshipsById$2({didDocument:T,methodId:$}){const I=[];return Object.keys(DidVerificationRelationship$3).forEach(N=>{if(Array.isArray(T[N])){const L=T[N],B=extractDidFragment$2($);L.some(z=>{const Q=extractDidFragment$2(z)===B,te=isDidVerificationMethod$2(z)&&extractDidFragment$2(z.id)===B;return Q||te})&&I.push(N)}}),I}function isDidVerificationMethod$2(T){return!(!T||typeof T!="object"||T===null||!("id"in T&&"type"in T&&"controller"in T)||typeof T.id!="string"||typeof T.type!="string"||typeof T.controller!="string")}function keyBytesToMultibaseId$2({keyBytes:T,multicodecCode:$,multicodecName:I}){const N=Multicodec$6.addPrefix({code:$,data:T,name:I}),L=Convert$5.uint8Array(N).toBase58Btc();return Convert$5.base58Btc(L).toMultibase()}function multibaseIdToKeyBytes$2({multibaseKeyId:T}){try{const $=Convert$5.multibase(T).toBase58Btc(),I=Convert$5.base58Btc($).toUint8Array(),{code:N,data:L,name:B}=Multicodec$6.removePrefix({prefixedData:I});return{keyBytes:L,multicodecCode:N,multicodecName:B}}catch{throw new DidError$2(DidErrorCode$3.InvalidDid,`Invalid multibase identifier: ${T}`)}}var __awaiter$10=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let BearerDid$2=class Nf{constructor({uri:$,document:I,metadata:N,keyManager:L}){this.uri=$,this.document=I,this.metadata=N,this.keyManager=L}export(){return __awaiter$10(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let $=JSON.parse(JSON.stringify({uri:this.uri,document:this.document,metadata:this.metadata}));if("exportKey"in this.keyManager&&typeof this.keyManager.exportKey=="function"){const I=[];for(let N of this.document.verificationMethod){if(!N.publicKeyJwk)throw new Error(`Verification method '${N.id}' does not contain a public key in JWK format`);const L=yield this.keyManager.getKeyUri({key:N.publicKeyJwk}),B=yield this.keyManager.exportKey({keyUri:L});I.push(Object.assign({},B))}$.privateKeys=I}return $})}getSigner($){return __awaiter$10(this,void 0,void 0,function*(){var I;const N=(I=this.document.verificationMethod)===null||I===void 0?void 0:I.find(Q=>{var te,G;return extractDidFragment$2(Q.id)===((te=extractDidFragment$2($==null?void 0:$.methodId))!==null&&te!==void 0?te:extractDidFragment$2((G=this.document.assertionMethod)===null||G===void 0?void 0:G[0]))});if(!(N&&N.publicKeyJwk))throw new DidError$2(DidErrorCode$3.InternalError,"A verification method intended for signing could not be determined from the DID Document");const L=yield this.keyManager.getKeyUri({key:N.publicKeyJwk}),B=yield this.keyManager.getPublicKey({keyUri:L}),H=this.keyManager;return{algorithm:CryptoUtils.getJoseSignatureAlgorithmFromPublicKey(B),keyId:N.id,sign(Q){return __awaiter$10(this,arguments,void 0,function*({data:te}){return yield H.sign({data:te,keyUri:L})})},verify(Q){return __awaiter$10(this,arguments,void 0,function*({data:te,signature:G}){return yield H.verify({data:te,key:B,signature:G})})}}})}static import($){return __awaiter$10(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$3}){var L;const B=getVerificationMethods$2({didDocument:I.document});if(B.length===0)throw new DidError$2(DidErrorCode$3.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let z of(L=I.privateKeys)!==null&&L!==void 0?L:[]){const Q=yield N.getKeyUri({key:z});(yield N.getPublicKey({keyUri:Q}).then(()=>!0).catch(()=>!1))||(yield N.importKey({key:z}))}for(let z of B){if(!z.publicKeyJwk)throw new Error(`Verification method '${z.id}' does not contain a public key in JWK format`);const Q=yield N.getKeyUri({key:z.publicKeyJwk});yield N.getPublicKey({keyUri:Q})}return new Nf({uri:I.uri,document:I.document,metadata:I.metadata,keyManager:N})})}};/* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
*
* @author   Jimmy Wärting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
* @license  MIT
*/const alphabet$1="0123456789abcdef",encodeLookup=[];for(let T=0;T<256;T++)encodeLookup[T]=alphabet$1[T>>4&15]+alphabet$1[T&15];const arr2hex=T=>{const $=T.length;let I="",N=0;for(;N<$;)I+=encodeLookup[T[N++]];return I},concat$1=(T,$=0)=>{const I=T.length||0;if(!$){let H=I;for(;H--;)$+=T[H].length}const N=new Uint8Array($);let L=$,B=I;for(;B--;)L-=T[B].length,N.set(T[B],L);return N};var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars.length;i$1++)lookup[chars.charCodeAt(i$1)]=i$1;const decoder=new TextDecoder,arr2text=(T,$)=>decoder.decode(T),encoder=new TextEncoder,text2arr=T=>encoder.encode(T),scope$6=typeof window<"u"?window:self,crypto$3=scope$6.crypto||scope$6.msCrypto||{};crypto$3.subtle||crypto$3.webkitSubtle;function digitCount(T){const $=T<0?1:0;return T=Math.abs(Number(T||1)),Math.floor(Math.log10(T))+1+$}function getType(T){return ArrayBuffer.isView(T)?"arraybufferview":Array.isArray(T)?"array":T instanceof Number?"number":T instanceof Boolean?"boolean":T instanceof Set?"set":T instanceof Map?"map":T instanceof String?"string":T instanceof ArrayBuffer?"arraybuffer":typeof T}function encode$f(T,$,I){const N=[];let L=null;return encode$f._encode(N,T),L=concat$1(N),encode$f.bytes=L.length,ArrayBuffer.isView($)?($.set(L,I),$):L}encode$f.bytes=-1;encode$f._floatConversionDetected=!1;encode$f._encode=function(T,$){if($!=null)switch(getType($)){case"object":encode$f.dict(T,$);break;case"map":encode$f.dictMap(T,$);break;case"array":encode$f.list(T,$);break;case"set":encode$f.listSet(T,$);break;case"string":encode$f.string(T,$);break;case"number":encode$f.number(T,$);break;case"boolean":encode$f.number(T,$);break;case"arraybufferview":encode$f.buffer(T,new Uint8Array($.buffer,$.byteOffset,$.byteLength));break;case"arraybuffer":encode$f.buffer(T,new Uint8Array($));break}};const buffE=new Uint8Array([101]),buffD=new Uint8Array([100]),buffL=new Uint8Array([108]);encode$f.buffer=function(T,$){T.push(text2arr($.length+":"),$)};encode$f.string=function(T,$){T.push(text2arr(text2arr($).byteLength+":"+$))};encode$f.number=function(T,$){if(Number.isInteger($))return T.push(text2arr("i"+BigInt($)+"e"));const I=2147483648,N=$/I<<0,L=$%I<<0,B=N*I+L;T.push(text2arr("i"+B+"e")),B!==$&&!encode$f._floatConversionDetected&&(encode$f._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+$+'":','Bencoding only defines support for integers, value was converted to "'+B+'"'),console.trace())};encode$f.dict=function(T,$){T.push(buffD);let I=0,N;const L=Object.keys($).sort(),B=L.length;for(;I<B;I++)N=L[I],$[N]!=null&&(encode$f.string(T,N),encode$f._encode(T,$[N]));T.push(buffE)};encode$f.dictMap=function(T,$){T.push(buffD);const I=Array.from($.keys()).sort();for(const N of I)$.get(N)!=null&&(ArrayBuffer.isView(N)?encode$f._encode(T,N):encode$f.string(T,String(N)),encode$f._encode(T,$.get(N)));T.push(buffE)};encode$f.list=function(T,$){let I=0;const N=$.length;for(T.push(buffL);I<N;I++)$[I]!=null&&encode$f._encode(T,$[I]);T.push(buffE)};encode$f.listSet=function(T,$){T.push(buffL);for(const I of $)I!=null&&encode$f._encode(T,I);T.push(buffE)};const INTEGER_START=105,STRING_DELIM=58,DICTIONARY_START=100,LIST_START=108,END_OF_TYPE=101;function getIntFromBuffer(T,$,I){let N=0,L=1;for(let B=$;B<I;B++){const H=T[B];if(H<58&&H>=48){N=N*10+(H-48);continue}if(!(B===$&&H===43)){if(B===$&&H===45){L=-1;continue}if(H===46)break;throw new Error("not a number: buffer["+B+"] = "+H)}}return N*L}function decode$m(T,$,I,N){return T==null||T.length===0?null:(typeof $!="number"&&N==null&&(N=$,$=void 0),typeof I!="number"&&N==null&&(N=I,I=void 0),decode$m.position=0,decode$m.encoding=N||null,decode$m.data=ArrayBuffer.isView(T)?new Uint8Array(T.slice($,I)):text2arr(T),decode$m.bytes=decode$m.data.length,decode$m.next())}decode$m.bytes=0;decode$m.position=0;decode$m.data=null;decode$m.encoding=null;decode$m.next=function(){switch(decode$m.data[decode$m.position]){case DICTIONARY_START:return decode$m.dictionary();case LIST_START:return decode$m.list();case INTEGER_START:return decode$m.integer();default:return decode$m.buffer()}};decode$m.find=function(T){let $=decode$m.position;const I=decode$m.data.length,N=decode$m.data;for(;$<I;){if(N[$]===T)return $;$++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(T)+'" [0x'+T.toString(16)+"]")};decode$m.dictionary=function(){decode$m.position++;const T={};for(;decode$m.data[decode$m.position]!==END_OF_TYPE;){const $=decode$m.buffer();let I=arr2text($);I.includes("�")&&(I=arr2hex($)),T[I]=decode$m.next()}return decode$m.position++,T};decode$m.list=function(){decode$m.position++;const T=[];for(;decode$m.data[decode$m.position]!==END_OF_TYPE;)T.push(decode$m.next());return decode$m.position++,T};decode$m.integer=function(){const T=decode$m.find(END_OF_TYPE),$=getIntFromBuffer(decode$m.data,decode$m.position+1,T);return decode$m.position+=T+1-decode$m.position,$};decode$m.buffer=function(){let T=decode$m.find(STRING_DELIM);const $=getIntFromBuffer(decode$m.data,decode$m.position,T),I=++T+$;return decode$m.position=I,decode$m.encoding?arr2text(decode$m.data.slice(T,I)):decode$m.data.slice(T,I)};function listLength(T){let $=2;for(const I of T)$+=encodingLength$8(I);return $}function mapLength(T){let $=2;for(const[I,N]of T){const L=text2arr(I).byteLength;$+=digitCount(L)+1+L,$+=encodingLength$8(N)}return $}function objectLength(T){let $=2;const I=Object.keys(T);for(let N=0;N<I.length;N++){const L=text2arr(I[N]).byteLength;$+=digitCount(L)+1+L,$+=encodingLength$8(T[I[N]])}return $}function stringLength(T){const $=text2arr(T).byteLength;return digitCount($)+1+$}function arrayBufferLength(T){const $=T.byteLength-T.byteOffset;return digitCount($)+1+$}function encodingLength$8(T){if(T==null)return 0;const I=getType(T);switch(I){case"arraybufferview":return arrayBufferLength(T);case"string":return stringLength(T);case"array":case"set":return listLength(T);case"number":return 1+digitCount(Math.floor(T))+1;case"bigint":return 1+T.toString().length+1;case"object":return objectLength(T);case"map":return mapLength(T);default:throw new TypeError(`Unsupported value of type "${I}"`)}}const encodingLength$7=encodingLength$8,bencode={encode:encode$f,decode:decode$m,byteLength:encodingLength$8,encodingLength:encodingLength$7},v4Regex=/^(\d{1,3}\.){3,3}\d{1,3}$/,v4Size=4,v6Regex=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,v6Size=16,v4$4={name:"v4",size:v4Size,isFormat:T=>v4Regex.test(T),encode(T,$,I){I=~~I,$=$||new Uint8Array(I+v4Size);const N=T.length;let L=0;for(let B=0;B<N;){const H=T.charCodeAt(B++);H===46?($[I++]=L,L=0):L=L*10+(H-48)}return $[I]=L,$},decode(T,$){return $=~~$,`${T[$++]}.${T[$++]}.${T[$++]}.${T[$]}`}},v6={name:"v6",size:v6Size,isFormat:T=>T.length>0&&v6Regex.test(T),encode(T,$,I){I=~~I;let N=I+v6Size,L=-1,B=0,H=0,z=!0,Q=!1;$=$||new Uint8Array(I+v6Size);for(let te=0;te<T.length;te++){let G=T.charCodeAt(te);G===58?(z?L!==-1?(I<N&&($[I]=0),I<N-1&&($[I+1]=0),I+=2):I<N&&(L=I):(Q===!0?(I<N&&($[I]=H),I++):(I<N&&($[I]=B>>8),I<N-1&&($[I+1]=B&255),I+=2),B=0,H=0),z=!0,Q=!1):G===46?(I<N&&($[I]=H),I++,H=0,B=0,z=!1,Q=!0):(z=!1,G>=97?G-=87:G>=65?G-=55:(G-=48,H=H*10+G),B=(B<<4)+G)}if(z===!1)Q===!0?(I<N&&($[I]=H),I++):(I<N&&($[I]=B>>8),I<N-1&&($[I+1]=B&255),I+=2);else if(L===0)I<N&&($[I]=0),I<N-1&&($[I+1]=0),I+=2;else if(L!==-1){I+=2;for(let te=Math.min(I-1,N-1);te>=L+2;te--)$[te]=$[te-2];$[L]=0,$[L+1]=0,L=I}if(L!==I&&L!==-1)for(I>N-2&&(I=N-2);N>L;)$[--N]=I<N&&I>L?$[--I]:0;else for(;I<N;)$[I++]=0;return $},decode(T,$){$=~~$;let I="";for(let N=0;N<v6Size;N+=2)N!==0&&(I+=":"),I+=(T[$+N]<<8|T[$+N+1]).toString(16);return I.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function sizeOf(T){if(v4$4.isFormat(T))return v4$4.size;if(v6.isFormat(T))return v6.size;throw Error(`Invalid ip address: ${T}`)}function familyOf(T){return sizeOf(T)===v4$4.size?1:2}function encode$e(T,$,I){I=~~I;const N=sizeOf(T);return typeof $=="function"&&($=$(I+N)),N===v4$4.size?v4$4.encode(T,$,I):v6.encode(T,$,I)}function decode$l(T,$,I){if($=~~$,I=I||T.length-$,I===v4$4.size)return v4$4.decode(T,$,I);if(I===v6.size)return v6.decode(T,$,I);throw Error(`Invalid buffer size needs to be ${v4$4.size} for v4 or ${v6.size} for v6.`)}function toString$4(T){switch(T){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+T}function toType(T){switch(T.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":return 255;case"*":return 255}return T.toUpperCase().startsWith("UNKNOWN_")?parseInt(T.slice(8)):0}function toString$3(T){switch(T){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+T}function toString$2(T){switch(T){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+T}function toString$1(T){switch(T){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+T}function toClass(T){switch(T.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function toString(T){switch(T){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return T<0?null:`OPTION_${T}`}function toCode(T){if(typeof T=="number")return T;if(!T)return-1;switch(T.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const $=T.match(/_(\d+)$/);return $?parseInt($[1],10):-1}const SURROGATE_A=55296,SURROGATE_B=56320;function encodingLength$6(T){let $=0;const I=T.length;for(let N=0;N<I;N+=1){const L=T.charCodeAt(N);if(L<=127)$+=1;else if(L<=2047)$+=2;else if((L&63488)!==SURROGATE_A)$+=3;else{const B=N+1;B===I||L>=SURROGATE_B||(T.charCodeAt(B)&64512)!==SURROGATE_B?$+=3:(N=B,$+=4)}}return $}function encode$d(T,$,I){const N=T.length;I==null&&(I=0),$===void 0&&($=new Uint8Array(encodingLength$6(T)+I));let L=I;for(let B=0;B<N;B+=1){let H=T.charCodeAt(B);if(H<=127)$[L++]=H;else if(H<=2047)$[L++]=192|(H&1984)>>6,$[L++]=128|H&63;else if((H&63488)!==SURROGATE_A)$[L++]=224|(H&61440)>>12,$[L++]=128|(H&4032)>>6,$[L++]=128|H&63;else{const z=B+1;if(z===N||H>=SURROGATE_B)$[L++]=239,$[L++]=191,$[L++]=189;else{const Q=T.charCodeAt(z);(Q&64512)!==SURROGATE_B?($[L++]=239,$[L++]=191,$[L++]=189):(B=z,H=65536|(H&1023)<<10|Q&1023,$[L++]=240|(H&1835008)>>18,$[L++]=128|(H&258048)>>12,$[L++]=128|(H&4032)>>6,$[L++]=128|H&63)}}}return encode$d.bytes=L-I,$}encode$d.bytes=0;function decode$k(T,$,I){let N="";$==null&&($=0),I==null&&(I=T.length);for(let L=$;L<I;){const B=T[L++];let H;if(B<=128)H=B;else if(B>191&&B<224)H=(B&31)<<6|T[L++]&63;else if(B>239&&B<365){H=((B&7)<<18|(T[L++]&63)<<12|(T[L++]&63)<<6|T[L++]&63)-65536;const z=SURROGATE_A|H>>10&1023;N+=String.fromCharCode(z),H=SURROGATE_B|H&1023}else H=(B&15)<<12|(T[L++]&63)<<6|T[L++]&63;N+=String.fromCharCode(H)}return decode$k.bytes=I-$,N}decode$k.bytes=0;const isU8Arr=T=>T instanceof Uint8Array;function bytelength(T){return typeof T=="string"?encodingLength$6(T):T.byteLength}function from$i(T){return T instanceof Uint8Array?T:Array.isArray(T)?new Uint8Array(T):encode$d(T)}function write(T,$,I){if(typeof $!="string")throw new Error("unknown input type");return encode$d($,T,I),encode$d.bytes}const hexNum={},numHex=new Array(255);for(let T=0;T<=15;T+=1){const $=T.toString(16),I=$.toUpperCase();for(let N=0;N<=15;N+=1){const L=N.toString(16),B=L.toUpperCase(),H=T<<4|N,z=`${$}${L}`;numHex[H]=z,hexNum[z]=H,hexNum[`${I}${L}`]=H,hexNum[`${$}${B}`]=H,hexNum[`${I}${B}`]=H}}function toHex$1(T,$,I){let N="";for(let L=$;L<I;){const B=T[L++];N+=numHex[B]}return N}function hexLength(T){return T.length>>>1}function writeHex(T,$,I,N){let L=0;for(;I<N;){const B=$.substr(L,2),H=hexNum[B];if(H===void 0)return;T[I++]=H,L+=2}return T}const P_24=Math.pow(2,24),P_16=Math.pow(2,16),P_8=Math.pow(2,8),readUInt32BE=(T,$)=>T[$]*P_24+T[$+1]*P_16+T[$+2]*P_8+T[$+3],readUInt16BE=(T,$)=>T[$]<<8|T[$+1],writeUInt32BE=(T,$,I)=>($=+$,T[I+3]=$,$=$>>>8,T[I+2]=$,$=$>>>8,T[I+1]=$,$=$>>>8,T[I]=$,I+4),writeUInt16BE=(T,$,I)=>(T[I]=$>>8,T[I+1]=$&255,I+2);function copy(T,$,I,N,L){return I<0&&(N-=I,I=0),N<0&&(N=0),L<0?new Uint8Array(0):I>=$.length||N>=L?0:_copyActual(T,$,I,N,L)}function _copyActual(T,$,I,N,L){L-N>$.length-I&&(L=N+$.length-I);let B=L-N;const H=T.length-N;return B>H&&(B=H),(N!==0||L<T.length)&&(T=new Uint8Array(T.buffer,T.byteOffset+N,B)),$.set(T,I),B}const QUERY_FLAG=0,RESPONSE_FLAG=32768,FLUSH_MASK=32768,NOT_FLUSH_MASK=-32769,QU_MASK=32768,NOT_QU_MASK=-32769;function codec({bytes:T=0,encode:$,decode:I,encodingLength:N}){return $.bytes=T,I.bytes=T,{encode:$,decode:I,encodingLength:N||(()=>T)}}const name=codec({encode(T,$,I){$||($=new Uint8Array(name.encodingLength(T))),I||(I=0);const N=I,L=T.replace(/^\.|\.$/gm,"");if(L.length){const B=L.split(".");for(let H=0;H<B.length;H++){const z=write($,B[H],I+1);$[I]=z,I+=z+1}}return $[I++]=0,name.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=[];let N=$,L=0,B=0,H=!1;for(;;){if($>=T.length)throw new Error("Cannot decode name (buffer overflow)");const z=T[$++];if(B+=H?0:1,z===0)break;if((z&192)===0){if($+z>T.length)throw new Error("Cannot decode name (buffer overflow)");if(L+=z+1,L>254)throw new Error("Cannot decode name (name too long)");I.push(decode$k(T,$,$+z)),$+=z,B+=H?0:z}else if((z&192)===192){if($+1>T.length)throw new Error("Cannot decode name (buffer overflow)");const Q=readUInt16BE(T,$-1)-49152;if(Q>=N)throw new Error("Cannot decode name (bad pointer)");$=Q,N=Q,B+=H?0:1,H=!0}else throw new Error("Cannot decode name (bad label)")}return name.decode.bytes=B,I.length===0?".":I.join(".")},encodingLength(T){return T==="."||T===".."?1:bytelength(T.replace(/^\.|\.$/gm,""))+2}}),string=codec({encode(T,$,I){$||($=new Uint8Array(string.encodingLength(T))),I||(I=0);const N=write($,T,I+1);return $[I]=N,string.encode.bytes=N+1,$},decode(T,$){$||($=0);const I=T[$],N=decode$k(T,$+1,$+1+I);return string.decode.bytes=I+1,N},encodingLength(T){return bytelength(T)+1}}),header=codec({bytes:12,encode(T,$,I){$||($=new Uint8Array(header.encodingLength(T))),I||(I=0);const N=(T.flags||0)&32767,L=T.type==="response"?RESPONSE_FLAG:QUERY_FLAG;return writeUInt16BE($,T.id||0,I),writeUInt16BE($,N|L,I+2),writeUInt16BE($,T.questions.length,I+4),writeUInt16BE($,T.answers.length,I+6),writeUInt16BE($,T.authorities.length,I+8),writeUInt16BE($,T.additionals.length,I+10),$},decode(T,$){if($||($=0),T.length<12)throw new Error("Header must be 12 bytes");const I=readUInt16BE(T,$+2);return{id:readUInt16BE(T,$),type:I&RESPONSE_FLAG?"response":"query",flags:I&32767,flag_qr:(I>>15&1)===1,opcode:toString$2(I>>11&15),flag_aa:(I>>10&1)===1,flag_tc:(I>>9&1)===1,flag_rd:(I>>8&1)===1,flag_ra:(I>>7&1)===1,flag_z:(I>>6&1)===1,flag_ad:(I>>5&1)===1,flag_cd:(I>>4&1)===1,rcode:toString$3(I&15),questions:new Array(readUInt16BE(T,$+4)),answers:new Array(readUInt16BE(T,$+6)),authorities:new Array(readUInt16BE(T,$+8)),additionals:new Array(readUInt16BE(T,$+10))}},encodingLength(){return 12}}),runknown=codec({encode(T,$,I){$||($=new Uint8Array(runknown.encodingLength(T))),I||(I=0);const N=T.length;return writeUInt16BE($,N,I),copy(T,$,I+2,0,N),runknown.encode.bytes=N+2,$},decode(T,$){$||($=0);const I=readUInt16BE(T,$),N=T.slice($+2,$+2+I);return runknown.decode.bytes=I+2,N},encodingLength(T){return T.length+2}}),rns=codec({encode(T,$,I){return $||($=new Uint8Array(rns.encodingLength(T))),I||(I=0),name.encode(T,$,I+2),writeUInt16BE($,name.encode.bytes,I),rns.encode.bytes=name.encode.bytes+2,$},decode(T,$){$||($=0);const I=readUInt16BE(T,$),N=name.decode(T,$+2);return rns.decode.bytes=I+2,N},encodingLength(T){return name.encodingLength(T)+2}}),rsoa=codec({encode(T,$,I){$||($=new Uint8Array(rsoa.encodingLength(T))),I||(I=0);const N=I;return I+=2,name.encode(T.mname,$,I),I+=name.encode.bytes,name.encode(T.rname,$,I),I+=name.encode.bytes,writeUInt32BE($,T.serial||0,I),I+=4,writeUInt32BE($,T.refresh||0,I),I+=4,writeUInt32BE($,T.retry||0,I),I+=4,writeUInt32BE($,T.expire||0,I),I+=4,writeUInt32BE($,T.minimum||0,I),I+=4,writeUInt16BE($,I-N-2,N),rsoa.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=$,N={};return $+=2,N.mname=name.decode(T,$),$+=name.decode.bytes,N.rname=name.decode(T,$),$+=name.decode.bytes,N.serial=readUInt32BE(T,$),$+=4,N.refresh=readUInt32BE(T,$),$+=4,N.retry=readUInt32BE(T,$),$+=4,N.expire=readUInt32BE(T,$),$+=4,N.minimum=readUInt32BE(T,$),$+=4,rsoa.decode.bytes=$-I,N},encodingLength(T){return 22+name.encodingLength(T.mname)+name.encodingLength(T.rname)}}),rtxt=codec({encode(T,$,I){Array.isArray(T)||(T=[T]);for(let L=0;L<T.length;L++)if(typeof T[L]=="string"&&(T[L]=from$i(T[L])),!isU8Arr(T[L]))throw new Error("Must be a Buffer");$||($=new Uint8Array(rtxt.encodingLength(T))),I||(I=0);const N=I;return I+=2,T.forEach(function(L){$[I++]=L.length,copy(L,$,I,0,L.length),I+=L.length}),writeUInt16BE($,I-N-2,N),rtxt.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=$;let N=readUInt16BE(T,$);$+=2;const L=[];for(;N>0;){const B=T[$++];if(--N,N<B)throw new Error("Buffer overflow");L.push(T.slice($,$+B)),$+=B,N-=B}return rtxt.decode.bytes=$-I,L},encodingLength(T){Array.isArray(T)||(T=[T]);let $=2;return T.forEach(function(I){typeof I=="string"?$+=bytelength(I)+1:$+=I.length+1}),$}}),rnull=codec({encode(T,$,I){$||($=new Uint8Array(rnull.encodingLength(T))),I||(I=0),typeof T=="string"&&(T=from$i(T)),T||(T=new Uint8Array(0));const N=I;I+=2;const L=T.length;return copy(T,$,I,0,L),I+=L,writeUInt16BE($,I-N-2,N),rnull.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=$,N=readUInt16BE(T,$);$+=2;const L=T.slice($,$+N);return $+=N,rnull.decode.bytes=$-I,L},encodingLength(T){return T?(isU8Arr(T)?T.length:bytelength(T))+2:2}}),rhinfo=codec({encode(T,$,I){$||($=new Uint8Array(rhinfo.encodingLength(T))),I||(I=0);const N=I;return I+=2,string.encode(T.cpu,$,I),I+=string.encode.bytes,string.encode(T.os,$,I),I+=string.encode.bytes,writeUInt16BE($,I-N-2,N),rhinfo.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=$,N={};return $+=2,N.cpu=string.decode(T,$),$+=string.decode.bytes,N.os=string.decode(T,$),$+=string.decode.bytes,rhinfo.decode.bytes=$-I,N},encodingLength(T){return string.encodingLength(T.cpu)+string.encodingLength(T.os)+2}}),rptr=codec({encode(T,$,I){return $||($=new Uint8Array(rptr.encodingLength(T))),I||(I=0),name.encode(T,$,I+2),writeUInt16BE($,name.encode.bytes,I),rptr.encode.bytes=name.encode.bytes+2,$},decode(T,$){$||($=0);const I=name.decode(T,$+2);return rptr.decode.bytes=name.decode.bytes+2,I},encodingLength(T){return name.encodingLength(T)+2}}),rsrv=codec({encode(T,$,I){$||($=new Uint8Array(rsrv.encodingLength(T))),I||(I=0),writeUInt16BE($,T.priority||0,I+2),writeUInt16BE($,T.weight||0,I+4),writeUInt16BE($,T.port||0,I+6),name.encode(T.target,$,I+8);const N=name.encode.bytes+6;return writeUInt16BE($,N,I),rsrv.encode.bytes=N+2,$},decode(T,$){$||($=0);const I=readUInt16BE(T,$),N={};return N.priority=readUInt16BE(T,$+2),N.weight=readUInt16BE(T,$+4),N.port=readUInt16BE(T,$+6),N.target=name.decode(T,$+8),rsrv.decode.bytes=I+2,N},encodingLength(T){return 8+name.encodingLength(T.target)}}),rcaa=codec({encode(T,$,I){const N=rcaa.encodingLength(T);return $||($=new Uint8Array(rcaa.encodingLength(T))),I||(I=0),T.issuerCritical&&(T.flags=rcaa.ISSUER_CRITICAL),writeUInt16BE($,N-2,I),I+=2,$[I]=T.flags||0,I+=1,string.encode(T.tag,$,I),I+=string.encode.bytes,write($,T.value,I),I+=bytelength(T.value),rcaa.encode.bytes=N,$},decode(T,$){$||($=0);const I=readUInt16BE(T,$);$+=2;const N=$,L={};return L.flags=T[$],$+=1,L.tag=string.decode(T,$),$+=string.decode.bytes,L.value=decode$k(T,$,N+I),L.issuerCritical=!!(L.flags&rcaa.ISSUER_CRITICAL),rcaa.decode.bytes=I+2,L},encodingLength(T){return string.encodingLength(T.tag)+string.encodingLength(T.value)+2}});rcaa.ISSUER_CRITICAL=128;const rmx=codec({encode(T,$,I){$||($=new Uint8Array(rmx.encodingLength(T))),I||(I=0);const N=I;return I+=2,writeUInt16BE($,T.preference||0,I),I+=2,name.encode(T.exchange,$,I),I+=name.encode.bytes,writeUInt16BE($,I-N-2,N),rmx.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=$,N={};return $+=2,N.preference=readUInt16BE(T,$),$+=2,N.exchange=name.decode(T,$),$+=name.decode.bytes,rmx.decode.bytes=$-I,N},encodingLength(T){return 4+name.encodingLength(T.exchange)}}),ra=codec({encode(T,$,I){return $||($=new Uint8Array(ra.encodingLength(T))),I||(I=0),writeUInt16BE($,4,I),I+=2,v4$4.encode(T,$,I),$},decode(T,$){return $||($=0),$+=2,v4$4.decode(T,$)},bytes:6}),raaaa=codec({encode(T,$,I){return $||($=new Uint8Array(raaaa.encodingLength(T))),I||(I=0),writeUInt16BE($,16,I),I+=2,v6.encode(T,$,I),raaaa.encode.bytes=18,$},decode(T,$){$||($=0),$+=2;const I=v6.decode(T,$);return raaaa.decode.bytes=18,I},bytes:18}),alloc=T=>new Uint8Array(T),roption=codec({encode(T,$,I){$||($=new Uint8Array(roption.encodingLength(T))),I||(I=0);const N=I,L=toCode(T.code);if(writeUInt16BE($,L,I),I+=2,T.data)writeUInt16BE($,T.data.length,I),I+=2,copy(T.data,$,I),I+=T.data.length;else switch(L){case 8:{const B=T.sourcePrefixLength||0,H=T.family||familyOf(T.ip),z=encode$e(T.ip,alloc),Q=Math.ceil(B/8);writeUInt16BE($,Q+4,I),I+=2,writeUInt16BE($,H,I),I+=2,$[I++]=B,$[I++]=T.scopePrefixLength||0,copy(z,$,I,0,Q),I+=Q}break;case 11:T.timeout?(writeUInt16BE($,2,I),I+=2,writeUInt16BE($,T.timeout,I),I+=2):(writeUInt16BE($,0,I),I+=2);break;case 12:{const B=T.length||0;writeUInt16BE($,B,I),I+=2,$.fill(0,I,I+B),I+=B}break;case 14:{const B=T.tags.length*2;writeUInt16BE($,B,I),I+=2;for(const H of T.tags)writeUInt16BE($,H,I),I+=2}break;default:throw new Error(`Unknown roption code: ${T.code}`)}return roption.encode.bytes=I-N,$},decode(T,$){$||($=0);const I={};I.code=readUInt16BE(T,$),I.type=toString(I.code),$+=2;const N=readUInt16BE(T,$);switch($+=2,I.data=T.slice($,$+N),I.code){case 8:I.family=readUInt16BE(T,$),$+=2,I.sourcePrefixLength=T[$++],I.scopePrefixLength=T[$++];{const L=new Uint8Array(I.family===1?4:16);copy(T,L,0,$,$+N-4),I.ip=decode$l(L)}break;case 11:N>0&&(I.timeout=readUInt16BE(T,$),$+=2);break;case 14:I.tags=[];for(let L=0;L<N;L+=2)I.tags.push(readUInt16BE(T,$)),$+=2}return roption.decode.bytes=N+4,I},encodingLength(T){if(T.data)return T.data.length+4;switch(toCode(T.code)){case 8:{const I=T.sourcePrefixLength||0;return Math.ceil(I/8)+8}case 11:return typeof T.timeout=="number"?6:4;case 12:return T.length+4;case 14:return 4+T.tags.length*2}throw new Error(`Unknown roption code: ${T.code}`)}}),ropt=codec({encode(T,$,I){$||($=new Uint8Array(ropt.encodingLength(T))),I||(I=0);const N=I,L=encodingLengthList(T,roption);return writeUInt16BE($,L,I),I=encodeList(T,roption,$,I+2),ropt.encode.bytes=I-N,$},decode(T,$){$||($=0);const I=$,N=[];let L=readUInt16BE(T,$);$+=2;let B=0;for(;L>0;)N[B++]=roption.decode(T,$),$+=roption.decode.bytes,L-=roption.decode.bytes;return ropt.decode.bytes=$-I,N},encodingLength(T){return 2+encodingLengthList(T||[],roption)}}),rdnskey=codec({encode(T,$,I){$||($=new Uint8Array(rdnskey.encodingLength(T))),I||(I=0);const N=I,L=T.key;if(!isU8Arr(L))throw new Error("Key must be a Buffer");return I+=2,writeUInt16BE($,T.flags,I),I+=2,$[I]=rdnskey.PROTOCOL_DNSSEC,I+=1,$[I]=T.algorithm,I+=1,copy(L,$,I,0,L.length),I+=L.length,rdnskey.encode.bytes=I-N,writeUInt16BE($,rdnskey.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={},L=readUInt16BE(T,$);if($+=2,N.flags=readUInt16BE(T,$),$+=2,T[$]!==rdnskey.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return $+=1,N.algorithm=T[$],$+=1,N.key=T.slice($,I+L+2),$+=N.key.length,rdnskey.decode.bytes=$-I,N},encodingLength(T){return 6+bytelength(T.key)}});rdnskey.PROTOCOL_DNSSEC=3;rdnskey.ZONE_KEY=128;rdnskey.SECURE_ENTRYPOINT=32768;const rrrsig=codec({encode(T,$,I){$||($=new Uint8Array(rrrsig.encodingLength(T))),I||(I=0);const N=I,L=T.signature;if(!isU8Arr(L))throw new Error("Signature must be a Buffer");return I+=2,writeUInt16BE($,toType(T.typeCovered),I),I+=2,$[I]=T.algorithm,I+=1,$[I]=T.labels,I+=1,writeUInt32BE($,T.originalTTL,I),I+=4,writeUInt32BE($,T.expiration,I),I+=4,writeUInt32BE($,T.inception,I),I+=4,writeUInt16BE($,T.keyTag,I),I+=2,name.encode(T.signersName,$,I),I+=name.encode.bytes,copy(L,$,I,0,L.length),I+=L.length,rrrsig.encode.bytes=I-N,writeUInt16BE($,rrrsig.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={},L=readUInt16BE(T,$);return $+=2,N.typeCovered=toString$4(readUInt16BE(T,$)),$+=2,N.algorithm=T[$],$+=1,N.labels=T[$],$+=1,N.originalTTL=readUInt32BE(T,$),$+=4,N.expiration=readUInt32BE(T,$),$+=4,N.inception=readUInt32BE(T,$),$+=4,N.keyTag=readUInt16BE(T,$),$+=2,N.signersName=name.decode(T,$),$+=name.decode.bytes,N.signature=T.slice($,I+L+2),$+=N.signature.length,rrrsig.decode.bytes=$-I,N},encodingLength(T){return 20+name.encodingLength(T.signersName)+bytelength(T.signature)}}),rrp=codec({encode(T,$,I){$||($=new Uint8Array(rrp.encodingLength(T))),I||(I=0);const N=I;return I+=2,name.encode(T.mbox||".",$,I),I+=name.encode.bytes,name.encode(T.txt||".",$,I),I+=name.encode.bytes,rrp.encode.bytes=I-N,writeUInt16BE($,rrp.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={};return $+=2,N.mbox=name.decode(T,$)||".",$+=name.decode.bytes,N.txt=name.decode(T,$)||".",$+=name.decode.bytes,rrp.decode.bytes=$-I,N},encodingLength(T){return 2+name.encodingLength(T.mbox||".")+name.encodingLength(T.txt||".")}}),typebitmap=codec({encode(T,$,I){$||($=new Uint8Array(typebitmap.encodingLength(T))),I||(I=0);const N=I,L=[];for(let B=0;B<T.length;B++){const H=toType(T[B]);L[H>>8]===void 0&&(L[H>>8]=[]),L[H>>8][H>>3&31]|=1<<7-(H&7)}for(let B=0;B<L.length;B++)if(L[B]!==void 0){const H=from$i(L[B]);$[I]=B,I+=1,$[I]=H.length,I+=1,copy(H,$,I,0,H.length),I+=H.length}return typebitmap.encode.bytes=I-N,$},decode(T,$,I){$||($=0);const N=$,L=[];for(;$-N<I;){const B=T[$];$+=1;const H=T[$];$+=1;for(let z=0;z<H;z++){const Q=T[$+z];for(let te=0;te<8;te++)if(Q&1<<7-te){const G=toString$4(B<<8|z<<3|te);L.push(G)}}$+=H}return typebitmap.decode.bytes=$-N,L},encodingLength(T){const $=[];for(let N=0;N<T.length;N++){const L=toType(T[N]);$[L>>8]=Math.max($[L>>8]||0,L&255)}let I=0;for(let N=0;N<$.length;N++)$[N]!==void 0&&(I+=2+Math.ceil(($[N]+1)/8));return I}}),rnsec=codec({encode(T,$,I){$||($=new Uint8Array(rnsec.encodingLength(T))),I||(I=0);const N=I;return I+=2,name.encode(T.nextDomain,$,I),I+=name.encode.bytes,typebitmap.encode(T.rrtypes,$,I),I+=typebitmap.encode.bytes,rnsec.encode.bytes=I-N,writeUInt16BE($,rnsec.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={},L=readUInt16BE(T,$);return $+=2,N.nextDomain=name.decode(T,$),$+=name.decode.bytes,N.rrtypes=typebitmap.decode(T,$,L-($-I)),$+=typebitmap.decode.bytes,rnsec.decode.bytes=$-I,N},encodingLength(T){return 2+name.encodingLength(T.nextDomain)+typebitmap.encodingLength(T.rrtypes)}}),rnsec3=codec({encode(T,$,I){$||($=new Uint8Array(rnsec3.encodingLength(T))),I||(I=0);const N=I,L=T.salt;if(!isU8Arr(L))throw new Error("salt must be a Buffer");const B=T.nextDomain;if(!isU8Arr(B))throw new Error("nextDomain must be a Buffer");return I+=2,$[I]=T.algorithm,I+=1,$[I]=T.flags,I+=1,writeUInt16BE($,T.iterations,I),I+=2,$[I]=L.length,I+=1,copy(L,$,I,0,L.length),I+=L.length,$[I]=B.length,I+=1,copy(B,$,I,0,B.length),I+=B.length,typebitmap.encode(T.rrtypes,$,I),I+=typebitmap.encode.bytes,rnsec3.encode.bytes=I-N,writeUInt16BE($,rnsec3.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={},L=readUInt16BE(T,$);$+=2,N.algorithm=T[$],$+=1,N.flags=T[$],$+=1,N.iterations=readUInt16BE(T,$),$+=2;const B=T[$];$+=1,N.salt=T.slice($,$+B),$+=B;const H=T[$];return $+=1,N.nextDomain=T.slice($,$+H),$+=H,N.rrtypes=typebitmap.decode(T,$,L-($-I)),$+=typebitmap.decode.bytes,rnsec3.decode.bytes=$-I,N},encodingLength(T){return 8+T.salt.length+T.nextDomain.length+typebitmap.encodingLength(T.rrtypes)}}),rds=codec({encode(T,$,I){$||($=new Uint8Array(rds.encodingLength(T))),I||(I=0);const N=I,L=T.digest;if(!isU8Arr(L))throw new Error("Digest must be a Buffer");return I+=2,writeUInt16BE($,T.keyTag,I),I+=2,$[I]=T.algorithm,I+=1,$[I]=T.digestType,I+=1,copy(L,$,I,0,L.length),I+=L.length,rds.encode.bytes=I-N,writeUInt16BE($,rds.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={},L=readUInt16BE(T,$);return $+=2,N.keyTag=readUInt16BE(T,$),$+=2,N.algorithm=T[$],$+=1,N.digestType=T[$],$+=1,N.digest=T.slice($,I+L+2),$+=N.digest.length,rds.decode.bytes=$-I,N},encodingLength(T){return 6+bytelength(T.digest)}}),rsshfp=codec({encode(T,$,I){$||($=new Uint8Array(rsshfp.encodingLength(T))),I||(I=0);const N=I;I+=2,$[I]=T.algorithm,I+=1,$[I]=T.hash,I+=1;const L=hexLength(T.fingerprint),B=getFingerprintLengthForHashType(T.hash);if(L!==B)throw new Error(`Invalid length of fingerprint "${T.fingerprint}" for hashType=${T.hash}: ${L} != ${B}`);return writeHex($,T.fingerprint,I,I+=L),rsshfp.encode.bytes=I-N,writeUInt16BE($,rsshfp.encode.bytes-2,N),$},decode(T,$){$||($=0);const I=$,N={};$+=2,N.algorithm=T[$],$+=1,N.hash=T[$],$+=1;const L=getFingerprintLengthForHashType(N.hash);return N.fingerprint=toHex$1(T,$,$+L),$+=L,rsshfp.decode.bytes=$-I,N},encodingLength(T){return 4+hexLength(T.fingerprint)}});function getFingerprintLengthForHashType(T){if(T===1)return 20;if(T===2)return 32;throw new Error(`Invalid hashType=${T}, supported=1,2`)}rsshfp.getFingerprintLengthForHashType=getFingerprintLengthForHashType;function renc(T){switch(T.toUpperCase()){case"A":return ra;case"PTR":return rptr;case"CNAME":return rptr;case"DNAME":return rptr;case"TXT":return rtxt;case"NULL":return rnull;case"AAAA":return raaaa;case"SRV":return rsrv;case"HINFO":return rhinfo;case"CAA":return rcaa;case"NS":return rns;case"SOA":return rsoa;case"MX":return rmx;case"OPT":return ropt;case"DNSKEY":return rdnskey;case"RRSIG":return rrrsig;case"RP":return rrp;case"NSEC":return rnsec;case"NSEC3":return rnsec3;case"SSHFP":return rsshfp;case"DS":return rds}return runknown}const answer=codec({encode(T,$,I){$||($=new Uint8Array(answer.encodingLength(T))),I||(I=0);const N=I;if(name.encode(T.name,$,I),I+=name.encode.bytes,writeUInt16BE($,toType(T.type),I),T.type.toUpperCase()==="OPT"){if(T.name!==".")throw new Error("OPT name must be root.");writeUInt16BE($,T.udpPayloadSize||4096,I+2),$[I+4]=T.extendedRcode||0,$[I+5]=T.ednsVersion||0,writeUInt16BE($,T.flags||0,I+6),I+=8,ropt.encode(T.options||[],$,I),I+=ropt.encode.bytes}else{let L=toClass(T.class===void 0?"IN":T.class);T.flush&&(L|=FLUSH_MASK),writeUInt16BE($,L,I+2),writeUInt32BE($,T.ttl||0,I+4),I+=8;const B=renc(T.type);B.encode(T.data,$,I),I+=B.encode.bytes}return answer.encode.bytes=I-N,$},decode(T,$){$||($=0);const I={},N=$;if(I.name=name.decode(T,$),$+=name.decode.bytes,I.type=toString$4(readUInt16BE(T,$)),I.type==="OPT")I.udpPayloadSize=readUInt16BE(T,$+2),I.extendedRcode=T[$+4],I.ednsVersion=T[$+5],I.flags=readUInt16BE(T,$+6),I.flag_do=(I.flags>>15&1)===1,I.options=ropt.decode(T,$+8),$+=8+ropt.decode.bytes;else{const L=readUInt16BE(T,$+2);I.ttl=readUInt32BE(T,$+4),I.class=toString$1(L&NOT_FLUSH_MASK),I.flush=!!(L&FLUSH_MASK);const B=renc(I.type);I.data=B.decode(T,$+8),$+=8+B.decode.bytes}return answer.decode.bytes=$-N,I},encodingLength(T){const $=T.data!==null&&T.data!==void 0?T.data:T.options;return name.encodingLength(T.name)+8+renc(T.type).encodingLength($)}}),question=codec({encode(T,$,I){$||($=new Uint8Array(question.encodingLength(T))),I||(I=0);const N=I;return name.encode(T.name,$,I),I+=name.encode.bytes,writeUInt16BE($,toType(T.type),I),I+=2,writeUInt16BE($,toClass(T.class===void 0?"IN":T.class),I),I+=2,question.encode.bytes=I-N,T},decode(T,$){$||($=0);const I=$,N={};return N.name=name.decode(T,$),$+=name.decode.bytes,N.type=toString$4(readUInt16BE(T,$)),$+=2,N.class=toString$1(readUInt16BE(T,$)),$+=2,!!(N.class&QU_MASK)&&(N.class&=NOT_QU_MASK),question.decode.bytes=$-I,N},encodingLength(T){return name.encodingLength(T.name)+4}}),AUTHORITATIVE_ANSWER=1024,packet={encode:function(T,$,I){const N=!$;N&&($=new Uint8Array(encodingLength$5(T))),I||(I=0);const L=I;return T.questions||(T.questions=[]),T.answers||(T.answers=[]),T.authorities||(T.authorities=[]),T.additionals||(T.additionals=[]),header.encode(T,$,I),I+=header.encode.bytes,I=encodeList(T.questions,question,$,I),I=encodeList(T.answers,answer,$,I),I=encodeList(T.authorities,answer,$,I),I=encodeList(T.additionals,answer,$,I),packet.encode.bytes=I-L,N&&encode$c.bytes!==$.length?$.slice(0,encode$c.bytes):$},decode:function(T,$){$||($=0);const I=$,N=header.decode(T,$);return $+=header.decode.bytes,$=decodeList(N.questions,question,T,$),$=decodeList(N.answers,answer,T,$),$=decodeList(N.authorities,answer,T,$),$=decodeList(N.additionals,answer,T,$),packet.decode.bytes=$-I,N},encodingLength:function(T){return header.encodingLength(T)+encodingLengthList(T.questions||[],question)+encodingLengthList(T.answers||[],answer)+encodingLengthList(T.authorities||[],answer)+encodingLengthList(T.additionals||[],answer)}};packet.encode.bytes=0;packet.decode.bytes=0;const encode$c=packet.encode,decode$j=packet.decode,encodingLength$5=packet.encodingLength;function encodingLengthList(T,$){let I=0;for(let N=0;N<T.length;N++)I+=$.encodingLength(T[N]);return I}function encodeList(T,$,I,N){for(let L=0;L<T.length;L++)$.encode(T[L],I,N),N+=$.encode.bytes;return N}function decodeList(T,$,I,N){for(let L=0;L<T.length;L++)T[L]=$.decode(I,N),N+=$.decode.bytes;return N}var __awaiter$$=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let DidMethod$2=class{static getSigningMethod($){return __awaiter$$(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve($,I){return __awaiter$$(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}};var __awaiter$_=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$e=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};const DEFAULT_GATEWAY_URI$5="https://diddht.tbddev.org",DID_DHT_SPECIFICATION_VERSION$2=0,DNS_RECORD_TTL$2=7200,PROPERTY_SEPARATOR$2=";",VALUE_SEPARATOR$2=",";var DidDhtRegisteredDidType$3;(function(T){T[T.Discoverable=0]="Discoverable",T[T.Organization=1]="Organization",T[T.Government=2]="Government",T[T.Corporation=3]="Corporation",T[T.LocalBusiness=4]="LocalBusiness",T[T.SoftwarePackage=5]="SoftwarePackage",T[T.WebApp=6]="WebApp",T[T.FinancialInstitution=7]="FinancialInstitution"})(DidDhtRegisteredDidType$3||(DidDhtRegisteredDidType$3={}));var DidDhtRegisteredKeyType$3;(function(T){T[T.Ed25519=0]="Ed25519",T[T.secp256k1=1]="secp256k1",T[T.secp256r1=2]="secp256r1",T[T.X25519=3]="X25519"})(DidDhtRegisteredKeyType$3||(DidDhtRegisteredKeyType$3={}));var DidDhtVerificationRelationship$3;(function(T){T.authentication="auth",T.assertionMethod="asm",T.capabilityDelegation="del",T.capabilityInvocation="inv",T.keyAgreement="agm"})(DidDhtVerificationRelationship$3||(DidDhtVerificationRelationship$3={}));const AlgorithmToKeyTypeMap$8={Ed25519:DidDhtRegisteredKeyType$3.Ed25519,ES256K:DidDhtRegisteredKeyType$3.secp256k1,ES256:DidDhtRegisteredKeyType$3.secp256r1,"P-256":DidDhtRegisteredKeyType$3.secp256r1,secp256k1:DidDhtRegisteredKeyType$3.secp256k1,secp256r1:DidDhtRegisteredKeyType$3.secp256r1,X25519:DidDhtRegisteredKeyType$3.X25519},KeyTypeToDefaultAlgorithmMap$2={[DidDhtRegisteredKeyType$3.Ed25519]:"EdDSA",[DidDhtRegisteredKeyType$3.secp256k1]:"ES256K",[DidDhtRegisteredKeyType$3.secp256r1]:"ES256",[DidDhtRegisteredKeyType$3.X25519]:"ECDH-ES+A256KW"};let DidDht$2=class $u extends DidMethod$2{static create(){return __awaiter$_(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$3,options:I={}}={}){var N,L,B,H,z,Q,te,G,ie,Re,$e;if(!((N=I.verificationMethods)===null||N===void 0)&&N.some(Ge=>!(Ge.algorithm in AlgorithmToKeyTypeMap$8)))throw new Error("One or more verification method algorithms are not supported");const Pe=(L=I.verificationMethods)===null||L===void 0?void 0:L.filter(Ge=>"id"in Ge).map(Ge=>Ge.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(!((B=I.services)===null||B===void 0)&&B.some(Ge=>!Ge.id||!Ge.type||!Ge.serviceEndpoint))throw new Error("One or more services are missing required properties");const Me=yield $.generateKey({algorithm:"Ed25519"}),Be=yield $.getPublicKey({keyUri:Me}),Ke=yield DidDhtUtils$2.identityKeyToIdentifier({identityKey:Be}),Le=Object.assign(Object.assign({id:Ke},I.alsoKnownAs&&{alsoKnownAs:I.alsoKnownAs}),I.controllers&&{controller:I.controllers}),qe=[...(H=I.verificationMethods)!==null&&H!==void 0?H:[]];qe!=null&&qe.some(Ge=>{var at;return((at=Ge.id)===null||at===void 0?void 0:at.split("#").pop())==="0"})||qe.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ge of qe){const at=Ge.id&&Ge.id.split("#").pop()==="0"?Me:yield $.generateKey({algorithm:Ge.algorithm}),ot=yield $.getPublicKey({keyUri:at});let Ye=(Q=(z=Ge.id)!==null&&z!==void 0?z:ot.kid)!==null&&Q!==void 0?Q:yield computeJwkThumbprint$3({jwk:ot});Ye=`${Ke}#${extractDidFragment$2(Ye)}`,(te=Le.verificationMethod)!==null&&te!==void 0||(Le.verificationMethod=[]),Le.verificationMethod.push({id:Ye,type:"JsonWebKey",controller:(G=Ge.controller)!==null&&G!==void 0?G:Ke,publicKeyJwk:ot});for(const nt of(ie=Ge.purposes)!==null&&ie!==void 0?ie:[])Le[nt]||(Le[nt]=[]),Le[nt].push(Ye)}(Re=I.services)===null||Re===void 0||Re.forEach(Ge=>{var at;(at=Le.service)!==null&&at!==void 0||(Le.service=[]),Ge.id=`${Ke}#${Ge.id.split("#").pop()}`,Le.service.push(Ge)});const He=new BearerDid$2({uri:Ke,document:Le,metadata:Object.assign({published:!1},I.types&&{types:I.types}),keyManager:$});if(!(($e=I.publish)!==null&&$e!==void 0)||$e){const Ge=yield $u.publish({did:He,gatewayUri:I.gatewayUri});He.metadata=Ge.didDocumentMetadata}return He})}static import($){return __awaiter$_(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$3}){var L;const B=Did$2.parse(I.uri);if((B==null?void 0:B.method)!==$u.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,"Method not supported");const H=yield BearerDid$2.import({portableDid:I,keyManager:N});if(!(!((L=H.document.verificationMethod)===null||L===void 0)&&L.some(z=>{var Q;return((Q=z.id)===null||Q===void 0?void 0:Q.split("#").pop())==="0"})))throw new DidError$2(DidErrorCode$3.InvalidDidDocument,"DID document must contain an Identity Key");return H})}static getSigningMethod($){return __awaiter$_(this,arguments,void 0,function*({didDocument:I,methodId:N="#0"}){var L;const B=Did$2.parse(I.id);if(B&&B.method!==this.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,`Method not supported: ${B.method}`);const H=(L=I.verificationMethod)===null||L===void 0?void 0:L.find(z=>{var Q,te;return extractDidFragment$2(z.id)===((Q=extractDidFragment$2(N))!==null&&Q!==void 0?Q:extractDidFragment$2((te=I.assertionMethod)===null||te===void 0?void 0:te[0]))});if(!(H&&H.publicKeyJwk))throw new DidError$2(DidErrorCode$3.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static publish($){return __awaiter$_(this,arguments,void 0,function*({did:I,gatewayUri:N=DEFAULT_GATEWAY_URI$5}){return yield DidDhtDocument$2.put({did:I,gatewayUri:N})})}static resolve($){return __awaiter$_(this,arguments,void 0,function*(I,N={}){var L;const B=(L=N==null?void 0:N.gatewayUri)!==null&&L!==void 0?L:DEFAULT_GATEWAY_URI$5;try{yield DidDhtUtils$2.identifierToIdentityKey({didUri:I});const{didDocument:H,didDocumentMetadata:z}=yield DidDhtDocument$2.get({didUri:I,gatewayUri:B});return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didDocument:H,didDocumentMetadata:z})}catch(H){if(!(H instanceof DidError$2))throw new Error(H);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:Object.assign({error:H.code},H.message&&{errorMessage:H.message})})}})}};DidDht$2.methodName="dht";let DidDhtDocument$2=class Ea{static get($){return __awaiter$_(this,arguments,void 0,function*({didUri:I,gatewayUri:N}){const L=DidDhtUtils$2.identifierToIdentityKeyBytes({didUri:I}),B=yield Ea.pkarrGet({gatewayUri:N,publicKeyBytes:L}),H=yield DidDhtUtils$2.parseBep44GetMessage({bep44Message:B}),z=yield Ea.fromDnsPacket({didUri:I,dnsPacket:H});return z.didDocumentMetadata.versionId=B.seq.toString(),z})}static put($){return __awaiter$_(this,arguments,void 0,function*({did:I,gatewayUri:N}){const L=yield Ea.toDnsPacket({didDocument:I.document,didMetadata:I.metadata,authoritativeGatewayUris:[N]}),B=yield DidDhtUtils$2.createBep44PutMessage({dnsPacket:L,publicKeyBytes:DidDhtUtils$2.identifierToIdentityKeyBytes({didUri:I.uri}),signer:yield I.getSigner({methodId:"0"})}),H=yield Ea.pkarrPut({gatewayUri:N,bep44Message:B});return{didDocument:I.document,didDocumentMetadata:Object.assign(Object.assign({},I.metadata),{published:H,versionId:B.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet($){return __awaiter$_(this,arguments,void 0,function*({gatewayUri:I,publicKeyBytes:N}){const L=Convert$5.uint8Array(N).toBase32Z(),B=new URL(L,I).href;let H;try{if(H=yield fetch(B,{method:"GET"}),!H.ok)throw new DidError$2(DidErrorCode$3.NotFound,`Pkarr record not found for: ${L}`)}catch(te){throw te instanceof DidError$2?te:new DidError$2(DidErrorCode$3.InternalError,`Failed to fetch Pkarr record: ${te.message}`)}const z=yield H.arrayBuffer();if(!z)throw new DidError$2(DidErrorCode$3.NotFound,`Pkarr record not found for: ${L}`);if(z.byteLength<72)throw new DidError$2(DidErrorCode$3.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${z.byteLength}`);if(z.byteLength>1072)throw new DidError$2(DidErrorCode$3.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${z.byteLength}`);return{k:N,seq:Number(new DataView(z).getBigUint64(64)),sig:new Uint8Array(z,0,64),v:new Uint8Array(z,72)}})}static pkarrPut($){return __awaiter$_(this,arguments,void 0,function*({gatewayUri:I,bep44Message:N}){const L=Convert$5.uint8Array(N.k).toBase32Z(),B=new URL(L,I).href,H=new Uint8Array(N.v.length+72);H.set(N.sig,0),new DataView(H.buffer).setBigUint64(N.sig.length,BigInt(N.seq)),H.set(N.v,N.sig.length+8);let z;try{z=yield fetch(B,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:H})}catch(Q){throw new DidError$2(DidErrorCode$3.InternalError,`Failed to put Pkarr record for identifier ${L}: ${Q.message}`)}return z.ok})}static fromDnsPacket($){return __awaiter$_(this,arguments,void 0,function*({didUri:I,dnsPacket:N}){var L,B,H;const z={id:I},Q={published:!0},te=new Map;for(const G of(L=N==null?void 0:N.answers)!==null&&L!==void 0?L:[]){if(G.type!=="TXT")continue;const ie=G.name.split(".")[0].substring(1);switch(!0){case ie.startsWith("aka"):{const Re=DidDhtUtils$2.parseTxtDataToString(G.data);z.alsoKnownAs=Re.split(VALUE_SEPARATOR$2);break}case ie.startsWith("cnt"):{const Re=DidDhtUtils$2.parseTxtDataToString(G.data);z.controller=Re.includes(VALUE_SEPARATOR$2)?Re.split(VALUE_SEPARATOR$2):Re;break}case ie.startsWith("k"):{const{id:Re,t:$e,k:Pe,c:Me,a:Be}=DidDhtUtils$2.parseTxtDataToObject(G.data),Ke=Convert$5.base64Url(Pe).toUint8Array(),Le=DidDhtRegisteredKeyType$3[Number($e)];let qe=yield DidDhtUtils$2.keyConverter(Le).bytesToPublicKey({publicKeyBytes:Ke});qe.alg=Be||KeyTypeToDefaultAlgorithmMap$2[Number($e)];const He=ie==="k0"?"0":Re!==void 0?Re:yield computeJwkThumbprint$3({jwk:qe});(B=z.verificationMethod)!==null&&B!==void 0||(z.verificationMethod=[]);const Ge=`${I}#${He}`;z.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:Me??I,publicKeyJwk:qe}),te.set(ie,Ge);break}case ie.startsWith("s"):{const Re=DidDhtUtils$2.parseTxtDataToObject(G.data),{id:$e,t:Pe,se:Me}=Re,Be=__rest$e(Re,["id","t","se"]),Ke=Me.includes(VALUE_SEPARATOR$2)?Me.split(VALUE_SEPARATOR$2):[Me],Le=Object.fromEntries(Object.entries(Be).map(([qe,He])=>[qe,He.includes(VALUE_SEPARATOR$2)?He.split(VALUE_SEPARATOR$2):He]));(H=z.service)!==null&&H!==void 0||(z.service=[]),z.service.push(Object.assign(Object.assign({},Le),{id:`${I}#${$e}`,type:Pe,serviceEndpoint:Ke}));break}case ie.startsWith("typ"):{const{id:Re}=DidDhtUtils$2.parseTxtDataToObject(G.data);Q.types=Re.split(VALUE_SEPARATOR$2).map($e=>Number($e));break}case ie.startsWith("did"):{const Re=Le=>Le.split(VALUE_SEPARATOR$2).map(qe=>te.get(qe)).filter(qe=>typeof qe=="string"),{auth:$e,asm:Pe,del:Me,inv:Be,agm:Ke}=DidDhtUtils$2.parseTxtDataToObject(G.data);$e&&(z.authentication=Re($e)),Pe&&(z.assertionMethod=Re(Pe)),Me&&(z.capabilityDelegation=Re(Me)),Be&&(z.capabilityInvocation=Re(Be)),Ke&&(z.keyAgreement=Re(Ke));break}}}return{didDocument:z,didDocumentMetadata:Q,didResolutionMetadata:{}}})}static toDnsPacket($){return __awaiter$_(this,arguments,void 0,function*({didDocument:I,didMetadata:N,authoritativeGatewayUris:L,previousDidProof:B}){var H,z,Q,te,G;const ie=[],Re=[],$e=new Map,Pe=[],Me=[];if(B!==void 0){const{signature:Le,previousDid:qe}=B;yield DidDhtUtils$2.validatePreviousDidProof({newDid:I.id,previousDidProof:B}),ie.push({type:"TXT",name:"_prv._did.",ttl:DNS_RECORD_TTL$2,data:`id=${qe};s=${Le}`})}if(I.alsoKnownAs&&ie.push({type:"TXT",name:"_aka._did.",ttl:DNS_RECORD_TTL$2,data:I.alsoKnownAs.join(VALUE_SEPARATOR$2)}),I.controller){const Le=Array.isArray(I.controller)?I.controller.join(VALUE_SEPARATOR$2):I.controller;ie.push({type:"TXT",name:"_cnt._did.",ttl:DNS_RECORD_TTL$2,data:Le})}for(const[Le,qe]of(z=(H=I.verificationMethod)===null||H===void 0?void 0:H.entries())!==null&&z!==void 0?z:[]){const He=`k${Le}`;Me.push(He);let Ge=qe.id.split("#").pop();$e.set(Ge,He);const at=qe.publicKeyJwk;if(!(at!=null&&at.crv&&at.crv in AlgorithmToKeyTypeMap$8))throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Verification method '${qe.id}' contains an unsupported key type: ${(Q=at==null?void 0:at.crv)!==null&&Q!==void 0?Q:"undefined"}`);const ot=DidDhtRegisteredKeyType$3[at.crv],Ye=yield DidDhtUtils$2.keyConverter(at.crv).publicKeyToBytes({publicKey:at}),nt=Convert$5.uint8Array(Ye).toBase64Url(),Qe=[`t=${ot}`,`k=${nt}`];Ge!=="0"&&(yield computeJwkThumbprint$3({jwk:at}))!==Ge&&Qe.unshift(`id=${Ge}`),at.alg!==KeyTypeToDefaultAlgorithmMap$2[ot]&&Qe.push(`a=${at.alg}`),qe.controller!==I.id&&Qe.push(`c=${qe.controller}`),ie.push({type:"TXT",name:`_${He}._did.`,ttl:DNS_RECORD_TTL$2,data:Qe.join(PROPERTY_SEPARATOR$2)})}(te=I.service)===null||te===void 0||te.forEach((Le,qe)=>{const He=`s${qe}`;Pe.push(He);let{id:Ge,type:at,serviceEndpoint:ot}=Le,Ye=__rest$e(Le,["id","type","serviceEndpoint"]);Ge=extractDidFragment$2(Ge),ot=Array.isArray(ot)?ot.join(","):ot;const Qe=Object.entries(Object.assign({id:Ge,t:at,se:ot},Ye)).map(([ze,Fe])=>`${ze}=${Fe}`).join(PROPERTY_SEPARATOR$2),tt=DidDhtUtils$2.chunkDataIfNeeded(Qe);ie.push({type:"TXT",name:`_${He}._did.`,ttl:DNS_RECORD_TTL$2,data:tt})});const Be=[`v=${DID_DHT_SPECIFICATION_VERSION$2}`];if(Me.length&&Be.push(`vm=${Me.join(VALUE_SEPARATOR$2)}`),Object.keys(DidVerificationRelationship$3).forEach(Le=>{var qe;const He=(qe=I[Le])===null||qe===void 0?void 0:qe.map(Ge=>$e.get(Ge.split("#").pop()));if(He){const Ge=DidDhtVerificationRelationship$3[Le];Be.push(`${Ge}=${He.join(VALUE_SEPARATOR$2)}`)}}),Pe.length&&Be.push(`svc=${Pe.join(VALUE_SEPARATOR$2)}`),!((G=N.types)===null||G===void 0)&&G.length){const qe=N.types.map(He=>typeof He=="string"?DidDhtRegisteredDidType$3[He]:He);ie.push({type:"TXT",name:"_typ._did.",ttl:DNS_RECORD_TTL$2,data:`id=${qe.join(VALUE_SEPARATOR$2)}`})}ie.push({type:"TXT",name:"_did."+Ea.getUniqueDidSuffix(I.id)+".",ttl:DNS_RECORD_TTL$2,data:Be.join(PROPERTY_SEPARATOR$2)});for(const Le of L||[])Re.push({type:"NS",name:"_did."+Ea.getUniqueDidSuffix(I.id)+".",ttl:DNS_RECORD_TTL$2,data:Le+"."});return{id:0,type:"response",flags:AUTHORITATIVE_ANSWER,answers:[...ie,...Re]}})}static getUniqueDidSuffix($){return $.split(":")[2]}},DidDhtUtils$2=class Hl{static createBep44PutMessage($){return __awaiter$_(this,arguments,void 0,function*({dnsPacket:I,publicKeyBytes:N,signer:L}){const B=Math.ceil(Date.now()/1e3),H=encode$c(I),z=bencode.encode({seq:B,v:H}).subarray(1,-1);if(z.length>1e3)throw new DidError$2(DidErrorCode$3.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${z.length} bytes`);const Q=yield L.sign({data:z});return{k:N,seq:B,sig:Q,v:H}})}static identifierToIdentityKey($){return __awaiter$_(this,arguments,void 0,function*({didUri:I}){let N=Hl.identifierToIdentityKeyBytes({didUri:I});return yield Ed25519$3.bytesToPublicKey({publicKeyBytes:N})})}static identifierToIdentityKeyBytes({didUri:$}){const I=Did$2.parse($);if(!I)throw new DidError$2(DidErrorCode$3.InvalidDid,`Invalid DID URI: ${$}`);if(I.method!==DidDht$2.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,`Method not supported: ${I.method}`);let N;try{N=Convert$5.base32Z(I.id).toUint8Array()}catch{throw new DidError$2(DidErrorCode$3.InvalidPublicKey,"Failed to decode method-specific identifier")}if(N.length!==32)throw new DidError$2(DidErrorCode$3.InvalidPublicKeyLength,`Invalid public key length: ${N.length}`);return N}static identityKeyToIdentifier($){return __awaiter$_(this,arguments,void 0,function*({identityKey:I}){const N=yield Ed25519$3.publicKeyToBytes({publicKey:I}),L=Convert$5.uint8Array(N).toBase32Z();return`did:${DidDht$2.methodName}:${L}`})}static keyConverter($){const N={Ed25519:Ed25519$3,"P-256":{publicKeyToBytes:L=>__awaiter$_(this,[L],void 0,function*({publicKey:B}){const H=yield Secp256r1$3.publicKeyToBytes({publicKey:B});return yield Secp256r1$3.compressPublicKey({publicKeyBytes:H})}),bytesToPublicKey:Secp256r1$3.bytesToPublicKey,privateKeyToBytes:Secp256r1$3.privateKeyToBytes,bytesToPrivateKey:Secp256r1$3.bytesToPrivateKey},secp256k1:{publicKeyToBytes:L=>__awaiter$_(this,[L],void 0,function*({publicKey:B}){const H=yield Secp256k1$3.publicKeyToBytes({publicKey:B});return yield Secp256k1$3.compressPublicKey({publicKeyBytes:H})}),bytesToPublicKey:Secp256k1$3.bytesToPublicKey,privateKeyToBytes:Secp256k1$3.privateKeyToBytes,bytesToPrivateKey:Secp256k1$3.bytesToPrivateKey},X25519:X25519$2}[$];if(!N)throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static parseBep44GetMessage($){return __awaiter$_(this,arguments,void 0,function*({bep44Message:I}){const N=yield Ed25519$3.bytesToPublicKey({publicKeyBytes:I.k}),L=bencode.encode({seq:I.seq,v:I.v}).subarray(1,-1);if(!(yield Ed25519$3.verify({key:N,signature:I.sig,data:L})))throw new DidError$2(DidErrorCode$3.InvalidSignature,"Invalid signature for DHT BEP44 message");return decode$j(I.v)})}static parseTxtDataToObject($){return this.parseTxtDataToString($).split(PROPERTY_SEPARATOR$2).reduce((I,N)=>{const[L,B]=N.split("=");return I[L]=B,I},{})}static parseTxtDataToString($){if(typeof $=="string")return $;if($ instanceof Uint8Array)return Convert$5.uint8Array($).toString();if(Array.isArray($))return $.map(I=>this.parseTxtDataToString(I)).join("");throw new DidError$2(DidErrorCode$3.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof($){return __awaiter$_(this,arguments,void 0,function*({newDid:I,previousDidProof:N}){const L=yield Hl.identifierToIdentityKey({didUri:N.previousDid}),B=Hl.identifierToIdentityKeyBytes({didUri:I}),H=Convert$5.base64Url(N.signature).toUint8Array();if(!(yield Ed25519$3.verify({key:L,data:B,signature:H})))throw new DidError$2(DidErrorCode$3.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded($){if($.length<=255)return $;const I=[];for(let N=0;N<$.length;N+=255)I.push($.slice(N,N+255));return I}};const ErrorCode={DeltaExceedsMaximumSize:"DeltaExceedsMaximumSize",DidDocumentPublicKeyIdDuplicated:"DidDocumentPublicKeyIdDuplicated",DidDocumentPublicKeyMissingOrIncorrectType:"DidDocumentPublicKeyMissingOrIncorrectType",DidDocumentServiceIdDuplicated:"DidDocumentServiceIdDuplicated",EncodedStringIncorrectEncoding:"EncodedStringIncorrectEncoding",IdNotUsingBase64UrlCharacterSet:"IdNotUsingBase64UrlCharacterSet",IdTooLong:"IdTooLong",JwkEs256kMissingOrInvalidCrv:"JwkEs256kMissingOrInvalidCrv",JwkEs256kMissingOrInvalidKty:"JwkEs256kMissingOrInvalidKty",JwkEs256kHasIncorrectLengthOfX:"JwkEs256kHasIncorrectLengthOfX",JwkEs256kHasIncorrectLengthOfY:"JwkEs256kHasIncorrectLengthOfY",JwkEs256kHasIncorrectLengthOfD:"JwkEs256kHasIncorrectLengthOfD",MultihashStringNotAMultihash:"MultihashStringNotAMultihash",MultihashUnsupportedHashAlgorithm:"MultihashUnsupportedHashAlgorithm",PublicKeyJwkEs256kHasUnexpectedProperty:"PublicKeyJwkEs256kHasUnexpectedProperty",PublicKeyPurposeDuplicated:"PublicKeyPurposeDuplicated",ServiceEndpointCannotBeAnArray:"ServiceEndpointCannotBeAnArray",ServiceEndpointStringNotValidUri:"ServiceEndpointStringNotValidUri",ServiceTypeTooLong:"ServiceTypeTooLong"};class IonError extends Error{constructor($,I){super(`${$}: ${I}`),this.code=$,Object.setPrototypeOf(this,new.target.prototype)}}const coerce$4=T=>{if(T instanceof Uint8Array&&T.constructor.name==="Uint8Array")return T;if(T instanceof ArrayBuffer)return new Uint8Array(T);if(ArrayBuffer.isView(T))return new Uint8Array(T.buffer,T.byteOffset,T.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$5=class{constructor($,I,N){this.name=$,this.prefix=I,this.baseEncode=N}encode($){if($ instanceof Uint8Array)return`${this.prefix}${this.baseEncode($)}`;throw Error("Unknown type, must be binary type")}},Decoder$4=class{constructor($,I,N){if(this.name=$,this.prefix=I,I.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=I.codePointAt(0),this.baseDecode=N}decode($){if(typeof $=="string"){if($.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify($)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode($.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or($){return or$4(this,$)}},ComposedDecoder$4=class{constructor($){this.decoders=$}or($){return or$4(this,$)}decode($){const I=$[0],N=this.decoders[I];if(N)return N.decode($);throw RangeError(`Unable to decode multibase string ${JSON.stringify($)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$4=(T,$)=>new ComposedDecoder$4({...T.decoders||{[T.prefix]:T},...$.decoders||{[$.prefix]:$}});let Codec$4=class{constructor($,I,N,L){this.name=$,this.prefix=I,this.baseEncode=N,this.baseDecode=L,this.encoder=new Encoder$5($,I,N),this.decoder=new Decoder$4($,I,L)}encode($){return this.encoder.encode($)}decode($){return this.decoder.decode($)}};const from$h=({name:T,prefix:$,encode:I,decode:N})=>new Codec$4(T,$,I,N),decode$i=(T,$,I,N)=>{const L={};for(let G=0;G<$.length;++G)L[$[G]]=G;let B=T.length;for(;T[B-1]==="=";)--B;const H=new Uint8Array(B*I/8|0);let z=0,Q=0,te=0;for(let G=0;G<B;++G){const ie=L[T[G]];if(ie===void 0)throw new SyntaxError(`Non-${N} character`);Q=Q<<I|ie,z+=I,z>=8&&(z-=8,H[te++]=255&Q>>z)}if(z>=I||255&Q<<8-z)throw new SyntaxError("Unexpected end of data");return H},encode$b=(T,$,I)=>{const N=$[$.length-1]==="=",L=(1<<I)-1;let B="",H=0,z=0;for(let Q=0;Q<T.length;++Q)for(z=z<<8|T[Q],H+=8;H>I;)H-=I,B+=$[L&z>>H];if(H&&(B+=$[L&z<<I-H]),N)for(;B.length*I&7;)B+="=";return B},rfc4648$4=({name:T,prefix:$,bitsPerChar:I,alphabet:N})=>from$h({prefix:$,name:T,encode(L){return encode$b(L,N,I)},decode(L){return decode$i(L,N,I,T)}});rfc4648$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url$3=rfc4648$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});let Encoder$4=class Gl{static encode($){return base64url$3.baseEncode($)}static decodeAsBytes($,I){if(!Gl.isBase64UrlString($))throw new IonError(ErrorCode.EncodedStringIncorrectEncoding,`Given ${I} must be base64url string.`);return base64url$3.baseDecode($)}static decodeAsString($,I){const N=Gl.decodeAsBytes($,I);return Gl.bytesToString(N)}static isBase64UrlString($){return/^[A-Za-z0-9_-]+$/.test($)}static stringToBytes($){return new TextEncoder().encode($)}static bytesToString($){return new TextDecoder().decode($)}};var uri_all$2={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(T,$){(function(I,N){N($)})(commonjsGlobal$2,function(I){function N(){for(var Ht=arguments.length,Xt=Array(Ht),ir=0;ir<Ht;ir++)Xt[ir]=arguments[ir];if(Xt.length>1){Xt[0]=Xt[0].slice(0,-1);for(var ur=Xt.length-1,$r=1;$r<ur;++$r)Xt[$r]=Xt[$r].slice(1,-1);return Xt[ur]=Xt[ur].slice(1),Xt.join("")}else return Xt[0]}function L(Ht){return"(?:"+Ht+")"}function B(Ht){return Ht===void 0?"undefined":Ht===null?"null":Object.prototype.toString.call(Ht).split(" ").pop().split("]").shift().toLowerCase()}function H(Ht){return Ht.toUpperCase()}function z(Ht){return Ht!=null?Ht instanceof Array?Ht:typeof Ht.length!="number"||Ht.split||Ht.setInterval||Ht.call?[Ht]:Array.prototype.slice.call(Ht):[]}function Q(Ht,Xt){var ir=Ht;if(Xt)for(var ur in Xt)ir[ur]=Xt[ur];return ir}function te(Ht){var Xt="[A-Za-z]",ir="[0-9]",ur=N(ir,"[A-Fa-f]"),$r=L(L("%[EFef]"+ur+"%"+ur+ur+"%"+ur+ur)+"|"+L("%[89A-Fa-f]"+ur+"%"+ur+ur)+"|"+L("%"+ur+ur)),xr="[\\:\\/\\?\\#\\[\\]\\@]",Lr="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",on=N(xr,Lr),rn=Ht?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",tn=Ht?"[\\uE000-\\uF8FF]":"[]",pn=N(Xt,ir,"[\\-\\.\\_\\~]",rn);L(Xt+N(Xt,ir,"[\\+\\-\\.]")+"*"),L(L($r+"|"+N(pn,Lr,"[\\:]"))+"*");var yn=L(L("25[0-5]")+"|"+L("2[0-4]"+ir)+"|"+L("1"+ir+ir)+"|"+L("0?[1-9]"+ir)+"|0?0?"+ir),ln=L(yn+"\\."+yn+"\\."+yn+"\\."+yn),er=L(ur+"{1,4}"),Rr=L(L(er+"\\:"+er)+"|"+ln),Or=L(L(er+"\\:")+"{6}"+Rr),Fr=L("\\:\\:"+L(er+"\\:")+"{5}"+Rr),Hr=L(L(er)+"?\\:\\:"+L(er+"\\:")+"{4}"+Rr),an=L(L(L(er+"\\:")+"{0,1}"+er)+"?\\:\\:"+L(er+"\\:")+"{3}"+Rr),cn=L(L(L(er+"\\:")+"{0,2}"+er)+"?\\:\\:"+L(er+"\\:")+"{2}"+Rr),Rn=L(L(L(er+"\\:")+"{0,3}"+er)+"?\\:\\:"+er+"\\:"+Rr),gn=L(L(L(er+"\\:")+"{0,4}"+er)+"?\\:\\:"+Rr),vn=L(L(L(er+"\\:")+"{0,5}"+er)+"?\\:\\:"+er),_n=L(L(L(er+"\\:")+"{0,6}"+er)+"?\\:\\:"),kn=L([Or,Fr,Hr,an,cn,Rn,gn,vn,_n].join("|")),An=L(L(pn+"|"+$r)+"+");L("[vV]"+ur+"+\\."+N(pn,Lr,"[\\:]")+"+"),L(L($r+"|"+N(pn,Lr))+"*");var Dn=L($r+"|"+N(pn,Lr,"[\\:\\@]"));return L(L($r+"|"+N(pn,Lr,"[\\@]"))+"+"),L(L(Dn+"|"+N("[\\/\\?]",tn))+"*"),{NOT_SCHEME:new RegExp(N("[^]",Xt,ir,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(N("[^\\%\\:]",pn,Lr),"g"),NOT_HOST:new RegExp(N("[^\\%\\[\\]\\:]",pn,Lr),"g"),NOT_PATH:new RegExp(N("[^\\%\\/\\:\\@]",pn,Lr),"g"),NOT_PATH_NOSCHEME:new RegExp(N("[^\\%\\/\\@]",pn,Lr),"g"),NOT_QUERY:new RegExp(N("[^\\%]",pn,Lr,"[\\:\\@\\/\\?]",tn),"g"),NOT_FRAGMENT:new RegExp(N("[^\\%]",pn,Lr,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(N("[^]",pn,Lr),"g"),UNRESERVED:new RegExp(pn,"g"),OTHER_CHARS:new RegExp(N("[^\\%]",pn,on),"g"),PCT_ENCODED:new RegExp($r,"g"),IPV4ADDRESS:new RegExp("^("+ln+")$"),IPV6ADDRESS:new RegExp("^\\[?("+kn+")"+L(L("\\%25|\\%(?!"+ur+"{2})")+"("+An+")")+"?\\]?$")}}var G=te(!1),ie=te(!0),Re=function(){function Ht(Xt,ir){var ur=[],$r=!0,xr=!1,Lr=void 0;try{for(var on=Xt[Symbol.iterator](),rn;!($r=(rn=on.next()).done)&&(ur.push(rn.value),!(ir&&ur.length===ir));$r=!0);}catch(tn){xr=!0,Lr=tn}finally{try{!$r&&on.return&&on.return()}finally{if(xr)throw Lr}}return ur}return function(Xt,ir){if(Array.isArray(Xt))return Xt;if(Symbol.iterator in Object(Xt))return Ht(Xt,ir);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$e=function(Ht){if(Array.isArray(Ht)){for(var Xt=0,ir=Array(Ht.length);Xt<Ht.length;Xt++)ir[Xt]=Ht[Xt];return ir}else return Array.from(Ht)},Pe=2147483647,Me=36,Be=1,Ke=26,Le=38,qe=700,He=72,Ge=128,at="-",ot=/^xn--/,Ye=/[^\0-\x7E]/,nt=/[\x2E\u3002\uFF0E\uFF61]/g,Qe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},tt=Me-Be,ze=Math.floor,Fe=String.fromCharCode;function ke(Ht){throw new RangeError(Qe[Ht])}function Ue(Ht,Xt){for(var ir=[],ur=Ht.length;ur--;)ir[ur]=Xt(Ht[ur]);return ir}function Je(Ht,Xt){var ir=Ht.split("@"),ur="";ir.length>1&&(ur=ir[0]+"@",Ht=ir[1]),Ht=Ht.replace(nt,".");var $r=Ht.split("."),xr=Ue($r,Xt).join(".");return ur+xr}function rt(Ht){for(var Xt=[],ir=0,ur=Ht.length;ir<ur;){var $r=Ht.charCodeAt(ir++);if($r>=55296&&$r<=56319&&ir<ur){var xr=Ht.charCodeAt(ir++);(xr&64512)==56320?Xt.push((($r&1023)<<10)+(xr&1023)+65536):(Xt.push($r),ir--)}else Xt.push($r)}return Xt}var Xe=function(Xt){return String.fromCodePoint.apply(String,$e(Xt))},it=function(Xt){return Xt-48<10?Xt-22:Xt-65<26?Xt-65:Xt-97<26?Xt-97:Me},We=function(Xt,ir){return Xt+22+75*(Xt<26)-((ir!=0)<<5)},Ve=function(Xt,ir,ur){var $r=0;for(Xt=ur?ze(Xt/qe):Xt>>1,Xt+=ze(Xt/ir);Xt>tt*Ke>>1;$r+=Me)Xt=ze(Xt/tt);return ze($r+(tt+1)*Xt/(Xt+Le))},je=function(Xt){var ir=[],ur=Xt.length,$r=0,xr=Ge,Lr=He,on=Xt.lastIndexOf(at);on<0&&(on=0);for(var rn=0;rn<on;++rn)Xt.charCodeAt(rn)>=128&&ke("not-basic"),ir.push(Xt.charCodeAt(rn));for(var tn=on>0?on+1:0;tn<ur;){for(var pn=$r,yn=1,ln=Me;;ln+=Me){tn>=ur&&ke("invalid-input");var er=it(Xt.charCodeAt(tn++));(er>=Me||er>ze((Pe-$r)/yn))&&ke("overflow"),$r+=er*yn;var Rr=ln<=Lr?Be:ln>=Lr+Ke?Ke:ln-Lr;if(er<Rr)break;var Or=Me-Rr;yn>ze(Pe/Or)&&ke("overflow"),yn*=Or}var Fr=ir.length+1;Lr=Ve($r-pn,Fr,pn==0),ze($r/Fr)>Pe-xr&&ke("overflow"),xr+=ze($r/Fr),$r%=Fr,ir.splice($r++,0,xr)}return String.fromCodePoint.apply(String,ir)},Ze=function(Xt){var ir=[];Xt=rt(Xt);var ur=Xt.length,$r=Ge,xr=0,Lr=He,on=!0,rn=!1,tn=void 0;try{for(var pn=Xt[Symbol.iterator](),yn;!(on=(yn=pn.next()).done);on=!0){var ln=yn.value;ln<128&&ir.push(Fe(ln))}}catch(jr){rn=!0,tn=jr}finally{try{!on&&pn.return&&pn.return()}finally{if(rn)throw tn}}var er=ir.length,Rr=er;for(er&&ir.push(at);Rr<ur;){var Or=Pe,Fr=!0,Hr=!1,an=void 0;try{for(var cn=Xt[Symbol.iterator](),Rn;!(Fr=(Rn=cn.next()).done);Fr=!0){var gn=Rn.value;gn>=$r&&gn<Or&&(Or=gn)}}catch(jr){Hr=!0,an=jr}finally{try{!Fr&&cn.return&&cn.return()}finally{if(Hr)throw an}}var vn=Rr+1;Or-$r>ze((Pe-xr)/vn)&&ke("overflow"),xr+=(Or-$r)*vn,$r=Or;var _n=!0,kn=!1,An=void 0;try{for(var Dn=Xt[Symbol.iterator](),In;!(_n=(In=Dn.next()).done);_n=!0){var Qt=In.value;if(Qt<$r&&++xr>Pe&&ke("overflow"),Qt==$r){for(var vr=xr,ar=Me;;ar+=Me){var Sr=ar<=Lr?Be:ar>=Lr+Ke?Ke:ar-Lr;if(vr<Sr)break;var Tr=vr-Sr,wr=Me-Sr;ir.push(Fe(We(Sr+Tr%wr,0))),vr=ze(Tr/wr)}ir.push(Fe(We(vr,0))),Lr=Ve(xr,vn,Rr==er),xr=0,++Rr}}}catch(jr){kn=!0,An=jr}finally{try{!_n&&Dn.return&&Dn.return()}finally{if(kn)throw An}}++xr,++$r}return ir.join("")},st=function(Xt){return Je(Xt,function(ir){return ot.test(ir)?je(ir.slice(4).toLowerCase()):ir})},dt=function(Xt){return Je(Xt,function(ir){return Ye.test(ir)?"xn--"+Ze(ir):ir})},bt={version:"2.1.0",ucs2:{decode:rt,encode:Xe},decode:je,encode:Ze,toASCII:dt,toUnicode:st},vt={};function St(Ht){var Xt=Ht.charCodeAt(0),ir=void 0;return Xt<16?ir="%0"+Xt.toString(16).toUpperCase():Xt<128?ir="%"+Xt.toString(16).toUpperCase():Xt<2048?ir="%"+(Xt>>6|192).toString(16).toUpperCase()+"%"+(Xt&63|128).toString(16).toUpperCase():ir="%"+(Xt>>12|224).toString(16).toUpperCase()+"%"+(Xt>>6&63|128).toString(16).toUpperCase()+"%"+(Xt&63|128).toString(16).toUpperCase(),ir}function Bt(Ht){for(var Xt="",ir=0,ur=Ht.length;ir<ur;){var $r=parseInt(Ht.substr(ir+1,2),16);if($r<128)Xt+=String.fromCharCode($r),ir+=3;else if($r>=194&&$r<224){if(ur-ir>=6){var xr=parseInt(Ht.substr(ir+4,2),16);Xt+=String.fromCharCode(($r&31)<<6|xr&63)}else Xt+=Ht.substr(ir,6);ir+=6}else if($r>=224){if(ur-ir>=9){var Lr=parseInt(Ht.substr(ir+4,2),16),on=parseInt(Ht.substr(ir+7,2),16);Xt+=String.fromCharCode(($r&15)<<12|(Lr&63)<<6|on&63)}else Xt+=Ht.substr(ir,9);ir+=9}else Xt+=Ht.substr(ir,3),ir+=3}return Xt}function Gt(Ht,Xt){function ir(ur){var $r=Bt(ur);return $r.match(Xt.UNRESERVED)?$r:ur}return Ht.scheme&&(Ht.scheme=String(Ht.scheme).replace(Xt.PCT_ENCODED,ir).toLowerCase().replace(Xt.NOT_SCHEME,"")),Ht.userinfo!==void 0&&(Ht.userinfo=String(Ht.userinfo).replace(Xt.PCT_ENCODED,ir).replace(Xt.NOT_USERINFO,St).replace(Xt.PCT_ENCODED,H)),Ht.host!==void 0&&(Ht.host=String(Ht.host).replace(Xt.PCT_ENCODED,ir).toLowerCase().replace(Xt.NOT_HOST,St).replace(Xt.PCT_ENCODED,H)),Ht.path!==void 0&&(Ht.path=String(Ht.path).replace(Xt.PCT_ENCODED,ir).replace(Ht.scheme?Xt.NOT_PATH:Xt.NOT_PATH_NOSCHEME,St).replace(Xt.PCT_ENCODED,H)),Ht.query!==void 0&&(Ht.query=String(Ht.query).replace(Xt.PCT_ENCODED,ir).replace(Xt.NOT_QUERY,St).replace(Xt.PCT_ENCODED,H)),Ht.fragment!==void 0&&(Ht.fragment=String(Ht.fragment).replace(Xt.PCT_ENCODED,ir).replace(Xt.NOT_FRAGMENT,St).replace(Xt.PCT_ENCODED,H)),Ht}function Dt(Ht){return Ht.replace(/^0*(.*)/,"$1")||"0"}function Mt(Ht,Xt){var ir=Ht.match(Xt.IPV4ADDRESS)||[],ur=Re(ir,2),$r=ur[1];return $r?$r.split(".").map(Dt).join("."):Ht}function pt(Ht,Xt){var ir=Ht.match(Xt.IPV6ADDRESS)||[],ur=Re(ir,3),$r=ur[1],xr=ur[2];if($r){for(var Lr=$r.toLowerCase().split("::").reverse(),on=Re(Lr,2),rn=on[0],tn=on[1],pn=tn?tn.split(":").map(Dt):[],yn=rn.split(":").map(Dt),ln=Xt.IPV4ADDRESS.test(yn[yn.length-1]),er=ln?7:8,Rr=yn.length-er,Or=Array(er),Fr=0;Fr<er;++Fr)Or[Fr]=pn[Fr]||yn[Rr+Fr]||"";ln&&(Or[er-1]=Mt(Or[er-1],Xt));var Hr=Or.reduce(function(vn,_n,kn){if(!_n||_n==="0"){var An=vn[vn.length-1];An&&An.index+An.length===kn?An.length++:vn.push({index:kn,length:1})}return vn},[]),an=Hr.sort(function(vn,_n){return _n.length-vn.length})[0],cn=void 0;if(an&&an.length>1){var Rn=Or.slice(0,an.index),gn=Or.slice(an.index+an.length);cn=Rn.join(":")+"::"+gn.join(":")}else cn=Or.join(":");return xr&&(cn+="%"+xr),cn}else return Ht}var mt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,$t="".match(/(){0}/)[1]===void 0;function kt(Ht){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ir={},ur=Xt.iri!==!1?ie:G;Xt.reference==="suffix"&&(Ht=(Xt.scheme?Xt.scheme+":":"")+"//"+Ht);var $r=Ht.match(mt);if($r){$t?(ir.scheme=$r[1],ir.userinfo=$r[3],ir.host=$r[4],ir.port=parseInt($r[5],10),ir.path=$r[6]||"",ir.query=$r[7],ir.fragment=$r[8],isNaN(ir.port)&&(ir.port=$r[5])):(ir.scheme=$r[1]||void 0,ir.userinfo=Ht.indexOf("@")!==-1?$r[3]:void 0,ir.host=Ht.indexOf("//")!==-1?$r[4]:void 0,ir.port=parseInt($r[5],10),ir.path=$r[6]||"",ir.query=Ht.indexOf("?")!==-1?$r[7]:void 0,ir.fragment=Ht.indexOf("#")!==-1?$r[8]:void 0,isNaN(ir.port)&&(ir.port=Ht.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?$r[4]:void 0)),ir.host&&(ir.host=pt(Mt(ir.host,ur),ur)),ir.scheme===void 0&&ir.userinfo===void 0&&ir.host===void 0&&ir.port===void 0&&!ir.path&&ir.query===void 0?ir.reference="same-document":ir.scheme===void 0?ir.reference="relative":ir.fragment===void 0?ir.reference="absolute":ir.reference="uri",Xt.reference&&Xt.reference!=="suffix"&&Xt.reference!==ir.reference&&(ir.error=ir.error||"URI is not a "+Xt.reference+" reference.");var xr=vt[(Xt.scheme||ir.scheme||"").toLowerCase()];if(!Xt.unicodeSupport&&(!xr||!xr.unicodeSupport)){if(ir.host&&(Xt.domainHost||xr&&xr.domainHost))try{ir.host=bt.toASCII(ir.host.replace(ur.PCT_ENCODED,Bt).toLowerCase())}catch(Lr){ir.error=ir.error||"Host's domain name can not be converted to ASCII via punycode: "+Lr}Gt(ir,G)}else Gt(ir,ur);xr&&xr.parse&&xr.parse(ir,Xt)}else ir.error=ir.error||"URI can not be parsed.";return ir}function Ft(Ht,Xt){var ir=Xt.iri!==!1?ie:G,ur=[];return Ht.userinfo!==void 0&&(ur.push(Ht.userinfo),ur.push("@")),Ht.host!==void 0&&ur.push(pt(Mt(String(Ht.host),ir),ir).replace(ir.IPV6ADDRESS,function($r,xr,Lr){return"["+xr+(Lr?"%25"+Lr:"")+"]"})),(typeof Ht.port=="number"||typeof Ht.port=="string")&&(ur.push(":"),ur.push(String(Ht.port))),ur.length?ur.join(""):void 0}var nr=/^\.\.?\//,Yt=/^\/\.(\/|$)/,yr=/^\/\.\.(\/|$)/,gr=/^\/?(?:.|\n)*?(?=\/|$)/;function br(Ht){for(var Xt=[];Ht.length;)if(Ht.match(nr))Ht=Ht.replace(nr,"");else if(Ht.match(Yt))Ht=Ht.replace(Yt,"/");else if(Ht.match(yr))Ht=Ht.replace(yr,"/"),Xt.pop();else if(Ht==="."||Ht==="..")Ht="";else{var ir=Ht.match(gr);if(ir){var ur=ir[0];Ht=Ht.slice(ur.length),Xt.push(ur)}else throw new Error("Unexpected dot segment condition")}return Xt.join("")}function cr(Ht){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ir=Xt.iri?ie:G,ur=[],$r=vt[(Xt.scheme||Ht.scheme||"").toLowerCase()];if($r&&$r.serialize&&$r.serialize(Ht,Xt),Ht.host&&!ir.IPV6ADDRESS.test(Ht.host)){if(Xt.domainHost||$r&&$r.domainHost)try{Ht.host=Xt.iri?bt.toUnicode(Ht.host):bt.toASCII(Ht.host.replace(ir.PCT_ENCODED,Bt).toLowerCase())}catch(on){Ht.error=Ht.error||"Host's domain name can not be converted to "+(Xt.iri?"Unicode":"ASCII")+" via punycode: "+on}}Gt(Ht,ir),Xt.reference!=="suffix"&&Ht.scheme&&(ur.push(Ht.scheme),ur.push(":"));var xr=Ft(Ht,Xt);if(xr!==void 0&&(Xt.reference!=="suffix"&&ur.push("//"),ur.push(xr),Ht.path&&Ht.path.charAt(0)!=="/"&&ur.push("/")),Ht.path!==void 0){var Lr=Ht.path;!Xt.absolutePath&&(!$r||!$r.absolutePath)&&(Lr=br(Lr)),xr===void 0&&(Lr=Lr.replace(/^\/\//,"/%2F")),ur.push(Lr)}return Ht.query!==void 0&&(ur.push("?"),ur.push(Ht.query)),Ht.fragment!==void 0&&(ur.push("#"),ur.push(Ht.fragment)),ur.join("")}function pr(Ht,Xt){var ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ur=arguments[3],$r={};return ur||(Ht=kt(cr(Ht,ir),ir),Xt=kt(cr(Xt,ir),ir)),ir=ir||{},!ir.tolerant&&Xt.scheme?($r.scheme=Xt.scheme,$r.userinfo=Xt.userinfo,$r.host=Xt.host,$r.port=Xt.port,$r.path=br(Xt.path||""),$r.query=Xt.query):(Xt.userinfo!==void 0||Xt.host!==void 0||Xt.port!==void 0?($r.userinfo=Xt.userinfo,$r.host=Xt.host,$r.port=Xt.port,$r.path=br(Xt.path||""),$r.query=Xt.query):(Xt.path?(Xt.path.charAt(0)==="/"?$r.path=br(Xt.path):((Ht.userinfo!==void 0||Ht.host!==void 0||Ht.port!==void 0)&&!Ht.path?$r.path="/"+Xt.path:Ht.path?$r.path=Ht.path.slice(0,Ht.path.lastIndexOf("/")+1)+Xt.path:$r.path=Xt.path,$r.path=br($r.path)),$r.query=Xt.query):($r.path=Ht.path,Xt.query!==void 0?$r.query=Xt.query:$r.query=Ht.query),$r.userinfo=Ht.userinfo,$r.host=Ht.host,$r.port=Ht.port),$r.scheme=Ht.scheme),$r.fragment=Xt.fragment,$r}function lt(Ht,Xt,ir){var ur=Q({scheme:"null"},ir);return cr(pr(kt(Ht,ur),kt(Xt,ur),ur,!0),ur)}function ct(Ht,Xt){return typeof Ht=="string"?Ht=cr(kt(Ht,Xt),Xt):B(Ht)==="object"&&(Ht=kt(cr(Ht,Xt),Xt)),Ht}function Nt(Ht,Xt,ir){return typeof Ht=="string"?Ht=cr(kt(Ht,ir),ir):B(Ht)==="object"&&(Ht=cr(Ht,ir)),typeof Xt=="string"?Xt=cr(kt(Xt,ir),ir):B(Xt)==="object"&&(Xt=cr(Xt,ir)),Ht===Xt}function jt(Ht,Xt){return Ht&&Ht.toString().replace(!Xt||!Xt.iri?G.ESCAPE:ie.ESCAPE,St)}function zt(Ht,Xt){return Ht&&Ht.toString().replace(!Xt||!Xt.iri?G.PCT_ENCODED:ie.PCT_ENCODED,Bt)}var Ot={scheme:"http",domainHost:!0,parse:function(Xt,ir){return Xt.host||(Xt.error=Xt.error||"HTTP URIs must have a host."),Xt},serialize:function(Xt,ir){var ur=String(Xt.scheme).toLowerCase()==="https";return(Xt.port===(ur?443:80)||Xt.port==="")&&(Xt.port=void 0),Xt.path||(Xt.path="/"),Xt}},Rt={scheme:"https",domainHost:Ot.domainHost,parse:Ot.parse,serialize:Ot.serialize};function It(Ht){return typeof Ht.secure=="boolean"?Ht.secure:String(Ht.scheme).toLowerCase()==="wss"}var Kt={scheme:"ws",domainHost:!0,parse:function(Xt,ir){var ur=Xt;return ur.secure=It(ur),ur.resourceName=(ur.path||"/")+(ur.query?"?"+ur.query:""),ur.path=void 0,ur.query=void 0,ur},serialize:function(Xt,ir){if((Xt.port===(It(Xt)?443:80)||Xt.port==="")&&(Xt.port=void 0),typeof Xt.secure=="boolean"&&(Xt.scheme=Xt.secure?"wss":"ws",Xt.secure=void 0),Xt.resourceName){var ur=Xt.resourceName.split("?"),$r=Re(ur,2),xr=$r[0],Lr=$r[1];Xt.path=xr&&xr!=="/"?xr:void 0,Xt.query=Lr,Xt.resourceName=void 0}return Xt.fragment=void 0,Xt}},tr={scheme:"wss",domainHost:Kt.domainHost,parse:Kt.parse,serialize:Kt.serialize},dr={},_r="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Nr="[0-9A-Fa-f]",qr=L(L("%[EFef]"+Nr+"%"+Nr+Nr+"%"+Nr+Nr)+"|"+L("%[89A-Fa-f]"+Nr+"%"+Nr+Nr)+"|"+L("%"+Nr+Nr)),Br="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Qr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Wr=N(Qr,'[\\"\\\\]'),Kr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Yr=new RegExp(_r,"g"),Pt=new RegExp(qr,"g"),Wt=new RegExp(N("[^]",Br,"[\\.]",'[\\"]',Wr),"g"),qt=new RegExp(N("[^]",_r,Kr),"g"),Tt=qt;function gt(Ht){var Xt=Bt(Ht);return Xt.match(Yr)?Xt:Ht}var Et={scheme:"mailto",parse:function(Xt,ir){var ur=Xt,$r=ur.to=ur.path?ur.path.split(","):[];if(ur.path=void 0,ur.query){for(var xr=!1,Lr={},on=ur.query.split("&"),rn=0,tn=on.length;rn<tn;++rn){var pn=on[rn].split("=");switch(pn[0]){case"to":for(var yn=pn[1].split(","),ln=0,er=yn.length;ln<er;++ln)$r.push(yn[ln]);break;case"subject":ur.subject=zt(pn[1],ir);break;case"body":ur.body=zt(pn[1],ir);break;default:xr=!0,Lr[zt(pn[0],ir)]=zt(pn[1],ir);break}}xr&&(ur.headers=Lr)}ur.query=void 0;for(var Rr=0,Or=$r.length;Rr<Or;++Rr){var Fr=$r[Rr].split("@");if(Fr[0]=zt(Fr[0]),ir.unicodeSupport)Fr[1]=zt(Fr[1],ir).toLowerCase();else try{Fr[1]=bt.toASCII(zt(Fr[1],ir).toLowerCase())}catch(Hr){ur.error=ur.error||"Email address's domain name can not be converted to ASCII via punycode: "+Hr}$r[Rr]=Fr.join("@")}return ur},serialize:function(Xt,ir){var ur=Xt,$r=z(Xt.to);if($r){for(var xr=0,Lr=$r.length;xr<Lr;++xr){var on=String($r[xr]),rn=on.lastIndexOf("@"),tn=on.slice(0,rn).replace(Pt,gt).replace(Pt,H).replace(Wt,St),pn=on.slice(rn+1);try{pn=ir.iri?bt.toUnicode(pn):bt.toASCII(zt(pn,ir).toLowerCase())}catch(Rr){ur.error=ur.error||"Email address's domain name can not be converted to "+(ir.iri?"Unicode":"ASCII")+" via punycode: "+Rr}$r[xr]=tn+"@"+pn}ur.path=$r.join(",")}var yn=Xt.headers=Xt.headers||{};Xt.subject&&(yn.subject=Xt.subject),Xt.body&&(yn.body=Xt.body);var ln=[];for(var er in yn)yn[er]!==dr[er]&&ln.push(er.replace(Pt,gt).replace(Pt,H).replace(qt,St)+"="+yn[er].replace(Pt,gt).replace(Pt,H).replace(Tt,St));return ln.length&&(ur.query=ln.join("&")),ur}},wt=/^([^\:]+)\:(.*)/,Lt={scheme:"urn",parse:function(Xt,ir){var ur=Xt.path&&Xt.path.match(wt),$r=Xt;if(ur){var xr=ir.scheme||$r.scheme||"urn",Lr=ur[1].toLowerCase(),on=ur[2],rn=xr+":"+(ir.nid||Lr),tn=vt[rn];$r.nid=Lr,$r.nss=on,$r.path=void 0,tn&&($r=tn.parse($r,ir))}else $r.error=$r.error||"URN can not be parsed.";return $r},serialize:function(Xt,ir){var ur=ir.scheme||Xt.scheme||"urn",$r=Xt.nid,xr=ur+":"+(ir.nid||$r),Lr=vt[xr];Lr&&(Xt=Lr.serialize(Xt,ir));var on=Xt,rn=Xt.nss;return on.path=($r||ir.nid)+":"+rn,on}},Zt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,lr={scheme:"urn:uuid",parse:function(Xt,ir){var ur=Xt;return ur.uuid=ur.nss,ur.nss=void 0,!ir.tolerant&&(!ur.uuid||!ur.uuid.match(Zt))&&(ur.error=ur.error||"UUID is not valid."),ur},serialize:function(Xt,ir){var ur=Xt;return ur.nss=(Xt.uuid||"").toLowerCase(),ur}};vt[Ot.scheme]=Ot,vt[Rt.scheme]=Rt,vt[Kt.scheme]=Kt,vt[tr.scheme]=tr,vt[Et.scheme]=Et,vt[Lt.scheme]=Lt,vt[lr.scheme]=lr,I.SCHEMES=vt,I.pctEncChar=St,I.pctDecChars=Bt,I.parse=kt,I.removeDotSegments=br,I.serialize=cr,I.resolveComponents=pr,I.resolve=lt,I.normalize=ct,I.equal=Nt,I.escapeComponent=jt,I.unescapeComponent=zt,Object.defineProperty(I,"__esModule",{value:!0})})})(uri_all$2,uri_all$2.exports);var uri_allExports=uri_all$2.exports;const uri_all=getDefaultExportFromCjs$1(uri_allExports),uri_all$1=_mergeNamespaces({__proto__:null,default:uri_all},[uri_allExports]);var OperationKeyType;(function(T){T.Public="public",T.Private="private"})(OperationKeyType||(OperationKeyType={}));const OperationKeyType$1=OperationKeyType;class InputValidator{static validateEs256kOperationKey($,I){const N=new Set(["kty","crv","x","y"]);I===OperationKeyType$1.Private&&N.add("d");for(const L in $)if(!N.has(L))throw new IonError(ErrorCode.PublicKeyJwkEs256kHasUnexpectedProperty,`SECP256K1 JWK key has unexpected property '${L}'.`);if($.crv!=="secp256k1")throw new IonError(ErrorCode.JwkEs256kMissingOrInvalidCrv,`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${$.crv}.'`);if($.kty!=="EC")throw new IonError(ErrorCode.JwkEs256kMissingOrInvalidKty,`SECP256K1 JWK 'kty' property must be 'EC' but got '${$.kty}.'`);if($.x.length!==43)throw new IonError(ErrorCode.JwkEs256kHasIncorrectLengthOfX,"SECP256K1 JWK 'x' property must be 43 bytes.");if($.y.length!==43)throw new IonError(ErrorCode.JwkEs256kHasIncorrectLengthOfY,"SECP256K1 JWK 'y' property must be 43 bytes.");if(I===OperationKeyType$1.Private&&($.d===void 0||$.d.length!==43))throw new IonError(ErrorCode.JwkEs256kHasIncorrectLengthOfD,"SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId($){if($.length>50)throw new IonError(ErrorCode.IdTooLong,`Key ID length ${$.length} exceed max allowed length of 50.`);if(!Encoder$4.isBase64UrlString($))throw new IonError(ErrorCode.IdNotUsingBase64UrlCharacterSet,`Key ID '${$}' is not a Base64URL string.`)}static validatePublicKeyPurposes($){if($===void 0)return;const I=new Set;for(const N of $){if(I.has(N))throw new IonError(ErrorCode.PublicKeyPurposeDuplicated,`Public key purpose '${N}' already specified.`);I.add(N)}}}class IonSdkConfig{}IonSdkConfig.hashAlgorithmInMultihashCode=18;IonSdkConfig.maxCanonicalizedDeltaSizeInBytes=1e3;var canonicalize$5=function T($){if(typeof $=="number"&&isNaN($))throw new Error("NaN is not allowed");if(typeof $=="number"&&!isFinite($))throw new Error("Infinity is not allowed");return $===null||typeof $!="object"?JSON.stringify($):$.toJSON instanceof Function?T($.toJSON()):Array.isArray($)?`[${$.reduce((L,B,H)=>`${L}${H===0?"":","}${T(B===void 0||typeof B=="symbol"?null:B)}`,"")}]`:`{${Object.keys($).sort().reduce((N,L)=>{if($[L]===void 0||typeof $[L]=="symbol")return N;const B=N.length===0?"":",";return`${N}${B}${T(L)}:${T($[L])}`},"")}}`};const canonicalize$6=getDefaultExportFromCjs$1(canonicalize$5);class JsonCanonicalizer{static canonicalizeAsBytes($){const I=JsonCanonicalizer.removeAllUndefinedProperties($),N=canonicalize$6(I);return Encoder$4.stringToBytes(N)}static removeAllUndefinedProperties($){for(const I in $)typeof $[I]=="object"?JsonCanonicalizer.removeAllUndefinedProperties($[I]):$[I]===void 0&&delete $[I];return $}}var encode_1$4=encode$a,MSB$5=128,MSBALL$4=-128,INT$4=Math.pow(2,31);function encode$a(T,$,I){$=$||[],I=I||0;for(var N=I;T>=INT$4;)$[I++]=T&255|MSB$5,T/=128;for(;T&MSBALL$4;)$[I++]=T&255|MSB$5,T>>>=7;return $[I]=T|0,encode$a.bytes=I-N+1,$}var decode$h=read$4,MSB$1$4=128,REST$1$4=127;function read$4(T,N){var I=0,N=N||0,L=0,B=N,H,z=T.length;do{if(B>=z)throw read$4.bytes=0,new RangeError("Could not decode varint");H=T[B++],I+=L<28?(H&REST$1$4)<<L:(H&REST$1$4)*Math.pow(2,L),L+=7}while(H>=MSB$1$4);return read$4.bytes=B-N,I}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$5=function(T){return T<N1$4?1:T<N2$4?2:T<N3$4?3:T<N4$4?4:T<N5$4?5:T<N6$4?6:T<N7$4?7:T<N8$4?8:T<N9$4?9:10},varint$4={encode:encode_1$4,decode:decode$h,encodingLength:length$5},_brrp_varint$4=varint$4;const decode$g=(T,$=0)=>[_brrp_varint$4.decode(T,$),_brrp_varint$4.decode.bytes],encodeTo$4=(T,$,I=0)=>(_brrp_varint$4.encode(T,$,I),$),encodingLength$4=T=>_brrp_varint$4.encodingLength(T),create=(T,$)=>{const I=$.byteLength,N=encodingLength$4(T),L=N+encodingLength$4(I),B=new Uint8Array(L+I);return encodeTo$4(T,B,0),encodeTo$4(I,B,N),B.set($,L),new Digest(T,I,$,B)},decode$f=T=>{const $=coerce$4(T),[I,N]=decode$g($),[L,B]=decode$g($.subarray(N)),H=$.subarray(N+B);if(H.byteLength!==L)throw new Error("Incorrect length");return new Digest(I,L,H,$)};class Digest{constructor($,I,N,L){this.code=$,this.size=I,this.digest=N,this.bytes=L}}const from$g=({name:T,code:$,encode:I})=>new Hasher(T,$,I);class Hasher{constructor($,I,N){this.name=$,this.code=I,this.encode=N}digest($){if($ instanceof Uint8Array){const I=this.encode($);return I instanceof Uint8Array?create(this.code,I):I.then(N=>create(this.code,N))}else throw Error("Unknown type, must be binary type")}}const sha$6=T=>async $=>new Uint8Array(await crypto.subtle.digest(T,$)),sha256$7=from$g({name:"sha2-256",code:18,encode:sha$6("SHA-256")});var __awaiter$Z=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class Multihash{static hash($,I){return __awaiter$Z(this,void 0,void 0,function*(){let N;switch(I){case 18:N=(yield sha256$7.digest($)).bytes;break;default:throw new IonError(ErrorCode.MultihashUnsupportedHashAlgorithm,`Hash algorithm defined in multihash code ${I} is not supported.`)}return N})}static hashAsNonMultihashBytes($,I){return __awaiter$Z(this,void 0,void 0,function*(){let N;switch(I){case 18:N=yield sha256$7.encode($);break;default:throw new IonError(ErrorCode.MultihashUnsupportedHashAlgorithm,`Hash algorithm defined in multihash code ${I} is not supported.`)}return N})}static canonicalizeThenHashThenEncode($,I){return __awaiter$Z(this,void 0,void 0,function*(){const N=JsonCanonicalizer.canonicalizeAsBytes($);return yield Multihash.hashThenEncode(N,I)})}static canonicalizeThenDoubleHashThenEncode($,I){return __awaiter$Z(this,void 0,void 0,function*(){const N=JsonCanonicalizer.canonicalizeAsBytes($),L=yield Multihash.hashAsNonMultihashBytes(N,I);return yield Multihash.hashThenEncode(L,I)})}static hashThenEncode($,I){return __awaiter$Z(this,void 0,void 0,function*(){const N=yield Multihash.hash($,I);return Encoder$4.encode(N)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm($,I){let N;const L=Encoder$4.decodeAsBytes($,I);try{N=decode$f(L)}catch{throw new IonError(ErrorCode.MultihashStringNotAMultihash,`Given ${I} string '${$}' is not a multihash after decoding.`)}const B=IonSdkConfig.hashAlgorithmInMultihashCode;if(B!==N.code)throw new IonError(ErrorCode.MultihashUnsupportedHashAlgorithm,`Given ${I} uses unsupported multihash algorithm with code ${N.code}, should use ${B} or change IonSdkConfig to desired hashing algorithm.`)}}var OperationType;(function(T){T.Create="create",T.Update="update",T.Deactivate="deactivate",T.Recover="recover"})(OperationType||(OperationType={}));const OperationType$1=OperationType;var PatchAction;(function(T){T.Replace="replace",T.AddPublicKeys="add-public-keys",T.RemovePublicKeys="remove-public-keys",T.AddServices="add-services",T.RemoveServices="remove-services"})(PatchAction||(PatchAction={}));const PatchAction$1=PatchAction;var __awaiter$Y=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class IonRequest{static createCreateRequest($){return __awaiter$Y(this,void 0,void 0,function*(){const I=$.recoveryKey,N=$.updateKey,L=$.document.publicKeys,B=$.document.services;InputValidator.validateEs256kOperationKey(I,OperationKeyType$1.Public),InputValidator.validateEs256kOperationKey(N,OperationKeyType$1.Public),IonRequest.validateDidDocumentKeys(L),IonRequest.validateServices(B);const H=IonSdkConfig.hashAlgorithmInMultihashCode,z=[{action:PatchAction$1.Replace,document:$.document}],Q={updateCommitment:yield Multihash.canonicalizeThenDoubleHashThenEncode(N,H),patches:z};IonRequest.validateDeltaSize(Q);const G={deltaHash:yield Multihash.canonicalizeThenHashThenEncode(Q,H),recoveryCommitment:yield Multihash.canonicalizeThenDoubleHashThenEncode(I,H)};return{type:OperationType$1.Create,suffixData:G,delta:Q}})}static createDeactivateRequest($){return __awaiter$Y(this,void 0,void 0,function*(){IonRequest.validateDidSuffix($.didSuffix),InputValidator.validateEs256kOperationKey($.recoveryPublicKey,OperationKeyType$1.Public);const I=IonSdkConfig.hashAlgorithmInMultihashCode,N=yield Multihash.canonicalizeThenHashThenEncode($.recoveryPublicKey,I),L={didSuffix:$.didSuffix,recoveryKey:$.recoveryPublicKey},B=yield $.signer.sign({alg:"ES256K"},L);return{type:OperationType$1.Deactivate,didSuffix:$.didSuffix,revealValue:N,signedData:B}})}static createRecoverRequest($){return __awaiter$Y(this,void 0,void 0,function*(){IonRequest.validateDidSuffix($.didSuffix),InputValidator.validateEs256kOperationKey($.recoveryPublicKey,OperationKeyType$1.Public),InputValidator.validateEs256kOperationKey($.nextRecoveryPublicKey,OperationKeyType$1.Public),InputValidator.validateEs256kOperationKey($.nextUpdatePublicKey,OperationKeyType$1.Public),IonRequest.validateDidDocumentKeys($.document.publicKeys),IonRequest.validateServices($.document.services);const I=IonSdkConfig.hashAlgorithmInMultihashCode,N=yield Multihash.canonicalizeThenHashThenEncode($.recoveryPublicKey,I),L=[{action:PatchAction$1.Replace,document:$.document}],B=yield Multihash.canonicalizeThenDoubleHashThenEncode($.nextUpdatePublicKey,I),H={patches:L,updateCommitment:B},z=yield Multihash.canonicalizeThenHashThenEncode(H,I),te={recoveryCommitment:yield Multihash.canonicalizeThenDoubleHashThenEncode($.nextRecoveryPublicKey,I),recoveryKey:$.recoveryPublicKey,deltaHash:z},G=yield $.signer.sign({alg:"ES256K"},te);return{type:OperationType$1.Recover,didSuffix:$.didSuffix,revealValue:N,delta:H,signedData:G}})}static createUpdateRequest($){return __awaiter$Y(this,void 0,void 0,function*(){if(IonRequest.validateDidSuffix($.didSuffix),InputValidator.validateEs256kOperationKey($.updatePublicKey,OperationKeyType$1.Public),InputValidator.validateEs256kOperationKey($.nextUpdatePublicKey,OperationKeyType$1.Public),IonRequest.validateServices($.servicesToAdd),IonRequest.validateDidDocumentKeys($.publicKeysToAdd),$.idsOfServicesToRemove!==void 0)for(const Pe of $.idsOfServicesToRemove)InputValidator.validateId(Pe);if($.idsOfPublicKeysToRemove!==void 0)for(const Pe of $.idsOfPublicKeysToRemove)InputValidator.validateId(Pe);const I=[],N=$.servicesToAdd;if(N!==void 0&&N.length>0){const Pe={action:PatchAction$1.AddServices,services:N};I.push(Pe)}const L=$.idsOfServicesToRemove;if(L!==void 0&&L.length>0){const Pe={action:PatchAction$1.RemoveServices,ids:L};I.push(Pe)}const B=$.publicKeysToAdd;if(B!==void 0&&B.length>0){const Pe={action:PatchAction$1.AddPublicKeys,publicKeys:B};I.push(Pe)}const H=$.idsOfPublicKeysToRemove;if(H!==void 0&&H.length>0){const Pe={action:PatchAction$1.RemovePublicKeys,ids:H};I.push(Pe)}const z=IonSdkConfig.hashAlgorithmInMultihashCode,Q=yield Multihash.canonicalizeThenHashThenEncode($.updatePublicKey,z),te=yield Multihash.canonicalizeThenDoubleHashThenEncode($.nextUpdatePublicKey,z),G={patches:I,updateCommitment:te},ie=yield Multihash.canonicalizeThenHashThenEncode(G,z),Re={updateKey:$.updatePublicKey,deltaHash:ie},$e=yield $.signer.sign({alg:"ES256K"},Re);return{type:OperationType$1.Update,didSuffix:$.didSuffix,revealValue:Q,delta:G,signedData:$e}})}static validateDidSuffix($){Multihash.validateEncodedHashComputedUsingSupportedHashAlgorithm($,"didSuffix")}static validateDidDocumentKeys($){if($===void 0)return;const I=new Set;for(const N of $){if(Array.isArray(N.publicKeyJwk))throw new IonError(ErrorCode.DidDocumentPublicKeyMissingOrIncorrectType,"DID Document key 'publicKeyJwk' property is not a non-array object.");if(InputValidator.validateId(N.id),I.has(N.id))throw new IonError(ErrorCode.DidDocumentPublicKeyIdDuplicated,`DID Document key with ID '${N.id}' already exists.`);I.add(N.id),InputValidator.validatePublicKeyPurposes(N.purposes)}}static validateServices($){if($!==void 0&&$.length!==0){const I=new Set;for(const N of $){if(IonRequest.validateService(N),I.has(N.id))throw new IonError(ErrorCode.DidDocumentServiceIdDuplicated,"Service id has to be unique");I.add(N.id)}}}static validateService($){InputValidator.validateId($.id);const I=30;if($.type.length>I){const N=`Service endpoint type length ${$.type.length} exceeds max allowed length of ${I}.`;throw new IonError(ErrorCode.ServiceTypeTooLong,N)}if(Array.isArray($.serviceEndpoint)){const N="Service endpoint value cannot be an array.";throw new IonError(ErrorCode.ServiceEndpointCannotBeAnArray,N)}if(typeof $.serviceEndpoint=="string"&&uri_allExports.parse($.serviceEndpoint).error!==void 0)throw new IonError(ErrorCode.ServiceEndpointStringNotValidUri,`Service endpoint string '${$.serviceEndpoint}' is not a URI.`)}static validateDeltaSize($){const I=JsonCanonicalizer.canonicalizeAsBytes($);if(I.length>IonSdkConfig.maxCanonicalizedDeltaSizeInBytes){const N=`Delta of ${I.length} bytes exceeded limit of ${IonSdkConfig.maxCanonicalizedDeltaSizeInBytes} bytes.`;throw new IonError(ErrorCode.DeltaExceedsMaximumSize,N)}}}var __awaiter$X=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class IonDid{static createLongFormDid($){return __awaiter$X(this,void 0,void 0,function*(){const I=yield IonRequest.createCreateRequest($),N=yield IonDid.computeDidUniqueSuffix(I.suffixData);let L;IonSdkConfig.network===void 0||IonSdkConfig.network==="mainnet"?L=`did:ion:${N}`:L=`did:ion:${IonSdkConfig.network}:${N}`;const B={suffixData:I.suffixData,delta:I.delta},H=JsonCanonicalizer.canonicalizeAsBytes(B),z=Encoder$4.encode(H);return`${L}:${z}`})}static computeDidUniqueSuffix($){return __awaiter$X(this,void 0,void 0,function*(){const I=JsonCanonicalizer.canonicalizeAsBytes($),N=yield Multihash.hash(I,IonSdkConfig.hashAlgorithmInMultihashCode);return Encoder$4.encode(N)})}}var IonNetwork;(function(T){T.Mainnet="mainnet",T.Testnet="test"})(IonNetwork||(IonNetwork={}));var IonPublicKeyPurpose;(function(T){T.Authentication="authentication",T.AssertionMethod="assertionMethod",T.CapabilityInvocation="capabilityInvocation",T.CapabilityDelegation="capabilityDelegation",T.KeyAgreement="keyAgreement"})(IonPublicKeyPurpose||(IonPublicKeyPurpose={}));var __awaiter$W=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},DidIonRegisteredKeyType$3;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidIonRegisteredKeyType$3||(DidIonRegisteredKeyType$3={}));const AlgorithmToKeyTypeMap$7={Ed25519:DidIonRegisteredKeyType$3.Ed25519,ES256K:DidIonRegisteredKeyType$3.secp256k1,ES256:DidIonRegisteredKeyType$3.secp256r1,"P-256":DidIonRegisteredKeyType$3.secp256r1,secp256k1:DidIonRegisteredKeyType$3.secp256k1,secp256r1:DidIonRegisteredKeyType$3.secp256r1},DEFAULT_GATEWAY_URI$4="https://ion.tbd.engineering";let DidIon$2=class Bs extends DidMethod$2{static create(){return __awaiter$W(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$3,options:I={}}={}){var N,L,B,H,z,Q,te;if(!((N=I.verificationMethods)===null||N===void 0)&&N.some(Ge=>!(Ge.algorithm in AlgorithmToKeyTypeMap$7)))throw new Error("One or more verification method algorithms are not supported");const G=(L=I.verificationMethods)===null||L===void 0?void 0:L.filter(Ge=>"id"in Ge).map(Ge=>Ge.id);if(G&&G.length!==new Set(G).size)throw new Error("One or more verification method IDs are not unique");if(!((B=I.services)===null||B===void 0)&&B.some(Ge=>!Ge.id||!Ge.type||!Ge.serviceEndpoint))throw new Error("One or more services are missing required properties");const ie={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Re=[];for(const Ge of(H=I.verificationMethods)!==null&&H!==void 0?H:[ie]){const at=yield $.generateKey({algorithm:Ge.algorithm}),ot=yield $.getPublicKey({keyUri:at});Re.push({id:Ge.id,publicKeyJwk:ot,purposes:(z=Ge.purposes)!==null&&z!==void 0?z:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const $e=yield $.generateKey({algorithm:DidIonRegisteredKeyType$3.secp256k1}),Pe=yield $.getPublicKey({keyUri:$e}),Me=yield $.generateKey({algorithm:DidIonRegisteredKeyType$3.secp256k1}),Be=yield $.getPublicKey({keyUri:Me}),Ke=yield DidIonUtils$2.computeLongFormDidUri({recoveryKey:Pe,updateKey:Be,services:(Q=I.services)!==null&&Q!==void 0?Q:[],verificationMethods:Re}),{didDocument:Le,didResolutionMetadata:qe}=yield Bs.resolve(Ke,{gatewayUri:I.gatewayUri});if(Le===null)throw new Error(`Unable to resolve DID during creation: ${qe==null?void 0:qe.error}`);const He=new BearerDid$2({uri:Ke,document:Le,metadata:{published:!1,canonicalId:Ke.split(":",3).join(":"),recoveryKey:Pe,updateKey:Be},keyManager:$});if(!((te=I.publish)!==null&&te!==void 0)||te){const Ge=yield Bs.publish({did:He,gatewayUri:I.gatewayUri});He.metadata=Ge.didDocumentMetadata}return He})}static getSigningMethod($){return __awaiter$W(this,arguments,void 0,function*({didDocument:I,methodId:N}){var L;const B=Did$2.parse(I.id);if(B&&B.method!==this.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,`Method not supported: ${B.method}`);const H=(L=I.verificationMethod)===null||L===void 0?void 0:L.find(z=>{var Q;return z.id===(N??((Q=I.assertionMethod)===null||Q===void 0?void 0:Q[0]))});if(!(H&&H.publicKeyJwk))throw new DidError$2(DidErrorCode$3.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static import($){return __awaiter$W(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$3}){const L=Did$2.parse(I.uri);if((L==null?void 0:L.method)!==Bs.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,"Method not supported");return yield BearerDid$2.import({portableDid:I,keyManager:N})})}static publish($){return __awaiter$W(this,arguments,void 0,function*({did:I,gatewayUri:N=DEFAULT_GATEWAY_URI$4}){var L,B,H;const z=(B=(L=I.document.verificationMethod)===null||L===void 0?void 0:L.map(G=>({id:G.id,publicKeyJwk:G.publicKeyJwk,purposes:getVerificationRelationshipsById$2({didDocument:I.document,methodId:G.id})})))!==null&&B!==void 0?B:[],Q=yield DidIonUtils$2.createIonDocument({services:(H=I.document.service)!==null&&H!==void 0?H:[],verificationMethods:z}),te=yield DidIonUtils$2.constructCreateRequest({ionDocument:Q,recoveryKey:I.metadata.recoveryKey,updateKey:I.metadata.updateKey});try{const G=DidIonUtils$2.appendPathToUrl({baseUrl:N,path:"/operations"}),ie=yield fetch(G,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});return{didDocument:I.document,didDocumentMetadata:Object.assign(Object.assign({},I.metadata),{published:ie.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:DidErrorCode$3.InternalError,errorMessage:`Failed to publish DID document for: ${I.uri}`}}}})}static resolve($){return __awaiter$W(this,arguments,void 0,function*(I,N={}){var L,B;const H=Did$2.parse(I);if(!H)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"invalidDid"}});if(H.method!==Bs.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"methodNotSupported"}});const z=(L=N==null?void 0:N.gatewayUri)!==null&&L!==void 0?L:DEFAULT_GATEWAY_URI$4;try{const Q=DidIonUtils$2.appendPathToUrl({baseUrl:z,path:`/identifiers/${I}`}),te=yield fetch(Q);if(!te.ok)throw new DidError$2(DidErrorCode$3.NotFound,`Unable to find DID document for: ${I}`);const{didDocument:G,didDocumentMetadata:ie}=yield te.json();return Object.assign(Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),G&&{didDocument:G}),{didDocumentMetadata:Object.assign({published:(B=ie==null?void 0:ie.method)===null||B===void 0?void 0:B.published},ie)})}catch(Q){if(!(Q instanceof DidError$2))throw new Error(Q);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:Object.assign({error:Q.code},Q.message&&{errorMessage:Q.message})})}})}};DidIon$2.methodName="ion";let DidIonUtils$2=class wa{static appendPathToUrl({baseUrl:$,path:I}){const N=new URL($);return N.pathname=N.pathname.endsWith("/")?N.pathname:N.pathname+"/",N.pathname+=I.startsWith("/")?I.substring(1):I,N.toString()}static computeLongFormDidUri($){return __awaiter$W(this,arguments,void 0,function*({recoveryKey:I,updateKey:N,services:L,verificationMethods:B}){const H=yield wa.createIonDocument({services:L,verificationMethods:B}),z=wa.normalizeJwk(I),Q=wa.normalizeJwk(N);return yield IonDid.createLongFormDid({document:H,recoveryKey:z,updateKey:Q})})}static constructCreateRequest($){return __awaiter$W(this,arguments,void 0,function*({ionDocument:I,recoveryKey:N,updateKey:L}){return yield IonRequest.createCreateRequest({document:I,recoveryKey:wa.normalizeJwk(N),updateKey:wa.normalizeJwk(L)})})}static createIonDocument($){return __awaiter$W(this,arguments,void 0,function*({services:I,verificationMethods:N}){var L,B;const H=[];for(const te of N){let G=(B=(L=te.id)!==null&&L!==void 0?L:te.publicKeyJwk.kid)!==null&&B!==void 0?B:yield computeJwkThumbprint$3({jwk:te.publicKeyJwk});G=`${G.split("#").pop()}`;const ie={id:G,publicKeyJwk:wa.normalizeJwk(te.publicKeyJwk),purposes:te.purposes,type:"JsonWebKey2020"};H.push(ie)}const z=I.map(te=>Object.assign(Object.assign({},te),{id:`${te.id.split("#").pop()}`}));return{publicKeys:H,services:z}})}static normalizeJwk($){const I=$.kty;let N;if(I==="EC")N={crv:$.crv,kty:$.kty,x:$.x,y:$.y};else if(I==="oct")N={k:$.k,kty:$.kty};else if(I==="OKP")N={crv:$.crv,kty:$.kty,x:$.x};else if(I==="RSA")N={e:$.e,kty:$.kty,n:$.n};else throw new Error(`Unsupported key type: ${I}`);return N}};var __awaiter$V=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let DidJwk$2=class Ls extends DidMethod$2{static create(){return __awaiter$V(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$3,options:I={}}={}){var N,L,B,H;if(I.algorithm&&I.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(I.verificationMethods&&I.verificationMethods.length!==1)throw new Error("The 'verificationMethods' option must contain exactly one entry");const z=(H=(N=I.algorithm)!==null&&N!==void 0?N:(B=(L=I.verificationMethods)===null||L===void 0?void 0:L[0])===null||B===void 0?void 0:B.algorithm)!==null&&H!==void 0?H:"Ed25519",Q=yield $.generateKey({algorithm:z}),te=yield $.getPublicKey({keyUri:Q}),G=Convert$5.object(te).toBase64Url(),ie=`did:${Ls.methodName}:${G}`,$e=(yield Ls.resolve(ie)).didDocument;return new BearerDid$2({uri:ie,document:$e,metadata:{},keyManager:$})})}static getSigningMethod($){return __awaiter$V(this,arguments,void 0,function*({didDocument:I}){var N;const L=Did$2.parse(I.id);if(L&&L.method!==this.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,`Method not supported: ${L.method}`);const[B]=(N=I.verificationMethod)!==null&&N!==void 0?N:[];if(!(B&&B.publicKeyJwk))throw new DidError$2(DidErrorCode$3.InternalError,"A verification method intended for signing could not be determined from the DID Document");return B})}static import($){return __awaiter$V(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$3}){const L=Did$2.parse(I.uri);if((L==null?void 0:L.method)!==Ls.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,"Method not supported");const B=yield BearerDid$2.import({portableDid:I,keyManager:N});if(B.document.verificationMethod.length!==1)throw new DidError$2(DidErrorCode$3.InvalidDidDocument,"DID document must contain exactly one verification method");return B})}static resolve($,I){return __awaiter$V(this,void 0,void 0,function*(){const N=Did$2.parse($);let L;try{L=Convert$5.base64Url(N.id).toObject()}catch{}if(!N||!L)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"invalidDid"}});if(N.method!==Ls.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"methodNotSupported"}});const B={"@context":["https://www.w3.org/ns/did/v1"],id:N.uri},H=`${B.id}#0`;switch(B.verificationMethod=[{id:H,type:"JsonWebKey",controller:B.id,publicKeyJwk:L}],B.authentication=[H],B.assertionMethod=[H],B.capabilityInvocation=[H],B.capabilityDelegation=[H],B.keyAgreement=[H],L.use){case"sig":{delete B.keyAgreement;break}case"enc":{delete B.authentication,delete B.assertionMethod,delete B.capabilityInvocation,delete B.capabilityDelegation;break}}return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didDocument:B})})}};DidJwk$2.methodName="jwk";var __awaiter$U=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},DidKeyRegisteredKeyType$3;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidKeyRegisteredKeyType$3||(DidKeyRegisteredKeyType$3={}));const DidKeyVerificationMethodType$2={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},AlgorithmToKeyTypeMap$6={Ed25519:DidKeyRegisteredKeyType$3.Ed25519,ES256K:DidKeyRegisteredKeyType$3.secp256k1,ES256:DidKeyRegisteredKeyType$3.secp256r1,"P-256":DidKeyRegisteredKeyType$3.secp256r1,secp256k1:DidKeyRegisteredKeyType$3.secp256k1,secp256r1:DidKeyRegisteredKeyType$3.secp256r1,X25519:DidKeyRegisteredKeyType$3.X25519};let DidKey$2=class xo extends DidMethod$2{static create(){return __awaiter$U(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$3,options:I={}}={}){var N,L,B,H;if(I.algorithm&&I.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(I.verificationMethods&&I.verificationMethods.length!==1)throw new Error("The 'verificationMethods' option must contain exactly one entry");const z=(H=(N=I.algorithm)!==null&&N!==void 0?N:(B=(L=I.verificationMethods)===null||L===void 0?void 0:L[0])===null||B===void 0?void 0:B.algorithm)!==null&&H!==void 0?H:"Ed25519",Q=yield $.generateKey({algorithm:z}),te=yield $.getPublicKey({keyUri:Q}),G=yield DidKeyUtils$2.publicKeyToMultibaseId({publicKey:te}),ie=`did:${xo.methodName}:${G}`,$e=(yield xo.resolve(ie,I)).didDocument;return new BearerDid$2({uri:ie,document:$e,metadata:{},keyManager:$})})}static getSigningMethod($){return __awaiter$U(this,arguments,void 0,function*({didDocument:I}){var N;const L=Did$2.parse(I.id);if(L&&L.method!==this.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,`Method not supported: ${L.method}`);const[B]=I.assertionMethod||[],H=(N=I.verificationMethod)===null||N===void 0?void 0:N.find(z=>z.id===B);if(!(H&&H.publicKeyJwk))throw new DidError$2(DidErrorCode$3.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static import($){return __awaiter$U(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$3}){const L=Did$2.parse(I.uri);if((L==null?void 0:L.method)!==xo.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,"Method not supported");const B=yield BearerDid$2.import({portableDid:I,keyManager:N});if(B.document.verificationMethod.length!==1)throw new DidError$2(DidErrorCode$3.InvalidDidDocument,"DID document must contain exactly one verification method");return B})}static resolve($,I){return __awaiter$U(this,void 0,void 0,function*(){try{const N=yield xo.createDocument({didUri:$,options:I});return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didDocument:N})}catch(N){if(!(N instanceof DidError$2))throw new Error(N);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:Object.assign({error:N.code},N.message&&{errorMessage:N.message})})}})}static createDocument($){return __awaiter$U(this,arguments,void 0,function*({didUri:I,options:N={}}){const{defaultContext:L="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:B=!1,enableExperimentalPublicKeyTypes:H=!1,publicKeyFormat:z="JsonWebKey2020"}=N,Q={id:""},te=Did$2.parse(I);if(!te)throw new DidError$2(DidErrorCode$3.InvalidDid,`Invalid DID URI: ${I}`);const G=te.id;if(te.method!==xo.methodName)throw new DidError$2(DidErrorCode$3.MethodNotSupported,`Method not supported: ${te.method}`);if(!xo.validateIdentifier(te))throw new DidError$2(DidErrorCode$3.InvalidDid,`Invalid DID URI: ${I}`);const ie=yield xo.createSignatureMethod({didUri:I,multibaseValue:G,options:{enableExperimentalPublicKeyTypes:H,publicKeyFormat:z}});if(Q.id=te.uri,Q.verificationMethod=[ie],Q.authentication=[ie.id],Q.assertionMethod=[ie.id],Q.capabilityInvocation=[ie.id],Q.capabilityDelegation=[ie.id],B===!0){const Pe=z==="Ed25519VerificationKey2020"?"X25519KeyAgreementKey2020":"JsonWebKey2020",Me=yield this.createEncryptionMethod({didUri:I,multibaseValue:G,options:{enableExperimentalPublicKeyTypes:H,publicKeyFormat:Pe}});Q.verificationMethod.push(Me),Q.keyAgreement=[Me.id]}const Re=[L];return getVerificationMethodTypes$2({didDocument:Q}).forEach(Pe=>{const Me=DidKeyVerificationMethodType$2[Pe];Re.push(Me)}),Q["@context"]=Re,Q})}static createEncryptionMethod($){return __awaiter$U(this,arguments,void 0,function*({didUri:I,multibaseValue:N,options:L}){const{enableExperimentalPublicKeyTypes:B,publicKeyFormat:H}=L,z={id:"",type:"",controller:""},{keyBytes:Q,multicodecCode:te}=yield xo.deriveEncryptionKey({multibaseValue:N}),G=Q.byteLength,ie=DidKeyUtils$2.MULTICODEC_PUBLIC_KEY_LENGTH[te];if(G!==ie)throw new DidError$2(DidErrorCode$3.InvalidPublicKeyLength,`Expected ${G} bytes. Actual: ${ie}`);const Re=keyBytesToMultibaseId$2({keyBytes:Q,multicodecCode:te});z.id=`${I}#${Re}`;try{new URL(z.id)}catch{throw new DidError$2(DidErrorCode$3.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(H in DidKeyVerificationMethodType$2))throw new DidError$2(DidErrorCode$3.UnsupportedPublicKeyType,`Unsupported format: ${H}`);if(B===!1&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(H))throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Specified '${H}' without setting enableExperimentalPublicKeyTypes to true.`);if(z.type=H,z.controller=I,H==="X25519KeyAgreementKey2020"&&(z.publicKeyMultibase=Re),H==="JsonWebKey2020"){const{crv:Pe}=yield DidKeyUtils$2.multicodecToJwk({code:te});z.publicKeyJwk=yield DidKeyUtils$2.keyConverter(Pe).bytesToPublicKey({publicKeyBytes:Q})}return z})}static createSignatureMethod($){return __awaiter$U(this,arguments,void 0,function*({didUri:I,multibaseValue:N,options:L}){const{enableExperimentalPublicKeyTypes:B,publicKeyFormat:H}=L,z={id:"",type:"",controller:""},{keyBytes:Q,multicodecCode:te,multicodecName:G}=multibaseIdToKeyBytes$2({multibaseKeyId:N}),ie=Q.byteLength,Re=DidKeyUtils$2.MULTICODEC_PUBLIC_KEY_LENGTH[te];if(ie!==Re)throw new DidError$2(DidErrorCode$3.InvalidPublicKeyLength,`Expected ${ie} bytes. Actual: ${Re}`);let $e=!1;switch(G){case"secp256k1-pub":$e=yield Secp256k1$3.validatePublicKey({publicKeyBytes:Q});break;case"ed25519-pub":$e=yield Ed25519$3.validatePublicKey({publicKeyBytes:Q});break;case"x25519-pub":$e=!0;break}if(!$e)throw new DidError$2(DidErrorCode$3.InvalidPublicKey,"Invalid public key detected.");z.id=`${I}#${N}`;try{new URL(z.id)}catch{throw new DidError$2(DidErrorCode$3.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(H in DidKeyVerificationMethodType$2))throw new DidError$2(DidErrorCode$3.UnsupportedPublicKeyType,`Unsupported format: ${H}`);if(B===!1&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(H))throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Specified '${H}' without setting enableExperimentalPublicKeyTypes to true.`);if(z.type=H,z.controller=I,H==="Ed25519VerificationKey2020"&&(z.publicKeyMultibase=N),H==="JsonWebKey2020"){const{crv:Me}=yield DidKeyUtils$2.multicodecToJwk({code:te});z.publicKeyJwk=yield DidKeyUtils$2.keyConverter(Me).bytesToPublicKey({publicKeyBytes:Q})}return z})}static deriveEncryptionKey($){return __awaiter$U(this,arguments,void 0,function*({multibaseValue:I}){let N={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:L,multicodecCode:B}=multibaseIdToKeyBytes$2({multibaseKeyId:I});if(B===237){const H=yield DidKeyUtils$2.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:L}),z=yield Ed25519$3.convertPublicKeyToX25519({publicKey:H});N={keyBytes:yield DidKeyUtils$2.keyConverter("Ed25519").publicKeyToBytes({publicKey:z}),multicodecCode:236}}return N})}static validateIdentifier($){const{method:I,id:N}=$,[L]=$.uri.split(":",1);return L==="did"&&I==="key"&&Number("1")>0&&universalTypeOf$5(N)==="String"&&N.startsWith("z")}};DidKey$2.methodName="key";let DidKeyUtils$2=class rs{static jwkToMulticodec($){return __awaiter$U(this,arguments,void 0,function*({jwk:I}){const N=[];I.crv&&(N.push(I.crv),I.d?N.push("private"):N.push("public"));const L=N.join(":"),B=rs.JWK_TO_MULTICODEC[L];if(B===void 0)throw new Error(`Unsupported JWK to Multicodec conversion: '${L}'`);return{code:Multicodec$6.getCodeFromName({name:B}),name:B}})}static keyCompressor($){const N={"P-256":Secp256r1$3.compressPublicKey,secp256k1:Secp256k1$3.compressPublicKey}[$];if(!N)throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static keyConverter($){const N={Ed25519:Ed25519$3,"P-256":Secp256r1$3,secp256k1:Secp256k1$3,X25519:X25519$2}[$];if(!N)throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static multicodecToJwk($){return __awaiter$U(this,arguments,void 0,function*({code:I,name:N}){if(!(N?!I:I))throw new Error("Either 'name' or 'code' must be defined, but not both.");N=N===void 0?Multicodec$6.getNameFromCode({code:I}):N;const L=N,B=rs.MULTICODEC_TO_JWK[L];if(B===void 0)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},B)})}static publicKeyToMultibaseId($){return __awaiter$U(this,arguments,void 0,function*({publicKey:I}){var N;if(!(I!=null&&I.crv&&I.crv in AlgorithmToKeyTypeMap$6))throw new DidError$2(DidErrorCode$3.InvalidPublicKeyType,`Public key contains an unsupported key type: ${(N=I==null?void 0:I.crv)!==null&&N!==void 0?N:"undefined"}`);let L=yield rs.keyConverter(I.crv).publicKeyToBytes({publicKey:I});/^(secp256k1|P-256|P-384|P-521)$/.test(I.crv)&&(L=yield rs.keyCompressor(I.crv)({publicKeyBytes:L}));const{name:B}=yield rs.jwkToMulticodec({jwk:I});return keyBytesToMultibaseId$2({keyBytes:L,multicodecName:B})})}};DidKeyUtils$2.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"};DidKeyUtils$2.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32};DidKeyUtils$2.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}};var __awaiter$T=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let DidWeb$2=class Bf extends DidMethod$2{static resolve($,I){return __awaiter$T(this,void 0,void 0,function*(){const N=Did$2.parse($);if(!N)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"invalidDid"}});if(N.method!==Bf.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"methodNotSupported"}});let L=`https://${N.id.replace(/:/g,"/")}`;L=decodeURIComponent(L);const B=N.id.includes(":")?`${L}/did.json`:`${L}/.well-known/did.json`;try{const H=yield fetch(B);if(!H.ok)throw new Error("HTTP error status code returned");const z=yield H.json();return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didDocument:z})}catch{return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$2),{didResolutionMetadata:{error:"notFound"}})}})}};DidWeb$2.methodName="web";var s$1=1e3,m=s$1*60,h=m*60,d=h*24,w=d*7,y=d*365.25,ms=function(T,$){$=$||{};var I=typeof T;if(I==="string"&&T.length>0)return parse$3(T);if(I==="number"&&isFinite(T))return $.long?fmtLong(T):fmtShort(T);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))};function parse$3(T){if(T=String(T),!(T.length>100)){var $=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(T);if($){var I=parseFloat($[1]),N=($[2]||"ms").toLowerCase();switch(N){case"years":case"year":case"yrs":case"yr":case"y":return I*y;case"weeks":case"week":case"w":return I*w;case"days":case"day":case"d":return I*d;case"hours":case"hour":case"hrs":case"hr":case"h":return I*h;case"minutes":case"minute":case"mins":case"min":case"m":return I*m;case"seconds":case"second":case"secs":case"sec":case"s":return I*s$1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}function fmtShort(T){var $=Math.abs(T);return $>=d?Math.round(T/d)+"d":$>=h?Math.round(T/h)+"h":$>=m?Math.round(T/m)+"m":$>=s$1?Math.round(T/s$1)+"s":T+"ms"}function fmtLong(T){var $=Math.abs(T);return $>=d?plural(T,$,d,"day"):$>=h?plural(T,$,h,"hour"):$>=m?plural(T,$,m,"minute"):$>=s$1?plural(T,$,s$1,"second"):T+" ms"}function plural(T,$,I,N){var L=$>=I*1.5;return Math.round(T/I)+" "+N+(L?"s":"")}const ms$1=getDefaultExportFromCjs$1(ms);var alphabet="0123456789abcdefghjkmnpqrstvwxyz",dec=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function encode$9(T){const $=new Array(26).fill("");if(T.length!==16)throw new Error("Invalid length");return $[0]=alphabet[(T[0]&224)>>5],$[1]=alphabet[T[0]&31],$[2]=alphabet[(T[1]&248)>>3],$[3]=alphabet[(T[1]&7)<<2|(T[2]&192)>>6],$[4]=alphabet[(T[2]&62)>>1],$[5]=alphabet[(T[2]&1)<<4|(T[3]&240)>>4],$[6]=alphabet[(T[3]&15)<<1|(T[4]&128)>>7],$[7]=alphabet[(T[4]&124)>>2],$[8]=alphabet[(T[4]&3)<<3|(T[5]&224)>>5],$[9]=alphabet[T[5]&31],$[10]=alphabet[(T[6]&248)>>3],$[11]=alphabet[(T[6]&7)<<2|(T[7]&192)>>6],$[12]=alphabet[(T[7]&62)>>1],$[13]=alphabet[(T[7]&1)<<4|(T[8]&240)>>4],$[14]=alphabet[(T[8]&15)<<1|(T[9]&128)>>7],$[15]=alphabet[(T[9]&124)>>2],$[16]=alphabet[(T[9]&3)<<3|(T[10]&224)>>5],$[17]=alphabet[T[10]&31],$[18]=alphabet[(T[11]&248)>>3],$[19]=alphabet[(T[11]&7)<<2|(T[12]&192)>>6],$[20]=alphabet[(T[12]&62)>>1],$[21]=alphabet[(T[12]&1)<<4|(T[13]&240)>>4],$[22]=alphabet[(T[13]&15)<<1|(T[14]&128)>>7],$[23]=alphabet[(T[14]&124)>>2],$[24]=alphabet[(T[14]&3)<<3|(T[15]&224)>>5],$[25]=alphabet[T[15]&31],$.join("")}function decode$e(T){if(T.length!==26)throw new Error("Invalid length");const I=new TextEncoder().encode(T);if(dec[I[0]]===255||dec[I[1]]===255||dec[I[2]]===255||dec[I[3]]===255||dec[I[4]]===255||dec[I[5]]===255||dec[I[6]]===255||dec[I[7]]===255||dec[I[8]]===255||dec[I[9]]===255||dec[I[10]]===255||dec[I[11]]===255||dec[I[12]]===255||dec[I[13]]===255||dec[I[14]]===255||dec[I[15]]===255||dec[I[16]]===255||dec[I[17]]===255||dec[I[18]]===255||dec[I[19]]===255||dec[I[20]]===255||dec[I[21]]===255||dec[I[22]]===255||dec[I[23]]===255||dec[I[24]]===255||dec[I[25]]===255)throw new Error("Invalid base32 character");const N=new Uint8Array(16);return N[0]=dec[I[0]]<<5|dec[I[1]],N[1]=dec[I[2]]<<3|dec[I[3]]>>2,N[2]=(dec[I[3]]&3)<<6|dec[I[4]]<<1|dec[I[5]]>>4,N[3]=(dec[I[5]]&15)<<4|dec[I[6]]>>1,N[4]=(dec[I[6]]&1)<<7|dec[I[7]]<<2|dec[I[8]]>>3,N[5]=(dec[I[8]]&7)<<5|dec[I[9]],N[6]=dec[I[10]]<<3|dec[I[11]]>>2,N[7]=(dec[I[11]]&3)<<6|dec[I[12]]<<1|dec[I[13]]>>4,N[8]=(dec[I[13]]&15)<<4|dec[I[14]]>>1,N[9]=(dec[I[14]]&1)<<7|dec[I[15]]<<2|dec[I[16]]>>3,N[10]=(dec[I[16]]&7)<<5|dec[I[17]],N[11]=dec[I[18]]<<3|dec[I[19]]>>2,N[12]=(dec[I[19]]&3)<<6|dec[I[20]]<<1|dec[I[21]]>>4,N[13]=(dec[I[21]]&15)<<4|dec[I[22]]>>1,N[14]=(dec[I[22]]&1)<<7|dec[I[23]]<<2|dec[I[24]]>>3,N[15]=(dec[I[24]]&7)<<5|dec[I[25]],N}function parseUUID(T){let $;const I=new Uint8Array(16);return I[0]=($=parseInt(T.slice(0,8),16))>>>24,I[1]=$>>>16&255,I[2]=$>>>8&255,I[3]=$&255,I[4]=($=parseInt(T.slice(9,13),16))>>>8,I[5]=$&255,I[6]=($=parseInt(T.slice(14,18),16))>>>8,I[7]=$&255,I[8]=($=parseInt(T.slice(19,23),16))>>>8,I[9]=$&255,I[10]=($=parseInt(T.slice(24,36),16))/1099511627776&255,I[11]=$/4294967296&255,I[12]=$>>>24&255,I[13]=$>>>16&255,I[14]=$>>>8&255,I[15]=$&255,I}var __pow=Math.pow,DIGITS="0123456789abcdef",UUID=class{constructor(T){if(this.bytes=T,T.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(T,$,I,N){if(!Number.isInteger(T)||!Number.isInteger($)||!Number.isInteger(I)||!Number.isInteger(N)||T<0||$<0||I<0||N<0||T>0xffffffffffff||$>4095||I>1073741823||N>4294967295)throw new RangeError("invalid field value");const L=new Uint8Array(16);return L[0]=T/__pow(2,40),L[1]=T/__pow(2,32),L[2]=T/__pow(2,24),L[3]=T/__pow(2,16),L[4]=T/__pow(2,8),L[5]=T,L[6]=112|$>>>8,L[7]=$,L[8]=128|I>>>24,L[9]=I>>>16,L[10]=I>>>8,L[11]=I,L[12]=N>>>24,L[13]=N>>>16,L[14]=N>>>8,L[15]=N,new UUID(L)}toString(){let T="";for(let $=0;$<this.bytes.length;$++)T+=DIGITS.charAt(this.bytes[$]>>>4),T+=DIGITS.charAt(this.bytes[$]&15),($===3||$===5||$===7||$===9)&&(T+="-");return T}clone(){return new UUID(this.bytes.slice(0))}equals(T){return this.compareTo(T)===0}compareTo(T){for(let $=0;$<16;$++){const I=this.bytes[$]-T.bytes[$];if(I!==0)return Math.sign(I)}return 0}},V7Generator=class{constructor(){this.timestamp=0,this.counter=0,this.random=new DefaultRandom}generate(){const T=this.generateOrAbort();return T!==void 0?T:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){const I=Date.now();if(I>this.timestamp)this.timestamp=I,this.resetCounter();else if(I+1e4>this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return UUID.fromFieldsV7(this.timestamp,Math.trunc(this.counter/__pow(2,30)),this.counter&__pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}},getRandomValues$1=T=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let $=0;$<T.length;$++)T[$]=Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536);return T};typeof crypto<"u"&&crypto.getRandomValues&&(getRandomValues$1=T=>crypto.getRandomValues(T));var DefaultRandom=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=99}nextUint32(){return this.cursor>=this.buffer.length&&(getRandomValues$1(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},defaultGenerator,uuidv7obj=()=>(defaultGenerator||(defaultGenerator=new V7Generator)).generate();function isValidPrefix(T){if(T.length>63)return!1;let $,I,N;for(I=0,N=T.length;I<N;I+=1)if($=T.charCodeAt(I),!($>96&&$<123))return!1;return!0}var TypeID=class{constructor(T,$=""){if(this.prefix=T,this.suffix=$,!isValidPrefix(T))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=T,$)this.suffix=$;else{const I=uuidv7obj();this.suffix=encode$9(I.bytes)}if(this.suffix.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${$.length}`);if(this.suffix[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");decode$e(this.suffix)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(T){const $=this;if($.prefix!==T)throw new Error(`Cannot convert TypeID of type ${$.prefix} to type ${T}`);return $}toUUIDBytes(){return decode$e(this.suffix)}toUUID(){return new UUID(this.toUUIDBytes()).toString()}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(T){const $=T.split("_");if($.length===1)return new TypeID("",$[0]);if($.length===2){if($[0]==="")throw new Error(`Invalid TypeID. Prefix cannot be empty when there's a separator: ${T}`);return new TypeID($[0],$[1])}throw new Error(`Invalid TypeID string: ${T}`)}static fromUUIDBytes(T,$){const I=encode$9($);return new TypeID(T,I)}static fromUUID(T,$){const I=encode$9(parseUUID($));return new TypeID(T,I)}};function typeid(T="",$=""){return new TypeID(T,$)}/*! Bundled license information:

uuidv7/dist/index.js:
  (**
   * uuidv7: An experimental implementation of the proposed UUID Version 7
   *
   * @license Apache-2.0
   * @copyright 2021-2023 LiosK
   * @packageDocumentation
   *)
*/function isArrayBufferSlice$4(T){return T.byteOffset!==0||T.byteLength!==T.buffer.byteLength}function isAsyncIterable$4(T){return typeof T!="object"||T===null?!1:typeof T[Symbol.asyncIterator]=="function"}function universalTypeOf$4(T){const I=Object.prototype.toString.call(T).match(/\s([a-zA-Z0-9]+)/),[N,L]=I;return L}var __awaiter$S=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__asyncValues$4=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}};const textEncoder$4=new TextEncoder,textDecoder$4=new TextDecoder;let Convert$4=class Ti{constructor($,I){this.data=$,this.format=I}static arrayBuffer($){return new Ti($,"ArrayBuffer")}static asyncIterable($){if(!isAsyncIterable$4($))throw new TypeError("Input must be of type AsyncIterable.");return new Ti($,"AsyncIterable")}static base32Z($){return new Ti($,"Base32Z")}static base58Btc($){return new Ti($,"Base58Btc")}static base64Url($){return new Ti($,"Base64Url")}static bufferSource($){return new Ti($,"BufferSource")}static hex($){if(typeof $!="string")throw new TypeError("Hex input must be a string.");if($.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Ti($,"Hex")}static multibase($){return new Ti($,"Multibase")}static object($){return new Ti($,"Object")}static string($){return new Ti($,"String")}static uint8Array($){return new Ti($,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return base58btc$3.baseDecode(this.data).buffer;case"Base64Url":return base64url$4.baseDecode(this.data).buffer;case"BufferSource":{if(universalTypeOf$4(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return isArrayBufferSlice$4(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return __awaiter$S(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return base32z$3.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base58btc$3.baseEncode($)}case"Multibase":return this.data.substring(1);case"Uint8Array":return base58btc$3.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base64url$4.baseEncode($)}case"BufferSource":{const $=this.toUint8Array();return base64url$4.baseEncode($)}case"Object":{const $=JSON.stringify(this.data),I=textEncoder$4.encode($);return base64url$4.baseEncode(I)}case"String":{const $=textEncoder$4.encode(this.data);return base64url$4.baseEncode($)}case"Uint8Array":return base64url$4.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return __awaiter$S(this,void 0,void 0,function*(){var $,I,N,L;switch(this.format){case"AsyncIterable":{const Q=[];try{for(var B=!0,H=__asyncValues$4(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const G=L;Q.push(G)}}catch(G){I={error:G}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return new Blob(Q)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const $=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const I=this.toUint8Array();return Ti.uint8Array(I).toHex()}case"Base64Url":{const I=this.toUint8Array();return Ti.uint8Array(I).toHex()}case"Uint8Array":{let I="";for(let N=0;N<this.data.length;N++)I+=$[this.data[N]];return I}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const $=base64url$4.baseDecode(this.data),I=textDecoder$4.decode($);return JSON.parse(I)}case"String":return JSON.parse(this.data);case"Uint8Array":{const $=textDecoder$4.decode(this.data);return JSON.parse($)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return __awaiter$S(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toStringAsync();return JSON.parse($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return textDecoder$4.decode(this.data);case"Base64Url":{const $=base64url$4.baseDecode(this.data);return textDecoder$4.decode($)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return textDecoder$4.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return __awaiter$S(this,void 0,void 0,function*(){var $,I,N,L;switch(this.format){case"AsyncIterable":{let Q="";try{for(var B=!0,H=__asyncValues$4(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const te=L;typeof te=="string"?Q+=te:Q+=textDecoder$4.decode(te,{stream:!0})}}catch(te){I={error:te}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return Q+=textDecoder$4.decode(void 0,{stream:!1}),Q}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return base32z$3.baseDecode(this.data);case"Base58Btc":return base58btc$3.baseDecode(this.data);case"Base64Url":return base64url$4.baseDecode(this.data);case"BufferSource":{const $=universalTypeOf$4(this.data);if($==="Uint8Array")return this.data;if($==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const $=new Uint8Array(this.data.length/2);for(let I=0;I<this.data.length;I+=2){const N=parseInt(this.data.substring(I,I+2),16);if(isNaN(N))throw new TypeError("Input is not a valid hexadecimal string.");$[I/2]=N}return $}case"Object":{const $=JSON.stringify(this.data);return textEncoder$4.encode($)}case"String":return textEncoder$4.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return __awaiter$S(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toArrayBufferAsync();return new Uint8Array($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}},Multicodec$5=class Qo{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=Qo.codeToName.has(N)?N:Qo.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength$9(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo$5(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$n(I);return N}static getCodeFromName($){const{name:I}=$,N=Qo.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=Qo.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){Qo.codeToName.set($.code,$.name),Qo.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$n(I),B=Qo.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}};Multicodec$5.codeToName=new Map;Multicodec$5.nameToCode=new Map;Multicodec$5.registerCodec({code:237,name:"ed25519-pub"});Multicodec$5.registerCodec({code:4864,name:"ed25519-priv"});Multicodec$5.registerCodec({code:236,name:"x25519-pub"});Multicodec$5.registerCodec({code:4866,name:"x25519-priv"});Multicodec$5.registerCodec({code:231,name:"secp256k1-pub"});Multicodec$5.registerCodec({code:4865,name:"secp256k1-priv"});var browser$k={exports:{}},stream$3={exports:{}},primordials$9={ArrayIsArray(T){return Array.isArray(T)},ArrayPrototypeIncludes(T,$){return T.includes($)},ArrayPrototypeIndexOf(T,$){return T.indexOf($)},ArrayPrototypeJoin(T,$){return T.join($)},ArrayPrototypeMap(T,$){return T.map($)},ArrayPrototypePop(T,$){return T.pop($)},ArrayPrototypePush(T,$){return T.push($)},ArrayPrototypeSlice(T,$,I){return T.slice($,I)},Error,FunctionPrototypeCall(T,$,...I){return T.call($,...I)},FunctionPrototypeSymbolHasInstance(T,$){return Function.prototype[Symbol.hasInstance].call(T,$)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(T,$){return Object.defineProperties(T,$)},ObjectDefineProperty(T,$,I){return Object.defineProperty(T,$,I)},ObjectGetOwnPropertyDescriptor(T,$){return Object.getOwnPropertyDescriptor(T,$)},ObjectKeys(T){return Object.keys(T)},ObjectSetPrototypeOf(T,$){return Object.setPrototypeOf(T,$)},Promise,PromisePrototypeCatch(T,$){return T.catch($)},PromisePrototypeThen(T,$,I){return T.then($,I)},PromiseReject(T){return Promise.reject(T)},ReflectApply:Reflect.apply,RegExpPrototypeTest(T,$){return T.test($)},SafeSet:Set,String,StringPrototypeSlice(T,$,I){return T.slice($,I)},StringPrototypeToLowerCase(T){return T.toLowerCase()},StringPrototypeToUpperCase(T){return T.toUpperCase()},StringPrototypeTrim(T){return T.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(T,$,I){return T.set($,I)},Uint8Array};const primordials$a=getDefaultExportFromCjs$1(primordials$9),primordials$b=_mergeNamespaces({__proto__:null,default:primordials$a},[primordials$9]);var util$l={exports:{}};(function(T){const $=dist$5,I=Object.getPrototypeOf(async function(){}).constructor,N=globalThis.Blob||$.Blob,L=typeof N<"u"?function(z){return z instanceof N}:function(z){return!1};class B extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError(`Expected input to be an Array, got ${typeof z}`);let Q="";for(let te=0;te<z.length;te++)Q+=`    ${z[te].stack}
`;super(Q),this.name="AggregateError",this.errors=z}}T.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(H){let z=!1;return function(...Q){z||(z=!0,H.apply(this,Q))}},createDeferredPromise:function(){let H,z;return{promise:new Promise((te,G)=>{H=te,z=G}),resolve:H,reject:z}},promisify(H){return new Promise((z,Q)=>{H((te,...G)=>te?Q(te):z(...G))})},debuglog(){return function(){}},format(H,...z){return H.replace(/%([sdifj])/g,function(...[Q,te]){const G=z.shift();return te==="f"?G.toFixed(6):te==="j"?JSON.stringify(G):te==="s"&&typeof G=="object"?`${G.constructor!==Object?G.constructor.name:""} {}`.trim():G.toString()})},inspect(H){switch(typeof H){case"string":if(H.includes("'"))if(H.includes('"')){if(!H.includes("`")&&!H.includes("${"))return`\`${H}\``}else return`"${H}"`;return`'${H}'`;case"number":return isNaN(H)?"NaN":Object.is(H,-0)?String(H):H;case"bigint":return`${String(H)}n`;case"boolean":case"undefined":return String(H);case"object":return"{}"}},types:{isAsyncFunction(H){return H instanceof I},isArrayBufferView(H){return ArrayBuffer.isView(H)}},isBlob:L},T.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$l);var utilExports$3=util$l.exports;const util$j=getDefaultExportFromCjs$1(utilExports$3),util$k=_mergeNamespaces({__proto__:null,default:util$j},[utilExports$3]);var operators$7={};const{format:format$f,inspect:inspect$a,AggregateError:CustomAggregateError$3}=util$k,AggregateError$4=globalThis.AggregateError||CustomAggregateError$3,kIsNodeError$3=Symbol("kIsNodeError"),kTypes$3=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp$3=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix$3="__node_internal_",codes$8={};function assert$k(T,$){if(!T)throw new codes$8.ERR_INTERNAL_ASSERTION($)}function addNumericalSeparator$3(T){let $="",I=T.length;const N=T[0]==="-"?1:0;for(;I>=N+4;I-=3)$=`_${T.slice(I-3,I)}${$}`;return`${T.slice(0,I)}${$}`}function getMessage$3(T,$,I){if(typeof $=="function")return assert$k($.length<=I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${$.length}).`),$(...I);const N=($.match(/%[dfijoOs]/g)||[]).length;return assert$k(N===I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${N}).`),I.length===0?$:format$f($,...I)}function E$3(T,$,I){I||(I=Error);class N extends I{constructor(...B){super(getMessage$3(T,$,B))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=T,N.prototype[kIsNodeError$3]=!0,codes$8[T]=N}function hideStackFrames$7(T){const $=nodeInternalPrefix$3+T.name;return Object.defineProperty(T,"name",{value:$}),T}function aggregateTwoErrors$b(T,$){if(T&&$&&T!==$){if(Array.isArray($.errors))return $.errors.push(T),$;const I=new AggregateError$4([$,T],$.message);return I.code=$.code,I}return T||$}let AbortError$o=class extends Error{constructor($="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new codes$8.ERR_INVALID_ARG_TYPE("options","Object",I);super($,I),this.code="ABORT_ERR",this.name="AbortError"}};E$3("ERR_ASSERTION","%s",Error);E$3("ERR_INVALID_ARG_TYPE",(T,$,I)=>{assert$k(typeof T=="string","'name' must be a string"),Array.isArray($)||($=[$]);let N="The ";T.endsWith(" argument")?N+=`${T} `:N+=`"${T}" ${T.includes(".")?"property":"argument"} `,N+="must be ";const L=[],B=[],H=[];for(const Q of $)assert$k(typeof Q=="string","All expected entries have to be of type string"),kTypes$3.includes(Q)?L.push(Q.toLowerCase()):classRegExp$3.test(Q)?B.push(Q):(assert$k(Q!=="object",'The value "object" should be written as "Object"'),H.push(Q));if(B.length>0){const Q=L.indexOf("object");Q!==-1&&(L.splice(L,Q,1),B.push("Object"))}if(L.length>0){switch(L.length){case 1:N+=`of type ${L[0]}`;break;case 2:N+=`one of type ${L[0]} or ${L[1]}`;break;default:{const Q=L.pop();N+=`one of type ${L.join(", ")}, or ${Q}`}}(B.length>0||H.length>0)&&(N+=" or ")}if(B.length>0){switch(B.length){case 1:N+=`an instance of ${B[0]}`;break;case 2:N+=`an instance of ${B[0]} or ${B[1]}`;break;default:{const Q=B.pop();N+=`an instance of ${B.join(", ")}, or ${Q}`}}H.length>0&&(N+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(N+="an "),N+=`${H[0]}`;break;case 2:N+=`one of ${H[0]} or ${H[1]}`;break;default:{const Q=H.pop();N+=`one of ${H.join(", ")}, or ${Q}`}}if(I==null)N+=`. Received ${I}`;else if(typeof I=="function"&&I.name)N+=`. Received function ${I.name}`;else if(typeof I=="object"){var z;if((z=I.constructor)!==null&&z!==void 0&&z.name)N+=`. Received an instance of ${I.constructor.name}`;else{const Q=inspect$a(I,{depth:-1});N+=`. Received ${Q}`}}else{let Q=inspect$a(I,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),N+=`. Received type ${typeof I} (${Q})`}return N},TypeError);E$3("ERR_INVALID_ARG_VALUE",(T,$,I="is invalid")=>{let N=inspect$a($);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${I}. Received ${N}`},TypeError);E$3("ERR_INVALID_RETURN_VALUE",(T,$,I)=>{var N;const L=I!=null&&(N=I.constructor)!==null&&N!==void 0&&N.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${T} to be returned from the "${$}" function but got ${L}.`},TypeError);E$3("ERR_MISSING_ARGS",(...T)=>{assert$k(T.length>0,"At least one arg needs to be specified");let $;const I=T.length;switch(T=(Array.isArray(T)?T:[T]).map(N=>`"${N}"`).join(" or "),I){case 1:$+=`The ${T[0]} argument`;break;case 2:$+=`The ${T[0]} and ${T[1]} arguments`;break;default:{const N=T.pop();$+=`The ${T.join(", ")}, and ${N} arguments`}break}return`${$} must be specified`},TypeError);E$3("ERR_OUT_OF_RANGE",(T,$,I)=>{assert$k($,'Missing "range" argument');let N;return Number.isInteger(I)&&Math.abs(I)>2**32?N=addNumericalSeparator$3(String(I)):typeof I=="bigint"?(N=String(I),(I>2n**32n||I<-(2n**32n))&&(N=addNumericalSeparator$3(N)),N+="n"):N=inspect$a(I),`The value of "${T}" is out of range. It must be ${$}. Received ${N}`},RangeError);E$3("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E$3("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E$3("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E$3("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E$3("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E$3("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E$3("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E$3("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E$3("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E$3("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E$3("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors$f={AbortError:AbortError$o,aggregateTwoErrors:hideStackFrames$7(aggregateTwoErrors$b),hideStackFrames:hideStackFrames$7,codes:codes$8};const errors$g=getDefaultExportFromCjs$1(errors$f),errors$h=_mergeNamespaces({__proto__:null,default:errors$g},[errors$f]),{ArrayIsArray:ArrayIsArray$b,ArrayPrototypeIncludes:ArrayPrototypeIncludes$3,ArrayPrototypeJoin:ArrayPrototypeJoin$3,ArrayPrototypeMap:ArrayPrototypeMap$3,NumberIsInteger:NumberIsInteger$7,NumberIsNaN:NumberIsNaN$7,NumberMAX_SAFE_INTEGER:NumberMAX_SAFE_INTEGER$3,NumberMIN_SAFE_INTEGER:NumberMIN_SAFE_INTEGER$3,NumberParseInt:NumberParseInt$3,ObjectPrototypeHasOwnProperty:ObjectPrototypeHasOwnProperty$3,RegExpPrototypeExec:RegExpPrototypeExec$3,String:String$4,StringPrototypeToUpperCase:StringPrototypeToUpperCase$3,StringPrototypeTrim:StringPrototypeTrim$3}=primordials$b,{hideStackFrames:hideStackFrames$6,codes:{ERR_SOCKET_BAD_PORT:ERR_SOCKET_BAD_PORT$3,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$k,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$f,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$7,ERR_UNKNOWN_SIGNAL:ERR_UNKNOWN_SIGNAL$3}}=errors$h,{normalizeEncoding:normalizeEncoding$3}=util$k,{isAsyncFunction:isAsyncFunction$3,isArrayBufferView:isArrayBufferView$3}=util$k.types,signals$3={};function isInt32$3(T){return T===(T|0)}function isUint32$3(T){return T===T>>>0}const octalReg$3=/^[0-7]+$/,modeDesc$3="must be a 32-bit unsigned integer or an octal string";function parseFileMode$3(T,$,I){if(typeof T>"u"&&(T=I),typeof T=="string"){if(RegExpPrototypeExec$3(octalReg$3,T)===null)throw new ERR_INVALID_ARG_VALUE$f($,T,modeDesc$3);T=NumberParseInt$3(T,8)}return validateUint32$3(T,$),T}const validateInteger$7=hideStackFrames$6((T,$,I=NumberMIN_SAFE_INTEGER$3,N=NumberMAX_SAFE_INTEGER$3)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$k($,"number",T);if(!NumberIsInteger$7(T))throw new ERR_OUT_OF_RANGE$7($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$7($,`>= ${I} && <= ${N}`,T)}),validateInt32$3=hideStackFrames$6((T,$,I=-2147483648,N=2147483647)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$k($,"number",T);if(!NumberIsInteger$7(T))throw new ERR_OUT_OF_RANGE$7($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$7($,`>= ${I} && <= ${N}`,T)}),validateUint32$3=hideStackFrames$6((T,$,I=!1)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$k($,"number",T);if(!NumberIsInteger$7(T))throw new ERR_OUT_OF_RANGE$7($,"an integer",T);const N=I?1:0,L=4294967295;if(T<N||T>L)throw new ERR_OUT_OF_RANGE$7($,`>= ${N} && <= ${L}`,T)});function validateString$3(T,$){if(typeof T!="string")throw new ERR_INVALID_ARG_TYPE$k($,"string",T)}function validateNumber$3(T,$,I=void 0,N){if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$k($,"number",T);if(I!=null&&T<I||N!=null&&T>N||(I!=null||N!=null)&&NumberIsNaN$7(T))throw new ERR_OUT_OF_RANGE$7($,`${I!=null?`>= ${I}`:""}${I!=null&&N!=null?" && ":""}${N!=null?`<= ${N}`:""}`,T)}const validateOneOf$3=hideStackFrames$6((T,$,I)=>{if(!ArrayPrototypeIncludes$3(I,T)){const L="must be one of: "+ArrayPrototypeJoin$3(ArrayPrototypeMap$3(I,B=>typeof B=="string"?`'${B}'`:String$4(B)),", ");throw new ERR_INVALID_ARG_VALUE$f($,T,L)}});function validateBoolean$7(T,$){if(typeof T!="boolean")throw new ERR_INVALID_ARG_TYPE$k($,"boolean",T)}function getOwnPropertyValueOrDefault$3(T,$,I){return T==null||!ObjectPrototypeHasOwnProperty$3(T,$)?I:T[$]}const validateObject$b=hideStackFrames$6((T,$,I=null)=>{const N=getOwnPropertyValueOrDefault$3(I,"allowArray",!1),L=getOwnPropertyValueOrDefault$3(I,"allowFunction",!1);if(!getOwnPropertyValueOrDefault$3(I,"nullable",!1)&&T===null||!N&&ArrayIsArray$b(T)||typeof T!="object"&&(!L||typeof T!="function"))throw new ERR_INVALID_ARG_TYPE$k($,"Object",T)}),validateDictionary$3=hideStackFrames$6((T,$)=>{if(T!=null&&typeof T!="object"&&typeof T!="function")throw new ERR_INVALID_ARG_TYPE$k($,"a dictionary",T)}),validateArray$5=hideStackFrames$6((T,$,I=0)=>{if(!ArrayIsArray$b(T))throw new ERR_INVALID_ARG_TYPE$k($,"Array",T);if(T.length<I){const N=`must be longer than ${I}`;throw new ERR_INVALID_ARG_VALUE$f($,T,N)}});function validateStringArray$3(T,$){validateArray$5(T,$);for(let I=0;I<T.length;I++)validateString$3(T[I],`${$}[${I}]`)}function validateBooleanArray$3(T,$){validateArray$5(T,$);for(let I=0;I<T.length;I++)validateBoolean$7(T[I],`${$}[${I}]`)}function validateSignalName$3(T,$="signal"){if(validateString$3(T,$),signals$3[T]===void 0)throw signals$3[StringPrototypeToUpperCase$3(T)]!==void 0?new ERR_UNKNOWN_SIGNAL$3(T+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL$3(T)}const validateBuffer$3=hideStackFrames$6((T,$="buffer")=>{if(!isArrayBufferView$3(T))throw new ERR_INVALID_ARG_TYPE$k($,["Buffer","TypedArray","DataView"],T)});function validateEncoding$3(T,$){const I=normalizeEncoding$3($),N=T.length;if(I==="hex"&&N%2!==0)throw new ERR_INVALID_ARG_VALUE$f("encoding",$,`is invalid for data of length ${N}`)}function validatePort$3(T,$="Port",I=!0){if(typeof T!="number"&&typeof T!="string"||typeof T=="string"&&StringPrototypeTrim$3(T).length===0||+T!==+T>>>0||T>65535||T===0&&!I)throw new ERR_SOCKET_BAD_PORT$3($,T,I);return T|0}const validateAbortSignal$f=hideStackFrames$6((T,$)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new ERR_INVALID_ARG_TYPE$k($,"AbortSignal",T)}),validateFunction$d=hideStackFrames$6((T,$)=>{if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$k($,"Function",T)}),validatePlainFunction$3=hideStackFrames$6((T,$)=>{if(typeof T!="function"||isAsyncFunction$3(T))throw new ERR_INVALID_ARG_TYPE$k($,"Function",T)}),validateUndefined$3=hideStackFrames$6((T,$)=>{if(T!==void 0)throw new ERR_INVALID_ARG_TYPE$k($,"undefined",T)});function validateUnion$5(T,$,I){if(!ArrayPrototypeIncludes$3(I,T))throw new ERR_INVALID_ARG_TYPE$k($,`('${ArrayPrototypeJoin$3(I,"|")}')`,T)}const linkValueRegExp$3=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat$3(T,$){if(typeof T>"u"||!RegExpPrototypeExec$3(linkValueRegExp$3,T))throw new ERR_INVALID_ARG_VALUE$f($,T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue$3(T){if(typeof T=="string")return validateLinkHeaderFormat$3(T,"hints"),T;if(ArrayIsArray$b(T)){const $=T.length;let I="";if($===0)return I;for(let N=0;N<$;N++){const L=T[N];validateLinkHeaderFormat$3(L,"hints"),I+=L,N!==$-1&&(I+=", ")}return I}throw new ERR_INVALID_ARG_VALUE$f("hints",T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators$9={isInt32:isInt32$3,isUint32:isUint32$3,parseFileMode:parseFileMode$3,validateArray:validateArray$5,validateStringArray:validateStringArray$3,validateBooleanArray:validateBooleanArray$3,validateBoolean:validateBoolean$7,validateBuffer:validateBuffer$3,validateDictionary:validateDictionary$3,validateEncoding:validateEncoding$3,validateFunction:validateFunction$d,validateInt32:validateInt32$3,validateInteger:validateInteger$7,validateNumber:validateNumber$3,validateObject:validateObject$b,validateOneOf:validateOneOf$3,validatePlainFunction:validatePlainFunction$3,validatePort:validatePort$3,validateSignalName:validateSignalName$3,validateString:validateString$3,validateUint32:validateUint32$3,validateUndefined:validateUndefined$3,validateUnion:validateUnion$5,validateAbortSignal:validateAbortSignal$f,validateLinkHeaderValue:validateLinkHeaderValue$3};const validators$a=getDefaultExportFromCjs$1(validators$9),validators$b=_mergeNamespaces({__proto__:null,default:validators$a},[validators$9]);var endOfStream$e={exports:{}};const{Symbol:Symbol$g,SymbolAsyncIterator:SymbolAsyncIterator$b,SymbolIterator:SymbolIterator$b,SymbolFor:SymbolFor$3}=primordials$b,kDestroyed$7=Symbol$g("kDestroyed"),kIsErrored$3=Symbol$g("kIsErrored"),kIsReadable$3=Symbol$g("kIsReadable"),kIsDisturbed$3=Symbol$g("kIsDisturbed"),kIsClosedPromise$7=SymbolFor$3("nodejs.webstream.isClosedPromise"),kControllerErrorFunction$3=SymbolFor$3("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$b(T,$=!1){var I;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!$||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((I=T._readableState)===null||I===void 0?void 0:I.readable)!==!1)&&(!T._writableState||T._readableState))}function isWritableNodeStream$7(T){var $;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||(($=T._writableState)===null||$===void 0?void 0:$.writable)!==!1))}function isDuplexNodeStream$3(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function isNodeStream$j(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function isReadableStream$f(T){return!!(T&&!isNodeStream$j(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function isWritableStream$b(T){return!!(T&&!isNodeStream$j(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function isTransformStream$b(T){return!!(T&&!isNodeStream$j(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function isWebStream$b(T){return isReadableStream$f(T)||isWritableStream$b(T)||isTransformStream$b(T)}function isIterable$7(T,$){return T==null?!1:$===!0?typeof T[SymbolAsyncIterator$b]=="function":$===!1?typeof T[SymbolIterator$b]=="function":typeof T[SymbolAsyncIterator$b]=="function"||typeof T[SymbolIterator$b]=="function"}function isDestroyed$7(T){if(!isNodeStream$j(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!!(T.destroyed||T[kDestroyed$7]||N!=null&&N.destroyed)}function isWritableEnded$3(T){if(!isWritableNodeStream$7(T))return null;if(T.writableEnded===!0)return!0;const $=T._writableState;return $!=null&&$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isWritableFinished$7(T,$){if(!isWritableNodeStream$7(T))return null;if(T.writableFinished===!0)return!0;const I=T._writableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.finished)!="boolean"?null:!!(I.finished||$===!1&&I.ended===!0&&I.length===0)}function isReadableEnded$7(T){if(!isReadableNodeStream$b(T))return null;if(T.readableEnded===!0)return!0;const $=T._readableState;return!$||$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isReadableFinished$7(T,$){if(!isReadableNodeStream$b(T))return null;const I=T._readableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.endEmitted)!="boolean"?null:!!(I.endEmitted||$===!1&&I.ended===!0&&I.length===0)}function isReadable$f(T){return T&&T[kIsReadable$3]!=null?T[kIsReadable$3]:typeof(T==null?void 0:T.readable)!="boolean"?null:isDestroyed$7(T)?!1:isReadableNodeStream$b(T)&&T.readable&&!isReadableFinished$7(T)}function isWritable$f(T){return typeof(T==null?void 0:T.writable)!="boolean"?null:isDestroyed$7(T)?!1:isWritableNodeStream$7(T)&&T.writable&&!isWritableEnded$3(T)}function isFinished$7(T,$){return isNodeStream$j(T)?isDestroyed$7(T)?!0:!(($==null?void 0:$.readable)!==!1&&isReadable$f(T)||($==null?void 0:$.writable)!==!1&&isWritable$f(T)):null}function isWritableErrored$7(T){var $,I;return isNodeStream$j(T)?T.writableErrored?T.writableErrored:($=(I=T._writableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isReadableErrored$7(T){var $,I;return isNodeStream$j(T)?T.readableErrored?T.readableErrored:($=(I=T._readableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isClosed$7(T){if(!isNodeStream$j(T))return null;if(typeof T.closed=="boolean")return T.closed;const $=T._writableState,I=T._readableState;return typeof($==null?void 0:$.closed)=="boolean"||typeof(I==null?void 0:I.closed)=="boolean"?($==null?void 0:$.closed)||(I==null?void 0:I.closed):typeof T._closed=="boolean"&&isOutgoingMessage$3(T)?T._closed:null}function isOutgoingMessage$3(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function isServerResponse$3(T){return typeof T._sent100=="boolean"&&isOutgoingMessage$3(T)}function isServerRequest$7(T){var $;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&(($=T.req)===null||$===void 0?void 0:$.upgradeOrConnect)===void 0}function willEmitClose$3(T){if(!isNodeStream$j(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!N&&isServerResponse$3(T)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function isDisturbed$3(T){var $;return!!(T&&(($=T[kIsDisturbed$3])!==null&&$!==void 0?$:T.readableDidRead||T.readableAborted))}function isErrored$3(T){var $,I,N,L,B,H,z,Q,te,G;return!!(T&&(($=(I=(N=(L=(B=(H=T[kIsErrored$3])!==null&&H!==void 0?H:T.readableErrored)!==null&&B!==void 0?B:T.writableErrored)!==null&&L!==void 0?L:(z=T._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&N!==void 0?N:(Q=T._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&I!==void 0?I:(te=T._readableState)===null||te===void 0?void 0:te.errored)!==null&&$!==void 0?$:!((G=T._writableState)===null||G===void 0)&&G.errored))}var utils$I={kDestroyed:kDestroyed$7,isDisturbed:isDisturbed$3,kIsDisturbed:kIsDisturbed$3,isErrored:isErrored$3,kIsErrored:kIsErrored$3,isReadable:isReadable$f,kIsReadable:kIsReadable$3,kIsClosedPromise:kIsClosedPromise$7,kControllerErrorFunction:kControllerErrorFunction$3,isClosed:isClosed$7,isDestroyed:isDestroyed$7,isDuplexNodeStream:isDuplexNodeStream$3,isFinished:isFinished$7,isIterable:isIterable$7,isReadableNodeStream:isReadableNodeStream$b,isReadableStream:isReadableStream$f,isReadableEnded:isReadableEnded$7,isReadableFinished:isReadableFinished$7,isReadableErrored:isReadableErrored$7,isNodeStream:isNodeStream$j,isWebStream:isWebStream$b,isWritable:isWritable$f,isWritableNodeStream:isWritableNodeStream$7,isWritableStream:isWritableStream$b,isWritableEnded:isWritableEnded$3,isWritableFinished:isWritableFinished$7,isWritableErrored:isWritableErrored$7,isServerRequest:isServerRequest$7,isServerResponse:isServerResponse$3,willEmitClose:willEmitClose$3,isTransformStream:isTransformStream$b};const utils$J=getDefaultExportFromCjs$1(utils$I),utils$K=_mergeNamespaces({__proto__:null,default:utils$J},[utils$I]),process$f=dist$3,{AbortError:AbortError$n,codes:codes$7}=errors$h,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$j,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$8}=codes$7,{kEmptyObject:kEmptyObject$3,once:once$9}=util$k,{validateAbortSignal:validateAbortSignal$e,validateFunction:validateFunction$c,validateObject:validateObject$a,validateBoolean:validateBoolean$6}=validators$b,{Promise:Promise$c,PromisePrototypeThen:PromisePrototypeThen$b}=primordials$b,{isClosed:isClosed$6,isReadable:isReadable$e,isReadableNodeStream:isReadableNodeStream$a,isReadableStream:isReadableStream$e,isReadableFinished:isReadableFinished$6,isReadableErrored:isReadableErrored$6,isWritable:isWritable$e,isWritableNodeStream:isWritableNodeStream$6,isWritableStream:isWritableStream$a,isWritableFinished:isWritableFinished$6,isWritableErrored:isWritableErrored$6,isNodeStream:isNodeStream$i,willEmitClose:_willEmitClose$3,kIsClosedPromise:kIsClosedPromise$6}=utils$K;function isRequest$9(T){return T.setHeader&&typeof T.abort=="function"}const nop$3=()=>{};function eos$d(T,$,I){var N,L;if(arguments.length===2?(I=$,$=kEmptyObject$3):$==null?$=kEmptyObject$3:validateObject$a($,"options"),validateFunction$c(I,"callback"),validateAbortSignal$e($.signal,"options.signal"),I=once$9(I),isReadableStream$e(T)||isWritableStream$a(T))return eosWeb$3(T,$,I);if(!isNodeStream$i(T))throw new ERR_INVALID_ARG_TYPE$j("stream",["ReadableStream","WritableStream","Stream"],T);const B=(N=$.readable)!==null&&N!==void 0?N:isReadableNodeStream$a(T),H=(L=$.writable)!==null&&L!==void 0?L:isWritableNodeStream$6(T),z=T._writableState,Q=T._readableState,te=()=>{T.writable||Re()};let G=_willEmitClose$3(T)&&isReadableNodeStream$a(T)===B&&isWritableNodeStream$6(T)===H,ie=isWritableFinished$6(T,!1);const Re=()=>{ie=!0,T.destroyed&&(G=!1),!(G&&(!T.readable||B))&&(!B||$e)&&I.call(T)};let $e=isReadableFinished$6(T,!1);const Pe=()=>{$e=!0,T.destroyed&&(G=!1),!(G&&(!T.writable||H))&&(!H||ie)&&I.call(T)},Me=Ge=>{I.call(T,Ge)};let Be=isClosed$6(T);const Ke=()=>{Be=!0;const Ge=isWritableErrored$6(T)||isReadableErrored$6(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);if(B&&!$e&&isReadableNodeStream$a(T,!0)&&!isReadableFinished$6(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$8);if(H&&!ie&&!isWritableFinished$6(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$8);I.call(T)},Le=()=>{Be=!0;const Ge=isWritableErrored$6(T)||isReadableErrored$6(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);I.call(T)},qe=()=>{T.req.on("finish",Re)};isRequest$9(T)?(T.on("complete",Re),G||T.on("abort",Ke),T.req?qe():T.on("request",qe)):H&&!z&&(T.on("end",te),T.on("close",te)),!G&&typeof T.aborted=="boolean"&&T.on("aborted",Ke),T.on("end",Pe),T.on("finish",Re),$.error!==!1&&T.on("error",Me),T.on("close",Ke),Be?process$f.nextTick(Ke):z!=null&&z.errorEmitted||Q!=null&&Q.errorEmitted?G||process$f.nextTick(Le):(!B&&(!G||isReadable$e(T))&&(ie||isWritable$e(T)===!1)||!H&&(!G||isWritable$e(T))&&($e||isReadable$e(T)===!1)||Q&&T.req&&T.aborted)&&process$f.nextTick(Le);const He=()=>{I=nop$3,T.removeListener("aborted",Ke),T.removeListener("complete",Re),T.removeListener("abort",Ke),T.removeListener("request",qe),T.req&&T.req.removeListener("finish",Re),T.removeListener("end",te),T.removeListener("close",te),T.removeListener("finish",Re),T.removeListener("end",Pe),T.removeListener("error",Me),T.removeListener("close",Ke)};if($.signal&&!Be){const Ge=()=>{const at=I;He(),at.call(T,new AbortError$n(void 0,{cause:$.signal.reason}))};if($.signal.aborted)process$f.nextTick(Ge);else{const at=I;I=once$9((...ot)=>{$.signal.removeEventListener("abort",Ge),at.apply(T,ot)}),$.signal.addEventListener("abort",Ge)}}return He}function eosWeb$3(T,$,I){let N=!1,L=nop$3;if($.signal)if(L=()=>{N=!0,I.call(T,new AbortError$n(void 0,{cause:$.signal.reason}))},$.signal.aborted)process$f.nextTick(L);else{const H=I;I=once$9((...z)=>{$.signal.removeEventListener("abort",L),H.apply(T,z)}),$.signal.addEventListener("abort",L)}const B=(...H)=>{N||process$f.nextTick(()=>I.apply(T,H))};return PromisePrototypeThen$b(T[kIsClosedPromise$6].promise,B,B),nop$3}function finished$7(T,$){var I;let N=!1;return $===null&&($=kEmptyObject$3),(I=$)!==null&&I!==void 0&&I.cleanup&&(validateBoolean$6($.cleanup,"cleanup"),N=$.cleanup),new Promise$c((L,B)=>{const H=eos$d(T,$,z=>{N&&H(),z?B(z):L()})})}endOfStream$e.exports=eos$d;var finished_1$3=endOfStream$e.exports.finished=finished$7,endOfStreamExports$3=endOfStream$e.exports;const endOfStream$c=getDefaultExportFromCjs$1(endOfStreamExports$3),endOfStream$d=_mergeNamespaces({__proto__:null,default:endOfStream$c,finished:finished_1$3},[endOfStreamExports$3]),process$e=dist$3,{aggregateTwoErrors:aggregateTwoErrors$a,codes:{ERR_MULTIPLE_CALLBACK:ERR_MULTIPLE_CALLBACK$4},AbortError:AbortError$m}=errors$h,{Symbol:Symbol$f}=primordials$b,{kDestroyed:kDestroyed$6,isDestroyed:isDestroyed$6,isFinished:isFinished$6,isServerRequest:isServerRequest$6}=utils$K,kDestroy$3=Symbol$f("kDestroy"),kConstruct$3=Symbol$f("kConstruct");function checkError$3(T,$,I){T&&(T.stack,$&&!$.errored&&($.errored=T),I&&!I.errored&&(I.errored=T))}function destroy$c(T,$){const I=this._readableState,N=this._writableState,L=N||I;return N!=null&&N.destroyed||I!=null&&I.destroyed?(typeof $=="function"&&$(),this):(checkError$3(T,N,I),N&&(N.destroyed=!0),I&&(I.destroyed=!0),L.constructed?_destroy$3(this,T,$):this.once(kDestroy$3,function(B){_destroy$3(this,aggregateTwoErrors$a(B,T),$)}),this)}function _destroy$3(T,$,I){let N=!1;function L(B){if(N)return;N=!0;const H=T._readableState,z=T._writableState;checkError$3(B,z,H),z&&(z.closed=!0),H&&(H.closed=!0),typeof I=="function"&&I(B),B?process$e.nextTick(emitErrorCloseNT$3,T,B):process$e.nextTick(emitCloseNT$4,T)}try{T._destroy($||null,L)}catch(B){L(B)}}function emitErrorCloseNT$3(T,$){emitErrorNT$4(T,$),emitCloseNT$4(T)}function emitCloseNT$4(T){const $=T._readableState,I=T._writableState;I&&(I.closeEmitted=!0),$&&($.closeEmitted=!0),(I!=null&&I.emitClose||$!=null&&$.emitClose)&&T.emit("close")}function emitErrorNT$4(T,$){const I=T._readableState,N=T._writableState;N!=null&&N.errorEmitted||I!=null&&I.errorEmitted||(N&&(N.errorEmitted=!0),I&&(I.errorEmitted=!0),T.emit("error",$))}function undestroy$4(){const T=this._readableState,$=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function errorOrDestroy$4(T,$,I){const N=T._readableState,L=T._writableState;if(L!=null&&L.destroyed||N!=null&&N.destroyed)return this;N!=null&&N.autoDestroy||L!=null&&L.autoDestroy?T.destroy($):$&&($.stack,L&&!L.errored&&(L.errored=$),N&&!N.errored&&(N.errored=$),I?process$e.nextTick(emitErrorNT$4,T,$):emitErrorNT$4(T,$))}function construct$3(T,$){if(typeof T._construct!="function")return;const I=T._readableState,N=T._writableState;I&&(I.constructed=!1),N&&(N.constructed=!1),T.once(kConstruct$3,$),!(T.listenerCount(kConstruct$3)>1)&&process$e.nextTick(constructNT$3,T)}function constructNT$3(T){let $=!1;function I(N){if($){errorOrDestroy$4(T,N??new ERR_MULTIPLE_CALLBACK$4);return}$=!0;const L=T._readableState,B=T._writableState,H=B||L;L&&(L.constructed=!0),B&&(B.constructed=!0),H.destroyed?T.emit(kDestroy$3,N):N?errorOrDestroy$4(T,N,!0):process$e.nextTick(emitConstructNT$3,T)}try{T._construct(N=>{process$e.nextTick(I,N)})}catch(N){process$e.nextTick(I,N)}}function emitConstructNT$3(T){T.emit(kConstruct$3)}function isRequest$8(T){return(T==null?void 0:T.setHeader)&&typeof T.abort=="function"}function emitCloseLegacy$3(T){T.emit("close")}function emitErrorCloseLegacy$3(T,$){T.emit("error",$),process$e.nextTick(emitCloseLegacy$3,T)}function destroyer$c(T,$){!T||isDestroyed$6(T)||(!$&&!isFinished$6(T)&&($=new AbortError$m),isServerRequest$6(T)?(T.socket=null,T.destroy($)):isRequest$8(T)?T.abort():isRequest$8(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy($):typeof T.close=="function"?T.close():$?process$e.nextTick(emitErrorCloseLegacy$3,T,$):process$e.nextTick(emitCloseLegacy$3,T),T.destroyed||(T[kDestroyed$6]=!0))}var destroy_1$5={construct:construct$3,destroyer:destroyer$c,destroy:destroy$c,undestroy:undestroy$4,errorOrDestroy:errorOrDestroy$4};const destroy$d=getDefaultExportFromCjs$1(destroy_1$5),destroy$e=_mergeNamespaces({__proto__:null,default:destroy$d},[destroy_1$5]),{ArrayIsArray:ArrayIsArray$a,ObjectSetPrototypeOf:ObjectSetPrototypeOf$b}=primordials$b,{EventEmitter:EE$4}=events$1;function Stream$4(T){EE$4.call(this,T)}ObjectSetPrototypeOf$b(Stream$4.prototype,EE$4.prototype);ObjectSetPrototypeOf$b(Stream$4,EE$4);Stream$4.prototype.pipe=function(T,$){const I=this;function N(G){T.writable&&T.write(G)===!1&&I.pause&&I.pause()}I.on("data",N);function L(){I.readable&&I.resume&&I.resume()}T.on("drain",L),!T._isStdio&&(!$||$.end!==!1)&&(I.on("end",H),I.on("close",z));let B=!1;function H(){B||(B=!0,T.end())}function z(){B||(B=!0,typeof T.destroy=="function"&&T.destroy())}function Q(G){te(),EE$4.listenerCount(this,"error")===0&&this.emit("error",G)}prependListener$3(I,"error",Q),prependListener$3(T,"error",Q);function te(){I.removeListener("data",N),T.removeListener("drain",L),I.removeListener("end",H),I.removeListener("close",z),I.removeListener("error",Q),T.removeListener("error",Q),I.removeListener("end",te),I.removeListener("close",te),T.removeListener("close",te)}return I.on("end",te),I.on("close",te),T.on("close",te),T.emit("pipe",I),T};function prependListener$3(T,$,I){if(typeof T.prependListener=="function")return T.prependListener($,I);!T._events||!T._events[$]?T.on($,I):ArrayIsArray$a(T._events[$])?T._events[$].unshift(I):T._events[$]=[I,T._events[$]]}var legacy$a={Stream:Stream$4,prependListener:prependListener$3};const legacy$b=getDefaultExportFromCjs$1(legacy$a),legacy$c=_mergeNamespaces({__proto__:null,default:legacy$b},[legacy$a]);var addAbortSignal$b={exports:{}};(function(T){const{AbortError:$,codes:I}=errors$h,{isNodeStream:N,isWebStream:L,kControllerErrorFunction:B}=utils$K,H=endOfStream$d,{ERR_INVALID_ARG_TYPE:z}=I,Q=(te,G)=>{if(typeof te!="object"||!("aborted"in te))throw new z(G,"AbortSignal",te)};T.exports.addAbortSignal=function(G,ie){if(Q(G,"signal"),!N(ie)&&!L(ie))throw new z("stream",["ReadableStream","WritableStream","Stream"],ie);return T.exports.addAbortSignalNoValidate(G,ie)},T.exports.addAbortSignalNoValidate=function(te,G){if(typeof te!="object"||!("aborted"in te))return G;const ie=N(G)?()=>{G.destroy(new $(void 0,{cause:te.reason}))}:()=>{G[B](new $(void 0,{cause:te.reason}))};return te.aborted?ie():(te.addEventListener("abort",ie),H(G,()=>te.removeEventListener("abort",ie))),G}})(addAbortSignal$b);var addAbortSignalExports$3=addAbortSignal$b.exports;const addAbortSignal$9=getDefaultExportFromCjs$1(addAbortSignalExports$3),addAbortSignal$a=_mergeNamespaces({__proto__:null,default:addAbortSignal$9},[addAbortSignalExports$3]),{StringPrototypeSlice:StringPrototypeSlice$3,SymbolIterator:SymbolIterator$a,TypedArrayPrototypeSet:TypedArrayPrototypeSet$3,Uint8Array:Uint8Array$4}=primordials$b,{Buffer:Buffer$j}=dist$5,{inspect:inspect$9}=util$k;var buffer_list$a=class{constructor(){this.head=null,this.tail=null,this.length=0}push($){const I={data:$,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}unshift($){const I={data:$,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}shift(){if(this.length===0)return;const $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}clear(){this.head=this.tail=null,this.length=0}join($){if(this.length===0)return"";let I=this.head,N=""+I.data;for(;(I=I.next)!==null;)N+=$+I.data;return N}concat($){if(this.length===0)return Buffer$j.alloc(0);const I=Buffer$j.allocUnsafe($>>>0);let N=this.head,L=0;for(;N;)TypedArrayPrototypeSet$3(I,N.data,L),L+=N.data.length,N=N.next;return I}consume($,I){const N=this.head.data;if($<N.length){const L=N.slice(0,$);return this.head.data=N.slice($),L}return $===N.length?this.shift():I?this._getString($):this._getBuffer($)}first(){return this.head.data}*[SymbolIterator$a](){for(let $=this.head;$;$=$.next)yield $.data}_getString($){let I="",N=this.head,L=0;do{const B=N.data;if($>B.length)I+=B,$-=B.length;else{$===B.length?(I+=B,++L,N.next?this.head=N.next:this.head=this.tail=null):(I+=StringPrototypeSlice$3(B,0,$),this.head=N,N.data=StringPrototypeSlice$3(B,$));break}++L}while((N=N.next)!==null);return this.length-=L,I}_getBuffer($){const I=Buffer$j.allocUnsafe($),N=$;let L=this.head,B=0;do{const H=L.data;if($>H.length)TypedArrayPrototypeSet$3(I,H,N-$),$-=H.length;else{$===H.length?(TypedArrayPrototypeSet$3(I,H,N-$),++B,L.next?this.head=L.next:this.head=this.tail=null):(TypedArrayPrototypeSet$3(I,new Uint8Array$4(H.buffer,H.byteOffset,$),N-$),this.head=L,L.data=H.slice($));break}++B}while((L=L.next)!==null);return this.length-=B,I}[Symbol.for("nodejs.util.inspect.custom")]($,I){return inspect$9(this,{...I,depth:0,customInspect:!1})}};const buffer_list$b=getDefaultExportFromCjs$1(buffer_list$a),buffer_list$c=_mergeNamespaces({__proto__:null,default:buffer_list$b},[buffer_list$a]),{MathFloor:MathFloor$7,NumberIsInteger:NumberIsInteger$6}=primordials$b,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$e}=errors$h.codes;function highWaterMarkFrom$4(T,$,I){return T.highWaterMark!=null?T.highWaterMark:$?T[I]:null}function getDefaultHighWaterMark$3(T){return T?16:16*1024}function getHighWaterMark$8(T,$,I,N){const L=highWaterMarkFrom$4($,N,I);if(L!=null){if(!NumberIsInteger$6(L)||L<0){const B=N?`options.${I}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$e(B,L)}return MathFloor$7(L)}return getDefaultHighWaterMark$3(T.objectMode)}var state$d={getHighWaterMark:getHighWaterMark$8,getDefaultHighWaterMark:getDefaultHighWaterMark$3};const state$e=getDefaultExportFromCjs$1(state$d),state$f=_mergeNamespaces({__proto__:null,default:state$e},[state$d]),process$d=dist$3,{PromisePrototypeThen:PromisePrototypeThen$a,SymbolAsyncIterator:SymbolAsyncIterator$a,SymbolIterator:SymbolIterator$9}=primordials$b,{Buffer:Buffer$i}=dist$5,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$i,ERR_STREAM_NULL_VALUES:ERR_STREAM_NULL_VALUES$3}=errors$h.codes;function from$d(T,$,I){let N;if(typeof $=="string"||$ instanceof Buffer$i)return new T({objectMode:!0,...I,read(){this.push($),this.push(null)}});let L;if($&&$[SymbolAsyncIterator$a])L=!0,N=$[SymbolAsyncIterator$a]();else if($&&$[SymbolIterator$9])L=!1,N=$[SymbolIterator$9]();else throw new ERR_INVALID_ARG_TYPE$i("iterable",["Iterable"],$);const B=new T({objectMode:!0,highWaterMark:1,...I});let H=!1;B._read=function(){H||(H=!0,Q())},B._destroy=function(te,G){PromisePrototypeThen$a(z(te),()=>process$d.nextTick(G,te),ie=>process$d.nextTick(G,ie||te))};async function z(te){const G=te!=null,ie=typeof N.throw=="function";if(G&&ie){const{value:Re,done:$e}=await N.throw(te);if(await Re,$e)return}if(typeof N.return=="function"){const{value:Re}=await N.return();await Re}}async function Q(){for(;;){try{const{value:te,done:G}=L?await N.next():N.next();if(G)B.push(null);else{const ie=te&&typeof te.then=="function"?await te:te;if(ie===null)throw H=!1,new ERR_STREAM_NULL_VALUES$3;if(B.push(ie))continue;H=!1}}catch(te){B.destroy(te)}break}}return B}var from_1$3=from$d;const from$e=getDefaultExportFromCjs$1(from_1$3),from$f=_mergeNamespaces({__proto__:null,default:from$e},[from_1$3]);var readable$3,hasRequiredReadable$3;function requireReadable$3(){if(hasRequiredReadable$3)return readable$3;hasRequiredReadable$3=1;const T=dist$3,{ArrayPrototypeIndexOf:$,NumberIsInteger:I,NumberIsNaN:N,NumberParseInt:L,ObjectDefineProperties:B,ObjectKeys:H,ObjectSetPrototypeOf:z,Promise:Q,SafeSet:te,SymbolAsyncIterator:G,Symbol:ie}=primordials$b;readable$3=We,We.ReadableState=it;const{EventEmitter:Re}=events$1,{Stream:$e,prependListener:Pe}=legacy$c,{Buffer:Me}=dist$5,{addAbortSignal:Be}=addAbortSignal$a,Ke=endOfStream$d;let Le=util$k.debuglog("stream",lt=>{Le=lt});const qe=buffer_list$c,He=destroy$e,{getHighWaterMark:Ge,getDefaultHighWaterMark:at}=state$f,{aggregateTwoErrors:ot,codes:{ERR_INVALID_ARG_TYPE:Ye,ERR_METHOD_NOT_IMPLEMENTED:nt,ERR_OUT_OF_RANGE:Qe,ERR_STREAM_PUSH_AFTER_EOF:tt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ze}}=errors$h,{validateObject:Fe}=validators$b,ke=ie("kPaused"),{StringDecoder:Ue}=string_decoder,Je=from$f;z(We.prototype,$e.prototype),z(We,$e);const rt=()=>{},{errorOrDestroy:Xe}=He;function it(lt,ct,Nt){typeof Nt!="boolean"&&(Nt=ct instanceof requireDuplex$3()),this.objectMode=!!(lt&&lt.objectMode),Nt&&(this.objectMode=this.objectMode||!!(lt&&lt.readableObjectMode)),this.highWaterMark=lt?Ge(this,lt,"readableHighWaterMark",Nt):at(!1),this.buffer=new qe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ke]=null,this.errorEmitted=!1,this.emitClose=!lt||lt.emitClose!==!1,this.autoDestroy=!lt||lt.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=lt&&lt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,lt&&lt.encoding&&(this.decoder=new Ue(lt.encoding),this.encoding=lt.encoding)}function We(lt){if(!(this instanceof We))return new We(lt);const ct=this instanceof requireDuplex$3();this._readableState=new it(lt,this,ct),lt&&(typeof lt.read=="function"&&(this._read=lt.read),typeof lt.destroy=="function"&&(this._destroy=lt.destroy),typeof lt.construct=="function"&&(this._construct=lt.construct),lt.signal&&!ct&&Be(lt.signal,this)),$e.call(this,lt),He.construct(this,()=>{this._readableState.needReadable&&Bt(this,this._readableState)})}We.prototype.destroy=He.destroy,We.prototype._undestroy=He.undestroy,We.prototype._destroy=function(lt,ct){ct(lt)},We.prototype[Re.captureRejectionSymbol]=function(lt){this.destroy(lt)},We.prototype.push=function(lt,ct){return Ve(this,lt,ct,!1)},We.prototype.unshift=function(lt,ct){return Ve(this,lt,ct,!0)};function Ve(lt,ct,Nt,jt){Le("readableAddChunk",ct);const zt=lt._readableState;let Ot;if(zt.objectMode||(typeof ct=="string"?(Nt=Nt||zt.defaultEncoding,zt.encoding!==Nt&&(jt&&zt.encoding?ct=Me.from(ct,Nt).toString(zt.encoding):(ct=Me.from(ct,Nt),Nt=""))):ct instanceof Me?Nt="":$e._isUint8Array(ct)?(ct=$e._uint8ArrayToBuffer(ct),Nt=""):ct!=null&&(Ot=new Ye("chunk",["string","Buffer","Uint8Array"],ct))),Ot)Xe(lt,Ot);else if(ct===null)zt.reading=!1,bt(lt,zt);else if(zt.objectMode||ct&&ct.length>0)if(jt)if(zt.endEmitted)Xe(lt,new ze);else{if(zt.destroyed||zt.errored)return!1;je(lt,zt,ct,!0)}else if(zt.ended)Xe(lt,new tt);else{if(zt.destroyed||zt.errored)return!1;zt.reading=!1,zt.decoder&&!Nt?(ct=zt.decoder.write(ct),zt.objectMode||ct.length!==0?je(lt,zt,ct,!1):Bt(lt,zt)):je(lt,zt,ct,!1)}else jt||(zt.reading=!1,Bt(lt,zt));return!zt.ended&&(zt.length<zt.highWaterMark||zt.length===0)}function je(lt,ct,Nt,jt){ct.flowing&&ct.length===0&&!ct.sync&&lt.listenerCount("data")>0?(ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null,ct.dataEmitted=!0,lt.emit("data",Nt)):(ct.length+=ct.objectMode?1:Nt.length,jt?ct.buffer.unshift(Nt):ct.buffer.push(Nt),ct.needReadable&&vt(lt)),Bt(lt,ct)}We.prototype.isPaused=function(){const lt=this._readableState;return lt[ke]===!0||lt.flowing===!1},We.prototype.setEncoding=function(lt){const ct=new Ue(lt);this._readableState.decoder=ct,this._readableState.encoding=this._readableState.decoder.encoding;const Nt=this._readableState.buffer;let jt="";for(const zt of Nt)jt+=ct.write(zt);return Nt.clear(),jt!==""&&Nt.push(jt),this._readableState.length=jt.length,this};const Ze=1073741824;function st(lt){if(lt>Ze)throw new Qe("size","<= 1GiB",lt);return lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++,lt}function dt(lt,ct){return lt<=0||ct.length===0&&ct.ended?0:ct.objectMode?1:N(lt)?ct.flowing&&ct.length?ct.buffer.first().length:ct.length:lt<=ct.length?lt:ct.ended?ct.length:0}We.prototype.read=function(lt){Le("read",lt),lt===void 0?lt=NaN:I(lt)||(lt=L(lt,10));const ct=this._readableState,Nt=lt;if(lt>ct.highWaterMark&&(ct.highWaterMark=st(lt)),lt!==0&&(ct.emittedReadable=!1),lt===0&&ct.needReadable&&((ct.highWaterMark!==0?ct.length>=ct.highWaterMark:ct.length>0)||ct.ended))return Le("read: emitReadable",ct.length,ct.ended),ct.length===0&&ct.ended?yr(this):vt(this),null;if(lt=dt(lt,ct),lt===0&&ct.ended)return ct.length===0&&yr(this),null;let jt=ct.needReadable;if(Le("need readable",jt),(ct.length===0||ct.length-lt<ct.highWaterMark)&&(jt=!0,Le("length less than watermark",jt)),ct.ended||ct.reading||ct.destroyed||ct.errored||!ct.constructed)jt=!1,Le("reading, ended or constructing",jt);else if(jt){Le("do read"),ct.reading=!0,ct.sync=!0,ct.length===0&&(ct.needReadable=!0);try{this._read(ct.highWaterMark)}catch(Ot){Xe(this,Ot)}ct.sync=!1,ct.reading||(lt=dt(Nt,ct))}let zt;return lt>0?zt=Yt(lt,ct):zt=null,zt===null?(ct.needReadable=ct.length<=ct.highWaterMark,lt=0):(ct.length-=lt,ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null),ct.length===0&&(ct.ended||(ct.needReadable=!0),Nt!==lt&&ct.ended&&yr(this)),zt!==null&&!ct.errorEmitted&&!ct.closeEmitted&&(ct.dataEmitted=!0,this.emit("data",zt)),zt};function bt(lt,ct){if(Le("onEofChunk"),!ct.ended){if(ct.decoder){const Nt=ct.decoder.end();Nt&&Nt.length&&(ct.buffer.push(Nt),ct.length+=ct.objectMode?1:Nt.length)}ct.ended=!0,ct.sync?vt(lt):(ct.needReadable=!1,ct.emittedReadable=!0,St(lt))}}function vt(lt){const ct=lt._readableState;Le("emitReadable",ct.needReadable,ct.emittedReadable),ct.needReadable=!1,ct.emittedReadable||(Le("emitReadable",ct.flowing),ct.emittedReadable=!0,T.nextTick(St,lt))}function St(lt){const ct=lt._readableState;Le("emitReadable_",ct.destroyed,ct.length,ct.ended),!ct.destroyed&&!ct.errored&&(ct.length||ct.ended)&&(lt.emit("readable"),ct.emittedReadable=!1),ct.needReadable=!ct.flowing&&!ct.ended&&ct.length<=ct.highWaterMark,kt(lt)}function Bt(lt,ct){!ct.readingMore&&ct.constructed&&(ct.readingMore=!0,T.nextTick(Gt,lt,ct))}function Gt(lt,ct){for(;!ct.reading&&!ct.ended&&(ct.length<ct.highWaterMark||ct.flowing&&ct.length===0);){const Nt=ct.length;if(Le("maybeReadMore read 0"),lt.read(0),Nt===ct.length)break}ct.readingMore=!1}We.prototype._read=function(lt){throw new nt("_read()")},We.prototype.pipe=function(lt,ct){const Nt=this,jt=this._readableState;jt.pipes.length===1&&(jt.multiAwaitDrain||(jt.multiAwaitDrain=!0,jt.awaitDrainWriters=new te(jt.awaitDrainWriters?[jt.awaitDrainWriters]:[]))),jt.pipes.push(lt),Le("pipe count=%d opts=%j",jt.pipes.length,ct);const Ot=(!ct||ct.end!==!1)&&lt!==T.stdout&&lt!==T.stderr?It:Wr;jt.endEmitted?T.nextTick(Ot):Nt.once("end",Ot),lt.on("unpipe",Rt);function Rt(Kr,Yr){Le("onunpipe"),Kr===Nt&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,dr())}function It(){Le("onend"),lt.end()}let Kt,tr=!1;function dr(){Le("cleanup"),lt.removeListener("close",Br),lt.removeListener("finish",Qr),Kt&&lt.removeListener("drain",Kt),lt.removeListener("error",qr),lt.removeListener("unpipe",Rt),Nt.removeListener("end",It),Nt.removeListener("end",Wr),Nt.removeListener("data",Nr),tr=!0,Kt&&jt.awaitDrainWriters&&(!lt._writableState||lt._writableState.needDrain)&&Kt()}function _r(){tr||(jt.pipes.length===1&&jt.pipes[0]===lt?(Le("false write response, pause",0),jt.awaitDrainWriters=lt,jt.multiAwaitDrain=!1):jt.pipes.length>1&&jt.pipes.includes(lt)&&(Le("false write response, pause",jt.awaitDrainWriters.size),jt.awaitDrainWriters.add(lt)),Nt.pause()),Kt||(Kt=Dt(Nt,lt),lt.on("drain",Kt))}Nt.on("data",Nr);function Nr(Kr){Le("ondata");const Yr=lt.write(Kr);Le("dest.write",Yr),Yr===!1&&_r()}function qr(Kr){if(Le("onerror",Kr),Wr(),lt.removeListener("error",qr),lt.listenerCount("error")===0){const Yr=lt._writableState||lt._readableState;Yr&&!Yr.errorEmitted?Xe(lt,Kr):lt.emit("error",Kr)}}Pe(lt,"error",qr);function Br(){lt.removeListener("finish",Qr),Wr()}lt.once("close",Br);function Qr(){Le("onfinish"),lt.removeListener("close",Br),Wr()}lt.once("finish",Qr);function Wr(){Le("unpipe"),Nt.unpipe(lt)}return lt.emit("pipe",Nt),lt.writableNeedDrain===!0?jt.flowing&&_r():jt.flowing||(Le("pipe resume"),Nt.resume()),lt};function Dt(lt,ct){return function(){const jt=lt._readableState;jt.awaitDrainWriters===ct?(Le("pipeOnDrain",1),jt.awaitDrainWriters=null):jt.multiAwaitDrain&&(Le("pipeOnDrain",jt.awaitDrainWriters.size),jt.awaitDrainWriters.delete(ct)),(!jt.awaitDrainWriters||jt.awaitDrainWriters.size===0)&&lt.listenerCount("data")&&lt.resume()}}We.prototype.unpipe=function(lt){const ct=this._readableState,Nt={hasUnpiped:!1};if(ct.pipes.length===0)return this;if(!lt){const zt=ct.pipes;ct.pipes=[],this.pause();for(let Ot=0;Ot<zt.length;Ot++)zt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}const jt=$(ct.pipes,lt);return jt===-1?this:(ct.pipes.splice(jt,1),ct.pipes.length===0&&this.pause(),lt.emit("unpipe",this,Nt),this)},We.prototype.on=function(lt,ct){const Nt=$e.prototype.on.call(this,lt,ct),jt=this._readableState;return lt==="data"?(jt.readableListening=this.listenerCount("readable")>0,jt.flowing!==!1&&this.resume()):lt==="readable"&&!jt.endEmitted&&!jt.readableListening&&(jt.readableListening=jt.needReadable=!0,jt.flowing=!1,jt.emittedReadable=!1,Le("on readable",jt.length,jt.reading),jt.length?vt(this):jt.reading||T.nextTick(pt,this)),Nt},We.prototype.addListener=We.prototype.on,We.prototype.removeListener=function(lt,ct){const Nt=$e.prototype.removeListener.call(this,lt,ct);return lt==="readable"&&T.nextTick(Mt,this),Nt},We.prototype.off=We.prototype.removeListener,We.prototype.removeAllListeners=function(lt){const ct=$e.prototype.removeAllListeners.apply(this,arguments);return(lt==="readable"||lt===void 0)&&T.nextTick(Mt,this),ct};function Mt(lt){const ct=lt._readableState;ct.readableListening=lt.listenerCount("readable")>0,ct.resumeScheduled&&ct[ke]===!1?ct.flowing=!0:lt.listenerCount("data")>0?lt.resume():ct.readableListening||(ct.flowing=null)}function pt(lt){Le("readable nexttick read 0"),lt.read(0)}We.prototype.resume=function(){const lt=this._readableState;return lt.flowing||(Le("resume"),lt.flowing=!lt.readableListening,mt(this,lt)),lt[ke]=!1,this};function mt(lt,ct){ct.resumeScheduled||(ct.resumeScheduled=!0,T.nextTick($t,lt,ct))}function $t(lt,ct){Le("resume",ct.reading),ct.reading||lt.read(0),ct.resumeScheduled=!1,lt.emit("resume"),kt(lt),ct.flowing&&!ct.reading&&lt.read(0)}We.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ke]=!0,this};function kt(lt){const ct=lt._readableState;for(Le("flow",ct.flowing);ct.flowing&&lt.read()!==null;);}We.prototype.wrap=function(lt){let ct=!1;lt.on("data",jt=>{!this.push(jt)&&lt.pause&&(ct=!0,lt.pause())}),lt.on("end",()=>{this.push(null)}),lt.on("error",jt=>{Xe(this,jt)}),lt.on("close",()=>{this.destroy()}),lt.on("destroy",()=>{this.destroy()}),this._read=()=>{ct&&lt.resume&&(ct=!1,lt.resume())};const Nt=H(lt);for(let jt=1;jt<Nt.length;jt++){const zt=Nt[jt];this[zt]===void 0&&typeof lt[zt]=="function"&&(this[zt]=lt[zt].bind(lt))}return this},We.prototype[G]=function(){return Ft(this)},We.prototype.iterator=function(lt){return lt!==void 0&&Fe(lt,"options"),Ft(this,lt)};function Ft(lt,ct){typeof lt.read!="function"&&(lt=We.wrap(lt,{objectMode:!0}));const Nt=nr(lt,ct);return Nt.stream=lt,Nt}async function*nr(lt,ct){let Nt=rt;function jt(Rt){this===lt?(Nt(),Nt=rt):Nt=Rt}lt.on("readable",jt);let zt;const Ot=Ke(lt,{writable:!1},Rt=>{zt=Rt?ot(zt,Rt):null,Nt(),Nt=rt});try{for(;;){const Rt=lt.destroyed?null:lt.read();if(Rt!==null)yield Rt;else{if(zt)throw zt;if(zt===null)return;await new Q(jt)}}}catch(Rt){throw zt=ot(zt,Rt),zt}finally{(zt||(ct==null?void 0:ct.destroyOnReturn)!==!1)&&(zt===void 0||lt._readableState.autoDestroy)?He.destroyer(lt,null):(lt.off("readable",jt),Ot())}}B(We.prototype,{readable:{__proto__:null,get(){const lt=this._readableState;return!!lt&&lt.readable!==!1&&!lt.destroyed&&!lt.errorEmitted&&!lt.endEmitted},set(lt){this._readableState&&(this._readableState.readable=!!lt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(lt){this._readableState&&(this._readableState.flowing=lt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(lt){this._readableState&&(this._readableState.destroyed=lt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(it.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ke]!==!1},set(lt){this[ke]=!!lt}}}),We._fromList=Yt;function Yt(lt,ct){if(ct.length===0)return null;let Nt;return ct.objectMode?Nt=ct.buffer.shift():!lt||lt>=ct.length?(ct.decoder?Nt=ct.buffer.join(""):ct.buffer.length===1?Nt=ct.buffer.first():Nt=ct.buffer.concat(ct.length),ct.buffer.clear()):Nt=ct.buffer.consume(lt,ct.decoder),Nt}function yr(lt){const ct=lt._readableState;Le("endReadable",ct.endEmitted),ct.endEmitted||(ct.ended=!0,T.nextTick(gr,ct,lt))}function gr(lt,ct){if(Le("endReadableNT",lt.endEmitted,lt.length),!lt.errored&&!lt.closeEmitted&&!lt.endEmitted&&lt.length===0){if(lt.endEmitted=!0,ct.emit("end"),ct.writable&&ct.allowHalfOpen===!1)T.nextTick(br,ct);else if(lt.autoDestroy){const Nt=ct._writableState;(!Nt||Nt.autoDestroy&&(Nt.finished||Nt.writable===!1))&&ct.destroy()}}}function br(lt){lt.writable&&!lt.writableEnded&&!lt.destroyed&&lt.end()}We.from=function(lt,ct){return Je(We,lt,ct)};let cr;function pr(){return cr===void 0&&(cr={}),cr}return We.fromWeb=function(lt,ct){return pr().newStreamReadableFromReadableStream(lt,ct)},We.toWeb=function(lt,ct){return pr().newReadableStreamFromStreamReadable(lt,ct)},We.wrap=function(lt,ct){var Nt,jt;return new We({objectMode:(Nt=(jt=lt.readableObjectMode)!==null&&jt!==void 0?jt:lt.objectMode)!==null&&Nt!==void 0?Nt:!0,...ct,destroy(zt,Ot){He.destroyer(lt,zt),Ot(zt)}}).wrap(lt)},readable$3}var writable$3,hasRequiredWritable$3;function requireWritable$3(){if(hasRequiredWritable$3)return writable$3;hasRequiredWritable$3=1;const T=dist$3,{ArrayPrototypeSlice:$,Error:I,FunctionPrototypeSymbolHasInstance:N,ObjectDefineProperty:L,ObjectDefineProperties:B,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:z,Symbol:Q,SymbolHasInstance:te}=primordials$b;writable$3=Ue,Ue.WritableState=Fe;const{EventEmitter:G}=events$1,ie=legacy$c.Stream,{Buffer:Re}=dist$5,$e=destroy$e,{addAbortSignal:Pe}=addAbortSignal$a,{getHighWaterMark:Me,getDefaultHighWaterMark:Be}=state$f,{ERR_INVALID_ARG_TYPE:Ke,ERR_METHOD_NOT_IMPLEMENTED:Le,ERR_MULTIPLE_CALLBACK:qe,ERR_STREAM_CANNOT_PIPE:He,ERR_STREAM_DESTROYED:Ge,ERR_STREAM_ALREADY_FINISHED:at,ERR_STREAM_NULL_VALUES:ot,ERR_STREAM_WRITE_AFTER_END:Ye,ERR_UNKNOWN_ENCODING:nt}=errors$h.codes,{errorOrDestroy:Qe}=$e;H(Ue.prototype,ie.prototype),H(Ue,ie);function tt(){}const ze=Q("kOnFinished");function Fe(pt,mt,$t){typeof $t!="boolean"&&($t=mt instanceof requireDuplex$3()),this.objectMode=!!(pt&&pt.objectMode),$t&&(this.objectMode=this.objectMode||!!(pt&&pt.writableObjectMode)),this.highWaterMark=pt?Me(this,pt,"writableHighWaterMark",$t):Be(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const kt=!!(pt&&pt.decodeStrings===!1);this.decodeStrings=!kt,this.defaultEncoding=pt&&pt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=We.bind(void 0,mt),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ke(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pt||pt.emitClose!==!1,this.autoDestroy=!pt||pt.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ze]=[]}function ke(pt){pt.buffered=[],pt.bufferedIndex=0,pt.allBuffers=!0,pt.allNoop=!0}Fe.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},L(Fe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ue(pt){const mt=this instanceof requireDuplex$3();if(!mt&&!N(Ue,this))return new Ue(pt);this._writableState=new Fe(pt,this,mt),pt&&(typeof pt.write=="function"&&(this._write=pt.write),typeof pt.writev=="function"&&(this._writev=pt.writev),typeof pt.destroy=="function"&&(this._destroy=pt.destroy),typeof pt.final=="function"&&(this._final=pt.final),typeof pt.construct=="function"&&(this._construct=pt.construct),pt.signal&&Pe(pt.signal,this)),ie.call(this,pt),$e.construct(this,()=>{const $t=this._writableState;$t.writing||st(this,$t),St(this,$t)})}L(Ue,te,{__proto__:null,value:function(pt){return N(this,pt)?!0:this!==Ue?!1:pt&&pt._writableState instanceof Fe}}),Ue.prototype.pipe=function(){Qe(this,new He)};function Je(pt,mt,$t,kt){const Ft=pt._writableState;if(typeof $t=="function")kt=$t,$t=Ft.defaultEncoding;else{if(!$t)$t=Ft.defaultEncoding;else if($t!=="buffer"&&!Re.isEncoding($t))throw new nt($t);typeof kt!="function"&&(kt=tt)}if(mt===null)throw new ot;if(!Ft.objectMode)if(typeof mt=="string")Ft.decodeStrings!==!1&&(mt=Re.from(mt,$t),$t="buffer");else if(mt instanceof Re)$t="buffer";else if(ie._isUint8Array(mt))mt=ie._uint8ArrayToBuffer(mt),$t="buffer";else throw new Ke("chunk",["string","Buffer","Uint8Array"],mt);let nr;return Ft.ending?nr=new Ye:Ft.destroyed&&(nr=new Ge("write")),nr?(T.nextTick(kt,nr),Qe(pt,nr,!0),nr):(Ft.pendingcb++,rt(pt,Ft,mt,$t,kt))}Ue.prototype.write=function(pt,mt,$t){return Je(this,pt,mt,$t)===!0},Ue.prototype.cork=function(){this._writableState.corked++},Ue.prototype.uncork=function(){const pt=this._writableState;pt.corked&&(pt.corked--,pt.writing||st(this,pt))},Ue.prototype.setDefaultEncoding=function(mt){if(typeof mt=="string"&&(mt=z(mt)),!Re.isEncoding(mt))throw new nt(mt);return this._writableState.defaultEncoding=mt,this};function rt(pt,mt,$t,kt,Ft){const nr=mt.objectMode?1:$t.length;mt.length+=nr;const Yt=mt.length<mt.highWaterMark;return Yt||(mt.needDrain=!0),mt.writing||mt.corked||mt.errored||!mt.constructed?(mt.buffered.push({chunk:$t,encoding:kt,callback:Ft}),mt.allBuffers&&kt!=="buffer"&&(mt.allBuffers=!1),mt.allNoop&&Ft!==tt&&(mt.allNoop=!1)):(mt.writelen=nr,mt.writecb=Ft,mt.writing=!0,mt.sync=!0,pt._write($t,kt,mt.onwrite),mt.sync=!1),Yt&&!mt.errored&&!mt.destroyed}function Xe(pt,mt,$t,kt,Ft,nr,Yt){mt.writelen=kt,mt.writecb=Yt,mt.writing=!0,mt.sync=!0,mt.destroyed?mt.onwrite(new Ge("write")):$t?pt._writev(Ft,mt.onwrite):pt._write(Ft,nr,mt.onwrite),mt.sync=!1}function it(pt,mt,$t,kt){--mt.pendingcb,kt($t),Ze(mt),Qe(pt,$t)}function We(pt,mt){const $t=pt._writableState,kt=$t.sync,Ft=$t.writecb;if(typeof Ft!="function"){Qe(pt,new qe);return}$t.writing=!1,$t.writecb=null,$t.length-=$t.writelen,$t.writelen=0,mt?(mt.stack,$t.errored||($t.errored=mt),pt._readableState&&!pt._readableState.errored&&(pt._readableState.errored=mt),kt?T.nextTick(it,pt,$t,mt,Ft):it(pt,$t,mt,Ft)):($t.buffered.length>$t.bufferedIndex&&st(pt,$t),kt?$t.afterWriteTickInfo!==null&&$t.afterWriteTickInfo.cb===Ft?$t.afterWriteTickInfo.count++:($t.afterWriteTickInfo={count:1,cb:Ft,stream:pt,state:$t},T.nextTick(Ve,$t.afterWriteTickInfo)):je(pt,$t,1,Ft))}function Ve({stream:pt,state:mt,count:$t,cb:kt}){return mt.afterWriteTickInfo=null,je(pt,mt,$t,kt)}function je(pt,mt,$t,kt){for(!mt.ending&&!pt.destroyed&&mt.length===0&&mt.needDrain&&(mt.needDrain=!1,pt.emit("drain"));$t-- >0;)mt.pendingcb--,kt();mt.destroyed&&Ze(mt),St(pt,mt)}function Ze(pt){if(pt.writing)return;for(let Ft=pt.bufferedIndex;Ft<pt.buffered.length;++Ft){var mt;const{chunk:nr,callback:Yt}=pt.buffered[Ft],yr=pt.objectMode?1:nr.length;pt.length-=yr,Yt((mt=pt.errored)!==null&&mt!==void 0?mt:new Ge("write"))}const $t=pt[ze].splice(0);for(let Ft=0;Ft<$t.length;Ft++){var kt;$t[Ft]((kt=pt.errored)!==null&&kt!==void 0?kt:new Ge("end"))}ke(pt)}function st(pt,mt){if(mt.corked||mt.bufferProcessing||mt.destroyed||!mt.constructed)return;const{buffered:$t,bufferedIndex:kt,objectMode:Ft}=mt,nr=$t.length-kt;if(!nr)return;let Yt=kt;if(mt.bufferProcessing=!0,nr>1&&pt._writev){mt.pendingcb-=nr-1;const yr=mt.allNoop?tt:br=>{for(let cr=Yt;cr<$t.length;++cr)$t[cr].callback(br)},gr=mt.allNoop&&Yt===0?$t:$($t,Yt);gr.allBuffers=mt.allBuffers,Xe(pt,mt,!0,mt.length,gr,"",yr),ke(mt)}else{do{const{chunk:yr,encoding:gr,callback:br}=$t[Yt];$t[Yt++]=null;const cr=Ft?1:yr.length;Xe(pt,mt,!1,cr,yr,gr,br)}while(Yt<$t.length&&!mt.writing);Yt===$t.length?ke(mt):Yt>256?($t.splice(0,Yt),mt.bufferedIndex=0):mt.bufferedIndex=Yt}mt.bufferProcessing=!1}Ue.prototype._write=function(pt,mt,$t){if(this._writev)this._writev([{chunk:pt,encoding:mt}],$t);else throw new Le("_write()")},Ue.prototype._writev=null,Ue.prototype.end=function(pt,mt,$t){const kt=this._writableState;typeof pt=="function"?($t=pt,pt=null,mt=null):typeof mt=="function"&&($t=mt,mt=null);let Ft;if(pt!=null){const nr=Je(this,pt,mt);nr instanceof I&&(Ft=nr)}return kt.corked&&(kt.corked=1,this.uncork()),Ft||(!kt.errored&&!kt.ending?(kt.ending=!0,St(this,kt,!0),kt.ended=!0):kt.finished?Ft=new at("end"):kt.destroyed&&(Ft=new Ge("end"))),typeof $t=="function"&&(Ft||kt.finished?T.nextTick($t,Ft):kt[ze].push($t)),this};function dt(pt){return pt.ending&&!pt.destroyed&&pt.constructed&&pt.length===0&&!pt.errored&&pt.buffered.length===0&&!pt.finished&&!pt.writing&&!pt.errorEmitted&&!pt.closeEmitted}function bt(pt,mt){let $t=!1;function kt(Ft){if($t){Qe(pt,Ft??qe());return}if($t=!0,mt.pendingcb--,Ft){const nr=mt[ze].splice(0);for(let Yt=0;Yt<nr.length;Yt++)nr[Yt](Ft);Qe(pt,Ft,mt.sync)}else dt(mt)&&(mt.prefinished=!0,pt.emit("prefinish"),mt.pendingcb++,T.nextTick(Bt,pt,mt))}mt.sync=!0,mt.pendingcb++;try{pt._final(kt)}catch(Ft){kt(Ft)}mt.sync=!1}function vt(pt,mt){!mt.prefinished&&!mt.finalCalled&&(typeof pt._final=="function"&&!mt.destroyed?(mt.finalCalled=!0,bt(pt,mt)):(mt.prefinished=!0,pt.emit("prefinish")))}function St(pt,mt,$t){dt(mt)&&(vt(pt,mt),mt.pendingcb===0&&($t?(mt.pendingcb++,T.nextTick((kt,Ft)=>{dt(Ft)?Bt(kt,Ft):Ft.pendingcb--},pt,mt)):dt(mt)&&(mt.pendingcb++,Bt(pt,mt))))}function Bt(pt,mt){mt.pendingcb--,mt.finished=!0;const $t=mt[ze].splice(0);for(let kt=0;kt<$t.length;kt++)$t[kt]();if(pt.emit("finish"),mt.autoDestroy){const kt=pt._readableState;(!kt||kt.autoDestroy&&(kt.endEmitted||kt.readable===!1))&&pt.destroy()}}B(Ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pt){this._writableState&&(this._writableState.destroyed=pt)}},writable:{__proto__:null,get(){const pt=this._writableState;return!!pt&&pt.writable!==!1&&!pt.destroyed&&!pt.errored&&!pt.ending&&!pt.ended},set(pt){this._writableState&&(this._writableState.writable=!!pt)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const pt=this._writableState;return pt?!pt.destroyed&&!pt.ending&&pt.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Gt=$e.destroy;Ue.prototype.destroy=function(pt,mt){const $t=this._writableState;return!$t.destroyed&&($t.bufferedIndex<$t.buffered.length||$t[ze].length)&&T.nextTick(Ze,$t),Gt.call(this,pt,mt),this},Ue.prototype._undestroy=$e.undestroy,Ue.prototype._destroy=function(pt,mt){mt(pt)},Ue.prototype[G.captureRejectionSymbol]=function(pt){this.destroy(pt)};let Dt;function Mt(){return Dt===void 0&&(Dt={}),Dt}return Ue.fromWeb=function(pt,mt){return Mt().newStreamWritableFromWritableStream(pt,mt)},Ue.toWeb=function(pt){return Mt().newWritableStreamFromStreamWritable(pt)},writable$3}var duplexify$3,hasRequiredDuplexify$3;function requireDuplexify$3(){if(hasRequiredDuplexify$3)return duplexify$3;hasRequiredDuplexify$3=1;const T=dist$3,$=dist$5,{isReadable:I,isWritable:N,isIterable:L,isNodeStream:B,isReadableNodeStream:H,isWritableNodeStream:z,isDuplexNodeStream:Q}=utils$K,te=endOfStream$d,{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:ie,ERR_INVALID_RETURN_VALUE:Re}}=errors$h,{destroyer:$e}=destroy$e,Pe=requireDuplex$3(),Me=requireReadable$3(),{createDeferredPromise:Be}=util$k,Ke=from$f,Le=globalThis.Blob||$.Blob,qe=typeof Le<"u"?function(Qe){return Qe instanceof Le}:function(Qe){return!1},He=globalThis.AbortController||requireBrowser$a().AbortController,{FunctionPrototypeCall:Ge}=primordials$b;class at extends Pe{constructor(Qe){super(Qe),(Qe==null?void 0:Qe.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Qe==null?void 0:Qe.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify$3=function nt(Qe,tt){if(Q(Qe))return Qe;if(H(Qe))return Ye({readable:Qe});if(z(Qe))return Ye({writable:Qe});if(B(Qe))return Ye({writable:!1,readable:!1});if(typeof Qe=="function"){const{value:Fe,write:ke,final:Ue,destroy:Je}=ot(Qe);if(L(Fe))return Ke(at,Fe,{objectMode:!0,write:ke,final:Ue,destroy:Je});const rt=Fe==null?void 0:Fe.then;if(typeof rt=="function"){let Xe;const it=Ge(rt,Fe,We=>{if(We!=null)throw new Re("nully","body",We)},We=>{$e(Xe,We)});return Xe=new at({objectMode:!0,readable:!1,write:ke,final(We){Ue(async()=>{try{await it,T.nextTick(We,null)}catch(Ve){T.nextTick(We,Ve)}})},destroy:Je})}throw new Re("Iterable, AsyncIterable or AsyncFunction",tt,Fe)}if(qe(Qe))return nt(Qe.arrayBuffer());if(L(Qe))return Ke(at,Qe,{objectMode:!0,writable:!1});if(typeof(Qe==null?void 0:Qe.writable)=="object"||typeof(Qe==null?void 0:Qe.readable)=="object"){const Fe=Qe!=null&&Qe.readable?H(Qe==null?void 0:Qe.readable)?Qe==null?void 0:Qe.readable:nt(Qe.readable):void 0,ke=Qe!=null&&Qe.writable?z(Qe==null?void 0:Qe.writable)?Qe==null?void 0:Qe.writable:nt(Qe.writable):void 0;return Ye({readable:Fe,writable:ke})}const ze=Qe==null?void 0:Qe.then;if(typeof ze=="function"){let Fe;return Ge(ze,Qe,ke=>{ke!=null&&Fe.push(ke),Fe.push(null)},ke=>{$e(Fe,ke)}),Fe=new at({objectMode:!0,writable:!1,read(){}})}throw new ie(tt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Qe)};function ot(nt){let{promise:Qe,resolve:tt}=Be();const ze=new He,Fe=ze.signal;return{value:nt(async function*(){for(;;){const Ue=Qe;Qe=null;const{chunk:Je,done:rt,cb:Xe}=await Ue;if(T.nextTick(Xe),rt)return;if(Fe.aborted)throw new G(void 0,{cause:Fe.reason});({promise:Qe,resolve:tt}=Be()),yield Je}}(),{signal:Fe}),write(Ue,Je,rt){const Xe=tt;tt=null,Xe({chunk:Ue,done:!1,cb:rt})},final(Ue){const Je=tt;tt=null,Je({done:!0,cb:Ue})},destroy(Ue,Je){ze.abort(),Je(Ue)}}}function Ye(nt){const Qe=nt.readable&&typeof nt.readable.read!="function"?Me.wrap(nt.readable):nt.readable,tt=nt.writable;let ze=!!I(Qe),Fe=!!N(tt),ke,Ue,Je,rt,Xe;function it(We){const Ve=rt;rt=null,Ve?Ve(We):We&&Xe.destroy(We)}return Xe=new at({readableObjectMode:!!(Qe!=null&&Qe.readableObjectMode),writableObjectMode:!!(tt!=null&&tt.writableObjectMode),readable:ze,writable:Fe}),Fe&&(te(tt,We=>{Fe=!1,We&&$e(Qe,We),it(We)}),Xe._write=function(We,Ve,je){tt.write(We,Ve)?je():ke=je},Xe._final=function(We){tt.end(),Ue=We},tt.on("drain",function(){if(ke){const We=ke;ke=null,We()}}),tt.on("finish",function(){if(Ue){const We=Ue;Ue=null,We()}})),ze&&(te(Qe,We=>{ze=!1,We&&$e(Qe,We),it(We)}),Qe.on("readable",function(){if(Je){const We=Je;Je=null,We()}}),Qe.on("end",function(){Xe.push(null)}),Xe._read=function(){for(;;){const We=Qe.read();if(We===null){Je=Xe._read;return}if(!Xe.push(We))return}}),Xe._destroy=function(We,Ve){!We&&rt!==null&&(We=new G),Je=null,ke=null,Ue=null,rt===null?Ve(We):(rt=Ve,$e(tt,We),$e(Qe,We))},Xe}return duplexify$3}var duplex$3,hasRequiredDuplex$3;function requireDuplex$3(){if(hasRequiredDuplex$3)return duplex$3;hasRequiredDuplex$3=1;const{ObjectDefineProperties:T,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:I,ObjectSetPrototypeOf:N}=primordials$b;duplex$3=H;const L=requireReadable$3(),B=requireWritable$3();N(H.prototype,L.prototype),N(H,L);{const G=I(B.prototype);for(let ie=0;ie<G.length;ie++){const Re=G[ie];H.prototype[Re]||(H.prototype[Re]=B.prototype[Re])}}function H(G){if(!(this instanceof H))return new H(G);L.call(this,G),B.call(this,G),G?(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}T(H.prototype,{writable:{__proto__:null,...$(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(B.prototype,"writableLength")},writableFinished:{__proto__:null,...$(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(G){this._readableState&&this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}});let z;function Q(){return z===void 0&&(z={}),z}H.fromWeb=function(G,ie){return Q().newStreamDuplexFromReadableWritablePair(G,ie)},H.toWeb=function(G){return Q().newReadableWritablePairFromDuplex(G)};let te;return H.from=function(G){return te||(te=requireDuplexify$3()),te(G,"body")},duplex$3}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$a,Symbol:Symbol$e}=primordials$b;var transform$9=Transform$c;const{ERR_METHOD_NOT_IMPLEMENTED:ERR_METHOD_NOT_IMPLEMENTED$4}=errors$h.codes,Duplex$c=requireDuplex$3(),{getHighWaterMark:getHighWaterMark$7}=state$f;ObjectSetPrototypeOf$a(Transform$c.prototype,Duplex$c.prototype);ObjectSetPrototypeOf$a(Transform$c,Duplex$c);const kCallback$3=Symbol$e("kCallback");function Transform$c(T){if(!(this instanceof Transform$c))return new Transform$c(T);const $=T?getHighWaterMark$7(this,T,"readableHighWaterMark",!0):null;$===0&&(T={...T,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:T.writableHighWaterMark||0}),Duplex$c.call(this,T),this._readableState.sync=!1,this[kCallback$3]=null,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",prefinish$4)}function final$3(T){typeof this._flush=="function"&&!this.destroyed?this._flush(($,I)=>{if($){T?T($):this.destroy($);return}I!=null&&this.push(I),this.push(null),T&&T()}):(this.push(null),T&&T())}function prefinish$4(){this._final!==final$3&&final$3.call(this)}Transform$c.prototype._final=final$3;Transform$c.prototype._transform=function(T,$,I){throw new ERR_METHOD_NOT_IMPLEMENTED$4("_transform()")};Transform$c.prototype._write=function(T,$,I){const N=this._readableState,L=this._writableState,B=N.length;this._transform(T,$,(H,z)=>{if(H){I(H);return}z!=null&&this.push(z),L.ended||B===N.length||N.length<N.highWaterMark?I():this[kCallback$3]=I})};Transform$c.prototype._read=function(){if(this[kCallback$3]){const T=this[kCallback$3];this[kCallback$3]=null,T()}};const transform$a=getDefaultExportFromCjs$1(transform$9),transform$b=_mergeNamespaces({__proto__:null,default:transform$a},[transform$9]),{ObjectSetPrototypeOf:ObjectSetPrototypeOf$9}=primordials$b;var passthrough$9=PassThrough$8;const Transform$b=transform$b;ObjectSetPrototypeOf$9(PassThrough$8.prototype,Transform$b.prototype);ObjectSetPrototypeOf$9(PassThrough$8,Transform$b);function PassThrough$8(T){if(!(this instanceof PassThrough$8))return new PassThrough$8(T);Transform$b.call(this,T)}PassThrough$8.prototype._transform=function(T,$,I){I(null,T)};const passthrough$a=getDefaultExportFromCjs$1(passthrough$9),passthrough$b=_mergeNamespaces({__proto__:null,default:passthrough$a},[passthrough$9]),process$c=dist$3,{ArrayIsArray:ArrayIsArray$9,Promise:Promise$b,SymbolAsyncIterator:SymbolAsyncIterator$9}=primordials$b,eos$c=endOfStream$d,{once:once$8}=util$k,destroyImpl$3=destroy$e,Duplex$b=requireDuplex$3(),{aggregateTwoErrors:aggregateTwoErrors$9,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$h,ERR_INVALID_RETURN_VALUE:ERR_INVALID_RETURN_VALUE$3,ERR_MISSING_ARGS:ERR_MISSING_ARGS$c,ERR_STREAM_DESTROYED:ERR_STREAM_DESTROYED$4,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$7},AbortError:AbortError$l}=errors$h,{validateFunction:validateFunction$b,validateAbortSignal:validateAbortSignal$d}=validators$b,{isIterable:isIterable$6,isReadable:isReadable$d,isReadableNodeStream:isReadableNodeStream$9,isNodeStream:isNodeStream$h,isTransformStream:isTransformStream$a,isWebStream:isWebStream$a,isReadableStream:isReadableStream$d,isReadableEnded:isReadableEnded$6}=utils$K,AbortController$8=globalThis.AbortController||requireBrowser$a().AbortController;let PassThrough$7,Readable$3;function destroyer$b(T,$,I){let N=!1;T.on("close",()=>{N=!0});const L=eos$c(T,{readable:$,writable:I},B=>{N=!B});return{destroy:B=>{N||(N=!0,destroyImpl$3.destroyer(T,B||new ERR_STREAM_DESTROYED$4("pipe")))},cleanup:L}}function popCallback$4(T){return validateFunction$b(T[T.length-1],"streams[stream.length - 1]"),T.pop()}function makeAsyncIterable$3(T){if(isIterable$6(T))return T;if(isReadableNodeStream$9(T))return fromReadable$3(T);throw new ERR_INVALID_ARG_TYPE$h("val",["Readable","Iterable","AsyncIterable"],T)}async function*fromReadable$3(T){Readable$3||(Readable$3=requireReadable$3()),yield*Readable$3.prototype[SymbolAsyncIterator$9].call(T)}async function pumpToNode$3(T,$,I,{end:N}){let L,B=null;const H=te=>{if(te&&(L=te),B){const G=B;B=null,G()}},z=()=>new Promise$b((te,G)=>{L?G(L):B=()=>{L?G(L):te()}});$.on("drain",H);const Q=eos$c($,{readable:!1},H);try{$.writableNeedDrain&&await z();for await(const te of T)$.write(te)||await z();N&&$.end(),await z(),I()}catch(te){I(L!==te?aggregateTwoErrors$9(L,te):te)}finally{Q(),$.off("drain",H)}}async function pumpToWeb$3(T,$,I,{end:N}){isTransformStream$a($)&&($=$.writable);const L=$.getWriter();try{for await(const B of T)await L.ready,L.write(B).catch(()=>{});await L.ready,N&&await L.close(),I()}catch(B){try{await L.abort(B),I(B)}catch(H){I(H)}}}function pipeline$g(...T){return pipelineImpl$3(T,once$8(popCallback$4(T)))}function pipelineImpl$3(T,$,I){if(T.length===1&&ArrayIsArray$9(T[0])&&(T=T[0]),T.length<2)throw new ERR_MISSING_ARGS$c("streams");const N=new AbortController$8,L=N.signal,B=I==null?void 0:I.signal,H=[];validateAbortSignal$d(B,"options.signal");function z(){$e(new AbortError$l)}B==null||B.addEventListener("abort",z);let Q,te;const G=[];let ie=0;function Re(Ke){$e(Ke,--ie===0)}function $e(Ke,Le){if(Ke&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=Ke),!(!Q&&!Le)){for(;G.length;)G.shift()(Q);B==null||B.removeEventListener("abort",z),N.abort(),Le&&(Q||H.forEach(qe=>qe()),process$c.nextTick($,Q,te))}}let Pe;for(let Ke=0;Ke<T.length;Ke++){const Le=T[Ke],qe=Ke<T.length-1,He=Ke>0,Ge=qe||(I==null?void 0:I.end)!==!1,at=Ke===T.length-1;if(isNodeStream$h(Le)){let ot=function(Ye){Ye&&Ye.name!=="AbortError"&&Ye.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Re(Ye)};if(Ge){const{destroy:Ye,cleanup:nt}=destroyer$b(Le,qe,He);G.push(Ye),isReadable$d(Le)&&at&&H.push(nt)}Le.on("error",ot),isReadable$d(Le)&&at&&H.push(()=>{Le.removeListener("error",ot)})}if(Ke===0)if(typeof Le=="function"){if(Pe=Le({signal:L}),!isIterable$6(Pe))throw new ERR_INVALID_RETURN_VALUE$3("Iterable, AsyncIterable or Stream","source",Pe)}else isIterable$6(Le)||isReadableNodeStream$9(Le)||isTransformStream$a(Le)?Pe=Le:Pe=Duplex$b.from(Le);else if(typeof Le=="function"){if(isTransformStream$a(Pe)){var Me;Pe=makeAsyncIterable$3((Me=Pe)===null||Me===void 0?void 0:Me.readable)}else Pe=makeAsyncIterable$3(Pe);if(Pe=Le(Pe,{signal:L}),qe){if(!isIterable$6(Pe,!0))throw new ERR_INVALID_RETURN_VALUE$3("AsyncIterable",`transform[${Ke-1}]`,Pe)}else{var Be;PassThrough$7||(PassThrough$7=passthrough$b);const ot=new PassThrough$7({objectMode:!0}),Ye=(Be=Pe)===null||Be===void 0?void 0:Be.then;if(typeof Ye=="function")ie++,Ye.call(Pe,tt=>{te=tt,tt!=null&&ot.write(tt),Ge&&ot.end(),process$c.nextTick(Re)},tt=>{ot.destroy(tt),process$c.nextTick(Re,tt)});else if(isIterable$6(Pe,!0))ie++,pumpToNode$3(Pe,ot,Re,{end:Ge});else if(isReadableStream$d(Pe)||isTransformStream$a(Pe)){const tt=Pe.readable||Pe;ie++,pumpToNode$3(tt,ot,Re,{end:Ge})}else throw new ERR_INVALID_RETURN_VALUE$3("AsyncIterable or Promise","destination",Pe);Pe=ot;const{destroy:nt,cleanup:Qe}=destroyer$b(Pe,!1,!0);G.push(nt),at&&H.push(Qe)}}else if(isNodeStream$h(Le)){if(isReadableNodeStream$9(Pe)){ie+=2;const ot=pipe$4(Pe,Le,Re,{end:Ge});isReadable$d(Le)&&at&&H.push(ot)}else if(isTransformStream$a(Pe)||isReadableStream$d(Pe)){const ot=Pe.readable||Pe;ie++,pumpToNode$3(ot,Le,Re,{end:Ge})}else if(isIterable$6(Pe))ie++,pumpToNode$3(Pe,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else if(isWebStream$a(Le)){if(isReadableNodeStream$9(Pe))ie++,pumpToWeb$3(makeAsyncIterable$3(Pe),Le,Re,{end:Ge});else if(isReadableStream$d(Pe)||isIterable$6(Pe))ie++,pumpToWeb$3(Pe,Le,Re,{end:Ge});else if(isTransformStream$a(Pe))ie++,pumpToWeb$3(Pe.readable,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else Pe=Duplex$b.from(Le)}return(L!=null&&L.aborted||B!=null&&B.aborted)&&process$c.nextTick(z),Pe}function pipe$4(T,$,I,{end:N}){let L=!1;if($.on("close",()=>{L||I(new ERR_STREAM_PREMATURE_CLOSE$7)}),T.pipe($,{end:!1}),N){let B=function(){L=!0,$.end()};isReadableEnded$6(T)?process$c.nextTick(B):T.once("end",B)}else I();return eos$c(T,{readable:!0,writable:!1},B=>{const H=T._readableState;B&&B.code==="ERR_STREAM_PREMATURE_CLOSE"&&H&&H.ended&&!H.errored&&!H.errorEmitted?T.once("end",I).once("error",I):I(B)}),eos$c($,{readable:!1,writable:!0},I)}var pipeline_1$4={pipelineImpl:pipelineImpl$3,pipeline:pipeline$g};const pipeline$h=getDefaultExportFromCjs$1(pipeline_1$4),pipeline$i=_mergeNamespaces({__proto__:null,default:pipeline$h},[pipeline_1$4]),{pipeline:pipeline$f}=pipeline$i,Duplex$a=requireDuplex$3(),{destroyer:destroyer$a}=destroy$e,{isNodeStream:isNodeStream$g,isReadable:isReadable$c,isWritable:isWritable$d,isWebStream:isWebStream$9,isTransformStream:isTransformStream$9,isWritableStream:isWritableStream$9,isReadableStream:isReadableStream$c}=utils$K,{AbortError:AbortError$k,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$d,ERR_MISSING_ARGS:ERR_MISSING_ARGS$b}}=errors$h,eos$b=endOfStream$d;var compose$d=function(...$){if($.length===0)throw new ERR_MISSING_ARGS$b("streams");if($.length===1)return Duplex$a.from($[0]);const I=[...$];if(typeof $[0]=="function"&&($[0]=Duplex$a.from($[0])),typeof $[$.length-1]=="function"){const $e=$.length-1;$[$e]=Duplex$a.from($[$e])}for(let $e=0;$e<$.length;++$e)if(!(!isNodeStream$g($[$e])&&!isWebStream$9($[$e]))){if($e<$.length-1&&!(isReadable$c($[$e])||isReadableStream$c($[$e])||isTransformStream$9($[$e])))throw new ERR_INVALID_ARG_VALUE$d(`streams[${$e}]`,I[$e],"must be readable");if($e>0&&!(isWritable$d($[$e])||isWritableStream$9($[$e])||isTransformStream$9($[$e])))throw new ERR_INVALID_ARG_VALUE$d(`streams[${$e}]`,I[$e],"must be writable")}let N,L,B,H,z;function Q($e){const Pe=H;H=null,Pe?Pe($e):$e?z.destroy($e):!Re&&!ie&&z.destroy()}const te=$[0],G=pipeline$f($,Q),ie=!!(isWritable$d(te)||isWritableStream$9(te)||isTransformStream$9(te)),Re=!!(isReadable$c(G)||isReadableStream$c(G)||isTransformStream$9(G));if(z=new Duplex$a({writableObjectMode:!!(te!=null&&te.writableObjectMode),readableObjectMode:!!(G!=null&&G.writableObjectMode),writable:ie,readable:Re}),ie){if(isNodeStream$g(te))z._write=function(Pe,Me,Be){te.write(Pe,Me)?Be():N=Be},z._final=function(Pe){te.end(),L=Pe},te.on("drain",function(){if(N){const Pe=N;N=null,Pe()}});else if(isWebStream$9(te)){const Me=(isTransformStream$9(te)?te.writable:te).getWriter();z._write=async function(Be,Ke,Le){try{await Me.ready,Me.write(Be).catch(()=>{}),Le()}catch(qe){Le(qe)}},z._final=async function(Be){try{await Me.ready,Me.close().catch(()=>{}),L=Be}catch(Ke){Be(Ke)}}}const $e=isTransformStream$9(G)?G.readable:G;eos$b($e,()=>{if(L){const Pe=L;L=null,Pe()}})}if(Re){if(isNodeStream$g(G))G.on("readable",function(){if(B){const $e=B;B=null,$e()}}),G.on("end",function(){z.push(null)}),z._read=function(){for(;;){const $e=G.read();if($e===null){B=z._read;return}if(!z.push($e))return}};else if(isWebStream$9(G)){const Pe=(isTransformStream$9(G)?G.readable:G).getReader();z._read=async function(){for(;;)try{const{value:Me,done:Be}=await Pe.read();if(!z.push(Me))return;if(Be){z.push(null);return}}catch{return}}}}return z._destroy=function($e,Pe){!$e&&H!==null&&($e=new AbortError$k),B=null,N=null,L=null,H===null?Pe($e):(H=Pe,isNodeStream$g(G)&&destroyer$a(G,$e))},z};const compose$e=getDefaultExportFromCjs$1(compose$d),compose$f=_mergeNamespaces({__proto__:null,default:compose$e},[compose$d]),AbortController$7=globalThis.AbortController||requireBrowser$a().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$c,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$g,ERR_MISSING_ARGS:ERR_MISSING_ARGS$a,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$6},AbortError:AbortError$j}=errors$h,{validateAbortSignal:validateAbortSignal$c,validateInteger:validateInteger$6,validateObject:validateObject$9}=validators$b,kWeakHandler$3=primordials$b.Symbol("kWeak"),{finished:finished$6}=endOfStream$d,staticCompose$3=compose$f,{addAbortSignalNoValidate:addAbortSignalNoValidate$3}=addAbortSignal$a,{isWritable:isWritable$c,isNodeStream:isNodeStream$f}=utils$K,{ArrayPrototypePush:ArrayPrototypePush$3,MathFloor:MathFloor$6,Number:Number$4,NumberIsNaN:NumberIsNaN$6,Promise:Promise$a,PromiseReject:PromiseReject$3,PromisePrototypeThen:PromisePrototypeThen$9,Symbol:Symbol$d}=primordials$b,kEmpty$3=Symbol$d("kEmpty"),kEof$3=Symbol$d("kEof");function compose$c(T,$){if($!=null&&validateObject$9($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$c($.signal,"options.signal"),isNodeStream$f(T)&&!isWritable$c(T))throw new ERR_INVALID_ARG_VALUE$c("stream",T,"must be writable");const I=staticCompose$3(this,T);return $!=null&&$.signal&&addAbortSignalNoValidate$3($.signal,I),I}function map$3(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$g("fn",["Function","AsyncFunction"],T);$!=null&&validateObject$9($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$c($.signal,"options.signal");let I=1;return($==null?void 0:$.concurrency)!=null&&(I=MathFloor$6($.concurrency)),validateInteger$6(I,"concurrency",1),(async function*(){var L,B;const H=new AbortController$7,z=this,Q=[],te=H.signal,G={signal:te},ie=()=>H.abort();$!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted&&ie(),$==null||(B=$.signal)===null||B===void 0||B.addEventListener("abort",ie);let Re,$e,Pe=!1;function Me(){Pe=!0}async function Be(){try{for await(let qe of z){var Ke;if(Pe)return;if(te.aborted)throw new AbortError$j;try{qe=T(qe,G)}catch(He){qe=PromiseReject$3(He)}qe!==kEmpty$3&&(typeof((Ke=qe)===null||Ke===void 0?void 0:Ke.catch)=="function"&&qe.catch(Me),Q.push(qe),Re&&(Re(),Re=null),!Pe&&Q.length&&Q.length>=I&&await new Promise$a(He=>{$e=He}))}Q.push(kEof$3)}catch(qe){const He=PromiseReject$3(qe);PromisePrototypeThen$9(He,void 0,Me),Q.push(He)}finally{var Le;Pe=!0,Re&&(Re(),Re=null),$==null||(Le=$.signal)===null||Le===void 0||Le.removeEventListener("abort",ie)}}Be();try{for(;;){for(;Q.length>0;){const Ke=await Q[0];if(Ke===kEof$3)return;if(te.aborted)throw new AbortError$j;Ke!==kEmpty$3&&(yield Ke),Q.shift(),$e&&($e(),$e=null)}await new Promise$a(Ke=>{Re=Ke})}}finally{H.abort(),Pe=!0,$e&&($e(),$e=null)}}).call(this)}function asIndexedPairs$3(T=void 0){return T!=null&&validateObject$9(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$c(T.signal,"options.signal"),(async function*(){let I=0;for await(const L of this){var N;if(T!=null&&(N=T.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$j({cause:T.signal.reason});yield[I++,L]}}).call(this)}async function some$3(T,$=void 0){for await(const I of filter$3.call(this,T,$))return!0;return!1}async function every$3(T,$=void 0){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$g("fn",["Function","AsyncFunction"],T);return!await some$3.call(this,async(...I)=>!await T(...I),$)}async function find$3(T,$){for await(const I of filter$3.call(this,T,$))return I}async function forEach$7(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$g("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L),kEmpty$3}for await(const N of map$3.call(this,I,$));}function filter$3(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$g("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L)?N:kEmpty$3}return map$3.call(this,I,$)}let ReduceAwareErrMissingArgs$3=class extends ERR_MISSING_ARGS$a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function reduce$3(T,$,I){var N;if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$g("reducer",["Function","AsyncFunction"],T);I!=null&&validateObject$9(I,"options"),(I==null?void 0:I.signal)!=null&&validateAbortSignal$c(I.signal,"options.signal");let L=arguments.length>1;if(I!=null&&(N=I.signal)!==null&&N!==void 0&&N.aborted){const te=new AbortError$j(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await finished$6(this.destroy(te)),te}const B=new AbortController$7,H=B.signal;if(I!=null&&I.signal){const te={once:!0,[kWeakHandler$3]:this};I.signal.addEventListener("abort",()=>B.abort(),te)}let z=!1;try{for await(const te of this){var Q;if(z=!0,I!=null&&(Q=I.signal)!==null&&Q!==void 0&&Q.aborted)throw new AbortError$j;L?$=await T($,te,{signal:H}):($=te,L=!0)}if(!z&&!L)throw new ReduceAwareErrMissingArgs$3}finally{B.abort()}return $}async function toArray$4(T){T!=null&&validateObject$9(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$c(T.signal,"options.signal");const $=[];for await(const N of this){var I;if(T!=null&&(I=T.signal)!==null&&I!==void 0&&I.aborted)throw new AbortError$j(void 0,{cause:T.signal.reason});ArrayPrototypePush$3($,N)}return $}function flatMap$3(T,$){const I=map$3.call(this,T,$);return(async function*(){for await(const L of I)yield*L}).call(this)}function toIntegerOrInfinity$3(T){if(T=Number$4(T),NumberIsNaN$6(T))return 0;if(T<0)throw new ERR_OUT_OF_RANGE$6("number",">= 0",T);return T}function drop$3(T,$=void 0){return $!=null&&validateObject$9($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$c($.signal,"options.signal"),T=toIntegerOrInfinity$3(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$j;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$j;T--<=0&&(yield B)}}).call(this)}function take$3(T,$=void 0){return $!=null&&validateObject$9($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$c($.signal,"options.signal"),T=toIntegerOrInfinity$3(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$j;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$j;if(T-- >0)yield B;else return}}).call(this)}var streamReturningOperators$3=operators$7.streamReturningOperators={asIndexedPairs:asIndexedPairs$3,drop:drop$3,filter:filter$3,flatMap:flatMap$3,map:map$3,take:take$3,compose:compose$c},promiseReturningOperators$3=operators$7.promiseReturningOperators={every:every$3,forEach:forEach$7,reduce:reduce$3,toArray:toArray$4,some:some$3,find:find$3};const operators$6=_mergeNamespaces({__proto__:null,default:operators$7,promiseReturningOperators:promiseReturningOperators$3,streamReturningOperators:streamReturningOperators$3},[operators$7]);var promises$3,hasRequiredPromises$3;function requirePromises$3(){if(hasRequiredPromises$3)return promises$3;hasRequiredPromises$3=1;const{ArrayPrototypePop:T,Promise:$}=primordials$b,{isIterable:I,isNodeStream:N,isWebStream:L}=utils$K,{pipelineImpl:B}=pipeline$i,{finished:H}=endOfStream$d;requireStream$3();function z(...Q){return new $((te,G)=>{let ie,Re;const $e=Q[Q.length-1];if($e&&typeof $e=="object"&&!N($e)&&!I($e)&&!L($e)){const Pe=T(Q);ie=Pe.signal,Re=Pe.end}B(Q,(Pe,Me)=>{Pe?G(Pe):te(Me)},{signal:ie,end:Re})})}return promises$3={finished:H,pipeline:z},promises$3}var hasRequiredStream$3;function requireStream$3(){if(hasRequiredStream$3)return stream$3.exports;hasRequiredStream$3=1;const{Buffer:T}=dist$5,{ObjectDefineProperty:$,ObjectKeys:I,ReflectApply:N}=primordials$b,{promisify:{custom:L}}=util$k,{streamReturningOperators:B,promiseReturningOperators:H}=operators$6,{codes:{ERR_ILLEGAL_CONSTRUCTOR:z}}=errors$h,Q=compose$f,{pipeline:te}=pipeline$i,{destroyer:G}=destroy$e,ie=endOfStream$d,Re=requirePromises$3(),$e=utils$K,Pe=stream$3.exports=legacy$c.Stream;Pe.isDisturbed=$e.isDisturbed,Pe.isErrored=$e.isErrored,Pe.isReadable=$e.isReadable,Pe.Readable=requireReadable$3();for(const Be of I(B)){let Ke=function(...qe){if(new.target)throw z();return Pe.Readable.from(N(Le,this,qe))};const Le=B[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}for(const Be of I(H)){let Ke=function(...qe){if(new.target)throw z();return N(Le,this,qe)};const Le=H[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}Pe.Writable=requireWritable$3(),Pe.Duplex=requireDuplex$3(),Pe.Transform=transform$b,Pe.PassThrough=passthrough$b,Pe.pipeline=te;const{addAbortSignal:Me}=addAbortSignal$a;return Pe.addAbortSignal=Me,Pe.finished=ie,Pe.destroy=G,Pe.compose=Q,$(Pe,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Re}}),$(te,L,{__proto__:null,enumerable:!0,get(){return Re.pipeline}}),$(ie,L,{__proto__:null,enumerable:!0,get(){return Re.finished}}),Pe.Stream=Pe,Pe._isUint8Array=function(Ke){return Ke instanceof Uint8Array},Pe._uint8ArrayToBuffer=function(Ke){return T.from(Ke.buffer,Ke.byteOffset,Ke.byteLength)},stream$3.exports}(function(T){const $=requireStream$3(),I=requirePromises$3(),N=$.Readable.destroy;T.exports=$.Readable,T.exports._uint8ArrayToBuffer=$._uint8ArrayToBuffer,T.exports._isUint8Array=$._isUint8Array,T.exports.isDisturbed=$.isDisturbed,T.exports.isErrored=$.isErrored,T.exports.isReadable=$.isReadable,T.exports.Readable=$.Readable,T.exports.Writable=$.Writable,T.exports.Duplex=$.Duplex,T.exports.Transform=$.Transform,T.exports.PassThrough=$.PassThrough,T.exports.addAbortSignal=$.addAbortSignal,T.exports.finished=$.finished,T.exports.destroy=$.destroy,T.exports.destroy=N,T.exports.pipeline=$.pipeline,T.exports.compose=$.compose,Object.defineProperty($,"promises",{configurable:!0,enumerable:!0,get(){return I}}),T.exports.Stream=$.Stream,T.exports.default=T.exports})(browser$k);function base$7(T,$){if(T.length>=255)throw new TypeError("Alphabet too long");for(var I=new Uint8Array(256),N=0;N<I.length;N++)I[N]=255;for(var L=0;L<T.length;L++){var B=T.charAt(L),H=B.charCodeAt(0);if(I[H]!==255)throw new TypeError(B+" is ambiguous");I[H]=L}var z=T.length,Q=T.charAt(0),te=Math.log(z)/Math.log(256),G=Math.log(256)/Math.log(z);function ie(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Pe.length===0)return"";for(var Me=0,Be=0,Ke=0,Le=Pe.length;Ke!==Le&&Pe[Ke]===0;)Ke++,Me++;for(var qe=(Le-Ke)*G+1>>>0,He=new Uint8Array(qe);Ke!==Le;){for(var Ge=Pe[Ke],at=0,ot=qe-1;(Ge!==0||at<Be)&&ot!==-1;ot--,at++)Ge+=256*He[ot]>>>0,He[ot]=Ge%z>>>0,Ge=Ge/z>>>0;if(Ge!==0)throw new Error("Non-zero carry");Be=at,Ke++}for(var Ye=qe-Be;Ye!==qe&&He[Ye]===0;)Ye++;for(var nt=Q.repeat(Me);Ye<qe;++Ye)nt+=T.charAt(He[Ye]);return nt}function Re(Pe){if(typeof Pe!="string")throw new TypeError("Expected String");if(Pe.length===0)return new Uint8Array;var Me=0;if(Pe[Me]!==" "){for(var Be=0,Ke=0;Pe[Me]===Q;)Be++,Me++;for(var Le=(Pe.length-Me)*te+1>>>0,qe=new Uint8Array(Le);Pe[Me];){var He=I[Pe.charCodeAt(Me)];if(He===255)return;for(var Ge=0,at=Le-1;(He!==0||Ge<Ke)&&at!==-1;at--,Ge++)He+=z*qe[at]>>>0,qe[at]=He%256>>>0,He=He/256>>>0;if(He!==0)throw new Error("Non-zero carry");Ke=Ge,Me++}if(Pe[Me]!==" "){for(var ot=Le-Ke;ot!==Le&&qe[ot]===0;)ot++;for(var Ye=new Uint8Array(Be+(Le-ot)),nt=Be;ot!==Le;)Ye[nt++]=qe[ot++];return Ye}}}function $e(Pe){var Me=Re(Pe);if(Me)return Me;throw new Error(`Non-${$} character`)}return{encode:ie,decodeUnsafe:Re,decode:$e}}var src$3=base$7,_brrp__multiformats_scope_baseX$3=src$3;const coerce$3=T=>{if(T instanceof Uint8Array&&T.constructor.name==="Uint8Array")return T;if(T instanceof ArrayBuffer)return new Uint8Array(T);if(ArrayBuffer.isView(T))return new Uint8Array(T.buffer,T.byteOffset,T.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$3=class{constructor($,I,N){this.name=$,this.prefix=I,this.baseEncode=N}encode($){if($ instanceof Uint8Array)return`${this.prefix}${this.baseEncode($)}`;throw Error("Unknown type, must be binary type")}},Decoder$3=class{constructor($,I,N){if(this.name=$,this.prefix=I,I.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=I.codePointAt(0),this.baseDecode=N}decode($){if(typeof $=="string"){if($.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify($)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode($.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or($){return or$3(this,$)}},ComposedDecoder$3=class{constructor($){this.decoders=$}or($){return or$3(this,$)}decode($){const I=$[0],N=this.decoders[I];if(N)return N.decode($);throw RangeError(`Unable to decode multibase string ${JSON.stringify($)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$3=(T,$)=>new ComposedDecoder$3({...T.decoders||{[T.prefix]:T},...$.decoders||{[$.prefix]:$}});let Codec$3=class{constructor($,I,N,L){this.name=$,this.prefix=I,this.baseEncode=N,this.baseDecode=L,this.encoder=new Encoder$3($,I,N),this.decoder=new Decoder$3($,I,L)}encode($){return this.encoder.encode($)}decode($){return this.decoder.decode($)}};const from$c=({name:T,prefix:$,encode:I,decode:N})=>new Codec$3(T,$,I,N),baseX$3=({prefix:T,name:$,alphabet:I})=>{const{encode:N,decode:L}=_brrp__multiformats_scope_baseX$3(I,$);return from$c({prefix:T,name:$,encode:N,decode:B=>coerce$3(L(B))})},decode$d=(T,$,I,N)=>{const L={};for(let G=0;G<$.length;++G)L[$[G]]=G;let B=T.length;for(;T[B-1]==="=";)--B;const H=new Uint8Array(B*I/8|0);let z=0,Q=0,te=0;for(let G=0;G<B;++G){const ie=L[T[G]];if(ie===void 0)throw new SyntaxError(`Non-${N} character`);Q=Q<<I|ie,z+=I,z>=8&&(z-=8,H[te++]=255&Q>>z)}if(z>=I||255&Q<<8-z)throw new SyntaxError("Unexpected end of data");return H},encode$8=(T,$,I)=>{const N=$[$.length-1]==="=",L=(1<<I)-1;let B="",H=0,z=0;for(let Q=0;Q<T.length;++Q)for(z=z<<8|T[Q],H+=8;H>I;)H-=I,B+=$[L&z>>H];if(H&&(B+=$[L&z<<I-H]),N)for(;B.length*I&7;)B+="=";return B},rfc4648$3=({name:T,prefix:$,bitsPerChar:I,alphabet:N})=>from$c({prefix:$,name:T,encode(L){return encode$8(L,N,I)},decode(L){return decode$d(L,N,I,T)}});rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const base32z$2=rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base58btc$2=baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url$2=rfc4648$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function isArrayBufferSlice$3(T){return T.byteOffset!==0||T.byteLength!==T.buffer.byteLength}function isAsyncIterable$3(T){return typeof T!="object"||T===null?!1:typeof T[Symbol.asyncIterator]=="function"}function universalTypeOf$3(T){const I=Object.prototype.toString.call(T).match(/\s([a-zA-Z0-9]+)/),[N,L]=I;return L}var __awaiter$R=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__asyncValues$3=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}};const textEncoder$3=new TextEncoder,textDecoder$3=new TextDecoder;let Convert$3=class Pi{constructor($,I){this.data=$,this.format=I}static arrayBuffer($){return new Pi($,"ArrayBuffer")}static asyncIterable($){if(!isAsyncIterable$3($))throw new TypeError("Input must be of type AsyncIterable.");return new Pi($,"AsyncIterable")}static base32Z($){return new Pi($,"Base32Z")}static base58Btc($){return new Pi($,"Base58Btc")}static base64Url($){return new Pi($,"Base64Url")}static bufferSource($){return new Pi($,"BufferSource")}static hex($){if(typeof $!="string")throw new TypeError("Hex input must be a string.");if($.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Pi($,"Hex")}static multibase($){return new Pi($,"Multibase")}static object($){return new Pi($,"Object")}static string($){return new Pi($,"String")}static uint8Array($){return new Pi($,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return base58btc$2.baseDecode(this.data).buffer;case"Base64Url":return base64url$2.baseDecode(this.data).buffer;case"BufferSource":{if(universalTypeOf$3(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return isArrayBufferSlice$3(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return __awaiter$R(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return base32z$2.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base58btc$2.baseEncode($)}case"Multibase":return this.data.substring(1);case"Uint8Array":return base58btc$2.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base64url$2.baseEncode($)}case"BufferSource":{const $=this.toUint8Array();return base64url$2.baseEncode($)}case"Object":{const $=JSON.stringify(this.data),I=textEncoder$3.encode($);return base64url$2.baseEncode(I)}case"String":{const $=textEncoder$3.encode(this.data);return base64url$2.baseEncode($)}case"Uint8Array":return base64url$2.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var $,I,N,L;return __awaiter$R(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const Q=[];try{for(var B=!0,H=__asyncValues$3(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const G=L;Q.push(G)}}catch(G){I={error:G}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return new Blob(Q)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const $=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const I=this.toUint8Array();return Pi.uint8Array(I).toHex()}case"Base64Url":{const I=this.toUint8Array();return Pi.uint8Array(I).toHex()}case"Uint8Array":{let I="";for(let N=0;N<this.data.length;N++)I+=$[this.data[N]];return I}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const $=base64url$2.baseDecode(this.data),I=textDecoder$3.decode($);return JSON.parse(I)}case"String":return JSON.parse(this.data);case"Uint8Array":{const $=textDecoder$3.decode(this.data);return JSON.parse($)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return __awaiter$R(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toStringAsync();return JSON.parse($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return textDecoder$3.decode(this.data);case"Base64Url":{const $=base64url$2.baseDecode(this.data);return textDecoder$3.decode($)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return textDecoder$3.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var $,I,N,L;return __awaiter$R(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let Q="";try{for(var B=!0,H=__asyncValues$3(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const te=L;typeof te=="string"?Q+=te:Q+=textDecoder$3.decode(te,{stream:!0})}}catch(te){I={error:te}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return Q+=textDecoder$3.decode(void 0,{stream:!1}),Q}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return base32z$2.baseDecode(this.data);case"Base58Btc":return base58btc$2.baseDecode(this.data);case"Base64Url":return base64url$2.baseDecode(this.data);case"BufferSource":{const $=universalTypeOf$3(this.data);if($==="Uint8Array")return this.data;if($==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const $=new Uint8Array(this.data.length/2);for(let I=0;I<this.data.length;I+=2){const N=parseInt(this.data.substring(I,I+2),16);if(isNaN(N))throw new TypeError("Input is not a valid hexadecimal string.");$[I/2]=N}return $}case"Object":{const $=JSON.stringify(this.data);return textEncoder$3.encode($)}case"String":return textEncoder$3.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return __awaiter$R(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toArrayBufferAsync();return new Uint8Array($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};var encode_1$3=encode$7,MSB$4=128,MSBALL$3=-128,INT$3=Math.pow(2,31);function encode$7(T,$,I){$=$||[],I=I||0;for(var N=I;T>=INT$3;)$[I++]=T&255|MSB$4,T/=128;for(;T&MSBALL$3;)$[I++]=T&255|MSB$4,T>>>=7;return $[I]=T|0,encode$7.bytes=I-N+1,$}var decode$c=read$3,MSB$1$3=128,REST$1$3=127;function read$3(T,N){var I=0,N=N||0,L=0,B=N,H,z=T.length;do{if(B>=z)throw read$3.bytes=0,new RangeError("Could not decode varint");H=T[B++],I+=L<28?(H&REST$1$3)<<L:(H&REST$1$3)*Math.pow(2,L),L+=7}while(H>=MSB$1$3);return read$3.bytes=B-N,I}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$4=function(T){return T<N1$3?1:T<N2$3?2:T<N3$3?3:T<N4$3?4:T<N5$3?5:T<N6$3?6:T<N7$3?7:T<N8$3?8:T<N9$3?9:10},varint$3={encode:encode_1$3,decode:decode$c,encodingLength:length$4},_brrp_varint$3=varint$3;const decode$b=(T,$=0)=>[_brrp_varint$3.decode(T,$),_brrp_varint$3.decode.bytes],encodeTo$3=(T,$,I=0)=>(_brrp_varint$3.encode(T,$,I),$),encodingLength$3=T=>_brrp_varint$3.encodingLength(T);let Multicodec$4=class Zo{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=Zo.codeToName.has(N)?N:Zo.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength$3(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo$3(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$b(I);return N}static getCodeFromName($){const{name:I}=$,N=Zo.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=Zo.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){Zo.codeToName.set($.code,$.name),Zo.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$b(I),B=Zo.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}};Multicodec$4.codeToName=new Map;Multicodec$4.nameToCode=new Map;Multicodec$4.registerCodec({code:237,name:"ed25519-pub"});Multicodec$4.registerCodec({code:4864,name:"ed25519-priv"});Multicodec$4.registerCodec({code:236,name:"x25519-pub"});Multicodec$4.registerCodec({code:4866,name:"x25519-priv"});Multicodec$4.registerCodec({code:231,name:"secp256k1-pub"});Multicodec$4.registerCodec({code:4865,name:"secp256k1-priv"});function removeUndefinedProperties$2(T){Object.keys(T).forEach($=>{T[$]===void 0?delete T[$]:typeof T[$]=="object"&&removeUndefinedProperties$2(T[$])})}var __awaiter$Q=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let MemoryStore$2=class{constructor(){this.store=new Map}clear(){return __awaiter$Q(this,void 0,void 0,function*(){this.store.clear()})}close(){return __awaiter$Q(this,void 0,void 0,function*(){})}delete($){return __awaiter$Q(this,void 0,void 0,function*(){return this.store.delete($)})}get($){return __awaiter$Q(this,void 0,void 0,function*(){return this.store.get($)})}has($){return __awaiter$Q(this,void 0,void 0,function*(){return this.store.has($)})}list(){return __awaiter$Q(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set($,I){return __awaiter$Q(this,void 0,void 0,function*(){this.store.set($,I)})}};var browser$j={exports:{}},stream$2={exports:{}},primordials$6={ArrayIsArray(T){return Array.isArray(T)},ArrayPrototypeIncludes(T,$){return T.includes($)},ArrayPrototypeIndexOf(T,$){return T.indexOf($)},ArrayPrototypeJoin(T,$){return T.join($)},ArrayPrototypeMap(T,$){return T.map($)},ArrayPrototypePop(T,$){return T.pop($)},ArrayPrototypePush(T,$){return T.push($)},ArrayPrototypeSlice(T,$,I){return T.slice($,I)},Error,FunctionPrototypeCall(T,$,...I){return T.call($,...I)},FunctionPrototypeSymbolHasInstance(T,$){return Function.prototype[Symbol.hasInstance].call(T,$)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(T,$){return Object.defineProperties(T,$)},ObjectDefineProperty(T,$,I){return Object.defineProperty(T,$,I)},ObjectGetOwnPropertyDescriptor(T,$){return Object.getOwnPropertyDescriptor(T,$)},ObjectKeys(T){return Object.keys(T)},ObjectSetPrototypeOf(T,$){return Object.setPrototypeOf(T,$)},Promise,PromisePrototypeCatch(T,$){return T.catch($)},PromisePrototypeThen(T,$,I){return T.then($,I)},PromiseReject(T){return Promise.reject(T)},ReflectApply:Reflect.apply,RegExpPrototypeTest(T,$){return T.test($)},SafeSet:Set,String,StringPrototypeSlice(T,$,I){return T.slice($,I)},StringPrototypeToLowerCase(T){return T.toLowerCase()},StringPrototypeToUpperCase(T){return T.toUpperCase()},StringPrototypeTrim(T){return T.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(T,$,I){return T.set($,I)},Uint8Array};const primordials$7=getDefaultExportFromCjs$1(primordials$6),primordials$8=_mergeNamespaces({__proto__:null,default:primordials$7},[primordials$6]);var util$i={exports:{}};(function(T){const $=dist$5,I=Object.getPrototypeOf(async function(){}).constructor,N=globalThis.Blob||$.Blob,L=typeof N<"u"?function(z){return z instanceof N}:function(z){return!1};class B extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError(`Expected input to be an Array, got ${typeof z}`);let Q="";for(let te=0;te<z.length;te++)Q+=`    ${z[te].stack}
`;super(Q),this.name="AggregateError",this.errors=z}}T.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(H){let z=!1;return function(...Q){z||(z=!0,H.apply(this,Q))}},createDeferredPromise:function(){let H,z;return{promise:new Promise((te,G)=>{H=te,z=G}),resolve:H,reject:z}},promisify(H){return new Promise((z,Q)=>{H((te,...G)=>te?Q(te):z(...G))})},debuglog(){return function(){}},format(H,...z){return H.replace(/%([sdifj])/g,function(...[Q,te]){const G=z.shift();return te==="f"?G.toFixed(6):te==="j"?JSON.stringify(G):te==="s"&&typeof G=="object"?`${G.constructor!==Object?G.constructor.name:""} {}`.trim():G.toString()})},inspect(H){switch(typeof H){case"string":if(H.includes("'"))if(H.includes('"')){if(!H.includes("`")&&!H.includes("${"))return`\`${H}\``}else return`"${H}"`;return`'${H}'`;case"number":return isNaN(H)?"NaN":Object.is(H,-0)?String(H):H;case"bigint":return`${String(H)}n`;case"boolean":case"undefined":return String(H);case"object":return"{}"}},types:{isAsyncFunction(H){return H instanceof I},isArrayBufferView(H){return ArrayBuffer.isView(H)}},isBlob:L},T.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$i);var utilExports$2=util$i.exports;const util$g=getDefaultExportFromCjs$1(utilExports$2),util$h=_mergeNamespaces({__proto__:null,default:util$g},[utilExports$2]);var operators$5={};const{format:format$e,inspect:inspect$8,AggregateError:CustomAggregateError$2}=util$h,AggregateError$3=globalThis.AggregateError||CustomAggregateError$2,kIsNodeError$2=Symbol("kIsNodeError"),kTypes$2=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp$2=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix$2="__node_internal_",codes$6={};function assert$j(T,$){if(!T)throw new codes$6.ERR_INTERNAL_ASSERTION($)}function addNumericalSeparator$2(T){let $="",I=T.length;const N=T[0]==="-"?1:0;for(;I>=N+4;I-=3)$=`_${T.slice(I-3,I)}${$}`;return`${T.slice(0,I)}${$}`}function getMessage$2(T,$,I){if(typeof $=="function")return assert$j($.length<=I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${$.length}).`),$(...I);const N=($.match(/%[dfijoOs]/g)||[]).length;return assert$j(N===I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${N}).`),I.length===0?$:format$e($,...I)}function E$2(T,$,I){I||(I=Error);class N extends I{constructor(...B){super(getMessage$2(T,$,B))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=T,N.prototype[kIsNodeError$2]=!0,codes$6[T]=N}function hideStackFrames$5(T){const $=nodeInternalPrefix$2+T.name;return Object.defineProperty(T,"name",{value:$}),T}function aggregateTwoErrors$8(T,$){if(T&&$&&T!==$){if(Array.isArray($.errors))return $.errors.push(T),$;const I=new AggregateError$3([$,T],$.message);return I.code=$.code,I}return T||$}let AbortError$i=class extends Error{constructor($="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new codes$6.ERR_INVALID_ARG_TYPE("options","Object",I);super($,I),this.code="ABORT_ERR",this.name="AbortError"}};E$2("ERR_ASSERTION","%s",Error);E$2("ERR_INVALID_ARG_TYPE",(T,$,I)=>{assert$j(typeof T=="string","'name' must be a string"),Array.isArray($)||($=[$]);let N="The ";T.endsWith(" argument")?N+=`${T} `:N+=`"${T}" ${T.includes(".")?"property":"argument"} `,N+="must be ";const L=[],B=[],H=[];for(const Q of $)assert$j(typeof Q=="string","All expected entries have to be of type string"),kTypes$2.includes(Q)?L.push(Q.toLowerCase()):classRegExp$2.test(Q)?B.push(Q):(assert$j(Q!=="object",'The value "object" should be written as "Object"'),H.push(Q));if(B.length>0){const Q=L.indexOf("object");Q!==-1&&(L.splice(L,Q,1),B.push("Object"))}if(L.length>0){switch(L.length){case 1:N+=`of type ${L[0]}`;break;case 2:N+=`one of type ${L[0]} or ${L[1]}`;break;default:{const Q=L.pop();N+=`one of type ${L.join(", ")}, or ${Q}`}}(B.length>0||H.length>0)&&(N+=" or ")}if(B.length>0){switch(B.length){case 1:N+=`an instance of ${B[0]}`;break;case 2:N+=`an instance of ${B[0]} or ${B[1]}`;break;default:{const Q=B.pop();N+=`an instance of ${B.join(", ")}, or ${Q}`}}H.length>0&&(N+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(N+="an "),N+=`${H[0]}`;break;case 2:N+=`one of ${H[0]} or ${H[1]}`;break;default:{const Q=H.pop();N+=`one of ${H.join(", ")}, or ${Q}`}}if(I==null)N+=`. Received ${I}`;else if(typeof I=="function"&&I.name)N+=`. Received function ${I.name}`;else if(typeof I=="object"){var z;if((z=I.constructor)!==null&&z!==void 0&&z.name)N+=`. Received an instance of ${I.constructor.name}`;else{const Q=inspect$8(I,{depth:-1});N+=`. Received ${Q}`}}else{let Q=inspect$8(I,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),N+=`. Received type ${typeof I} (${Q})`}return N},TypeError);E$2("ERR_INVALID_ARG_VALUE",(T,$,I="is invalid")=>{let N=inspect$8($);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${I}. Received ${N}`},TypeError);E$2("ERR_INVALID_RETURN_VALUE",(T,$,I)=>{var N;const L=I!=null&&(N=I.constructor)!==null&&N!==void 0&&N.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${T} to be returned from the "${$}" function but got ${L}.`},TypeError);E$2("ERR_MISSING_ARGS",(...T)=>{assert$j(T.length>0,"At least one arg needs to be specified");let $;const I=T.length;switch(T=(Array.isArray(T)?T:[T]).map(N=>`"${N}"`).join(" or "),I){case 1:$+=`The ${T[0]} argument`;break;case 2:$+=`The ${T[0]} and ${T[1]} arguments`;break;default:{const N=T.pop();$+=`The ${T.join(", ")}, and ${N} arguments`}break}return`${$} must be specified`},TypeError);E$2("ERR_OUT_OF_RANGE",(T,$,I)=>{assert$j($,'Missing "range" argument');let N;return Number.isInteger(I)&&Math.abs(I)>2**32?N=addNumericalSeparator$2(String(I)):typeof I=="bigint"?(N=String(I),(I>2n**32n||I<-(2n**32n))&&(N=addNumericalSeparator$2(N)),N+="n"):N=inspect$8(I),`The value of "${T}" is out of range. It must be ${$}. Received ${N}`},RangeError);E$2("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E$2("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E$2("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E$2("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E$2("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E$2("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E$2("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E$2("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E$2("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E$2("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E$2("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors$c={AbortError:AbortError$i,aggregateTwoErrors:hideStackFrames$5(aggregateTwoErrors$8),hideStackFrames:hideStackFrames$5,codes:codes$6};const errors$d=getDefaultExportFromCjs$1(errors$c),errors$e=_mergeNamespaces({__proto__:null,default:errors$d},[errors$c]),{ArrayIsArray:ArrayIsArray$8,ArrayPrototypeIncludes:ArrayPrototypeIncludes$2,ArrayPrototypeJoin:ArrayPrototypeJoin$2,ArrayPrototypeMap:ArrayPrototypeMap$2,NumberIsInteger:NumberIsInteger$5,NumberIsNaN:NumberIsNaN$5,NumberMAX_SAFE_INTEGER:NumberMAX_SAFE_INTEGER$2,NumberMIN_SAFE_INTEGER:NumberMIN_SAFE_INTEGER$2,NumberParseInt:NumberParseInt$2,ObjectPrototypeHasOwnProperty:ObjectPrototypeHasOwnProperty$2,RegExpPrototypeExec:RegExpPrototypeExec$2,String:String$3,StringPrototypeToUpperCase:StringPrototypeToUpperCase$2,StringPrototypeTrim:StringPrototypeTrim$2}=primordials$8,{hideStackFrames:hideStackFrames$4,codes:{ERR_SOCKET_BAD_PORT:ERR_SOCKET_BAD_PORT$2,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$f,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$b,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$5,ERR_UNKNOWN_SIGNAL:ERR_UNKNOWN_SIGNAL$2}}=errors$e,{normalizeEncoding:normalizeEncoding$2}=util$h,{isAsyncFunction:isAsyncFunction$2,isArrayBufferView:isArrayBufferView$2}=util$h.types,signals$2={};function isInt32$2(T){return T===(T|0)}function isUint32$2(T){return T===T>>>0}const octalReg$2=/^[0-7]+$/,modeDesc$2="must be a 32-bit unsigned integer or an octal string";function parseFileMode$2(T,$,I){if(typeof T>"u"&&(T=I),typeof T=="string"){if(RegExpPrototypeExec$2(octalReg$2,T)===null)throw new ERR_INVALID_ARG_VALUE$b($,T,modeDesc$2);T=NumberParseInt$2(T,8)}return validateUint32$2(T,$),T}const validateInteger$5=hideStackFrames$4((T,$,I=NumberMIN_SAFE_INTEGER$2,N=NumberMAX_SAFE_INTEGER$2)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$f($,"number",T);if(!NumberIsInteger$5(T))throw new ERR_OUT_OF_RANGE$5($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$5($,`>= ${I} && <= ${N}`,T)}),validateInt32$2=hideStackFrames$4((T,$,I=-2147483648,N=2147483647)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$f($,"number",T);if(!NumberIsInteger$5(T))throw new ERR_OUT_OF_RANGE$5($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$5($,`>= ${I} && <= ${N}`,T)}),validateUint32$2=hideStackFrames$4((T,$,I=!1)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$f($,"number",T);if(!NumberIsInteger$5(T))throw new ERR_OUT_OF_RANGE$5($,"an integer",T);const N=I?1:0,L=4294967295;if(T<N||T>L)throw new ERR_OUT_OF_RANGE$5($,`>= ${N} && <= ${L}`,T)});function validateString$2(T,$){if(typeof T!="string")throw new ERR_INVALID_ARG_TYPE$f($,"string",T)}function validateNumber$2(T,$,I=void 0,N){if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$f($,"number",T);if(I!=null&&T<I||N!=null&&T>N||(I!=null||N!=null)&&NumberIsNaN$5(T))throw new ERR_OUT_OF_RANGE$5($,`${I!=null?`>= ${I}`:""}${I!=null&&N!=null?" && ":""}${N!=null?`<= ${N}`:""}`,T)}const validateOneOf$2=hideStackFrames$4((T,$,I)=>{if(!ArrayPrototypeIncludes$2(I,T)){const L="must be one of: "+ArrayPrototypeJoin$2(ArrayPrototypeMap$2(I,B=>typeof B=="string"?`'${B}'`:String$3(B)),", ");throw new ERR_INVALID_ARG_VALUE$b($,T,L)}});function validateBoolean$5(T,$){if(typeof T!="boolean")throw new ERR_INVALID_ARG_TYPE$f($,"boolean",T)}function getOwnPropertyValueOrDefault$2(T,$,I){return T==null||!ObjectPrototypeHasOwnProperty$2(T,$)?I:T[$]}const validateObject$8=hideStackFrames$4((T,$,I=null)=>{const N=getOwnPropertyValueOrDefault$2(I,"allowArray",!1),L=getOwnPropertyValueOrDefault$2(I,"allowFunction",!1);if(!getOwnPropertyValueOrDefault$2(I,"nullable",!1)&&T===null||!N&&ArrayIsArray$8(T)||typeof T!="object"&&(!L||typeof T!="function"))throw new ERR_INVALID_ARG_TYPE$f($,"Object",T)}),validateDictionary$2=hideStackFrames$4((T,$)=>{if(T!=null&&typeof T!="object"&&typeof T!="function")throw new ERR_INVALID_ARG_TYPE$f($,"a dictionary",T)}),validateArray$4=hideStackFrames$4((T,$,I=0)=>{if(!ArrayIsArray$8(T))throw new ERR_INVALID_ARG_TYPE$f($,"Array",T);if(T.length<I){const N=`must be longer than ${I}`;throw new ERR_INVALID_ARG_VALUE$b($,T,N)}});function validateStringArray$2(T,$){validateArray$4(T,$);for(let I=0;I<T.length;I++)validateString$2(T[I],`${$}[${I}]`)}function validateBooleanArray$2(T,$){validateArray$4(T,$);for(let I=0;I<T.length;I++)validateBoolean$5(T[I],`${$}[${I}]`)}function validateSignalName$2(T,$="signal"){if(validateString$2(T,$),signals$2[T]===void 0)throw signals$2[StringPrototypeToUpperCase$2(T)]!==void 0?new ERR_UNKNOWN_SIGNAL$2(T+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL$2(T)}const validateBuffer$2=hideStackFrames$4((T,$="buffer")=>{if(!isArrayBufferView$2(T))throw new ERR_INVALID_ARG_TYPE$f($,["Buffer","TypedArray","DataView"],T)});function validateEncoding$2(T,$){const I=normalizeEncoding$2($),N=T.length;if(I==="hex"&&N%2!==0)throw new ERR_INVALID_ARG_VALUE$b("encoding",$,`is invalid for data of length ${N}`)}function validatePort$2(T,$="Port",I=!0){if(typeof T!="number"&&typeof T!="string"||typeof T=="string"&&StringPrototypeTrim$2(T).length===0||+T!==+T>>>0||T>65535||T===0&&!I)throw new ERR_SOCKET_BAD_PORT$2($,T,I);return T|0}const validateAbortSignal$b=hideStackFrames$4((T,$)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new ERR_INVALID_ARG_TYPE$f($,"AbortSignal",T)}),validateFunction$a=hideStackFrames$4((T,$)=>{if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$f($,"Function",T)}),validatePlainFunction$2=hideStackFrames$4((T,$)=>{if(typeof T!="function"||isAsyncFunction$2(T))throw new ERR_INVALID_ARG_TYPE$f($,"Function",T)}),validateUndefined$2=hideStackFrames$4((T,$)=>{if(T!==void 0)throw new ERR_INVALID_ARG_TYPE$f($,"undefined",T)});function validateUnion$4(T,$,I){if(!ArrayPrototypeIncludes$2(I,T))throw new ERR_INVALID_ARG_TYPE$f($,`('${ArrayPrototypeJoin$2(I,"|")}')`,T)}const linkValueRegExp$2=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat$2(T,$){if(typeof T>"u"||!RegExpPrototypeExec$2(linkValueRegExp$2,T))throw new ERR_INVALID_ARG_VALUE$b($,T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue$2(T){if(typeof T=="string")return validateLinkHeaderFormat$2(T,"hints"),T;if(ArrayIsArray$8(T)){const $=T.length;let I="";if($===0)return I;for(let N=0;N<$;N++){const L=T[N];validateLinkHeaderFormat$2(L,"hints"),I+=L,N!==$-1&&(I+=", ")}return I}throw new ERR_INVALID_ARG_VALUE$b("hints",T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators$6={isInt32:isInt32$2,isUint32:isUint32$2,parseFileMode:parseFileMode$2,validateArray:validateArray$4,validateStringArray:validateStringArray$2,validateBooleanArray:validateBooleanArray$2,validateBoolean:validateBoolean$5,validateBuffer:validateBuffer$2,validateDictionary:validateDictionary$2,validateEncoding:validateEncoding$2,validateFunction:validateFunction$a,validateInt32:validateInt32$2,validateInteger:validateInteger$5,validateNumber:validateNumber$2,validateObject:validateObject$8,validateOneOf:validateOneOf$2,validatePlainFunction:validatePlainFunction$2,validatePort:validatePort$2,validateSignalName:validateSignalName$2,validateString:validateString$2,validateUint32:validateUint32$2,validateUndefined:validateUndefined$2,validateUnion:validateUnion$4,validateAbortSignal:validateAbortSignal$b,validateLinkHeaderValue:validateLinkHeaderValue$2};const validators$7=getDefaultExportFromCjs$1(validators$6),validators$8=_mergeNamespaces({__proto__:null,default:validators$7},[validators$6]);var endOfStream$b={exports:{}};const{Symbol:Symbol$c,SymbolAsyncIterator:SymbolAsyncIterator$8,SymbolIterator:SymbolIterator$8,SymbolFor:SymbolFor$2}=primordials$8,kDestroyed$5=Symbol$c("kDestroyed"),kIsErrored$2=Symbol$c("kIsErrored"),kIsReadable$2=Symbol$c("kIsReadable"),kIsDisturbed$2=Symbol$c("kIsDisturbed"),kIsClosedPromise$5=SymbolFor$2("nodejs.webstream.isClosedPromise"),kControllerErrorFunction$2=SymbolFor$2("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$8(T,$=!1){var I;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!$||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((I=T._readableState)===null||I===void 0?void 0:I.readable)!==!1)&&(!T._writableState||T._readableState))}function isWritableNodeStream$5(T){var $;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||(($=T._writableState)===null||$===void 0?void 0:$.writable)!==!1))}function isDuplexNodeStream$2(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function isNodeStream$e(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function isReadableStream$b(T){return!!(T&&!isNodeStream$e(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function isWritableStream$8(T){return!!(T&&!isNodeStream$e(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function isTransformStream$8(T){return!!(T&&!isNodeStream$e(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function isWebStream$8(T){return isReadableStream$b(T)||isWritableStream$8(T)||isTransformStream$8(T)}function isIterable$5(T,$){return T==null?!1:$===!0?typeof T[SymbolAsyncIterator$8]=="function":$===!1?typeof T[SymbolIterator$8]=="function":typeof T[SymbolAsyncIterator$8]=="function"||typeof T[SymbolIterator$8]=="function"}function isDestroyed$5(T){if(!isNodeStream$e(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!!(T.destroyed||T[kDestroyed$5]||N!=null&&N.destroyed)}function isWritableEnded$2(T){if(!isWritableNodeStream$5(T))return null;if(T.writableEnded===!0)return!0;const $=T._writableState;return $!=null&&$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isWritableFinished$5(T,$){if(!isWritableNodeStream$5(T))return null;if(T.writableFinished===!0)return!0;const I=T._writableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.finished)!="boolean"?null:!!(I.finished||$===!1&&I.ended===!0&&I.length===0)}function isReadableEnded$5(T){if(!isReadableNodeStream$8(T))return null;if(T.readableEnded===!0)return!0;const $=T._readableState;return!$||$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isReadableFinished$5(T,$){if(!isReadableNodeStream$8(T))return null;const I=T._readableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.endEmitted)!="boolean"?null:!!(I.endEmitted||$===!1&&I.ended===!0&&I.length===0)}function isReadable$b(T){return T&&T[kIsReadable$2]!=null?T[kIsReadable$2]:typeof(T==null?void 0:T.readable)!="boolean"?null:isDestroyed$5(T)?!1:isReadableNodeStream$8(T)&&T.readable&&!isReadableFinished$5(T)}function isWritable$b(T){return typeof(T==null?void 0:T.writable)!="boolean"?null:isDestroyed$5(T)?!1:isWritableNodeStream$5(T)&&T.writable&&!isWritableEnded$2(T)}function isFinished$5(T,$){return isNodeStream$e(T)?isDestroyed$5(T)?!0:!(($==null?void 0:$.readable)!==!1&&isReadable$b(T)||($==null?void 0:$.writable)!==!1&&isWritable$b(T)):null}function isWritableErrored$5(T){var $,I;return isNodeStream$e(T)?T.writableErrored?T.writableErrored:($=(I=T._writableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isReadableErrored$5(T){var $,I;return isNodeStream$e(T)?T.readableErrored?T.readableErrored:($=(I=T._readableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isClosed$5(T){if(!isNodeStream$e(T))return null;if(typeof T.closed=="boolean")return T.closed;const $=T._writableState,I=T._readableState;return typeof($==null?void 0:$.closed)=="boolean"||typeof(I==null?void 0:I.closed)=="boolean"?($==null?void 0:$.closed)||(I==null?void 0:I.closed):typeof T._closed=="boolean"&&isOutgoingMessage$2(T)?T._closed:null}function isOutgoingMessage$2(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function isServerResponse$2(T){return typeof T._sent100=="boolean"&&isOutgoingMessage$2(T)}function isServerRequest$5(T){var $;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&(($=T.req)===null||$===void 0?void 0:$.upgradeOrConnect)===void 0}function willEmitClose$2(T){if(!isNodeStream$e(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!N&&isServerResponse$2(T)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function isDisturbed$2(T){var $;return!!(T&&(($=T[kIsDisturbed$2])!==null&&$!==void 0?$:T.readableDidRead||T.readableAborted))}function isErrored$2(T){var $,I,N,L,B,H,z,Q,te,G;return!!(T&&(($=(I=(N=(L=(B=(H=T[kIsErrored$2])!==null&&H!==void 0?H:T.readableErrored)!==null&&B!==void 0?B:T.writableErrored)!==null&&L!==void 0?L:(z=T._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&N!==void 0?N:(Q=T._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&I!==void 0?I:(te=T._readableState)===null||te===void 0?void 0:te.errored)!==null&&$!==void 0?$:!((G=T._writableState)===null||G===void 0)&&G.errored))}var utils$F={kDestroyed:kDestroyed$5,isDisturbed:isDisturbed$2,kIsDisturbed:kIsDisturbed$2,isErrored:isErrored$2,kIsErrored:kIsErrored$2,isReadable:isReadable$b,kIsReadable:kIsReadable$2,kIsClosedPromise:kIsClosedPromise$5,kControllerErrorFunction:kControllerErrorFunction$2,isClosed:isClosed$5,isDestroyed:isDestroyed$5,isDuplexNodeStream:isDuplexNodeStream$2,isFinished:isFinished$5,isIterable:isIterable$5,isReadableNodeStream:isReadableNodeStream$8,isReadableStream:isReadableStream$b,isReadableEnded:isReadableEnded$5,isReadableFinished:isReadableFinished$5,isReadableErrored:isReadableErrored$5,isNodeStream:isNodeStream$e,isWebStream:isWebStream$8,isWritable:isWritable$b,isWritableNodeStream:isWritableNodeStream$5,isWritableStream:isWritableStream$8,isWritableEnded:isWritableEnded$2,isWritableFinished:isWritableFinished$5,isWritableErrored:isWritableErrored$5,isServerRequest:isServerRequest$5,isServerResponse:isServerResponse$2,willEmitClose:willEmitClose$2,isTransformStream:isTransformStream$8};const utils$G=getDefaultExportFromCjs$1(utils$F),utils$H=_mergeNamespaces({__proto__:null,default:utils$G},[utils$F]),process$b=dist$3,{AbortError:AbortError$h,codes:codes$5}=errors$e,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$e,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$6}=codes$5,{kEmptyObject:kEmptyObject$2,once:once$7}=util$h,{validateAbortSignal:validateAbortSignal$a,validateFunction:validateFunction$9,validateObject:validateObject$7,validateBoolean:validateBoolean$4}=validators$8,{Promise:Promise$9,PromisePrototypeThen:PromisePrototypeThen$8}=primordials$8,{isClosed:isClosed$4,isReadable:isReadable$a,isReadableNodeStream:isReadableNodeStream$7,isReadableStream:isReadableStream$a,isReadableFinished:isReadableFinished$4,isReadableErrored:isReadableErrored$4,isWritable:isWritable$a,isWritableNodeStream:isWritableNodeStream$4,isWritableStream:isWritableStream$7,isWritableFinished:isWritableFinished$4,isWritableErrored:isWritableErrored$4,isNodeStream:isNodeStream$d,willEmitClose:_willEmitClose$2,kIsClosedPromise:kIsClosedPromise$4}=utils$H;function isRequest$7(T){return T.setHeader&&typeof T.abort=="function"}const nop$2=()=>{};function eos$a(T,$,I){var N,L;if(arguments.length===2?(I=$,$=kEmptyObject$2):$==null?$=kEmptyObject$2:validateObject$7($,"options"),validateFunction$9(I,"callback"),validateAbortSignal$a($.signal,"options.signal"),I=once$7(I),isReadableStream$a(T)||isWritableStream$7(T))return eosWeb$2(T,$,I);if(!isNodeStream$d(T))throw new ERR_INVALID_ARG_TYPE$e("stream",["ReadableStream","WritableStream","Stream"],T);const B=(N=$.readable)!==null&&N!==void 0?N:isReadableNodeStream$7(T),H=(L=$.writable)!==null&&L!==void 0?L:isWritableNodeStream$4(T),z=T._writableState,Q=T._readableState,te=()=>{T.writable||Re()};let G=_willEmitClose$2(T)&&isReadableNodeStream$7(T)===B&&isWritableNodeStream$4(T)===H,ie=isWritableFinished$4(T,!1);const Re=()=>{ie=!0,T.destroyed&&(G=!1),!(G&&(!T.readable||B))&&(!B||$e)&&I.call(T)};let $e=isReadableFinished$4(T,!1);const Pe=()=>{$e=!0,T.destroyed&&(G=!1),!(G&&(!T.writable||H))&&(!H||ie)&&I.call(T)},Me=Ge=>{I.call(T,Ge)};let Be=isClosed$4(T);const Ke=()=>{Be=!0;const Ge=isWritableErrored$4(T)||isReadableErrored$4(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);if(B&&!$e&&isReadableNodeStream$7(T,!0)&&!isReadableFinished$4(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$6);if(H&&!ie&&!isWritableFinished$4(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$6);I.call(T)},Le=()=>{Be=!0;const Ge=isWritableErrored$4(T)||isReadableErrored$4(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);I.call(T)},qe=()=>{T.req.on("finish",Re)};isRequest$7(T)?(T.on("complete",Re),G||T.on("abort",Ke),T.req?qe():T.on("request",qe)):H&&!z&&(T.on("end",te),T.on("close",te)),!G&&typeof T.aborted=="boolean"&&T.on("aborted",Ke),T.on("end",Pe),T.on("finish",Re),$.error!==!1&&T.on("error",Me),T.on("close",Ke),Be?process$b.nextTick(Ke):z!=null&&z.errorEmitted||Q!=null&&Q.errorEmitted?G||process$b.nextTick(Le):(!B&&(!G||isReadable$a(T))&&(ie||isWritable$a(T)===!1)||!H&&(!G||isWritable$a(T))&&($e||isReadable$a(T)===!1)||Q&&T.req&&T.aborted)&&process$b.nextTick(Le);const He=()=>{I=nop$2,T.removeListener("aborted",Ke),T.removeListener("complete",Re),T.removeListener("abort",Ke),T.removeListener("request",qe),T.req&&T.req.removeListener("finish",Re),T.removeListener("end",te),T.removeListener("close",te),T.removeListener("finish",Re),T.removeListener("end",Pe),T.removeListener("error",Me),T.removeListener("close",Ke)};if($.signal&&!Be){const Ge=()=>{const at=I;He(),at.call(T,new AbortError$h(void 0,{cause:$.signal.reason}))};if($.signal.aborted)process$b.nextTick(Ge);else{const at=I;I=once$7((...ot)=>{$.signal.removeEventListener("abort",Ge),at.apply(T,ot)}),$.signal.addEventListener("abort",Ge)}}return He}function eosWeb$2(T,$,I){let N=!1,L=nop$2;if($.signal)if(L=()=>{N=!0,I.call(T,new AbortError$h(void 0,{cause:$.signal.reason}))},$.signal.aborted)process$b.nextTick(L);else{const H=I;I=once$7((...z)=>{$.signal.removeEventListener("abort",L),H.apply(T,z)}),$.signal.addEventListener("abort",L)}const B=(...H)=>{N||process$b.nextTick(()=>I.apply(T,H))};return PromisePrototypeThen$8(T[kIsClosedPromise$4].promise,B,B),nop$2}function finished$5(T,$){var I;let N=!1;return $===null&&($=kEmptyObject$2),(I=$)!==null&&I!==void 0&&I.cleanup&&(validateBoolean$4($.cleanup,"cleanup"),N=$.cleanup),new Promise$9((L,B)=>{const H=eos$a(T,$,z=>{N&&H(),z?B(z):L()})})}endOfStream$b.exports=eos$a;var finished_1$2=endOfStream$b.exports.finished=finished$5,endOfStreamExports$2=endOfStream$b.exports;const endOfStream$9=getDefaultExportFromCjs$1(endOfStreamExports$2),endOfStream$a=_mergeNamespaces({__proto__:null,default:endOfStream$9,finished:finished_1$2},[endOfStreamExports$2]),process$a=dist$3,{aggregateTwoErrors:aggregateTwoErrors$7,codes:{ERR_MULTIPLE_CALLBACK:ERR_MULTIPLE_CALLBACK$3},AbortError:AbortError$g}=errors$e,{Symbol:Symbol$b}=primordials$8,{kDestroyed:kDestroyed$4,isDestroyed:isDestroyed$4,isFinished:isFinished$4,isServerRequest:isServerRequest$4}=utils$H,kDestroy$2=Symbol$b("kDestroy"),kConstruct$2=Symbol$b("kConstruct");function checkError$2(T,$,I){T&&(T.stack,$&&!$.errored&&($.errored=T),I&&!I.errored&&(I.errored=T))}function destroy$9(T,$){const I=this._readableState,N=this._writableState,L=N||I;return N!=null&&N.destroyed||I!=null&&I.destroyed?(typeof $=="function"&&$(),this):(checkError$2(T,N,I),N&&(N.destroyed=!0),I&&(I.destroyed=!0),L.constructed?_destroy$2(this,T,$):this.once(kDestroy$2,function(B){_destroy$2(this,aggregateTwoErrors$7(B,T),$)}),this)}function _destroy$2(T,$,I){let N=!1;function L(B){if(N)return;N=!0;const H=T._readableState,z=T._writableState;checkError$2(B,z,H),z&&(z.closed=!0),H&&(H.closed=!0),typeof I=="function"&&I(B),B?process$a.nextTick(emitErrorCloseNT$2,T,B):process$a.nextTick(emitCloseNT$3,T)}try{T._destroy($||null,L)}catch(B){L(B)}}function emitErrorCloseNT$2(T,$){emitErrorNT$3(T,$),emitCloseNT$3(T)}function emitCloseNT$3(T){const $=T._readableState,I=T._writableState;I&&(I.closeEmitted=!0),$&&($.closeEmitted=!0),(I!=null&&I.emitClose||$!=null&&$.emitClose)&&T.emit("close")}function emitErrorNT$3(T,$){const I=T._readableState,N=T._writableState;N!=null&&N.errorEmitted||I!=null&&I.errorEmitted||(N&&(N.errorEmitted=!0),I&&(I.errorEmitted=!0),T.emit("error",$))}function undestroy$3(){const T=this._readableState,$=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function errorOrDestroy$3(T,$,I){const N=T._readableState,L=T._writableState;if(L!=null&&L.destroyed||N!=null&&N.destroyed)return this;N!=null&&N.autoDestroy||L!=null&&L.autoDestroy?T.destroy($):$&&($.stack,L&&!L.errored&&(L.errored=$),N&&!N.errored&&(N.errored=$),I?process$a.nextTick(emitErrorNT$3,T,$):emitErrorNT$3(T,$))}function construct$2(T,$){if(typeof T._construct!="function")return;const I=T._readableState,N=T._writableState;I&&(I.constructed=!1),N&&(N.constructed=!1),T.once(kConstruct$2,$),!(T.listenerCount(kConstruct$2)>1)&&process$a.nextTick(constructNT$2,T)}function constructNT$2(T){let $=!1;function I(N){if($){errorOrDestroy$3(T,N??new ERR_MULTIPLE_CALLBACK$3);return}$=!0;const L=T._readableState,B=T._writableState,H=B||L;L&&(L.constructed=!0),B&&(B.constructed=!0),H.destroyed?T.emit(kDestroy$2,N):N?errorOrDestroy$3(T,N,!0):process$a.nextTick(emitConstructNT$2,T)}try{T._construct(N=>{process$a.nextTick(I,N)})}catch(N){process$a.nextTick(I,N)}}function emitConstructNT$2(T){T.emit(kConstruct$2)}function isRequest$6(T){return(T==null?void 0:T.setHeader)&&typeof T.abort=="function"}function emitCloseLegacy$2(T){T.emit("close")}function emitErrorCloseLegacy$2(T,$){T.emit("error",$),process$a.nextTick(emitCloseLegacy$2,T)}function destroyer$9(T,$){!T||isDestroyed$4(T)||(!$&&!isFinished$4(T)&&($=new AbortError$g),isServerRequest$4(T)?(T.socket=null,T.destroy($)):isRequest$6(T)?T.abort():isRequest$6(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy($):typeof T.close=="function"?T.close():$?process$a.nextTick(emitErrorCloseLegacy$2,T,$):process$a.nextTick(emitCloseLegacy$2,T),T.destroyed||(T[kDestroyed$4]=!0))}var destroy_1$4={construct:construct$2,destroyer:destroyer$9,destroy:destroy$9,undestroy:undestroy$3,errorOrDestroy:errorOrDestroy$3};const destroy$a=getDefaultExportFromCjs$1(destroy_1$4),destroy$b=_mergeNamespaces({__proto__:null,default:destroy$a},[destroy_1$4]),{ArrayIsArray:ArrayIsArray$7,ObjectSetPrototypeOf:ObjectSetPrototypeOf$8}=primordials$8,{EventEmitter:EE$3}=events$1;function Stream$3(T){EE$3.call(this,T)}ObjectSetPrototypeOf$8(Stream$3.prototype,EE$3.prototype);ObjectSetPrototypeOf$8(Stream$3,EE$3);Stream$3.prototype.pipe=function(T,$){const I=this;function N(G){T.writable&&T.write(G)===!1&&I.pause&&I.pause()}I.on("data",N);function L(){I.readable&&I.resume&&I.resume()}T.on("drain",L),!T._isStdio&&(!$||$.end!==!1)&&(I.on("end",H),I.on("close",z));let B=!1;function H(){B||(B=!0,T.end())}function z(){B||(B=!0,typeof T.destroy=="function"&&T.destroy())}function Q(G){te(),EE$3.listenerCount(this,"error")===0&&this.emit("error",G)}prependListener$2(I,"error",Q),prependListener$2(T,"error",Q);function te(){I.removeListener("data",N),T.removeListener("drain",L),I.removeListener("end",H),I.removeListener("close",z),I.removeListener("error",Q),T.removeListener("error",Q),I.removeListener("end",te),I.removeListener("close",te),T.removeListener("close",te)}return I.on("end",te),I.on("close",te),T.on("close",te),T.emit("pipe",I),T};function prependListener$2(T,$,I){if(typeof T.prependListener=="function")return T.prependListener($,I);!T._events||!T._events[$]?T.on($,I):ArrayIsArray$7(T._events[$])?T._events[$].unshift(I):T._events[$]=[I,T._events[$]]}var legacy$7={Stream:Stream$3,prependListener:prependListener$2};const legacy$8=getDefaultExportFromCjs$1(legacy$7),legacy$9=_mergeNamespaces({__proto__:null,default:legacy$8},[legacy$7]);var addAbortSignal$8={exports:{}};(function(T){const{AbortError:$,codes:I}=errors$e,{isNodeStream:N,isWebStream:L,kControllerErrorFunction:B}=utils$H,H=endOfStream$a,{ERR_INVALID_ARG_TYPE:z}=I,Q=(te,G)=>{if(typeof te!="object"||!("aborted"in te))throw new z(G,"AbortSignal",te)};T.exports.addAbortSignal=function(G,ie){if(Q(G,"signal"),!N(ie)&&!L(ie))throw new z("stream",["ReadableStream","WritableStream","Stream"],ie);return T.exports.addAbortSignalNoValidate(G,ie)},T.exports.addAbortSignalNoValidate=function(te,G){if(typeof te!="object"||!("aborted"in te))return G;const ie=N(G)?()=>{G.destroy(new $(void 0,{cause:te.reason}))}:()=>{G[B](new $(void 0,{cause:te.reason}))};return te.aborted?ie():(te.addEventListener("abort",ie),H(G,()=>te.removeEventListener("abort",ie))),G}})(addAbortSignal$8);var addAbortSignalExports$2=addAbortSignal$8.exports;const addAbortSignal$6=getDefaultExportFromCjs$1(addAbortSignalExports$2),addAbortSignal$7=_mergeNamespaces({__proto__:null,default:addAbortSignal$6},[addAbortSignalExports$2]),{StringPrototypeSlice:StringPrototypeSlice$2,SymbolIterator:SymbolIterator$7,TypedArrayPrototypeSet:TypedArrayPrototypeSet$2,Uint8Array:Uint8Array$3}=primordials$8,{Buffer:Buffer$h}=dist$5,{inspect:inspect$7}=util$h;var buffer_list$7=class{constructor(){this.head=null,this.tail=null,this.length=0}push($){const I={data:$,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}unshift($){const I={data:$,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}shift(){if(this.length===0)return;const $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}clear(){this.head=this.tail=null,this.length=0}join($){if(this.length===0)return"";let I=this.head,N=""+I.data;for(;(I=I.next)!==null;)N+=$+I.data;return N}concat($){if(this.length===0)return Buffer$h.alloc(0);const I=Buffer$h.allocUnsafe($>>>0);let N=this.head,L=0;for(;N;)TypedArrayPrototypeSet$2(I,N.data,L),L+=N.data.length,N=N.next;return I}consume($,I){const N=this.head.data;if($<N.length){const L=N.slice(0,$);return this.head.data=N.slice($),L}return $===N.length?this.shift():I?this._getString($):this._getBuffer($)}first(){return this.head.data}*[SymbolIterator$7](){for(let $=this.head;$;$=$.next)yield $.data}_getString($){let I="",N=this.head,L=0;do{const B=N.data;if($>B.length)I+=B,$-=B.length;else{$===B.length?(I+=B,++L,N.next?this.head=N.next:this.head=this.tail=null):(I+=StringPrototypeSlice$2(B,0,$),this.head=N,N.data=StringPrototypeSlice$2(B,$));break}++L}while((N=N.next)!==null);return this.length-=L,I}_getBuffer($){const I=Buffer$h.allocUnsafe($),N=$;let L=this.head,B=0;do{const H=L.data;if($>H.length)TypedArrayPrototypeSet$2(I,H,N-$),$-=H.length;else{$===H.length?(TypedArrayPrototypeSet$2(I,H,N-$),++B,L.next?this.head=L.next:this.head=this.tail=null):(TypedArrayPrototypeSet$2(I,new Uint8Array$3(H.buffer,H.byteOffset,$),N-$),this.head=L,L.data=H.slice($));break}++B}while((L=L.next)!==null);return this.length-=B,I}[Symbol.for("nodejs.util.inspect.custom")]($,I){return inspect$7(this,{...I,depth:0,customInspect:!1})}};const buffer_list$8=getDefaultExportFromCjs$1(buffer_list$7),buffer_list$9=_mergeNamespaces({__proto__:null,default:buffer_list$8},[buffer_list$7]),{MathFloor:MathFloor$5,NumberIsInteger:NumberIsInteger$4}=primordials$8,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$a}=errors$e.codes;function highWaterMarkFrom$3(T,$,I){return T.highWaterMark!=null?T.highWaterMark:$?T[I]:null}function getDefaultHighWaterMark$2(T){return T?16:16*1024}function getHighWaterMark$6(T,$,I,N){const L=highWaterMarkFrom$3($,N,I);if(L!=null){if(!NumberIsInteger$4(L)||L<0){const B=N?`options.${I}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$a(B,L)}return MathFloor$5(L)}return getDefaultHighWaterMark$2(T.objectMode)}var state$a={getHighWaterMark:getHighWaterMark$6,getDefaultHighWaterMark:getDefaultHighWaterMark$2};const state$b=getDefaultExportFromCjs$1(state$a),state$c=_mergeNamespaces({__proto__:null,default:state$b},[state$a]),process$9=dist$3,{PromisePrototypeThen:PromisePrototypeThen$7,SymbolAsyncIterator:SymbolAsyncIterator$7,SymbolIterator:SymbolIterator$6}=primordials$8,{Buffer:Buffer$g}=dist$5,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$d,ERR_STREAM_NULL_VALUES:ERR_STREAM_NULL_VALUES$2}=errors$e.codes;function from$9(T,$,I){let N;if(typeof $=="string"||$ instanceof Buffer$g)return new T({objectMode:!0,...I,read(){this.push($),this.push(null)}});let L;if($&&$[SymbolAsyncIterator$7])L=!0,N=$[SymbolAsyncIterator$7]();else if($&&$[SymbolIterator$6])L=!1,N=$[SymbolIterator$6]();else throw new ERR_INVALID_ARG_TYPE$d("iterable",["Iterable"],$);const B=new T({objectMode:!0,highWaterMark:1,...I});let H=!1;B._read=function(){H||(H=!0,Q())},B._destroy=function(te,G){PromisePrototypeThen$7(z(te),()=>process$9.nextTick(G,te),ie=>process$9.nextTick(G,ie||te))};async function z(te){const G=te!=null,ie=typeof N.throw=="function";if(G&&ie){const{value:Re,done:$e}=await N.throw(te);if(await Re,$e)return}if(typeof N.return=="function"){const{value:Re}=await N.return();await Re}}async function Q(){for(;;){try{const{value:te,done:G}=L?await N.next():N.next();if(G)B.push(null);else{const ie=te&&typeof te.then=="function"?await te:te;if(ie===null)throw H=!1,new ERR_STREAM_NULL_VALUES$2;if(B.push(ie))continue;H=!1}}catch(te){B.destroy(te)}break}}return B}var from_1$2=from$9;const from$a=getDefaultExportFromCjs$1(from_1$2),from$b=_mergeNamespaces({__proto__:null,default:from$a},[from_1$2]);var readable$2,hasRequiredReadable$2;function requireReadable$2(){if(hasRequiredReadable$2)return readable$2;hasRequiredReadable$2=1;const T=dist$3,{ArrayPrototypeIndexOf:$,NumberIsInteger:I,NumberIsNaN:N,NumberParseInt:L,ObjectDefineProperties:B,ObjectKeys:H,ObjectSetPrototypeOf:z,Promise:Q,SafeSet:te,SymbolAsyncIterator:G,Symbol:ie}=primordials$8;readable$2=We,We.ReadableState=it;const{EventEmitter:Re}=events$1,{Stream:$e,prependListener:Pe}=legacy$9,{Buffer:Me}=dist$5,{addAbortSignal:Be}=addAbortSignal$7,Ke=endOfStream$a;let Le=util$h.debuglog("stream",lt=>{Le=lt});const qe=buffer_list$9,He=destroy$b,{getHighWaterMark:Ge,getDefaultHighWaterMark:at}=state$c,{aggregateTwoErrors:ot,codes:{ERR_INVALID_ARG_TYPE:Ye,ERR_METHOD_NOT_IMPLEMENTED:nt,ERR_OUT_OF_RANGE:Qe,ERR_STREAM_PUSH_AFTER_EOF:tt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ze}}=errors$e,{validateObject:Fe}=validators$8,ke=ie("kPaused"),{StringDecoder:Ue}=string_decoder,Je=from$b;z(We.prototype,$e.prototype),z(We,$e);const rt=()=>{},{errorOrDestroy:Xe}=He;function it(lt,ct,Nt){typeof Nt!="boolean"&&(Nt=ct instanceof requireDuplex$2()),this.objectMode=!!(lt&&lt.objectMode),Nt&&(this.objectMode=this.objectMode||!!(lt&&lt.readableObjectMode)),this.highWaterMark=lt?Ge(this,lt,"readableHighWaterMark",Nt):at(!1),this.buffer=new qe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ke]=null,this.errorEmitted=!1,this.emitClose=!lt||lt.emitClose!==!1,this.autoDestroy=!lt||lt.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=lt&&lt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,lt&&lt.encoding&&(this.decoder=new Ue(lt.encoding),this.encoding=lt.encoding)}function We(lt){if(!(this instanceof We))return new We(lt);const ct=this instanceof requireDuplex$2();this._readableState=new it(lt,this,ct),lt&&(typeof lt.read=="function"&&(this._read=lt.read),typeof lt.destroy=="function"&&(this._destroy=lt.destroy),typeof lt.construct=="function"&&(this._construct=lt.construct),lt.signal&&!ct&&Be(lt.signal,this)),$e.call(this,lt),He.construct(this,()=>{this._readableState.needReadable&&Bt(this,this._readableState)})}We.prototype.destroy=He.destroy,We.prototype._undestroy=He.undestroy,We.prototype._destroy=function(lt,ct){ct(lt)},We.prototype[Re.captureRejectionSymbol]=function(lt){this.destroy(lt)},We.prototype.push=function(lt,ct){return Ve(this,lt,ct,!1)},We.prototype.unshift=function(lt,ct){return Ve(this,lt,ct,!0)};function Ve(lt,ct,Nt,jt){Le("readableAddChunk",ct);const zt=lt._readableState;let Ot;if(zt.objectMode||(typeof ct=="string"?(Nt=Nt||zt.defaultEncoding,zt.encoding!==Nt&&(jt&&zt.encoding?ct=Me.from(ct,Nt).toString(zt.encoding):(ct=Me.from(ct,Nt),Nt=""))):ct instanceof Me?Nt="":$e._isUint8Array(ct)?(ct=$e._uint8ArrayToBuffer(ct),Nt=""):ct!=null&&(Ot=new Ye("chunk",["string","Buffer","Uint8Array"],ct))),Ot)Xe(lt,Ot);else if(ct===null)zt.reading=!1,bt(lt,zt);else if(zt.objectMode||ct&&ct.length>0)if(jt)if(zt.endEmitted)Xe(lt,new ze);else{if(zt.destroyed||zt.errored)return!1;je(lt,zt,ct,!0)}else if(zt.ended)Xe(lt,new tt);else{if(zt.destroyed||zt.errored)return!1;zt.reading=!1,zt.decoder&&!Nt?(ct=zt.decoder.write(ct),zt.objectMode||ct.length!==0?je(lt,zt,ct,!1):Bt(lt,zt)):je(lt,zt,ct,!1)}else jt||(zt.reading=!1,Bt(lt,zt));return!zt.ended&&(zt.length<zt.highWaterMark||zt.length===0)}function je(lt,ct,Nt,jt){ct.flowing&&ct.length===0&&!ct.sync&&lt.listenerCount("data")>0?(ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null,ct.dataEmitted=!0,lt.emit("data",Nt)):(ct.length+=ct.objectMode?1:Nt.length,jt?ct.buffer.unshift(Nt):ct.buffer.push(Nt),ct.needReadable&&vt(lt)),Bt(lt,ct)}We.prototype.isPaused=function(){const lt=this._readableState;return lt[ke]===!0||lt.flowing===!1},We.prototype.setEncoding=function(lt){const ct=new Ue(lt);this._readableState.decoder=ct,this._readableState.encoding=this._readableState.decoder.encoding;const Nt=this._readableState.buffer;let jt="";for(const zt of Nt)jt+=ct.write(zt);return Nt.clear(),jt!==""&&Nt.push(jt),this._readableState.length=jt.length,this};const Ze=1073741824;function st(lt){if(lt>Ze)throw new Qe("size","<= 1GiB",lt);return lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++,lt}function dt(lt,ct){return lt<=0||ct.length===0&&ct.ended?0:ct.objectMode?1:N(lt)?ct.flowing&&ct.length?ct.buffer.first().length:ct.length:lt<=ct.length?lt:ct.ended?ct.length:0}We.prototype.read=function(lt){Le("read",lt),lt===void 0?lt=NaN:I(lt)||(lt=L(lt,10));const ct=this._readableState,Nt=lt;if(lt>ct.highWaterMark&&(ct.highWaterMark=st(lt)),lt!==0&&(ct.emittedReadable=!1),lt===0&&ct.needReadable&&((ct.highWaterMark!==0?ct.length>=ct.highWaterMark:ct.length>0)||ct.ended))return Le("read: emitReadable",ct.length,ct.ended),ct.length===0&&ct.ended?yr(this):vt(this),null;if(lt=dt(lt,ct),lt===0&&ct.ended)return ct.length===0&&yr(this),null;let jt=ct.needReadable;if(Le("need readable",jt),(ct.length===0||ct.length-lt<ct.highWaterMark)&&(jt=!0,Le("length less than watermark",jt)),ct.ended||ct.reading||ct.destroyed||ct.errored||!ct.constructed)jt=!1,Le("reading, ended or constructing",jt);else if(jt){Le("do read"),ct.reading=!0,ct.sync=!0,ct.length===0&&(ct.needReadable=!0);try{this._read(ct.highWaterMark)}catch(Ot){Xe(this,Ot)}ct.sync=!1,ct.reading||(lt=dt(Nt,ct))}let zt;return lt>0?zt=Yt(lt,ct):zt=null,zt===null?(ct.needReadable=ct.length<=ct.highWaterMark,lt=0):(ct.length-=lt,ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null),ct.length===0&&(ct.ended||(ct.needReadable=!0),Nt!==lt&&ct.ended&&yr(this)),zt!==null&&!ct.errorEmitted&&!ct.closeEmitted&&(ct.dataEmitted=!0,this.emit("data",zt)),zt};function bt(lt,ct){if(Le("onEofChunk"),!ct.ended){if(ct.decoder){const Nt=ct.decoder.end();Nt&&Nt.length&&(ct.buffer.push(Nt),ct.length+=ct.objectMode?1:Nt.length)}ct.ended=!0,ct.sync?vt(lt):(ct.needReadable=!1,ct.emittedReadable=!0,St(lt))}}function vt(lt){const ct=lt._readableState;Le("emitReadable",ct.needReadable,ct.emittedReadable),ct.needReadable=!1,ct.emittedReadable||(Le("emitReadable",ct.flowing),ct.emittedReadable=!0,T.nextTick(St,lt))}function St(lt){const ct=lt._readableState;Le("emitReadable_",ct.destroyed,ct.length,ct.ended),!ct.destroyed&&!ct.errored&&(ct.length||ct.ended)&&(lt.emit("readable"),ct.emittedReadable=!1),ct.needReadable=!ct.flowing&&!ct.ended&&ct.length<=ct.highWaterMark,kt(lt)}function Bt(lt,ct){!ct.readingMore&&ct.constructed&&(ct.readingMore=!0,T.nextTick(Gt,lt,ct))}function Gt(lt,ct){for(;!ct.reading&&!ct.ended&&(ct.length<ct.highWaterMark||ct.flowing&&ct.length===0);){const Nt=ct.length;if(Le("maybeReadMore read 0"),lt.read(0),Nt===ct.length)break}ct.readingMore=!1}We.prototype._read=function(lt){throw new nt("_read()")},We.prototype.pipe=function(lt,ct){const Nt=this,jt=this._readableState;jt.pipes.length===1&&(jt.multiAwaitDrain||(jt.multiAwaitDrain=!0,jt.awaitDrainWriters=new te(jt.awaitDrainWriters?[jt.awaitDrainWriters]:[]))),jt.pipes.push(lt),Le("pipe count=%d opts=%j",jt.pipes.length,ct);const Ot=(!ct||ct.end!==!1)&&lt!==T.stdout&&lt!==T.stderr?It:Wr;jt.endEmitted?T.nextTick(Ot):Nt.once("end",Ot),lt.on("unpipe",Rt);function Rt(Kr,Yr){Le("onunpipe"),Kr===Nt&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,dr())}function It(){Le("onend"),lt.end()}let Kt,tr=!1;function dr(){Le("cleanup"),lt.removeListener("close",Br),lt.removeListener("finish",Qr),Kt&&lt.removeListener("drain",Kt),lt.removeListener("error",qr),lt.removeListener("unpipe",Rt),Nt.removeListener("end",It),Nt.removeListener("end",Wr),Nt.removeListener("data",Nr),tr=!0,Kt&&jt.awaitDrainWriters&&(!lt._writableState||lt._writableState.needDrain)&&Kt()}function _r(){tr||(jt.pipes.length===1&&jt.pipes[0]===lt?(Le("false write response, pause",0),jt.awaitDrainWriters=lt,jt.multiAwaitDrain=!1):jt.pipes.length>1&&jt.pipes.includes(lt)&&(Le("false write response, pause",jt.awaitDrainWriters.size),jt.awaitDrainWriters.add(lt)),Nt.pause()),Kt||(Kt=Dt(Nt,lt),lt.on("drain",Kt))}Nt.on("data",Nr);function Nr(Kr){Le("ondata");const Yr=lt.write(Kr);Le("dest.write",Yr),Yr===!1&&_r()}function qr(Kr){if(Le("onerror",Kr),Wr(),lt.removeListener("error",qr),lt.listenerCount("error")===0){const Yr=lt._writableState||lt._readableState;Yr&&!Yr.errorEmitted?Xe(lt,Kr):lt.emit("error",Kr)}}Pe(lt,"error",qr);function Br(){lt.removeListener("finish",Qr),Wr()}lt.once("close",Br);function Qr(){Le("onfinish"),lt.removeListener("close",Br),Wr()}lt.once("finish",Qr);function Wr(){Le("unpipe"),Nt.unpipe(lt)}return lt.emit("pipe",Nt),lt.writableNeedDrain===!0?jt.flowing&&_r():jt.flowing||(Le("pipe resume"),Nt.resume()),lt};function Dt(lt,ct){return function(){const jt=lt._readableState;jt.awaitDrainWriters===ct?(Le("pipeOnDrain",1),jt.awaitDrainWriters=null):jt.multiAwaitDrain&&(Le("pipeOnDrain",jt.awaitDrainWriters.size),jt.awaitDrainWriters.delete(ct)),(!jt.awaitDrainWriters||jt.awaitDrainWriters.size===0)&&lt.listenerCount("data")&&lt.resume()}}We.prototype.unpipe=function(lt){const ct=this._readableState,Nt={hasUnpiped:!1};if(ct.pipes.length===0)return this;if(!lt){const zt=ct.pipes;ct.pipes=[],this.pause();for(let Ot=0;Ot<zt.length;Ot++)zt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}const jt=$(ct.pipes,lt);return jt===-1?this:(ct.pipes.splice(jt,1),ct.pipes.length===0&&this.pause(),lt.emit("unpipe",this,Nt),this)},We.prototype.on=function(lt,ct){const Nt=$e.prototype.on.call(this,lt,ct),jt=this._readableState;return lt==="data"?(jt.readableListening=this.listenerCount("readable")>0,jt.flowing!==!1&&this.resume()):lt==="readable"&&!jt.endEmitted&&!jt.readableListening&&(jt.readableListening=jt.needReadable=!0,jt.flowing=!1,jt.emittedReadable=!1,Le("on readable",jt.length,jt.reading),jt.length?vt(this):jt.reading||T.nextTick(pt,this)),Nt},We.prototype.addListener=We.prototype.on,We.prototype.removeListener=function(lt,ct){const Nt=$e.prototype.removeListener.call(this,lt,ct);return lt==="readable"&&T.nextTick(Mt,this),Nt},We.prototype.off=We.prototype.removeListener,We.prototype.removeAllListeners=function(lt){const ct=$e.prototype.removeAllListeners.apply(this,arguments);return(lt==="readable"||lt===void 0)&&T.nextTick(Mt,this),ct};function Mt(lt){const ct=lt._readableState;ct.readableListening=lt.listenerCount("readable")>0,ct.resumeScheduled&&ct[ke]===!1?ct.flowing=!0:lt.listenerCount("data")>0?lt.resume():ct.readableListening||(ct.flowing=null)}function pt(lt){Le("readable nexttick read 0"),lt.read(0)}We.prototype.resume=function(){const lt=this._readableState;return lt.flowing||(Le("resume"),lt.flowing=!lt.readableListening,mt(this,lt)),lt[ke]=!1,this};function mt(lt,ct){ct.resumeScheduled||(ct.resumeScheduled=!0,T.nextTick($t,lt,ct))}function $t(lt,ct){Le("resume",ct.reading),ct.reading||lt.read(0),ct.resumeScheduled=!1,lt.emit("resume"),kt(lt),ct.flowing&&!ct.reading&&lt.read(0)}We.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ke]=!0,this};function kt(lt){const ct=lt._readableState;for(Le("flow",ct.flowing);ct.flowing&&lt.read()!==null;);}We.prototype.wrap=function(lt){let ct=!1;lt.on("data",jt=>{!this.push(jt)&&lt.pause&&(ct=!0,lt.pause())}),lt.on("end",()=>{this.push(null)}),lt.on("error",jt=>{Xe(this,jt)}),lt.on("close",()=>{this.destroy()}),lt.on("destroy",()=>{this.destroy()}),this._read=()=>{ct&&lt.resume&&(ct=!1,lt.resume())};const Nt=H(lt);for(let jt=1;jt<Nt.length;jt++){const zt=Nt[jt];this[zt]===void 0&&typeof lt[zt]=="function"&&(this[zt]=lt[zt].bind(lt))}return this},We.prototype[G]=function(){return Ft(this)},We.prototype.iterator=function(lt){return lt!==void 0&&Fe(lt,"options"),Ft(this,lt)};function Ft(lt,ct){typeof lt.read!="function"&&(lt=We.wrap(lt,{objectMode:!0}));const Nt=nr(lt,ct);return Nt.stream=lt,Nt}async function*nr(lt,ct){let Nt=rt;function jt(Rt){this===lt?(Nt(),Nt=rt):Nt=Rt}lt.on("readable",jt);let zt;const Ot=Ke(lt,{writable:!1},Rt=>{zt=Rt?ot(zt,Rt):null,Nt(),Nt=rt});try{for(;;){const Rt=lt.destroyed?null:lt.read();if(Rt!==null)yield Rt;else{if(zt)throw zt;if(zt===null)return;await new Q(jt)}}}catch(Rt){throw zt=ot(zt,Rt),zt}finally{(zt||(ct==null?void 0:ct.destroyOnReturn)!==!1)&&(zt===void 0||lt._readableState.autoDestroy)?He.destroyer(lt,null):(lt.off("readable",jt),Ot())}}B(We.prototype,{readable:{__proto__:null,get(){const lt=this._readableState;return!!lt&&lt.readable!==!1&&!lt.destroyed&&!lt.errorEmitted&&!lt.endEmitted},set(lt){this._readableState&&(this._readableState.readable=!!lt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(lt){this._readableState&&(this._readableState.flowing=lt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(lt){this._readableState&&(this._readableState.destroyed=lt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(it.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ke]!==!1},set(lt){this[ke]=!!lt}}}),We._fromList=Yt;function Yt(lt,ct){if(ct.length===0)return null;let Nt;return ct.objectMode?Nt=ct.buffer.shift():!lt||lt>=ct.length?(ct.decoder?Nt=ct.buffer.join(""):ct.buffer.length===1?Nt=ct.buffer.first():Nt=ct.buffer.concat(ct.length),ct.buffer.clear()):Nt=ct.buffer.consume(lt,ct.decoder),Nt}function yr(lt){const ct=lt._readableState;Le("endReadable",ct.endEmitted),ct.endEmitted||(ct.ended=!0,T.nextTick(gr,ct,lt))}function gr(lt,ct){if(Le("endReadableNT",lt.endEmitted,lt.length),!lt.errored&&!lt.closeEmitted&&!lt.endEmitted&&lt.length===0){if(lt.endEmitted=!0,ct.emit("end"),ct.writable&&ct.allowHalfOpen===!1)T.nextTick(br,ct);else if(lt.autoDestroy){const Nt=ct._writableState;(!Nt||Nt.autoDestroy&&(Nt.finished||Nt.writable===!1))&&ct.destroy()}}}function br(lt){lt.writable&&!lt.writableEnded&&!lt.destroyed&&lt.end()}We.from=function(lt,ct){return Je(We,lt,ct)};let cr;function pr(){return cr===void 0&&(cr={}),cr}return We.fromWeb=function(lt,ct){return pr().newStreamReadableFromReadableStream(lt,ct)},We.toWeb=function(lt,ct){return pr().newReadableStreamFromStreamReadable(lt,ct)},We.wrap=function(lt,ct){var Nt,jt;return new We({objectMode:(Nt=(jt=lt.readableObjectMode)!==null&&jt!==void 0?jt:lt.objectMode)!==null&&Nt!==void 0?Nt:!0,...ct,destroy(zt,Ot){He.destroyer(lt,zt),Ot(zt)}}).wrap(lt)},readable$2}var writable$2,hasRequiredWritable$2;function requireWritable$2(){if(hasRequiredWritable$2)return writable$2;hasRequiredWritable$2=1;const T=dist$3,{ArrayPrototypeSlice:$,Error:I,FunctionPrototypeSymbolHasInstance:N,ObjectDefineProperty:L,ObjectDefineProperties:B,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:z,Symbol:Q,SymbolHasInstance:te}=primordials$8;writable$2=Ue,Ue.WritableState=Fe;const{EventEmitter:G}=events$1,ie=legacy$9.Stream,{Buffer:Re}=dist$5,$e=destroy$b,{addAbortSignal:Pe}=addAbortSignal$7,{getHighWaterMark:Me,getDefaultHighWaterMark:Be}=state$c,{ERR_INVALID_ARG_TYPE:Ke,ERR_METHOD_NOT_IMPLEMENTED:Le,ERR_MULTIPLE_CALLBACK:qe,ERR_STREAM_CANNOT_PIPE:He,ERR_STREAM_DESTROYED:Ge,ERR_STREAM_ALREADY_FINISHED:at,ERR_STREAM_NULL_VALUES:ot,ERR_STREAM_WRITE_AFTER_END:Ye,ERR_UNKNOWN_ENCODING:nt}=errors$e.codes,{errorOrDestroy:Qe}=$e;H(Ue.prototype,ie.prototype),H(Ue,ie);function tt(){}const ze=Q("kOnFinished");function Fe(pt,mt,$t){typeof $t!="boolean"&&($t=mt instanceof requireDuplex$2()),this.objectMode=!!(pt&&pt.objectMode),$t&&(this.objectMode=this.objectMode||!!(pt&&pt.writableObjectMode)),this.highWaterMark=pt?Me(this,pt,"writableHighWaterMark",$t):Be(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const kt=!!(pt&&pt.decodeStrings===!1);this.decodeStrings=!kt,this.defaultEncoding=pt&&pt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=We.bind(void 0,mt),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ke(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pt||pt.emitClose!==!1,this.autoDestroy=!pt||pt.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ze]=[]}function ke(pt){pt.buffered=[],pt.bufferedIndex=0,pt.allBuffers=!0,pt.allNoop=!0}Fe.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},L(Fe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ue(pt){const mt=this instanceof requireDuplex$2();if(!mt&&!N(Ue,this))return new Ue(pt);this._writableState=new Fe(pt,this,mt),pt&&(typeof pt.write=="function"&&(this._write=pt.write),typeof pt.writev=="function"&&(this._writev=pt.writev),typeof pt.destroy=="function"&&(this._destroy=pt.destroy),typeof pt.final=="function"&&(this._final=pt.final),typeof pt.construct=="function"&&(this._construct=pt.construct),pt.signal&&Pe(pt.signal,this)),ie.call(this,pt),$e.construct(this,()=>{const $t=this._writableState;$t.writing||st(this,$t),St(this,$t)})}L(Ue,te,{__proto__:null,value:function(pt){return N(this,pt)?!0:this!==Ue?!1:pt&&pt._writableState instanceof Fe}}),Ue.prototype.pipe=function(){Qe(this,new He)};function Je(pt,mt,$t,kt){const Ft=pt._writableState;if(typeof $t=="function")kt=$t,$t=Ft.defaultEncoding;else{if(!$t)$t=Ft.defaultEncoding;else if($t!=="buffer"&&!Re.isEncoding($t))throw new nt($t);typeof kt!="function"&&(kt=tt)}if(mt===null)throw new ot;if(!Ft.objectMode)if(typeof mt=="string")Ft.decodeStrings!==!1&&(mt=Re.from(mt,$t),$t="buffer");else if(mt instanceof Re)$t="buffer";else if(ie._isUint8Array(mt))mt=ie._uint8ArrayToBuffer(mt),$t="buffer";else throw new Ke("chunk",["string","Buffer","Uint8Array"],mt);let nr;return Ft.ending?nr=new Ye:Ft.destroyed&&(nr=new Ge("write")),nr?(T.nextTick(kt,nr),Qe(pt,nr,!0),nr):(Ft.pendingcb++,rt(pt,Ft,mt,$t,kt))}Ue.prototype.write=function(pt,mt,$t){return Je(this,pt,mt,$t)===!0},Ue.prototype.cork=function(){this._writableState.corked++},Ue.prototype.uncork=function(){const pt=this._writableState;pt.corked&&(pt.corked--,pt.writing||st(this,pt))},Ue.prototype.setDefaultEncoding=function(mt){if(typeof mt=="string"&&(mt=z(mt)),!Re.isEncoding(mt))throw new nt(mt);return this._writableState.defaultEncoding=mt,this};function rt(pt,mt,$t,kt,Ft){const nr=mt.objectMode?1:$t.length;mt.length+=nr;const Yt=mt.length<mt.highWaterMark;return Yt||(mt.needDrain=!0),mt.writing||mt.corked||mt.errored||!mt.constructed?(mt.buffered.push({chunk:$t,encoding:kt,callback:Ft}),mt.allBuffers&&kt!=="buffer"&&(mt.allBuffers=!1),mt.allNoop&&Ft!==tt&&(mt.allNoop=!1)):(mt.writelen=nr,mt.writecb=Ft,mt.writing=!0,mt.sync=!0,pt._write($t,kt,mt.onwrite),mt.sync=!1),Yt&&!mt.errored&&!mt.destroyed}function Xe(pt,mt,$t,kt,Ft,nr,Yt){mt.writelen=kt,mt.writecb=Yt,mt.writing=!0,mt.sync=!0,mt.destroyed?mt.onwrite(new Ge("write")):$t?pt._writev(Ft,mt.onwrite):pt._write(Ft,nr,mt.onwrite),mt.sync=!1}function it(pt,mt,$t,kt){--mt.pendingcb,kt($t),Ze(mt),Qe(pt,$t)}function We(pt,mt){const $t=pt._writableState,kt=$t.sync,Ft=$t.writecb;if(typeof Ft!="function"){Qe(pt,new qe);return}$t.writing=!1,$t.writecb=null,$t.length-=$t.writelen,$t.writelen=0,mt?(mt.stack,$t.errored||($t.errored=mt),pt._readableState&&!pt._readableState.errored&&(pt._readableState.errored=mt),kt?T.nextTick(it,pt,$t,mt,Ft):it(pt,$t,mt,Ft)):($t.buffered.length>$t.bufferedIndex&&st(pt,$t),kt?$t.afterWriteTickInfo!==null&&$t.afterWriteTickInfo.cb===Ft?$t.afterWriteTickInfo.count++:($t.afterWriteTickInfo={count:1,cb:Ft,stream:pt,state:$t},T.nextTick(Ve,$t.afterWriteTickInfo)):je(pt,$t,1,Ft))}function Ve({stream:pt,state:mt,count:$t,cb:kt}){return mt.afterWriteTickInfo=null,je(pt,mt,$t,kt)}function je(pt,mt,$t,kt){for(!mt.ending&&!pt.destroyed&&mt.length===0&&mt.needDrain&&(mt.needDrain=!1,pt.emit("drain"));$t-- >0;)mt.pendingcb--,kt();mt.destroyed&&Ze(mt),St(pt,mt)}function Ze(pt){if(pt.writing)return;for(let Ft=pt.bufferedIndex;Ft<pt.buffered.length;++Ft){var mt;const{chunk:nr,callback:Yt}=pt.buffered[Ft],yr=pt.objectMode?1:nr.length;pt.length-=yr,Yt((mt=pt.errored)!==null&&mt!==void 0?mt:new Ge("write"))}const $t=pt[ze].splice(0);for(let Ft=0;Ft<$t.length;Ft++){var kt;$t[Ft]((kt=pt.errored)!==null&&kt!==void 0?kt:new Ge("end"))}ke(pt)}function st(pt,mt){if(mt.corked||mt.bufferProcessing||mt.destroyed||!mt.constructed)return;const{buffered:$t,bufferedIndex:kt,objectMode:Ft}=mt,nr=$t.length-kt;if(!nr)return;let Yt=kt;if(mt.bufferProcessing=!0,nr>1&&pt._writev){mt.pendingcb-=nr-1;const yr=mt.allNoop?tt:br=>{for(let cr=Yt;cr<$t.length;++cr)$t[cr].callback(br)},gr=mt.allNoop&&Yt===0?$t:$($t,Yt);gr.allBuffers=mt.allBuffers,Xe(pt,mt,!0,mt.length,gr,"",yr),ke(mt)}else{do{const{chunk:yr,encoding:gr,callback:br}=$t[Yt];$t[Yt++]=null;const cr=Ft?1:yr.length;Xe(pt,mt,!1,cr,yr,gr,br)}while(Yt<$t.length&&!mt.writing);Yt===$t.length?ke(mt):Yt>256?($t.splice(0,Yt),mt.bufferedIndex=0):mt.bufferedIndex=Yt}mt.bufferProcessing=!1}Ue.prototype._write=function(pt,mt,$t){if(this._writev)this._writev([{chunk:pt,encoding:mt}],$t);else throw new Le("_write()")},Ue.prototype._writev=null,Ue.prototype.end=function(pt,mt,$t){const kt=this._writableState;typeof pt=="function"?($t=pt,pt=null,mt=null):typeof mt=="function"&&($t=mt,mt=null);let Ft;if(pt!=null){const nr=Je(this,pt,mt);nr instanceof I&&(Ft=nr)}return kt.corked&&(kt.corked=1,this.uncork()),Ft||(!kt.errored&&!kt.ending?(kt.ending=!0,St(this,kt,!0),kt.ended=!0):kt.finished?Ft=new at("end"):kt.destroyed&&(Ft=new Ge("end"))),typeof $t=="function"&&(Ft||kt.finished?T.nextTick($t,Ft):kt[ze].push($t)),this};function dt(pt){return pt.ending&&!pt.destroyed&&pt.constructed&&pt.length===0&&!pt.errored&&pt.buffered.length===0&&!pt.finished&&!pt.writing&&!pt.errorEmitted&&!pt.closeEmitted}function bt(pt,mt){let $t=!1;function kt(Ft){if($t){Qe(pt,Ft??qe());return}if($t=!0,mt.pendingcb--,Ft){const nr=mt[ze].splice(0);for(let Yt=0;Yt<nr.length;Yt++)nr[Yt](Ft);Qe(pt,Ft,mt.sync)}else dt(mt)&&(mt.prefinished=!0,pt.emit("prefinish"),mt.pendingcb++,T.nextTick(Bt,pt,mt))}mt.sync=!0,mt.pendingcb++;try{pt._final(kt)}catch(Ft){kt(Ft)}mt.sync=!1}function vt(pt,mt){!mt.prefinished&&!mt.finalCalled&&(typeof pt._final=="function"&&!mt.destroyed?(mt.finalCalled=!0,bt(pt,mt)):(mt.prefinished=!0,pt.emit("prefinish")))}function St(pt,mt,$t){dt(mt)&&(vt(pt,mt),mt.pendingcb===0&&($t?(mt.pendingcb++,T.nextTick((kt,Ft)=>{dt(Ft)?Bt(kt,Ft):Ft.pendingcb--},pt,mt)):dt(mt)&&(mt.pendingcb++,Bt(pt,mt))))}function Bt(pt,mt){mt.pendingcb--,mt.finished=!0;const $t=mt[ze].splice(0);for(let kt=0;kt<$t.length;kt++)$t[kt]();if(pt.emit("finish"),mt.autoDestroy){const kt=pt._readableState;(!kt||kt.autoDestroy&&(kt.endEmitted||kt.readable===!1))&&pt.destroy()}}B(Ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pt){this._writableState&&(this._writableState.destroyed=pt)}},writable:{__proto__:null,get(){const pt=this._writableState;return!!pt&&pt.writable!==!1&&!pt.destroyed&&!pt.errored&&!pt.ending&&!pt.ended},set(pt){this._writableState&&(this._writableState.writable=!!pt)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const pt=this._writableState;return pt?!pt.destroyed&&!pt.ending&&pt.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Gt=$e.destroy;Ue.prototype.destroy=function(pt,mt){const $t=this._writableState;return!$t.destroyed&&($t.bufferedIndex<$t.buffered.length||$t[ze].length)&&T.nextTick(Ze,$t),Gt.call(this,pt,mt),this},Ue.prototype._undestroy=$e.undestroy,Ue.prototype._destroy=function(pt,mt){mt(pt)},Ue.prototype[G.captureRejectionSymbol]=function(pt){this.destroy(pt)};let Dt;function Mt(){return Dt===void 0&&(Dt={}),Dt}return Ue.fromWeb=function(pt,mt){return Mt().newStreamWritableFromWritableStream(pt,mt)},Ue.toWeb=function(pt){return Mt().newWritableStreamFromStreamWritable(pt)},writable$2}var duplexify$2,hasRequiredDuplexify$2;function requireDuplexify$2(){if(hasRequiredDuplexify$2)return duplexify$2;hasRequiredDuplexify$2=1;const T=dist$3,$=dist$5,{isReadable:I,isWritable:N,isIterable:L,isNodeStream:B,isReadableNodeStream:H,isWritableNodeStream:z,isDuplexNodeStream:Q}=utils$H,te=endOfStream$a,{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:ie,ERR_INVALID_RETURN_VALUE:Re}}=errors$e,{destroyer:$e}=destroy$b,Pe=requireDuplex$2(),Me=requireReadable$2(),{createDeferredPromise:Be}=util$h,Ke=from$b,Le=globalThis.Blob||$.Blob,qe=typeof Le<"u"?function(Qe){return Qe instanceof Le}:function(Qe){return!1},He=globalThis.AbortController||requireBrowser$a().AbortController,{FunctionPrototypeCall:Ge}=primordials$8;class at extends Pe{constructor(Qe){super(Qe),(Qe==null?void 0:Qe.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Qe==null?void 0:Qe.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify$2=function nt(Qe,tt){if(Q(Qe))return Qe;if(H(Qe))return Ye({readable:Qe});if(z(Qe))return Ye({writable:Qe});if(B(Qe))return Ye({writable:!1,readable:!1});if(typeof Qe=="function"){const{value:Fe,write:ke,final:Ue,destroy:Je}=ot(Qe);if(L(Fe))return Ke(at,Fe,{objectMode:!0,write:ke,final:Ue,destroy:Je});const rt=Fe==null?void 0:Fe.then;if(typeof rt=="function"){let Xe;const it=Ge(rt,Fe,We=>{if(We!=null)throw new Re("nully","body",We)},We=>{$e(Xe,We)});return Xe=new at({objectMode:!0,readable:!1,write:ke,final(We){Ue(async()=>{try{await it,T.nextTick(We,null)}catch(Ve){T.nextTick(We,Ve)}})},destroy:Je})}throw new Re("Iterable, AsyncIterable or AsyncFunction",tt,Fe)}if(qe(Qe))return nt(Qe.arrayBuffer());if(L(Qe))return Ke(at,Qe,{objectMode:!0,writable:!1});if(typeof(Qe==null?void 0:Qe.writable)=="object"||typeof(Qe==null?void 0:Qe.readable)=="object"){const Fe=Qe!=null&&Qe.readable?H(Qe==null?void 0:Qe.readable)?Qe==null?void 0:Qe.readable:nt(Qe.readable):void 0,ke=Qe!=null&&Qe.writable?z(Qe==null?void 0:Qe.writable)?Qe==null?void 0:Qe.writable:nt(Qe.writable):void 0;return Ye({readable:Fe,writable:ke})}const ze=Qe==null?void 0:Qe.then;if(typeof ze=="function"){let Fe;return Ge(ze,Qe,ke=>{ke!=null&&Fe.push(ke),Fe.push(null)},ke=>{$e(Fe,ke)}),Fe=new at({objectMode:!0,writable:!1,read(){}})}throw new ie(tt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Qe)};function ot(nt){let{promise:Qe,resolve:tt}=Be();const ze=new He,Fe=ze.signal;return{value:nt(async function*(){for(;;){const Ue=Qe;Qe=null;const{chunk:Je,done:rt,cb:Xe}=await Ue;if(T.nextTick(Xe),rt)return;if(Fe.aborted)throw new G(void 0,{cause:Fe.reason});({promise:Qe,resolve:tt}=Be()),yield Je}}(),{signal:Fe}),write(Ue,Je,rt){const Xe=tt;tt=null,Xe({chunk:Ue,done:!1,cb:rt})},final(Ue){const Je=tt;tt=null,Je({done:!0,cb:Ue})},destroy(Ue,Je){ze.abort(),Je(Ue)}}}function Ye(nt){const Qe=nt.readable&&typeof nt.readable.read!="function"?Me.wrap(nt.readable):nt.readable,tt=nt.writable;let ze=!!I(Qe),Fe=!!N(tt),ke,Ue,Je,rt,Xe;function it(We){const Ve=rt;rt=null,Ve?Ve(We):We&&Xe.destroy(We)}return Xe=new at({readableObjectMode:!!(Qe!=null&&Qe.readableObjectMode),writableObjectMode:!!(tt!=null&&tt.writableObjectMode),readable:ze,writable:Fe}),Fe&&(te(tt,We=>{Fe=!1,We&&$e(Qe,We),it(We)}),Xe._write=function(We,Ve,je){tt.write(We,Ve)?je():ke=je},Xe._final=function(We){tt.end(),Ue=We},tt.on("drain",function(){if(ke){const We=ke;ke=null,We()}}),tt.on("finish",function(){if(Ue){const We=Ue;Ue=null,We()}})),ze&&(te(Qe,We=>{ze=!1,We&&$e(Qe,We),it(We)}),Qe.on("readable",function(){if(Je){const We=Je;Je=null,We()}}),Qe.on("end",function(){Xe.push(null)}),Xe._read=function(){for(;;){const We=Qe.read();if(We===null){Je=Xe._read;return}if(!Xe.push(We))return}}),Xe._destroy=function(We,Ve){!We&&rt!==null&&(We=new G),Je=null,ke=null,Ue=null,rt===null?Ve(We):(rt=Ve,$e(tt,We),$e(Qe,We))},Xe}return duplexify$2}var duplex$2,hasRequiredDuplex$2;function requireDuplex$2(){if(hasRequiredDuplex$2)return duplex$2;hasRequiredDuplex$2=1;const{ObjectDefineProperties:T,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:I,ObjectSetPrototypeOf:N}=primordials$8;duplex$2=H;const L=requireReadable$2(),B=requireWritable$2();N(H.prototype,L.prototype),N(H,L);{const G=I(B.prototype);for(let ie=0;ie<G.length;ie++){const Re=G[ie];H.prototype[Re]||(H.prototype[Re]=B.prototype[Re])}}function H(G){if(!(this instanceof H))return new H(G);L.call(this,G),B.call(this,G),G?(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}T(H.prototype,{writable:{__proto__:null,...$(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(B.prototype,"writableLength")},writableFinished:{__proto__:null,...$(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(G){this._readableState&&this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}});let z;function Q(){return z===void 0&&(z={}),z}H.fromWeb=function(G,ie){return Q().newStreamDuplexFromReadableWritablePair(G,ie)},H.toWeb=function(G){return Q().newReadableWritablePairFromDuplex(G)};let te;return H.from=function(G){return te||(te=requireDuplexify$2()),te(G,"body")},duplex$2}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$7,Symbol:Symbol$a}=primordials$8;var transform$6=Transform$a;const{ERR_METHOD_NOT_IMPLEMENTED:ERR_METHOD_NOT_IMPLEMENTED$3}=errors$e.codes,Duplex$9=requireDuplex$2(),{getHighWaterMark:getHighWaterMark$5}=state$c;ObjectSetPrototypeOf$7(Transform$a.prototype,Duplex$9.prototype);ObjectSetPrototypeOf$7(Transform$a,Duplex$9);const kCallback$2=Symbol$a("kCallback");function Transform$a(T){if(!(this instanceof Transform$a))return new Transform$a(T);const $=T?getHighWaterMark$5(this,T,"readableHighWaterMark",!0):null;$===0&&(T={...T,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:T.writableHighWaterMark||0}),Duplex$9.call(this,T),this._readableState.sync=!1,this[kCallback$2]=null,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",prefinish$3)}function final$2(T){typeof this._flush=="function"&&!this.destroyed?this._flush(($,I)=>{if($){T?T($):this.destroy($);return}I!=null&&this.push(I),this.push(null),T&&T()}):(this.push(null),T&&T())}function prefinish$3(){this._final!==final$2&&final$2.call(this)}Transform$a.prototype._final=final$2;Transform$a.prototype._transform=function(T,$,I){throw new ERR_METHOD_NOT_IMPLEMENTED$3("_transform()")};Transform$a.prototype._write=function(T,$,I){const N=this._readableState,L=this._writableState,B=N.length;this._transform(T,$,(H,z)=>{if(H){I(H);return}z!=null&&this.push(z),L.ended||B===N.length||N.length<N.highWaterMark?I():this[kCallback$2]=I})};Transform$a.prototype._read=function(){if(this[kCallback$2]){const T=this[kCallback$2];this[kCallback$2]=null,T()}};const transform$7=getDefaultExportFromCjs$1(transform$6),transform$8=_mergeNamespaces({__proto__:null,default:transform$7},[transform$6]),{ObjectSetPrototypeOf:ObjectSetPrototypeOf$6}=primordials$8;var passthrough$6=PassThrough$6;const Transform$9=transform$8;ObjectSetPrototypeOf$6(PassThrough$6.prototype,Transform$9.prototype);ObjectSetPrototypeOf$6(PassThrough$6,Transform$9);function PassThrough$6(T){if(!(this instanceof PassThrough$6))return new PassThrough$6(T);Transform$9.call(this,T)}PassThrough$6.prototype._transform=function(T,$,I){I(null,T)};const passthrough$7=getDefaultExportFromCjs$1(passthrough$6),passthrough$8=_mergeNamespaces({__proto__:null,default:passthrough$7},[passthrough$6]),process$8=dist$3,{ArrayIsArray:ArrayIsArray$6,Promise:Promise$8,SymbolAsyncIterator:SymbolAsyncIterator$6}=primordials$8,eos$9=endOfStream$a,{once:once$6}=util$h,destroyImpl$2=destroy$b,Duplex$8=requireDuplex$2(),{aggregateTwoErrors:aggregateTwoErrors$6,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$c,ERR_INVALID_RETURN_VALUE:ERR_INVALID_RETURN_VALUE$2,ERR_MISSING_ARGS:ERR_MISSING_ARGS$9,ERR_STREAM_DESTROYED:ERR_STREAM_DESTROYED$3,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$5},AbortError:AbortError$f}=errors$e,{validateFunction:validateFunction$8,validateAbortSignal:validateAbortSignal$9}=validators$8,{isIterable:isIterable$4,isReadable:isReadable$9,isReadableNodeStream:isReadableNodeStream$6,isNodeStream:isNodeStream$c,isTransformStream:isTransformStream$7,isWebStream:isWebStream$7,isReadableStream:isReadableStream$9,isReadableEnded:isReadableEnded$4}=utils$H,AbortController$6=globalThis.AbortController||requireBrowser$a().AbortController;let PassThrough$5,Readable$2;function destroyer$8(T,$,I){let N=!1;T.on("close",()=>{N=!0});const L=eos$9(T,{readable:$,writable:I},B=>{N=!B});return{destroy:B=>{N||(N=!0,destroyImpl$2.destroyer(T,B||new ERR_STREAM_DESTROYED$3("pipe")))},cleanup:L}}function popCallback$3(T){return validateFunction$8(T[T.length-1],"streams[stream.length - 1]"),T.pop()}function makeAsyncIterable$2(T){if(isIterable$4(T))return T;if(isReadableNodeStream$6(T))return fromReadable$2(T);throw new ERR_INVALID_ARG_TYPE$c("val",["Readable","Iterable","AsyncIterable"],T)}async function*fromReadable$2(T){Readable$2||(Readable$2=requireReadable$2()),yield*Readable$2.prototype[SymbolAsyncIterator$6].call(T)}async function pumpToNode$2(T,$,I,{end:N}){let L,B=null;const H=te=>{if(te&&(L=te),B){const G=B;B=null,G()}},z=()=>new Promise$8((te,G)=>{L?G(L):B=()=>{L?G(L):te()}});$.on("drain",H);const Q=eos$9($,{readable:!1},H);try{$.writableNeedDrain&&await z();for await(const te of T)$.write(te)||await z();N&&$.end(),await z(),I()}catch(te){I(L!==te?aggregateTwoErrors$6(L,te):te)}finally{Q(),$.off("drain",H)}}async function pumpToWeb$2(T,$,I,{end:N}){isTransformStream$7($)&&($=$.writable);const L=$.getWriter();try{for await(const B of T)await L.ready,L.write(B).catch(()=>{});await L.ready,N&&await L.close(),I()}catch(B){try{await L.abort(B),I(B)}catch(H){I(H)}}}function pipeline$c(...T){return pipelineImpl$2(T,once$6(popCallback$3(T)))}function pipelineImpl$2(T,$,I){if(T.length===1&&ArrayIsArray$6(T[0])&&(T=T[0]),T.length<2)throw new ERR_MISSING_ARGS$9("streams");const N=new AbortController$6,L=N.signal,B=I==null?void 0:I.signal,H=[];validateAbortSignal$9(B,"options.signal");function z(){$e(new AbortError$f)}B==null||B.addEventListener("abort",z);let Q,te;const G=[];let ie=0;function Re(Ke){$e(Ke,--ie===0)}function $e(Ke,Le){if(Ke&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=Ke),!(!Q&&!Le)){for(;G.length;)G.shift()(Q);B==null||B.removeEventListener("abort",z),N.abort(),Le&&(Q||H.forEach(qe=>qe()),process$8.nextTick($,Q,te))}}let Pe;for(let Ke=0;Ke<T.length;Ke++){const Le=T[Ke],qe=Ke<T.length-1,He=Ke>0,Ge=qe||(I==null?void 0:I.end)!==!1,at=Ke===T.length-1;if(isNodeStream$c(Le)){let ot=function(Ye){Ye&&Ye.name!=="AbortError"&&Ye.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Re(Ye)};if(Ge){const{destroy:Ye,cleanup:nt}=destroyer$8(Le,qe,He);G.push(Ye),isReadable$9(Le)&&at&&H.push(nt)}Le.on("error",ot),isReadable$9(Le)&&at&&H.push(()=>{Le.removeListener("error",ot)})}if(Ke===0)if(typeof Le=="function"){if(Pe=Le({signal:L}),!isIterable$4(Pe))throw new ERR_INVALID_RETURN_VALUE$2("Iterable, AsyncIterable or Stream","source",Pe)}else isIterable$4(Le)||isReadableNodeStream$6(Le)||isTransformStream$7(Le)?Pe=Le:Pe=Duplex$8.from(Le);else if(typeof Le=="function"){if(isTransformStream$7(Pe)){var Me;Pe=makeAsyncIterable$2((Me=Pe)===null||Me===void 0?void 0:Me.readable)}else Pe=makeAsyncIterable$2(Pe);if(Pe=Le(Pe,{signal:L}),qe){if(!isIterable$4(Pe,!0))throw new ERR_INVALID_RETURN_VALUE$2("AsyncIterable",`transform[${Ke-1}]`,Pe)}else{var Be;PassThrough$5||(PassThrough$5=passthrough$8);const ot=new PassThrough$5({objectMode:!0}),Ye=(Be=Pe)===null||Be===void 0?void 0:Be.then;if(typeof Ye=="function")ie++,Ye.call(Pe,tt=>{te=tt,tt!=null&&ot.write(tt),Ge&&ot.end(),process$8.nextTick(Re)},tt=>{ot.destroy(tt),process$8.nextTick(Re,tt)});else if(isIterable$4(Pe,!0))ie++,pumpToNode$2(Pe,ot,Re,{end:Ge});else if(isReadableStream$9(Pe)||isTransformStream$7(Pe)){const tt=Pe.readable||Pe;ie++,pumpToNode$2(tt,ot,Re,{end:Ge})}else throw new ERR_INVALID_RETURN_VALUE$2("AsyncIterable or Promise","destination",Pe);Pe=ot;const{destroy:nt,cleanup:Qe}=destroyer$8(Pe,!1,!0);G.push(nt),at&&H.push(Qe)}}else if(isNodeStream$c(Le)){if(isReadableNodeStream$6(Pe)){ie+=2;const ot=pipe$3(Pe,Le,Re,{end:Ge});isReadable$9(Le)&&at&&H.push(ot)}else if(isTransformStream$7(Pe)||isReadableStream$9(Pe)){const ot=Pe.readable||Pe;ie++,pumpToNode$2(ot,Le,Re,{end:Ge})}else if(isIterable$4(Pe))ie++,pumpToNode$2(Pe,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else if(isWebStream$7(Le)){if(isReadableNodeStream$6(Pe))ie++,pumpToWeb$2(makeAsyncIterable$2(Pe),Le,Re,{end:Ge});else if(isReadableStream$9(Pe)||isIterable$4(Pe))ie++,pumpToWeb$2(Pe,Le,Re,{end:Ge});else if(isTransformStream$7(Pe))ie++,pumpToWeb$2(Pe.readable,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else Pe=Duplex$8.from(Le)}return(L!=null&&L.aborted||B!=null&&B.aborted)&&process$8.nextTick(z),Pe}function pipe$3(T,$,I,{end:N}){let L=!1;if($.on("close",()=>{L||I(new ERR_STREAM_PREMATURE_CLOSE$5)}),T.pipe($,{end:!1}),N){let B=function(){L=!0,$.end()};isReadableEnded$4(T)?process$8.nextTick(B):T.once("end",B)}else I();return eos$9(T,{readable:!0,writable:!1},B=>{const H=T._readableState;B&&B.code==="ERR_STREAM_PREMATURE_CLOSE"&&H&&H.ended&&!H.errored&&!H.errorEmitted?T.once("end",I).once("error",I):I(B)}),eos$9($,{readable:!1,writable:!0},I)}var pipeline_1$3={pipelineImpl:pipelineImpl$2,pipeline:pipeline$c};const pipeline$d=getDefaultExportFromCjs$1(pipeline_1$3),pipeline$e=_mergeNamespaces({__proto__:null,default:pipeline$d},[pipeline_1$3]),{pipeline:pipeline$b}=pipeline$e,Duplex$7=requireDuplex$2(),{destroyer:destroyer$7}=destroy$b,{isNodeStream:isNodeStream$b,isReadable:isReadable$8,isWritable:isWritable$9,isWebStream:isWebStream$6,isTransformStream:isTransformStream$6,isWritableStream:isWritableStream$6,isReadableStream:isReadableStream$8}=utils$H,{AbortError:AbortError$e,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$9,ERR_MISSING_ARGS:ERR_MISSING_ARGS$8}}=errors$e,eos$8=endOfStream$a;var compose$9=function(...$){if($.length===0)throw new ERR_MISSING_ARGS$8("streams");if($.length===1)return Duplex$7.from($[0]);const I=[...$];if(typeof $[0]=="function"&&($[0]=Duplex$7.from($[0])),typeof $[$.length-1]=="function"){const $e=$.length-1;$[$e]=Duplex$7.from($[$e])}for(let $e=0;$e<$.length;++$e)if(!(!isNodeStream$b($[$e])&&!isWebStream$6($[$e]))){if($e<$.length-1&&!(isReadable$8($[$e])||isReadableStream$8($[$e])||isTransformStream$6($[$e])))throw new ERR_INVALID_ARG_VALUE$9(`streams[${$e}]`,I[$e],"must be readable");if($e>0&&!(isWritable$9($[$e])||isWritableStream$6($[$e])||isTransformStream$6($[$e])))throw new ERR_INVALID_ARG_VALUE$9(`streams[${$e}]`,I[$e],"must be writable")}let N,L,B,H,z;function Q($e){const Pe=H;H=null,Pe?Pe($e):$e?z.destroy($e):!Re&&!ie&&z.destroy()}const te=$[0],G=pipeline$b($,Q),ie=!!(isWritable$9(te)||isWritableStream$6(te)||isTransformStream$6(te)),Re=!!(isReadable$8(G)||isReadableStream$8(G)||isTransformStream$6(G));if(z=new Duplex$7({writableObjectMode:!!(te!=null&&te.writableObjectMode),readableObjectMode:!!(G!=null&&G.writableObjectMode),writable:ie,readable:Re}),ie){if(isNodeStream$b(te))z._write=function(Pe,Me,Be){te.write(Pe,Me)?Be():N=Be},z._final=function(Pe){te.end(),L=Pe},te.on("drain",function(){if(N){const Pe=N;N=null,Pe()}});else if(isWebStream$6(te)){const Me=(isTransformStream$6(te)?te.writable:te).getWriter();z._write=async function(Be,Ke,Le){try{await Me.ready,Me.write(Be).catch(()=>{}),Le()}catch(qe){Le(qe)}},z._final=async function(Be){try{await Me.ready,Me.close().catch(()=>{}),L=Be}catch(Ke){Be(Ke)}}}const $e=isTransformStream$6(G)?G.readable:G;eos$8($e,()=>{if(L){const Pe=L;L=null,Pe()}})}if(Re){if(isNodeStream$b(G))G.on("readable",function(){if(B){const $e=B;B=null,$e()}}),G.on("end",function(){z.push(null)}),z._read=function(){for(;;){const $e=G.read();if($e===null){B=z._read;return}if(!z.push($e))return}};else if(isWebStream$6(G)){const Pe=(isTransformStream$6(G)?G.readable:G).getReader();z._read=async function(){for(;;)try{const{value:Me,done:Be}=await Pe.read();if(!z.push(Me))return;if(Be){z.push(null);return}}catch{return}}}}return z._destroy=function($e,Pe){!$e&&H!==null&&($e=new AbortError$e),B=null,N=null,L=null,H===null?Pe($e):(H=Pe,isNodeStream$b(G)&&destroyer$7(G,$e))},z};const compose$a=getDefaultExportFromCjs$1(compose$9),compose$b=_mergeNamespaces({__proto__:null,default:compose$a},[compose$9]),AbortController$5=globalThis.AbortController||requireBrowser$a().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$8,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$b,ERR_MISSING_ARGS:ERR_MISSING_ARGS$7,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$4},AbortError:AbortError$d}=errors$e,{validateAbortSignal:validateAbortSignal$8,validateInteger:validateInteger$4,validateObject:validateObject$6}=validators$8,kWeakHandler$2=primordials$8.Symbol("kWeak"),{finished:finished$4}=endOfStream$a,staticCompose$2=compose$b,{addAbortSignalNoValidate:addAbortSignalNoValidate$2}=addAbortSignal$7,{isWritable:isWritable$8,isNodeStream:isNodeStream$a}=utils$H,{ArrayPrototypePush:ArrayPrototypePush$2,MathFloor:MathFloor$4,Number:Number$3,NumberIsNaN:NumberIsNaN$4,Promise:Promise$7,PromiseReject:PromiseReject$2,PromisePrototypeThen:PromisePrototypeThen$6,Symbol:Symbol$9}=primordials$8,kEmpty$2=Symbol$9("kEmpty"),kEof$2=Symbol$9("kEof");function compose$8(T,$){if($!=null&&validateObject$6($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$8($.signal,"options.signal"),isNodeStream$a(T)&&!isWritable$8(T))throw new ERR_INVALID_ARG_VALUE$8("stream",T,"must be writable");const I=staticCompose$2(this,T);return $!=null&&$.signal&&addAbortSignalNoValidate$2($.signal,I),I}function map$2(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$b("fn",["Function","AsyncFunction"],T);$!=null&&validateObject$6($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$8($.signal,"options.signal");let I=1;return($==null?void 0:$.concurrency)!=null&&(I=MathFloor$4($.concurrency)),validateInteger$4(I,"concurrency",1),(async function*(){var L,B;const H=new AbortController$5,z=this,Q=[],te=H.signal,G={signal:te},ie=()=>H.abort();$!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted&&ie(),$==null||(B=$.signal)===null||B===void 0||B.addEventListener("abort",ie);let Re,$e,Pe=!1;function Me(){Pe=!0}async function Be(){try{for await(let qe of z){var Ke;if(Pe)return;if(te.aborted)throw new AbortError$d;try{qe=T(qe,G)}catch(He){qe=PromiseReject$2(He)}qe!==kEmpty$2&&(typeof((Ke=qe)===null||Ke===void 0?void 0:Ke.catch)=="function"&&qe.catch(Me),Q.push(qe),Re&&(Re(),Re=null),!Pe&&Q.length&&Q.length>=I&&await new Promise$7(He=>{$e=He}))}Q.push(kEof$2)}catch(qe){const He=PromiseReject$2(qe);PromisePrototypeThen$6(He,void 0,Me),Q.push(He)}finally{var Le;Pe=!0,Re&&(Re(),Re=null),$==null||(Le=$.signal)===null||Le===void 0||Le.removeEventListener("abort",ie)}}Be();try{for(;;){for(;Q.length>0;){const Ke=await Q[0];if(Ke===kEof$2)return;if(te.aborted)throw new AbortError$d;Ke!==kEmpty$2&&(yield Ke),Q.shift(),$e&&($e(),$e=null)}await new Promise$7(Ke=>{Re=Ke})}}finally{H.abort(),Pe=!0,$e&&($e(),$e=null)}}).call(this)}function asIndexedPairs$2(T=void 0){return T!=null&&validateObject$6(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$8(T.signal,"options.signal"),(async function*(){let I=0;for await(const L of this){var N;if(T!=null&&(N=T.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$d({cause:T.signal.reason});yield[I++,L]}}).call(this)}async function some$2(T,$=void 0){for await(const I of filter$2.call(this,T,$))return!0;return!1}async function every$2(T,$=void 0){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$b("fn",["Function","AsyncFunction"],T);return!await some$2.call(this,async(...I)=>!await T(...I),$)}async function find$2(T,$){for await(const I of filter$2.call(this,T,$))return I}async function forEach$6(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$b("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L),kEmpty$2}for await(const N of map$2.call(this,I,$));}function filter$2(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$b("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L)?N:kEmpty$2}return map$2.call(this,I,$)}let ReduceAwareErrMissingArgs$2=class extends ERR_MISSING_ARGS$7{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function reduce$2(T,$,I){var N;if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$b("reducer",["Function","AsyncFunction"],T);I!=null&&validateObject$6(I,"options"),(I==null?void 0:I.signal)!=null&&validateAbortSignal$8(I.signal,"options.signal");let L=arguments.length>1;if(I!=null&&(N=I.signal)!==null&&N!==void 0&&N.aborted){const te=new AbortError$d(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await finished$4(this.destroy(te)),te}const B=new AbortController$5,H=B.signal;if(I!=null&&I.signal){const te={once:!0,[kWeakHandler$2]:this};I.signal.addEventListener("abort",()=>B.abort(),te)}let z=!1;try{for await(const te of this){var Q;if(z=!0,I!=null&&(Q=I.signal)!==null&&Q!==void 0&&Q.aborted)throw new AbortError$d;L?$=await T($,te,{signal:H}):($=te,L=!0)}if(!z&&!L)throw new ReduceAwareErrMissingArgs$2}finally{B.abort()}return $}async function toArray$3(T){T!=null&&validateObject$6(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$8(T.signal,"options.signal");const $=[];for await(const N of this){var I;if(T!=null&&(I=T.signal)!==null&&I!==void 0&&I.aborted)throw new AbortError$d(void 0,{cause:T.signal.reason});ArrayPrototypePush$2($,N)}return $}function flatMap$2(T,$){const I=map$2.call(this,T,$);return(async function*(){for await(const L of I)yield*L}).call(this)}function toIntegerOrInfinity$2(T){if(T=Number$3(T),NumberIsNaN$4(T))return 0;if(T<0)throw new ERR_OUT_OF_RANGE$4("number",">= 0",T);return T}function drop$2(T,$=void 0){return $!=null&&validateObject$6($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$8($.signal,"options.signal"),T=toIntegerOrInfinity$2(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$d;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$d;T--<=0&&(yield B)}}).call(this)}function take$2(T,$=void 0){return $!=null&&validateObject$6($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$8($.signal,"options.signal"),T=toIntegerOrInfinity$2(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$d;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$d;if(T-- >0)yield B;else return}}).call(this)}var streamReturningOperators$2=operators$5.streamReturningOperators={asIndexedPairs:asIndexedPairs$2,drop:drop$2,filter:filter$2,flatMap:flatMap$2,map:map$2,take:take$2,compose:compose$8},promiseReturningOperators$2=operators$5.promiseReturningOperators={every:every$2,forEach:forEach$6,reduce:reduce$2,toArray:toArray$3,some:some$2,find:find$2};const operators$4=_mergeNamespaces({__proto__:null,default:operators$5,promiseReturningOperators:promiseReturningOperators$2,streamReturningOperators:streamReturningOperators$2},[operators$5]);var promises$2,hasRequiredPromises$2;function requirePromises$2(){if(hasRequiredPromises$2)return promises$2;hasRequiredPromises$2=1;const{ArrayPrototypePop:T,Promise:$}=primordials$8,{isIterable:I,isNodeStream:N,isWebStream:L}=utils$H,{pipelineImpl:B}=pipeline$e,{finished:H}=endOfStream$a;requireStream$2();function z(...Q){return new $((te,G)=>{let ie,Re;const $e=Q[Q.length-1];if($e&&typeof $e=="object"&&!N($e)&&!I($e)&&!L($e)){const Pe=T(Q);ie=Pe.signal,Re=Pe.end}B(Q,(Pe,Me)=>{Pe?G(Pe):te(Me)},{signal:ie,end:Re})})}return promises$2={finished:H,pipeline:z},promises$2}var hasRequiredStream$2;function requireStream$2(){if(hasRequiredStream$2)return stream$2.exports;hasRequiredStream$2=1;const{Buffer:T}=dist$5,{ObjectDefineProperty:$,ObjectKeys:I,ReflectApply:N}=primordials$8,{promisify:{custom:L}}=util$h,{streamReturningOperators:B,promiseReturningOperators:H}=operators$4,{codes:{ERR_ILLEGAL_CONSTRUCTOR:z}}=errors$e,Q=compose$b,{pipeline:te}=pipeline$e,{destroyer:G}=destroy$b,ie=endOfStream$a,Re=requirePromises$2(),$e=utils$H,Pe=stream$2.exports=legacy$9.Stream;Pe.isDisturbed=$e.isDisturbed,Pe.isErrored=$e.isErrored,Pe.isReadable=$e.isReadable,Pe.Readable=requireReadable$2();for(const Be of I(B)){let Ke=function(...qe){if(new.target)throw z();return Pe.Readable.from(N(Le,this,qe))};const Le=B[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}for(const Be of I(H)){let Ke=function(...qe){if(new.target)throw z();return N(Le,this,qe)};const Le=H[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}Pe.Writable=requireWritable$2(),Pe.Duplex=requireDuplex$2(),Pe.Transform=transform$8,Pe.PassThrough=passthrough$8,Pe.pipeline=te;const{addAbortSignal:Me}=addAbortSignal$7;return Pe.addAbortSignal=Me,Pe.finished=ie,Pe.destroy=G,Pe.compose=Q,$(Pe,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Re}}),$(te,L,{__proto__:null,enumerable:!0,get(){return Re.pipeline}}),$(ie,L,{__proto__:null,enumerable:!0,get(){return Re.finished}}),Pe.Stream=Pe,Pe._isUint8Array=function(Ke){return Ke instanceof Uint8Array},Pe._uint8ArrayToBuffer=function(Ke){return T.from(Ke.buffer,Ke.byteOffset,Ke.byteLength)},stream$2.exports}(function(T){const $=requireStream$2(),I=requirePromises$2(),N=$.Readable.destroy;T.exports=$.Readable,T.exports._uint8ArrayToBuffer=$._uint8ArrayToBuffer,T.exports._isUint8Array=$._isUint8Array,T.exports.isDisturbed=$.isDisturbed,T.exports.isErrored=$.isErrored,T.exports.isReadable=$.isReadable,T.exports.Readable=$.Readable,T.exports.Writable=$.Writable,T.exports.Duplex=$.Duplex,T.exports.Transform=$.Transform,T.exports.PassThrough=$.PassThrough,T.exports.addAbortSignal=$.addAbortSignal,T.exports.finished=$.finished,T.exports.destroy=$.destroy,T.exports.destroy=N,T.exports.pipeline=$.pipeline,T.exports.compose=$.compose,Object.defineProperty($,"promises",{configurable:!0,enumerable:!0,get(){return I}}),T.exports.Stream=$.Stream,T.exports.default=T.exports})(browser$j);function isBytes$2(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}function bytes$1(T,...$){if(!isBytes$2(T))throw new Error("Uint8Array expected");if($.length>0&&!$.includes(T.length))throw new Error(`Uint8Array expected of length ${$}, not of length=${T.length}`)}function exists$1(T,$=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if($&&T.finished)throw new Error("Hash#digest() has already been called")}function output$1(T,$){bytes$1(T);const I=$.outputLen;if(T.length<I)throw new Error(`digestInto() expects output buffer of length at least ${I}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView=T=>new DataView(T.buffer,T.byteOffset,T.byteLength),rotr=(T,$)=>T<<32-$|T>>>$;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$1(T){if(typeof T!="string")throw new Error(`utf8ToBytes expected string, got ${typeof T}`);return new Uint8Array(new TextEncoder().encode(T))}function toBytes$1(T){return typeof T=="string"&&(T=utf8ToBytes$1(T)),bytes$1(T),T}let Hash$8=class{clone(){return this._cloneInto()}};function wrapConstructor(T){const $=N=>T().update(toBytes$1(N)).digest(),I=T();return $.outputLen=I.outputLen,$.blockLen=I.blockLen,$.create=()=>T(),$}function randomBytes$1(T=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(T));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(T,$,I,N){if(typeof T.setBigUint64=="function")return T.setBigUint64($,I,N);const L=BigInt(32),B=BigInt(4294967295),H=Number(I>>L&B),z=Number(I&B),Q=N?4:0,te=N?0:4;T.setUint32($+Q,H,N),T.setUint32($+te,z,N)}const Chi=(T,$,I)=>T&$^~T&I,Maj=(T,$,I)=>T&$^T&I^$&I;class HashMD extends Hash$8{constructor($,I,N,L){super(),this.blockLen=$,this.outputLen=I,this.padOffset=N,this.isLE=L,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=createView(this.buffer)}update($){exists$1(this);const{view:I,buffer:N,blockLen:L}=this;$=toBytes$1($);const B=$.length;for(let H=0;H<B;){const z=Math.min(L-this.pos,B-H);if(z===L){const Q=createView($);for(;L<=B-H;H+=L)this.process(Q,H);continue}N.set($.subarray(H,H+z),this.pos),this.pos+=z,H+=z,this.pos===L&&(this.process(I,0),this.pos=0)}return this.length+=$.length,this.roundClean(),this}digestInto($){exists$1(this),output$1($,this),this.finished=!0;const{buffer:I,view:N,blockLen:L,isLE:B}=this;let{pos:H}=this;I[H++]=128,this.buffer.subarray(H).fill(0),this.padOffset>L-H&&(this.process(N,0),H=0);for(let ie=H;ie<L;ie++)I[ie]=0;setBigUint64(N,L-8,BigInt(this.length*8),B),this.process(N,0);const z=createView($),Q=this.outputLen;if(Q%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const te=Q/4,G=this.get();if(te>G.length)throw new Error("_sha2: outputLen bigger than state");for(let ie=0;ie<te;ie++)z.setUint32(4*ie,G[ie],B)}digest(){const{buffer:$,outputLen:I}=this;this.digestInto($);const N=$.slice(0,I);return this.destroy(),N}_cloneInto($){$||($=new this.constructor),$.set(...this.get());const{blockLen:I,buffer:N,length:L,finished:B,destroyed:H,pos:z}=this;return $.length=L,$.pos=z,$.finished=B,$.destroyed=H,L%I&&$.buffer.set(N),$}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);let SHA256$2=class extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:$,B:I,C:N,D:L,E:B,F:H,G:z,H:Q}=this;return[$,I,N,L,B,H,z,Q]}set($,I,N,L,B,H,z,Q){this.A=$|0,this.B=I|0,this.C=N|0,this.D=L|0,this.E=B|0,this.F=H|0,this.G=z|0,this.H=Q|0}process($,I){for(let ie=0;ie<16;ie++,I+=4)SHA256_W[ie]=$.getUint32(I,!1);for(let ie=16;ie<64;ie++){const Re=SHA256_W[ie-15],$e=SHA256_W[ie-2],Pe=rotr(Re,7)^rotr(Re,18)^Re>>>3,Me=rotr($e,17)^rotr($e,19)^$e>>>10;SHA256_W[ie]=Me+SHA256_W[ie-7]+Pe+SHA256_W[ie-16]|0}let{A:N,B:L,C:B,D:H,E:z,F:Q,G:te,H:G}=this;for(let ie=0;ie<64;ie++){const Re=rotr(z,6)^rotr(z,11)^rotr(z,25),$e=G+Re+Chi(z,Q,te)+SHA256_K[ie]+SHA256_W[ie]|0,Me=(rotr(N,2)^rotr(N,13)^rotr(N,22))+Maj(N,L,B)|0;G=te,te=Q,Q=z,z=H+$e|0,H=B,B=L,L=N,N=$e+Me|0}N=N+this.A|0,L=L+this.B|0,B=B+this.C|0,H=H+this.D|0,z=z+this.E|0,Q=Q+this.F|0,te=te+this.G|0,G=G+this.H|0,this.set(N,L,B,H,z,Q,te,G)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$6=wrapConstructor(()=>new SHA256$2);var __awaiter$P=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let Sha256$4=class{static digest($){return __awaiter$P(this,arguments,void 0,function*({data:I}){return sha256$6(I)})}},CryptoAlgorithm$2=class{};var __awaiter$O=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let Sha2Algorithm$2=class extends CryptoAlgorithm$2{digest($){return __awaiter$O(this,arguments,void 0,function*({algorithm:I,data:N}){switch(I){case"SHA-256":return yield Sha256$4.digest({data:N})}})}};function canonicalize$4(T){const $=N=>{if(N!==null&&typeof N=="object"&&!Array.isArray(N)){const L=Object.keys(N).sort(),B={};for(const H of L)B[H]=$(N[H]);return B}return N},I=$(T);return JSON.stringify(I)}var __awaiter$N=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};const KEY_URI_PREFIX_JWK$2="urn:jwk:";function computeJwkThumbprint$2(T){return __awaiter$N(this,arguments,void 0,function*({jwk:$}){const I=$.kty;let N;if(I==="EC")N={crv:$.crv,kty:$.kty,x:$.x,y:$.y};else if(I==="oct")N={k:$.k,kty:$.kty};else if(I==="OKP")N={crv:$.crv,kty:$.kty,x:$.x};else if(I==="RSA")N={e:$.e,kty:$.kty,n:$.n};else throw new Error(`Unsupported key type: ${I}`);removeUndefinedProperties$2(N);const L=canonicalize$4(N),B=Convert$3.string(L).toUint8Array(),H=yield Sha256$4.digest({data:B});return Convert$3.uint8Array(H).toBase64Url()})}function isEcPrivateJwk$2(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="EC"||typeof T.d!="string"||typeof T.x!="string")}function isEcPublicJwk$2(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T)||"d"in T||T.kty!=="EC"||typeof T.x!="string")}function isOkpPrivateJwk$2(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="OKP"||typeof T.d!="string"||typeof T.x!="string")}function isOkpPublicJwk$2(T){return!(!T||typeof T!="object"||"d"in T||!("kty"in T&&"crv"in T&&"x"in T)||T.kty!=="OKP"||typeof T.x!="string")}function isPrivateJwk$2(T){if(!T||typeof T!="object")return!1;switch(T.kty){case"EC":case"OKP":case"RSA":return"d"in T;case"oct":return"k"in T;default:return!1}}var __awaiter$M=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$d=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Secp256k1$2=class ho{static adjustSignatureToLowS($){return __awaiter$M(this,arguments,void 0,function*({signature:I}){const N=secp256k1$1.Signature.fromCompact(I);return N.hasHighS()?N.normalizeS().toCompactRawBytes():I})}static bytesToPrivateKey($){return __awaiter$M(this,arguments,void 0,function*({privateKeyBytes:I}){const N=yield ho.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"secp256k1",d:Convert$3.uint8Array(I).toBase64Url(),x:Convert$3.uint8Array(N.x).toBase64Url(),y:Convert$3.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$2({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$M(this,arguments,void 0,function*({publicKeyBytes:I}){const N=yield ho.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"secp256k1",x:Convert$3.uint8Array(N.x).toBase64Url(),y:Convert$3.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$2({jwk:L}),L})}static compressPublicKey($){return __awaiter$M(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256k1$1.ProjectivePoint.fromHex(I).toRawBytes(!0)})}static computePublicKey($){return __awaiter$M(this,arguments,void 0,function*({key:I}){const N=yield ho.privateKeyToBytes({privateKey:I}),L=yield ho.getCurvePoint({keyBytes:N}),B={kty:"EC",crv:"secp256k1",x:Convert$3.uint8Array(L.x).toBase64Url(),y:Convert$3.uint8Array(L.y).toBase64Url()};return B.kid=yield computeJwkThumbprint$2({jwk:B}),B})}static convertDerToCompactSignature($){return __awaiter$M(this,arguments,void 0,function*({derSignature:I}){return secp256k1$1.Signature.fromDER(I).toCompactRawBytes()})}static decompressPublicKey($){return __awaiter$M(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256k1$1.ProjectivePoint.fromHex(I).toRawBytes(!1)})}static generateKey(){return __awaiter$M(this,void 0,void 0,function*(){const $=secp256k1$1.utils.randomPrivateKey(),I=yield ho.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$2({jwk:I}),I})}static getPublicKey($){return __awaiter$M(this,arguments,void 0,function*({key:I}){var N;if(!(isEcPrivateJwk$2(I)&&I.crv==="secp256k1"))throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let{d:L}=I,B=__rest$d(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$2({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$M(this,arguments,void 0,function*({privateKey:I}){if(!isEcPrivateJwk$2(I))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Convert$3.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$M(this,arguments,void 0,function*({publicKey:I}){if(!(isEcPublicJwk$2(I)&&I.y))throw new Error("Secp256k1: The provided key is not a valid EC public key.");const N=new Uint8Array([4]),L=Convert$3.base64Url(I.x).toUint8Array(),B=Convert$3.base64Url(I.y).toUint8Array();return new Uint8Array([...N,...L,...B])})}static sharedSecret($){return __awaiter$M(this,arguments,void 0,function*({privateKeyA:I,publicKeyB:N}){if("x"in I&&"x"in N&&I.x===N.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const L=yield ho.privateKeyToBytes({privateKey:I}),B=yield ho.publicKeyToBytes({publicKey:N});return secp256k1$1.getSharedSecret(L,B,!0).slice(1)})}static sign($){return __awaiter$M(this,arguments,void 0,function*({data:I,key:N}){const L=yield ho.privateKeyToBytes({privateKey:N}),B=sha256$6(I);return secp256k1$1.sign(B,L).toCompactRawBytes()})}static validatePrivateKey($){return __awaiter$M(this,arguments,void 0,function*({privateKeyBytes:I}){return secp256k1$1.utils.isValidPrivateKey(I)})}static validatePublicKey($){return __awaiter$M(this,arguments,void 0,function*({publicKeyBytes:I}){try{secp256k1$1.ProjectivePoint.fromHex(I).assertValidity()}catch{return!1}return!0})}static verify($){return __awaiter$M(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=yield ho.publicKeyToBytes({publicKey:I}),H=sha256$6(L);return secp256k1$1.verify(N,H,B,{lowS:!1})})}static getCurvePoint($){return __awaiter$M(this,arguments,void 0,function*({keyBytes:I}){I.byteLength===32&&(I=secp256k1$1.getPublicKey(I));const N=secp256k1$1.ProjectivePoint.fromHex(I),L=numberToBytesBE(N.x,32),B=numberToBytesBE(N.y,32);return{x:L,y:B}})}};var __awaiter$L=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$c=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Secp256r1$2=class mo{static adjustSignatureToLowS($){return __awaiter$L(this,arguments,void 0,function*({signature:I}){const N=secp256r1.Signature.fromCompact(I);return N.hasHighS()?N.normalizeS().toCompactRawBytes():I})}static bytesToPrivateKey($){return __awaiter$L(this,arguments,void 0,function*({privateKeyBytes:I}){const N=yield mo.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"P-256",d:Convert$3.uint8Array(I).toBase64Url(),x:Convert$3.uint8Array(N.x).toBase64Url(),y:Convert$3.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$2({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$L(this,arguments,void 0,function*({publicKeyBytes:I}){const N=yield mo.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"P-256",x:Convert$3.uint8Array(N.x).toBase64Url(),y:Convert$3.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$2({jwk:L}),L})}static compressPublicKey($){return __awaiter$L(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256r1.ProjectivePoint.fromHex(I).toRawBytes(!0)})}static computePublicKey($){return __awaiter$L(this,arguments,void 0,function*({key:I}){const N=yield mo.privateKeyToBytes({privateKey:I}),L=yield mo.getCurvePoint({keyBytes:N}),B={kty:"EC",crv:"P-256",x:Convert$3.uint8Array(L.x).toBase64Url(),y:Convert$3.uint8Array(L.y).toBase64Url()};return B.kid=yield computeJwkThumbprint$2({jwk:B}),B})}static convertDerToCompactSignature($){return __awaiter$L(this,arguments,void 0,function*({derSignature:I}){return secp256r1.Signature.fromDER(I).toCompactRawBytes()})}static decompressPublicKey($){return __awaiter$L(this,arguments,void 0,function*({publicKeyBytes:I}){return secp256r1.ProjectivePoint.fromHex(I).toRawBytes(!1)})}static generateKey(){return __awaiter$L(this,void 0,void 0,function*(){const $=secp256r1.utils.randomPrivateKey(),I=yield mo.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$2({jwk:I}),I})}static getPublicKey($){return __awaiter$L(this,arguments,void 0,function*({key:I}){var N;if(!(isEcPrivateJwk$2(I)&&I.crv==="P-256"))throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let{d:L}=I,B=__rest$c(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$2({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$L(this,arguments,void 0,function*({privateKey:I}){if(!isEcPrivateJwk$2(I))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Convert$3.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$L(this,arguments,void 0,function*({publicKey:I}){if(!(isEcPublicJwk$2(I)&&I.y))throw new Error("Secp256r1: The provided key is not a valid EC public key.");const N=new Uint8Array([4]),L=Convert$3.base64Url(I.x).toUint8Array(),B=Convert$3.base64Url(I.y).toUint8Array();return new Uint8Array([...N,...L,...B])})}static sharedSecret($){return __awaiter$L(this,arguments,void 0,function*({privateKeyA:I,publicKeyB:N}){if("x"in I&&"x"in N&&I.x===N.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const L=yield mo.privateKeyToBytes({privateKey:I}),B=yield mo.publicKeyToBytes({publicKey:N});return secp256r1.getSharedSecret(L,B,!0).slice(1)})}static sign($){return __awaiter$L(this,arguments,void 0,function*({data:I,key:N}){const L=yield mo.privateKeyToBytes({privateKey:N}),B=sha256$6(I);return secp256r1.sign(B,L).toCompactRawBytes()})}static validatePrivateKey($){return __awaiter$L(this,arguments,void 0,function*({privateKeyBytes:I}){return secp256r1.utils.isValidPrivateKey(I)})}static validatePublicKey($){return __awaiter$L(this,arguments,void 0,function*({publicKeyBytes:I}){try{secp256r1.ProjectivePoint.fromHex(I).assertValidity()}catch{return!1}return!0})}static verify($){return __awaiter$L(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=yield mo.publicKeyToBytes({publicKey:I}),H=sha256$6(L);return secp256r1.verify(N,H,B,{lowS:!1})})}static getCurvePoint($){return __awaiter$L(this,arguments,void 0,function*({keyBytes:I}){I.byteLength===32&&(I=secp256r1.getPublicKey(I));const N=secp256r1.ProjectivePoint.fromHex(I),L=numberToBytesBE(N.x,32),B=numberToBytesBE(N.y,32);return{x:L,y:B}})}};var __awaiter$K=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let EcdsaAlgorithm$2=class extends CryptoAlgorithm$2{computePublicKey($){return __awaiter$K(this,arguments,void 0,function*({key:I}){if(!isEcPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(I.crv){case"secp256k1":{const N=yield Secp256k1$2.computePublicKey({key:I});return N.alg="ES256K",N}case"P-256":{const N=yield Secp256r1$2.computePublicKey({key:I});return N.alg="ES256",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}generateKey($){return __awaiter$K(this,arguments,void 0,function*({algorithm:I}){switch(I){case"ES256K":case"secp256k1":{const N=yield Secp256k1$2.generateKey();return N.alg="ES256K",N}case"ES256":case"secp256r1":{const N=yield Secp256r1$2.generateKey();return N.alg="ES256",N}}})}getPublicKey($){return __awaiter$K(this,arguments,void 0,function*({key:I}){if(!isEcPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(I.crv){case"secp256k1":{const N=yield Secp256k1$2.getPublicKey({key:I});return N.alg="ES256K",N}case"P-256":{const N=yield Secp256r1$2.getPublicKey({key:I});return N.alg="ES256",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}sign($){return __awaiter$K(this,arguments,void 0,function*({key:I,data:N}){if(!isEcPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(I.crv){case"secp256k1":return yield Secp256k1$2.sign({key:I,data:N});case"P-256":return yield Secp256r1$2.sign({key:I,data:N});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}verify($){return __awaiter$K(this,arguments,void 0,function*({key:I,signature:N,data:L}){if(!isEcPublicJwk$2(I))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(I.crv){case"secp256k1":return yield Secp256k1$2.verify({key:I,signature:N,data:L});case"P-256":return yield Secp256r1$2.verify({key:I,signature:N,data:L});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}};var __awaiter$J=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$b=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Ed25519$2=class ea{static bytesToPrivateKey($){return __awaiter$J(this,arguments,void 0,function*({privateKeyBytes:I}){const N=ed25519.getPublicKey(I),L={crv:"Ed25519",d:Convert$3.uint8Array(I).toBase64Url(),kty:"OKP",x:Convert$3.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint$2({jwk:L}),L})}static bytesToPublicKey($){return __awaiter$J(this,arguments,void 0,function*({publicKeyBytes:I}){const N={kty:"OKP",crv:"Ed25519",x:Convert$3.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint$2({jwk:N}),N})}static computePublicKey($){return __awaiter$J(this,arguments,void 0,function*({key:I}){const N=yield ea.privateKeyToBytes({privateKey:I}),L=ed25519.getPublicKey(N),B={kty:"OKP",crv:"Ed25519",x:Convert$3.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint$2({jwk:B}),B})}static convertPrivateKeyToX25519($){return __awaiter$J(this,arguments,void 0,function*({privateKey:I}){const N=yield ea.privateKeyToBytes({privateKey:I}),L=edwardsToMontgomeryPriv(N),B=x25519.getPublicKey(L),H={kty:"OKP",crv:"X25519",d:Convert$3.uint8Array(L).toBase64Url(),x:Convert$3.uint8Array(B).toBase64Url()};return H.kid=yield computeJwkThumbprint$2({jwk:H}),H})}static convertPublicKeyToX25519($){return __awaiter$J(this,arguments,void 0,function*({publicKey:I}){const N=yield ea.publicKeyToBytes({publicKey:I});if(!(yield ea.validatePublicKey({publicKeyBytes:N})))throw new Error("Ed25519: Invalid public key.");const B=edwardsToMontgomeryPub(N),H={kty:"OKP",crv:"X25519",x:Convert$3.uint8Array(B).toBase64Url()};return H.kid=yield computeJwkThumbprint$2({jwk:H}),H})}static generateKey(){return __awaiter$J(this,void 0,void 0,function*(){const $=ed25519.utils.randomPrivateKey(),I=yield ea.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$2({jwk:I}),I})}static getPublicKey($){return __awaiter$J(this,arguments,void 0,function*({key:I}){var N;if(!(isOkpPrivateJwk$2(I)&&I.crv==="Ed25519"))throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let{d:L}=I,B=__rest$b(I,["d"]);return(N=B.kid)!==null&&N!==void 0||(B.kid=yield computeJwkThumbprint$2({jwk:B})),B})}static privateKeyToBytes($){return __awaiter$J(this,arguments,void 0,function*({privateKey:I}){if(!isOkpPrivateJwk$2(I))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Convert$3.base64Url(I.d).toUint8Array()})}static publicKeyToBytes($){return __awaiter$J(this,arguments,void 0,function*({publicKey:I}){if(!isOkpPublicJwk$2(I))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Convert$3.base64Url(I.x).toUint8Array()})}static sign($){return __awaiter$J(this,arguments,void 0,function*({key:I,data:N}){const L=yield ea.privateKeyToBytes({privateKey:I});return ed25519.sign(N,L)})}static validatePublicKey($){return __awaiter$J(this,arguments,void 0,function*({publicKeyBytes:I}){try{ed25519.ExtendedPoint.fromHex(I).assertValidity()}catch{return!1}return!0})}static verify($){return __awaiter$J(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=yield ea.publicKeyToBytes({publicKey:I});return ed25519.verify(N,L,B)})}};var __awaiter$I=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let EdDsaAlgorithm$2=class extends CryptoAlgorithm$2{computePublicKey($){return __awaiter$I(this,arguments,void 0,function*({key:I}){if(!isOkpPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch(I.crv){case"Ed25519":{const N=yield Ed25519$2.computePublicKey({key:I});return N.alg="EdDSA",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}generateKey($){return __awaiter$I(this,arguments,void 0,function*({algorithm:I}){switch(I){case"Ed25519":{const N=yield Ed25519$2.generateKey();return N.alg="EdDSA",N}}})}getPublicKey($){return __awaiter$I(this,arguments,void 0,function*({key:I}){if(!isOkpPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch(I.crv){case"Ed25519":{const N=yield Ed25519$2.getPublicKey({key:I});return N.alg="EdDSA",N}default:throw new Error(`Unsupported curve: ${I.crv}`)}})}sign($){return __awaiter$I(this,arguments,void 0,function*({key:I,data:N}){if(!isOkpPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch(I.crv){case"Ed25519":return yield Ed25519$2.sign({key:I,data:N});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}verify($){return __awaiter$I(this,arguments,void 0,function*({key:I,signature:N,data:L}){if(!isOkpPublicJwk$2(I))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");switch(I.crv){case"Ed25519":return yield Ed25519$2.verify({key:I,signature:N,data:L});default:throw new Error(`Unsupported curve: ${I.crv}`)}})}};var __awaiter$H=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};const supportedAlgorithms$2={Ed25519:{implementation:EdDsaAlgorithm$2,names:["Ed25519"]},secp256k1:{implementation:EcdsaAlgorithm$2,names:["ES256K","secp256k1"]},secp256r1:{implementation:EcdsaAlgorithm$2,names:["ES256","secp256r1"]},"SHA-256":{implementation:Sha2Algorithm$2,names:["SHA-256"]}};let LocalKeyManager$2=class{constructor($){var I;this._algorithmInstances=new Map,this._keyStore=(I=$==null?void 0:$.keyStore)!==null&&I!==void 0?I:new MemoryStore$2}digest($){return __awaiter$H(this,arguments,void 0,function*({algorithm:I,data:N}){return yield this.getAlgorithm({algorithm:I}).digest({algorithm:I,data:N})})}exportKey($){return __awaiter$H(this,arguments,void 0,function*({keyUri:I}){return yield this.getPrivateKey({keyUri:I})})}generateKey($){return __awaiter$H(this,arguments,void 0,function*({algorithm:I}){const L=yield this.getAlgorithm({algorithm:I}).generateKey({algorithm:I});if((L==null?void 0:L.kid)===void 0)throw new Error("Generated key is missing a required property: kid");const B=`${KEY_URI_PREFIX_JWK$2}${L.kid}`;return yield this._keyStore.set(B,L),B})}getKeyUri($){return __awaiter$H(this,arguments,void 0,function*({key:I}){const N=yield computeJwkThumbprint$2({jwk:I});return`${KEY_URI_PREFIX_JWK$2}${N}`})}getPublicKey($){return __awaiter$H(this,arguments,void 0,function*({keyUri:I}){const N=yield this.getPrivateKey({keyUri:I}),L=this.getAlgorithmName({key:N});return yield this.getAlgorithm({algorithm:L}).getPublicKey({key:N})})}importKey($){return __awaiter$H(this,arguments,void 0,function*({key:I}){var N;if(!isPrivateJwk$2(I))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const L=structuredClone(I);(N=L.kid)!==null&&N!==void 0||(L.kid=yield computeJwkThumbprint$2({jwk:L}));const B=yield this.getKeyUri({key:L});return yield this._keyStore.set(B,L),B})}sign($){return __awaiter$H(this,arguments,void 0,function*({keyUri:I,data:N}){const L=yield this.getPrivateKey({keyUri:I}),B=this.getAlgorithmName({key:L});return this.getAlgorithm({algorithm:B}).sign({data:N,key:L})})}verify($){return __awaiter$H(this,arguments,void 0,function*({key:I,signature:N,data:L}){const B=this.getAlgorithmName({key:I});return this.getAlgorithm({algorithm:B}).verify({key:I,signature:N,data:L})})}getAlgorithm({algorithm:$}){var I;const N=(I=supportedAlgorithms$2[$])===null||I===void 0?void 0:I.implementation;if(!N)throw new Error(`Algorithm not supported: ${$}`);return this._algorithmInstances.has(N)||this._algorithmInstances.set(N,new N),this._algorithmInstances.get(N)}getAlgorithmName({key:$}){const I=$.alg,N=$.crv;for(const L in supportedAlgorithms$2){const B=supportedAlgorithms$2[L];if(I&&B.names.includes(I))return L;if(N&&B.names.includes(N))return L}throw new Error(`Unable to determine algorithm based on provided input: alg=${I}, crv=${N}`)}getPrivateKey($){return __awaiter$H(this,arguments,void 0,function*({keyUri:I}){const N=yield this._keyStore.get(I);if(!N)throw new Error(`Key not found: ${I}`);return N})}};function randomBytes(T){return randomBytes$1(T)}function randomUuid(){return crypto$2.randomUUID()}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const u32=T=>new Uint32Array(T.buffer,T.byteOffset,Math.floor(T.byteLength/4));function isBytes$1(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes(T){if(typeof T!="string")throw new Error(`utf8ToBytes expected string, got ${typeof T}`);return new Uint8Array(new TextEncoder().encode(T))}function toBytes(T){if(typeof T=="string")T=utf8ToBytes(T);else if(isBytes$1(T))T=T.slice();else throw new Error(`expected Uint8Array, got ${typeof T}`);return T}function ensureBytes(T,$){if(!isBytes$1(T))throw new Error("Uint8Array expected");if(T.length!==$)throw new Error(`Uint8Array length ${$} expected`)}function isBytes(T){return T!=null&&typeof T=="object"&&(T instanceof Uint8Array||T.constructor.name==="Uint8Array")}function bytes(T,...$){if(!isBytes(T))throw new Error("Uint8Array expected");if($.length>0&&!$.includes(T.length))throw new Error(`Uint8Array expected of length ${$}, not of length=${T.length}`)}function exists(T,$=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if($&&T.finished)throw new Error("Hash#digest() has already been called")}function output(T,$){bytes(T);const I=$.outputLen;if(T.length<I)throw new Error(`digestInto() expects output buffer of length at least ${I}`)}const u8to16=(T,$)=>T[$++]&255|(T[$++]&255)<<8;class Poly1305{constructor($){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,$=toBytes($),ensureBytes($,32);const I=u8to16($,0),N=u8to16($,2),L=u8to16($,4),B=u8to16($,6),H=u8to16($,8),z=u8to16($,10),Q=u8to16($,12),te=u8to16($,14);this.r[0]=I&8191,this.r[1]=(I>>>13|N<<3)&8191,this.r[2]=(N>>>10|L<<6)&7939,this.r[3]=(L>>>7|B<<9)&8191,this.r[4]=(B>>>4|H<<12)&255,this.r[5]=H>>>1&8190,this.r[6]=(H>>>14|z<<2)&8191,this.r[7]=(z>>>11|Q<<5)&8065,this.r[8]=(Q>>>8|te<<8)&8191,this.r[9]=te>>>5&127;for(let G=0;G<8;G++)this.pad[G]=u8to16($,16+2*G)}process($,I,N=!1){const L=N?0:2048,{h:B,r:H}=this,z=H[0],Q=H[1],te=H[2],G=H[3],ie=H[4],Re=H[5],$e=H[6],Pe=H[7],Me=H[8],Be=H[9],Ke=u8to16($,I+0),Le=u8to16($,I+2),qe=u8to16($,I+4),He=u8to16($,I+6),Ge=u8to16($,I+8),at=u8to16($,I+10),ot=u8to16($,I+12),Ye=u8to16($,I+14);let nt=B[0]+(Ke&8191),Qe=B[1]+((Ke>>>13|Le<<3)&8191),tt=B[2]+((Le>>>10|qe<<6)&8191),ze=B[3]+((qe>>>7|He<<9)&8191),Fe=B[4]+((He>>>4|Ge<<12)&8191),ke=B[5]+(Ge>>>1&8191),Ue=B[6]+((Ge>>>14|at<<2)&8191),Je=B[7]+((at>>>11|ot<<5)&8191),rt=B[8]+((ot>>>8|Ye<<8)&8191),Xe=B[9]+(Ye>>>5|L),it=0,We=it+nt*z+Qe*(5*Be)+tt*(5*Me)+ze*(5*Pe)+Fe*(5*$e);it=We>>>13,We&=8191,We+=ke*(5*Re)+Ue*(5*ie)+Je*(5*G)+rt*(5*te)+Xe*(5*Q),it+=We>>>13,We&=8191;let Ve=it+nt*Q+Qe*z+tt*(5*Be)+ze*(5*Me)+Fe*(5*Pe);it=Ve>>>13,Ve&=8191,Ve+=ke*(5*$e)+Ue*(5*Re)+Je*(5*ie)+rt*(5*G)+Xe*(5*te),it+=Ve>>>13,Ve&=8191;let je=it+nt*te+Qe*Q+tt*z+ze*(5*Be)+Fe*(5*Me);it=je>>>13,je&=8191,je+=ke*(5*Pe)+Ue*(5*$e)+Je*(5*Re)+rt*(5*ie)+Xe*(5*G),it+=je>>>13,je&=8191;let Ze=it+nt*G+Qe*te+tt*Q+ze*z+Fe*(5*Be);it=Ze>>>13,Ze&=8191,Ze+=ke*(5*Me)+Ue*(5*Pe)+Je*(5*$e)+rt*(5*Re)+Xe*(5*ie),it+=Ze>>>13,Ze&=8191;let st=it+nt*ie+Qe*G+tt*te+ze*Q+Fe*z;it=st>>>13,st&=8191,st+=ke*(5*Be)+Ue*(5*Me)+Je*(5*Pe)+rt*(5*$e)+Xe*(5*Re),it+=st>>>13,st&=8191;let dt=it+nt*Re+Qe*ie+tt*G+ze*te+Fe*Q;it=dt>>>13,dt&=8191,dt+=ke*z+Ue*(5*Be)+Je*(5*Me)+rt*(5*Pe)+Xe*(5*$e),it+=dt>>>13,dt&=8191;let bt=it+nt*$e+Qe*Re+tt*ie+ze*G+Fe*te;it=bt>>>13,bt&=8191,bt+=ke*Q+Ue*z+Je*(5*Be)+rt*(5*Me)+Xe*(5*Pe),it+=bt>>>13,bt&=8191;let vt=it+nt*Pe+Qe*$e+tt*Re+ze*ie+Fe*G;it=vt>>>13,vt&=8191,vt+=ke*te+Ue*Q+Je*z+rt*(5*Be)+Xe*(5*Me),it+=vt>>>13,vt&=8191;let St=it+nt*Me+Qe*Pe+tt*$e+ze*Re+Fe*ie;it=St>>>13,St&=8191,St+=ke*G+Ue*te+Je*Q+rt*z+Xe*(5*Be),it+=St>>>13,St&=8191;let Bt=it+nt*Be+Qe*Me+tt*Pe+ze*$e+Fe*Re;it=Bt>>>13,Bt&=8191,Bt+=ke*ie+Ue*G+Je*te+rt*Q+Xe*z,it+=Bt>>>13,Bt&=8191,it=(it<<2)+it|0,it=it+We|0,We=it&8191,it=it>>>13,Ve+=it,B[0]=We,B[1]=Ve,B[2]=je,B[3]=Ze,B[4]=st,B[5]=dt,B[6]=bt,B[7]=vt,B[8]=St,B[9]=Bt}finalize(){const{h:$,pad:I}=this,N=new Uint16Array(10);let L=$[1]>>>13;$[1]&=8191;for(let z=2;z<10;z++)$[z]+=L,L=$[z]>>>13,$[z]&=8191;$[0]+=L*5,L=$[0]>>>13,$[0]&=8191,$[1]+=L,L=$[1]>>>13,$[1]&=8191,$[2]+=L,N[0]=$[0]+5,L=N[0]>>>13,N[0]&=8191;for(let z=1;z<10;z++)N[z]=$[z]+L,L=N[z]>>>13,N[z]&=8191;N[9]-=8192;let B=(L^1)-1;for(let z=0;z<10;z++)N[z]&=B;B=~B;for(let z=0;z<10;z++)$[z]=$[z]&B|N[z];$[0]=($[0]|$[1]<<13)&65535,$[1]=($[1]>>>3|$[2]<<10)&65535,$[2]=($[2]>>>6|$[3]<<7)&65535,$[3]=($[3]>>>9|$[4]<<4)&65535,$[4]=($[4]>>>12|$[5]<<1|$[6]<<14)&65535,$[5]=($[6]>>>2|$[7]<<11)&65535,$[6]=($[7]>>>5|$[8]<<8)&65535,$[7]=($[8]>>>8|$[9]<<5)&65535;let H=$[0]+I[0];$[0]=H&65535;for(let z=1;z<8;z++)H=($[z]+I[z]|0)+(H>>>16)|0,$[z]=H&65535}update($){exists(this);const{buffer:I,blockLen:N}=this;$=toBytes($);const L=$.length;for(let B=0;B<L;){const H=Math.min(N-this.pos,L-B);if(H===N){for(;N<=L-B;B+=N)this.process($,B);continue}I.set($.subarray(B,B+H),this.pos),this.pos+=H,B+=H,this.pos===N&&(this.process(I,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto($){exists(this),output($,this),this.finished=!0;const{buffer:I,h:N}=this;let{pos:L}=this;if(L){for(I[L++]=1;L<16;L++)I[L]=0;this.process(I,0,!0)}this.finalize();let B=0;for(let H=0;H<8;H++)$[B++]=N[H]>>>0,$[B++]=N[H]>>>8;return $}digest(){const{buffer:$,outputLen:I}=this;this.digestInto($);const N=$.slice(0,I);return this.destroy(),N}}function wrapConstructorWithKey(T){const $=(N,L)=>T(L).update(toBytes(N)).digest(),I=T(new Uint8Array(32));return $.outputLen=I.outputLen,$.blockLen=I.blockLen,$.create=N=>T(N),$}wrapConstructorWithKey(T=>new Poly1305(T));const sigma16=utf8ToBytes("expand 16-byte k"),sigma32=utf8ToBytes("expand 32-byte k");u32(sigma16);u32(sigma32);var DidVerificationRelationship$2;(function(T){T.authentication="authentication",T.assertionMethod="assertionMethod",T.keyAgreement="keyAgreement",T.capabilityInvocation="capabilityInvocation",T.capabilityDelegation="capabilityDelegation"})(DidVerificationRelationship$2||(DidVerificationRelationship$2={}));const EMPTY_DID_RESOLUTION_RESULT$1={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};let Did$1=class Lf{constructor({method:$,id:I,path:N,query:L,fragment:B,params:H}){this.uri=`did:${$}:${I}`,this.method=$,this.id=I,this.path=N,this.query=L,this.fragment=B,this.params=H}static parse($){if(!$)return null;const I=Lf.DID_URI_PATTERN.exec($);if(!I||!I.groups)return null;const{method:N,id:L,path:B,query:H,fragment:z}=I.groups,Q={uri:`did:${N}:${L}`,method:N,id:L};if(B&&(Q.path=B),H&&(Q.query=H.slice(1)),z&&(Q.fragment=z.slice(1)),H){const te={},G=H.slice(1).split("&");for(const ie of G){const[Re,$e]=ie.split("=");te[Re]=$e}Q.params=te}return Q}};Did$1.METHOD_PATTERN="([a-z0-9]+)";Did$1.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})";Did$1.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Did$1.PCT_ENCODED_PATTERN})`;Did$1.METHOD_ID_PATTERN=`((?:${Did$1.ID_CHAR_PATTERN}*:)*(${Did$1.ID_CHAR_PATTERN}+))`;Did$1.PATH_PATTERN="(/[^#?]*)?";Did$1.QUERY_PATTERN="([?][^#]*)?";Did$1.FRAGMENT_PATTERN="(#.*)?";Did$1.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Did$1.METHOD_PATTERN}):(?<id>${Did$1.METHOD_ID_PATTERN})(?<path>${Did$1.PATH_PATTERN})(?<query>${Did$1.QUERY_PATTERN})(?<fragment>${Did$1.FRAGMENT_PATTERN})$`);let DidError$1=class Ff extends Error{constructor($,I){super(`${$}: ${I}`),this.code=$,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ff)}};var DidErrorCode$2;(function(T){T.InvalidDid="invalidDid",T.MethodNotSupported="methodNotSupported",T.InternalError="internalError",T.InvalidDidDocument="invalidDidDocument",T.InvalidDidDocumentLength="invalidDidDocumentLength",T.InvalidDidUrl="invalidDidUrl",T.InvalidPreviousDidProof="invalidPreviousDidProof",T.InvalidPublicKey="invalidPublicKey",T.InvalidPublicKeyLength="invalidPublicKeyLength",T.InvalidPublicKeyType="invalidPublicKeyType",T.InvalidSignature="invalidSignature",T.NotFound="notFound",T.RepresentationNotSupported="representationNotSupported",T.UnsupportedPublicKeyType="unsupportedPublicKeyType"})(DidErrorCode$2||(DidErrorCode$2={}));function base$6(T,$){if(T.length>=255)throw new TypeError("Alphabet too long");for(var I=new Uint8Array(256),N=0;N<I.length;N++)I[N]=255;for(var L=0;L<T.length;L++){var B=T.charAt(L),H=B.charCodeAt(0);if(I[H]!==255)throw new TypeError(B+" is ambiguous");I[H]=L}var z=T.length,Q=T.charAt(0),te=Math.log(z)/Math.log(256),G=Math.log(256)/Math.log(z);function ie(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Pe.length===0)return"";for(var Me=0,Be=0,Ke=0,Le=Pe.length;Ke!==Le&&Pe[Ke]===0;)Ke++,Me++;for(var qe=(Le-Ke)*G+1>>>0,He=new Uint8Array(qe);Ke!==Le;){for(var Ge=Pe[Ke],at=0,ot=qe-1;(Ge!==0||at<Be)&&ot!==-1;ot--,at++)Ge+=256*He[ot]>>>0,He[ot]=Ge%z>>>0,Ge=Ge/z>>>0;if(Ge!==0)throw new Error("Non-zero carry");Be=at,Ke++}for(var Ye=qe-Be;Ye!==qe&&He[Ye]===0;)Ye++;for(var nt=Q.repeat(Me);Ye<qe;++Ye)nt+=T.charAt(He[Ye]);return nt}function Re(Pe){if(typeof Pe!="string")throw new TypeError("Expected String");if(Pe.length===0)return new Uint8Array;var Me=0;if(Pe[Me]!==" "){for(var Be=0,Ke=0;Pe[Me]===Q;)Be++,Me++;for(var Le=(Pe.length-Me)*te+1>>>0,qe=new Uint8Array(Le);Pe[Me];){var He=I[Pe.charCodeAt(Me)];if(He===255)return;for(var Ge=0,at=Le-1;(He!==0||Ge<Ke)&&at!==-1;at--,Ge++)He+=z*qe[at]>>>0,qe[at]=He%256>>>0,He=He/256>>>0;if(He!==0)throw new Error("Non-zero carry");Ke=Ge,Me++}if(Pe[Me]!==" "){for(var ot=Le-Ke;ot!==Le&&qe[ot]===0;)ot++;for(var Ye=new Uint8Array(Be+(Le-ot)),nt=Be;ot!==Le;)Ye[nt++]=qe[ot++];return Ye}}}function $e(Pe){var Me=Re(Pe);if(Me)return Me;throw new Error(`Non-${$} character`)}return{encode:ie,decodeUnsafe:Re,decode:$e}}var src$2=base$6,_brrp__multiformats_scope_baseX$2=src$2;const coerce$2=T=>{if(T instanceof Uint8Array&&T.constructor.name==="Uint8Array")return T;if(T instanceof ArrayBuffer)return new Uint8Array(T);if(ArrayBuffer.isView(T))return new Uint8Array(T.buffer,T.byteOffset,T.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$2=class{constructor($,I,N){this.name=$,this.prefix=I,this.baseEncode=N}encode($){if($ instanceof Uint8Array)return`${this.prefix}${this.baseEncode($)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor($,I,N){if(this.name=$,this.prefix=I,I.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=I.codePointAt(0),this.baseDecode=N}decode($){if(typeof $=="string"){if($.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify($)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode($.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or($){return or$2(this,$)}},ComposedDecoder$2=class{constructor($){this.decoders=$}or($){return or$2(this,$)}decode($){const I=$[0],N=this.decoders[I];if(N)return N.decode($);throw RangeError(`Unable to decode multibase string ${JSON.stringify($)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$2=(T,$)=>new ComposedDecoder$2({...T.decoders||{[T.prefix]:T},...$.decoders||{[$.prefix]:$}});let Codec$2=class{constructor($,I,N,L){this.name=$,this.prefix=I,this.baseEncode=N,this.baseDecode=L,this.encoder=new Encoder$2($,I,N),this.decoder=new Decoder$2($,I,L)}encode($){return this.encoder.encode($)}decode($){return this.decoder.decode($)}};const from$8=({name:T,prefix:$,encode:I,decode:N})=>new Codec$2(T,$,I,N),baseX$2=({prefix:T,name:$,alphabet:I})=>{const{encode:N,decode:L}=_brrp__multiformats_scope_baseX$2(I,$);return from$8({prefix:T,name:$,encode:N,decode:B=>coerce$2(L(B))})},decode$a=(T,$,I,N)=>{const L={};for(let G=0;G<$.length;++G)L[$[G]]=G;let B=T.length;for(;T[B-1]==="=";)--B;const H=new Uint8Array(B*I/8|0);let z=0,Q=0,te=0;for(let G=0;G<B;++G){const ie=L[T[G]];if(ie===void 0)throw new SyntaxError(`Non-${N} character`);Q=Q<<I|ie,z+=I,z>=8&&(z-=8,H[te++]=255&Q>>z)}if(z>=I||255&Q<<8-z)throw new SyntaxError("Unexpected end of data");return H},encode$6=(T,$,I)=>{const N=$[$.length-1]==="=",L=(1<<I)-1;let B="",H=0,z=0;for(let Q=0;Q<T.length;++Q)for(z=z<<8|T[Q],H+=8;H>I;)H-=I,B+=$[L&z>>H];if(H&&(B+=$[L&z<<I-H]),N)for(;B.length*I&7;)B+="=";return B},rfc4648$2=({name:T,prefix:$,bitsPerChar:I,alphabet:N})=>from$8({prefix:$,name:T,encode(L){return encode$6(L,N,I)},decode(L){return decode$a(L,N,I,T)}});rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const base32z$1=rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base58btc$1=baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url$1=rfc4648$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function isArrayBufferSlice$2(T){return T.byteOffset!==0||T.byteLength!==T.buffer.byteLength}function isAsyncIterable$2(T){return typeof T!="object"||T===null?!1:typeof T[Symbol.asyncIterator]=="function"}function universalTypeOf$2(T){const I=Object.prototype.toString.call(T).match(/\s([a-zA-Z0-9]+)/),[N,L]=I;return L}var __awaiter$G=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__asyncValues$2=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}};const textEncoder$2=new TextEncoder,textDecoder$2=new TextDecoder;let Convert$2=class Ii{constructor($,I){this.data=$,this.format=I}static arrayBuffer($){return new Ii($,"ArrayBuffer")}static asyncIterable($){if(!isAsyncIterable$2($))throw new TypeError("Input must be of type AsyncIterable.");return new Ii($,"AsyncIterable")}static base32Z($){return new Ii($,"Base32Z")}static base58Btc($){return new Ii($,"Base58Btc")}static base64Url($){return new Ii($,"Base64Url")}static bufferSource($){return new Ii($,"BufferSource")}static hex($){if(typeof $!="string")throw new TypeError("Hex input must be a string.");if($.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Ii($,"Hex")}static multibase($){return new Ii($,"Multibase")}static object($){return new Ii($,"Object")}static string($){return new Ii($,"String")}static uint8Array($){return new Ii($,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return base58btc$1.baseDecode(this.data).buffer;case"Base64Url":return base64url$1.baseDecode(this.data).buffer;case"BufferSource":{if(universalTypeOf$2(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return isArrayBufferSlice$2(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return __awaiter$G(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return base32z$1.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base58btc$1.baseEncode($)}case"Multibase":return this.data.substring(1);case"Uint8Array":return base58btc$1.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base64url$1.baseEncode($)}case"BufferSource":{const $=this.toUint8Array();return base64url$1.baseEncode($)}case"Object":{const $=JSON.stringify(this.data),I=textEncoder$2.encode($);return base64url$1.baseEncode(I)}case"String":{const $=textEncoder$2.encode(this.data);return base64url$1.baseEncode($)}case"Uint8Array":return base64url$1.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var $,I,N,L;return __awaiter$G(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const Q=[];try{for(var B=!0,H=__asyncValues$2(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const G=L;Q.push(G)}}catch(G){I={error:G}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return new Blob(Q)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const $=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const I=this.toUint8Array();return Ii.uint8Array(I).toHex()}case"Base64Url":{const I=this.toUint8Array();return Ii.uint8Array(I).toHex()}case"Uint8Array":{let I="";for(let N=0;N<this.data.length;N++)I+=$[this.data[N]];return I}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const $=base64url$1.baseDecode(this.data),I=textDecoder$2.decode($);return JSON.parse(I)}case"String":return JSON.parse(this.data);case"Uint8Array":{const $=textDecoder$2.decode(this.data);return JSON.parse($)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return __awaiter$G(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toStringAsync();return JSON.parse($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return textDecoder$2.decode(this.data);case"Base64Url":{const $=base64url$1.baseDecode(this.data);return textDecoder$2.decode($)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return textDecoder$2.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var $,I,N,L;return __awaiter$G(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let Q="";try{for(var B=!0,H=__asyncValues$2(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const te=L;typeof te=="string"?Q+=te:Q+=textDecoder$2.decode(te,{stream:!0})}}catch(te){I={error:te}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return Q+=textDecoder$2.decode(void 0,{stream:!1}),Q}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return base32z$1.baseDecode(this.data);case"Base58Btc":return base58btc$1.baseDecode(this.data);case"Base64Url":return base64url$1.baseDecode(this.data);case"BufferSource":{const $=universalTypeOf$2(this.data);if($==="Uint8Array")return this.data;if($==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const $=new Uint8Array(this.data.length/2);for(let I=0;I<this.data.length;I+=2){const N=parseInt(this.data.substring(I,I+2),16);if(isNaN(N))throw new TypeError("Input is not a valid hexadecimal string.");$[I/2]=N}return $}case"Object":{const $=JSON.stringify(this.data);return textEncoder$2.encode($)}case"String":return textEncoder$2.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return __awaiter$G(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toArrayBufferAsync();return new Uint8Array($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};var encode_1$2=encode$5,MSB$3=128,MSBALL$2=-128,INT$2=Math.pow(2,31);function encode$5(T,$,I){$=$||[],I=I||0;for(var N=I;T>=INT$2;)$[I++]=T&255|MSB$3,T/=128;for(;T&MSBALL$2;)$[I++]=T&255|MSB$3,T>>>=7;return $[I]=T|0,encode$5.bytes=I-N+1,$}var decode$9=read$2,MSB$1$2=128,REST$1$2=127;function read$2(T,N){var I=0,N=N||0,L=0,B=N,H,z=T.length;do{if(B>=z)throw read$2.bytes=0,new RangeError("Could not decode varint");H=T[B++],I+=L<28?(H&REST$1$2)<<L:(H&REST$1$2)*Math.pow(2,L),L+=7}while(H>=MSB$1$2);return read$2.bytes=B-N,I}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$3=function(T){return T<N1$2?1:T<N2$2?2:T<N3$2?3:T<N4$2?4:T<N5$2?5:T<N6$2?6:T<N7$2?7:T<N8$2?8:T<N9$2?9:10},varint$2={encode:encode_1$2,decode:decode$9,encodingLength:length$3},_brrp_varint$2=varint$2;const decode$8=(T,$=0)=>[_brrp_varint$2.decode(T,$),_brrp_varint$2.decode.bytes],encodeTo$2=(T,$,I=0)=>(_brrp_varint$2.encode(T,$,I),$),encodingLength$2=T=>_brrp_varint$2.encodingLength(T);let Multicodec$3=class ta{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=ta.codeToName.has(N)?N:ta.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength$2(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo$2(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$8(I);return N}static getCodeFromName($){const{name:I}=$,N=ta.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=ta.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){ta.codeToName.set($.code,$.name),ta.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$8(I),B=ta.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}};Multicodec$3.codeToName=new Map;Multicodec$3.nameToCode=new Map;Multicodec$3.registerCodec({code:237,name:"ed25519-pub"});Multicodec$3.registerCodec({code:4864,name:"ed25519-priv"});Multicodec$3.registerCodec({code:236,name:"x25519-pub"});Multicodec$3.registerCodec({code:4866,name:"x25519-priv"});Multicodec$3.registerCodec({code:231,name:"secp256k1-pub"});Multicodec$3.registerCodec({code:4865,name:"secp256k1-priv"});function removeUndefinedProperties$1(T){Object.keys(T).forEach($=>{T[$]===void 0?delete T[$]:typeof T[$]=="object"&&removeUndefinedProperties$1(T[$])})}var __awaiter$F=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let MemoryStore$1=class{constructor(){this.store=new Map}clear(){return __awaiter$F(this,void 0,void 0,function*(){this.store.clear()})}close(){return __awaiter$F(this,void 0,void 0,function*(){})}delete($){return __awaiter$F(this,void 0,void 0,function*(){return this.store.delete($)})}get($){return __awaiter$F(this,void 0,void 0,function*(){return this.store.get($)})}has($){return __awaiter$F(this,void 0,void 0,function*(){return this.store.has($)})}list(){return __awaiter$F(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set($,I){return __awaiter$F(this,void 0,void 0,function*(){this.store.set($,I)})}};var __awaiter$E=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let Sha256$3=class{static digest({data:$}){return __awaiter$E(this,void 0,void 0,function*(){return sha256$8($)})}},CryptoAlgorithm$1=class{};var __awaiter$D=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let Sha2Algorithm$1=class extends CryptoAlgorithm$1{digest({algorithm:$,data:I}){return __awaiter$D(this,void 0,void 0,function*(){switch($){case"SHA-256":return yield Sha256$3.digest({data:I})}})}};function canonicalize$3(T){const $=N=>{if(N!==null&&typeof N=="object"&&!Array.isArray(N)){const L=Object.keys(N).sort(),B={};for(const H of L)B[H]=$(N[H]);return B}return N},I=$(T);return JSON.stringify(I)}var __awaiter$C=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};const KEY_URI_PREFIX_JWK$1="urn:jwk:";function computeJwkThumbprint$1({jwk:T}){return __awaiter$C(this,void 0,void 0,function*(){const $=T.kty;let I;if($==="EC")I={crv:T.crv,kty:T.kty,x:T.x,y:T.y};else if($==="oct")I={k:T.k,kty:T.kty};else if($==="OKP")I={crv:T.crv,kty:T.kty,x:T.x};else if($==="RSA")I={e:T.e,kty:T.kty,n:T.n};else throw new Error(`Unsupported key type: ${$}`);removeUndefinedProperties$1(I);const N=canonicalize$3(I),L=Convert$2.string(N).toUint8Array(),B=yield Sha256$3.digest({data:L});return Convert$2.uint8Array(B).toBase64Url()})}function isEcPrivateJwk$1(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="EC"||typeof T.d!="string"||typeof T.x!="string")}function isEcPublicJwk$1(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T)||"d"in T||T.kty!=="EC"||typeof T.x!="string")}function isOkpPrivateJwk$1(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="OKP"||typeof T.d!="string"||typeof T.x!="string")}function isOkpPublicJwk$1(T){return!(!T||typeof T!="object"||"d"in T||!("kty"in T&&"crv"in T&&"x"in T)||T.kty!=="OKP"||typeof T.x!="string")}function isPrivateJwk$1(T){if(!T||typeof T!="object")return!1;switch(T.kty){case"EC":case"OKP":case"RSA":return"d"in T;case"oct":return"k"in T;default:return!1}}var __awaiter$B=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$a=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Secp256k1$1=class yo{static adjustSignatureToLowS({signature:$}){return __awaiter$B(this,void 0,void 0,function*(){const I=secp256k1$1.Signature.fromCompact($);return I.hasHighS()?I.normalizeS().toCompactRawBytes():$})}static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){const I=yield yo.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"secp256k1",d:Convert$2.uint8Array($).toBase64Url(),x:Convert$2.uint8Array(I.x).toBase64Url(),y:Convert$2.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint$1({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){const I=yield yo.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"secp256k1",x:Convert$2.uint8Array(I.x).toBase64Url(),y:Convert$2.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint$1({jwk:N}),N})}static compressPublicKey({publicKeyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){return secp256k1$1.ProjectivePoint.fromHex($).toRawBytes(!0)})}static computePublicKey({key:$}){return __awaiter$B(this,void 0,void 0,function*(){const I=yield yo.privateKeyToBytes({privateKey:$}),N=yield yo.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"secp256k1",x:Convert$2.uint8Array(N.x).toBase64Url(),y:Convert$2.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$1({jwk:L}),L})}static convertDerToCompactSignature({derSignature:$}){return __awaiter$B(this,void 0,void 0,function*(){return secp256k1$1.Signature.fromDER($).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){return secp256k1$1.ProjectivePoint.fromHex($).toRawBytes(!1)})}static generateKey(){return __awaiter$B(this,void 0,void 0,function*(){const $=secp256k1$1.utils.randomPrivateKey(),I=yield yo.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$1({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$B(this,void 0,void 0,function*(){if(!(isEcPrivateJwk$1($)&&$.crv==="secp256k1"))throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let{d:N}=$,L=__rest$a($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint$1({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$B(this,void 0,void 0,function*(){if(!isEcPrivateJwk$1($))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Convert$2.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$B(this,void 0,void 0,function*(){if(!(isEcPublicJwk$1($)&&$.y))throw new Error("Secp256k1: The provided key is not a valid EC public key.");const I=new Uint8Array([4]),N=Convert$2.base64Url($.x).toUint8Array(),L=Convert$2.base64Url($.y).toUint8Array();return new Uint8Array([...I,...N,...L])})}static sharedSecret({privateKeyA:$,publicKeyB:I}){return __awaiter$B(this,void 0,void 0,function*(){if("x"in $&&"x"in I&&$.x===I.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const N=yield yo.privateKeyToBytes({privateKey:$}),L=yield yo.publicKeyToBytes({publicKey:I});return secp256k1$1.getSharedSecret(N,L,!0).slice(1)})}static sign({data:$,key:I}){return __awaiter$B(this,void 0,void 0,function*(){const N=yield yo.privateKeyToBytes({privateKey:I}),L=sha256$8($);return secp256k1$1.sign(L,N).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){return secp256k1$1.utils.isValidPrivateKey($)})}static validatePublicKey({publicKeyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){try{secp256k1$1.ProjectivePoint.fromHex($).assertValidity()}catch{return!1}return!0})}static verify({key:$,signature:I,data:N}){return __awaiter$B(this,void 0,void 0,function*(){const L=yield yo.publicKeyToBytes({publicKey:$}),B=sha256$8(N);return secp256k1$1.verify(I,B,L,{lowS:!1})})}static getCurvePoint({keyBytes:$}){return __awaiter$B(this,void 0,void 0,function*(){$.byteLength===32&&($=secp256k1$1.getPublicKey($));const I=secp256k1$1.ProjectivePoint.fromHex($),N=numberToBytesBE(I.x,32),L=numberToBytesBE(I.y,32);return{x:N,y:L}})}};var __awaiter$A=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$9=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Secp256r1$1=class go{static adjustSignatureToLowS({signature:$}){return __awaiter$A(this,void 0,void 0,function*(){const I=secp256r1.Signature.fromCompact($);return I.hasHighS()?I.normalizeS().toCompactRawBytes():$})}static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){const I=yield go.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"P-256",d:Convert$2.uint8Array($).toBase64Url(),x:Convert$2.uint8Array(I.x).toBase64Url(),y:Convert$2.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint$1({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){const I=yield go.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"P-256",x:Convert$2.uint8Array(I.x).toBase64Url(),y:Convert$2.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint$1({jwk:N}),N})}static compressPublicKey({publicKeyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){return secp256r1.ProjectivePoint.fromHex($).toRawBytes(!0)})}static computePublicKey({key:$}){return __awaiter$A(this,void 0,void 0,function*(){const I=yield go.privateKeyToBytes({privateKey:$}),N=yield go.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"P-256",x:Convert$2.uint8Array(N.x).toBase64Url(),y:Convert$2.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint$1({jwk:L}),L})}static convertDerToCompactSignature({derSignature:$}){return __awaiter$A(this,void 0,void 0,function*(){return secp256r1.Signature.fromDER($).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){return secp256r1.ProjectivePoint.fromHex($).toRawBytes(!1)})}static generateKey(){return __awaiter$A(this,void 0,void 0,function*(){const $=secp256r1.utils.randomPrivateKey(),I=yield go.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$1({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$A(this,void 0,void 0,function*(){if(!(isEcPrivateJwk$1($)&&$.crv==="P-256"))throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let{d:N}=$,L=__rest$9($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint$1({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$A(this,void 0,void 0,function*(){if(!isEcPrivateJwk$1($))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Convert$2.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$A(this,void 0,void 0,function*(){if(!(isEcPublicJwk$1($)&&$.y))throw new Error("Secp256r1: The provided key is not a valid EC public key.");const I=new Uint8Array([4]),N=Convert$2.base64Url($.x).toUint8Array(),L=Convert$2.base64Url($.y).toUint8Array();return new Uint8Array([...I,...N,...L])})}static sharedSecret({privateKeyA:$,publicKeyB:I}){return __awaiter$A(this,void 0,void 0,function*(){if("x"in $&&"x"in I&&$.x===I.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const N=yield go.privateKeyToBytes({privateKey:$}),L=yield go.publicKeyToBytes({publicKey:I});return secp256r1.getSharedSecret(N,L,!0).slice(1)})}static sign({data:$,key:I}){return __awaiter$A(this,void 0,void 0,function*(){const N=yield go.privateKeyToBytes({privateKey:I}),L=sha256$8($);return secp256r1.sign(L,N).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){return secp256r1.utils.isValidPrivateKey($)})}static validatePublicKey({publicKeyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){try{secp256r1.ProjectivePoint.fromHex($).assertValidity()}catch{return!1}return!0})}static verify({key:$,signature:I,data:N}){return __awaiter$A(this,void 0,void 0,function*(){const L=yield go.publicKeyToBytes({publicKey:$}),B=sha256$8(N);return secp256r1.verify(I,B,L,{lowS:!1})})}static getCurvePoint({keyBytes:$}){return __awaiter$A(this,void 0,void 0,function*(){$.byteLength===32&&($=secp256r1.getPublicKey($));const I=secp256r1.ProjectivePoint.fromHex($),N=numberToBytesBE(I.x,32),L=numberToBytesBE(I.y,32);return{x:N,y:L}})}};var __awaiter$z=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let EcdsaAlgorithm$1=class extends CryptoAlgorithm$1{computePublicKey({key:$}){return __awaiter$z(this,void 0,void 0,function*(){if(!isEcPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch($.crv){case"secp256k1":{const I=yield Secp256k1$1.computePublicKey({key:$});return I.alg="ES256K",I}case"P-256":{const I=yield Secp256r1$1.computePublicKey({key:$});return I.alg="ES256",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}generateKey({algorithm:$}){return __awaiter$z(this,void 0,void 0,function*(){switch($){case"ES256K":case"secp256k1":{const I=yield Secp256k1$1.generateKey();return I.alg="ES256K",I}case"ES256":case"secp256r1":{const I=yield Secp256r1$1.generateKey();return I.alg="ES256",I}}})}getPublicKey({key:$}){return __awaiter$z(this,void 0,void 0,function*(){if(!isEcPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch($.crv){case"secp256k1":{const I=yield Secp256k1$1.getPublicKey({key:$});return I.alg="ES256K",I}case"P-256":{const I=yield Secp256r1$1.getPublicKey({key:$});return I.alg="ES256",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}sign({key:$,data:I}){return __awaiter$z(this,void 0,void 0,function*(){if(!isEcPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch($.crv){case"secp256k1":return yield Secp256k1$1.sign({key:$,data:I});case"P-256":return yield Secp256r1$1.sign({key:$,data:I});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}verify({key:$,signature:I,data:N}){return __awaiter$z(this,void 0,void 0,function*(){if(!isEcPublicJwk$1($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch($.crv){case"secp256k1":return yield Secp256k1$1.verify({key:$,signature:I,data:N});case"P-256":return yield Secp256r1$1.verify({key:$,signature:I,data:N});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}};var __awaiter$y=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$8=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let Ed25519$1=class na{static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$y(this,void 0,void 0,function*(){const I=ed25519.getPublicKey($),N={crv:"Ed25519",d:Convert$2.uint8Array($).toBase64Url(),kty:"OKP",x:Convert$2.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint$1({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$y(this,void 0,void 0,function*(){const I={kty:"OKP",crv:"Ed25519",x:Convert$2.uint8Array($).toBase64Url()};return I.kid=yield computeJwkThumbprint$1({jwk:I}),I})}static computePublicKey({key:$}){return __awaiter$y(this,void 0,void 0,function*(){const I=yield na.privateKeyToBytes({privateKey:$}),N=ed25519.getPublicKey(I),L={kty:"OKP",crv:"Ed25519",x:Convert$2.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint$1({jwk:L}),L})}static convertPrivateKeyToX25519({privateKey:$}){return __awaiter$y(this,void 0,void 0,function*(){const I=yield na.privateKeyToBytes({privateKey:$}),N=edwardsToMontgomeryPriv(I),L=x25519.getPublicKey(N),B={kty:"OKP",crv:"X25519",d:Convert$2.uint8Array(N).toBase64Url(),x:Convert$2.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint$1({jwk:B}),B})}static convertPublicKeyToX25519({publicKey:$}){return __awaiter$y(this,void 0,void 0,function*(){const I=yield na.publicKeyToBytes({publicKey:$});if(!(yield na.validatePublicKey({publicKeyBytes:I})))throw new Error("Ed25519: Invalid public key.");const L=edwardsToMontgomeryPub(I),B={kty:"OKP",crv:"X25519",x:Convert$2.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint$1({jwk:B}),B})}static generateKey(){return __awaiter$y(this,void 0,void 0,function*(){const $=ed25519.utils.randomPrivateKey(),I=yield na.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$1({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$y(this,void 0,void 0,function*(){if(!(isOkpPrivateJwk$1($)&&$.crv==="Ed25519"))throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let{d:N}=$,L=__rest$8($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint$1({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$y(this,void 0,void 0,function*(){if(!isOkpPrivateJwk$1($))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Convert$2.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$y(this,void 0,void 0,function*(){if(!isOkpPublicJwk$1($))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Convert$2.base64Url($.x).toUint8Array()})}static sign({key:$,data:I}){return __awaiter$y(this,void 0,void 0,function*(){const N=yield na.privateKeyToBytes({privateKey:$});return ed25519.sign(I,N)})}static validatePublicKey({publicKeyBytes:$}){return __awaiter$y(this,void 0,void 0,function*(){try{ed25519.ExtendedPoint.fromHex($).assertValidity()}catch{return!1}return!0})}static verify({key:$,signature:I,data:N}){return __awaiter$y(this,void 0,void 0,function*(){const L=yield na.publicKeyToBytes({publicKey:$});return ed25519.verify(I,N,L)})}};var __awaiter$x=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let EdDsaAlgorithm$1=class extends CryptoAlgorithm$1{computePublicKey({key:$}){return __awaiter$x(this,void 0,void 0,function*(){if(!isOkpPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch($.crv){case"Ed25519":{const I=yield Ed25519$1.computePublicKey({key:$});return I.alg="EdDSA",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}generateKey({algorithm:$}){return __awaiter$x(this,void 0,void 0,function*(){switch($){case"Ed25519":{const I=yield Ed25519$1.generateKey();return I.alg="EdDSA",I}}})}getPublicKey({key:$}){return __awaiter$x(this,void 0,void 0,function*(){if(!isOkpPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch($.crv){case"Ed25519":{const I=yield Ed25519$1.getPublicKey({key:$});return I.alg="EdDSA",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}sign({key:$,data:I}){return __awaiter$x(this,void 0,void 0,function*(){if(!isOkpPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch($.crv){case"Ed25519":return yield Ed25519$1.sign({key:$,data:I});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}verify({key:$,signature:I,data:N}){return __awaiter$x(this,void 0,void 0,function*(){if(!isOkpPublicJwk$1($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");switch($.crv){case"Ed25519":return yield Ed25519$1.verify({key:$,signature:I,data:N});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}};var __awaiter$w=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};const supportedAlgorithms$1={Ed25519:{implementation:EdDsaAlgorithm$1,names:["Ed25519"]},secp256k1:{implementation:EcdsaAlgorithm$1,names:["ES256K","secp256k1"]},secp256r1:{implementation:EcdsaAlgorithm$1,names:["ES256","secp256r1"]},"SHA-256":{implementation:Sha2Algorithm$1,names:["SHA-256"]}};let LocalKeyManager$1=class{constructor($){var I;this._algorithmInstances=new Map,this._keyStore=(I=$==null?void 0:$.keyStore)!==null&&I!==void 0?I:new MemoryStore$1}digest({algorithm:$,data:I}){return __awaiter$w(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:$}).digest({algorithm:$,data:I})})}exportKey({keyUri:$}){return __awaiter$w(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:$})})}generateKey({algorithm:$}){return __awaiter$w(this,void 0,void 0,function*(){const N=yield this.getAlgorithm({algorithm:$}).generateKey({algorithm:$});if((N==null?void 0:N.kid)===void 0)throw new Error("Generated key is missing a required property: kid");const L=`${KEY_URI_PREFIX_JWK$1}${N.kid}`;return yield this._keyStore.set(L,N),L})}getKeyUri({key:$}){return __awaiter$w(this,void 0,void 0,function*(){const I=yield computeJwkThumbprint$1({jwk:$});return`${KEY_URI_PREFIX_JWK$1}${I}`})}getPublicKey({keyUri:$}){return __awaiter$w(this,void 0,void 0,function*(){const I=yield this.getPrivateKey({keyUri:$}),N=this.getAlgorithmName({key:I});return yield this.getAlgorithm({algorithm:N}).getPublicKey({key:I})})}importKey({key:$}){var I;return __awaiter$w(this,void 0,void 0,function*(){if(!isPrivateJwk$1($))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const N=structuredClone($);(I=N.kid)!==null&&I!==void 0||(N.kid=yield computeJwkThumbprint$1({jwk:N}));const L=yield this.getKeyUri({key:N});return yield this._keyStore.set(L,N),L})}sign({keyUri:$,data:I}){return __awaiter$w(this,void 0,void 0,function*(){const N=yield this.getPrivateKey({keyUri:$}),L=this.getAlgorithmName({key:N});return this.getAlgorithm({algorithm:L}).sign({data:I,key:N})})}verify({key:$,signature:I,data:N}){return __awaiter$w(this,void 0,void 0,function*(){const L=this.getAlgorithmName({key:$});return this.getAlgorithm({algorithm:L}).verify({key:$,signature:I,data:N})})}getAlgorithm({algorithm:$}){var I;const N=(I=supportedAlgorithms$1[$])===null||I===void 0?void 0:I.implementation;if(!N)throw new Error(`Algorithm not supported: ${$}`);return this._algorithmInstances.has(N)||this._algorithmInstances.set(N,new N),this._algorithmInstances.get(N)}getAlgorithmName({key:$}){const I=$.alg,N=$.crv;for(const L in supportedAlgorithms$1){const B=supportedAlgorithms$1[L];if(I&&B.names.includes(I))return L;if(N&&B.names.includes(N))return L}throw new Error(`Unable to determine algorithm based on provided input: alg=${I}, crv=${N}`)}getPrivateKey({keyUri:$}){return __awaiter$w(this,void 0,void 0,function*(){const I=yield this._keyStore.get($);if(!I)throw new Error(`Key not found: ${$}`);return I})}};function getJoseSignatureAlgorithmFromPublicKey$1(T){const $={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(T.alg&&Object.values($).includes(T.alg))return T.alg;if(T.crv&&Object.keys($).includes(T.crv))return $[T.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${T.alg}, crv=${T.crv}. Supported 'alg' values: ${Object.values($).join(", ")}. Supported 'crv' values: ${Object.keys($).join(", ")}.`)}var __awaiter$v=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$7=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};let X25519$1=class Fs{static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$v(this,void 0,void 0,function*(){const I=x25519.getPublicKey($),N={kty:"OKP",crv:"X25519",d:Convert$2.uint8Array($).toBase64Url(),x:Convert$2.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint$1({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$v(this,void 0,void 0,function*(){const I={kty:"OKP",crv:"X25519",x:Convert$2.uint8Array($).toBase64Url()};return I.kid=yield computeJwkThumbprint$1({jwk:I}),I})}static computePublicKey({key:$}){return __awaiter$v(this,void 0,void 0,function*(){const I=yield Fs.privateKeyToBytes({privateKey:$}),N=x25519.getPublicKey(I),L={kty:"OKP",crv:"X25519",x:Convert$2.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint$1({jwk:L}),L})}static generateKey(){return __awaiter$v(this,void 0,void 0,function*(){const $=x25519.utils.randomPrivateKey(),I=yield Fs.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint$1({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$v(this,void 0,void 0,function*(){if(!(isOkpPrivateJwk$1($)&&$.crv==="X25519"))throw new Error("X25519: The provided key is not an X25519 private JWK.");let{d:N}=$,L=__rest$7($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint$1({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$v(this,void 0,void 0,function*(){if(!isOkpPrivateJwk$1($))throw new Error("X25519: The provided key is not a valid OKP private key.");return Convert$2.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$v(this,void 0,void 0,function*(){if(!isOkpPublicJwk$1($))throw new Error("X25519: The provided key is not a valid OKP public key.");return Convert$2.base64Url($.x).toUint8Array()})}static sharedSecret({privateKeyA:$,publicKeyB:I}){return __awaiter$v(this,void 0,void 0,function*(){if("x"in $&&"x"in I&&$.x===I.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const N=yield Fs.privateKeyToBytes({privateKey:$}),L=yield Fs.publicKeyToBytes({publicKey:I});return x25519.getSharedSecret(N,L)})}};function extractDidFragment$1(T){if(typeof T=="string"&&T.length!==0)return T.split("#").pop()}function getVerificationMethods$1({didDocument:T}){var $,I;if(!T)throw new TypeError("Required parameter missing: 'didDocument'");const N=[];return N.push(...(I=($=T.verificationMethod)===null||$===void 0?void 0:$.filter(isDidVerificationMethod$1))!==null&&I!==void 0?I:[]),Object.keys(DidVerificationRelationship$2).forEach(L=>{var B,H;N.push(...(H=(B=T[L])===null||B===void 0?void 0:B.filter(isDidVerificationMethod$1))!==null&&H!==void 0?H:[])}),N}function getVerificationMethodTypes$1({didDocument:T}){const I=getVerificationMethods$1({didDocument:T}).map(N=>N.type);return[...new Set(I)]}function getVerificationRelationshipsById$1({didDocument:T,methodId:$}){const I=[];return Object.keys(DidVerificationRelationship$2).forEach(N=>{if(Array.isArray(T[N])){const L=T[N],B=extractDidFragment$1($);L.some(z=>{const Q=extractDidFragment$1(z)===B,te=isDidVerificationMethod$1(z)&&extractDidFragment$1(z.id)===B;return Q||te})&&I.push(N)}}),I}function isDidVerificationMethod$1(T){return!(!T||typeof T!="object"||T===null||!("id"in T&&"type"in T&&"controller"in T)||typeof T.id!="string"||typeof T.type!="string"||typeof T.controller!="string")}function keyBytesToMultibaseId$1({keyBytes:T,multicodecCode:$,multicodecName:I}){const N=Multicodec$3.addPrefix({code:$,data:T,name:I}),L=Convert$2.uint8Array(N).toBase58Btc();return Convert$2.base58Btc(L).toMultibase()}function multibaseIdToKeyBytes$1({multibaseKeyId:T}){try{const $=Convert$2.multibase(T).toBase58Btc(),I=Convert$2.base58Btc($).toUint8Array(),{code:N,data:L,name:B}=Multicodec$3.removePrefix({prefixedData:I});return{keyBytes:L,multicodecCode:N,multicodecName:B}}catch{throw new DidError$1(DidErrorCode$2.InvalidDid,`Invalid multibase identifier: ${T}`)}}var __awaiter$u=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let BearerDid$1=class jf{constructor({uri:$,document:I,metadata:N,keyManager:L}){this.uri=$,this.document=I,this.metadata=N,this.keyManager=L}export(){return __awaiter$u(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let $={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&typeof this.keyManager.exportKey=="function"){const I=[];for(let N of this.document.verificationMethod){if(!N.publicKeyJwk)throw new Error(`Verification method '${N.id}' does not contain a public key in JWK format`);const L=yield this.keyManager.getKeyUri({key:N.publicKeyJwk}),B=yield this.keyManager.exportKey({keyUri:L});I.push(Object.assign({},B))}$.privateKeys=I}return $})}getSigner($){return __awaiter$u(this,void 0,void 0,function*(){var I;const N=(I=this.document.verificationMethod)===null||I===void 0?void 0:I.find(Q=>{var te,G;return extractDidFragment$1(Q.id)===((te=extractDidFragment$1($==null?void 0:$.methodId))!==null&&te!==void 0?te:extractDidFragment$1((G=this.document.assertionMethod)===null||G===void 0?void 0:G[0]))});if(!(N&&N.publicKeyJwk))throw new DidError$1(DidErrorCode$2.InternalError,"A verification method intended for signing could not be determined from the DID Document");const L=yield this.keyManager.getKeyUri({key:N.publicKeyJwk}),B=yield this.keyManager.getPublicKey({keyUri:L}),H=this.keyManager;return{algorithm:getJoseSignatureAlgorithmFromPublicKey$1(B),keyId:N.id,sign(Q){return __awaiter$u(this,arguments,void 0,function*({data:te}){return yield H.sign({data:te,keyUri:L})})},verify(Q){return __awaiter$u(this,arguments,void 0,function*({data:te,signature:G}){return yield H.verify({data:te,key:B,signature:G})})}}})}static import($){return __awaiter$u(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$1}){var L;const B=getVerificationMethods$1({didDocument:I.document});if(B.length===0)throw new DidError$1(DidErrorCode$2.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let z of(L=I.privateKeys)!==null&&L!==void 0?L:[])yield N.importKey({key:z});for(let z of B){if(!z.publicKeyJwk)throw new Error(`Verification method '${z.id}' does not contain a public key in JWK format`);const Q=yield N.getKeyUri({key:z.publicKeyJwk});yield N.getPublicKey({keyUri:Q})}return new jf({uri:I.uri,document:I.document,metadata:I.metadata,keyManager:N})})}};var __awaiter$t=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let DidMethod$1=class{static getSigningMethod($){return __awaiter$t(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve($,I){return __awaiter$t(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}};var __awaiter$s=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$6=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};const DEFAULT_GATEWAY_URI$3="https://diddht.tbddev.org",DID_DHT_SPECIFICATION_VERSION$1=0,DNS_RECORD_TTL$1=7200,PROPERTY_SEPARATOR$1=";",VALUE_SEPARATOR$1=",";var DidDhtRegisteredDidType$2;(function(T){T[T.Discoverable=0]="Discoverable",T[T.Organization=1]="Organization",T[T.Government=2]="Government",T[T.Corporation=3]="Corporation",T[T.LocalBusiness=4]="LocalBusiness",T[T.SoftwarePackage=5]="SoftwarePackage",T[T.WebApp=6]="WebApp",T[T.FinancialInstitution=7]="FinancialInstitution"})(DidDhtRegisteredDidType$2||(DidDhtRegisteredDidType$2={}));var DidDhtRegisteredKeyType$2;(function(T){T[T.Ed25519=0]="Ed25519",T[T.secp256k1=1]="secp256k1",T[T.secp256r1=2]="secp256r1",T[T.X25519=3]="X25519"})(DidDhtRegisteredKeyType$2||(DidDhtRegisteredKeyType$2={}));var DidDhtVerificationRelationship$2;(function(T){T.authentication="auth",T.assertionMethod="asm",T.capabilityDelegation="del",T.capabilityInvocation="inv",T.keyAgreement="agm"})(DidDhtVerificationRelationship$2||(DidDhtVerificationRelationship$2={}));const AlgorithmToKeyTypeMap$5={Ed25519:DidDhtRegisteredKeyType$2.Ed25519,ES256K:DidDhtRegisteredKeyType$2.secp256k1,ES256:DidDhtRegisteredKeyType$2.secp256r1,"P-256":DidDhtRegisteredKeyType$2.secp256r1,secp256k1:DidDhtRegisteredKeyType$2.secp256k1,secp256r1:DidDhtRegisteredKeyType$2.secp256r1,X25519:DidDhtRegisteredKeyType$2.X25519},KeyTypeToDefaultAlgorithmMap$1={[DidDhtRegisteredKeyType$2.Ed25519]:"EdDSA",[DidDhtRegisteredKeyType$2.secp256k1]:"ES256K",[DidDhtRegisteredKeyType$2.secp256r1]:"ES256",[DidDhtRegisteredKeyType$2.X25519]:"ECDH-ES+A256KW"};let DidDht$1=class Eu extends DidMethod$1{static create(){return __awaiter$s(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$1,options:I={}}={}){var N,L,B,H,z,Q,te,G,ie,Re,$e;if(!((N=I.verificationMethods)===null||N===void 0)&&N.some(Ge=>!(Ge.algorithm in AlgorithmToKeyTypeMap$5)))throw new Error("One or more verification method algorithms are not supported");const Pe=(L=I.verificationMethods)===null||L===void 0?void 0:L.filter(Ge=>"id"in Ge).map(Ge=>Ge.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(!((B=I.services)===null||B===void 0)&&B.some(Ge=>!Ge.id||!Ge.type||!Ge.serviceEndpoint))throw new Error("One or more services are missing required properties");const Me=yield $.generateKey({algorithm:"Ed25519"}),Be=yield $.getPublicKey({keyUri:Me}),Ke=yield DidDhtUtils$1.identityKeyToIdentifier({identityKey:Be}),Le=Object.assign(Object.assign({id:Ke},I.alsoKnownAs&&{alsoKnownAs:I.alsoKnownAs}),I.controllers&&{controller:I.controllers}),qe=[...(H=I.verificationMethods)!==null&&H!==void 0?H:[]];qe!=null&&qe.some(Ge=>{var at;return((at=Ge.id)===null||at===void 0?void 0:at.split("#").pop())==="0"})||qe.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ge of qe){const at=Ge.id&&Ge.id.split("#").pop()==="0"?Me:yield $.generateKey({algorithm:Ge.algorithm}),ot=yield $.getPublicKey({keyUri:at});let Ye=(Q=(z=Ge.id)!==null&&z!==void 0?z:ot.kid)!==null&&Q!==void 0?Q:yield computeJwkThumbprint$1({jwk:ot});Ye=`${Ke}#${extractDidFragment$1(Ye)}`,(te=Le.verificationMethod)!==null&&te!==void 0||(Le.verificationMethod=[]),Le.verificationMethod.push({id:Ye,type:"JsonWebKey",controller:(G=Ge.controller)!==null&&G!==void 0?G:Ke,publicKeyJwk:ot});for(const nt of(ie=Ge.purposes)!==null&&ie!==void 0?ie:[])Le[nt]||(Le[nt]=[]),Le[nt].push(Ye)}(Re=I.services)===null||Re===void 0||Re.forEach(Ge=>{var at;(at=Le.service)!==null&&at!==void 0||(Le.service=[]),Ge.id=`${Ke}#${Ge.id.split("#").pop()}`,Le.service.push(Ge)});const He=new BearerDid$1({uri:Ke,document:Le,metadata:Object.assign({published:!1},I.types&&{types:I.types}),keyManager:$});if(!(($e=I.publish)!==null&&$e!==void 0)||$e){const Ge=yield Eu.publish({did:He,gatewayUri:I.gatewayUri});He.metadata=Ge.didDocumentMetadata}return He})}static import($){return __awaiter$s(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$1}){var L;const B=Did$1.parse(I.uri);if((B==null?void 0:B.method)!==Eu.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,"Method not supported");const H=yield BearerDid$1.import({portableDid:I,keyManager:N});if(!(!((L=H.document.verificationMethod)===null||L===void 0)&&L.some(z=>{var Q;return((Q=z.id)===null||Q===void 0?void 0:Q.split("#").pop())==="0"})))throw new DidError$1(DidErrorCode$2.InvalidDidDocument,"DID document must contain an Identity Key");return H})}static getSigningMethod($){return __awaiter$s(this,arguments,void 0,function*({didDocument:I,methodId:N="#0"}){var L;const B=Did$1.parse(I.id);if(B&&B.method!==this.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,`Method not supported: ${B.method}`);const H=(L=I.verificationMethod)===null||L===void 0?void 0:L.find(z=>{var Q,te;return extractDidFragment$1(z.id)===((Q=extractDidFragment$1(N))!==null&&Q!==void 0?Q:extractDidFragment$1((te=I.assertionMethod)===null||te===void 0?void 0:te[0]))});if(!(H&&H.publicKeyJwk))throw new DidError$1(DidErrorCode$2.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static publish($){return __awaiter$s(this,arguments,void 0,function*({did:I,gatewayUri:N=DEFAULT_GATEWAY_URI$3}){return yield DidDhtDocument$1.put({did:I,gatewayUri:N})})}static resolve($){return __awaiter$s(this,arguments,void 0,function*(I,N={}){var L;const B=(L=N==null?void 0:N.gatewayUri)!==null&&L!==void 0?L:DEFAULT_GATEWAY_URI$3;try{yield DidDhtUtils$1.identifierToIdentityKey({didUri:I});const{didDocument:H,didDocumentMetadata:z}=yield DidDhtDocument$1.get({didUri:I,gatewayUri:B});return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didDocument:H,didDocumentMetadata:z})}catch(H){if(!(H instanceof DidError$1))throw new Error(H);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:Object.assign({error:H.code},H.message&&{errorMessage:H.message})})}})}};DidDht$1.methodName="dht";let DidDhtDocument$1=class Sa{static get($){return __awaiter$s(this,arguments,void 0,function*({didUri:I,gatewayUri:N}){const L=DidDhtUtils$1.identifierToIdentityKeyBytes({didUri:I}),B=yield Sa.pkarrGet({gatewayUri:N,publicKeyBytes:L}),H=yield DidDhtUtils$1.parseBep44GetMessage({bep44Message:B}),z=yield Sa.fromDnsPacket({didUri:I,dnsPacket:H});return z.didDocumentMetadata.versionId=B.seq.toString(),z})}static put($){return __awaiter$s(this,arguments,void 0,function*({did:I,gatewayUri:N}){const L=yield Sa.toDnsPacket({didDocument:I.document,didMetadata:I.metadata,authoritativeGatewayUris:[N]}),B=yield DidDhtUtils$1.createBep44PutMessage({dnsPacket:L,publicKeyBytes:DidDhtUtils$1.identifierToIdentityKeyBytes({didUri:I.uri}),signer:yield I.getSigner({methodId:"0"})}),H=yield Sa.pkarrPut({gatewayUri:N,bep44Message:B});return{didDocument:I.document,didDocumentMetadata:Object.assign(Object.assign({},I.metadata),{published:H,versionId:B.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet($){return __awaiter$s(this,arguments,void 0,function*({gatewayUri:I,publicKeyBytes:N}){const L=Convert$2.uint8Array(N).toBase32Z(),B=new URL(L,I).href;let H;try{if(H=yield fetch(B,{method:"GET"}),!H.ok)throw new DidError$1(DidErrorCode$2.NotFound,`Pkarr record not found for: ${L}`)}catch(te){throw te instanceof DidError$1?te:new DidError$1(DidErrorCode$2.InternalError,`Failed to fetch Pkarr record: ${te.message}`)}const z=yield H.arrayBuffer();if(!z)throw new DidError$1(DidErrorCode$2.NotFound,`Pkarr record not found for: ${L}`);if(z.byteLength<72)throw new DidError$1(DidErrorCode$2.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${z.byteLength}`);if(z.byteLength>1072)throw new DidError$1(DidErrorCode$2.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${z.byteLength}`);return{k:N,seq:Number(new DataView(z).getBigUint64(64)),sig:new Uint8Array(z,0,64),v:new Uint8Array(z,72)}})}static pkarrPut($){return __awaiter$s(this,arguments,void 0,function*({gatewayUri:I,bep44Message:N}){const L=Convert$2.uint8Array(N.k).toBase32Z(),B=new URL(L,I).href,H=new Uint8Array(N.v.length+72);H.set(N.sig,0),new DataView(H.buffer).setBigUint64(N.sig.length,BigInt(N.seq)),H.set(N.v,N.sig.length+8);let z;try{z=yield fetch(B,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:H})}catch(Q){throw new DidError$1(DidErrorCode$2.InternalError,`Failed to put Pkarr record for identifier ${L}: ${Q.message}`)}return z.ok})}static fromDnsPacket($){return __awaiter$s(this,arguments,void 0,function*({didUri:I,dnsPacket:N}){var L,B,H;const z={id:I},Q={published:!0},te=new Map;for(const G of(L=N==null?void 0:N.answers)!==null&&L!==void 0?L:[]){if(G.type!=="TXT")continue;const ie=G.name.split(".")[0].substring(1);switch(!0){case ie.startsWith("aka"):{const Re=DidDhtUtils$1.parseTxtDataToString(G.data);z.alsoKnownAs=Re.split(VALUE_SEPARATOR$1);break}case ie.startsWith("cnt"):{const Re=DidDhtUtils$1.parseTxtDataToString(G.data);z.controller=Re.includes(VALUE_SEPARATOR$1)?Re.split(VALUE_SEPARATOR$1):Re;break}case ie.startsWith("k"):{const{id:Re,t:$e,k:Pe,c:Me,a:Be}=DidDhtUtils$1.parseTxtDataToObject(G.data),Ke=Convert$2.base64Url(Pe).toUint8Array(),Le=DidDhtRegisteredKeyType$2[Number($e)];let qe=yield DidDhtUtils$1.keyConverter(Le).bytesToPublicKey({publicKeyBytes:Ke});qe.alg=Be||KeyTypeToDefaultAlgorithmMap$1[Number($e)];const He=ie==="k0"?"0":Re!==void 0?Re:yield computeJwkThumbprint$1({jwk:qe});(B=z.verificationMethod)!==null&&B!==void 0||(z.verificationMethod=[]);const Ge=`${I}#${He}`;z.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:Me??I,publicKeyJwk:qe}),te.set(ie,Ge);break}case ie.startsWith("s"):{const Re=DidDhtUtils$1.parseTxtDataToObject(G.data),{id:$e,t:Pe,se:Me}=Re,Be=__rest$6(Re,["id","t","se"]),Ke=Me.includes(VALUE_SEPARATOR$1)?Me.split(VALUE_SEPARATOR$1):[Me],Le=Object.fromEntries(Object.entries(Be).map(([qe,He])=>[qe,He.includes(VALUE_SEPARATOR$1)?He.split(VALUE_SEPARATOR$1):He]));(H=z.service)!==null&&H!==void 0||(z.service=[]),z.service.push(Object.assign(Object.assign({},Le),{id:`${I}#${$e}`,type:Pe,serviceEndpoint:Ke}));break}case ie.startsWith("typ"):{const{id:Re}=DidDhtUtils$1.parseTxtDataToObject(G.data);Q.types=Re.split(VALUE_SEPARATOR$1).map($e=>Number($e));break}case ie.startsWith("did"):{const Re=Le=>Le.split(VALUE_SEPARATOR$1).map(qe=>te.get(qe)).filter(qe=>typeof qe=="string"),{auth:$e,asm:Pe,del:Me,inv:Be,agm:Ke}=DidDhtUtils$1.parseTxtDataToObject(G.data);$e&&(z.authentication=Re($e)),Pe&&(z.assertionMethod=Re(Pe)),Me&&(z.capabilityDelegation=Re(Me)),Be&&(z.capabilityInvocation=Re(Be)),Ke&&(z.keyAgreement=Re(Ke));break}}}return{didDocument:z,didDocumentMetadata:Q,didResolutionMetadata:{}}})}static toDnsPacket($){return __awaiter$s(this,arguments,void 0,function*({didDocument:I,didMetadata:N,authoritativeGatewayUris:L,previousDidProof:B}){var H,z,Q,te,G;const ie=[],Re=[],$e=new Map,Pe=[],Me=[];if(B!==void 0){const{signature:Le,previousDid:qe}=B;yield DidDhtUtils$1.validatePreviousDidProof({newDid:I.id,previousDidProof:B}),ie.push({type:"TXT",name:"_prv._did.",ttl:DNS_RECORD_TTL$1,data:`id=${qe};s=${Le}`})}if(I.alsoKnownAs&&ie.push({type:"TXT",name:"_aka._did.",ttl:DNS_RECORD_TTL$1,data:I.alsoKnownAs.join(VALUE_SEPARATOR$1)}),I.controller){const Le=Array.isArray(I.controller)?I.controller.join(VALUE_SEPARATOR$1):I.controller;ie.push({type:"TXT",name:"_cnt._did.",ttl:DNS_RECORD_TTL$1,data:Le})}for(const[Le,qe]of(z=(H=I.verificationMethod)===null||H===void 0?void 0:H.entries())!==null&&z!==void 0?z:[]){const He=`k${Le}`;Me.push(He);let Ge=qe.id.split("#").pop();$e.set(Ge,He);const at=qe.publicKeyJwk;if(!(at!=null&&at.crv&&at.crv in AlgorithmToKeyTypeMap$5))throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Verification method '${qe.id}' contains an unsupported key type: ${(Q=at==null?void 0:at.crv)!==null&&Q!==void 0?Q:"undefined"}`);const ot=DidDhtRegisteredKeyType$2[at.crv],Ye=yield DidDhtUtils$1.keyConverter(at.crv).publicKeyToBytes({publicKey:at}),nt=Convert$2.uint8Array(Ye).toBase64Url(),Qe=[`t=${ot}`,`k=${nt}`];Ge!=="0"&&(yield computeJwkThumbprint$1({jwk:at}))!==Ge&&Qe.unshift(`id=${Ge}`),at.alg!==KeyTypeToDefaultAlgorithmMap$1[ot]&&Qe.push(`a=${at.alg}`),qe.controller!==I.id&&Qe.push(`c=${qe.controller}`),ie.push({type:"TXT",name:`_${He}._did.`,ttl:DNS_RECORD_TTL$1,data:Qe.join(PROPERTY_SEPARATOR$1)})}(te=I.service)===null||te===void 0||te.forEach((Le,qe)=>{const He=`s${qe}`;Pe.push(He);let{id:Ge,type:at,serviceEndpoint:ot}=Le,Ye=__rest$6(Le,["id","type","serviceEndpoint"]);Ge=extractDidFragment$1(Ge),ot=Array.isArray(ot)?ot.join(","):ot;const Qe=Object.entries(Object.assign({id:Ge,t:at,se:ot},Ye)).map(([ze,Fe])=>`${ze}=${Fe}`).join(PROPERTY_SEPARATOR$1),tt=DidDhtUtils$1.chunkDataIfNeeded(Qe);ie.push({type:"TXT",name:`_${He}._did.`,ttl:DNS_RECORD_TTL$1,data:tt})});const Be=[`v=${DID_DHT_SPECIFICATION_VERSION$1}`];if(Me.length&&Be.push(`vm=${Me.join(VALUE_SEPARATOR$1)}`),Object.keys(DidVerificationRelationship$2).forEach(Le=>{var qe;const He=(qe=I[Le])===null||qe===void 0?void 0:qe.map(Ge=>$e.get(Ge.split("#").pop()));if(He){const Ge=DidDhtVerificationRelationship$2[Le];Be.push(`${Ge}=${He.join(VALUE_SEPARATOR$1)}`)}}),Pe.length&&Be.push(`svc=${Pe.join(VALUE_SEPARATOR$1)}`),!((G=N.types)===null||G===void 0)&&G.length){const qe=N.types.map(He=>typeof He=="string"?DidDhtRegisteredDidType$2[He]:He);ie.push({type:"TXT",name:"_typ._did.",ttl:DNS_RECORD_TTL$1,data:`id=${qe.join(VALUE_SEPARATOR$1)}`})}ie.push({type:"TXT",name:"_did."+Sa.getUniqueDidSuffix(I.id)+".",ttl:DNS_RECORD_TTL$1,data:Be.join(PROPERTY_SEPARATOR$1)});for(const Le of L||[])Re.push({type:"NS",name:"_did."+Sa.getUniqueDidSuffix(I.id)+".",ttl:DNS_RECORD_TTL$1,data:Le+"."});return{id:0,type:"response",flags:AUTHORITATIVE_ANSWER,answers:[...ie,...Re]}})}static getUniqueDidSuffix($){return $.split(":")[2]}},DidDhtUtils$1=class Jl{static createBep44PutMessage($){return __awaiter$s(this,arguments,void 0,function*({dnsPacket:I,publicKeyBytes:N,signer:L}){const B=Math.ceil(Date.now()/1e3),H=encode$c(I),z=bencode.encode({seq:B,v:H}).subarray(1,-1);if(z.length>1e3)throw new DidError$1(DidErrorCode$2.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${z.length} bytes`);const Q=yield L.sign({data:z});return{k:N,seq:B,sig:Q,v:H}})}static identifierToIdentityKey($){return __awaiter$s(this,arguments,void 0,function*({didUri:I}){let N=Jl.identifierToIdentityKeyBytes({didUri:I});return yield Ed25519$1.bytesToPublicKey({publicKeyBytes:N})})}static identifierToIdentityKeyBytes({didUri:$}){const I=Did$1.parse($);if(!I)throw new DidError$1(DidErrorCode$2.InvalidDid,`Invalid DID URI: ${$}`);if(I.method!==DidDht$1.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,`Method not supported: ${I.method}`);let N;try{N=Convert$2.base32Z(I.id).toUint8Array()}catch{throw new DidError$1(DidErrorCode$2.InvalidPublicKey,"Failed to decode method-specific identifier")}if(N.length!==32)throw new DidError$1(DidErrorCode$2.InvalidPublicKeyLength,`Invalid public key length: ${N.length}`);return N}static identityKeyToIdentifier($){return __awaiter$s(this,arguments,void 0,function*({identityKey:I}){const N=yield Ed25519$1.publicKeyToBytes({publicKey:I}),L=Convert$2.uint8Array(N).toBase32Z();return`did:${DidDht$1.methodName}:${L}`})}static keyConverter($){const N={Ed25519:Ed25519$1,"P-256":{publicKeyToBytes:L=>__awaiter$s(this,[L],void 0,function*({publicKey:B}){const H=yield Secp256r1$1.publicKeyToBytes({publicKey:B});return yield Secp256r1$1.compressPublicKey({publicKeyBytes:H})}),bytesToPublicKey:Secp256r1$1.bytesToPublicKey,privateKeyToBytes:Secp256r1$1.privateKeyToBytes,bytesToPrivateKey:Secp256r1$1.bytesToPrivateKey},secp256k1:{publicKeyToBytes:L=>__awaiter$s(this,[L],void 0,function*({publicKey:B}){const H=yield Secp256k1$1.publicKeyToBytes({publicKey:B});return yield Secp256k1$1.compressPublicKey({publicKeyBytes:H})}),bytesToPublicKey:Secp256k1$1.bytesToPublicKey,privateKeyToBytes:Secp256k1$1.privateKeyToBytes,bytesToPrivateKey:Secp256k1$1.bytesToPrivateKey},X25519:X25519$1}[$];if(!N)throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static parseBep44GetMessage($){return __awaiter$s(this,arguments,void 0,function*({bep44Message:I}){const N=yield Ed25519$1.bytesToPublicKey({publicKeyBytes:I.k}),L=bencode.encode({seq:I.seq,v:I.v}).subarray(1,-1);if(!(yield Ed25519$1.verify({key:N,signature:I.sig,data:L})))throw new DidError$1(DidErrorCode$2.InvalidSignature,"Invalid signature for DHT BEP44 message");return decode$j(I.v)})}static parseTxtDataToObject($){return this.parseTxtDataToString($).split(PROPERTY_SEPARATOR$1).reduce((I,N)=>{const[L,B]=N.split("=");return I[L]=B,I},{})}static parseTxtDataToString($){if(typeof $=="string")return $;if($ instanceof Uint8Array)return Convert$2.uint8Array($).toString();if(Array.isArray($))return $.map(I=>this.parseTxtDataToString(I)).join("");throw new DidError$1(DidErrorCode$2.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof($){return __awaiter$s(this,arguments,void 0,function*({newDid:I,previousDidProof:N}){const L=yield Jl.identifierToIdentityKey({didUri:N.previousDid}),B=Jl.identifierToIdentityKeyBytes({didUri:I}),H=Convert$2.base64Url(N.signature).toUint8Array();if(!(yield Ed25519$1.verify({key:L,data:B,signature:H})))throw new DidError$1(DidErrorCode$2.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded($){if($.length<=255)return $;const I=[];for(let N=0;N<$.length;N+=255)I.push($.slice(N,N+255));return I}};var __awaiter$r=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},DidIonRegisteredKeyType$2;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidIonRegisteredKeyType$2||(DidIonRegisteredKeyType$2={}));const AlgorithmToKeyTypeMap$4={Ed25519:DidIonRegisteredKeyType$2.Ed25519,ES256K:DidIonRegisteredKeyType$2.secp256k1,ES256:DidIonRegisteredKeyType$2.secp256r1,"P-256":DidIonRegisteredKeyType$2.secp256r1,secp256k1:DidIonRegisteredKeyType$2.secp256k1,secp256r1:DidIonRegisteredKeyType$2.secp256r1},DEFAULT_GATEWAY_URI$2="https://ion.tbd.engineering";let DidIon$1=class js extends DidMethod$1{static create(){return __awaiter$r(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$1,options:I={}}={}){var N,L,B,H,z,Q,te;if(!((N=I.verificationMethods)===null||N===void 0)&&N.some(Ge=>!(Ge.algorithm in AlgorithmToKeyTypeMap$4)))throw new Error("One or more verification method algorithms are not supported");const G=(L=I.verificationMethods)===null||L===void 0?void 0:L.filter(Ge=>"id"in Ge).map(Ge=>Ge.id);if(G&&G.length!==new Set(G).size)throw new Error("One or more verification method IDs are not unique");if(!((B=I.services)===null||B===void 0)&&B.some(Ge=>!Ge.id||!Ge.type||!Ge.serviceEndpoint))throw new Error("One or more services are missing required properties");const ie={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Re=[];for(const Ge of(H=I.verificationMethods)!==null&&H!==void 0?H:[ie]){const at=yield $.generateKey({algorithm:Ge.algorithm}),ot=yield $.getPublicKey({keyUri:at});Re.push({id:Ge.id,publicKeyJwk:ot,purposes:(z=Ge.purposes)!==null&&z!==void 0?z:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const $e=yield $.generateKey({algorithm:DidIonRegisteredKeyType$2.secp256k1}),Pe=yield $.getPublicKey({keyUri:$e}),Me=yield $.generateKey({algorithm:DidIonRegisteredKeyType$2.secp256k1}),Be=yield $.getPublicKey({keyUri:Me}),Ke=yield DidIonUtils$1.computeLongFormDidUri({recoveryKey:Pe,updateKey:Be,services:(Q=I.services)!==null&&Q!==void 0?Q:[],verificationMethods:Re}),{didDocument:Le,didResolutionMetadata:qe}=yield js.resolve(Ke,{gatewayUri:I.gatewayUri});if(Le===null)throw new Error(`Unable to resolve DID during creation: ${qe==null?void 0:qe.error}`);const He=new BearerDid$1({uri:Ke,document:Le,metadata:{published:!1,canonicalId:Ke.split(":",3).join(":"),recoveryKey:Pe,updateKey:Be},keyManager:$});if(!((te=I.publish)!==null&&te!==void 0)||te){const Ge=yield js.publish({did:He,gatewayUri:I.gatewayUri});He.metadata=Ge.didDocumentMetadata}return He})}static getSigningMethod($){return __awaiter$r(this,arguments,void 0,function*({didDocument:I,methodId:N}){var L;const B=Did$1.parse(I.id);if(B&&B.method!==this.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,`Method not supported: ${B.method}`);const H=(L=I.verificationMethod)===null||L===void 0?void 0:L.find(z=>{var Q;return z.id===(N??((Q=I.assertionMethod)===null||Q===void 0?void 0:Q[0]))});if(!(H&&H.publicKeyJwk))throw new DidError$1(DidErrorCode$2.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static import($){return __awaiter$r(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$1}){const L=Did$1.parse(I.uri);if((L==null?void 0:L.method)!==js.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,"Method not supported");return yield BearerDid$1.import({portableDid:I,keyManager:N})})}static publish($){return __awaiter$r(this,arguments,void 0,function*({did:I,gatewayUri:N=DEFAULT_GATEWAY_URI$2}){var L,B,H;const z=(B=(L=I.document.verificationMethod)===null||L===void 0?void 0:L.map(G=>({id:G.id,publicKeyJwk:G.publicKeyJwk,purposes:getVerificationRelationshipsById$1({didDocument:I.document,methodId:G.id})})))!==null&&B!==void 0?B:[],Q=yield DidIonUtils$1.createIonDocument({services:(H=I.document.service)!==null&&H!==void 0?H:[],verificationMethods:z}),te=yield DidIonUtils$1.constructCreateRequest({ionDocument:Q,recoveryKey:I.metadata.recoveryKey,updateKey:I.metadata.updateKey});try{const G=DidIonUtils$1.appendPathToUrl({baseUrl:N,path:"/operations"}),ie=yield fetch(G,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});return{didDocument:I.document,didDocumentMetadata:Object.assign(Object.assign({},I.metadata),{published:ie.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:DidErrorCode$2.InternalError,errorMessage:`Failed to publish DID document for: ${I.uri}`}}}})}static resolve($){return __awaiter$r(this,arguments,void 0,function*(I,N={}){var L,B;const H=Did$1.parse(I);if(!H)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"invalidDid"}});if(H.method!==js.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"methodNotSupported"}});const z=(L=N==null?void 0:N.gatewayUri)!==null&&L!==void 0?L:DEFAULT_GATEWAY_URI$2;try{const Q=DidIonUtils$1.appendPathToUrl({baseUrl:z,path:`/identifiers/${I}`}),te=yield fetch(Q);if(!te.ok)throw new DidError$1(DidErrorCode$2.NotFound,`Unable to find DID document for: ${I}`);const{didDocument:G,didDocumentMetadata:ie}=yield te.json();return Object.assign(Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),G&&{didDocument:G}),{didDocumentMetadata:Object.assign({published:(B=ie==null?void 0:ie.method)===null||B===void 0?void 0:B.published},ie)})}catch(Q){if(!(Q instanceof DidError$1))throw new Error(Q);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:Object.assign({error:Q.code},Q.message&&{errorMessage:Q.message})})}})}};DidIon$1.methodName="ion";let DidIonUtils$1=class Aa{static appendPathToUrl({baseUrl:$,path:I}){const N=new URL($);return N.pathname=N.pathname.endsWith("/")?N.pathname:N.pathname+"/",N.pathname+=I.startsWith("/")?I.substring(1):I,N.toString()}static computeLongFormDidUri($){return __awaiter$r(this,arguments,void 0,function*({recoveryKey:I,updateKey:N,services:L,verificationMethods:B}){const H=yield Aa.createIonDocument({services:L,verificationMethods:B}),z=Aa.normalizeJwk(I),Q=Aa.normalizeJwk(N);return yield IonDid.createLongFormDid({document:H,recoveryKey:z,updateKey:Q})})}static constructCreateRequest($){return __awaiter$r(this,arguments,void 0,function*({ionDocument:I,recoveryKey:N,updateKey:L}){return yield IonRequest.createCreateRequest({document:I,recoveryKey:Aa.normalizeJwk(N),updateKey:Aa.normalizeJwk(L)})})}static createIonDocument($){return __awaiter$r(this,arguments,void 0,function*({services:I,verificationMethods:N}){var L,B;const H=[];for(const te of N){let G=(B=(L=te.id)!==null&&L!==void 0?L:te.publicKeyJwk.kid)!==null&&B!==void 0?B:yield computeJwkThumbprint$1({jwk:te.publicKeyJwk});G=`${G.split("#").pop()}`;const ie={id:G,publicKeyJwk:Aa.normalizeJwk(te.publicKeyJwk),purposes:te.purposes,type:"JsonWebKey2020"};H.push(ie)}const z=I.map(te=>Object.assign(Object.assign({},te),{id:`${te.id.split("#").pop()}`}));return{publicKeys:H,services:z}})}static normalizeJwk($){const I=$.kty;let N;if(I==="EC")N={crv:$.crv,kty:$.kty,x:$.x,y:$.y};else if(I==="oct")N={k:$.k,kty:$.kty};else if(I==="OKP")N={crv:$.crv,kty:$.kty,x:$.x};else if(I==="RSA")N={e:$.e,kty:$.kty,n:$.n};else throw new Error(`Unsupported key type: ${I}`);return N}};var __awaiter$q=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};let DidJwk$1=class Us extends DidMethod$1{static create(){return __awaiter$q(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$1,options:I={}}={}){var N,L,B,H;if(I.algorithm&&I.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(I.verificationMethods&&I.verificationMethods.length!==1)throw new Error("The 'verificationMethods' option must contain exactly one entry");const z=(H=(N=I.algorithm)!==null&&N!==void 0?N:(B=(L=I.verificationMethods)===null||L===void 0?void 0:L[0])===null||B===void 0?void 0:B.algorithm)!==null&&H!==void 0?H:"Ed25519",Q=yield $.generateKey({algorithm:z}),te=yield $.getPublicKey({keyUri:Q}),G=Convert$2.object(te).toBase64Url(),ie=`did:${Us.methodName}:${G}`,$e=(yield Us.resolve(ie)).didDocument;return new BearerDid$1({uri:ie,document:$e,metadata:{},keyManager:$})})}static getSigningMethod($){return __awaiter$q(this,arguments,void 0,function*({didDocument:I}){var N;const L=Did$1.parse(I.id);if(L&&L.method!==this.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,`Method not supported: ${L.method}`);const[B]=(N=I.verificationMethod)!==null&&N!==void 0?N:[];if(!(B&&B.publicKeyJwk))throw new DidError$1(DidErrorCode$2.InternalError,"A verification method intended for signing could not be determined from the DID Document");return B})}static import($){return __awaiter$q(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$1}){const L=Did$1.parse(I.uri);if((L==null?void 0:L.method)!==Us.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,"Method not supported");const B=yield BearerDid$1.import({portableDid:I,keyManager:N});if(B.document.verificationMethod.length!==1)throw new DidError$1(DidErrorCode$2.InvalidDidDocument,"DID document must contain exactly one verification method");return B})}static resolve($,I){return __awaiter$q(this,void 0,void 0,function*(){const N=Did$1.parse($);let L;try{L=Convert$2.base64Url(N.id).toObject()}catch{}if(!N||!L)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"invalidDid"}});if(N.method!==Us.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"methodNotSupported"}});const B={"@context":["https://www.w3.org/ns/did/v1"],id:N.uri},H=`${B.id}#0`;switch(B.verificationMethod=[{id:H,type:"JsonWebKey",controller:B.id,publicKeyJwk:L}],B.authentication=[H],B.assertionMethod=[H],B.capabilityInvocation=[H],B.capabilityDelegation=[H],B.keyAgreement=[H],L.use){case"sig":{delete B.keyAgreement;break}case"enc":{delete B.authentication,delete B.assertionMethod,delete B.capabilityInvocation,delete B.capabilityDelegation;break}}return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didDocument:B})})}};DidJwk$1.methodName="jwk";var __awaiter$p=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},DidKeyRegisteredKeyType$2;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidKeyRegisteredKeyType$2||(DidKeyRegisteredKeyType$2={}));const DidKeyVerificationMethodType$1={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},AlgorithmToKeyTypeMap$3={Ed25519:DidKeyRegisteredKeyType$2.Ed25519,ES256K:DidKeyRegisteredKeyType$2.secp256k1,ES256:DidKeyRegisteredKeyType$2.secp256r1,"P-256":DidKeyRegisteredKeyType$2.secp256r1,secp256k1:DidKeyRegisteredKeyType$2.secp256k1,secp256r1:DidKeyRegisteredKeyType$2.secp256r1,X25519:DidKeyRegisteredKeyType$2.X25519};let DidKey$1=class Co extends DidMethod$1{static create(){return __awaiter$p(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager$1,options:I={}}={}){var N,L,B,H;if(I.algorithm&&I.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(I.verificationMethods&&I.verificationMethods.length!==1)throw new Error("The 'verificationMethods' option must contain exactly one entry");const z=(H=(N=I.algorithm)!==null&&N!==void 0?N:(B=(L=I.verificationMethods)===null||L===void 0?void 0:L[0])===null||B===void 0?void 0:B.algorithm)!==null&&H!==void 0?H:"Ed25519",Q=yield $.generateKey({algorithm:z}),te=yield $.getPublicKey({keyUri:Q}),G=yield DidKeyUtils$1.publicKeyToMultibaseId({publicKey:te}),ie=`did:${Co.methodName}:${G}`,$e=(yield Co.resolve(ie,I)).didDocument;return new BearerDid$1({uri:ie,document:$e,metadata:{},keyManager:$})})}static getSigningMethod($){return __awaiter$p(this,arguments,void 0,function*({didDocument:I}){var N;const L=Did$1.parse(I.id);if(L&&L.method!==this.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,`Method not supported: ${L.method}`);const[B]=I.assertionMethod||[],H=(N=I.verificationMethod)===null||N===void 0?void 0:N.find(z=>z.id===B);if(!(H&&H.publicKeyJwk))throw new DidError$1(DidErrorCode$2.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static import($){return __awaiter$p(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager$1}){const L=Did$1.parse(I.uri);if((L==null?void 0:L.method)!==Co.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,"Method not supported");const B=yield BearerDid$1.import({portableDid:I,keyManager:N});if(B.document.verificationMethod.length!==1)throw new DidError$1(DidErrorCode$2.InvalidDidDocument,"DID document must contain exactly one verification method");return B})}static resolve($,I){return __awaiter$p(this,void 0,void 0,function*(){try{const N=yield Co.createDocument({didUri:$,options:I});return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didDocument:N})}catch(N){if(!(N instanceof DidError$1))throw new Error(N);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:Object.assign({error:N.code},N.message&&{errorMessage:N.message})})}})}static createDocument($){return __awaiter$p(this,arguments,void 0,function*({didUri:I,options:N={}}){const{defaultContext:L="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:B=!1,enableExperimentalPublicKeyTypes:H=!1,publicKeyFormat:z="JsonWebKey2020"}=N,Q={id:""},te=Did$1.parse(I);if(!te)throw new DidError$1(DidErrorCode$2.InvalidDid,`Invalid DID URI: ${I}`);const G=te.id;if(te.method!==Co.methodName)throw new DidError$1(DidErrorCode$2.MethodNotSupported,`Method not supported: ${te.method}`);if(!Co.validateIdentifier(te))throw new DidError$1(DidErrorCode$2.InvalidDid,`Invalid DID URI: ${I}`);const ie=yield Co.createSignatureMethod({didUri:I,multibaseValue:G,options:{enableExperimentalPublicKeyTypes:H,publicKeyFormat:z}});if(Q.id=te.uri,Q.verificationMethod=[ie],Q.authentication=[ie.id],Q.assertionMethod=[ie.id],Q.capabilityInvocation=[ie.id],Q.capabilityDelegation=[ie.id],B===!0){const Pe=z==="Ed25519VerificationKey2020"?"X25519KeyAgreementKey2020":"JsonWebKey2020",Me=yield this.createEncryptionMethod({didUri:I,multibaseValue:G,options:{enableExperimentalPublicKeyTypes:H,publicKeyFormat:Pe}});Q.verificationMethod.push(Me),Q.keyAgreement=[Me.id]}const Re=[L];return getVerificationMethodTypes$1({didDocument:Q}).forEach(Pe=>{const Me=DidKeyVerificationMethodType$1[Pe];Re.push(Me)}),Q["@context"]=Re,Q})}static createEncryptionMethod($){return __awaiter$p(this,arguments,void 0,function*({didUri:I,multibaseValue:N,options:L}){const{enableExperimentalPublicKeyTypes:B,publicKeyFormat:H}=L,z={id:"",type:"",controller:""},{keyBytes:Q,multicodecCode:te}=yield Co.deriveEncryptionKey({multibaseValue:N}),G=Q.byteLength,ie=DidKeyUtils$1.MULTICODEC_PUBLIC_KEY_LENGTH[te];if(G!==ie)throw new DidError$1(DidErrorCode$2.InvalidPublicKeyLength,`Expected ${G} bytes. Actual: ${ie}`);const Re=keyBytesToMultibaseId$1({keyBytes:Q,multicodecCode:te});z.id=`${I}#${Re}`;try{new URL(z.id)}catch{throw new DidError$1(DidErrorCode$2.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(H in DidKeyVerificationMethodType$1))throw new DidError$1(DidErrorCode$2.UnsupportedPublicKeyType,`Unsupported format: ${H}`);if(B===!1&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(H))throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Specified '${H}' without setting enableExperimentalPublicKeyTypes to true.`);if(z.type=H,z.controller=I,H==="X25519KeyAgreementKey2020"&&(z.publicKeyMultibase=Re),H==="JsonWebKey2020"){const{crv:Pe}=yield DidKeyUtils$1.multicodecToJwk({code:te});z.publicKeyJwk=yield DidKeyUtils$1.keyConverter(Pe).bytesToPublicKey({publicKeyBytes:Q})}return z})}static createSignatureMethod($){return __awaiter$p(this,arguments,void 0,function*({didUri:I,multibaseValue:N,options:L}){const{enableExperimentalPublicKeyTypes:B,publicKeyFormat:H}=L,z={id:"",type:"",controller:""},{keyBytes:Q,multicodecCode:te,multicodecName:G}=multibaseIdToKeyBytes$1({multibaseKeyId:N}),ie=Q.byteLength,Re=DidKeyUtils$1.MULTICODEC_PUBLIC_KEY_LENGTH[te];if(ie!==Re)throw new DidError$1(DidErrorCode$2.InvalidPublicKeyLength,`Expected ${ie} bytes. Actual: ${Re}`);let $e=!1;switch(G){case"secp256k1-pub":$e=yield Secp256k1$1.validatePublicKey({publicKeyBytes:Q});break;case"ed25519-pub":$e=yield Ed25519$1.validatePublicKey({publicKeyBytes:Q});break;case"x25519-pub":$e=!0;break}if(!$e)throw new DidError$1(DidErrorCode$2.InvalidPublicKey,"Invalid public key detected.");z.id=`${I}#${N}`;try{new URL(z.id)}catch{throw new DidError$1(DidErrorCode$2.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(H in DidKeyVerificationMethodType$1))throw new DidError$1(DidErrorCode$2.UnsupportedPublicKeyType,`Unsupported format: ${H}`);if(B===!1&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(H))throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Specified '${H}' without setting enableExperimentalPublicKeyTypes to true.`);if(z.type=H,z.controller=I,H==="Ed25519VerificationKey2020"&&(z.publicKeyMultibase=N),H==="JsonWebKey2020"){const{crv:Me}=yield DidKeyUtils$1.multicodecToJwk({code:te});z.publicKeyJwk=yield DidKeyUtils$1.keyConverter(Me).bytesToPublicKey({publicKeyBytes:Q})}return z})}static deriveEncryptionKey($){return __awaiter$p(this,arguments,void 0,function*({multibaseValue:I}){let N={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:L,multicodecCode:B}=multibaseIdToKeyBytes$1({multibaseKeyId:I});if(B===237){const H=yield DidKeyUtils$1.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:L}),z=yield Ed25519$1.convertPublicKeyToX25519({publicKey:H});N={keyBytes:yield DidKeyUtils$1.keyConverter("Ed25519").publicKeyToBytes({publicKey:z}),multicodecCode:236}}return N})}static validateIdentifier($){const{method:I,id:N}=$,[L]=$.uri.split(":",1);return L==="did"&&I==="key"&&Number("1")>0&&universalTypeOf$2(N)==="String"&&N.startsWith("z")}};DidKey$1.methodName="key";let DidKeyUtils$1=class ns{static jwkToMulticodec($){return __awaiter$p(this,arguments,void 0,function*({jwk:I}){const N=[];I.crv&&(N.push(I.crv),I.d?N.push("private"):N.push("public"));const L=N.join(":"),B=ns.JWK_TO_MULTICODEC[L];if(B===void 0)throw new Error(`Unsupported JWK to Multicodec conversion: '${L}'`);return{code:Multicodec$3.getCodeFromName({name:B}),name:B}})}static keyCompressor($){const N={"P-256":Secp256r1$1.compressPublicKey,secp256k1:Secp256k1$1.compressPublicKey}[$];if(!N)throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static keyConverter($){const N={Ed25519:Ed25519$1,"P-256":Secp256r1$1,secp256k1:Secp256k1$1,X25519:X25519$1}[$];if(!N)throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static multicodecToJwk($){return __awaiter$p(this,arguments,void 0,function*({code:I,name:N}){if(!(N?!I:I))throw new Error("Either 'name' or 'code' must be defined, but not both.");N=N===void 0?Multicodec$3.getNameFromCode({code:I}):N;const L=N,B=ns.MULTICODEC_TO_JWK[L];if(B===void 0)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},B)})}static publicKeyToMultibaseId($){return __awaiter$p(this,arguments,void 0,function*({publicKey:I}){var N;if(!(I!=null&&I.crv&&I.crv in AlgorithmToKeyTypeMap$3))throw new DidError$1(DidErrorCode$2.InvalidPublicKeyType,`Public key contains an unsupported key type: ${(N=I==null?void 0:I.crv)!==null&&N!==void 0?N:"undefined"}`);let L=yield ns.keyConverter(I.crv).publicKeyToBytes({publicKey:I});/^(secp256k1|P-256|P-384|P-521)$/.test(I.crv)&&(L=yield ns.keyCompressor(I.crv)({publicKeyBytes:L}));const{name:B}=yield ns.jwkToMulticodec({jwk:I});return keyBytesToMultibaseId$1({keyBytes:L,multicodecName:B})})}};DidKeyUtils$1.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"};DidKeyUtils$1.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32};DidKeyUtils$1.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}};var __awaiter$o=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let DidWeb$1=class Uf extends DidMethod$1{static resolve($,I){return __awaiter$o(this,void 0,void 0,function*(){const N=Did$1.parse($);if(!N)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"invalidDid"}});if(N.method!==Uf.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"methodNotSupported"}});let L=`https://${N.id.replace(/:/g,"/")}`;L=decodeURIComponent(L);const B=N.id.includes(":")?`${L}/did.json`:`${L}/.well-known/did.json`;try{const H=yield fetch(B);if(!H.ok)throw new Error("HTTP error status code returned");const z=yield H.json();return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didDocument:z})}catch{return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:"notFound"}})}})}};DidWeb$1.methodName="web";const DidResolverCacheNoop$1={get:function(T){return null},set:function(T,$){return null},delete:function(T){return null},clear:function(){return null},close:function(){return null}};var __awaiter$n=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let UniversalResolver$1=class{constructor({cache:$,didResolvers:I}){this.didResolvers=new Map,this.cache=$||DidResolverCacheNoop$1;for(const N of I)this.didResolvers.set(N.methodName,N)}resolve($,I){return __awaiter$n(this,void 0,void 0,function*(){const N=Did$1.parse($);if(!N)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:DidErrorCode$2.InvalidDid,errorMessage:`Invalid DID URI: ${$}`}});const L=this.didResolvers.get(N.method);if(!L)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT$1),{didResolutionMetadata:{error:DidErrorCode$2.MethodNotSupported,errorMessage:`Method not supported: ${N.method}`}});const B=yield this.cache.get(N.uri);if(B)return B;{const H=yield L.resolve(N.uri,I);return H.didResolutionMetadata.error||(yield this.cache.set(N.uri,H)),H}})}dereference($,I){return __awaiter$n(this,void 0,void 0,function*(){const N=Did$1.parse($);if(!N)return{dereferencingMetadata:{error:DidErrorCode$2.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:L,didResolutionMetadata:B,didDocumentMetadata:H}=yield this.resolve(N.uri);if(!L)return{dereferencingMetadata:{error:B.error},contentStream:null,contentMetadata:{}};if(!N.fragment||N.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:L,contentMetadata:H};const{service:z=[],verificationMethod:Q=[]}=L,te=new Set([$,N.fragment,`#${N.fragment}`]);let G;for(let ie of Q)if(te.has(ie.id)){G=ie;break}for(let ie of z)if(te.has(ie.id)){G=ie;break}return G?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:G,contentMetadata:B}:{dereferencingMetadata:{error:DidErrorCode$2.NotFound},contentStream:null,contentMetadata:{}}})}};const DidResolver=new UniversalResolver$1({didResolvers:[DidDht$1,DidJwk$1,DidWeb$1]});async function resolveDid(T){const{didResolutionMetadata:$,didDocument:I}=await DidResolver.resolve(T);if($.error)throw new Error(`Failed to resolve DID: ${T}. Error: ${$.error}`);return I}function isVerificationMethod(T){return!!T&&"id"in T&&"type"in T&&"controller"in T}var canonicalize$1=function T($){if(typeof $=="number"&&isNaN($))throw new Error("NaN is not allowed");if(typeof $=="number"&&!isFinite($))throw new Error("Infinity is not allowed");return $===null||typeof $!="object"?JSON.stringify($):$.toJSON instanceof Function?T($.toJSON()):Array.isArray($)?`[${$.reduce((L,B,H)=>`${L}${H===0?"":","}${T(B===void 0||typeof B=="symbol"?null:B)}`,"")}]`:`{${Object.keys($).sort().reduce((N,L)=>{if($[L]===void 0||typeof $[L]=="symbol")return N;const B=N.length===0?"":",";return`${N}${B}${T(L)}:${T($[L])}`},"")}}`};const canonicalize$2=getDefaultExportFromCjs$1(canonicalize$1),keyManager=new LocalKeyManager$2;class Crypto{static digest($){const I=canonicalize$2($),N=Convert$4.string(I).toUint8Array();return sha256$8(N)}static async sign($){const{did:I,payload:N,detached:L}=$,B=await I.getSigner();let H=B.keyId;H.startsWith("#")&&(H=`${I.uri}${H}`);const z={alg:B.algorithm,kid:H},Q=Convert$4.object(z).toBase64Url(),te=Convert$4.uint8Array(N).toBase64Url(),G=`${Q}.${te}`,ie=Convert$4.string(G).toUint8Array(),Re=await B.sign({data:ie}),$e=Convert$4.uint8Array(Re).toBase64Url();return L?`${Q}..${$e}`:`${Q}.${te}.${$e}`}static async verify($){const{signature:I,detachedPayload:N}=$;if(!I)throw new Error("Signature verification failed: Expected signature property to exist");const L=I.split(".");if(L.length!==3)throw new Error("Signature verification failed: Expected valid JWS with detached content");let[B,H,z]=L;if(N){if(H.length!==0)throw new Error("Signature verification failed: Expected valid JWS with detached content");H=Convert$4.uint8Array(N).toBase64Url()}const Q=Convert$4.base64Url(B).toObject();if(!Q.alg||!Q.kid)throw new Error("Signature verification failed: Expected JWS header to contain alg and kid");const G=(await DidResolver.dereference(Q.kid)).contentStream;if(!isVerificationMethod(G))throw new Error("Signature verification failed: Expected kid in JWS header to dereference to a DID Document Verification Method");const ie=G.publicKeyJwk;if(!ie)throw new Error("Signature verification failed: Expected kid in JWS header to dereference to a DID Document Verification Method with publicKeyJwk");const Re=`${B}.${H}`,$e=Convert$4.string(Re).toUint8Array(),Pe=Convert$4.base64Url(z).toUint8Array();if(!await keyManager.verify({key:ie,data:$e,signature:Pe}))throw new Error("Signature verification failed: Integrity mismatch");const[Be]=Q.kid.split("#");return Be}}var equal$8={},fastDeepEqual=function T($,I){if($===I)return!0;if($&&I&&typeof $=="object"&&typeof I=="object"){if($.constructor!==I.constructor)return!1;var N,L,B;if(Array.isArray($)){if(N=$.length,N!=I.length)return!1;for(L=N;L--!==0;)if(!T($[L],I[L]))return!1;return!0}if($.constructor===RegExp)return $.source===I.source&&$.flags===I.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===I.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===I.toString();if(B=Object.keys($),N=B.length,N!==Object.keys(I).length)return!1;for(L=N;L--!==0;)if(!Object.prototype.hasOwnProperty.call(I,B[L]))return!1;for(L=N;L--!==0;){var H=B[L];if(!T($[H],I[H]))return!1}return!0}return $!==$&&I!==I};const index$L=getDefaultExportFromCjs$1(fastDeepEqual),fastDeepEqual$1=_mergeNamespaces({__proto__:null,default:index$L},[fastDeepEqual]);Object.defineProperty(equal$8,"__esModule",{value:!0});const equal$6=fastDeepEqual$1;equal$6.code='require("ajv/dist/runtime/equal").default';var _default$1f=equal$8.default=equal$6;const equal$7=_mergeNamespaces({__proto__:null,default:_default$1f},[equal$8]),close=validate10;function validate10(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){for(const Q in T)if(!(Q==="reason"||Q==="success"))return validate10.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;{if(T.reason!==void 0){const Q=H;if(typeof T.reason!="string")return validate10.errors=[{instancePath:$+"/reason",schemaPath:"#/properties/reason/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=Q===H}else var z=!0;if(z)if(T.success!==void 0){const Q=H;if(typeof T.success!="boolean")return validate10.errors=[{instancePath:$+"/success",schemaPath:"#/properties/success/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var z=Q===H}else var z=!0}}else return validate10.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate10.errors=B,H===0}const definitions$2=validate11;function validate11(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;return T&&typeof T=="object"&&!Array.isArray(T)?(validate11.errors=B,H===0):(validate11.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}const offering=validate12,schema13$4={properties:{payout:{properties:{methods:{items:{properties:{kind:{type:"string",description:"The type of payment method. e.g. BITCOIN_ADDRESS, DEBIT_CARD, etc."},name:{type:"string",description:"Payment Method name. Expected to be rendered on screen."},description:{type:"string",description:'Blurb containing helpful information about the payment method. Expected to be rendered on screen. e.g. "segwit addresses only"'},group:{type:"string",description:"Value that can be used to group specific payment methods together (e.g. Mobile Money vs. Direct Bank Deposit)."},requiredPaymentDetails:{$ref:"http://json-schema.org/draft-07/schema",description:"A JSON Schema containing the fields that need to be collected in order to use this payment method"},min:{$ref:"definitions.json#/definitions/decimalString",description:"Minimum amount required to use this payment method."},max:{$ref:"definitions.json#/definitions/decimalString",description:"Maximum amount allowed when using this payment method."},fee:{$ref:"definitions.json#/definitions/decimalString",description:"Fee charged to use this payment method. absence of this field implies that there is no _additional_ fee associated to the respective payment method"},estimatedSettlementTime:{type:"number",description:"Estimated time in seconds for the payout to be settled. e.g. 3600 for 1 hour. 0 for instant settlement.",minimum:0}}}}}}}},pattern0$2=new RegExp("^([0-9]+(?:[.][0-9]+)?)$","u"),schema0={type:["object","boolean"]},schema9$1={enum:["array","boolean","integer","null","number","object","string"]};function validate1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;return typeof T=="number"&&!(T%1)&&!isNaN(T)&&isFinite(T)?typeof T=="number"&&isFinite(T)&&(T<0||isNaN(T))?(validate1.errors=[{instancePath:$,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(validate1.errors=B,H===0):(validate1.errors=[{instancePath:$,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}const root0={validate:validate0};function validate3(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(H===0)if(Array.isArray(T)){if(T.length<1)return validate3.errors=[{instancePath:$,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var z=!0;const Q=T.length;for(let te=0;te<Q;te++){const G=H;root0.validate(T[te],{instancePath:$+"/"+te,parentData:T,parentDataProperty:te,rootData:L})||(B=B===null?root0.validate.errors:B.concat(root0.validate.errors),H=B.length);var z=G===H;if(!z)break}}}else return validate3.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return validate3.errors=B,H===0}function validate0(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T&&typeof T=="object"&&!Array.isArray(T))&&typeof T!="boolean")return validate0.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:schema0.type},message:"must be object,boolean"}],!1;if(H===0&&T&&typeof T=="object"&&!Array.isArray(T)){if(T.$id!==void 0){const qe=H;if(H===qe&&H===qe&&typeof T.$id!="string")return validate0.errors=[{instancePath:$+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.$schema!==void 0){const qe=H;if(H===qe&&H===qe&&typeof T.$schema!="string")return validate0.errors=[{instancePath:$+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.$ref!==void 0){const qe=H;if(H===qe&&H===qe&&typeof T.$ref!="string")return validate0.errors=[{instancePath:$+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.$comment!==void 0){const qe=H;if(typeof T.$comment!="string")return validate0.errors=[{instancePath:$+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.title!==void 0){const qe=H;if(typeof T.title!="string")return validate0.errors=[{instancePath:$+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.description!==void 0){const qe=H;if(typeof T.description!="string")return validate0.errors=[{instancePath:$+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.readOnly!==void 0){const qe=H;if(typeof T.readOnly!="boolean")return validate0.errors=[{instancePath:$+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var z=qe===H}else var z=!0;if(z){if(T.examples!==void 0){const qe=H;if(H===qe&&!Array.isArray(T.examples))return validate0.errors=[{instancePath:$+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var z=qe===H}else var z=!0;if(z){if(T.multipleOf!==void 0){let qe=T.multipleOf;const He=H;if(H===He)if(typeof qe=="number"&&isFinite(qe)){if(qe<=0||isNaN(qe))return validate0.errors=[{instancePath:$+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return validate0.errors=[{instancePath:$+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var z=He===H}else var z=!0;if(z){if(T.maximum!==void 0){let qe=T.maximum;const He=H;if(!(typeof qe=="number"&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var z=He===H}else var z=!0;if(z){if(T.exclusiveMaximum!==void 0){let qe=T.exclusiveMaximum;const He=H;if(!(typeof qe=="number"&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var z=He===H}else var z=!0;if(z){if(T.minimum!==void 0){let qe=T.minimum;const He=H;if(!(typeof qe=="number"&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var z=He===H}else var z=!0;if(z){if(T.exclusiveMinimum!==void 0){let qe=T.exclusiveMinimum;const He=H;if(!(typeof qe=="number"&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var z=He===H}else var z=!0;if(z){if(T.maxLength!==void 0){let qe=T.maxLength;const He=H,Ge=H;if(!(typeof qe=="number"&&!(qe%1)&&!isNaN(qe)&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(H===Ge&&typeof qe=="number"&&isFinite(qe)&&(qe<0||isNaN(qe)))return validate0.errors=[{instancePath:$+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var z=He===H}else var z=!0;if(z){if(T.minLength!==void 0){const qe=H;validate1(T.minLength,{instancePath:$+"/minLength",parentData:T,parentDataProperty:"minLength",rootData:L})||(B=B===null?validate1.errors:B.concat(validate1.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.pattern!==void 0){const qe=H;if(H===qe&&H===qe&&typeof T.pattern!="string")return validate0.errors=[{instancePath:$+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.additionalItems!==void 0){const qe=H;validate0(T.additionalItems,{instancePath:$+"/additionalItems",parentData:T,parentDataProperty:"additionalItems",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.items!==void 0){let qe=T.items;const He=H,Ge=H;let at=!1;const ot=H;validate0(qe,{instancePath:$+"/items",parentData:T,parentDataProperty:"items",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var Q=ot===H;if(at=at||Q,!at){const nt=H;validate3(qe,{instancePath:$+"/items",parentData:T,parentDataProperty:"items",rootData:L})||(B=B===null?validate3.errors:B.concat(validate3.errors),H=B.length);var Q=nt===H;at=at||Q}if(at)H=Ge,B!==null&&(Ge?B.length=Ge:B=null);else{const nt={instancePath:$+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return B===null?B=[nt]:B.push(nt),H++,validate0.errors=B,!1}var z=He===H}else var z=!0;if(z){if(T.maxItems!==void 0){let qe=T.maxItems;const He=H,Ge=H;if(!(typeof qe=="number"&&!(qe%1)&&!isNaN(qe)&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(H===Ge&&typeof qe=="number"&&isFinite(qe)&&(qe<0||isNaN(qe)))return validate0.errors=[{instancePath:$+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var z=He===H}else var z=!0;if(z){if(T.minItems!==void 0){const qe=H;validate1(T.minItems,{instancePath:$+"/minItems",parentData:T,parentDataProperty:"minItems",rootData:L})||(B=B===null?validate1.errors:B.concat(validate1.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.uniqueItems!==void 0){const qe=H;if(typeof T.uniqueItems!="boolean")return validate0.errors=[{instancePath:$+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var z=qe===H}else var z=!0;if(z){if(T.contains!==void 0){const qe=H;validate0(T.contains,{instancePath:$+"/contains",parentData:T,parentDataProperty:"contains",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.maxProperties!==void 0){let qe=T.maxProperties;const He=H,Ge=H;if(!(typeof qe=="number"&&!(qe%1)&&!isNaN(qe)&&isFinite(qe)))return validate0.errors=[{instancePath:$+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(H===Ge&&typeof qe=="number"&&isFinite(qe)&&(qe<0||isNaN(qe)))return validate0.errors=[{instancePath:$+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var z=He===H}else var z=!0;if(z){if(T.minProperties!==void 0){const qe=H;validate1(T.minProperties,{instancePath:$+"/minProperties",parentData:T,parentDataProperty:"minProperties",rootData:L})||(B=B===null?validate1.errors:B.concat(validate1.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.required!==void 0){let qe=T.required;const He=H;if(H===H)if(Array.isArray(qe)){var te=!0;const ot=qe.length;for(let Ye=0;Ye<ot;Ye++){const nt=H;if(typeof qe[Ye]!="string")return validate0.errors=[{instancePath:$+"/required/"+Ye,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var te=nt===H;if(!te)break}if(te){let Ye=qe.length,nt;if(Ye>1){const Qe={};for(;Ye--;){let tt=qe[Ye];if(typeof tt=="string"){if(typeof Qe[tt]=="number")return nt=Qe[tt],validate0.errors=[{instancePath:$+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:Ye,j:nt},message:"must NOT have duplicate items (items ## "+nt+" and "+Ye+" are identical)"}],!1;Qe[tt]=Ye}}}}}else return validate0.errors=[{instancePath:$+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var z=He===H}else var z=!0;if(z){if(T.additionalProperties!==void 0){const qe=H;validate0(T.additionalProperties,{instancePath:$+"/additionalProperties",parentData:T,parentDataProperty:"additionalProperties",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.definitions!==void 0){let qe=T.definitions;const He=H;if(H===He)if(qe&&typeof qe=="object"&&!Array.isArray(qe))for(const at in qe){const ot=H;validate0(qe[at],{instancePath:$+"/definitions/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:qe,parentDataProperty:at,rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var G=ot===H;if(!G)break}else return validate0.errors=[{instancePath:$+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=He===H}else var z=!0;if(z){if(T.properties!==void 0){let qe=T.properties;const He=H;if(H===He)if(qe&&typeof qe=="object"&&!Array.isArray(qe))for(const at in qe){const ot=H;validate0(qe[at],{instancePath:$+"/properties/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:qe,parentDataProperty:at,rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var ie=ot===H;if(!ie)break}else return validate0.errors=[{instancePath:$+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=He===H}else var z=!0;if(z){if(T.patternProperties!==void 0){let qe=T.patternProperties;const He=H;if(H===He)if(qe&&typeof qe=="object"&&!Array.isArray(qe)){for(const at in qe){var Re=H===H;if(!Re){const Ye={instancePath:$+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:at},message:"property name must be valid"};return B===null?B=[Ye]:B.push(Ye),H++,validate0.errors=B,!1}}if(Re)for(const at in qe){const ot=H;validate0(qe[at],{instancePath:$+"/patternProperties/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:qe,parentDataProperty:at,rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var $e=ot===H;if(!$e)break}}else return validate0.errors=[{instancePath:$+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=He===H}else var z=!0;if(z){if(T.dependencies!==void 0){let qe=T.dependencies;const He=H;if(H===He)if(qe&&typeof qe=="object"&&!Array.isArray(qe))for(const at in qe){let ot=qe[at];const Ye=H,nt=H;let Qe=!1;const tt=H;validate0(ot,{instancePath:$+"/dependencies/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:qe,parentDataProperty:at,rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var Pe=tt===H;if(Qe=Qe||Pe,!Qe){const ze=H;if(H===H)if(Array.isArray(ot)){var Me=!0;const Ue=ot.length;for(let Je=0;Je<Ue;Je++){const rt=H;if(typeof ot[Je]!="string"){const it={instancePath:$+"/dependencies/"+at.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+Je,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};B===null?B=[it]:B.push(it),H++}var Me=rt===H;if(!Me)break}if(Me){let Je=ot.length,rt;if(Je>1){const Xe={};for(;Je--;){let it=ot[Je];if(typeof it=="string"){if(typeof Xe[it]=="number"){rt=Xe[it];const We={instancePath:$+"/dependencies/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:Je,j:rt},message:"must NOT have duplicate items (items ## "+rt+" and "+Je+" are identical)"};B===null?B=[We]:B.push(We),H++;break}Xe[it]=Je}}}}}else{const Ue={instancePath:$+"/dependencies/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};B===null?B=[Ue]:B.push(Ue),H++}var Pe=ze===H;Qe=Qe||Pe}if(Qe)H=nt,B!==null&&(nt?B.length=nt:B=null);else{const ze={instancePath:$+"/dependencies/"+at.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return B===null?B=[ze]:B.push(ze),H++,validate0.errors=B,!1}var Be=Ye===H;if(!Be)break}else return validate0.errors=[{instancePath:$+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=He===H}else var z=!0;if(z){if(T.propertyNames!==void 0){const qe=H;validate0(T.propertyNames,{instancePath:$+"/propertyNames",parentData:T,parentDataProperty:"propertyNames",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.enum!==void 0){let qe=T.enum;const He=H;if(H===He)if(Array.isArray(qe)){if(qe.length<1)return validate0.errors=[{instancePath:$+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let at=qe.length,ot;if(at>1){for(;at--;)for(ot=at;ot--;)if(_default$1f(qe[at],qe[ot]))return validate0.errors=[{instancePath:$+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:at,j:ot},message:"must NOT have duplicate items (items ## "+ot+" and "+at+" are identical)"}],!1}}}else return validate0.errors=[{instancePath:$+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var z=He===H}else var z=!0;if(z){if(T.type!==void 0){let qe=T.type;const He=H,Ge=H;let at=!1;const ot=H;if(!(qe==="array"||qe==="boolean"||qe==="integer"||qe==="null"||qe==="number"||qe==="object"||qe==="string")){const nt={instancePath:$+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:schema9$1.enum},message:"must be equal to one of the allowed values"};B===null?B=[nt]:B.push(nt),H++}var Ke=ot===H;if(at=at||Ke,!at){const nt=H;if(H===nt)if(Array.isArray(qe))if(qe.length<1){const tt={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};B===null?B=[tt]:B.push(tt),H++}else{var Le=!0;const tt=qe.length;for(let ze=0;ze<tt;ze++){let Fe=qe[ze];const ke=H;if(!(Fe==="array"||Fe==="boolean"||Fe==="integer"||Fe==="null"||Fe==="number"||Fe==="object"||Fe==="string")){const Je={instancePath:$+"/type/"+ze,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:schema9$1.enum},message:"must be equal to one of the allowed values"};B===null?B=[Je]:B.push(Je),H++}var Le=ke===H;if(!Le)break}if(Le){let ze=qe.length,Fe;if(ze>1){e:for(;ze--;)for(Fe=ze;Fe--;)if(_default$1f(qe[ze],qe[Fe])){const ke={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:ze,j:Fe},message:"must NOT have duplicate items (items ## "+Fe+" and "+ze+" are identical)"};B===null?B=[ke]:B.push(ke),H++;break e}}}}else{const tt={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};B===null?B=[tt]:B.push(tt),H++}var Ke=nt===H;at=at||Ke}if(at)H=Ge,B!==null&&(Ge?B.length=Ge:B=null);else{const nt={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return B===null?B=[nt]:B.push(nt),H++,validate0.errors=B,!1}var z=He===H}else var z=!0;if(z){if(T.format!==void 0){const qe=H;if(typeof T.format!="string")return validate0.errors=[{instancePath:$+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.contentMediaType!==void 0){const qe=H;if(typeof T.contentMediaType!="string")return validate0.errors=[{instancePath:$+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.contentEncoding!==void 0){const qe=H;if(typeof T.contentEncoding!="string")return validate0.errors=[{instancePath:$+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=qe===H}else var z=!0;if(z){if(T.if!==void 0){const qe=H;validate0(T.if,{instancePath:$+"/if",parentData:T,parentDataProperty:"if",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.then!==void 0){const qe=H;validate0(T.then,{instancePath:$+"/then",parentData:T,parentDataProperty:"then",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.else!==void 0){const qe=H;validate0(T.else,{instancePath:$+"/else",parentData:T,parentDataProperty:"else",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.allOf!==void 0){const qe=H;validate3(T.allOf,{instancePath:$+"/allOf",parentData:T,parentDataProperty:"allOf",rootData:L})||(B=B===null?validate3.errors:B.concat(validate3.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.anyOf!==void 0){const qe=H;validate3(T.anyOf,{instancePath:$+"/anyOf",parentData:T,parentDataProperty:"anyOf",rootData:L})||(B=B===null?validate3.errors:B.concat(validate3.errors),H=B.length);var z=qe===H}else var z=!0;if(z){if(T.oneOf!==void 0){const qe=H;validate3(T.oneOf,{instancePath:$+"/oneOf",parentData:T,parentDataProperty:"oneOf",rootData:L})||(B=B===null?validate3.errors:B.concat(validate3.errors),H=B.length);var z=qe===H}else var z=!0;if(z)if(T.not!==void 0){const qe=H;validate0(T.not,{instancePath:$+"/not",parentData:T,parentDataProperty:"not",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var z=qe===H}else var z=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return validate0.errors=B,H===0}const func2=Object.prototype.hasOwnProperty;function validate12(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(H===0)if(T&&typeof T=="object"&&!Array.isArray(T)){let Pe;if(T.description===void 0&&(Pe="description")||T.payin===void 0&&(Pe="payin")||T.payout===void 0&&(Pe="payout")||T.payoutUnitsPerPayinUnit===void 0&&(Pe="payoutUnitsPerPayinUnit"))return validate12.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;if(T.additionalProperties!==void 0){var z=!1;return validate12.errors=[{instancePath:$+"/additionalProperties",schemaPath:"#/properties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false"}],!1}else var z=!0;if(z){if(T.description!==void 0){const Me=H;if(typeof T.description!="string")return validate12.errors=[{instancePath:$+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=Me===H}else var z=!0;if(z){if(T.payin!==void 0){let Me=T.payin;const Be=H;if(H===Be)if(Me&&typeof Me=="object"&&!Array.isArray(Me)){let Le;if(Me.currencyCode===void 0&&(Le="currencyCode")||Me.methods===void 0&&(Le="methods"))return validate12.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"}],!1;{const qe=H;for(const He in Me)if(!(He==="currencyCode"||He==="min"||He==="max"||He==="methods"))return validate12.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(qe===H){if(Me.currencyCode!==void 0){const He=H;if(typeof Me.currencyCode!="string")return validate12.errors=[{instancePath:$+"/payin/currencyCode",schemaPath:"#/properties/payin/properties/currencyCode/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=He===H}else var Q=!0;if(Q){if(Me.min!==void 0){let He=Me.min;const Ge=H;if(H===H)if(typeof He=="string"){if(!pattern0$2.test(He))return validate12.errors=[{instancePath:$+"/payin/min",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payin/min",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=Ge===H}else var Q=!0;if(Q){if(Me.max!==void 0){let He=Me.max;const Ge=H;if(H===H)if(typeof He=="string"){if(!pattern0$2.test(He))return validate12.errors=[{instancePath:$+"/payin/max",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payin/max",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=Ge===H}else var Q=!0;if(Q)if(Me.methods!==void 0){let He=Me.methods;const Ge=H;if(H===Ge)if(Array.isArray(He)){var te=!0;const ot=He.length;for(let Ye=0;Ye<ot;Ye++){let nt=He[Ye];const Qe=H;if(H===Qe)if(nt&&typeof nt=="object"&&!Array.isArray(nt)){let ze;if(nt.kind===void 0&&(ze="kind"))return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye,schemaPath:"#/properties/payin/properties/methods/items/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const Fe=H;for(const ke in nt)if(!(ke==="kind"||ke==="name"||ke==="description"||ke==="group"||ke==="requiredPaymentDetails"||ke==="min"||ke==="max"||ke==="fee"))return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye,schemaPath:"#/properties/payin/properties/methods/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(Fe===H){if(nt.kind!==void 0){const ke=H;if(typeof nt.kind!="string")return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/kind",schemaPath:"#/properties/payin/properties/methods/items/properties/kind/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=ke===H}else var G=!0;if(G){if(nt.name!==void 0){const ke=H;if(typeof nt.name!="string")return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/name",schemaPath:"#/properties/payin/properties/methods/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=ke===H}else var G=!0;if(G){if(nt.description!==void 0){const ke=H;if(typeof nt.description!="string")return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/description",schemaPath:"#/properties/payin/properties/methods/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=ke===H}else var G=!0;if(G){if(nt.group!==void 0){const ke=H;if(typeof nt.group!="string")return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/group",schemaPath:"#/properties/payin/properties/methods/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=ke===H}else var G=!0;if(G){if(nt.requiredPaymentDetails!==void 0){const ke=H;validate0(nt.requiredPaymentDetails,{instancePath:$+"/payin/methods/"+Ye+"/requiredPaymentDetails",parentData:nt,parentDataProperty:"requiredPaymentDetails",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var G=ke===H}else var G=!0;if(G){if(nt.min!==void 0){let ke=nt.min;const Ue=H;if(H===H)if(typeof ke=="string"){if(!pattern0$2.test(ke))return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/min",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/min",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Ue===H}else var G=!0;if(G){if(nt.max!==void 0){let ke=nt.max;const Ue=H;if(H===H)if(typeof ke=="string"){if(!pattern0$2.test(ke))return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/max",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/max",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Ue===H}else var G=!0;if(G)if(nt.fee!==void 0){let ke=nt.fee;const Ue=H;if(H===H)if(typeof ke=="string"){if(!pattern0$2.test(ke))return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/fee",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye+"/fee",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Ue===H}else var G=!0}}}}}}}}}else return validate12.errors=[{instancePath:$+"/payin/methods/"+Ye,schemaPath:"#/properties/payin/properties/methods/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var te=Qe===H;if(!te)break}}else return validate12.errors=[{instancePath:$+"/payin/methods",schemaPath:"#/properties/payin/properties/methods/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var Q=Ge===H}else var Q=!0}}}}}else return validate12.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=Be===H}else var z=!0;if(z){if(T.payout!==void 0){let Me=T.payout;const Be=H;if(H===Be)if(Me&&typeof Me=="object"&&!Array.isArray(Me)){let Le;if(Me.currencyCode===void 0&&(Le="currencyCode")||Me.methods===void 0&&(Le="methods"))return validate12.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"}],!1;{const qe=H;for(const He in Me)if(!(He==="currencyCode"||He==="min"||He==="max"||He==="methods"))return validate12.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(qe===H){if(Me.currencyCode!==void 0){const He=H;if(typeof Me.currencyCode!="string")return validate12.errors=[{instancePath:$+"/payout/currencyCode",schemaPath:"#/properties/payout/properties/currencyCode/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ie=He===H}else var ie=!0;if(ie){if(Me.min!==void 0){let He=Me.min;const Ge=H;if(H===H)if(typeof He=="string"){if(!pattern0$2.test(He))return validate12.errors=[{instancePath:$+"/payout/min",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payout/min",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ie=Ge===H}else var ie=!0;if(ie){if(Me.max!==void 0){let He=Me.max;const Ge=H;if(H===H)if(typeof He=="string"){if(!pattern0$2.test(He))return validate12.errors=[{instancePath:$+"/payout/max",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payout/max",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ie=Ge===H}else var ie=!0;if(ie)if(Me.methods!==void 0){let He=Me.methods;const Ge=H;if(H===Ge)if(Array.isArray(He)){var Re=!0;const ot=He.length;for(let Ye=0;Ye<ot;Ye++){let nt=He[Ye];const Qe=H;if(H===Qe)if(nt&&typeof nt=="object"&&!Array.isArray(nt)){let ze;if(nt.kind===void 0&&(ze="kind")||nt.estimatedSettlementTime===void 0&&(ze="estimatedSettlementTime"))return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye,schemaPath:"#/properties/payout/properties/methods/items/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const Fe=H;for(const ke in nt)if(!func2.call(schema13$4.properties.payout.properties.methods.items.properties,ke))return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye,schemaPath:"#/properties/payout/properties/methods/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(Fe===H){if(nt.kind!==void 0){const ke=H;if(typeof nt.kind!="string")return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/kind",schemaPath:"#/properties/payout/properties/methods/items/properties/kind/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=ke===H}else var $e=!0;if($e){if(nt.name!==void 0){const ke=H;if(typeof nt.name!="string")return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/name",schemaPath:"#/properties/payout/properties/methods/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=ke===H}else var $e=!0;if($e){if(nt.description!==void 0){const ke=H;if(typeof nt.description!="string")return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/description",schemaPath:"#/properties/payout/properties/methods/items/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=ke===H}else var $e=!0;if($e){if(nt.group!==void 0){const ke=H;if(typeof nt.group!="string")return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/group",schemaPath:"#/properties/payout/properties/methods/items/properties/group/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=ke===H}else var $e=!0;if($e){if(nt.requiredPaymentDetails!==void 0){const ke=H;validate0(nt.requiredPaymentDetails,{instancePath:$+"/payout/methods/"+Ye+"/requiredPaymentDetails",parentData:nt,parentDataProperty:"requiredPaymentDetails",rootData:L})||(B=B===null?validate0.errors:B.concat(validate0.errors),H=B.length);var $e=ke===H}else var $e=!0;if($e){if(nt.min!==void 0){let ke=nt.min;const Ue=H;if(H===H)if(typeof ke=="string"){if(!pattern0$2.test(ke))return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/min",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/min",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=Ue===H}else var $e=!0;if($e){if(nt.max!==void 0){let ke=nt.max;const Ue=H;if(H===H)if(typeof ke=="string"){if(!pattern0$2.test(ke))return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/max",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/max",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=Ue===H}else var $e=!0;if($e){if(nt.fee!==void 0){let ke=nt.fee;const Ue=H;if(H===H)if(typeof ke=="string"){if(!pattern0$2.test(ke))return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/fee",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/fee",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=Ue===H}else var $e=!0;if($e)if(nt.estimatedSettlementTime!==void 0){let ke=nt.estimatedSettlementTime;const Ue=H;if(H===Ue)if(typeof ke=="number"&&isFinite(ke)){if(ke<0||isNaN(ke))return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/estimatedSettlementTime",schemaPath:"#/properties/payout/properties/methods/items/properties/estimatedSettlementTime/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}else return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye+"/estimatedSettlementTime",schemaPath:"#/properties/payout/properties/methods/items/properties/estimatedSettlementTime/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var $e=Ue===H}else var $e=!0}}}}}}}}}}else return validate12.errors=[{instancePath:$+"/payout/methods/"+Ye,schemaPath:"#/properties/payout/properties/methods/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Re=Qe===H;if(!Re)break}}else return validate12.errors=[{instancePath:$+"/payout/methods",schemaPath:"#/properties/payout/properties/methods/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var ie=Ge===H}else var ie=!0}}}}}else return validate12.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=Be===H}else var z=!0;if(z){if(T.payoutUnitsPerPayinUnit!==void 0){const Me=H;if(typeof T.payoutUnitsPerPayinUnit!="string")return validate12.errors=[{instancePath:$+"/payoutUnitsPerPayinUnit",schemaPath:"#/properties/payoutUnitsPerPayinUnit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=Me===H}else var z=!0;if(z)if(T.requiredClaims!==void 0){let Me=T.requiredClaims;const Be=H;if(!(Me&&typeof Me=="object"&&!Array.isArray(Me)))return validate12.errors=[{instancePath:$+"/requiredClaims",schemaPath:"#/properties/requiredClaims/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=Be===H}else var z=!0}}}}}else return validate12.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate12.errors=B,H===0}const balance=validate15;function validate15(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let Q;if(T.currencyCode===void 0&&(Q="currencyCode")||T.available===void 0&&(Q="available"))return validate15.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:Q},message:"must have required property '"+Q+"'"}],!1;if(T.additionalProperties!==void 0){var z=!1;return validate15.errors=[{instancePath:$+"/additionalProperties",schemaPath:"#/properties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false"}],!1}else var z=!0;if(z){if(T.currencyCode!==void 0){const te=H;if(typeof T.currencyCode!="string")return validate15.errors=[{instancePath:$+"/currencyCode",schemaPath:"#/properties/currencyCode/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=te===H}else var z=!0;if(z)if(T.available!==void 0){let te=T.available;const G=H;if(typeof te=="string"){if(!pattern0$2.test(te))return validate15.errors=[{instancePath:$+"/available",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate15.errors=[{instancePath:$+"/available",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0}}else return validate15.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate15.errors=B,H===0}const message=validate16,schema27={properties:{kind:{enum:["rfq","quote","order","orderstatus","close"]}}},pattern11=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function validate17(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let Q;if(T.from===void 0&&(Q="from")||T.to===void 0&&(Q="to")||T.kind===void 0&&(Q="kind")||T.id===void 0&&(Q="id")||T.exchangeId===void 0&&(Q="exchangeId")||T.createdAt===void 0&&(Q="createdAt")||T.protocol===void 0&&(Q="protocol"))return validate17.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:Q},message:"must have required property '"+Q+"'"}],!1;for(const te in T)if(!(te==="from"||te==="to"||te==="kind"||te==="id"||te==="exchangeId"||te==="externalId"||te==="createdAt"||te==="protocol"))return validate17.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties"}],!1;{if(T.from!==void 0){let te=T.from;const G=H;if(typeof te=="string"){if(!pattern11.test(te))return validate17.errors=[{instancePath:$+"/from",schemaPath:"definitions.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return validate17.errors=[{instancePath:$+"/from",schemaPath:"definitions.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0;if(z){if(T.to!==void 0){let te=T.to;const G=H;if(typeof te=="string"){if(!pattern11.test(te))return validate17.errors=[{instancePath:$+"/to",schemaPath:"definitions.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return validate17.errors=[{instancePath:$+"/to",schemaPath:"definitions.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0;if(z){if(T.kind!==void 0){let te=T.kind;const G=H;if(typeof te!="string")return validate17.errors=[{instancePath:$+"/kind",schemaPath:"#/properties/kind/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(te==="rfq"||te==="quote"||te==="order"||te==="orderstatus"||te==="close"))return validate17.errors=[{instancePath:$+"/kind",schemaPath:"#/properties/kind/enum",keyword:"enum",params:{allowedValues:schema27.properties.kind.enum},message:"must be equal to one of the allowed values"}],!1;var z=G===H}else var z=!0;if(z){if(T.id!==void 0){const te=H;if(typeof T.id!="string")return validate17.errors=[{instancePath:$+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=te===H}else var z=!0;if(z){if(T.exchangeId!==void 0){const te=H;if(typeof T.exchangeId!="string")return validate17.errors=[{instancePath:$+"/exchangeId",schemaPath:"#/properties/exchangeId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=te===H}else var z=!0;if(z){if(T.externalId!==void 0){const te=H;if(typeof T.externalId!="string")return validate17.errors=[{instancePath:$+"/externalId",schemaPath:"#/properties/externalId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=te===H}else var z=!0;if(z){if(T.createdAt!==void 0){const te=H;if(typeof T.createdAt!="string")return validate17.errors=[{instancePath:$+"/createdAt",schemaPath:"#/properties/createdAt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=te===H}else var z=!0;if(z)if(T.protocol!==void 0){const te=H;if(typeof T.protocol!="string")return validate17.errors=[{instancePath:$+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=te===H}else var z=!0}}}}}}}}else return validate17.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate17.errors=B,H===0}function validate16(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(H===0)if(T&&typeof T=="object"&&!Array.isArray(T)){let Q;if(T.metadata===void 0&&(Q="metadata")||T.data===void 0&&(Q="data")||T.signature===void 0&&(Q="signature"))return validate16.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:Q},message:"must have required property '"+Q+"'"}],!1;{const te=H;for(const G in T)if(!(G==="metadata"||G==="data"||G==="signature"||G==="privateData"))return validate16.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;if(te===H){if(T.metadata!==void 0){const G=H;validate17(T.metadata,{instancePath:$+"/metadata",parentData:T,parentDataProperty:"metadata",rootData:L})||(B=B===null?validate17.errors:B.concat(validate17.errors),H=B.length);var z=G===H}else var z=!0;if(z){if(T.data!==void 0){let G=T.data;const ie=H;if(!(G&&typeof G=="object"&&!Array.isArray(G)))return validate16.errors=[{instancePath:$+"/data",schemaPath:"#/properties/data/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=ie===H}else var z=!0;if(z){if(T.signature!==void 0){const G=H;if(typeof T.signature!="string")return validate16.errors=[{instancePath:$+"/signature",schemaPath:"#/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0;if(z)if(T.privateData!==void 0){let G=T.privateData;const ie=H;if(!(G&&typeof G=="object"&&!Array.isArray(G)))return validate16.errors=[{instancePath:$+"/privateData",schemaPath:"#/properties/privateData/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=ie===H}else var z=!0}}}}}else return validate16.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate16.errors=B,H===0}const order=validate19;function validate19(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T))for(const z in T)return validate19.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties"}],!1;else return validate19.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate19.errors=B,H===0}const orderstatus=validate20;function validate20(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let z;if(T.orderStatus===void 0&&(z="orderStatus"))return validate20.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"}],!1;for(const Q in T)if(Q!=="orderStatus")return validate20.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;if(T.orderStatus!==void 0&&typeof T.orderStatus!="string")return validate20.errors=[{instancePath:$+"/orderStatus",schemaPath:"#/properties/orderStatus/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}else return validate20.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate20.errors=B,H===0}const quote$1=validate21$1;function validate22$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let te;if(T.currencyCode===void 0&&(te="currencyCode")||T.amount===void 0&&(te="amount"))return validate22$1.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:te},message:"must have required property '"+te+"'"}],!1;for(const G in T)if(!(G==="currencyCode"||G==="amount"||G==="fee"||G==="paymentInstruction"))return validate22$1.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;{if(T.currencyCode!==void 0){const G=H;if(typeof T.currencyCode!="string")return validate22$1.errors=[{instancePath:$+"/currencyCode",schemaPath:"#/properties/currencyCode/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0;if(z){if(T.amount!==void 0){let G=T.amount;const ie=H;if(typeof G=="string"){if(!pattern0$2.test(G))return validate22$1.errors=[{instancePath:$+"/amount",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate22$1.errors=[{instancePath:$+"/amount",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=ie===H}else var z=!0;if(z){if(T.fee!==void 0){let G=T.fee;const ie=H;if(typeof G=="string"){if(!pattern0$2.test(G))return validate22$1.errors=[{instancePath:$+"/fee",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate22$1.errors=[{instancePath:$+"/fee",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=ie===H}else var z=!0;if(z)if(T.paymentInstruction!==void 0){let G=T.paymentInstruction;const ie=H;if(G&&typeof G=="object"&&!Array.isArray(G)){for(const $e in G)if(!($e==="link"||$e==="instruction"))return validate22$1.errors=[{instancePath:$+"/paymentInstruction",schemaPath:"#/definitions/PaymentInstruction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties"}],!1;{if(G.link!==void 0){const $e=H;if(typeof G.link!="string")return validate22$1.errors=[{instancePath:$+"/paymentInstruction/link",schemaPath:"#/definitions/PaymentInstruction/properties/link/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=$e===H}else var Q=!0;if(Q)if(G.instruction!==void 0){const $e=H;if(typeof G.instruction!="string")return validate22$1.errors=[{instancePath:$+"/paymentInstruction/instruction",schemaPath:"#/definitions/PaymentInstruction/properties/instruction/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=$e===H}else var Q=!0}}else return validate22$1.errors=[{instancePath:$+"/paymentInstruction",schemaPath:"#/definitions/PaymentInstruction/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=ie===H}else var z=!0}}}}else return validate22$1.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate22$1.errors=B,H===0}function validate21$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(H===0)if(T&&typeof T=="object"&&!Array.isArray(T)){let Q;if(T.expiresAt===void 0&&(Q="expiresAt")||T.payin===void 0&&(Q="payin")||T.payout===void 0&&(Q="payout"))return validate21$1.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:Q},message:"must have required property '"+Q+"'"}],!1;{const te=H;for(const G in T)if(!(G==="expiresAt"||G==="payin"||G==="payout"))return validate21$1.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;if(te===H){if(T.expiresAt!==void 0){const G=H;if(typeof T.expiresAt!="string")return validate21$1.errors=[{instancePath:$+"/expiresAt",schemaPath:"#/properties/expiresAt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0;if(z){if(T.payin!==void 0){const G=H;validate22$1(T.payin,{instancePath:$+"/payin",parentData:T,parentDataProperty:"payin",rootData:L})||(B=B===null?validate22$1.errors:B.concat(validate22$1.errors),H=B.length);var z=G===H}else var z=!0;if(z)if(T.payout!==void 0){const G=H;validate22$1(T.payout,{instancePath:$+"/payout",parentData:T,parentDataProperty:"payout",rootData:L})||(B=B===null?validate22$1.errors:B.concat(validate22$1.errors),H=B.length);var z=G===H}else var z=!0}}}}else return validate21$1.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate21$1.errors=B,H===0}const resource$2=validate25,schema37={properties:{metadata:{properties:{kind:{enum:["offering","balance"]}}}}};function validate25(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let te;if(T.metadata===void 0&&(te="metadata")||T.data===void 0&&(te="data")||T.signature===void 0&&(te="signature"))return validate25.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:te},message:"must have required property '"+te+"'"}],!1;for(const G in T)if(!(G==="metadata"||G==="data"||G==="signature"))return validate25.errors=[{instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;{if(T.metadata!==void 0){let G=T.metadata;const ie=H;if(G&&typeof G=="object"&&!Array.isArray(G)){let Re;if(G.from===void 0&&(Re="from")||G.kind===void 0&&(Re="kind")||G.id===void 0&&(Re="id")||G.createdAt===void 0&&(Re="createdAt")||G.protocol===void 0&&(Re="protocol"))return validate25.errors=[{instancePath:$+"/metadata",schemaPath:"#/properties/metadata/required",keyword:"required",params:{missingProperty:Re},message:"must have required property '"+Re+"'"}],!1;if(G.from!==void 0){let $e=G.from;const Pe=H;if(typeof $e=="string"){if(!pattern11.test($e))return validate25.errors=[{instancePath:$+"/metadata/from",schemaPath:"definitions.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return validate25.errors=[{instancePath:$+"/metadata/from",schemaPath:"definitions.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=Pe===H}else var z=!0;if(z){if(G.kind!==void 0){let $e=G.kind;const Pe=H;if(typeof $e!="string")return validate25.errors=[{instancePath:$+"/metadata/kind",schemaPath:"#/properties/metadata/properties/kind/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!($e==="offering"||$e==="balance"))return validate25.errors=[{instancePath:$+"/metadata/kind",schemaPath:"#/properties/metadata/properties/kind/enum",keyword:"enum",params:{allowedValues:schema37.properties.metadata.properties.kind.enum},message:"must be equal to one of the allowed values"}],!1;var z=Pe===H}else var z=!0;if(z){if(G.id!==void 0){const $e=H;if(typeof G.id!="string")return validate25.errors=[{instancePath:$+"/metadata/id",schemaPath:"#/properties/metadata/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=$e===H}else var z=!0;if(z){if(G.createdAt!==void 0){const $e=H;if(typeof G.createdAt!="string")return validate25.errors=[{instancePath:$+"/metadata/createdAt",schemaPath:"#/properties/metadata/properties/createdAt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=$e===H}else var z=!0;if(z){if(G.updatedAt!==void 0){const $e=H;if(typeof G.updatedAt!="string")return validate25.errors=[{instancePath:$+"/metadata/updatedAt",schemaPath:"#/properties/metadata/properties/updatedAt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=$e===H}else var z=!0;if(z)if(G.protocol!==void 0){const $e=H;if(typeof G.protocol!="string")return validate25.errors=[{instancePath:$+"/metadata/protocol",schemaPath:"#/properties/metadata/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=$e===H}else var z=!0}}}}}else return validate25.errors=[{instancePath:$+"/metadata",schemaPath:"#/properties/metadata/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Q=ie===H}else var Q=!0;if(Q){if(T.data!==void 0){let G=T.data;const ie=H;if(!(G&&typeof G=="object"&&!Array.isArray(G)))return validate25.errors=[{instancePath:$+"/data",schemaPath:"#/properties/data/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Q=ie===H}else var Q=!0;if(Q)if(T.signature!==void 0){const G=H;if(typeof T.signature!="string")return validate25.errors=[{instancePath:$+"/signature",schemaPath:"#/properties/signature/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=G===H}else var Q=!0}}}else return validate25.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate25.errors=B,H===0}const rfqPrivate=validate26;function validate26(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let te;if(T.salt===void 0&&(te="salt"))return validate26.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:te},message:"must have required property '"+te+"'"}],!1;if(T.additionalProperties!==void 0){var z=!1;return validate26.errors=[{instancePath:$+"/additionalProperties",schemaPath:"#/properties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false"}],!1}else var z=!0;if(z){if(T.salt!==void 0){const G=H;if(typeof T.salt!="string")return validate26.errors=[{instancePath:$+"/salt",schemaPath:"#/properties/salt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=G===H}else var z=!0;if(z){if(T.claims!==void 0){let G=T.claims;const ie=H;if(Array.isArray(G)){var Q=!0;const $e=G.length;for(let Pe=0;Pe<$e;Pe++){const Me=H;if(typeof G[Pe]!="string")return validate26.errors=[{instancePath:$+"/claims/"+Pe,schemaPath:"#/properties/claims/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=Me===H;if(!Q)break}}else return validate26.errors=[{instancePath:$+"/claims",schemaPath:"#/properties/claims/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var z=ie===H}else var z=!0;if(z){if(T.payin!==void 0){let G=T.payin;const ie=H;if(G&&typeof G=="object"&&!Array.isArray(G)){for(const $e in G)if($e!=="paymentDetails")return validate26.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties"}],!1;if(G.paymentDetails!==void 0){let $e=G.paymentDetails;if(!($e&&typeof $e=="object"&&!Array.isArray($e)))return validate26.errors=[{instancePath:$+"/payin/paymentDetails",schemaPath:"#/properties/payin/properties/paymentDetails/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}}else return validate26.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=ie===H}else var z=!0;if(z)if(T.payout!==void 0){let G=T.payout;const ie=H;if(G&&typeof G=="object"&&!Array.isArray(G)){for(const $e in G)if($e!=="paymentDetails")return validate26.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties"}],!1;if(G.paymentDetails!==void 0){let $e=G.paymentDetails;if(!($e&&typeof $e=="object"&&!Array.isArray($e)))return validate26.errors=[{instancePath:$+"/payout/paymentDetails",schemaPath:"#/properties/payout/properties/paymentDetails/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}}else return validate26.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=ie===H}else var z=!0}}}}else return validate26.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate26.errors=B,H===0}const rfq=validate27$1;function validate27$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){let G;if(T.offeringId===void 0&&(G="offeringId")||T.payin===void 0&&(G="payin")||T.payout===void 0&&(G="payout"))return validate27$1.errors=[{instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"}],!1;if(T.additionalProperties!==void 0){var z=!1;return validate27$1.errors=[{instancePath:$+"/additionalProperties",schemaPath:"#/properties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false"}],!1}else var z=!0;if(z){if(T.offeringId!==void 0){const ie=H;if(typeof T.offeringId!="string")return validate27$1.errors=[{instancePath:$+"/offeringId",schemaPath:"#/properties/offeringId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=ie===H}else var z=!0;if(z){if(T.claimsHash!==void 0){const ie=H;if(typeof T.claimsHash!="string")return validate27$1.errors=[{instancePath:$+"/claimsHash",schemaPath:"#/properties/claimsHash/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var z=ie===H}else var z=!0;if(z){if(T.payin!==void 0){let ie=T.payin;const Re=H;if(ie&&typeof ie=="object"&&!Array.isArray(ie)){let Pe;if(ie.amount===void 0&&(Pe="amount")||ie.kind===void 0&&(Pe="kind"))return validate27$1.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;if(ie.amount!==void 0){let Me=ie.amount;const Be=H;if(typeof Me=="string"){if(!pattern0$2.test(Me))return validate27$1.errors=[{instancePath:$+"/payin/amount",schemaPath:"definitions.json#/definitions/decimalString/pattern",keyword:"pattern",params:{pattern:"^([0-9]+(?:[.][0-9]+)?)$"},message:'must match pattern "^([0-9]+(?:[.][0-9]+)?)$"'}],!1}else return validate27$1.errors=[{instancePath:$+"/payin/amount",schemaPath:"definitions.json#/definitions/decimalString/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=Be===H}else var Q=!0;if(Q){if(ie.kind!==void 0){const Me=H;if(typeof ie.kind!="string")return validate27$1.errors=[{instancePath:$+"/payin/kind",schemaPath:"#/properties/payin/properties/kind/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=Me===H}else var Q=!0;if(Q)if(ie.paymentDetailsHash!==void 0){const Me=H;if(typeof ie.paymentDetailsHash!="string")return validate27$1.errors=[{instancePath:$+"/payin/paymentDetailsHash",schemaPath:"#/properties/payin/properties/paymentDetailsHash/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=Me===H}else var Q=!0}}else return validate27$1.errors=[{instancePath:$+"/payin",schemaPath:"#/properties/payin/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=Re===H}else var z=!0;if(z)if(T.payout!==void 0){let ie=T.payout;const Re=H;if(ie&&typeof ie=="object"&&!Array.isArray(ie)){let Pe;if(ie.kind===void 0&&(Pe="kind"))return validate27$1.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;if(ie.kind!==void 0){const Me=H;if(typeof ie.kind!="string")return validate27$1.errors=[{instancePath:$+"/payout/kind",schemaPath:"#/properties/payout/properties/kind/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var te=Me===H}else var te=!0;if(te)if(ie.paymentDetailsHash!==void 0){const Me=H;if(typeof ie.paymentDetailsHash!="string")return validate27$1.errors=[{instancePath:$+"/payout/paymentDetailsHash",schemaPath:"#/properties/payout/properties/paymentDetailsHash/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var te=Me===H}else var te=!0}else return validate27$1.errors=[{instancePath:$+"/payout",schemaPath:"#/properties/payout/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=Re===H}else var z=!0}}}}else return validate27$1.errors=[{instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate27$1.errors=B,H===0}const compiledValidators=Object.freeze(Object.defineProperty({__proto__:null,balance,close,definitions:definitions$2,message,offering,order,orderstatus,quote:quote$1,resource:resource$2,rfq,rfqPrivate},Symbol.toStringTag,{value:"Module"}));function validate$5(T,$){let I=compiledValidators[$];if(!I)throw new Error(`no validator found for ${$}`);I(T),I.errors&&handleValidationError(I.errors)}function handleValidationError(T){const[$]=T;let{instancePath:I,message:N,params:L}=$;throw I||(I="message"),N=L.allowedValues?`${N} - ${L.allowedValues.join(", ")}`:N,new Error(`${I}: ${N}`)}class Resource{constructor($,I,N){Dr(this,"metadata");Dr(this,"data");Dr(this,"_signature");this.metadata=$,this.data=I,this._signature=N}static generateId($){return typeid($).toString()}async sign($){this._signature=await Crypto.sign({did:$,payload:this.digest(),detached:!0})}async verify(){return this.validate(),this.verifySignature()}async verifySignature(){if(this.signature===void 0)throw new Error("Could not verify message signature because no signature is missing");const $=await Crypto.verify({detachedPayload:this.digest(),signature:this.signature});if(this.metadata.from!==$)throw new Error("Signature verification failed: Expected DID in kid of JWS header to match metadata.from");return $}digest(){return Crypto.digest({metadata:this.metadata,data:this.data})}validate(){validate$5(this.toJSON(),"resource"),this.validateData()}validateData(){validate$5(this.data,this.kind)}toJSON(){return{metadata:this.metadata,data:this.data,signature:this.signature}}get signature(){return this._signature}get id(){return this.metadata.id}get from(){return this.metadata.from}get createdAt(){return this.metadata.createdAt}get updatedAt(){return this.metadata.updatedAt}get protocol(){return this.metadata.protocol}isOffering(){return this.metadata.kind==="offering"}isBalance(){return this.metadata.kind==="balance"}}class Message{constructor($,I,N){Dr(this,"metadata");Dr(this,"data");Dr(this,"_signature");this.metadata=$,this.data=I,this._signature=N}static generateId($){return typeid($).toString()}async sign($){this._signature=await Crypto.sign({did:$,payload:this.digest(),detached:!0})}async verify(){return this.validate(),await this.verifySignature()}async verifySignature(){if(this.signature===void 0)throw new Error("Could not verify message signature because no signature is missing");const $=await Crypto.verify({detachedPayload:this.digest(),signature:this.signature});if(this.metadata.from!==$)throw new Error("Signature verification failed: Expected DID in kid of JWS header to match metadata.from");return $}digest(){return Crypto.digest({metadata:this.metadata,data:this.data})}validate(){validate$5(this.toJSON(),"message"),this.validateData()}validateData(){validate$5(this.data,this.kind)}get signature(){return this._signature}get id(){return this.metadata.id}get exchangeId(){return this.metadata.exchangeId}get from(){return this.metadata.from}get to(){return this.metadata.to}get createdAt(){return this.metadata.createdAt}get externalId(){return this.metadata.externalId}get protocol(){return this.metadata.protocol}isRfq(){return this.metadata.kind==="rfq"}isQuote(){return this.metadata.kind==="quote"}isOrder(){return this.metadata.kind==="order"}isOrderStatus(){return this.metadata.kind==="orderstatus"}isClose(){return this.metadata.kind==="close"}toJSON(){return{metadata:this.metadata,data:this.data,signature:this.signature}}}var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER$1=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(T){var $,I,N,L=Le.prototype={constructor:Le,toString:null,valueOf:null},B=new Le(1),H=20,z=4,Q=-7,te=21,G=-1e7,ie=1e7,Re=!1,$e=1,Pe=0,Me={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Be="0123456789abcdefghijklmnopqrstuvwxyz",Ke=!0;function Le(Ye,nt){var Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe=this;if(!(Xe instanceof Le))return new Le(Ye,nt);if(nt==null){if(Ye&&Ye._isBigNumber===!0){Xe.s=Ye.s,!Ye.c||Ye.e>ie?Xe.c=Xe.e=null:Ye.e<G?Xe.c=[Xe.e=0]:(Xe.e=Ye.e,Xe.c=Ye.c.slice());return}if((Ue=typeof Ye=="number")&&Ye*0==0){if(Xe.s=1/Ye<0?(Ye=-Ye,-1):1,Ye===~~Ye){for(Fe=0,ke=Ye;ke>=10;ke/=10,Fe++);Fe>ie?Xe.c=Xe.e=null:(Xe.e=Fe,Xe.c=[Ye]);return}rt=String(Ye)}else{if(!isNumeric.test(rt=String(Ye)))return N(Xe,rt,Ue);Xe.s=rt.charCodeAt(0)==45?(rt=rt.slice(1),-1):1}(Fe=rt.indexOf("."))>-1&&(rt=rt.replace(".","")),(ke=rt.search(/e/i))>0?(Fe<0&&(Fe=ke),Fe+=+rt.slice(ke+1),rt=rt.substring(0,ke)):Fe<0&&(Fe=rt.length)}else{if(intCheck(nt,2,Be.length,"Base"),nt==10&&Ke)return Xe=new Le(Ye),at(Xe,H+Xe.e+1,z);if(rt=String(Ye),Ue=typeof Ye=="number"){if(Ye*0!=0)return N(Xe,rt,Ue,nt);if(Xe.s=1/Ye<0?(rt=rt.slice(1),-1):1,Le.DEBUG&&rt.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+Ye)}else Xe.s=rt.charCodeAt(0)===45?(rt=rt.slice(1),-1):1;for(Qe=Be.slice(0,nt),Fe=ke=0,Je=rt.length;ke<Je;ke++)if(Qe.indexOf(tt=rt.charAt(ke))<0){if(tt=="."){if(ke>Fe){Fe=Je;continue}}else if(!ze&&(rt==rt.toUpperCase()&&(rt=rt.toLowerCase())||rt==rt.toLowerCase()&&(rt=rt.toUpperCase()))){ze=!0,ke=-1,Fe=0;continue}return N(Xe,String(Ye),Ue,nt)}Ue=!1,rt=I(rt,nt,10,Xe.s),(Fe=rt.indexOf("."))>-1?rt=rt.replace(".",""):Fe=rt.length}for(ke=0;rt.charCodeAt(ke)===48;ke++);for(Je=rt.length;rt.charCodeAt(--Je)===48;);if(rt=rt.slice(ke,++Je)){if(Je-=ke,Ue&&Le.DEBUG&&Je>15&&(Ye>MAX_SAFE_INTEGER$1||Ye!==mathfloor(Ye)))throw Error(tooManyDigits+Xe.s*Ye);if((Fe=Fe-ke-1)>ie)Xe.c=Xe.e=null;else if(Fe<G)Xe.c=[Xe.e=0];else{if(Xe.e=Fe,Xe.c=[],ke=(Fe+1)%LOG_BASE,Fe<0&&(ke+=LOG_BASE),ke<Je){for(ke&&Xe.c.push(+rt.slice(0,ke)),Je-=LOG_BASE;ke<Je;)Xe.c.push(+rt.slice(ke,ke+=LOG_BASE));ke=LOG_BASE-(rt=rt.slice(ke)).length}else ke-=Je;for(;ke--;rt+="0");Xe.c.push(+rt)}}else Xe.c=[Xe.e=0]}Le.clone=clone,Le.ROUND_UP=0,Le.ROUND_DOWN=1,Le.ROUND_CEIL=2,Le.ROUND_FLOOR=3,Le.ROUND_HALF_UP=4,Le.ROUND_HALF_DOWN=5,Le.ROUND_HALF_EVEN=6,Le.ROUND_HALF_CEIL=7,Le.ROUND_HALF_FLOOR=8,Le.EUCLID=9,Le.config=Le.set=function(Ye){var nt,Qe;if(Ye!=null)if(typeof Ye=="object"){if(Ye.hasOwnProperty(nt="DECIMAL_PLACES")&&(Qe=Ye[nt],intCheck(Qe,0,MAX,nt),H=Qe),Ye.hasOwnProperty(nt="ROUNDING_MODE")&&(Qe=Ye[nt],intCheck(Qe,0,8,nt),z=Qe),Ye.hasOwnProperty(nt="EXPONENTIAL_AT")&&(Qe=Ye[nt],Qe&&Qe.pop?(intCheck(Qe[0],-1e9,0,nt),intCheck(Qe[1],0,MAX,nt),Q=Qe[0],te=Qe[1]):(intCheck(Qe,-1e9,MAX,nt),Q=-(te=Qe<0?-Qe:Qe))),Ye.hasOwnProperty(nt="RANGE"))if(Qe=Ye[nt],Qe&&Qe.pop)intCheck(Qe[0],-1e9,-1,nt),intCheck(Qe[1],1,MAX,nt),G=Qe[0],ie=Qe[1];else if(intCheck(Qe,-1e9,MAX,nt),Qe)G=-(ie=Qe<0?-Qe:Qe);else throw Error(bignumberError+nt+" cannot be zero: "+Qe);if(Ye.hasOwnProperty(nt="CRYPTO"))if(Qe=Ye[nt],Qe===!!Qe)if(Qe)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Re=Qe;else throw Re=!Qe,Error(bignumberError+"crypto unavailable");else Re=Qe;else throw Error(bignumberError+nt+" not true or false: "+Qe);if(Ye.hasOwnProperty(nt="MODULO_MODE")&&(Qe=Ye[nt],intCheck(Qe,0,9,nt),$e=Qe),Ye.hasOwnProperty(nt="POW_PRECISION")&&(Qe=Ye[nt],intCheck(Qe,0,MAX,nt),Pe=Qe),Ye.hasOwnProperty(nt="FORMAT"))if(Qe=Ye[nt],typeof Qe=="object")Me=Qe;else throw Error(bignumberError+nt+" not an object: "+Qe);if(Ye.hasOwnProperty(nt="ALPHABET"))if(Qe=Ye[nt],typeof Qe=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Qe))Ke=Qe.slice(0,10)=="0123456789",Be=Qe;else throw Error(bignumberError+nt+" invalid: "+Qe)}else throw Error(bignumberError+"Object expected: "+Ye);return{DECIMAL_PLACES:H,ROUNDING_MODE:z,EXPONENTIAL_AT:[Q,te],RANGE:[G,ie],CRYPTO:Re,MODULO_MODE:$e,POW_PRECISION:Pe,FORMAT:Me,ALPHABET:Be}},Le.isBigNumber=function(Ye){if(!Ye||Ye._isBigNumber!==!0)return!1;if(!Le.DEBUG)return!0;var nt,Qe,tt=Ye.c,ze=Ye.e,Fe=Ye.s;e:if({}.toString.call(tt)=="[object Array]"){if((Fe===1||Fe===-1)&&ze>=-1e9&&ze<=MAX&&ze===mathfloor(ze)){if(tt[0]===0){if(ze===0&&tt.length===1)return!0;break e}if(nt=(ze+1)%LOG_BASE,nt<1&&(nt+=LOG_BASE),String(tt[0]).length==nt){for(nt=0;nt<tt.length;nt++)if(Qe=tt[nt],Qe<0||Qe>=BASE||Qe!==mathfloor(Qe))break e;if(Qe!==0)return!0}}}else if(tt===null&&ze===null&&(Fe===null||Fe===1||Fe===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+Ye)},Le.maximum=Le.max=function(){return He(arguments,-1)},Le.minimum=Le.min=function(){return He(arguments,1)},Le.random=function(){var Ye=9007199254740992,nt=Math.random()*Ye&2097151?function(){return mathfloor(Math.random()*Ye)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Qe){var tt,ze,Fe,ke,Ue,Je=0,rt=[],Xe=new Le(B);if(Qe==null?Qe=H:intCheck(Qe,0,MAX),ke=mathceil(Qe/LOG_BASE),Re)if(crypto.getRandomValues){for(tt=crypto.getRandomValues(new Uint32Array(ke*=2));Je<ke;)Ue=tt[Je]*131072+(tt[Je+1]>>>11),Ue>=9e15?(ze=crypto.getRandomValues(new Uint32Array(2)),tt[Je]=ze[0],tt[Je+1]=ze[1]):(rt.push(Ue%1e14),Je+=2);Je=ke/2}else if(crypto.randomBytes){for(tt=crypto.randomBytes(ke*=7);Je<ke;)Ue=(tt[Je]&31)*281474976710656+tt[Je+1]*1099511627776+tt[Je+2]*4294967296+tt[Je+3]*16777216+(tt[Je+4]<<16)+(tt[Je+5]<<8)+tt[Je+6],Ue>=9e15?crypto.randomBytes(7).copy(tt,Je):(rt.push(Ue%1e14),Je+=7);Je=ke/7}else throw Re=!1,Error(bignumberError+"crypto unavailable");if(!Re)for(;Je<ke;)Ue=nt(),Ue<9e15&&(rt[Je++]=Ue%1e14);for(ke=rt[--Je],Qe%=LOG_BASE,ke&&Qe&&(Ue=POWS_TEN[LOG_BASE-Qe],rt[Je]=mathfloor(ke/Ue)*Ue);rt[Je]===0;rt.pop(),Je--);if(Je<0)rt=[Fe=0];else{for(Fe=-1;rt[0]===0;rt.splice(0,1),Fe-=LOG_BASE);for(Je=1,Ue=rt[0];Ue>=10;Ue/=10,Je++);Je<LOG_BASE&&(Fe-=LOG_BASE-Je)}return Xe.e=Fe,Xe.c=rt,Xe}}(),Le.sum=function(){for(var Ye=1,nt=arguments,Qe=new Le(nt[0]);Ye<nt.length;)Qe=Qe.plus(nt[Ye++]);return Qe},I=function(){var Ye="0123456789";function nt(Qe,tt,ze,Fe){for(var ke,Ue=[0],Je,rt=0,Xe=Qe.length;rt<Xe;){for(Je=Ue.length;Je--;Ue[Je]*=tt);for(Ue[0]+=Fe.indexOf(Qe.charAt(rt++)),ke=0;ke<Ue.length;ke++)Ue[ke]>ze-1&&(Ue[ke+1]==null&&(Ue[ke+1]=0),Ue[ke+1]+=Ue[ke]/ze|0,Ue[ke]%=ze)}return Ue.reverse()}return function(Qe,tt,ze,Fe,ke){var Ue,Je,rt,Xe,it,We,Ve,je,Ze=Qe.indexOf("."),st=H,dt=z;for(Ze>=0&&(Xe=Pe,Pe=0,Qe=Qe.replace(".",""),je=new Le(tt),We=je.pow(Qe.length-Ze),Pe=Xe,je.c=nt(toFixedPoint(coeffToString(We.c),We.e,"0"),10,ze,Ye),je.e=je.c.length),Ve=nt(Qe,tt,ze,ke?(Ue=Be,Ye):(Ue=Ye,Be)),rt=Xe=Ve.length;Ve[--Xe]==0;Ve.pop());if(!Ve[0])return Ue.charAt(0);if(Ze<0?--rt:(We.c=Ve,We.e=rt,We.s=Fe,We=$(We,je,st,dt,ze),Ve=We.c,it=We.r,rt=We.e),Je=rt+st+1,Ze=Ve[Je],Xe=ze/2,it=it||Je<0||Ve[Je+1]!=null,it=dt<4?(Ze!=null||it)&&(dt==0||dt==(We.s<0?3:2)):Ze>Xe||Ze==Xe&&(dt==4||it||dt==6&&Ve[Je-1]&1||dt==(We.s<0?8:7)),Je<1||!Ve[0])Qe=it?toFixedPoint(Ue.charAt(1),-st,Ue.charAt(0)):Ue.charAt(0);else{if(Ve.length=Je,it)for(--ze;++Ve[--Je]>ze;)Ve[Je]=0,Je||(++rt,Ve=[1].concat(Ve));for(Xe=Ve.length;!Ve[--Xe];);for(Ze=0,Qe="";Ze<=Xe;Qe+=Ue.charAt(Ve[Ze++]));Qe=toFixedPoint(Qe,rt,Ue.charAt(0))}return Qe}}(),$=function(){function Ye(tt,ze,Fe){var ke,Ue,Je,rt,Xe=0,it=tt.length,We=ze%SQRT_BASE,Ve=ze/SQRT_BASE|0;for(tt=tt.slice();it--;)Je=tt[it]%SQRT_BASE,rt=tt[it]/SQRT_BASE|0,ke=Ve*Je+rt*We,Ue=We*Je+ke%SQRT_BASE*SQRT_BASE+Xe,Xe=(Ue/Fe|0)+(ke/SQRT_BASE|0)+Ve*rt,tt[it]=Ue%Fe;return Xe&&(tt=[Xe].concat(tt)),tt}function nt(tt,ze,Fe,ke){var Ue,Je;if(Fe!=ke)Je=Fe>ke?1:-1;else for(Ue=Je=0;Ue<Fe;Ue++)if(tt[Ue]!=ze[Ue]){Je=tt[Ue]>ze[Ue]?1:-1;break}return Je}function Qe(tt,ze,Fe,ke){for(var Ue=0;Fe--;)tt[Fe]-=Ue,Ue=tt[Fe]<ze[Fe]?1:0,tt[Fe]=Ue*ke+tt[Fe]-ze[Fe];for(;!tt[0]&&tt.length>1;tt.splice(0,1));}return function(tt,ze,Fe,ke,Ue){var Je,rt,Xe,it,We,Ve,je,Ze,st,dt,bt,vt,St,Bt,Gt,Dt,Mt,pt=tt.s==ze.s?1:-1,mt=tt.c,$t=ze.c;if(!mt||!mt[0]||!$t||!$t[0])return new Le(!tt.s||!ze.s||(mt?$t&&mt[0]==$t[0]:!$t)?NaN:mt&&mt[0]==0||!$t?pt*0:pt/0);for(Ze=new Le(pt),st=Ze.c=[],rt=tt.e-ze.e,pt=Fe+rt+1,Ue||(Ue=BASE,rt=bitFloor(tt.e/LOG_BASE)-bitFloor(ze.e/LOG_BASE),pt=pt/LOG_BASE|0),Xe=0;$t[Xe]==(mt[Xe]||0);Xe++);if($t[Xe]>(mt[Xe]||0)&&rt--,pt<0)st.push(1),it=!0;else{for(Bt=mt.length,Dt=$t.length,Xe=0,pt+=2,We=mathfloor(Ue/($t[0]+1)),We>1&&($t=Ye($t,We,Ue),mt=Ye(mt,We,Ue),Dt=$t.length,Bt=mt.length),St=Dt,dt=mt.slice(0,Dt),bt=dt.length;bt<Dt;dt[bt++]=0);Mt=$t.slice(),Mt=[0].concat(Mt),Gt=$t[0],$t[1]>=Ue/2&&Gt++;do{if(We=0,Je=nt($t,dt,Dt,bt),Je<0){if(vt=dt[0],Dt!=bt&&(vt=vt*Ue+(dt[1]||0)),We=mathfloor(vt/Gt),We>1)for(We>=Ue&&(We=Ue-1),Ve=Ye($t,We,Ue),je=Ve.length,bt=dt.length;nt(Ve,dt,je,bt)==1;)We--,Qe(Ve,Dt<je?Mt:$t,je,Ue),je=Ve.length,Je=1;else We==0&&(Je=We=1),Ve=$t.slice(),je=Ve.length;if(je<bt&&(Ve=[0].concat(Ve)),Qe(dt,Ve,bt,Ue),bt=dt.length,Je==-1)for(;nt($t,dt,Dt,bt)<1;)We++,Qe(dt,Dt<bt?Mt:$t,bt,Ue),bt=dt.length}else Je===0&&(We++,dt=[0]);st[Xe++]=We,dt[0]?dt[bt++]=mt[St]||0:(dt=[mt[St]],bt=1)}while((St++<Bt||dt[0]!=null)&&pt--);it=dt[0]!=null,st[0]||st.splice(0,1)}if(Ue==BASE){for(Xe=1,pt=st[0];pt>=10;pt/=10,Xe++);at(Ze,Fe+(Ze.e=Xe+rt*LOG_BASE-1)+1,ke,it)}else Ze.e=rt,Ze.r=+it;return Ze}}();function qe(Ye,nt,Qe,tt){var ze,Fe,ke,Ue,Je;if(Qe==null?Qe=z:intCheck(Qe,0,8),!Ye.c)return Ye.toString();if(ze=Ye.c[0],ke=Ye.e,nt==null)Je=coeffToString(Ye.c),Je=tt==1||tt==2&&(ke<=Q||ke>=te)?toExponential(Je,ke):toFixedPoint(Je,ke,"0");else if(Ye=at(new Le(Ye),nt,Qe),Fe=Ye.e,Je=coeffToString(Ye.c),Ue=Je.length,tt==1||tt==2&&(nt<=Fe||Fe<=Q)){for(;Ue<nt;Je+="0",Ue++);Je=toExponential(Je,Fe)}else if(nt-=ke,Je=toFixedPoint(Je,Fe,"0"),Fe+1>Ue){if(--nt>0)for(Je+=".";nt--;Je+="0");}else if(nt+=Fe-Ue,nt>0)for(Fe+1==Ue&&(Je+=".");nt--;Je+="0");return Ye.s<0&&ze?"-"+Je:Je}function He(Ye,nt){for(var Qe,tt,ze=1,Fe=new Le(Ye[0]);ze<Ye.length;ze++)tt=new Le(Ye[ze]),(!tt.s||(Qe=compare(Fe,tt))===nt||Qe===0&&Fe.s===nt)&&(Fe=tt);return Fe}function Ge(Ye,nt,Qe){for(var tt=1,ze=nt.length;!nt[--ze];nt.pop());for(ze=nt[0];ze>=10;ze/=10,tt++);return(Qe=tt+Qe*LOG_BASE-1)>ie?Ye.c=Ye.e=null:Qe<G?Ye.c=[Ye.e=0]:(Ye.e=Qe,Ye.c=nt),Ye}N=function(){var Ye=/^(-?)0([xbo])(?=\w[\w.]*$)/i,nt=/^([^.]+)\.$/,Qe=/^\.([^.]+)$/,tt=/^-?(Infinity|NaN)$/,ze=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Fe,ke,Ue,Je){var rt,Xe=Ue?ke:ke.replace(ze,"");if(tt.test(Xe))Fe.s=isNaN(Xe)?null:Xe<0?-1:1;else{if(!Ue&&(Xe=Xe.replace(Ye,function(it,We,Ve){return rt=(Ve=Ve.toLowerCase())=="x"?16:Ve=="b"?2:8,!Je||Je==rt?We:it}),Je&&(rt=Je,Xe=Xe.replace(nt,"$1").replace(Qe,"0.$1")),ke!=Xe))return new Le(Xe,rt);if(Le.DEBUG)throw Error(bignumberError+"Not a"+(Je?" base "+Je:"")+" number: "+ke);Fe.s=null}Fe.c=Fe.e=null}}();function at(Ye,nt,Qe,tt){var ze,Fe,ke,Ue,Je,rt,Xe,it=Ye.c,We=POWS_TEN;if(it){e:{for(ze=1,Ue=it[0];Ue>=10;Ue/=10,ze++);if(Fe=nt-ze,Fe<0)Fe+=LOG_BASE,ke=nt,Je=it[rt=0],Xe=mathfloor(Je/We[ze-ke-1]%10);else if(rt=mathceil((Fe+1)/LOG_BASE),rt>=it.length)if(tt){for(;it.length<=rt;it.push(0));Je=Xe=0,ze=1,Fe%=LOG_BASE,ke=Fe-LOG_BASE+1}else break e;else{for(Je=Ue=it[rt],ze=1;Ue>=10;Ue/=10,ze++);Fe%=LOG_BASE,ke=Fe-LOG_BASE+ze,Xe=ke<0?0:mathfloor(Je/We[ze-ke-1]%10)}if(tt=tt||nt<0||it[rt+1]!=null||(ke<0?Je:Je%We[ze-ke-1]),tt=Qe<4?(Xe||tt)&&(Qe==0||Qe==(Ye.s<0?3:2)):Xe>5||Xe==5&&(Qe==4||tt||Qe==6&&(Fe>0?ke>0?Je/We[ze-ke]:0:it[rt-1])%10&1||Qe==(Ye.s<0?8:7)),nt<1||!it[0])return it.length=0,tt?(nt-=Ye.e+1,it[0]=We[(LOG_BASE-nt%LOG_BASE)%LOG_BASE],Ye.e=-nt||0):it[0]=Ye.e=0,Ye;if(Fe==0?(it.length=rt,Ue=1,rt--):(it.length=rt+1,Ue=We[LOG_BASE-Fe],it[rt]=ke>0?mathfloor(Je/We[ze-ke]%We[ke])*Ue:0),tt)for(;;)if(rt==0){for(Fe=1,ke=it[0];ke>=10;ke/=10,Fe++);for(ke=it[0]+=Ue,Ue=1;ke>=10;ke/=10,Ue++);Fe!=Ue&&(Ye.e++,it[0]==BASE&&(it[0]=1));break}else{if(it[rt]+=Ue,it[rt]!=BASE)break;it[rt--]=0,Ue=1}for(Fe=it.length;it[--Fe]===0;it.pop());}Ye.e>ie?Ye.c=Ye.e=null:Ye.e<G&&(Ye.c=[Ye.e=0])}return Ye}function ot(Ye){var nt,Qe=Ye.e;return Qe===null?Ye.toString():(nt=coeffToString(Ye.c),nt=Qe<=Q||Qe>=te?toExponential(nt,Qe):toFixedPoint(nt,Qe,"0"),Ye.s<0?"-"+nt:nt)}return L.absoluteValue=L.abs=function(){var Ye=new Le(this);return Ye.s<0&&(Ye.s=1),Ye},L.comparedTo=function(Ye,nt){return compare(this,new Le(Ye,nt))},L.decimalPlaces=L.dp=function(Ye,nt){var Qe,tt,ze,Fe=this;if(Ye!=null)return intCheck(Ye,0,MAX),nt==null?nt=z:intCheck(nt,0,8),at(new Le(Fe),Ye+Fe.e+1,nt);if(!(Qe=Fe.c))return null;if(tt=((ze=Qe.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,ze=Qe[ze])for(;ze%10==0;ze/=10,tt--);return tt<0&&(tt=0),tt},L.dividedBy=L.div=function(Ye,nt){return $(this,new Le(Ye,nt),H,z)},L.dividedToIntegerBy=L.idiv=function(Ye,nt){return $(this,new Le(Ye,nt),0,1)},L.exponentiatedBy=L.pow=function(Ye,nt){var Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe,it=this;if(Ye=new Le(Ye),Ye.c&&!Ye.isInteger())throw Error(bignumberError+"Exponent not an integer: "+ot(Ye));if(nt!=null&&(nt=new Le(nt)),Ue=Ye.e>14,!it.c||!it.c[0]||it.c[0]==1&&!it.e&&it.c.length==1||!Ye.c||!Ye.c[0])return Xe=new Le(Math.pow(+ot(it),Ue?Ye.s*(2-isOdd(Ye)):+ot(Ye))),nt?Xe.mod(nt):Xe;if(Je=Ye.s<0,nt){if(nt.c?!nt.c[0]:!nt.s)return new Le(NaN);tt=!Je&&it.isInteger()&&nt.isInteger(),tt&&(it=it.mod(nt))}else{if(Ye.e>9&&(it.e>0||it.e<-1||(it.e==0?it.c[0]>1||Ue&&it.c[1]>=24e7:it.c[0]<8e13||Ue&&it.c[0]<=9999975e7)))return Fe=it.s<0&&isOdd(Ye)?-0:0,it.e>-1&&(Fe=1/Fe),new Le(Je?1/Fe:Fe);Pe&&(Fe=mathceil(Pe/LOG_BASE+2))}for(Ue?(Qe=new Le(.5),Je&&(Ye.s=1),rt=isOdd(Ye)):(ze=Math.abs(+ot(Ye)),rt=ze%2),Xe=new Le(B);;){if(rt){if(Xe=Xe.times(it),!Xe.c)break;Fe?Xe.c.length>Fe&&(Xe.c.length=Fe):tt&&(Xe=Xe.mod(nt))}if(ze){if(ze=mathfloor(ze/2),ze===0)break;rt=ze%2}else if(Ye=Ye.times(Qe),at(Ye,Ye.e+1,1),Ye.e>14)rt=isOdd(Ye);else{if(ze=+ot(Ye),ze===0)break;rt=ze%2}it=it.times(it),Fe?it.c&&it.c.length>Fe&&(it.c.length=Fe):tt&&(it=it.mod(nt))}return tt?Xe:(Je&&(Xe=B.div(Xe)),nt?Xe.mod(nt):Fe?at(Xe,Pe,z,ke):Xe)},L.integerValue=function(Ye){var nt=new Le(this);return Ye==null?Ye=z:intCheck(Ye,0,8),at(nt,nt.e+1,Ye)},L.isEqualTo=L.eq=function(Ye,nt){return compare(this,new Le(Ye,nt))===0},L.isFinite=function(){return!!this.c},L.isGreaterThan=L.gt=function(Ye,nt){return compare(this,new Le(Ye,nt))>0},L.isGreaterThanOrEqualTo=L.gte=function(Ye,nt){return(nt=compare(this,new Le(Ye,nt)))===1||nt===0},L.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},L.isLessThan=L.lt=function(Ye,nt){return compare(this,new Le(Ye,nt))<0},L.isLessThanOrEqualTo=L.lte=function(Ye,nt){return(nt=compare(this,new Le(Ye,nt)))===-1||nt===0},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&this.c[0]==0},L.minus=function(Ye,nt){var Qe,tt,ze,Fe,ke=this,Ue=ke.s;if(Ye=new Le(Ye,nt),nt=Ye.s,!Ue||!nt)return new Le(NaN);if(Ue!=nt)return Ye.s=-nt,ke.plus(Ye);var Je=ke.e/LOG_BASE,rt=Ye.e/LOG_BASE,Xe=ke.c,it=Ye.c;if(!Je||!rt){if(!Xe||!it)return Xe?(Ye.s=-nt,Ye):new Le(it?ke:NaN);if(!Xe[0]||!it[0])return it[0]?(Ye.s=-nt,Ye):new Le(Xe[0]?ke:z==3?-0:0)}if(Je=bitFloor(Je),rt=bitFloor(rt),Xe=Xe.slice(),Ue=Je-rt){for((Fe=Ue<0)?(Ue=-Ue,ze=Xe):(rt=Je,ze=it),ze.reverse(),nt=Ue;nt--;ze.push(0));ze.reverse()}else for(tt=(Fe=(Ue=Xe.length)<(nt=it.length))?Ue:nt,Ue=nt=0;nt<tt;nt++)if(Xe[nt]!=it[nt]){Fe=Xe[nt]<it[nt];break}if(Fe&&(ze=Xe,Xe=it,it=ze,Ye.s=-Ye.s),nt=(tt=it.length)-(Qe=Xe.length),nt>0)for(;nt--;Xe[Qe++]=0);for(nt=BASE-1;tt>Ue;){if(Xe[--tt]<it[tt]){for(Qe=tt;Qe&&!Xe[--Qe];Xe[Qe]=nt);--Xe[Qe],Xe[tt]+=BASE}Xe[tt]-=it[tt]}for(;Xe[0]==0;Xe.splice(0,1),--rt);return Xe[0]?Ge(Ye,Xe,rt):(Ye.s=z==3?-1:1,Ye.c=[Ye.e=0],Ye)},L.modulo=L.mod=function(Ye,nt){var Qe,tt,ze=this;return Ye=new Le(Ye,nt),!ze.c||!Ye.s||Ye.c&&!Ye.c[0]?new Le(NaN):!Ye.c||ze.c&&!ze.c[0]?new Le(ze):($e==9?(tt=Ye.s,Ye.s=1,Qe=$(ze,Ye,0,3),Ye.s=tt,Qe.s*=tt):Qe=$(ze,Ye,0,$e),Ye=ze.minus(Qe.times(Ye)),!Ye.c[0]&&$e==1&&(Ye.s=ze.s),Ye)},L.multipliedBy=L.times=function(Ye,nt){var Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe,it,We,Ve,je,Ze,st,dt=this,bt=dt.c,vt=(Ye=new Le(Ye,nt)).c;if(!bt||!vt||!bt[0]||!vt[0])return!dt.s||!Ye.s||bt&&!bt[0]&&!vt||vt&&!vt[0]&&!bt?Ye.c=Ye.e=Ye.s=null:(Ye.s*=dt.s,!bt||!vt?Ye.c=Ye.e=null:(Ye.c=[0],Ye.e=0)),Ye;for(tt=bitFloor(dt.e/LOG_BASE)+bitFloor(Ye.e/LOG_BASE),Ye.s*=dt.s,Je=bt.length,it=vt.length,Je<it&&(je=bt,bt=vt,vt=je,ze=Je,Je=it,it=ze),ze=Je+it,je=[];ze--;je.push(0));for(Ze=BASE,st=SQRT_BASE,ze=it;--ze>=0;){for(Qe=0,We=vt[ze]%st,Ve=vt[ze]/st|0,ke=Je,Fe=ze+ke;Fe>ze;)rt=bt[--ke]%st,Xe=bt[ke]/st|0,Ue=Ve*rt+Xe*We,rt=We*rt+Ue%st*st+je[Fe]+Qe,Qe=(rt/Ze|0)+(Ue/st|0)+Ve*Xe,je[Fe--]=rt%Ze;je[Fe]=Qe}return Qe?++tt:je.splice(0,1),Ge(Ye,je,tt)},L.negated=function(){var Ye=new Le(this);return Ye.s=-Ye.s||null,Ye},L.plus=function(Ye,nt){var Qe,tt=this,ze=tt.s;if(Ye=new Le(Ye,nt),nt=Ye.s,!ze||!nt)return new Le(NaN);if(ze!=nt)return Ye.s=-nt,tt.minus(Ye);var Fe=tt.e/LOG_BASE,ke=Ye.e/LOG_BASE,Ue=tt.c,Je=Ye.c;if(!Fe||!ke){if(!Ue||!Je)return new Le(ze/0);if(!Ue[0]||!Je[0])return Je[0]?Ye:new Le(Ue[0]?tt:ze*0)}if(Fe=bitFloor(Fe),ke=bitFloor(ke),Ue=Ue.slice(),ze=Fe-ke){for(ze>0?(ke=Fe,Qe=Je):(ze=-ze,Qe=Ue),Qe.reverse();ze--;Qe.push(0));Qe.reverse()}for(ze=Ue.length,nt=Je.length,ze-nt<0&&(Qe=Je,Je=Ue,Ue=Qe,nt=ze),ze=0;nt;)ze=(Ue[--nt]=Ue[nt]+Je[nt]+ze)/BASE|0,Ue[nt]=BASE===Ue[nt]?0:Ue[nt]%BASE;return ze&&(Ue=[ze].concat(Ue),++ke),Ge(Ye,Ue,ke)},L.precision=L.sd=function(Ye,nt){var Qe,tt,ze,Fe=this;if(Ye!=null&&Ye!==!!Ye)return intCheck(Ye,1,MAX),nt==null?nt=z:intCheck(nt,0,8),at(new Le(Fe),Ye,nt);if(!(Qe=Fe.c))return null;if(ze=Qe.length-1,tt=ze*LOG_BASE+1,ze=Qe[ze]){for(;ze%10==0;ze/=10,tt--);for(ze=Qe[0];ze>=10;ze/=10,tt++);}return Ye&&Fe.e+1>tt&&(tt=Fe.e+1),tt},L.shiftedBy=function(Ye){return intCheck(Ye,-9007199254740991,MAX_SAFE_INTEGER$1),this.times("1e"+Ye)},L.squareRoot=L.sqrt=function(){var Ye,nt,Qe,tt,ze,Fe=this,ke=Fe.c,Ue=Fe.s,Je=Fe.e,rt=H+4,Xe=new Le("0.5");if(Ue!==1||!ke||!ke[0])return new Le(!Ue||Ue<0&&(!ke||ke[0])?NaN:ke?Fe:1/0);if(Ue=Math.sqrt(+ot(Fe)),Ue==0||Ue==1/0?(nt=coeffToString(ke),(nt.length+Je)%2==0&&(nt+="0"),Ue=Math.sqrt(+nt),Je=bitFloor((Je+1)/2)-(Je<0||Je%2),Ue==1/0?nt="5e"+Je:(nt=Ue.toExponential(),nt=nt.slice(0,nt.indexOf("e")+1)+Je),Qe=new Le(nt)):Qe=new Le(Ue+""),Qe.c[0]){for(Je=Qe.e,Ue=Je+rt,Ue<3&&(Ue=0);;)if(ze=Qe,Qe=Xe.times(ze.plus($(Fe,ze,rt,1))),coeffToString(ze.c).slice(0,Ue)===(nt=coeffToString(Qe.c)).slice(0,Ue))if(Qe.e<Je&&--Ue,nt=nt.slice(Ue-3,Ue+1),nt=="9999"||!tt&&nt=="4999"){if(!tt&&(at(ze,ze.e+H+2,0),ze.times(ze).eq(Fe))){Qe=ze;break}rt+=4,Ue+=4,tt=1}else{(!+nt||!+nt.slice(1)&&nt.charAt(0)=="5")&&(at(Qe,Qe.e+H+2,1),Ye=!Qe.times(Qe).eq(Fe));break}}return at(Qe,Qe.e+H+1,z,Ye)},L.toExponential=function(Ye,nt){return Ye!=null&&(intCheck(Ye,0,MAX),Ye++),qe(this,Ye,nt,1)},L.toFixed=function(Ye,nt){return Ye!=null&&(intCheck(Ye,0,MAX),Ye=Ye+this.e+1),qe(this,Ye,nt)},L.toFormat=function(Ye,nt,Qe){var tt,ze=this;if(Qe==null)Ye!=null&&nt&&typeof nt=="object"?(Qe=nt,nt=null):Ye&&typeof Ye=="object"?(Qe=Ye,Ye=nt=null):Qe=Me;else if(typeof Qe!="object")throw Error(bignumberError+"Argument not an object: "+Qe);if(tt=ze.toFixed(Ye,nt),ze.c){var Fe,ke=tt.split("."),Ue=+Qe.groupSize,Je=+Qe.secondaryGroupSize,rt=Qe.groupSeparator||"",Xe=ke[0],it=ke[1],We=ze.s<0,Ve=We?Xe.slice(1):Xe,je=Ve.length;if(Je&&(Fe=Ue,Ue=Je,Je=Fe,je-=Fe),Ue>0&&je>0){for(Fe=je%Ue||Ue,Xe=Ve.substr(0,Fe);Fe<je;Fe+=Ue)Xe+=rt+Ve.substr(Fe,Ue);Je>0&&(Xe+=rt+Ve.slice(Fe)),We&&(Xe="-"+Xe)}tt=it?Xe+(Qe.decimalSeparator||"")+((Je=+Qe.fractionGroupSize)?it.replace(new RegExp("\\d{"+Je+"}\\B","g"),"$&"+(Qe.fractionGroupSeparator||"")):it):Xe}return(Qe.prefix||"")+tt+(Qe.suffix||"")},L.toFraction=function(Ye){var nt,Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe,it,We,Ve=this,je=Ve.c;if(Ye!=null&&(Ue=new Le(Ye),!Ue.isInteger()&&(Ue.c||Ue.s!==1)||Ue.lt(B)))throw Error(bignumberError+"Argument "+(Ue.isInteger()?"out of range: ":"not an integer: ")+ot(Ue));if(!je)return new Le(Ve);for(nt=new Le(B),rt=Qe=new Le(B),tt=Je=new Le(B),We=coeffToString(je),Fe=nt.e=We.length-Ve.e-1,nt.c[0]=POWS_TEN[(ke=Fe%LOG_BASE)<0?LOG_BASE+ke:ke],Ye=!Ye||Ue.comparedTo(nt)>0?Fe>0?nt:rt:Ue,ke=ie,ie=1/0,Ue=new Le(We),Je.c[0]=0;Xe=$(Ue,nt,0,1),ze=Qe.plus(Xe.times(tt)),ze.comparedTo(Ye)!=1;)Qe=tt,tt=ze,rt=Je.plus(Xe.times(ze=rt)),Je=ze,nt=Ue.minus(Xe.times(ze=nt)),Ue=ze;return ze=$(Ye.minus(Qe),tt,0,1),Je=Je.plus(ze.times(rt)),Qe=Qe.plus(ze.times(tt)),Je.s=rt.s=Ve.s,Fe=Fe*2,it=$(rt,tt,Fe,z).minus(Ve).abs().comparedTo($(Je,Qe,Fe,z).minus(Ve).abs())<1?[rt,tt]:[Je,Qe],ie=ke,it},L.toNumber=function(){return+ot(this)},L.toPrecision=function(Ye,nt){return Ye!=null&&intCheck(Ye,1,MAX),qe(this,Ye,nt,2)},L.toString=function(Ye){var nt,Qe=this,tt=Qe.s,ze=Qe.e;return ze===null?tt?(nt="Infinity",tt<0&&(nt="-"+nt)):nt="NaN":(Ye==null?nt=ze<=Q||ze>=te?toExponential(coeffToString(Qe.c),ze):toFixedPoint(coeffToString(Qe.c),ze,"0"):Ye===10&&Ke?(Qe=at(new Le(Qe),H+ze+1,z),nt=toFixedPoint(coeffToString(Qe.c),Qe.e,"0")):(intCheck(Ye,2,Be.length,"Base"),nt=I(toFixedPoint(coeffToString(Qe.c),ze,"0"),10,Ye,tt,!0)),tt<0&&Qe.c[0]&&(nt="-"+nt)),nt},L.valueOf=L.toJSON=function(){return ot(this)},L._isBigNumber=!0,L[Symbol.toStringTag]="BigNumber",L[Symbol.for("nodejs.util.inspect.custom")]=L.valueOf,T!=null&&Le.set(T),Le}function bitFloor(T){var $=T|0;return T>0||T===$?$:$-1}function coeffToString(T){for(var $,I,N=1,L=T.length,B=T[0]+"";N<L;){for($=T[N++]+"",I=LOG_BASE-$.length;I--;$="0"+$);B+=$}for(L=B.length;B.charCodeAt(--L)===48;);return B.slice(0,L+1||1)}function compare(T,$){var I,N,L=T.c,B=$.c,H=T.s,z=$.s,Q=T.e,te=$.e;if(!H||!z)return null;if(I=L&&!L[0],N=B&&!B[0],I||N)return I?N?0:-z:H;if(H!=z)return H;if(I=H<0,N=Q==te,!L||!B)return N?0:!L^I?1:-1;if(!N)return Q>te^I?1:-1;for(z=(Q=L.length)<(te=B.length)?Q:te,H=0;H<z;H++)if(L[H]!=B[H])return L[H]>B[H]^I?1:-1;return Q==te?0:Q>te^I?1:-1}function intCheck(T,$,I,N){if(T<$||T>I||T!==mathfloor(T))throw Error(bignumberError+(N||"Argument")+(typeof T=="number"?T<$||T>I?" out of range: ":" not an integer: ":" not a primitive number: ")+String(T))}function isOdd(T){var $=T.c.length-1;return bitFloor(T.e/LOG_BASE)==$&&T.c[$]%2!=0}function toExponential(T,$){return(T.length>1?T.charAt(0)+"."+T.slice(1):T)+($<0?"e":"e+")+$}function toFixedPoint(T,$,I){var N,L;if($<0){for(L=I+".";++$;L+=I);T=L+T}else if(N=T.length,++$>N){for(L=I,$-=N;--$;L+=I);T+=L}else $<N&&(T=T.slice(0,$)+"."+T.slice($));return T}var BigNumber=clone();function isArrayBufferSlice$1(T){return T.byteOffset!==0||T.byteLength!==T.buffer.byteLength}function isAsyncIterable$1(T){return typeof T!="object"||T===null?!1:typeof T[Symbol.asyncIterator]=="function"}function universalTypeOf$1(T){const I=Object.prototype.toString.call(T).match(/\s([a-zA-Z0-9]+)/),[N,L]=I;return L}var __awaiter$m=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__asyncValues$1=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}};const textEncoder$1=new TextEncoder,textDecoder$1=new TextDecoder;let Convert$1=class xi{constructor($,I){this.data=$,this.format=I}static arrayBuffer($){return new xi($,"ArrayBuffer")}static asyncIterable($){if(!isAsyncIterable$1($))throw new TypeError("Input must be of type AsyncIterable.");return new xi($,"AsyncIterable")}static base32Z($){return new xi($,"Base32Z")}static base58Btc($){return new xi($,"Base58Btc")}static base64Url($){return new xi($,"Base64Url")}static bufferSource($){return new xi($,"BufferSource")}static hex($){if(typeof $!="string")throw new TypeError("Hex input must be a string.");if($.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new xi($,"Hex")}static multibase($){return new xi($,"Multibase")}static object($){return new xi($,"Object")}static string($){return new xi($,"String")}static uint8Array($){return new xi($,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return base58btc$3.baseDecode(this.data).buffer;case"Base64Url":return base64url$4.baseDecode(this.data).buffer;case"BufferSource":{if(universalTypeOf$1(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return isArrayBufferSlice$1(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return __awaiter$m(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return base32z$3.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base58btc$3.baseEncode($)}case"Multibase":return this.data.substring(1);case"Uint8Array":return base58btc$3.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base64url$4.baseEncode($)}case"BufferSource":{const $=this.toUint8Array();return base64url$4.baseEncode($)}case"Object":{const $=JSON.stringify(this.data),I=textEncoder$1.encode($);return base64url$4.baseEncode(I)}case"String":{const $=textEncoder$1.encode(this.data);return base64url$4.baseEncode($)}case"Uint8Array":return base64url$4.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return __awaiter$m(this,void 0,void 0,function*(){var $,I,N,L;switch(this.format){case"AsyncIterable":{const Q=[];try{for(var B=!0,H=__asyncValues$1(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const G=L;Q.push(G)}}catch(G){I={error:G}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return new Blob(Q)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const $=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const I=this.toUint8Array();return xi.uint8Array(I).toHex()}case"Base64Url":{const I=this.toUint8Array();return xi.uint8Array(I).toHex()}case"Uint8Array":{let I="";for(let N=0;N<this.data.length;N++)I+=$[this.data[N]];return I}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const $=base64url$4.baseDecode(this.data),I=textDecoder$1.decode($);return JSON.parse(I)}case"String":return JSON.parse(this.data);case"Uint8Array":{const $=textDecoder$1.decode(this.data);return JSON.parse($)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return __awaiter$m(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toStringAsync();return JSON.parse($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return textDecoder$1.decode(this.data);case"Base64Url":{const $=base64url$4.baseDecode(this.data);return textDecoder$1.decode($)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return textDecoder$1.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return __awaiter$m(this,void 0,void 0,function*(){var $,I,N,L;switch(this.format){case"AsyncIterable":{let Q="";try{for(var B=!0,H=__asyncValues$1(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const te=L;typeof te=="string"?Q+=te:Q+=textDecoder$1.decode(te,{stream:!0})}}catch(te){I={error:te}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return Q+=textDecoder$1.decode(void 0,{stream:!1}),Q}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return base32z$3.baseDecode(this.data);case"Base58Btc":return base58btc$3.baseDecode(this.data);case"Base64Url":return base64url$4.baseDecode(this.data);case"BufferSource":{const $=universalTypeOf$1(this.data);if($==="Uint8Array")return this.data;if($==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const $=new Uint8Array(this.data.length/2);for(let I=0;I<this.data.length;I+=2){const N=parseInt(this.data.substring(I,I+2),16);if(isNaN(N))throw new TypeError("Input is not a valid hexadecimal string.");$[I/2]=N}return $}case"Object":{const $=JSON.stringify(this.data);return textEncoder$1.encode($)}case"String":return textEncoder$1.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return __awaiter$m(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toArrayBufferAsync();return new Uint8Array($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}},Multicodec$2=class ia{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=ia.codeToName.has(N)?N:ia.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength$9(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo$5(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$n(I);return N}static getCodeFromName($){const{name:I}=$,N=ia.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=ia.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){ia.codeToName.set($.code,$.name),ia.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$n(I),B=ia.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}};Multicodec$2.codeToName=new Map;Multicodec$2.nameToCode=new Map;Multicodec$2.registerCodec({code:237,name:"ed25519-pub"});Multicodec$2.registerCodec({code:4864,name:"ed25519-priv"});Multicodec$2.registerCodec({code:236,name:"x25519-pub"});Multicodec$2.registerCodec({code:4866,name:"x25519-priv"});Multicodec$2.registerCodec({code:231,name:"secp256k1-pub"});Multicodec$2.registerCodec({code:4865,name:"secp256k1-priv"});var browser$i={exports:{}},stream$1={exports:{}},primordials$3={ArrayIsArray(T){return Array.isArray(T)},ArrayPrototypeIncludes(T,$){return T.includes($)},ArrayPrototypeIndexOf(T,$){return T.indexOf($)},ArrayPrototypeJoin(T,$){return T.join($)},ArrayPrototypeMap(T,$){return T.map($)},ArrayPrototypePop(T,$){return T.pop($)},ArrayPrototypePush(T,$){return T.push($)},ArrayPrototypeSlice(T,$,I){return T.slice($,I)},Error,FunctionPrototypeCall(T,$,...I){return T.call($,...I)},FunctionPrototypeSymbolHasInstance(T,$){return Function.prototype[Symbol.hasInstance].call(T,$)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(T,$){return Object.defineProperties(T,$)},ObjectDefineProperty(T,$,I){return Object.defineProperty(T,$,I)},ObjectGetOwnPropertyDescriptor(T,$){return Object.getOwnPropertyDescriptor(T,$)},ObjectKeys(T){return Object.keys(T)},ObjectSetPrototypeOf(T,$){return Object.setPrototypeOf(T,$)},Promise,PromisePrototypeCatch(T,$){return T.catch($)},PromisePrototypeThen(T,$,I){return T.then($,I)},PromiseReject(T){return Promise.reject(T)},ReflectApply:Reflect.apply,RegExpPrototypeTest(T,$){return T.test($)},SafeSet:Set,String,StringPrototypeSlice(T,$,I){return T.slice($,I)},StringPrototypeToLowerCase(T){return T.toLowerCase()},StringPrototypeToUpperCase(T){return T.toUpperCase()},StringPrototypeTrim(T){return T.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(T,$,I){return T.set($,I)},Uint8Array};const primordials$4=getDefaultExportFromCjs$1(primordials$3),primordials$5=_mergeNamespaces({__proto__:null,default:primordials$4},[primordials$3]);var util$f={exports:{}};(function(T){const $=dist$5,I=Object.getPrototypeOf(async function(){}).constructor,N=globalThis.Blob||$.Blob,L=typeof N<"u"?function(z){return z instanceof N}:function(z){return!1};class B extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError(`Expected input to be an Array, got ${typeof z}`);let Q="";for(let te=0;te<z.length;te++)Q+=`    ${z[te].stack}
`;super(Q),this.name="AggregateError",this.errors=z}}T.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(H){let z=!1;return function(...Q){z||(z=!0,H.apply(this,Q))}},createDeferredPromise:function(){let H,z;return{promise:new Promise((te,G)=>{H=te,z=G}),resolve:H,reject:z}},promisify(H){return new Promise((z,Q)=>{H((te,...G)=>te?Q(te):z(...G))})},debuglog(){return function(){}},format(H,...z){return H.replace(/%([sdifj])/g,function(...[Q,te]){const G=z.shift();return te==="f"?G.toFixed(6):te==="j"?JSON.stringify(G):te==="s"&&typeof G=="object"?`${G.constructor!==Object?G.constructor.name:""} {}`.trim():G.toString()})},inspect(H){switch(typeof H){case"string":if(H.includes("'"))if(H.includes('"')){if(!H.includes("`")&&!H.includes("${"))return`\`${H}\``}else return`"${H}"`;return`'${H}'`;case"number":return isNaN(H)?"NaN":Object.is(H,-0)?String(H):H;case"bigint":return`${String(H)}n`;case"boolean":case"undefined":return String(H);case"object":return"{}"}},types:{isAsyncFunction(H){return H instanceof I},isArrayBufferView(H){return ArrayBuffer.isView(H)}},isBlob:L},T.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$f);var utilExports$1=util$f.exports;const util$d=getDefaultExportFromCjs$1(utilExports$1),util$e=_mergeNamespaces({__proto__:null,default:util$d},[utilExports$1]);var operators$3={};const{format:format$d,inspect:inspect$6,AggregateError:CustomAggregateError$1}=util$e,AggregateError$2=globalThis.AggregateError||CustomAggregateError$1,kIsNodeError$1=Symbol("kIsNodeError"),kTypes$1=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp$1=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix$1="__node_internal_",codes$4={};function assert$i(T,$){if(!T)throw new codes$4.ERR_INTERNAL_ASSERTION($)}function addNumericalSeparator$1(T){let $="",I=T.length;const N=T[0]==="-"?1:0;for(;I>=N+4;I-=3)$=`_${T.slice(I-3,I)}${$}`;return`${T.slice(0,I)}${$}`}function getMessage$1(T,$,I){if(typeof $=="function")return assert$i($.length<=I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${$.length}).`),$(...I);const N=($.match(/%[dfijoOs]/g)||[]).length;return assert$i(N===I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${N}).`),I.length===0?$:format$d($,...I)}function E$1(T,$,I){I||(I=Error);class N extends I{constructor(...B){super(getMessage$1(T,$,B))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=T,N.prototype[kIsNodeError$1]=!0,codes$4[T]=N}function hideStackFrames$3(T){const $=nodeInternalPrefix$1+T.name;return Object.defineProperty(T,"name",{value:$}),T}function aggregateTwoErrors$5(T,$){if(T&&$&&T!==$){if(Array.isArray($.errors))return $.errors.push(T),$;const I=new AggregateError$2([$,T],$.message);return I.code=$.code,I}return T||$}let AbortError$c=class extends Error{constructor($="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new codes$4.ERR_INVALID_ARG_TYPE("options","Object",I);super($,I),this.code="ABORT_ERR",this.name="AbortError"}};E$1("ERR_ASSERTION","%s",Error);E$1("ERR_INVALID_ARG_TYPE",(T,$,I)=>{assert$i(typeof T=="string","'name' must be a string"),Array.isArray($)||($=[$]);let N="The ";T.endsWith(" argument")?N+=`${T} `:N+=`"${T}" ${T.includes(".")?"property":"argument"} `,N+="must be ";const L=[],B=[],H=[];for(const Q of $)assert$i(typeof Q=="string","All expected entries have to be of type string"),kTypes$1.includes(Q)?L.push(Q.toLowerCase()):classRegExp$1.test(Q)?B.push(Q):(assert$i(Q!=="object",'The value "object" should be written as "Object"'),H.push(Q));if(B.length>0){const Q=L.indexOf("object");Q!==-1&&(L.splice(L,Q,1),B.push("Object"))}if(L.length>0){switch(L.length){case 1:N+=`of type ${L[0]}`;break;case 2:N+=`one of type ${L[0]} or ${L[1]}`;break;default:{const Q=L.pop();N+=`one of type ${L.join(", ")}, or ${Q}`}}(B.length>0||H.length>0)&&(N+=" or ")}if(B.length>0){switch(B.length){case 1:N+=`an instance of ${B[0]}`;break;case 2:N+=`an instance of ${B[0]} or ${B[1]}`;break;default:{const Q=B.pop();N+=`an instance of ${B.join(", ")}, or ${Q}`}}H.length>0&&(N+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(N+="an "),N+=`${H[0]}`;break;case 2:N+=`one of ${H[0]} or ${H[1]}`;break;default:{const Q=H.pop();N+=`one of ${H.join(", ")}, or ${Q}`}}if(I==null)N+=`. Received ${I}`;else if(typeof I=="function"&&I.name)N+=`. Received function ${I.name}`;else if(typeof I=="object"){var z;if((z=I.constructor)!==null&&z!==void 0&&z.name)N+=`. Received an instance of ${I.constructor.name}`;else{const Q=inspect$6(I,{depth:-1});N+=`. Received ${Q}`}}else{let Q=inspect$6(I,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),N+=`. Received type ${typeof I} (${Q})`}return N},TypeError);E$1("ERR_INVALID_ARG_VALUE",(T,$,I="is invalid")=>{let N=inspect$6($);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${I}. Received ${N}`},TypeError);E$1("ERR_INVALID_RETURN_VALUE",(T,$,I)=>{var N;const L=I!=null&&(N=I.constructor)!==null&&N!==void 0&&N.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${T} to be returned from the "${$}" function but got ${L}.`},TypeError);E$1("ERR_MISSING_ARGS",(...T)=>{assert$i(T.length>0,"At least one arg needs to be specified");let $;const I=T.length;switch(T=(Array.isArray(T)?T:[T]).map(N=>`"${N}"`).join(" or "),I){case 1:$+=`The ${T[0]} argument`;break;case 2:$+=`The ${T[0]} and ${T[1]} arguments`;break;default:{const N=T.pop();$+=`The ${T.join(", ")}, and ${N} arguments`}break}return`${$} must be specified`},TypeError);E$1("ERR_OUT_OF_RANGE",(T,$,I)=>{assert$i($,'Missing "range" argument');let N;return Number.isInteger(I)&&Math.abs(I)>2**32?N=addNumericalSeparator$1(String(I)):typeof I=="bigint"?(N=String(I),(I>2n**32n||I<-(2n**32n))&&(N=addNumericalSeparator$1(N)),N+="n"):N=inspect$6(I),`The value of "${T}" is out of range. It must be ${$}. Received ${N}`},RangeError);E$1("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E$1("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E$1("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E$1("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E$1("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E$1("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E$1("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E$1("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E$1("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E$1("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E$1("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors$9={AbortError:AbortError$c,aggregateTwoErrors:hideStackFrames$3(aggregateTwoErrors$5),hideStackFrames:hideStackFrames$3,codes:codes$4};const errors$a=getDefaultExportFromCjs$1(errors$9),errors$b=_mergeNamespaces({__proto__:null,default:errors$a},[errors$9]),{ArrayIsArray:ArrayIsArray$5,ArrayPrototypeIncludes:ArrayPrototypeIncludes$1,ArrayPrototypeJoin:ArrayPrototypeJoin$1,ArrayPrototypeMap:ArrayPrototypeMap$1,NumberIsInteger:NumberIsInteger$3,NumberIsNaN:NumberIsNaN$3,NumberMAX_SAFE_INTEGER:NumberMAX_SAFE_INTEGER$1,NumberMIN_SAFE_INTEGER:NumberMIN_SAFE_INTEGER$1,NumberParseInt:NumberParseInt$1,ObjectPrototypeHasOwnProperty:ObjectPrototypeHasOwnProperty$1,RegExpPrototypeExec:RegExpPrototypeExec$1,String:String$2,StringPrototypeToUpperCase:StringPrototypeToUpperCase$1,StringPrototypeTrim:StringPrototypeTrim$1}=primordials$5,{hideStackFrames:hideStackFrames$2,codes:{ERR_SOCKET_BAD_PORT:ERR_SOCKET_BAD_PORT$1,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$a,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$7,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$3,ERR_UNKNOWN_SIGNAL:ERR_UNKNOWN_SIGNAL$1}}=errors$b,{normalizeEncoding:normalizeEncoding$1}=util$e,{isAsyncFunction:isAsyncFunction$1,isArrayBufferView:isArrayBufferView$1}=util$e.types,signals$1={};function isInt32$1(T){return T===(T|0)}function isUint32$1(T){return T===T>>>0}const octalReg$1=/^[0-7]+$/,modeDesc$1="must be a 32-bit unsigned integer or an octal string";function parseFileMode$1(T,$,I){if(typeof T>"u"&&(T=I),typeof T=="string"){if(RegExpPrototypeExec$1(octalReg$1,T)===null)throw new ERR_INVALID_ARG_VALUE$7($,T,modeDesc$1);T=NumberParseInt$1(T,8)}return validateUint32$1(T,$),T}const validateInteger$3=hideStackFrames$2((T,$,I=NumberMIN_SAFE_INTEGER$1,N=NumberMAX_SAFE_INTEGER$1)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$a($,"number",T);if(!NumberIsInteger$3(T))throw new ERR_OUT_OF_RANGE$3($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$3($,`>= ${I} && <= ${N}`,T)}),validateInt32$1=hideStackFrames$2((T,$,I=-2147483648,N=2147483647)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$a($,"number",T);if(!NumberIsInteger$3(T))throw new ERR_OUT_OF_RANGE$3($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$3($,`>= ${I} && <= ${N}`,T)}),validateUint32$1=hideStackFrames$2((T,$,I=!1)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$a($,"number",T);if(!NumberIsInteger$3(T))throw new ERR_OUT_OF_RANGE$3($,"an integer",T);const N=I?1:0,L=4294967295;if(T<N||T>L)throw new ERR_OUT_OF_RANGE$3($,`>= ${N} && <= ${L}`,T)});function validateString$1(T,$){if(typeof T!="string")throw new ERR_INVALID_ARG_TYPE$a($,"string",T)}function validateNumber$1(T,$,I=void 0,N){if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$a($,"number",T);if(I!=null&&T<I||N!=null&&T>N||(I!=null||N!=null)&&NumberIsNaN$3(T))throw new ERR_OUT_OF_RANGE$3($,`${I!=null?`>= ${I}`:""}${I!=null&&N!=null?" && ":""}${N!=null?`<= ${N}`:""}`,T)}const validateOneOf$1=hideStackFrames$2((T,$,I)=>{if(!ArrayPrototypeIncludes$1(I,T)){const L="must be one of: "+ArrayPrototypeJoin$1(ArrayPrototypeMap$1(I,B=>typeof B=="string"?`'${B}'`:String$2(B)),", ");throw new ERR_INVALID_ARG_VALUE$7($,T,L)}});function validateBoolean$3(T,$){if(typeof T!="boolean")throw new ERR_INVALID_ARG_TYPE$a($,"boolean",T)}function getOwnPropertyValueOrDefault$1(T,$,I){return T==null||!ObjectPrototypeHasOwnProperty$1(T,$)?I:T[$]}const validateObject$5=hideStackFrames$2((T,$,I=null)=>{const N=getOwnPropertyValueOrDefault$1(I,"allowArray",!1),L=getOwnPropertyValueOrDefault$1(I,"allowFunction",!1);if(!getOwnPropertyValueOrDefault$1(I,"nullable",!1)&&T===null||!N&&ArrayIsArray$5(T)||typeof T!="object"&&(!L||typeof T!="function"))throw new ERR_INVALID_ARG_TYPE$a($,"Object",T)}),validateDictionary$1=hideStackFrames$2((T,$)=>{if(T!=null&&typeof T!="object"&&typeof T!="function")throw new ERR_INVALID_ARG_TYPE$a($,"a dictionary",T)}),validateArray$3=hideStackFrames$2((T,$,I=0)=>{if(!ArrayIsArray$5(T))throw new ERR_INVALID_ARG_TYPE$a($,"Array",T);if(T.length<I){const N=`must be longer than ${I}`;throw new ERR_INVALID_ARG_VALUE$7($,T,N)}});function validateStringArray$1(T,$){validateArray$3(T,$);for(let I=0;I<T.length;I++)validateString$1(T[I],`${$}[${I}]`)}function validateBooleanArray$1(T,$){validateArray$3(T,$);for(let I=0;I<T.length;I++)validateBoolean$3(T[I],`${$}[${I}]`)}function validateSignalName$1(T,$="signal"){if(validateString$1(T,$),signals$1[T]===void 0)throw signals$1[StringPrototypeToUpperCase$1(T)]!==void 0?new ERR_UNKNOWN_SIGNAL$1(T+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL$1(T)}const validateBuffer$1=hideStackFrames$2((T,$="buffer")=>{if(!isArrayBufferView$1(T))throw new ERR_INVALID_ARG_TYPE$a($,["Buffer","TypedArray","DataView"],T)});function validateEncoding$1(T,$){const I=normalizeEncoding$1($),N=T.length;if(I==="hex"&&N%2!==0)throw new ERR_INVALID_ARG_VALUE$7("encoding",$,`is invalid for data of length ${N}`)}function validatePort$1(T,$="Port",I=!0){if(typeof T!="number"&&typeof T!="string"||typeof T=="string"&&StringPrototypeTrim$1(T).length===0||+T!==+T>>>0||T>65535||T===0&&!I)throw new ERR_SOCKET_BAD_PORT$1($,T,I);return T|0}const validateAbortSignal$7=hideStackFrames$2((T,$)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new ERR_INVALID_ARG_TYPE$a($,"AbortSignal",T)}),validateFunction$7=hideStackFrames$2((T,$)=>{if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$a($,"Function",T)}),validatePlainFunction$1=hideStackFrames$2((T,$)=>{if(typeof T!="function"||isAsyncFunction$1(T))throw new ERR_INVALID_ARG_TYPE$a($,"Function",T)}),validateUndefined$1=hideStackFrames$2((T,$)=>{if(T!==void 0)throw new ERR_INVALID_ARG_TYPE$a($,"undefined",T)});function validateUnion$3(T,$,I){if(!ArrayPrototypeIncludes$1(I,T))throw new ERR_INVALID_ARG_TYPE$a($,`('${ArrayPrototypeJoin$1(I,"|")}')`,T)}const linkValueRegExp$1=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat$1(T,$){if(typeof T>"u"||!RegExpPrototypeExec$1(linkValueRegExp$1,T))throw new ERR_INVALID_ARG_VALUE$7($,T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue$1(T){if(typeof T=="string")return validateLinkHeaderFormat$1(T,"hints"),T;if(ArrayIsArray$5(T)){const $=T.length;let I="";if($===0)return I;for(let N=0;N<$;N++){const L=T[N];validateLinkHeaderFormat$1(L,"hints"),I+=L,N!==$-1&&(I+=", ")}return I}throw new ERR_INVALID_ARG_VALUE$7("hints",T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators$3={isInt32:isInt32$1,isUint32:isUint32$1,parseFileMode:parseFileMode$1,validateArray:validateArray$3,validateStringArray:validateStringArray$1,validateBooleanArray:validateBooleanArray$1,validateBoolean:validateBoolean$3,validateBuffer:validateBuffer$1,validateDictionary:validateDictionary$1,validateEncoding:validateEncoding$1,validateFunction:validateFunction$7,validateInt32:validateInt32$1,validateInteger:validateInteger$3,validateNumber:validateNumber$1,validateObject:validateObject$5,validateOneOf:validateOneOf$1,validatePlainFunction:validatePlainFunction$1,validatePort:validatePort$1,validateSignalName:validateSignalName$1,validateString:validateString$1,validateUint32:validateUint32$1,validateUndefined:validateUndefined$1,validateUnion:validateUnion$3,validateAbortSignal:validateAbortSignal$7,validateLinkHeaderValue:validateLinkHeaderValue$1};const validators$4=getDefaultExportFromCjs$1(validators$3),validators$5=_mergeNamespaces({__proto__:null,default:validators$4},[validators$3]);var endOfStream$8={exports:{}};const{Symbol:Symbol$8,SymbolAsyncIterator:SymbolAsyncIterator$5,SymbolIterator:SymbolIterator$5,SymbolFor:SymbolFor$1}=primordials$5,kDestroyed$3=Symbol$8("kDestroyed"),kIsErrored$1=Symbol$8("kIsErrored"),kIsReadable$1=Symbol$8("kIsReadable"),kIsDisturbed$1=Symbol$8("kIsDisturbed"),kIsClosedPromise$3=SymbolFor$1("nodejs.webstream.isClosedPromise"),kControllerErrorFunction$1=SymbolFor$1("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$5(T,$=!1){var I;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!$||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((I=T._readableState)===null||I===void 0?void 0:I.readable)!==!1)&&(!T._writableState||T._readableState))}function isWritableNodeStream$3(T){var $;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||(($=T._writableState)===null||$===void 0?void 0:$.writable)!==!1))}function isDuplexNodeStream$1(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function isNodeStream$9(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function isReadableStream$7(T){return!!(T&&!isNodeStream$9(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function isWritableStream$5(T){return!!(T&&!isNodeStream$9(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function isTransformStream$5(T){return!!(T&&!isNodeStream$9(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function isWebStream$5(T){return isReadableStream$7(T)||isWritableStream$5(T)||isTransformStream$5(T)}function isIterable$3(T,$){return T==null?!1:$===!0?typeof T[SymbolAsyncIterator$5]=="function":$===!1?typeof T[SymbolIterator$5]=="function":typeof T[SymbolAsyncIterator$5]=="function"||typeof T[SymbolIterator$5]=="function"}function isDestroyed$3(T){if(!isNodeStream$9(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!!(T.destroyed||T[kDestroyed$3]||N!=null&&N.destroyed)}function isWritableEnded$1(T){if(!isWritableNodeStream$3(T))return null;if(T.writableEnded===!0)return!0;const $=T._writableState;return $!=null&&$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isWritableFinished$3(T,$){if(!isWritableNodeStream$3(T))return null;if(T.writableFinished===!0)return!0;const I=T._writableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.finished)!="boolean"?null:!!(I.finished||$===!1&&I.ended===!0&&I.length===0)}function isReadableEnded$3(T){if(!isReadableNodeStream$5(T))return null;if(T.readableEnded===!0)return!0;const $=T._readableState;return!$||$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isReadableFinished$3(T,$){if(!isReadableNodeStream$5(T))return null;const I=T._readableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.endEmitted)!="boolean"?null:!!(I.endEmitted||$===!1&&I.ended===!0&&I.length===0)}function isReadable$7(T){return T&&T[kIsReadable$1]!=null?T[kIsReadable$1]:typeof(T==null?void 0:T.readable)!="boolean"?null:isDestroyed$3(T)?!1:isReadableNodeStream$5(T)&&T.readable&&!isReadableFinished$3(T)}function isWritable$7(T){return typeof(T==null?void 0:T.writable)!="boolean"?null:isDestroyed$3(T)?!1:isWritableNodeStream$3(T)&&T.writable&&!isWritableEnded$1(T)}function isFinished$3(T,$){return isNodeStream$9(T)?isDestroyed$3(T)?!0:!(($==null?void 0:$.readable)!==!1&&isReadable$7(T)||($==null?void 0:$.writable)!==!1&&isWritable$7(T)):null}function isWritableErrored$3(T){var $,I;return isNodeStream$9(T)?T.writableErrored?T.writableErrored:($=(I=T._writableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isReadableErrored$3(T){var $,I;return isNodeStream$9(T)?T.readableErrored?T.readableErrored:($=(I=T._readableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isClosed$3(T){if(!isNodeStream$9(T))return null;if(typeof T.closed=="boolean")return T.closed;const $=T._writableState,I=T._readableState;return typeof($==null?void 0:$.closed)=="boolean"||typeof(I==null?void 0:I.closed)=="boolean"?($==null?void 0:$.closed)||(I==null?void 0:I.closed):typeof T._closed=="boolean"&&isOutgoingMessage$1(T)?T._closed:null}function isOutgoingMessage$1(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function isServerResponse$1(T){return typeof T._sent100=="boolean"&&isOutgoingMessage$1(T)}function isServerRequest$3(T){var $;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&(($=T.req)===null||$===void 0?void 0:$.upgradeOrConnect)===void 0}function willEmitClose$1(T){if(!isNodeStream$9(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!N&&isServerResponse$1(T)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function isDisturbed$1(T){var $;return!!(T&&(($=T[kIsDisturbed$1])!==null&&$!==void 0?$:T.readableDidRead||T.readableAborted))}function isErrored$1(T){var $,I,N,L,B,H,z,Q,te,G;return!!(T&&(($=(I=(N=(L=(B=(H=T[kIsErrored$1])!==null&&H!==void 0?H:T.readableErrored)!==null&&B!==void 0?B:T.writableErrored)!==null&&L!==void 0?L:(z=T._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&N!==void 0?N:(Q=T._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&I!==void 0?I:(te=T._readableState)===null||te===void 0?void 0:te.errored)!==null&&$!==void 0?$:!((G=T._writableState)===null||G===void 0)&&G.errored))}var utils$C={kDestroyed:kDestroyed$3,isDisturbed:isDisturbed$1,kIsDisturbed:kIsDisturbed$1,isErrored:isErrored$1,kIsErrored:kIsErrored$1,isReadable:isReadable$7,kIsReadable:kIsReadable$1,kIsClosedPromise:kIsClosedPromise$3,kControllerErrorFunction:kControllerErrorFunction$1,isClosed:isClosed$3,isDestroyed:isDestroyed$3,isDuplexNodeStream:isDuplexNodeStream$1,isFinished:isFinished$3,isIterable:isIterable$3,isReadableNodeStream:isReadableNodeStream$5,isReadableStream:isReadableStream$7,isReadableEnded:isReadableEnded$3,isReadableFinished:isReadableFinished$3,isReadableErrored:isReadableErrored$3,isNodeStream:isNodeStream$9,isWebStream:isWebStream$5,isWritable:isWritable$7,isWritableNodeStream:isWritableNodeStream$3,isWritableStream:isWritableStream$5,isWritableEnded:isWritableEnded$1,isWritableFinished:isWritableFinished$3,isWritableErrored:isWritableErrored$3,isServerRequest:isServerRequest$3,isServerResponse:isServerResponse$1,willEmitClose:willEmitClose$1,isTransformStream:isTransformStream$5};const utils$D=getDefaultExportFromCjs$1(utils$C),utils$E=_mergeNamespaces({__proto__:null,default:utils$D},[utils$C]),process$7=dist$3,{AbortError:AbortError$b,codes:codes$3}=errors$b,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$9,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$4}=codes$3,{kEmptyObject:kEmptyObject$1,once:once$5}=util$e,{validateAbortSignal:validateAbortSignal$6,validateFunction:validateFunction$6,validateObject:validateObject$4,validateBoolean:validateBoolean$2}=validators$5,{Promise:Promise$6,PromisePrototypeThen:PromisePrototypeThen$5}=primordials$5,{isClosed:isClosed$2,isReadable:isReadable$6,isReadableNodeStream:isReadableNodeStream$4,isReadableStream:isReadableStream$6,isReadableFinished:isReadableFinished$2,isReadableErrored:isReadableErrored$2,isWritable:isWritable$6,isWritableNodeStream:isWritableNodeStream$2,isWritableStream:isWritableStream$4,isWritableFinished:isWritableFinished$2,isWritableErrored:isWritableErrored$2,isNodeStream:isNodeStream$8,willEmitClose:_willEmitClose$1,kIsClosedPromise:kIsClosedPromise$2}=utils$E;function isRequest$5(T){return T.setHeader&&typeof T.abort=="function"}const nop$1=()=>{};function eos$7(T,$,I){var N,L;if(arguments.length===2?(I=$,$=kEmptyObject$1):$==null?$=kEmptyObject$1:validateObject$4($,"options"),validateFunction$6(I,"callback"),validateAbortSignal$6($.signal,"options.signal"),I=once$5(I),isReadableStream$6(T)||isWritableStream$4(T))return eosWeb$1(T,$,I);if(!isNodeStream$8(T))throw new ERR_INVALID_ARG_TYPE$9("stream",["ReadableStream","WritableStream","Stream"],T);const B=(N=$.readable)!==null&&N!==void 0?N:isReadableNodeStream$4(T),H=(L=$.writable)!==null&&L!==void 0?L:isWritableNodeStream$2(T),z=T._writableState,Q=T._readableState,te=()=>{T.writable||Re()};let G=_willEmitClose$1(T)&&isReadableNodeStream$4(T)===B&&isWritableNodeStream$2(T)===H,ie=isWritableFinished$2(T,!1);const Re=()=>{ie=!0,T.destroyed&&(G=!1),!(G&&(!T.readable||B))&&(!B||$e)&&I.call(T)};let $e=isReadableFinished$2(T,!1);const Pe=()=>{$e=!0,T.destroyed&&(G=!1),!(G&&(!T.writable||H))&&(!H||ie)&&I.call(T)},Me=Ge=>{I.call(T,Ge)};let Be=isClosed$2(T);const Ke=()=>{Be=!0;const Ge=isWritableErrored$2(T)||isReadableErrored$2(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);if(B&&!$e&&isReadableNodeStream$4(T,!0)&&!isReadableFinished$2(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$4);if(H&&!ie&&!isWritableFinished$2(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$4);I.call(T)},Le=()=>{Be=!0;const Ge=isWritableErrored$2(T)||isReadableErrored$2(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);I.call(T)},qe=()=>{T.req.on("finish",Re)};isRequest$5(T)?(T.on("complete",Re),G||T.on("abort",Ke),T.req?qe():T.on("request",qe)):H&&!z&&(T.on("end",te),T.on("close",te)),!G&&typeof T.aborted=="boolean"&&T.on("aborted",Ke),T.on("end",Pe),T.on("finish",Re),$.error!==!1&&T.on("error",Me),T.on("close",Ke),Be?process$7.nextTick(Ke):z!=null&&z.errorEmitted||Q!=null&&Q.errorEmitted?G||process$7.nextTick(Le):(!B&&(!G||isReadable$6(T))&&(ie||isWritable$6(T)===!1)||!H&&(!G||isWritable$6(T))&&($e||isReadable$6(T)===!1)||Q&&T.req&&T.aborted)&&process$7.nextTick(Le);const He=()=>{I=nop$1,T.removeListener("aborted",Ke),T.removeListener("complete",Re),T.removeListener("abort",Ke),T.removeListener("request",qe),T.req&&T.req.removeListener("finish",Re),T.removeListener("end",te),T.removeListener("close",te),T.removeListener("finish",Re),T.removeListener("end",Pe),T.removeListener("error",Me),T.removeListener("close",Ke)};if($.signal&&!Be){const Ge=()=>{const at=I;He(),at.call(T,new AbortError$b(void 0,{cause:$.signal.reason}))};if($.signal.aborted)process$7.nextTick(Ge);else{const at=I;I=once$5((...ot)=>{$.signal.removeEventListener("abort",Ge),at.apply(T,ot)}),$.signal.addEventListener("abort",Ge)}}return He}function eosWeb$1(T,$,I){let N=!1,L=nop$1;if($.signal)if(L=()=>{N=!0,I.call(T,new AbortError$b(void 0,{cause:$.signal.reason}))},$.signal.aborted)process$7.nextTick(L);else{const H=I;I=once$5((...z)=>{$.signal.removeEventListener("abort",L),H.apply(T,z)}),$.signal.addEventListener("abort",L)}const B=(...H)=>{N||process$7.nextTick(()=>I.apply(T,H))};return PromisePrototypeThen$5(T[kIsClosedPromise$2].promise,B,B),nop$1}function finished$3(T,$){var I;let N=!1;return $===null&&($=kEmptyObject$1),(I=$)!==null&&I!==void 0&&I.cleanup&&(validateBoolean$2($.cleanup,"cleanup"),N=$.cleanup),new Promise$6((L,B)=>{const H=eos$7(T,$,z=>{N&&H(),z?B(z):L()})})}endOfStream$8.exports=eos$7;var finished_1$1=endOfStream$8.exports.finished=finished$3,endOfStreamExports$1=endOfStream$8.exports;const endOfStream$6=getDefaultExportFromCjs$1(endOfStreamExports$1),endOfStream$7=_mergeNamespaces({__proto__:null,default:endOfStream$6,finished:finished_1$1},[endOfStreamExports$1]),process$6=dist$3,{aggregateTwoErrors:aggregateTwoErrors$4,codes:{ERR_MULTIPLE_CALLBACK:ERR_MULTIPLE_CALLBACK$2},AbortError:AbortError$a}=errors$b,{Symbol:Symbol$7}=primordials$5,{kDestroyed:kDestroyed$2,isDestroyed:isDestroyed$2,isFinished:isFinished$2,isServerRequest:isServerRequest$2}=utils$E,kDestroy$1=Symbol$7("kDestroy"),kConstruct$1=Symbol$7("kConstruct");function checkError$1(T,$,I){T&&(T.stack,$&&!$.errored&&($.errored=T),I&&!I.errored&&(I.errored=T))}function destroy$6(T,$){const I=this._readableState,N=this._writableState,L=N||I;return N!=null&&N.destroyed||I!=null&&I.destroyed?(typeof $=="function"&&$(),this):(checkError$1(T,N,I),N&&(N.destroyed=!0),I&&(I.destroyed=!0),L.constructed?_destroy$1(this,T,$):this.once(kDestroy$1,function(B){_destroy$1(this,aggregateTwoErrors$4(B,T),$)}),this)}function _destroy$1(T,$,I){let N=!1;function L(B){if(N)return;N=!0;const H=T._readableState,z=T._writableState;checkError$1(B,z,H),z&&(z.closed=!0),H&&(H.closed=!0),typeof I=="function"&&I(B),B?process$6.nextTick(emitErrorCloseNT$1,T,B):process$6.nextTick(emitCloseNT$2,T)}try{T._destroy($||null,L)}catch(B){L(B)}}function emitErrorCloseNT$1(T,$){emitErrorNT$2(T,$),emitCloseNT$2(T)}function emitCloseNT$2(T){const $=T._readableState,I=T._writableState;I&&(I.closeEmitted=!0),$&&($.closeEmitted=!0),(I!=null&&I.emitClose||$!=null&&$.emitClose)&&T.emit("close")}function emitErrorNT$2(T,$){const I=T._readableState,N=T._writableState;N!=null&&N.errorEmitted||I!=null&&I.errorEmitted||(N&&(N.errorEmitted=!0),I&&(I.errorEmitted=!0),T.emit("error",$))}function undestroy$2(){const T=this._readableState,$=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function errorOrDestroy$2(T,$,I){const N=T._readableState,L=T._writableState;if(L!=null&&L.destroyed||N!=null&&N.destroyed)return this;N!=null&&N.autoDestroy||L!=null&&L.autoDestroy?T.destroy($):$&&($.stack,L&&!L.errored&&(L.errored=$),N&&!N.errored&&(N.errored=$),I?process$6.nextTick(emitErrorNT$2,T,$):emitErrorNT$2(T,$))}function construct$1(T,$){if(typeof T._construct!="function")return;const I=T._readableState,N=T._writableState;I&&(I.constructed=!1),N&&(N.constructed=!1),T.once(kConstruct$1,$),!(T.listenerCount(kConstruct$1)>1)&&process$6.nextTick(constructNT$1,T)}function constructNT$1(T){let $=!1;function I(N){if($){errorOrDestroy$2(T,N??new ERR_MULTIPLE_CALLBACK$2);return}$=!0;const L=T._readableState,B=T._writableState,H=B||L;L&&(L.constructed=!0),B&&(B.constructed=!0),H.destroyed?T.emit(kDestroy$1,N):N?errorOrDestroy$2(T,N,!0):process$6.nextTick(emitConstructNT$1,T)}try{T._construct(N=>{process$6.nextTick(I,N)})}catch(N){process$6.nextTick(I,N)}}function emitConstructNT$1(T){T.emit(kConstruct$1)}function isRequest$4(T){return(T==null?void 0:T.setHeader)&&typeof T.abort=="function"}function emitCloseLegacy$1(T){T.emit("close")}function emitErrorCloseLegacy$1(T,$){T.emit("error",$),process$6.nextTick(emitCloseLegacy$1,T)}function destroyer$6(T,$){!T||isDestroyed$2(T)||(!$&&!isFinished$2(T)&&($=new AbortError$a),isServerRequest$2(T)?(T.socket=null,T.destroy($)):isRequest$4(T)?T.abort():isRequest$4(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy($):typeof T.close=="function"?T.close():$?process$6.nextTick(emitErrorCloseLegacy$1,T,$):process$6.nextTick(emitCloseLegacy$1,T),T.destroyed||(T[kDestroyed$2]=!0))}var destroy_1$3={construct:construct$1,destroyer:destroyer$6,destroy:destroy$6,undestroy:undestroy$2,errorOrDestroy:errorOrDestroy$2};const destroy$7=getDefaultExportFromCjs$1(destroy_1$3),destroy$8=_mergeNamespaces({__proto__:null,default:destroy$7},[destroy_1$3]),{ArrayIsArray:ArrayIsArray$4,ObjectSetPrototypeOf:ObjectSetPrototypeOf$5}=primordials$5,{EventEmitter:EE$2}=events$1;function Stream$2(T){EE$2.call(this,T)}ObjectSetPrototypeOf$5(Stream$2.prototype,EE$2.prototype);ObjectSetPrototypeOf$5(Stream$2,EE$2);Stream$2.prototype.pipe=function(T,$){const I=this;function N(G){T.writable&&T.write(G)===!1&&I.pause&&I.pause()}I.on("data",N);function L(){I.readable&&I.resume&&I.resume()}T.on("drain",L),!T._isStdio&&(!$||$.end!==!1)&&(I.on("end",H),I.on("close",z));let B=!1;function H(){B||(B=!0,T.end())}function z(){B||(B=!0,typeof T.destroy=="function"&&T.destroy())}function Q(G){te(),EE$2.listenerCount(this,"error")===0&&this.emit("error",G)}prependListener$1(I,"error",Q),prependListener$1(T,"error",Q);function te(){I.removeListener("data",N),T.removeListener("drain",L),I.removeListener("end",H),I.removeListener("close",z),I.removeListener("error",Q),T.removeListener("error",Q),I.removeListener("end",te),I.removeListener("close",te),T.removeListener("close",te)}return I.on("end",te),I.on("close",te),T.on("close",te),T.emit("pipe",I),T};function prependListener$1(T,$,I){if(typeof T.prependListener=="function")return T.prependListener($,I);!T._events||!T._events[$]?T.on($,I):ArrayIsArray$4(T._events[$])?T._events[$].unshift(I):T._events[$]=[I,T._events[$]]}var legacy$4={Stream:Stream$2,prependListener:prependListener$1};const legacy$5=getDefaultExportFromCjs$1(legacy$4),legacy$6=_mergeNamespaces({__proto__:null,default:legacy$5},[legacy$4]);var addAbortSignal$5={exports:{}};(function(T){const{AbortError:$,codes:I}=errors$b,{isNodeStream:N,isWebStream:L,kControllerErrorFunction:B}=utils$E,H=endOfStream$7,{ERR_INVALID_ARG_TYPE:z}=I,Q=(te,G)=>{if(typeof te!="object"||!("aborted"in te))throw new z(G,"AbortSignal",te)};T.exports.addAbortSignal=function(G,ie){if(Q(G,"signal"),!N(ie)&&!L(ie))throw new z("stream",["ReadableStream","WritableStream","Stream"],ie);return T.exports.addAbortSignalNoValidate(G,ie)},T.exports.addAbortSignalNoValidate=function(te,G){if(typeof te!="object"||!("aborted"in te))return G;const ie=N(G)?()=>{G.destroy(new $(void 0,{cause:te.reason}))}:()=>{G[B](new $(void 0,{cause:te.reason}))};return te.aborted?ie():(te.addEventListener("abort",ie),H(G,()=>te.removeEventListener("abort",ie))),G}})(addAbortSignal$5);var addAbortSignalExports$1=addAbortSignal$5.exports;const addAbortSignal$3=getDefaultExportFromCjs$1(addAbortSignalExports$1),addAbortSignal$4=_mergeNamespaces({__proto__:null,default:addAbortSignal$3},[addAbortSignalExports$1]),{StringPrototypeSlice:StringPrototypeSlice$1,SymbolIterator:SymbolIterator$4,TypedArrayPrototypeSet:TypedArrayPrototypeSet$1,Uint8Array:Uint8Array$2}=primordials$5,{Buffer:Buffer$f}=dist$5,{inspect:inspect$5}=util$e;var buffer_list$4=class{constructor(){this.head=null,this.tail=null,this.length=0}push($){const I={data:$,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}unshift($){const I={data:$,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}shift(){if(this.length===0)return;const $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}clear(){this.head=this.tail=null,this.length=0}join($){if(this.length===0)return"";let I=this.head,N=""+I.data;for(;(I=I.next)!==null;)N+=$+I.data;return N}concat($){if(this.length===0)return Buffer$f.alloc(0);const I=Buffer$f.allocUnsafe($>>>0);let N=this.head,L=0;for(;N;)TypedArrayPrototypeSet$1(I,N.data,L),L+=N.data.length,N=N.next;return I}consume($,I){const N=this.head.data;if($<N.length){const L=N.slice(0,$);return this.head.data=N.slice($),L}return $===N.length?this.shift():I?this._getString($):this._getBuffer($)}first(){return this.head.data}*[SymbolIterator$4](){for(let $=this.head;$;$=$.next)yield $.data}_getString($){let I="",N=this.head,L=0;do{const B=N.data;if($>B.length)I+=B,$-=B.length;else{$===B.length?(I+=B,++L,N.next?this.head=N.next:this.head=this.tail=null):(I+=StringPrototypeSlice$1(B,0,$),this.head=N,N.data=StringPrototypeSlice$1(B,$));break}++L}while((N=N.next)!==null);return this.length-=L,I}_getBuffer($){const I=Buffer$f.allocUnsafe($),N=$;let L=this.head,B=0;do{const H=L.data;if($>H.length)TypedArrayPrototypeSet$1(I,H,N-$),$-=H.length;else{$===H.length?(TypedArrayPrototypeSet$1(I,H,N-$),++B,L.next?this.head=L.next:this.head=this.tail=null):(TypedArrayPrototypeSet$1(I,new Uint8Array$2(H.buffer,H.byteOffset,$),N-$),this.head=L,L.data=H.slice($));break}++B}while((L=L.next)!==null);return this.length-=B,I}[Symbol.for("nodejs.util.inspect.custom")]($,I){return inspect$5(this,{...I,depth:0,customInspect:!1})}};const buffer_list$5=getDefaultExportFromCjs$1(buffer_list$4),buffer_list$6=_mergeNamespaces({__proto__:null,default:buffer_list$5},[buffer_list$4]),{MathFloor:MathFloor$3,NumberIsInteger:NumberIsInteger$2}=primordials$5,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$6}=errors$b.codes;function highWaterMarkFrom$2(T,$,I){return T.highWaterMark!=null?T.highWaterMark:$?T[I]:null}function getDefaultHighWaterMark$1(T){return T?16:16*1024}function getHighWaterMark$4(T,$,I,N){const L=highWaterMarkFrom$2($,N,I);if(L!=null){if(!NumberIsInteger$2(L)||L<0){const B=N?`options.${I}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$6(B,L)}return MathFloor$3(L)}return getDefaultHighWaterMark$1(T.objectMode)}var state$7={getHighWaterMark:getHighWaterMark$4,getDefaultHighWaterMark:getDefaultHighWaterMark$1};const state$8=getDefaultExportFromCjs$1(state$7),state$9=_mergeNamespaces({__proto__:null,default:state$8},[state$7]),process$5=dist$3,{PromisePrototypeThen:PromisePrototypeThen$4,SymbolAsyncIterator:SymbolAsyncIterator$4,SymbolIterator:SymbolIterator$3}=primordials$5,{Buffer:Buffer$e}=dist$5,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$8,ERR_STREAM_NULL_VALUES:ERR_STREAM_NULL_VALUES$1}=errors$b.codes;function from$5(T,$,I){let N;if(typeof $=="string"||$ instanceof Buffer$e)return new T({objectMode:!0,...I,read(){this.push($),this.push(null)}});let L;if($&&$[SymbolAsyncIterator$4])L=!0,N=$[SymbolAsyncIterator$4]();else if($&&$[SymbolIterator$3])L=!1,N=$[SymbolIterator$3]();else throw new ERR_INVALID_ARG_TYPE$8("iterable",["Iterable"],$);const B=new T({objectMode:!0,highWaterMark:1,...I});let H=!1;B._read=function(){H||(H=!0,Q())},B._destroy=function(te,G){PromisePrototypeThen$4(z(te),()=>process$5.nextTick(G,te),ie=>process$5.nextTick(G,ie||te))};async function z(te){const G=te!=null,ie=typeof N.throw=="function";if(G&&ie){const{value:Re,done:$e}=await N.throw(te);if(await Re,$e)return}if(typeof N.return=="function"){const{value:Re}=await N.return();await Re}}async function Q(){for(;;){try{const{value:te,done:G}=L?await N.next():N.next();if(G)B.push(null);else{const ie=te&&typeof te.then=="function"?await te:te;if(ie===null)throw H=!1,new ERR_STREAM_NULL_VALUES$1;if(B.push(ie))continue;H=!1}}catch(te){B.destroy(te)}break}}return B}var from_1$1=from$5;const from$6=getDefaultExportFromCjs$1(from_1$1),from$7=_mergeNamespaces({__proto__:null,default:from$6},[from_1$1]);var readable$1,hasRequiredReadable$1;function requireReadable$1(){if(hasRequiredReadable$1)return readable$1;hasRequiredReadable$1=1;const T=dist$3,{ArrayPrototypeIndexOf:$,NumberIsInteger:I,NumberIsNaN:N,NumberParseInt:L,ObjectDefineProperties:B,ObjectKeys:H,ObjectSetPrototypeOf:z,Promise:Q,SafeSet:te,SymbolAsyncIterator:G,Symbol:ie}=primordials$5;readable$1=We,We.ReadableState=it;const{EventEmitter:Re}=events$1,{Stream:$e,prependListener:Pe}=legacy$6,{Buffer:Me}=dist$5,{addAbortSignal:Be}=addAbortSignal$4,Ke=endOfStream$7;let Le=util$e.debuglog("stream",lt=>{Le=lt});const qe=buffer_list$6,He=destroy$8,{getHighWaterMark:Ge,getDefaultHighWaterMark:at}=state$9,{aggregateTwoErrors:ot,codes:{ERR_INVALID_ARG_TYPE:Ye,ERR_METHOD_NOT_IMPLEMENTED:nt,ERR_OUT_OF_RANGE:Qe,ERR_STREAM_PUSH_AFTER_EOF:tt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ze}}=errors$b,{validateObject:Fe}=validators$5,ke=ie("kPaused"),{StringDecoder:Ue}=string_decoder,Je=from$7;z(We.prototype,$e.prototype),z(We,$e);const rt=()=>{},{errorOrDestroy:Xe}=He;function it(lt,ct,Nt){typeof Nt!="boolean"&&(Nt=ct instanceof requireDuplex$1()),this.objectMode=!!(lt&&lt.objectMode),Nt&&(this.objectMode=this.objectMode||!!(lt&&lt.readableObjectMode)),this.highWaterMark=lt?Ge(this,lt,"readableHighWaterMark",Nt):at(!1),this.buffer=new qe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ke]=null,this.errorEmitted=!1,this.emitClose=!lt||lt.emitClose!==!1,this.autoDestroy=!lt||lt.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=lt&&lt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,lt&&lt.encoding&&(this.decoder=new Ue(lt.encoding),this.encoding=lt.encoding)}function We(lt){if(!(this instanceof We))return new We(lt);const ct=this instanceof requireDuplex$1();this._readableState=new it(lt,this,ct),lt&&(typeof lt.read=="function"&&(this._read=lt.read),typeof lt.destroy=="function"&&(this._destroy=lt.destroy),typeof lt.construct=="function"&&(this._construct=lt.construct),lt.signal&&!ct&&Be(lt.signal,this)),$e.call(this,lt),He.construct(this,()=>{this._readableState.needReadable&&Bt(this,this._readableState)})}We.prototype.destroy=He.destroy,We.prototype._undestroy=He.undestroy,We.prototype._destroy=function(lt,ct){ct(lt)},We.prototype[Re.captureRejectionSymbol]=function(lt){this.destroy(lt)},We.prototype.push=function(lt,ct){return Ve(this,lt,ct,!1)},We.prototype.unshift=function(lt,ct){return Ve(this,lt,ct,!0)};function Ve(lt,ct,Nt,jt){Le("readableAddChunk",ct);const zt=lt._readableState;let Ot;if(zt.objectMode||(typeof ct=="string"?(Nt=Nt||zt.defaultEncoding,zt.encoding!==Nt&&(jt&&zt.encoding?ct=Me.from(ct,Nt).toString(zt.encoding):(ct=Me.from(ct,Nt),Nt=""))):ct instanceof Me?Nt="":$e._isUint8Array(ct)?(ct=$e._uint8ArrayToBuffer(ct),Nt=""):ct!=null&&(Ot=new Ye("chunk",["string","Buffer","Uint8Array"],ct))),Ot)Xe(lt,Ot);else if(ct===null)zt.reading=!1,bt(lt,zt);else if(zt.objectMode||ct&&ct.length>0)if(jt)if(zt.endEmitted)Xe(lt,new ze);else{if(zt.destroyed||zt.errored)return!1;je(lt,zt,ct,!0)}else if(zt.ended)Xe(lt,new tt);else{if(zt.destroyed||zt.errored)return!1;zt.reading=!1,zt.decoder&&!Nt?(ct=zt.decoder.write(ct),zt.objectMode||ct.length!==0?je(lt,zt,ct,!1):Bt(lt,zt)):je(lt,zt,ct,!1)}else jt||(zt.reading=!1,Bt(lt,zt));return!zt.ended&&(zt.length<zt.highWaterMark||zt.length===0)}function je(lt,ct,Nt,jt){ct.flowing&&ct.length===0&&!ct.sync&&lt.listenerCount("data")>0?(ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null,ct.dataEmitted=!0,lt.emit("data",Nt)):(ct.length+=ct.objectMode?1:Nt.length,jt?ct.buffer.unshift(Nt):ct.buffer.push(Nt),ct.needReadable&&vt(lt)),Bt(lt,ct)}We.prototype.isPaused=function(){const lt=this._readableState;return lt[ke]===!0||lt.flowing===!1},We.prototype.setEncoding=function(lt){const ct=new Ue(lt);this._readableState.decoder=ct,this._readableState.encoding=this._readableState.decoder.encoding;const Nt=this._readableState.buffer;let jt="";for(const zt of Nt)jt+=ct.write(zt);return Nt.clear(),jt!==""&&Nt.push(jt),this._readableState.length=jt.length,this};const Ze=1073741824;function st(lt){if(lt>Ze)throw new Qe("size","<= 1GiB",lt);return lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++,lt}function dt(lt,ct){return lt<=0||ct.length===0&&ct.ended?0:ct.objectMode?1:N(lt)?ct.flowing&&ct.length?ct.buffer.first().length:ct.length:lt<=ct.length?lt:ct.ended?ct.length:0}We.prototype.read=function(lt){Le("read",lt),lt===void 0?lt=NaN:I(lt)||(lt=L(lt,10));const ct=this._readableState,Nt=lt;if(lt>ct.highWaterMark&&(ct.highWaterMark=st(lt)),lt!==0&&(ct.emittedReadable=!1),lt===0&&ct.needReadable&&((ct.highWaterMark!==0?ct.length>=ct.highWaterMark:ct.length>0)||ct.ended))return Le("read: emitReadable",ct.length,ct.ended),ct.length===0&&ct.ended?yr(this):vt(this),null;if(lt=dt(lt,ct),lt===0&&ct.ended)return ct.length===0&&yr(this),null;let jt=ct.needReadable;if(Le("need readable",jt),(ct.length===0||ct.length-lt<ct.highWaterMark)&&(jt=!0,Le("length less than watermark",jt)),ct.ended||ct.reading||ct.destroyed||ct.errored||!ct.constructed)jt=!1,Le("reading, ended or constructing",jt);else if(jt){Le("do read"),ct.reading=!0,ct.sync=!0,ct.length===0&&(ct.needReadable=!0);try{this._read(ct.highWaterMark)}catch(Ot){Xe(this,Ot)}ct.sync=!1,ct.reading||(lt=dt(Nt,ct))}let zt;return lt>0?zt=Yt(lt,ct):zt=null,zt===null?(ct.needReadable=ct.length<=ct.highWaterMark,lt=0):(ct.length-=lt,ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null),ct.length===0&&(ct.ended||(ct.needReadable=!0),Nt!==lt&&ct.ended&&yr(this)),zt!==null&&!ct.errorEmitted&&!ct.closeEmitted&&(ct.dataEmitted=!0,this.emit("data",zt)),zt};function bt(lt,ct){if(Le("onEofChunk"),!ct.ended){if(ct.decoder){const Nt=ct.decoder.end();Nt&&Nt.length&&(ct.buffer.push(Nt),ct.length+=ct.objectMode?1:Nt.length)}ct.ended=!0,ct.sync?vt(lt):(ct.needReadable=!1,ct.emittedReadable=!0,St(lt))}}function vt(lt){const ct=lt._readableState;Le("emitReadable",ct.needReadable,ct.emittedReadable),ct.needReadable=!1,ct.emittedReadable||(Le("emitReadable",ct.flowing),ct.emittedReadable=!0,T.nextTick(St,lt))}function St(lt){const ct=lt._readableState;Le("emitReadable_",ct.destroyed,ct.length,ct.ended),!ct.destroyed&&!ct.errored&&(ct.length||ct.ended)&&(lt.emit("readable"),ct.emittedReadable=!1),ct.needReadable=!ct.flowing&&!ct.ended&&ct.length<=ct.highWaterMark,kt(lt)}function Bt(lt,ct){!ct.readingMore&&ct.constructed&&(ct.readingMore=!0,T.nextTick(Gt,lt,ct))}function Gt(lt,ct){for(;!ct.reading&&!ct.ended&&(ct.length<ct.highWaterMark||ct.flowing&&ct.length===0);){const Nt=ct.length;if(Le("maybeReadMore read 0"),lt.read(0),Nt===ct.length)break}ct.readingMore=!1}We.prototype._read=function(lt){throw new nt("_read()")},We.prototype.pipe=function(lt,ct){const Nt=this,jt=this._readableState;jt.pipes.length===1&&(jt.multiAwaitDrain||(jt.multiAwaitDrain=!0,jt.awaitDrainWriters=new te(jt.awaitDrainWriters?[jt.awaitDrainWriters]:[]))),jt.pipes.push(lt),Le("pipe count=%d opts=%j",jt.pipes.length,ct);const Ot=(!ct||ct.end!==!1)&&lt!==T.stdout&&lt!==T.stderr?It:Wr;jt.endEmitted?T.nextTick(Ot):Nt.once("end",Ot),lt.on("unpipe",Rt);function Rt(Kr,Yr){Le("onunpipe"),Kr===Nt&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,dr())}function It(){Le("onend"),lt.end()}let Kt,tr=!1;function dr(){Le("cleanup"),lt.removeListener("close",Br),lt.removeListener("finish",Qr),Kt&&lt.removeListener("drain",Kt),lt.removeListener("error",qr),lt.removeListener("unpipe",Rt),Nt.removeListener("end",It),Nt.removeListener("end",Wr),Nt.removeListener("data",Nr),tr=!0,Kt&&jt.awaitDrainWriters&&(!lt._writableState||lt._writableState.needDrain)&&Kt()}function _r(){tr||(jt.pipes.length===1&&jt.pipes[0]===lt?(Le("false write response, pause",0),jt.awaitDrainWriters=lt,jt.multiAwaitDrain=!1):jt.pipes.length>1&&jt.pipes.includes(lt)&&(Le("false write response, pause",jt.awaitDrainWriters.size),jt.awaitDrainWriters.add(lt)),Nt.pause()),Kt||(Kt=Dt(Nt,lt),lt.on("drain",Kt))}Nt.on("data",Nr);function Nr(Kr){Le("ondata");const Yr=lt.write(Kr);Le("dest.write",Yr),Yr===!1&&_r()}function qr(Kr){if(Le("onerror",Kr),Wr(),lt.removeListener("error",qr),lt.listenerCount("error")===0){const Yr=lt._writableState||lt._readableState;Yr&&!Yr.errorEmitted?Xe(lt,Kr):lt.emit("error",Kr)}}Pe(lt,"error",qr);function Br(){lt.removeListener("finish",Qr),Wr()}lt.once("close",Br);function Qr(){Le("onfinish"),lt.removeListener("close",Br),Wr()}lt.once("finish",Qr);function Wr(){Le("unpipe"),Nt.unpipe(lt)}return lt.emit("pipe",Nt),lt.writableNeedDrain===!0?jt.flowing&&_r():jt.flowing||(Le("pipe resume"),Nt.resume()),lt};function Dt(lt,ct){return function(){const jt=lt._readableState;jt.awaitDrainWriters===ct?(Le("pipeOnDrain",1),jt.awaitDrainWriters=null):jt.multiAwaitDrain&&(Le("pipeOnDrain",jt.awaitDrainWriters.size),jt.awaitDrainWriters.delete(ct)),(!jt.awaitDrainWriters||jt.awaitDrainWriters.size===0)&&lt.listenerCount("data")&&lt.resume()}}We.prototype.unpipe=function(lt){const ct=this._readableState,Nt={hasUnpiped:!1};if(ct.pipes.length===0)return this;if(!lt){const zt=ct.pipes;ct.pipes=[],this.pause();for(let Ot=0;Ot<zt.length;Ot++)zt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}const jt=$(ct.pipes,lt);return jt===-1?this:(ct.pipes.splice(jt,1),ct.pipes.length===0&&this.pause(),lt.emit("unpipe",this,Nt),this)},We.prototype.on=function(lt,ct){const Nt=$e.prototype.on.call(this,lt,ct),jt=this._readableState;return lt==="data"?(jt.readableListening=this.listenerCount("readable")>0,jt.flowing!==!1&&this.resume()):lt==="readable"&&!jt.endEmitted&&!jt.readableListening&&(jt.readableListening=jt.needReadable=!0,jt.flowing=!1,jt.emittedReadable=!1,Le("on readable",jt.length,jt.reading),jt.length?vt(this):jt.reading||T.nextTick(pt,this)),Nt},We.prototype.addListener=We.prototype.on,We.prototype.removeListener=function(lt,ct){const Nt=$e.prototype.removeListener.call(this,lt,ct);return lt==="readable"&&T.nextTick(Mt,this),Nt},We.prototype.off=We.prototype.removeListener,We.prototype.removeAllListeners=function(lt){const ct=$e.prototype.removeAllListeners.apply(this,arguments);return(lt==="readable"||lt===void 0)&&T.nextTick(Mt,this),ct};function Mt(lt){const ct=lt._readableState;ct.readableListening=lt.listenerCount("readable")>0,ct.resumeScheduled&&ct[ke]===!1?ct.flowing=!0:lt.listenerCount("data")>0?lt.resume():ct.readableListening||(ct.flowing=null)}function pt(lt){Le("readable nexttick read 0"),lt.read(0)}We.prototype.resume=function(){const lt=this._readableState;return lt.flowing||(Le("resume"),lt.flowing=!lt.readableListening,mt(this,lt)),lt[ke]=!1,this};function mt(lt,ct){ct.resumeScheduled||(ct.resumeScheduled=!0,T.nextTick($t,lt,ct))}function $t(lt,ct){Le("resume",ct.reading),ct.reading||lt.read(0),ct.resumeScheduled=!1,lt.emit("resume"),kt(lt),ct.flowing&&!ct.reading&&lt.read(0)}We.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ke]=!0,this};function kt(lt){const ct=lt._readableState;for(Le("flow",ct.flowing);ct.flowing&&lt.read()!==null;);}We.prototype.wrap=function(lt){let ct=!1;lt.on("data",jt=>{!this.push(jt)&&lt.pause&&(ct=!0,lt.pause())}),lt.on("end",()=>{this.push(null)}),lt.on("error",jt=>{Xe(this,jt)}),lt.on("close",()=>{this.destroy()}),lt.on("destroy",()=>{this.destroy()}),this._read=()=>{ct&&lt.resume&&(ct=!1,lt.resume())};const Nt=H(lt);for(let jt=1;jt<Nt.length;jt++){const zt=Nt[jt];this[zt]===void 0&&typeof lt[zt]=="function"&&(this[zt]=lt[zt].bind(lt))}return this},We.prototype[G]=function(){return Ft(this)},We.prototype.iterator=function(lt){return lt!==void 0&&Fe(lt,"options"),Ft(this,lt)};function Ft(lt,ct){typeof lt.read!="function"&&(lt=We.wrap(lt,{objectMode:!0}));const Nt=nr(lt,ct);return Nt.stream=lt,Nt}async function*nr(lt,ct){let Nt=rt;function jt(Rt){this===lt?(Nt(),Nt=rt):Nt=Rt}lt.on("readable",jt);let zt;const Ot=Ke(lt,{writable:!1},Rt=>{zt=Rt?ot(zt,Rt):null,Nt(),Nt=rt});try{for(;;){const Rt=lt.destroyed?null:lt.read();if(Rt!==null)yield Rt;else{if(zt)throw zt;if(zt===null)return;await new Q(jt)}}}catch(Rt){throw zt=ot(zt,Rt),zt}finally{(zt||(ct==null?void 0:ct.destroyOnReturn)!==!1)&&(zt===void 0||lt._readableState.autoDestroy)?He.destroyer(lt,null):(lt.off("readable",jt),Ot())}}B(We.prototype,{readable:{__proto__:null,get(){const lt=this._readableState;return!!lt&&lt.readable!==!1&&!lt.destroyed&&!lt.errorEmitted&&!lt.endEmitted},set(lt){this._readableState&&(this._readableState.readable=!!lt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(lt){this._readableState&&(this._readableState.flowing=lt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(lt){this._readableState&&(this._readableState.destroyed=lt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(it.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ke]!==!1},set(lt){this[ke]=!!lt}}}),We._fromList=Yt;function Yt(lt,ct){if(ct.length===0)return null;let Nt;return ct.objectMode?Nt=ct.buffer.shift():!lt||lt>=ct.length?(ct.decoder?Nt=ct.buffer.join(""):ct.buffer.length===1?Nt=ct.buffer.first():Nt=ct.buffer.concat(ct.length),ct.buffer.clear()):Nt=ct.buffer.consume(lt,ct.decoder),Nt}function yr(lt){const ct=lt._readableState;Le("endReadable",ct.endEmitted),ct.endEmitted||(ct.ended=!0,T.nextTick(gr,ct,lt))}function gr(lt,ct){if(Le("endReadableNT",lt.endEmitted,lt.length),!lt.errored&&!lt.closeEmitted&&!lt.endEmitted&&lt.length===0){if(lt.endEmitted=!0,ct.emit("end"),ct.writable&&ct.allowHalfOpen===!1)T.nextTick(br,ct);else if(lt.autoDestroy){const Nt=ct._writableState;(!Nt||Nt.autoDestroy&&(Nt.finished||Nt.writable===!1))&&ct.destroy()}}}function br(lt){lt.writable&&!lt.writableEnded&&!lt.destroyed&&lt.end()}We.from=function(lt,ct){return Je(We,lt,ct)};let cr;function pr(){return cr===void 0&&(cr={}),cr}return We.fromWeb=function(lt,ct){return pr().newStreamReadableFromReadableStream(lt,ct)},We.toWeb=function(lt,ct){return pr().newReadableStreamFromStreamReadable(lt,ct)},We.wrap=function(lt,ct){var Nt,jt;return new We({objectMode:(Nt=(jt=lt.readableObjectMode)!==null&&jt!==void 0?jt:lt.objectMode)!==null&&Nt!==void 0?Nt:!0,...ct,destroy(zt,Ot){He.destroyer(lt,zt),Ot(zt)}}).wrap(lt)},readable$1}var writable$1,hasRequiredWritable$1;function requireWritable$1(){if(hasRequiredWritable$1)return writable$1;hasRequiredWritable$1=1;const T=dist$3,{ArrayPrototypeSlice:$,Error:I,FunctionPrototypeSymbolHasInstance:N,ObjectDefineProperty:L,ObjectDefineProperties:B,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:z,Symbol:Q,SymbolHasInstance:te}=primordials$5;writable$1=Ue,Ue.WritableState=Fe;const{EventEmitter:G}=events$1,ie=legacy$6.Stream,{Buffer:Re}=dist$5,$e=destroy$8,{addAbortSignal:Pe}=addAbortSignal$4,{getHighWaterMark:Me,getDefaultHighWaterMark:Be}=state$9,{ERR_INVALID_ARG_TYPE:Ke,ERR_METHOD_NOT_IMPLEMENTED:Le,ERR_MULTIPLE_CALLBACK:qe,ERR_STREAM_CANNOT_PIPE:He,ERR_STREAM_DESTROYED:Ge,ERR_STREAM_ALREADY_FINISHED:at,ERR_STREAM_NULL_VALUES:ot,ERR_STREAM_WRITE_AFTER_END:Ye,ERR_UNKNOWN_ENCODING:nt}=errors$b.codes,{errorOrDestroy:Qe}=$e;H(Ue.prototype,ie.prototype),H(Ue,ie);function tt(){}const ze=Q("kOnFinished");function Fe(pt,mt,$t){typeof $t!="boolean"&&($t=mt instanceof requireDuplex$1()),this.objectMode=!!(pt&&pt.objectMode),$t&&(this.objectMode=this.objectMode||!!(pt&&pt.writableObjectMode)),this.highWaterMark=pt?Me(this,pt,"writableHighWaterMark",$t):Be(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const kt=!!(pt&&pt.decodeStrings===!1);this.decodeStrings=!kt,this.defaultEncoding=pt&&pt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=We.bind(void 0,mt),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ke(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pt||pt.emitClose!==!1,this.autoDestroy=!pt||pt.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ze]=[]}function ke(pt){pt.buffered=[],pt.bufferedIndex=0,pt.allBuffers=!0,pt.allNoop=!0}Fe.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},L(Fe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ue(pt){const mt=this instanceof requireDuplex$1();if(!mt&&!N(Ue,this))return new Ue(pt);this._writableState=new Fe(pt,this,mt),pt&&(typeof pt.write=="function"&&(this._write=pt.write),typeof pt.writev=="function"&&(this._writev=pt.writev),typeof pt.destroy=="function"&&(this._destroy=pt.destroy),typeof pt.final=="function"&&(this._final=pt.final),typeof pt.construct=="function"&&(this._construct=pt.construct),pt.signal&&Pe(pt.signal,this)),ie.call(this,pt),$e.construct(this,()=>{const $t=this._writableState;$t.writing||st(this,$t),St(this,$t)})}L(Ue,te,{__proto__:null,value:function(pt){return N(this,pt)?!0:this!==Ue?!1:pt&&pt._writableState instanceof Fe}}),Ue.prototype.pipe=function(){Qe(this,new He)};function Je(pt,mt,$t,kt){const Ft=pt._writableState;if(typeof $t=="function")kt=$t,$t=Ft.defaultEncoding;else{if(!$t)$t=Ft.defaultEncoding;else if($t!=="buffer"&&!Re.isEncoding($t))throw new nt($t);typeof kt!="function"&&(kt=tt)}if(mt===null)throw new ot;if(!Ft.objectMode)if(typeof mt=="string")Ft.decodeStrings!==!1&&(mt=Re.from(mt,$t),$t="buffer");else if(mt instanceof Re)$t="buffer";else if(ie._isUint8Array(mt))mt=ie._uint8ArrayToBuffer(mt),$t="buffer";else throw new Ke("chunk",["string","Buffer","Uint8Array"],mt);let nr;return Ft.ending?nr=new Ye:Ft.destroyed&&(nr=new Ge("write")),nr?(T.nextTick(kt,nr),Qe(pt,nr,!0),nr):(Ft.pendingcb++,rt(pt,Ft,mt,$t,kt))}Ue.prototype.write=function(pt,mt,$t){return Je(this,pt,mt,$t)===!0},Ue.prototype.cork=function(){this._writableState.corked++},Ue.prototype.uncork=function(){const pt=this._writableState;pt.corked&&(pt.corked--,pt.writing||st(this,pt))},Ue.prototype.setDefaultEncoding=function(mt){if(typeof mt=="string"&&(mt=z(mt)),!Re.isEncoding(mt))throw new nt(mt);return this._writableState.defaultEncoding=mt,this};function rt(pt,mt,$t,kt,Ft){const nr=mt.objectMode?1:$t.length;mt.length+=nr;const Yt=mt.length<mt.highWaterMark;return Yt||(mt.needDrain=!0),mt.writing||mt.corked||mt.errored||!mt.constructed?(mt.buffered.push({chunk:$t,encoding:kt,callback:Ft}),mt.allBuffers&&kt!=="buffer"&&(mt.allBuffers=!1),mt.allNoop&&Ft!==tt&&(mt.allNoop=!1)):(mt.writelen=nr,mt.writecb=Ft,mt.writing=!0,mt.sync=!0,pt._write($t,kt,mt.onwrite),mt.sync=!1),Yt&&!mt.errored&&!mt.destroyed}function Xe(pt,mt,$t,kt,Ft,nr,Yt){mt.writelen=kt,mt.writecb=Yt,mt.writing=!0,mt.sync=!0,mt.destroyed?mt.onwrite(new Ge("write")):$t?pt._writev(Ft,mt.onwrite):pt._write(Ft,nr,mt.onwrite),mt.sync=!1}function it(pt,mt,$t,kt){--mt.pendingcb,kt($t),Ze(mt),Qe(pt,$t)}function We(pt,mt){const $t=pt._writableState,kt=$t.sync,Ft=$t.writecb;if(typeof Ft!="function"){Qe(pt,new qe);return}$t.writing=!1,$t.writecb=null,$t.length-=$t.writelen,$t.writelen=0,mt?(mt.stack,$t.errored||($t.errored=mt),pt._readableState&&!pt._readableState.errored&&(pt._readableState.errored=mt),kt?T.nextTick(it,pt,$t,mt,Ft):it(pt,$t,mt,Ft)):($t.buffered.length>$t.bufferedIndex&&st(pt,$t),kt?$t.afterWriteTickInfo!==null&&$t.afterWriteTickInfo.cb===Ft?$t.afterWriteTickInfo.count++:($t.afterWriteTickInfo={count:1,cb:Ft,stream:pt,state:$t},T.nextTick(Ve,$t.afterWriteTickInfo)):je(pt,$t,1,Ft))}function Ve({stream:pt,state:mt,count:$t,cb:kt}){return mt.afterWriteTickInfo=null,je(pt,mt,$t,kt)}function je(pt,mt,$t,kt){for(!mt.ending&&!pt.destroyed&&mt.length===0&&mt.needDrain&&(mt.needDrain=!1,pt.emit("drain"));$t-- >0;)mt.pendingcb--,kt();mt.destroyed&&Ze(mt),St(pt,mt)}function Ze(pt){if(pt.writing)return;for(let Ft=pt.bufferedIndex;Ft<pt.buffered.length;++Ft){var mt;const{chunk:nr,callback:Yt}=pt.buffered[Ft],yr=pt.objectMode?1:nr.length;pt.length-=yr,Yt((mt=pt.errored)!==null&&mt!==void 0?mt:new Ge("write"))}const $t=pt[ze].splice(0);for(let Ft=0;Ft<$t.length;Ft++){var kt;$t[Ft]((kt=pt.errored)!==null&&kt!==void 0?kt:new Ge("end"))}ke(pt)}function st(pt,mt){if(mt.corked||mt.bufferProcessing||mt.destroyed||!mt.constructed)return;const{buffered:$t,bufferedIndex:kt,objectMode:Ft}=mt,nr=$t.length-kt;if(!nr)return;let Yt=kt;if(mt.bufferProcessing=!0,nr>1&&pt._writev){mt.pendingcb-=nr-1;const yr=mt.allNoop?tt:br=>{for(let cr=Yt;cr<$t.length;++cr)$t[cr].callback(br)},gr=mt.allNoop&&Yt===0?$t:$($t,Yt);gr.allBuffers=mt.allBuffers,Xe(pt,mt,!0,mt.length,gr,"",yr),ke(mt)}else{do{const{chunk:yr,encoding:gr,callback:br}=$t[Yt];$t[Yt++]=null;const cr=Ft?1:yr.length;Xe(pt,mt,!1,cr,yr,gr,br)}while(Yt<$t.length&&!mt.writing);Yt===$t.length?ke(mt):Yt>256?($t.splice(0,Yt),mt.bufferedIndex=0):mt.bufferedIndex=Yt}mt.bufferProcessing=!1}Ue.prototype._write=function(pt,mt,$t){if(this._writev)this._writev([{chunk:pt,encoding:mt}],$t);else throw new Le("_write()")},Ue.prototype._writev=null,Ue.prototype.end=function(pt,mt,$t){const kt=this._writableState;typeof pt=="function"?($t=pt,pt=null,mt=null):typeof mt=="function"&&($t=mt,mt=null);let Ft;if(pt!=null){const nr=Je(this,pt,mt);nr instanceof I&&(Ft=nr)}return kt.corked&&(kt.corked=1,this.uncork()),Ft||(!kt.errored&&!kt.ending?(kt.ending=!0,St(this,kt,!0),kt.ended=!0):kt.finished?Ft=new at("end"):kt.destroyed&&(Ft=new Ge("end"))),typeof $t=="function"&&(Ft||kt.finished?T.nextTick($t,Ft):kt[ze].push($t)),this};function dt(pt){return pt.ending&&!pt.destroyed&&pt.constructed&&pt.length===0&&!pt.errored&&pt.buffered.length===0&&!pt.finished&&!pt.writing&&!pt.errorEmitted&&!pt.closeEmitted}function bt(pt,mt){let $t=!1;function kt(Ft){if($t){Qe(pt,Ft??qe());return}if($t=!0,mt.pendingcb--,Ft){const nr=mt[ze].splice(0);for(let Yt=0;Yt<nr.length;Yt++)nr[Yt](Ft);Qe(pt,Ft,mt.sync)}else dt(mt)&&(mt.prefinished=!0,pt.emit("prefinish"),mt.pendingcb++,T.nextTick(Bt,pt,mt))}mt.sync=!0,mt.pendingcb++;try{pt._final(kt)}catch(Ft){kt(Ft)}mt.sync=!1}function vt(pt,mt){!mt.prefinished&&!mt.finalCalled&&(typeof pt._final=="function"&&!mt.destroyed?(mt.finalCalled=!0,bt(pt,mt)):(mt.prefinished=!0,pt.emit("prefinish")))}function St(pt,mt,$t){dt(mt)&&(vt(pt,mt),mt.pendingcb===0&&($t?(mt.pendingcb++,T.nextTick((kt,Ft)=>{dt(Ft)?Bt(kt,Ft):Ft.pendingcb--},pt,mt)):dt(mt)&&(mt.pendingcb++,Bt(pt,mt))))}function Bt(pt,mt){mt.pendingcb--,mt.finished=!0;const $t=mt[ze].splice(0);for(let kt=0;kt<$t.length;kt++)$t[kt]();if(pt.emit("finish"),mt.autoDestroy){const kt=pt._readableState;(!kt||kt.autoDestroy&&(kt.endEmitted||kt.readable===!1))&&pt.destroy()}}B(Ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pt){this._writableState&&(this._writableState.destroyed=pt)}},writable:{__proto__:null,get(){const pt=this._writableState;return!!pt&&pt.writable!==!1&&!pt.destroyed&&!pt.errored&&!pt.ending&&!pt.ended},set(pt){this._writableState&&(this._writableState.writable=!!pt)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const pt=this._writableState;return pt?!pt.destroyed&&!pt.ending&&pt.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Gt=$e.destroy;Ue.prototype.destroy=function(pt,mt){const $t=this._writableState;return!$t.destroyed&&($t.bufferedIndex<$t.buffered.length||$t[ze].length)&&T.nextTick(Ze,$t),Gt.call(this,pt,mt),this},Ue.prototype._undestroy=$e.undestroy,Ue.prototype._destroy=function(pt,mt){mt(pt)},Ue.prototype[G.captureRejectionSymbol]=function(pt){this.destroy(pt)};let Dt;function Mt(){return Dt===void 0&&(Dt={}),Dt}return Ue.fromWeb=function(pt,mt){return Mt().newStreamWritableFromWritableStream(pt,mt)},Ue.toWeb=function(pt){return Mt().newWritableStreamFromStreamWritable(pt)},writable$1}var duplexify$1,hasRequiredDuplexify$1;function requireDuplexify$1(){if(hasRequiredDuplexify$1)return duplexify$1;hasRequiredDuplexify$1=1;const T=dist$3,$=dist$5,{isReadable:I,isWritable:N,isIterable:L,isNodeStream:B,isReadableNodeStream:H,isWritableNodeStream:z,isDuplexNodeStream:Q}=utils$E,te=endOfStream$7,{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:ie,ERR_INVALID_RETURN_VALUE:Re}}=errors$b,{destroyer:$e}=destroy$8,Pe=requireDuplex$1(),Me=requireReadable$1(),{createDeferredPromise:Be}=util$e,Ke=from$7,Le=globalThis.Blob||$.Blob,qe=typeof Le<"u"?function(Qe){return Qe instanceof Le}:function(Qe){return!1},He=globalThis.AbortController||requireBrowser$a().AbortController,{FunctionPrototypeCall:Ge}=primordials$5;class at extends Pe{constructor(Qe){super(Qe),(Qe==null?void 0:Qe.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Qe==null?void 0:Qe.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify$1=function nt(Qe,tt){if(Q(Qe))return Qe;if(H(Qe))return Ye({readable:Qe});if(z(Qe))return Ye({writable:Qe});if(B(Qe))return Ye({writable:!1,readable:!1});if(typeof Qe=="function"){const{value:Fe,write:ke,final:Ue,destroy:Je}=ot(Qe);if(L(Fe))return Ke(at,Fe,{objectMode:!0,write:ke,final:Ue,destroy:Je});const rt=Fe==null?void 0:Fe.then;if(typeof rt=="function"){let Xe;const it=Ge(rt,Fe,We=>{if(We!=null)throw new Re("nully","body",We)},We=>{$e(Xe,We)});return Xe=new at({objectMode:!0,readable:!1,write:ke,final(We){Ue(async()=>{try{await it,T.nextTick(We,null)}catch(Ve){T.nextTick(We,Ve)}})},destroy:Je})}throw new Re("Iterable, AsyncIterable or AsyncFunction",tt,Fe)}if(qe(Qe))return nt(Qe.arrayBuffer());if(L(Qe))return Ke(at,Qe,{objectMode:!0,writable:!1});if(typeof(Qe==null?void 0:Qe.writable)=="object"||typeof(Qe==null?void 0:Qe.readable)=="object"){const Fe=Qe!=null&&Qe.readable?H(Qe==null?void 0:Qe.readable)?Qe==null?void 0:Qe.readable:nt(Qe.readable):void 0,ke=Qe!=null&&Qe.writable?z(Qe==null?void 0:Qe.writable)?Qe==null?void 0:Qe.writable:nt(Qe.writable):void 0;return Ye({readable:Fe,writable:ke})}const ze=Qe==null?void 0:Qe.then;if(typeof ze=="function"){let Fe;return Ge(ze,Qe,ke=>{ke!=null&&Fe.push(ke),Fe.push(null)},ke=>{$e(Fe,ke)}),Fe=new at({objectMode:!0,writable:!1,read(){}})}throw new ie(tt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Qe)};function ot(nt){let{promise:Qe,resolve:tt}=Be();const ze=new He,Fe=ze.signal;return{value:nt(async function*(){for(;;){const Ue=Qe;Qe=null;const{chunk:Je,done:rt,cb:Xe}=await Ue;if(T.nextTick(Xe),rt)return;if(Fe.aborted)throw new G(void 0,{cause:Fe.reason});({promise:Qe,resolve:tt}=Be()),yield Je}}(),{signal:Fe}),write(Ue,Je,rt){const Xe=tt;tt=null,Xe({chunk:Ue,done:!1,cb:rt})},final(Ue){const Je=tt;tt=null,Je({done:!0,cb:Ue})},destroy(Ue,Je){ze.abort(),Je(Ue)}}}function Ye(nt){const Qe=nt.readable&&typeof nt.readable.read!="function"?Me.wrap(nt.readable):nt.readable,tt=nt.writable;let ze=!!I(Qe),Fe=!!N(tt),ke,Ue,Je,rt,Xe;function it(We){const Ve=rt;rt=null,Ve?Ve(We):We&&Xe.destroy(We)}return Xe=new at({readableObjectMode:!!(Qe!=null&&Qe.readableObjectMode),writableObjectMode:!!(tt!=null&&tt.writableObjectMode),readable:ze,writable:Fe}),Fe&&(te(tt,We=>{Fe=!1,We&&$e(Qe,We),it(We)}),Xe._write=function(We,Ve,je){tt.write(We,Ve)?je():ke=je},Xe._final=function(We){tt.end(),Ue=We},tt.on("drain",function(){if(ke){const We=ke;ke=null,We()}}),tt.on("finish",function(){if(Ue){const We=Ue;Ue=null,We()}})),ze&&(te(Qe,We=>{ze=!1,We&&$e(Qe,We),it(We)}),Qe.on("readable",function(){if(Je){const We=Je;Je=null,We()}}),Qe.on("end",function(){Xe.push(null)}),Xe._read=function(){for(;;){const We=Qe.read();if(We===null){Je=Xe._read;return}if(!Xe.push(We))return}}),Xe._destroy=function(We,Ve){!We&&rt!==null&&(We=new G),Je=null,ke=null,Ue=null,rt===null?Ve(We):(rt=Ve,$e(tt,We),$e(Qe,We))},Xe}return duplexify$1}var duplex$1,hasRequiredDuplex$1;function requireDuplex$1(){if(hasRequiredDuplex$1)return duplex$1;hasRequiredDuplex$1=1;const{ObjectDefineProperties:T,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:I,ObjectSetPrototypeOf:N}=primordials$5;duplex$1=H;const L=requireReadable$1(),B=requireWritable$1();N(H.prototype,L.prototype),N(H,L);{const G=I(B.prototype);for(let ie=0;ie<G.length;ie++){const Re=G[ie];H.prototype[Re]||(H.prototype[Re]=B.prototype[Re])}}function H(G){if(!(this instanceof H))return new H(G);L.call(this,G),B.call(this,G),G?(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}T(H.prototype,{writable:{__proto__:null,...$(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(B.prototype,"writableLength")},writableFinished:{__proto__:null,...$(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(G){this._readableState&&this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}});let z;function Q(){return z===void 0&&(z={}),z}H.fromWeb=function(G,ie){return Q().newStreamDuplexFromReadableWritablePair(G,ie)},H.toWeb=function(G){return Q().newReadableWritablePairFromDuplex(G)};let te;return H.from=function(G){return te||(te=requireDuplexify$1()),te(G,"body")},duplex$1}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$4,Symbol:Symbol$6}=primordials$5;var transform$3=Transform$8;const{ERR_METHOD_NOT_IMPLEMENTED:ERR_METHOD_NOT_IMPLEMENTED$2}=errors$b.codes,Duplex$6=requireDuplex$1(),{getHighWaterMark:getHighWaterMark$3}=state$9;ObjectSetPrototypeOf$4(Transform$8.prototype,Duplex$6.prototype);ObjectSetPrototypeOf$4(Transform$8,Duplex$6);const kCallback$1=Symbol$6("kCallback");function Transform$8(T){if(!(this instanceof Transform$8))return new Transform$8(T);const $=T?getHighWaterMark$3(this,T,"readableHighWaterMark",!0):null;$===0&&(T={...T,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:T.writableHighWaterMark||0}),Duplex$6.call(this,T),this._readableState.sync=!1,this[kCallback$1]=null,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",prefinish$2)}function final$1(T){typeof this._flush=="function"&&!this.destroyed?this._flush(($,I)=>{if($){T?T($):this.destroy($);return}I!=null&&this.push(I),this.push(null),T&&T()}):(this.push(null),T&&T())}function prefinish$2(){this._final!==final$1&&final$1.call(this)}Transform$8.prototype._final=final$1;Transform$8.prototype._transform=function(T,$,I){throw new ERR_METHOD_NOT_IMPLEMENTED$2("_transform()")};Transform$8.prototype._write=function(T,$,I){const N=this._readableState,L=this._writableState,B=N.length;this._transform(T,$,(H,z)=>{if(H){I(H);return}z!=null&&this.push(z),L.ended||B===N.length||N.length<N.highWaterMark?I():this[kCallback$1]=I})};Transform$8.prototype._read=function(){if(this[kCallback$1]){const T=this[kCallback$1];this[kCallback$1]=null,T()}};const transform$4=getDefaultExportFromCjs$1(transform$3),transform$5=_mergeNamespaces({__proto__:null,default:transform$4},[transform$3]),{ObjectSetPrototypeOf:ObjectSetPrototypeOf$3}=primordials$5;var passthrough$3=PassThrough$4;const Transform$7=transform$5;ObjectSetPrototypeOf$3(PassThrough$4.prototype,Transform$7.prototype);ObjectSetPrototypeOf$3(PassThrough$4,Transform$7);function PassThrough$4(T){if(!(this instanceof PassThrough$4))return new PassThrough$4(T);Transform$7.call(this,T)}PassThrough$4.prototype._transform=function(T,$,I){I(null,T)};const passthrough$4=getDefaultExportFromCjs$1(passthrough$3),passthrough$5=_mergeNamespaces({__proto__:null,default:passthrough$4},[passthrough$3]),process$4=dist$3,{ArrayIsArray:ArrayIsArray$3,Promise:Promise$5,SymbolAsyncIterator:SymbolAsyncIterator$3}=primordials$5,eos$6=endOfStream$7,{once:once$4}=util$e,destroyImpl$1=destroy$8,Duplex$5=requireDuplex$1(),{aggregateTwoErrors:aggregateTwoErrors$3,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$7,ERR_INVALID_RETURN_VALUE:ERR_INVALID_RETURN_VALUE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$6,ERR_STREAM_DESTROYED:ERR_STREAM_DESTROYED$2,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$3},AbortError:AbortError$9}=errors$b,{validateFunction:validateFunction$5,validateAbortSignal:validateAbortSignal$5}=validators$5,{isIterable:isIterable$2,isReadable:isReadable$5,isReadableNodeStream:isReadableNodeStream$3,isNodeStream:isNodeStream$7,isTransformStream:isTransformStream$4,isWebStream:isWebStream$4,isReadableStream:isReadableStream$5,isReadableEnded:isReadableEnded$2}=utils$E,AbortController$4=globalThis.AbortController||requireBrowser$a().AbortController;let PassThrough$3,Readable$1;function destroyer$5(T,$,I){let N=!1;T.on("close",()=>{N=!0});const L=eos$6(T,{readable:$,writable:I},B=>{N=!B});return{destroy:B=>{N||(N=!0,destroyImpl$1.destroyer(T,B||new ERR_STREAM_DESTROYED$2("pipe")))},cleanup:L}}function popCallback$2(T){return validateFunction$5(T[T.length-1],"streams[stream.length - 1]"),T.pop()}function makeAsyncIterable$1(T){if(isIterable$2(T))return T;if(isReadableNodeStream$3(T))return fromReadable$1(T);throw new ERR_INVALID_ARG_TYPE$7("val",["Readable","Iterable","AsyncIterable"],T)}async function*fromReadable$1(T){Readable$1||(Readable$1=requireReadable$1()),yield*Readable$1.prototype[SymbolAsyncIterator$3].call(T)}async function pumpToNode$1(T,$,I,{end:N}){let L,B=null;const H=te=>{if(te&&(L=te),B){const G=B;B=null,G()}},z=()=>new Promise$5((te,G)=>{L?G(L):B=()=>{L?G(L):te()}});$.on("drain",H);const Q=eos$6($,{readable:!1},H);try{$.writableNeedDrain&&await z();for await(const te of T)$.write(te)||await z();N&&$.end(),await z(),I()}catch(te){I(L!==te?aggregateTwoErrors$3(L,te):te)}finally{Q(),$.off("drain",H)}}async function pumpToWeb$1(T,$,I,{end:N}){isTransformStream$4($)&&($=$.writable);const L=$.getWriter();try{for await(const B of T)await L.ready,L.write(B).catch(()=>{});await L.ready,N&&await L.close(),I()}catch(B){try{await L.abort(B),I(B)}catch(H){I(H)}}}function pipeline$8(...T){return pipelineImpl$1(T,once$4(popCallback$2(T)))}function pipelineImpl$1(T,$,I){if(T.length===1&&ArrayIsArray$3(T[0])&&(T=T[0]),T.length<2)throw new ERR_MISSING_ARGS$6("streams");const N=new AbortController$4,L=N.signal,B=I==null?void 0:I.signal,H=[];validateAbortSignal$5(B,"options.signal");function z(){$e(new AbortError$9)}B==null||B.addEventListener("abort",z);let Q,te;const G=[];let ie=0;function Re(Ke){$e(Ke,--ie===0)}function $e(Ke,Le){if(Ke&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=Ke),!(!Q&&!Le)){for(;G.length;)G.shift()(Q);B==null||B.removeEventListener("abort",z),N.abort(),Le&&(Q||H.forEach(qe=>qe()),process$4.nextTick($,Q,te))}}let Pe;for(let Ke=0;Ke<T.length;Ke++){const Le=T[Ke],qe=Ke<T.length-1,He=Ke>0,Ge=qe||(I==null?void 0:I.end)!==!1,at=Ke===T.length-1;if(isNodeStream$7(Le)){let ot=function(Ye){Ye&&Ye.name!=="AbortError"&&Ye.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Re(Ye)};if(Ge){const{destroy:Ye,cleanup:nt}=destroyer$5(Le,qe,He);G.push(Ye),isReadable$5(Le)&&at&&H.push(nt)}Le.on("error",ot),isReadable$5(Le)&&at&&H.push(()=>{Le.removeListener("error",ot)})}if(Ke===0)if(typeof Le=="function"){if(Pe=Le({signal:L}),!isIterable$2(Pe))throw new ERR_INVALID_RETURN_VALUE$1("Iterable, AsyncIterable or Stream","source",Pe)}else isIterable$2(Le)||isReadableNodeStream$3(Le)||isTransformStream$4(Le)?Pe=Le:Pe=Duplex$5.from(Le);else if(typeof Le=="function"){if(isTransformStream$4(Pe)){var Me;Pe=makeAsyncIterable$1((Me=Pe)===null||Me===void 0?void 0:Me.readable)}else Pe=makeAsyncIterable$1(Pe);if(Pe=Le(Pe,{signal:L}),qe){if(!isIterable$2(Pe,!0))throw new ERR_INVALID_RETURN_VALUE$1("AsyncIterable",`transform[${Ke-1}]`,Pe)}else{var Be;PassThrough$3||(PassThrough$3=passthrough$5);const ot=new PassThrough$3({objectMode:!0}),Ye=(Be=Pe)===null||Be===void 0?void 0:Be.then;if(typeof Ye=="function")ie++,Ye.call(Pe,tt=>{te=tt,tt!=null&&ot.write(tt),Ge&&ot.end(),process$4.nextTick(Re)},tt=>{ot.destroy(tt),process$4.nextTick(Re,tt)});else if(isIterable$2(Pe,!0))ie++,pumpToNode$1(Pe,ot,Re,{end:Ge});else if(isReadableStream$5(Pe)||isTransformStream$4(Pe)){const tt=Pe.readable||Pe;ie++,pumpToNode$1(tt,ot,Re,{end:Ge})}else throw new ERR_INVALID_RETURN_VALUE$1("AsyncIterable or Promise","destination",Pe);Pe=ot;const{destroy:nt,cleanup:Qe}=destroyer$5(Pe,!1,!0);G.push(nt),at&&H.push(Qe)}}else if(isNodeStream$7(Le)){if(isReadableNodeStream$3(Pe)){ie+=2;const ot=pipe$2(Pe,Le,Re,{end:Ge});isReadable$5(Le)&&at&&H.push(ot)}else if(isTransformStream$4(Pe)||isReadableStream$5(Pe)){const ot=Pe.readable||Pe;ie++,pumpToNode$1(ot,Le,Re,{end:Ge})}else if(isIterable$2(Pe))ie++,pumpToNode$1(Pe,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$7("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else if(isWebStream$4(Le)){if(isReadableNodeStream$3(Pe))ie++,pumpToWeb$1(makeAsyncIterable$1(Pe),Le,Re,{end:Ge});else if(isReadableStream$5(Pe)||isIterable$2(Pe))ie++,pumpToWeb$1(Pe,Le,Re,{end:Ge});else if(isTransformStream$4(Pe))ie++,pumpToWeb$1(Pe.readable,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$7("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else Pe=Duplex$5.from(Le)}return(L!=null&&L.aborted||B!=null&&B.aborted)&&process$4.nextTick(z),Pe}function pipe$2(T,$,I,{end:N}){let L=!1;if($.on("close",()=>{L||I(new ERR_STREAM_PREMATURE_CLOSE$3)}),T.pipe($,{end:!1}),N){let B=function(){L=!0,$.end()};isReadableEnded$2(T)?process$4.nextTick(B):T.once("end",B)}else I();return eos$6(T,{readable:!0,writable:!1},B=>{const H=T._readableState;B&&B.code==="ERR_STREAM_PREMATURE_CLOSE"&&H&&H.ended&&!H.errored&&!H.errorEmitted?T.once("end",I).once("error",I):I(B)}),eos$6($,{readable:!1,writable:!0},I)}var pipeline_1$2={pipelineImpl:pipelineImpl$1,pipeline:pipeline$8};const pipeline$9=getDefaultExportFromCjs$1(pipeline_1$2),pipeline$a=_mergeNamespaces({__proto__:null,default:pipeline$9},[pipeline_1$2]),{pipeline:pipeline$7}=pipeline$a,Duplex$4=requireDuplex$1(),{destroyer:destroyer$4}=destroy$8,{isNodeStream:isNodeStream$6,isReadable:isReadable$4,isWritable:isWritable$5,isWebStream:isWebStream$3,isTransformStream:isTransformStream$3,isWritableStream:isWritableStream$3,isReadableStream:isReadableStream$4}=utils$E,{AbortError:AbortError$8,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$5,ERR_MISSING_ARGS:ERR_MISSING_ARGS$5}}=errors$b,eos$5=endOfStream$7;var compose$5=function(...$){if($.length===0)throw new ERR_MISSING_ARGS$5("streams");if($.length===1)return Duplex$4.from($[0]);const I=[...$];if(typeof $[0]=="function"&&($[0]=Duplex$4.from($[0])),typeof $[$.length-1]=="function"){const $e=$.length-1;$[$e]=Duplex$4.from($[$e])}for(let $e=0;$e<$.length;++$e)if(!(!isNodeStream$6($[$e])&&!isWebStream$3($[$e]))){if($e<$.length-1&&!(isReadable$4($[$e])||isReadableStream$4($[$e])||isTransformStream$3($[$e])))throw new ERR_INVALID_ARG_VALUE$5(`streams[${$e}]`,I[$e],"must be readable");if($e>0&&!(isWritable$5($[$e])||isWritableStream$3($[$e])||isTransformStream$3($[$e])))throw new ERR_INVALID_ARG_VALUE$5(`streams[${$e}]`,I[$e],"must be writable")}let N,L,B,H,z;function Q($e){const Pe=H;H=null,Pe?Pe($e):$e?z.destroy($e):!Re&&!ie&&z.destroy()}const te=$[0],G=pipeline$7($,Q),ie=!!(isWritable$5(te)||isWritableStream$3(te)||isTransformStream$3(te)),Re=!!(isReadable$4(G)||isReadableStream$4(G)||isTransformStream$3(G));if(z=new Duplex$4({writableObjectMode:!!(te!=null&&te.writableObjectMode),readableObjectMode:!!(G!=null&&G.writableObjectMode),writable:ie,readable:Re}),ie){if(isNodeStream$6(te))z._write=function(Pe,Me,Be){te.write(Pe,Me)?Be():N=Be},z._final=function(Pe){te.end(),L=Pe},te.on("drain",function(){if(N){const Pe=N;N=null,Pe()}});else if(isWebStream$3(te)){const Me=(isTransformStream$3(te)?te.writable:te).getWriter();z._write=async function(Be,Ke,Le){try{await Me.ready,Me.write(Be).catch(()=>{}),Le()}catch(qe){Le(qe)}},z._final=async function(Be){try{await Me.ready,Me.close().catch(()=>{}),L=Be}catch(Ke){Be(Ke)}}}const $e=isTransformStream$3(G)?G.readable:G;eos$5($e,()=>{if(L){const Pe=L;L=null,Pe()}})}if(Re){if(isNodeStream$6(G))G.on("readable",function(){if(B){const $e=B;B=null,$e()}}),G.on("end",function(){z.push(null)}),z._read=function(){for(;;){const $e=G.read();if($e===null){B=z._read;return}if(!z.push($e))return}};else if(isWebStream$3(G)){const Pe=(isTransformStream$3(G)?G.readable:G).getReader();z._read=async function(){for(;;)try{const{value:Me,done:Be}=await Pe.read();if(!z.push(Me))return;if(Be){z.push(null);return}}catch{return}}}}return z._destroy=function($e,Pe){!$e&&H!==null&&($e=new AbortError$8),B=null,N=null,L=null,H===null?Pe($e):(H=Pe,isNodeStream$6(G)&&destroyer$4(G,$e))},z};const compose$6=getDefaultExportFromCjs$1(compose$5),compose$7=_mergeNamespaces({__proto__:null,default:compose$6},[compose$5]),AbortController$3=globalThis.AbortController||requireBrowser$a().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$4,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$6,ERR_MISSING_ARGS:ERR_MISSING_ARGS$4,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$2},AbortError:AbortError$7}=errors$b,{validateAbortSignal:validateAbortSignal$4,validateInteger:validateInteger$2,validateObject:validateObject$3}=validators$5,kWeakHandler$1=primordials$5.Symbol("kWeak"),{finished:finished$2}=endOfStream$7,staticCompose$1=compose$7,{addAbortSignalNoValidate:addAbortSignalNoValidate$1}=addAbortSignal$4,{isWritable:isWritable$4,isNodeStream:isNodeStream$5}=utils$E,{ArrayPrototypePush:ArrayPrototypePush$1,MathFloor:MathFloor$2,Number:Number$2,NumberIsNaN:NumberIsNaN$2,Promise:Promise$4,PromiseReject:PromiseReject$1,PromisePrototypeThen:PromisePrototypeThen$3,Symbol:Symbol$5}=primordials$5,kEmpty$1=Symbol$5("kEmpty"),kEof$1=Symbol$5("kEof");function compose$4(T,$){if($!=null&&validateObject$3($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$4($.signal,"options.signal"),isNodeStream$5(T)&&!isWritable$4(T))throw new ERR_INVALID_ARG_VALUE$4("stream",T,"must be writable");const I=staticCompose$1(this,T);return $!=null&&$.signal&&addAbortSignalNoValidate$1($.signal,I),I}function map$1(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$6("fn",["Function","AsyncFunction"],T);$!=null&&validateObject$3($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$4($.signal,"options.signal");let I=1;return($==null?void 0:$.concurrency)!=null&&(I=MathFloor$2($.concurrency)),validateInteger$2(I,"concurrency",1),(async function*(){var L,B;const H=new AbortController$3,z=this,Q=[],te=H.signal,G={signal:te},ie=()=>H.abort();$!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted&&ie(),$==null||(B=$.signal)===null||B===void 0||B.addEventListener("abort",ie);let Re,$e,Pe=!1;function Me(){Pe=!0}async function Be(){try{for await(let qe of z){var Ke;if(Pe)return;if(te.aborted)throw new AbortError$7;try{qe=T(qe,G)}catch(He){qe=PromiseReject$1(He)}qe!==kEmpty$1&&(typeof((Ke=qe)===null||Ke===void 0?void 0:Ke.catch)=="function"&&qe.catch(Me),Q.push(qe),Re&&(Re(),Re=null),!Pe&&Q.length&&Q.length>=I&&await new Promise$4(He=>{$e=He}))}Q.push(kEof$1)}catch(qe){const He=PromiseReject$1(qe);PromisePrototypeThen$3(He,void 0,Me),Q.push(He)}finally{var Le;Pe=!0,Re&&(Re(),Re=null),$==null||(Le=$.signal)===null||Le===void 0||Le.removeEventListener("abort",ie)}}Be();try{for(;;){for(;Q.length>0;){const Ke=await Q[0];if(Ke===kEof$1)return;if(te.aborted)throw new AbortError$7;Ke!==kEmpty$1&&(yield Ke),Q.shift(),$e&&($e(),$e=null)}await new Promise$4(Ke=>{Re=Ke})}}finally{H.abort(),Pe=!0,$e&&($e(),$e=null)}}).call(this)}function asIndexedPairs$1(T=void 0){return T!=null&&validateObject$3(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$4(T.signal,"options.signal"),(async function*(){let I=0;for await(const L of this){var N;if(T!=null&&(N=T.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$7({cause:T.signal.reason});yield[I++,L]}}).call(this)}async function some$1(T,$=void 0){for await(const I of filter$1.call(this,T,$))return!0;return!1}async function every$1(T,$=void 0){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$6("fn",["Function","AsyncFunction"],T);return!await some$1.call(this,async(...I)=>!await T(...I),$)}async function find$1(T,$){for await(const I of filter$1.call(this,T,$))return I}async function forEach$5(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$6("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L),kEmpty$1}for await(const N of map$1.call(this,I,$));}function filter$1(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$6("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L)?N:kEmpty$1}return map$1.call(this,I,$)}let ReduceAwareErrMissingArgs$1=class extends ERR_MISSING_ARGS$4{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function reduce$1(T,$,I){var N;if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$6("reducer",["Function","AsyncFunction"],T);I!=null&&validateObject$3(I,"options"),(I==null?void 0:I.signal)!=null&&validateAbortSignal$4(I.signal,"options.signal");let L=arguments.length>1;if(I!=null&&(N=I.signal)!==null&&N!==void 0&&N.aborted){const te=new AbortError$7(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await finished$2(this.destroy(te)),te}const B=new AbortController$3,H=B.signal;if(I!=null&&I.signal){const te={once:!0,[kWeakHandler$1]:this};I.signal.addEventListener("abort",()=>B.abort(),te)}let z=!1;try{for await(const te of this){var Q;if(z=!0,I!=null&&(Q=I.signal)!==null&&Q!==void 0&&Q.aborted)throw new AbortError$7;L?$=await T($,te,{signal:H}):($=te,L=!0)}if(!z&&!L)throw new ReduceAwareErrMissingArgs$1}finally{B.abort()}return $}async function toArray$2(T){T!=null&&validateObject$3(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal$4(T.signal,"options.signal");const $=[];for await(const N of this){var I;if(T!=null&&(I=T.signal)!==null&&I!==void 0&&I.aborted)throw new AbortError$7(void 0,{cause:T.signal.reason});ArrayPrototypePush$1($,N)}return $}function flatMap$1(T,$){const I=map$1.call(this,T,$);return(async function*(){for await(const L of I)yield*L}).call(this)}function toIntegerOrInfinity$1(T){if(T=Number$2(T),NumberIsNaN$2(T))return 0;if(T<0)throw new ERR_OUT_OF_RANGE$2("number",">= 0",T);return T}function drop$1(T,$=void 0){return $!=null&&validateObject$3($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$4($.signal,"options.signal"),T=toIntegerOrInfinity$1(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$7;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$7;T--<=0&&(yield B)}}).call(this)}function take$1(T,$=void 0){return $!=null&&validateObject$3($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal$4($.signal,"options.signal"),T=toIntegerOrInfinity$1(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$7;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$7;if(T-- >0)yield B;else return}}).call(this)}var streamReturningOperators$1=operators$3.streamReturningOperators={asIndexedPairs:asIndexedPairs$1,drop:drop$1,filter:filter$1,flatMap:flatMap$1,map:map$1,take:take$1,compose:compose$4},promiseReturningOperators$1=operators$3.promiseReturningOperators={every:every$1,forEach:forEach$5,reduce:reduce$1,toArray:toArray$2,some:some$1,find:find$1};const operators$2=_mergeNamespaces({__proto__:null,default:operators$3,promiseReturningOperators:promiseReturningOperators$1,streamReturningOperators:streamReturningOperators$1},[operators$3]);var promises$1,hasRequiredPromises$1;function requirePromises$1(){if(hasRequiredPromises$1)return promises$1;hasRequiredPromises$1=1;const{ArrayPrototypePop:T,Promise:$}=primordials$5,{isIterable:I,isNodeStream:N,isWebStream:L}=utils$E,{pipelineImpl:B}=pipeline$a,{finished:H}=endOfStream$7;requireStream$1();function z(...Q){return new $((te,G)=>{let ie,Re;const $e=Q[Q.length-1];if($e&&typeof $e=="object"&&!N($e)&&!I($e)&&!L($e)){const Pe=T(Q);ie=Pe.signal,Re=Pe.end}B(Q,(Pe,Me)=>{Pe?G(Pe):te(Me)},{signal:ie,end:Re})})}return promises$1={finished:H,pipeline:z},promises$1}var hasRequiredStream$1;function requireStream$1(){if(hasRequiredStream$1)return stream$1.exports;hasRequiredStream$1=1;const{Buffer:T}=dist$5,{ObjectDefineProperty:$,ObjectKeys:I,ReflectApply:N}=primordials$5,{promisify:{custom:L}}=util$e,{streamReturningOperators:B,promiseReturningOperators:H}=operators$2,{codes:{ERR_ILLEGAL_CONSTRUCTOR:z}}=errors$b,Q=compose$7,{pipeline:te}=pipeline$a,{destroyer:G}=destroy$8,ie=endOfStream$7,Re=requirePromises$1(),$e=utils$E,Pe=stream$1.exports=legacy$6.Stream;Pe.isDisturbed=$e.isDisturbed,Pe.isErrored=$e.isErrored,Pe.isReadable=$e.isReadable,Pe.Readable=requireReadable$1();for(const Be of I(B)){let Ke=function(...qe){if(new.target)throw z();return Pe.Readable.from(N(Le,this,qe))};const Le=B[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}for(const Be of I(H)){let Ke=function(...qe){if(new.target)throw z();return N(Le,this,qe)};const Le=H[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}Pe.Writable=requireWritable$1(),Pe.Duplex=requireDuplex$1(),Pe.Transform=transform$5,Pe.PassThrough=passthrough$5,Pe.pipeline=te;const{addAbortSignal:Me}=addAbortSignal$4;return Pe.addAbortSignal=Me,Pe.finished=ie,Pe.destroy=G,Pe.compose=Q,$(Pe,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Re}}),$(te,L,{__proto__:null,enumerable:!0,get(){return Re.pipeline}}),$(ie,L,{__proto__:null,enumerable:!0,get(){return Re.finished}}),Pe.Stream=Pe,Pe._isUint8Array=function(Ke){return Ke instanceof Uint8Array},Pe._uint8ArrayToBuffer=function(Ke){return T.from(Ke.buffer,Ke.byteOffset,Ke.byteLength)},stream$1.exports}(function(T){const $=requireStream$1(),I=requirePromises$1(),N=$.Readable.destroy;T.exports=$.Readable,T.exports._uint8ArrayToBuffer=$._uint8ArrayToBuffer,T.exports._isUint8Array=$._isUint8Array,T.exports.isDisturbed=$.isDisturbed,T.exports.isErrored=$.isErrored,T.exports.isReadable=$.isReadable,T.exports.Readable=$.Readable,T.exports.Writable=$.Writable,T.exports.Duplex=$.Duplex,T.exports.Transform=$.Transform,T.exports.PassThrough=$.PassThrough,T.exports.addAbortSignal=$.addAbortSignal,T.exports.finished=$.finished,T.exports.destroy=$.destroy,T.exports.destroy=N,T.exports.pipeline=$.pipeline,T.exports.compose=$.compose,Object.defineProperty($,"promises",{configurable:!0,enumerable:!0,get(){return I}}),T.exports.Stream=$.Stream,T.exports.default=T.exports})(browser$i);var DidVerificationRelationship$1;(function(T){T.authentication="authentication",T.assertionMethod="assertionMethod",T.keyAgreement="keyAgreement",T.capabilityInvocation="capabilityInvocation",T.capabilityDelegation="capabilityDelegation"})(DidVerificationRelationship$1||(DidVerificationRelationship$1={}));const EMPTY_DID_RESOLUTION_RESULT={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Did{constructor({method:$,id:I,path:N,query:L,fragment:B,params:H}){this.uri=`did:${$}:${I}`,this.method=$,this.id=I,this.path=N,this.query=L,this.fragment=B,this.params=H}static parse($){if(!$)return null;const I=Did.DID_URI_PATTERN.exec($);if(!I||!I.groups)return null;const{method:N,id:L,path:B,query:H,fragment:z}=I.groups,Q={uri:`did:${N}:${L}`,method:N,id:L};if(B&&(Q.path=B),H&&(Q.query=H.slice(1)),z&&(Q.fragment=z.slice(1)),H){const te={},G=H.slice(1).split("&");for(const ie of G){const[Re,$e]=ie.split("=");te[Re]=$e}Q.params=te}return Q}}Did.METHOD_PATTERN="([a-z0-9]+)";Did.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})";Did.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Did.PCT_ENCODED_PATTERN})`;Did.METHOD_ID_PATTERN=`((?:${Did.ID_CHAR_PATTERN}*:)*(${Did.ID_CHAR_PATTERN}+))`;Did.PATH_PATTERN="(/[^#?]*)?";Did.QUERY_PATTERN="([?][^#]*)?";Did.FRAGMENT_PATTERN="(#.*)?";Did.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Did.METHOD_PATTERN}):(?<id>${Did.METHOD_ID_PATTERN})(?<path>${Did.PATH_PATTERN})(?<query>${Did.QUERY_PATTERN})(?<fragment>${Did.FRAGMENT_PATTERN})$`);class DidError extends Error{constructor($,I){super(`${$}: ${I}`),this.code=$,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DidError)}}var DidErrorCode$1;(function(T){T.InvalidDid="invalidDid",T.MethodNotSupported="methodNotSupported",T.InternalError="internalError",T.InvalidDidDocument="invalidDidDocument",T.InvalidDidDocumentLength="invalidDidDocumentLength",T.InvalidDidUrl="invalidDidUrl",T.InvalidPreviousDidProof="invalidPreviousDidProof",T.InvalidPublicKey="invalidPublicKey",T.InvalidPublicKeyLength="invalidPublicKeyLength",T.InvalidPublicKeyType="invalidPublicKeyType",T.InvalidSignature="invalidSignature",T.NotFound="notFound",T.RepresentationNotSupported="representationNotSupported",T.UnsupportedPublicKeyType="unsupportedPublicKeyType"})(DidErrorCode$1||(DidErrorCode$1={}));function base$5(T,$){if(T.length>=255)throw new TypeError("Alphabet too long");for(var I=new Uint8Array(256),N=0;N<I.length;N++)I[N]=255;for(var L=0;L<T.length;L++){var B=T.charAt(L),H=B.charCodeAt(0);if(I[H]!==255)throw new TypeError(B+" is ambiguous");I[H]=L}var z=T.length,Q=T.charAt(0),te=Math.log(z)/Math.log(256),G=Math.log(256)/Math.log(z);function ie(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Pe.length===0)return"";for(var Me=0,Be=0,Ke=0,Le=Pe.length;Ke!==Le&&Pe[Ke]===0;)Ke++,Me++;for(var qe=(Le-Ke)*G+1>>>0,He=new Uint8Array(qe);Ke!==Le;){for(var Ge=Pe[Ke],at=0,ot=qe-1;(Ge!==0||at<Be)&&ot!==-1;ot--,at++)Ge+=256*He[ot]>>>0,He[ot]=Ge%z>>>0,Ge=Ge/z>>>0;if(Ge!==0)throw new Error("Non-zero carry");Be=at,Ke++}for(var Ye=qe-Be;Ye!==qe&&He[Ye]===0;)Ye++;for(var nt=Q.repeat(Me);Ye<qe;++Ye)nt+=T.charAt(He[Ye]);return nt}function Re(Pe){if(typeof Pe!="string")throw new TypeError("Expected String");if(Pe.length===0)return new Uint8Array;var Me=0;if(Pe[Me]!==" "){for(var Be=0,Ke=0;Pe[Me]===Q;)Be++,Me++;for(var Le=(Pe.length-Me)*te+1>>>0,qe=new Uint8Array(Le);Pe[Me];){var He=I[Pe.charCodeAt(Me)];if(He===255)return;for(var Ge=0,at=Le-1;(He!==0||Ge<Ke)&&at!==-1;at--,Ge++)He+=z*qe[at]>>>0,qe[at]=He%256>>>0,He=He/256>>>0;if(He!==0)throw new Error("Non-zero carry");Ke=Ge,Me++}if(Pe[Me]!==" "){for(var ot=Le-Ke;ot!==Le&&qe[ot]===0;)ot++;for(var Ye=new Uint8Array(Be+(Le-ot)),nt=Be;ot!==Le;)Ye[nt++]=qe[ot++];return Ye}}}function $e(Pe){var Me=Re(Pe);if(Me)return Me;throw new Error(`Non-${$} character`)}return{encode:ie,decodeUnsafe:Re,decode:$e}}var src$1=base$5,_brrp__multiformats_scope_baseX$1=src$1;const coerce$1=T=>{if(T instanceof Uint8Array&&T.constructor.name==="Uint8Array")return T;if(T instanceof ArrayBuffer)return new Uint8Array(T);if(ArrayBuffer.isView(T))return new Uint8Array(T.buffer,T.byteOffset,T.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$1=class{constructor($,I,N){this.name=$,this.prefix=I,this.baseEncode=N}encode($){if($ instanceof Uint8Array)return`${this.prefix}${this.baseEncode($)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor($,I,N){if(this.name=$,this.prefix=I,I.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=I.codePointAt(0),this.baseDecode=N}decode($){if(typeof $=="string"){if($.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify($)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode($.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or($){return or$1(this,$)}},ComposedDecoder$1=class{constructor($){this.decoders=$}or($){return or$1(this,$)}decode($){const I=$[0],N=this.decoders[I];if(N)return N.decode($);throw RangeError(`Unable to decode multibase string ${JSON.stringify($)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$1=(T,$)=>new ComposedDecoder$1({...T.decoders||{[T.prefix]:T},...$.decoders||{[$.prefix]:$}});let Codec$1=class{constructor($,I,N,L){this.name=$,this.prefix=I,this.baseEncode=N,this.baseDecode=L,this.encoder=new Encoder$1($,I,N),this.decoder=new Decoder$1($,I,L)}encode($){return this.encoder.encode($)}decode($){return this.decoder.decode($)}};const from$4=({name:T,prefix:$,encode:I,decode:N})=>new Codec$1(T,$,I,N),baseX$1=({prefix:T,name:$,alphabet:I})=>{const{encode:N,decode:L}=_brrp__multiformats_scope_baseX$1(I,$);return from$4({prefix:T,name:$,encode:N,decode:B=>coerce$1(L(B))})},decode$7=(T,$,I,N)=>{const L={};for(let G=0;G<$.length;++G)L[$[G]]=G;let B=T.length;for(;T[B-1]==="=";)--B;const H=new Uint8Array(B*I/8|0);let z=0,Q=0,te=0;for(let G=0;G<B;++G){const ie=L[T[G]];if(ie===void 0)throw new SyntaxError(`Non-${N} character`);Q=Q<<I|ie,z+=I,z>=8&&(z-=8,H[te++]=255&Q>>z)}if(z>=I||255&Q<<8-z)throw new SyntaxError("Unexpected end of data");return H},encode$4=(T,$,I)=>{const N=$[$.length-1]==="=",L=(1<<I)-1;let B="",H=0,z=0;for(let Q=0;Q<T.length;++Q)for(z=z<<8|T[Q],H+=8;H>I;)H-=I,B+=$[L&z>>H];if(H&&(B+=$[L&z<<I-H]),N)for(;B.length*I&7;)B+="=";return B},rfc4648$1=({name:T,prefix:$,bitsPerChar:I,alphabet:N})=>from$4({prefix:$,name:T,encode(L){return encode$4(L,N,I)},decode(L){return decode$7(L,N,I,T)}});rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const base32z=rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base58btc=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url=rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function isArrayBufferSlice(T){return T.byteOffset!==0||T.byteLength!==T.buffer.byteLength}function isAsyncIterable(T){return typeof T!="object"||T===null?!1:typeof T[Symbol.asyncIterator]=="function"}function universalTypeOf(T){const I=Object.prototype.toString.call(T).match(/\s([a-zA-Z0-9]+)/),[N,L]=I;return L}var __awaiter$l=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__asyncValues=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=T[Symbol.asyncIterator],I;return $?$.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),I={},N("next"),N("throw"),N("return"),I[Symbol.asyncIterator]=function(){return this},I);function N(B){I[B]=T[B]&&function(H){return new Promise(function(z,Q){H=T[B](H),L(z,Q,H.done,H.value)})}}function L(B,H,z,Q){Promise.resolve(Q).then(function(te){B({value:te,done:z})},H)}};const textEncoder=new TextEncoder,textDecoder=new TextDecoder;class Convert{constructor($,I){this.data=$,this.format=I}static arrayBuffer($){return new Convert($,"ArrayBuffer")}static asyncIterable($){if(!isAsyncIterable($))throw new TypeError("Input must be of type AsyncIterable.");return new Convert($,"AsyncIterable")}static base32Z($){return new Convert($,"Base32Z")}static base58Btc($){return new Convert($,"Base58Btc")}static base64Url($){return new Convert($,"Base64Url")}static bufferSource($){return new Convert($,"BufferSource")}static hex($){if(typeof $!="string")throw new TypeError("Hex input must be a string.");if($.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Convert($,"Hex")}static multibase($){return new Convert($,"Multibase")}static object($){return new Convert($,"Object")}static string($){return new Convert($,"String")}static uint8Array($){return new Convert($,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return base58btc.baseDecode(this.data).buffer;case"Base64Url":return base64url.baseDecode(this.data).buffer;case"BufferSource":{if(universalTypeOf(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return isArrayBufferSlice(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return __awaiter$l(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return base32z.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base58btc.baseEncode($)}case"Multibase":return this.data.substring(1);case"Uint8Array":return base58btc.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const $=new Uint8Array(this.data);return base64url.baseEncode($)}case"BufferSource":{const $=this.toUint8Array();return base64url.baseEncode($)}case"Object":{const $=JSON.stringify(this.data),I=textEncoder.encode($);return base64url.baseEncode(I)}case"String":{const $=textEncoder.encode(this.data);return base64url.baseEncode($)}case"Uint8Array":return base64url.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var $,I,N,L;return __awaiter$l(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const Q=[];try{for(var B=!0,H=__asyncValues(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const G=L;Q.push(G)}}catch(G){I={error:G}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return new Blob(Q)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const $=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const I=this.toUint8Array();return Convert.uint8Array(I).toHex()}case"Base64Url":{const I=this.toUint8Array();return Convert.uint8Array(I).toHex()}case"Uint8Array":{let I="";for(let N=0;N<this.data.length;N++)I+=$[this.data[N]];return I}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const $=base64url.baseDecode(this.data),I=textDecoder.decode($);return JSON.parse(I)}case"String":return JSON.parse(this.data);case"Uint8Array":{const $=textDecoder.decode(this.data);return JSON.parse($)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return __awaiter$l(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toStringAsync();return JSON.parse($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return textDecoder.decode(this.data);case"Base64Url":{const $=base64url.baseDecode(this.data);return textDecoder.decode($)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return textDecoder.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var $,I,N,L;return __awaiter$l(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let Q="";try{for(var B=!0,H=__asyncValues(this.data),z;z=yield H.next(),$=z.done,!$;B=!0){L=z.value,B=!1;const te=L;typeof te=="string"?Q+=te:Q+=textDecoder.decode(te,{stream:!0})}}catch(te){I={error:te}}finally{try{!B&&!$&&(N=H.return)&&(yield N.call(H))}finally{if(I)throw I.error}}return Q+=textDecoder.decode(void 0,{stream:!1}),Q}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return base32z.baseDecode(this.data);case"Base58Btc":return base58btc.baseDecode(this.data);case"Base64Url":return base64url.baseDecode(this.data);case"BufferSource":{const $=universalTypeOf(this.data);if($==="Uint8Array")return this.data;if($==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const $=new Uint8Array(this.data.length/2);for(let I=0;I<this.data.length;I+=2){const N=parseInt(this.data.substring(I,I+2),16);if(isNaN(N))throw new TypeError("Input is not a valid hexadecimal string.");$[I/2]=N}return $}case"Object":{const $=JSON.stringify(this.data);return textEncoder.encode($)}case"String":return textEncoder.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return __awaiter$l(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const $=yield this.toArrayBufferAsync();return new Uint8Array($)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}}var encode_1$1=encode$3,MSB$2=128,MSBALL$1=-128,INT$1=Math.pow(2,31);function encode$3(T,$,I){$=$||[],I=I||0;for(var N=I;T>=INT$1;)$[I++]=T&255|MSB$2,T/=128;for(;T&MSBALL$1;)$[I++]=T&255|MSB$2,T>>>=7;return $[I]=T|0,encode$3.bytes=I-N+1,$}var decode$6=read$1,MSB$1$1=128,REST$1$1=127;function read$1(T,N){var I=0,N=N||0,L=0,B=N,H,z=T.length;do{if(B>=z)throw read$1.bytes=0,new RangeError("Could not decode varint");H=T[B++],I+=L<28?(H&REST$1$1)<<L:(H&REST$1$1)*Math.pow(2,L),L+=7}while(H>=MSB$1$1);return read$1.bytes=B-N,I}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$2=function(T){return T<N1$1?1:T<N2$1?2:T<N3$1?3:T<N4$1?4:T<N5$1?5:T<N6$1?6:T<N7$1?7:T<N8$1?8:T<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$6,encodingLength:length$2},_brrp_varint$1=varint$1;const decode$5=(T,$=0)=>[_brrp_varint$1.decode(T,$),_brrp_varint$1.decode.bytes],encodeTo$1=(T,$,I=0)=>(_brrp_varint$1.encode(T,$,I),$),encodingLength$1=T=>_brrp_varint$1.encodingLength(T);let Multicodec$1=class oa{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=oa.codeToName.has(N)?N:oa.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength$1(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo$1(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$5(I);return N}static getCodeFromName($){const{name:I}=$,N=oa.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=oa.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){oa.codeToName.set($.code,$.name),oa.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$5(I),B=oa.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}};Multicodec$1.codeToName=new Map;Multicodec$1.nameToCode=new Map;Multicodec$1.registerCodec({code:237,name:"ed25519-pub"});Multicodec$1.registerCodec({code:4864,name:"ed25519-priv"});Multicodec$1.registerCodec({code:236,name:"x25519-pub"});Multicodec$1.registerCodec({code:4866,name:"x25519-priv"});Multicodec$1.registerCodec({code:231,name:"secp256k1-pub"});Multicodec$1.registerCodec({code:4865,name:"secp256k1-priv"});function removeUndefinedProperties(T){Object.keys(T).forEach($=>{T[$]===void 0?delete T[$]:typeof T[$]=="object"&&removeUndefinedProperties(T[$])})}var __awaiter$k=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class MemoryStore{constructor(){this.store=new Map}clear(){return __awaiter$k(this,void 0,void 0,function*(){this.store.clear()})}close(){return __awaiter$k(this,void 0,void 0,function*(){})}delete($){return __awaiter$k(this,void 0,void 0,function*(){return this.store.delete($)})}get($){return __awaiter$k(this,void 0,void 0,function*(){return this.store.get($)})}has($){return __awaiter$k(this,void 0,void 0,function*(){return this.store.has($)})}list(){return __awaiter$k(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set($,I){return __awaiter$k(this,void 0,void 0,function*(){this.store.set($,I)})}}var __awaiter$j=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};let Sha256$2=class{static digest({data:$}){return __awaiter$j(this,void 0,void 0,function*(){return sha256$8($)})}};class CryptoAlgorithm{}var __awaiter$i=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class Sha2Algorithm extends CryptoAlgorithm{digest({algorithm:$,data:I}){return __awaiter$i(this,void 0,void 0,function*(){switch($){case"SHA-256":return yield Sha256$2.digest({data:I})}})}}function canonicalize(T){const $=N=>{if(N!==null&&typeof N=="object"&&!Array.isArray(N)){const L=Object.keys(N).sort(),B={};for(const H of L)B[H]=$(N[H]);return B}return N},I=$(T);return JSON.stringify(I)}var __awaiter$h=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};const KEY_URI_PREFIX_JWK="urn:jwk:";function computeJwkThumbprint({jwk:T}){return __awaiter$h(this,void 0,void 0,function*(){const $=T.kty;let I;if($==="EC")I={crv:T.crv,kty:T.kty,x:T.x,y:T.y};else if($==="oct")I={k:T.k,kty:T.kty};else if($==="OKP")I={crv:T.crv,kty:T.kty,x:T.x};else if($==="RSA")I={e:T.e,kty:T.kty,n:T.n};else throw new Error(`Unsupported key type: ${$}`);removeUndefinedProperties(I);const N=canonicalize(I),L=Convert.string(N).toUint8Array(),B=yield Sha256$2.digest({data:L});return Convert.uint8Array(B).toBase64Url()})}function isEcPrivateJwk(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="EC"||typeof T.d!="string"||typeof T.x!="string")}function isEcPublicJwk(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T)||"d"in T||T.kty!=="EC"||typeof T.x!="string")}function isOkpPrivateJwk(T){return!(!T||typeof T!="object"||!("kty"in T&&"crv"in T&&"x"in T&&"d"in T)||T.kty!=="OKP"||typeof T.d!="string"||typeof T.x!="string")}function isOkpPublicJwk(T){return!(!T||typeof T!="object"||"d"in T||!("kty"in T&&"crv"in T&&"x"in T)||T.kty!=="OKP"||typeof T.x!="string")}function isPrivateJwk(T){if(!T||typeof T!="object")return!1;switch(T.kty){case"EC":case"OKP":case"RSA":return"d"in T;case"oct":return"k"in T;default:return!1}}var __awaiter$g=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$5=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};class Secp256k1{static adjustSignatureToLowS({signature:$}){return __awaiter$g(this,void 0,void 0,function*(){const I=secp256k1$1.Signature.fromCompact($);return I.hasHighS()?I.normalizeS().toCompactRawBytes():$})}static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){const I=yield Secp256k1.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"secp256k1",d:Convert.uint8Array($).toBase64Url(),x:Convert.uint8Array(I.x).toBase64Url(),y:Convert.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){const I=yield Secp256k1.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"secp256k1",x:Convert.uint8Array(I.x).toBase64Url(),y:Convert.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint({jwk:N}),N})}static compressPublicKey({publicKeyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){return secp256k1$1.ProjectivePoint.fromHex($).toRawBytes(!0)})}static computePublicKey({key:$}){return __awaiter$g(this,void 0,void 0,function*(){const I=yield Secp256k1.privateKeyToBytes({privateKey:$}),N=yield Secp256k1.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"secp256k1",x:Convert.uint8Array(N.x).toBase64Url(),y:Convert.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint({jwk:L}),L})}static convertDerToCompactSignature({derSignature:$}){return __awaiter$g(this,void 0,void 0,function*(){return secp256k1$1.Signature.fromDER($).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){return secp256k1$1.ProjectivePoint.fromHex($).toRawBytes(!1)})}static generateKey(){return __awaiter$g(this,void 0,void 0,function*(){const $=secp256k1$1.utils.randomPrivateKey(),I=yield Secp256k1.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$g(this,void 0,void 0,function*(){if(!(isEcPrivateJwk($)&&$.crv==="secp256k1"))throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let{d:N}=$,L=__rest$5($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$g(this,void 0,void 0,function*(){if(!isEcPrivateJwk($))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Convert.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$g(this,void 0,void 0,function*(){if(!(isEcPublicJwk($)&&$.y))throw new Error("Secp256k1: The provided key is not a valid EC public key.");const I=new Uint8Array([4]),N=Convert.base64Url($.x).toUint8Array(),L=Convert.base64Url($.y).toUint8Array();return new Uint8Array([...I,...N,...L])})}static sharedSecret({privateKeyA:$,publicKeyB:I}){return __awaiter$g(this,void 0,void 0,function*(){if("x"in $&&"x"in I&&$.x===I.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const N=yield Secp256k1.privateKeyToBytes({privateKey:$}),L=yield Secp256k1.publicKeyToBytes({publicKey:I});return secp256k1$1.getSharedSecret(N,L,!0).slice(1)})}static sign({data:$,key:I}){return __awaiter$g(this,void 0,void 0,function*(){const N=yield Secp256k1.privateKeyToBytes({privateKey:I}),L=sha256$8($);return secp256k1$1.sign(L,N).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){return secp256k1$1.utils.isValidPrivateKey($)})}static validatePublicKey({publicKeyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){try{secp256k1$1.ProjectivePoint.fromHex($).assertValidity()}catch{return!1}return!0})}static verify({key:$,signature:I,data:N}){return __awaiter$g(this,void 0,void 0,function*(){const L=yield Secp256k1.publicKeyToBytes({publicKey:$}),B=sha256$8(N);return secp256k1$1.verify(I,B,L,{lowS:!1})})}static getCurvePoint({keyBytes:$}){return __awaiter$g(this,void 0,void 0,function*(){$.byteLength===32&&($=secp256k1$1.getPublicKey($));const I=secp256k1$1.ProjectivePoint.fromHex($),N=numberToBytesBE(I.x,32),L=numberToBytesBE(I.y,32);return{x:N,y:L}})}}var __awaiter$f=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$4=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};class Secp256r1{static adjustSignatureToLowS({signature:$}){return __awaiter$f(this,void 0,void 0,function*(){const I=secp256r1.Signature.fromCompact($);return I.hasHighS()?I.normalizeS().toCompactRawBytes():$})}static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){const I=yield Secp256r1.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"P-256",d:Convert.uint8Array($).toBase64Url(),x:Convert.uint8Array(I.x).toBase64Url(),y:Convert.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){const I=yield Secp256r1.getCurvePoint({keyBytes:$}),N={kty:"EC",crv:"P-256",x:Convert.uint8Array(I.x).toBase64Url(),y:Convert.uint8Array(I.y).toBase64Url()};return N.kid=yield computeJwkThumbprint({jwk:N}),N})}static compressPublicKey({publicKeyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){return secp256r1.ProjectivePoint.fromHex($).toRawBytes(!0)})}static computePublicKey({key:$}){return __awaiter$f(this,void 0,void 0,function*(){const I=yield Secp256r1.privateKeyToBytes({privateKey:$}),N=yield Secp256r1.getCurvePoint({keyBytes:I}),L={kty:"EC",crv:"P-256",x:Convert.uint8Array(N.x).toBase64Url(),y:Convert.uint8Array(N.y).toBase64Url()};return L.kid=yield computeJwkThumbprint({jwk:L}),L})}static convertDerToCompactSignature({derSignature:$}){return __awaiter$f(this,void 0,void 0,function*(){return secp256r1.Signature.fromDER($).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){return secp256r1.ProjectivePoint.fromHex($).toRawBytes(!1)})}static generateKey(){return __awaiter$f(this,void 0,void 0,function*(){const $=secp256r1.utils.randomPrivateKey(),I=yield Secp256r1.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$f(this,void 0,void 0,function*(){if(!(isEcPrivateJwk($)&&$.crv==="P-256"))throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let{d:N}=$,L=__rest$4($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$f(this,void 0,void 0,function*(){if(!isEcPrivateJwk($))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Convert.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$f(this,void 0,void 0,function*(){if(!(isEcPublicJwk($)&&$.y))throw new Error("Secp256r1: The provided key is not a valid EC public key.");const I=new Uint8Array([4]),N=Convert.base64Url($.x).toUint8Array(),L=Convert.base64Url($.y).toUint8Array();return new Uint8Array([...I,...N,...L])})}static sharedSecret({privateKeyA:$,publicKeyB:I}){return __awaiter$f(this,void 0,void 0,function*(){if("x"in $&&"x"in I&&$.x===I.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const N=yield Secp256r1.privateKeyToBytes({privateKey:$}),L=yield Secp256r1.publicKeyToBytes({publicKey:I});return secp256r1.getSharedSecret(N,L,!0).slice(1)})}static sign({data:$,key:I}){return __awaiter$f(this,void 0,void 0,function*(){const N=yield Secp256r1.privateKeyToBytes({privateKey:I}),L=sha256$8($);return secp256r1.sign(L,N).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){return secp256r1.utils.isValidPrivateKey($)})}static validatePublicKey({publicKeyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){try{secp256r1.ProjectivePoint.fromHex($).assertValidity()}catch{return!1}return!0})}static verify({key:$,signature:I,data:N}){return __awaiter$f(this,void 0,void 0,function*(){const L=yield Secp256r1.publicKeyToBytes({publicKey:$}),B=sha256$8(N);return secp256r1.verify(I,B,L,{lowS:!1})})}static getCurvePoint({keyBytes:$}){return __awaiter$f(this,void 0,void 0,function*(){$.byteLength===32&&($=secp256r1.getPublicKey($));const I=secp256r1.ProjectivePoint.fromHex($),N=numberToBytesBE(I.x,32),L=numberToBytesBE(I.y,32);return{x:N,y:L}})}}var __awaiter$e=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class EcdsaAlgorithm extends CryptoAlgorithm{computePublicKey({key:$}){return __awaiter$e(this,void 0,void 0,function*(){if(!isEcPrivateJwk($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch($.crv){case"secp256k1":{const I=yield Secp256k1.computePublicKey({key:$});return I.alg="ES256K",I}case"P-256":{const I=yield Secp256r1.computePublicKey({key:$});return I.alg="ES256",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}generateKey({algorithm:$}){return __awaiter$e(this,void 0,void 0,function*(){switch($){case"ES256K":case"secp256k1":{const I=yield Secp256k1.generateKey();return I.alg="ES256K",I}case"ES256":case"secp256r1":{const I=yield Secp256r1.generateKey();return I.alg="ES256",I}}})}getPublicKey({key:$}){return __awaiter$e(this,void 0,void 0,function*(){if(!isEcPrivateJwk($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch($.crv){case"secp256k1":{const I=yield Secp256k1.getPublicKey({key:$});return I.alg="ES256K",I}case"P-256":{const I=yield Secp256r1.getPublicKey({key:$});return I.alg="ES256",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}sign({key:$,data:I}){return __awaiter$e(this,void 0,void 0,function*(){if(!isEcPrivateJwk($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch($.crv){case"secp256k1":return yield Secp256k1.sign({key:$,data:I});case"P-256":return yield Secp256r1.sign({key:$,data:I});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}verify({key:$,signature:I,data:N}){return __awaiter$e(this,void 0,void 0,function*(){if(!isEcPublicJwk($))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch($.crv){case"secp256k1":return yield Secp256k1.verify({key:$,signature:I,data:N});case"P-256":return yield Secp256r1.verify({key:$,signature:I,data:N});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}}var __awaiter$d=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$3=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};class Ed25519{static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$d(this,void 0,void 0,function*(){const I=ed25519.getPublicKey($),N={crv:"Ed25519",d:Convert.uint8Array($).toBase64Url(),kty:"OKP",x:Convert.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$d(this,void 0,void 0,function*(){const I={kty:"OKP",crv:"Ed25519",x:Convert.uint8Array($).toBase64Url()};return I.kid=yield computeJwkThumbprint({jwk:I}),I})}static computePublicKey({key:$}){return __awaiter$d(this,void 0,void 0,function*(){const I=yield Ed25519.privateKeyToBytes({privateKey:$}),N=ed25519.getPublicKey(I),L={kty:"OKP",crv:"Ed25519",x:Convert.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint({jwk:L}),L})}static convertPrivateKeyToX25519({privateKey:$}){return __awaiter$d(this,void 0,void 0,function*(){const I=yield Ed25519.privateKeyToBytes({privateKey:$}),N=edwardsToMontgomeryPriv(I),L=x25519.getPublicKey(N),B={kty:"OKP",crv:"X25519",d:Convert.uint8Array(N).toBase64Url(),x:Convert.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint({jwk:B}),B})}static convertPublicKeyToX25519({publicKey:$}){return __awaiter$d(this,void 0,void 0,function*(){const I=yield Ed25519.publicKeyToBytes({publicKey:$});if(!(yield Ed25519.validatePublicKey({publicKeyBytes:I})))throw new Error("Ed25519: Invalid public key.");const L=edwardsToMontgomeryPub(I),B={kty:"OKP",crv:"X25519",x:Convert.uint8Array(L).toBase64Url()};return B.kid=yield computeJwkThumbprint({jwk:B}),B})}static generateKey(){return __awaiter$d(this,void 0,void 0,function*(){const $=ed25519.utils.randomPrivateKey(),I=yield Ed25519.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$d(this,void 0,void 0,function*(){if(!(isOkpPrivateJwk($)&&$.crv==="Ed25519"))throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let{d:N}=$,L=__rest$3($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$d(this,void 0,void 0,function*(){if(!isOkpPrivateJwk($))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Convert.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$d(this,void 0,void 0,function*(){if(!isOkpPublicJwk($))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Convert.base64Url($.x).toUint8Array()})}static sign({key:$,data:I}){return __awaiter$d(this,void 0,void 0,function*(){const N=yield Ed25519.privateKeyToBytes({privateKey:$});return ed25519.sign(I,N)})}static validatePublicKey({publicKeyBytes:$}){return __awaiter$d(this,void 0,void 0,function*(){try{ed25519.ExtendedPoint.fromHex($).assertValidity()}catch{return!1}return!0})}static verify({key:$,signature:I,data:N}){return __awaiter$d(this,void 0,void 0,function*(){const L=yield Ed25519.publicKeyToBytes({publicKey:$});return ed25519.verify(I,N,L)})}}var __awaiter$c=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class EdDsaAlgorithm extends CryptoAlgorithm{computePublicKey({key:$}){return __awaiter$c(this,void 0,void 0,function*(){if(!isOkpPrivateJwk($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch($.crv){case"Ed25519":{const I=yield Ed25519.computePublicKey({key:$});return I.alg="EdDSA",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}generateKey({algorithm:$}){return __awaiter$c(this,void 0,void 0,function*(){switch($){case"Ed25519":{const I=yield Ed25519.generateKey();return I.alg="EdDSA",I}}})}getPublicKey({key:$}){return __awaiter$c(this,void 0,void 0,function*(){if(!isOkpPrivateJwk($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch($.crv){case"Ed25519":{const I=yield Ed25519.getPublicKey({key:$});return I.alg="EdDSA",I}default:throw new Error(`Unsupported curve: ${$.crv}`)}})}sign({key:$,data:I}){return __awaiter$c(this,void 0,void 0,function*(){if(!isOkpPrivateJwk($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");switch($.crv){case"Ed25519":return yield Ed25519.sign({key:$,data:I});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}verify({key:$,signature:I,data:N}){return __awaiter$c(this,void 0,void 0,function*(){if(!isOkpPublicJwk($))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");switch($.crv){case"Ed25519":return yield Ed25519.verify({key:$,signature:I,data:N});default:throw new Error(`Unsupported curve: ${$.crv}`)}})}}var __awaiter$b=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};const supportedAlgorithms={Ed25519:{implementation:EdDsaAlgorithm,names:["Ed25519"]},secp256k1:{implementation:EcdsaAlgorithm,names:["ES256K","secp256k1"]},secp256r1:{implementation:EcdsaAlgorithm,names:["ES256","secp256r1"]},"SHA-256":{implementation:Sha2Algorithm,names:["SHA-256"]}};class LocalKeyManager{constructor($){var I;this._algorithmInstances=new Map,this._keyStore=(I=$==null?void 0:$.keyStore)!==null&&I!==void 0?I:new MemoryStore}digest({algorithm:$,data:I}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:$}).digest({algorithm:$,data:I})})}exportKey({keyUri:$}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:$})})}generateKey({algorithm:$}){return __awaiter$b(this,void 0,void 0,function*(){const N=yield this.getAlgorithm({algorithm:$}).generateKey({algorithm:$});if((N==null?void 0:N.kid)===void 0)throw new Error("Generated key is missing a required property: kid");const L=`${KEY_URI_PREFIX_JWK}${N.kid}`;return yield this._keyStore.set(L,N),L})}getKeyUri({key:$}){return __awaiter$b(this,void 0,void 0,function*(){const I=yield computeJwkThumbprint({jwk:$});return`${KEY_URI_PREFIX_JWK}${I}`})}getPublicKey({keyUri:$}){return __awaiter$b(this,void 0,void 0,function*(){const I=yield this.getPrivateKey({keyUri:$}),N=this.getAlgorithmName({key:I});return yield this.getAlgorithm({algorithm:N}).getPublicKey({key:I})})}importKey({key:$}){var I;return __awaiter$b(this,void 0,void 0,function*(){if(!isPrivateJwk($))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const N=structuredClone($);(I=N.kid)!==null&&I!==void 0||(N.kid=yield computeJwkThumbprint({jwk:N}));const L=yield this.getKeyUri({key:N});return yield this._keyStore.set(L,N),L})}sign({keyUri:$,data:I}){return __awaiter$b(this,void 0,void 0,function*(){const N=yield this.getPrivateKey({keyUri:$}),L=this.getAlgorithmName({key:N});return this.getAlgorithm({algorithm:L}).sign({data:I,key:N})})}verify({key:$,signature:I,data:N}){return __awaiter$b(this,void 0,void 0,function*(){const L=this.getAlgorithmName({key:$});return this.getAlgorithm({algorithm:L}).verify({key:$,signature:I,data:N})})}getAlgorithm({algorithm:$}){var I;const N=(I=supportedAlgorithms[$])===null||I===void 0?void 0:I.implementation;if(!N)throw new Error(`Algorithm not supported: ${$}`);return this._algorithmInstances.has(N)||this._algorithmInstances.set(N,new N),this._algorithmInstances.get(N)}getAlgorithmName({key:$}){const I=$.alg,N=$.crv;for(const L in supportedAlgorithms){const B=supportedAlgorithms[L];if(I&&B.names.includes(I))return L;if(N&&B.names.includes(N))return L}throw new Error(`Unable to determine algorithm based on provided input: alg=${I}, crv=${N}`)}getPrivateKey({keyUri:$}){return __awaiter$b(this,void 0,void 0,function*(){const I=yield this._keyStore.get($);if(!I)throw new Error(`Key not found: ${$}`);return I})}}function getJoseSignatureAlgorithmFromPublicKey(T){const $={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(T.alg&&Object.values($).includes(T.alg))return T.alg;if(T.crv&&Object.keys($).includes(T.crv))return $[T.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${T.alg}, crv=${T.crv}. Supported 'alg' values: ${Object.values($).join(", ")}. Supported 'crv' values: ${Object.keys($).join(", ")}.`)}var __awaiter$a=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})},__rest$2=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};class X25519{static bytesToPrivateKey({privateKeyBytes:$}){return __awaiter$a(this,void 0,void 0,function*(){const I=x25519.getPublicKey($),N={kty:"OKP",crv:"X25519",d:Convert.uint8Array($).toBase64Url(),x:Convert.uint8Array(I).toBase64Url()};return N.kid=yield computeJwkThumbprint({jwk:N}),N})}static bytesToPublicKey({publicKeyBytes:$}){return __awaiter$a(this,void 0,void 0,function*(){const I={kty:"OKP",crv:"X25519",x:Convert.uint8Array($).toBase64Url()};return I.kid=yield computeJwkThumbprint({jwk:I}),I})}static computePublicKey({key:$}){return __awaiter$a(this,void 0,void 0,function*(){const I=yield X25519.privateKeyToBytes({privateKey:$}),N=x25519.getPublicKey(I),L={kty:"OKP",crv:"X25519",x:Convert.uint8Array(N).toBase64Url()};return L.kid=yield computeJwkThumbprint({jwk:L}),L})}static generateKey(){return __awaiter$a(this,void 0,void 0,function*(){const $=x25519.utils.randomPrivateKey(),I=yield X25519.bytesToPrivateKey({privateKeyBytes:$});return I.kid=yield computeJwkThumbprint({jwk:I}),I})}static getPublicKey({key:$}){var I;return __awaiter$a(this,void 0,void 0,function*(){if(!(isOkpPrivateJwk($)&&$.crv==="X25519"))throw new Error("X25519: The provided key is not an X25519 private JWK.");let{d:N}=$,L=__rest$2($,["d"]);return(I=L.kid)!==null&&I!==void 0||(L.kid=yield computeJwkThumbprint({jwk:L})),L})}static privateKeyToBytes({privateKey:$}){return __awaiter$a(this,void 0,void 0,function*(){if(!isOkpPrivateJwk($))throw new Error("X25519: The provided key is not a valid OKP private key.");return Convert.base64Url($.d).toUint8Array()})}static publicKeyToBytes({publicKey:$}){return __awaiter$a(this,void 0,void 0,function*(){if(!isOkpPublicJwk($))throw new Error("X25519: The provided key is not a valid OKP public key.");return Convert.base64Url($.x).toUint8Array()})}static sharedSecret({privateKeyA:$,publicKeyB:I}){return __awaiter$a(this,void 0,void 0,function*(){if("x"in $&&"x"in I&&$.x===I.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const N=yield X25519.privateKeyToBytes({privateKey:$}),L=yield X25519.publicKeyToBytes({publicKey:I});return x25519.getSharedSecret(N,L)})}}function extractDidFragment(T){if(typeof T=="string"&&T.length!==0)return T.split("#").pop()}function getVerificationMethods({didDocument:T}){var $,I;if(!T)throw new TypeError("Required parameter missing: 'didDocument'");const N=[];return N.push(...(I=($=T.verificationMethod)===null||$===void 0?void 0:$.filter(isDidVerificationMethod))!==null&&I!==void 0?I:[]),Object.keys(DidVerificationRelationship$1).forEach(L=>{var B,H;N.push(...(H=(B=T[L])===null||B===void 0?void 0:B.filter(isDidVerificationMethod))!==null&&H!==void 0?H:[])}),N}function getVerificationMethodTypes({didDocument:T}){const I=getVerificationMethods({didDocument:T}).map(N=>N.type);return[...new Set(I)]}function getVerificationRelationshipsById({didDocument:T,methodId:$}){const I=[];return Object.keys(DidVerificationRelationship$1).forEach(N=>{if(Array.isArray(T[N])){const L=T[N],B=extractDidFragment($);L.some(z=>{const Q=extractDidFragment(z)===B,te=isDidVerificationMethod(z)&&extractDidFragment(z.id)===B;return Q||te})&&I.push(N)}}),I}function isDidVerificationMethod(T){return!(!T||typeof T!="object"||T===null||!("id"in T&&"type"in T&&"controller"in T)||typeof T.id!="string"||typeof T.type!="string"||typeof T.controller!="string")}function keyBytesToMultibaseId({keyBytes:T,multicodecCode:$,multicodecName:I}){const N=Multicodec$1.addPrefix({code:$,data:T,name:I}),L=Convert.uint8Array(N).toBase58Btc();return Convert.base58Btc(L).toMultibase()}function multibaseIdToKeyBytes({multibaseKeyId:T}){try{const $=Convert.multibase(T).toBase58Btc(),I=Convert.base58Btc($).toUint8Array(),{code:N,data:L,name:B}=Multicodec$1.removePrefix({prefixedData:I});return{keyBytes:L,multicodecCode:N,multicodecName:B}}catch{throw new DidError(DidErrorCode$1.InvalidDid,`Invalid multibase identifier: ${T}`)}}var __awaiter$9=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};class BearerDid{constructor({uri:$,document:I,metadata:N,keyManager:L}){this.uri=$,this.document=I,this.metadata=N,this.keyManager=L}export(){return __awaiter$9(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let $={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&typeof this.keyManager.exportKey=="function"){const I=[];for(let N of this.document.verificationMethod){if(!N.publicKeyJwk)throw new Error(`Verification method '${N.id}' does not contain a public key in JWK format`);const L=yield this.keyManager.getKeyUri({key:N.publicKeyJwk}),B=yield this.keyManager.exportKey({keyUri:L});I.push(Object.assign({},B))}$.privateKeys=I}return $})}getSigner($){return __awaiter$9(this,void 0,void 0,function*(){var I;const N=(I=this.document.verificationMethod)===null||I===void 0?void 0:I.find(Q=>{var te,G;return extractDidFragment(Q.id)===((te=extractDidFragment($==null?void 0:$.methodId))!==null&&te!==void 0?te:extractDidFragment((G=this.document.assertionMethod)===null||G===void 0?void 0:G[0]))});if(!(N&&N.publicKeyJwk))throw new DidError(DidErrorCode$1.InternalError,"A verification method intended for signing could not be determined from the DID Document");const L=yield this.keyManager.getKeyUri({key:N.publicKeyJwk}),B=yield this.keyManager.getPublicKey({keyUri:L}),H=this.keyManager;return{algorithm:getJoseSignatureAlgorithmFromPublicKey(B),keyId:N.id,sign(Q){return __awaiter$9(this,arguments,void 0,function*({data:te}){return yield H.sign({data:te,keyUri:L})})},verify(Q){return __awaiter$9(this,arguments,void 0,function*({data:te,signature:G}){return yield H.verify({data:te,key:B,signature:G})})}}})}static import($){return __awaiter$9(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager}){var L;const B=getVerificationMethods({didDocument:I.document});if(B.length===0)throw new DidError(DidErrorCode$1.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let z of(L=I.privateKeys)!==null&&L!==void 0?L:[])yield N.importKey({key:z});for(let z of B){if(!z.publicKeyJwk)throw new Error(`Verification method '${z.id}' does not contain a public key in JWK format`);const Q=yield N.getKeyUri({key:z.publicKeyJwk});yield N.getPublicKey({keyUri:Q})}return new BearerDid({uri:I.uri,document:I.document,metadata:I.metadata,keyManager:N})})}}var __awaiter$8=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class DidMethod{static getSigningMethod($){return __awaiter$8(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve($,I){return __awaiter$8(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var __awaiter$7=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},__rest$1=function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I};const DEFAULT_GATEWAY_URI$1="https://diddht.tbddev.org",DID_DHT_SPECIFICATION_VERSION=0,DNS_RECORD_TTL=7200,PROPERTY_SEPARATOR=";",VALUE_SEPARATOR=",";var DidDhtRegisteredDidType$1;(function(T){T[T.Discoverable=0]="Discoverable",T[T.Organization=1]="Organization",T[T.Government=2]="Government",T[T.Corporation=3]="Corporation",T[T.LocalBusiness=4]="LocalBusiness",T[T.SoftwarePackage=5]="SoftwarePackage",T[T.WebApp=6]="WebApp",T[T.FinancialInstitution=7]="FinancialInstitution"})(DidDhtRegisteredDidType$1||(DidDhtRegisteredDidType$1={}));var DidDhtRegisteredKeyType$1;(function(T){T[T.Ed25519=0]="Ed25519",T[T.secp256k1=1]="secp256k1",T[T.secp256r1=2]="secp256r1",T[T.X25519=3]="X25519"})(DidDhtRegisteredKeyType$1||(DidDhtRegisteredKeyType$1={}));var DidDhtVerificationRelationship$1;(function(T){T.authentication="auth",T.assertionMethod="asm",T.capabilityDelegation="del",T.capabilityInvocation="inv",T.keyAgreement="agm"})(DidDhtVerificationRelationship$1||(DidDhtVerificationRelationship$1={}));const AlgorithmToKeyTypeMap$2={Ed25519:DidDhtRegisteredKeyType$1.Ed25519,ES256K:DidDhtRegisteredKeyType$1.secp256k1,ES256:DidDhtRegisteredKeyType$1.secp256r1,"P-256":DidDhtRegisteredKeyType$1.secp256r1,secp256k1:DidDhtRegisteredKeyType$1.secp256k1,secp256r1:DidDhtRegisteredKeyType$1.secp256r1,X25519:DidDhtRegisteredKeyType$1.X25519},KeyTypeToDefaultAlgorithmMap={[DidDhtRegisteredKeyType$1.Ed25519]:"EdDSA",[DidDhtRegisteredKeyType$1.secp256k1]:"ES256K",[DidDhtRegisteredKeyType$1.secp256r1]:"ES256",[DidDhtRegisteredKeyType$1.X25519]:"ECDH-ES+A256KW"};class DidDht extends DidMethod{static create(){return __awaiter$7(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager,options:I={}}={}){var N,L,B,H,z,Q,te,G,ie,Re,$e;if(!((N=I.verificationMethods)===null||N===void 0)&&N.some(Ge=>!(Ge.algorithm in AlgorithmToKeyTypeMap$2)))throw new Error("One or more verification method algorithms are not supported");const Pe=(L=I.verificationMethods)===null||L===void 0?void 0:L.filter(Ge=>"id"in Ge).map(Ge=>Ge.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(!((B=I.services)===null||B===void 0)&&B.some(Ge=>!Ge.id||!Ge.type||!Ge.serviceEndpoint))throw new Error("One or more services are missing required properties");const Me=yield $.generateKey({algorithm:"Ed25519"}),Be=yield $.getPublicKey({keyUri:Me}),Ke=yield DidDhtUtils.identityKeyToIdentifier({identityKey:Be}),Le=Object.assign(Object.assign({id:Ke},I.alsoKnownAs&&{alsoKnownAs:I.alsoKnownAs}),I.controllers&&{controller:I.controllers}),qe=[...(H=I.verificationMethods)!==null&&H!==void 0?H:[]];qe!=null&&qe.some(Ge=>{var at;return((at=Ge.id)===null||at===void 0?void 0:at.split("#").pop())==="0"})||qe.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ge of qe){const at=Ge.id&&Ge.id.split("#").pop()==="0"?Me:yield $.generateKey({algorithm:Ge.algorithm}),ot=yield $.getPublicKey({keyUri:at});let Ye=(Q=(z=Ge.id)!==null&&z!==void 0?z:ot.kid)!==null&&Q!==void 0?Q:yield computeJwkThumbprint({jwk:ot});Ye=`${Ke}#${extractDidFragment(Ye)}`,(te=Le.verificationMethod)!==null&&te!==void 0||(Le.verificationMethod=[]),Le.verificationMethod.push({id:Ye,type:"JsonWebKey",controller:(G=Ge.controller)!==null&&G!==void 0?G:Ke,publicKeyJwk:ot});for(const nt of(ie=Ge.purposes)!==null&&ie!==void 0?ie:[])Le[nt]||(Le[nt]=[]),Le[nt].push(Ye)}(Re=I.services)===null||Re===void 0||Re.forEach(Ge=>{var at;(at=Le.service)!==null&&at!==void 0||(Le.service=[]),Ge.id=`${Ke}#${Ge.id.split("#").pop()}`,Le.service.push(Ge)});const He=new BearerDid({uri:Ke,document:Le,metadata:Object.assign({published:!1},I.types&&{types:I.types}),keyManager:$});if(!(($e=I.publish)!==null&&$e!==void 0)||$e){const Ge=yield DidDht.publish({did:He,gatewayUri:I.gatewayUri});He.metadata=Ge.didDocumentMetadata}return He})}static import($){return __awaiter$7(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager}){var L;const B=Did.parse(I.uri);if((B==null?void 0:B.method)!==DidDht.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,"Method not supported");const H=yield BearerDid.import({portableDid:I,keyManager:N});if(!(!((L=H.document.verificationMethod)===null||L===void 0)&&L.some(z=>{var Q;return((Q=z.id)===null||Q===void 0?void 0:Q.split("#").pop())==="0"})))throw new DidError(DidErrorCode$1.InvalidDidDocument,"DID document must contain an Identity Key");return H})}static getSigningMethod($){return __awaiter$7(this,arguments,void 0,function*({didDocument:I,methodId:N="#0"}){var L;const B=Did.parse(I.id);if(B&&B.method!==this.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,`Method not supported: ${B.method}`);const H=(L=I.verificationMethod)===null||L===void 0?void 0:L.find(z=>{var Q,te;return extractDidFragment(z.id)===((Q=extractDidFragment(N))!==null&&Q!==void 0?Q:extractDidFragment((te=I.assertionMethod)===null||te===void 0?void 0:te[0]))});if(!(H&&H.publicKeyJwk))throw new DidError(DidErrorCode$1.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static publish($){return __awaiter$7(this,arguments,void 0,function*({did:I,gatewayUri:N=DEFAULT_GATEWAY_URI$1}){return yield DidDhtDocument.put({did:I,gatewayUri:N})})}static resolve($){return __awaiter$7(this,arguments,void 0,function*(I,N={}){var L;const B=(L=N==null?void 0:N.gatewayUri)!==null&&L!==void 0?L:DEFAULT_GATEWAY_URI$1;try{yield DidDhtUtils.identifierToIdentityKey({didUri:I});const{didDocument:H,didDocumentMetadata:z}=yield DidDhtDocument.get({didUri:I,gatewayUri:B});return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didDocument:H,didDocumentMetadata:z})}catch(H){if(!(H instanceof DidError))throw new Error(H);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:Object.assign({error:H.code},H.message&&{errorMessage:H.message})})}})}}DidDht.methodName="dht";class DidDhtDocument{static get($){return __awaiter$7(this,arguments,void 0,function*({didUri:I,gatewayUri:N}){const L=DidDhtUtils.identifierToIdentityKeyBytes({didUri:I}),B=yield DidDhtDocument.pkarrGet({gatewayUri:N,publicKeyBytes:L}),H=yield DidDhtUtils.parseBep44GetMessage({bep44Message:B}),z=yield DidDhtDocument.fromDnsPacket({didUri:I,dnsPacket:H});return z.didDocumentMetadata.versionId=B.seq.toString(),z})}static put($){return __awaiter$7(this,arguments,void 0,function*({did:I,gatewayUri:N}){const L=yield DidDhtDocument.toDnsPacket({didDocument:I.document,didMetadata:I.metadata,authoritativeGatewayUris:[N]}),B=yield DidDhtUtils.createBep44PutMessage({dnsPacket:L,publicKeyBytes:DidDhtUtils.identifierToIdentityKeyBytes({didUri:I.uri}),signer:yield I.getSigner({methodId:"0"})}),H=yield DidDhtDocument.pkarrPut({gatewayUri:N,bep44Message:B});return{didDocument:I.document,didDocumentMetadata:Object.assign(Object.assign({},I.metadata),{published:H,versionId:B.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet($){return __awaiter$7(this,arguments,void 0,function*({gatewayUri:I,publicKeyBytes:N}){const L=Convert.uint8Array(N).toBase32Z(),B=new URL(L,I).href;let H;try{if(H=yield fetch(B,{method:"GET"}),!H.ok)throw new DidError(DidErrorCode$1.NotFound,`Pkarr record not found for: ${L}`)}catch(te){throw te instanceof DidError?te:new DidError(DidErrorCode$1.InternalError,`Failed to fetch Pkarr record: ${te.message}`)}const z=yield H.arrayBuffer();if(!z)throw new DidError(DidErrorCode$1.NotFound,`Pkarr record not found for: ${L}`);if(z.byteLength<72)throw new DidError(DidErrorCode$1.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${z.byteLength}`);if(z.byteLength>1072)throw new DidError(DidErrorCode$1.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${z.byteLength}`);return{k:N,seq:Number(new DataView(z).getBigUint64(64)),sig:new Uint8Array(z,0,64),v:new Uint8Array(z,72)}})}static pkarrPut($){return __awaiter$7(this,arguments,void 0,function*({gatewayUri:I,bep44Message:N}){const L=Convert.uint8Array(N.k).toBase32Z(),B=new URL(L,I).href,H=new Uint8Array(N.v.length+72);H.set(N.sig,0),new DataView(H.buffer).setBigUint64(N.sig.length,BigInt(N.seq)),H.set(N.v,N.sig.length+8);let z;try{z=yield fetch(B,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:H})}catch(Q){throw new DidError(DidErrorCode$1.InternalError,`Failed to put Pkarr record for identifier ${L}: ${Q.message}`)}return z.ok})}static fromDnsPacket($){return __awaiter$7(this,arguments,void 0,function*({didUri:I,dnsPacket:N}){var L,B,H;const z={id:I},Q={published:!0},te=new Map;for(const G of(L=N==null?void 0:N.answers)!==null&&L!==void 0?L:[]){if(G.type!=="TXT")continue;const ie=G.name.split(".")[0].substring(1);switch(!0){case ie.startsWith("aka"):{const Re=DidDhtUtils.parseTxtDataToString(G.data);z.alsoKnownAs=Re.split(VALUE_SEPARATOR);break}case ie.startsWith("cnt"):{const Re=DidDhtUtils.parseTxtDataToString(G.data);z.controller=Re.includes(VALUE_SEPARATOR)?Re.split(VALUE_SEPARATOR):Re;break}case ie.startsWith("k"):{const{id:Re,t:$e,k:Pe,c:Me,a:Be}=DidDhtUtils.parseTxtDataToObject(G.data),Ke=Convert.base64Url(Pe).toUint8Array(),Le=DidDhtRegisteredKeyType$1[Number($e)];let qe=yield DidDhtUtils.keyConverter(Le).bytesToPublicKey({publicKeyBytes:Ke});qe.alg=Be||KeyTypeToDefaultAlgorithmMap[Number($e)];const He=ie==="k0"?"0":Re!==void 0?Re:yield computeJwkThumbprint({jwk:qe});(B=z.verificationMethod)!==null&&B!==void 0||(z.verificationMethod=[]);const Ge=`${I}#${He}`;z.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:Me??I,publicKeyJwk:qe}),te.set(ie,Ge);break}case ie.startsWith("s"):{const Re=DidDhtUtils.parseTxtDataToObject(G.data),{id:$e,t:Pe,se:Me}=Re,Be=__rest$1(Re,["id","t","se"]),Ke=Me.includes(VALUE_SEPARATOR)?Me.split(VALUE_SEPARATOR):[Me],Le=Object.fromEntries(Object.entries(Be).map(([qe,He])=>[qe,He.includes(VALUE_SEPARATOR)?He.split(VALUE_SEPARATOR):He]));(H=z.service)!==null&&H!==void 0||(z.service=[]),z.service.push(Object.assign(Object.assign({},Le),{id:`${I}#${$e}`,type:Pe,serviceEndpoint:Ke}));break}case ie.startsWith("typ"):{const{id:Re}=DidDhtUtils.parseTxtDataToObject(G.data);Q.types=Re.split(VALUE_SEPARATOR).map($e=>Number($e));break}case ie.startsWith("did"):{const Re=Le=>Le.split(VALUE_SEPARATOR).map(qe=>te.get(qe)).filter(qe=>typeof qe=="string"),{auth:$e,asm:Pe,del:Me,inv:Be,agm:Ke}=DidDhtUtils.parseTxtDataToObject(G.data);$e&&(z.authentication=Re($e)),Pe&&(z.assertionMethod=Re(Pe)),Me&&(z.capabilityDelegation=Re(Me)),Be&&(z.capabilityInvocation=Re(Be)),Ke&&(z.keyAgreement=Re(Ke));break}}}return{didDocument:z,didDocumentMetadata:Q,didResolutionMetadata:{}}})}static toDnsPacket($){return __awaiter$7(this,arguments,void 0,function*({didDocument:I,didMetadata:N,authoritativeGatewayUris:L,previousDidProof:B}){var H,z,Q,te,G;const ie=[],Re=[],$e=new Map,Pe=[],Me=[];if(B!==void 0){const{signature:Le,previousDid:qe}=B;yield DidDhtUtils.validatePreviousDidProof({newDid:I.id,previousDidProof:B}),ie.push({type:"TXT",name:"_prv._did.",ttl:DNS_RECORD_TTL,data:`id=${qe};s=${Le}`})}if(I.alsoKnownAs&&ie.push({type:"TXT",name:"_aka._did.",ttl:DNS_RECORD_TTL,data:I.alsoKnownAs.join(VALUE_SEPARATOR)}),I.controller){const Le=Array.isArray(I.controller)?I.controller.join(VALUE_SEPARATOR):I.controller;ie.push({type:"TXT",name:"_cnt._did.",ttl:DNS_RECORD_TTL,data:Le})}for(const[Le,qe]of(z=(H=I.verificationMethod)===null||H===void 0?void 0:H.entries())!==null&&z!==void 0?z:[]){const He=`k${Le}`;Me.push(He);let Ge=qe.id.split("#").pop();$e.set(Ge,He);const at=qe.publicKeyJwk;if(!(at!=null&&at.crv&&at.crv in AlgorithmToKeyTypeMap$2))throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Verification method '${qe.id}' contains an unsupported key type: ${(Q=at==null?void 0:at.crv)!==null&&Q!==void 0?Q:"undefined"}`);const ot=DidDhtRegisteredKeyType$1[at.crv],Ye=yield DidDhtUtils.keyConverter(at.crv).publicKeyToBytes({publicKey:at}),nt=Convert.uint8Array(Ye).toBase64Url(),Qe=[`t=${ot}`,`k=${nt}`];Ge!=="0"&&(yield computeJwkThumbprint({jwk:at}))!==Ge&&Qe.unshift(`id=${Ge}`),at.alg!==KeyTypeToDefaultAlgorithmMap[ot]&&Qe.push(`a=${at.alg}`),qe.controller!==I.id&&Qe.push(`c=${qe.controller}`),ie.push({type:"TXT",name:`_${He}._did.`,ttl:DNS_RECORD_TTL,data:Qe.join(PROPERTY_SEPARATOR)})}(te=I.service)===null||te===void 0||te.forEach((Le,qe)=>{const He=`s${qe}`;Pe.push(He);let{id:Ge,type:at,serviceEndpoint:ot}=Le,Ye=__rest$1(Le,["id","type","serviceEndpoint"]);Ge=extractDidFragment(Ge),ot=Array.isArray(ot)?ot.join(","):ot;const Qe=Object.entries(Object.assign({id:Ge,t:at,se:ot},Ye)).map(([ze,Fe])=>`${ze}=${Fe}`).join(PROPERTY_SEPARATOR),tt=DidDhtUtils.chunkDataIfNeeded(Qe);ie.push({type:"TXT",name:`_${He}._did.`,ttl:DNS_RECORD_TTL,data:tt})});const Be=[`v=${DID_DHT_SPECIFICATION_VERSION}`];if(Me.length&&Be.push(`vm=${Me.join(VALUE_SEPARATOR)}`),Object.keys(DidVerificationRelationship$1).forEach(Le=>{var qe;const He=(qe=I[Le])===null||qe===void 0?void 0:qe.map(Ge=>$e.get(Ge.split("#").pop()));if(He){const Ge=DidDhtVerificationRelationship$1[Le];Be.push(`${Ge}=${He.join(VALUE_SEPARATOR)}`)}}),Pe.length&&Be.push(`svc=${Pe.join(VALUE_SEPARATOR)}`),!((G=N.types)===null||G===void 0)&&G.length){const qe=N.types.map(He=>typeof He=="string"?DidDhtRegisteredDidType$1[He]:He);ie.push({type:"TXT",name:"_typ._did.",ttl:DNS_RECORD_TTL,data:`id=${qe.join(VALUE_SEPARATOR)}`})}ie.push({type:"TXT",name:"_did."+DidDhtDocument.getUniqueDidSuffix(I.id)+".",ttl:DNS_RECORD_TTL,data:Be.join(PROPERTY_SEPARATOR)});for(const Le of L||[])Re.push({type:"NS",name:"_did."+DidDhtDocument.getUniqueDidSuffix(I.id)+".",ttl:DNS_RECORD_TTL,data:Le+"."});return{id:0,type:"response",flags:AUTHORITATIVE_ANSWER,answers:[...ie,...Re]}})}static getUniqueDidSuffix($){return $.split(":")[2]}}class DidDhtUtils{static createBep44PutMessage($){return __awaiter$7(this,arguments,void 0,function*({dnsPacket:I,publicKeyBytes:N,signer:L}){const B=Math.ceil(Date.now()/1e3),H=encode$c(I),z=bencode.encode({seq:B,v:H}).subarray(1,-1);if(z.length>1e3)throw new DidError(DidErrorCode$1.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${z.length} bytes`);const Q=yield L.sign({data:z});return{k:N,seq:B,sig:Q,v:H}})}static identifierToIdentityKey($){return __awaiter$7(this,arguments,void 0,function*({didUri:I}){let N=DidDhtUtils.identifierToIdentityKeyBytes({didUri:I});return yield Ed25519.bytesToPublicKey({publicKeyBytes:N})})}static identifierToIdentityKeyBytes({didUri:$}){const I=Did.parse($);if(!I)throw new DidError(DidErrorCode$1.InvalidDid,`Invalid DID URI: ${$}`);if(I.method!==DidDht.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,`Method not supported: ${I.method}`);let N;try{N=Convert.base32Z(I.id).toUint8Array()}catch{throw new DidError(DidErrorCode$1.InvalidPublicKey,"Failed to decode method-specific identifier")}if(N.length!==32)throw new DidError(DidErrorCode$1.InvalidPublicKeyLength,`Invalid public key length: ${N.length}`);return N}static identityKeyToIdentifier($){return __awaiter$7(this,arguments,void 0,function*({identityKey:I}){const N=yield Ed25519.publicKeyToBytes({publicKey:I}),L=Convert.uint8Array(N).toBase32Z();return`did:${DidDht.methodName}:${L}`})}static keyConverter($){const N={Ed25519,"P-256":{publicKeyToBytes:L=>__awaiter$7(this,[L],void 0,function*({publicKey:B}){const H=yield Secp256r1.publicKeyToBytes({publicKey:B});return yield Secp256r1.compressPublicKey({publicKeyBytes:H})}),bytesToPublicKey:Secp256r1.bytesToPublicKey,privateKeyToBytes:Secp256r1.privateKeyToBytes,bytesToPrivateKey:Secp256r1.bytesToPrivateKey},secp256k1:{publicKeyToBytes:L=>__awaiter$7(this,[L],void 0,function*({publicKey:B}){const H=yield Secp256k1.publicKeyToBytes({publicKey:B});return yield Secp256k1.compressPublicKey({publicKeyBytes:H})}),bytesToPublicKey:Secp256k1.bytesToPublicKey,privateKeyToBytes:Secp256k1.privateKeyToBytes,bytesToPrivateKey:Secp256k1.bytesToPrivateKey},X25519}[$];if(!N)throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static parseBep44GetMessage($){return __awaiter$7(this,arguments,void 0,function*({bep44Message:I}){const N=yield Ed25519.bytesToPublicKey({publicKeyBytes:I.k}),L=bencode.encode({seq:I.seq,v:I.v}).subarray(1,-1);if(!(yield Ed25519.verify({key:N,signature:I.sig,data:L})))throw new DidError(DidErrorCode$1.InvalidSignature,"Invalid signature for DHT BEP44 message");return decode$j(I.v)})}static parseTxtDataToObject($){return this.parseTxtDataToString($).split(PROPERTY_SEPARATOR).reduce((I,N)=>{const[L,B]=N.split("=");return I[L]=B,I},{})}static parseTxtDataToString($){if(typeof $=="string")return $;if($ instanceof Uint8Array)return Convert.uint8Array($).toString();if(Array.isArray($))return $.map(I=>this.parseTxtDataToString(I)).join("");throw new DidError(DidErrorCode$1.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof($){return __awaiter$7(this,arguments,void 0,function*({newDid:I,previousDidProof:N}){const L=yield DidDhtUtils.identifierToIdentityKey({didUri:N.previousDid}),B=DidDhtUtils.identifierToIdentityKeyBytes({didUri:I}),H=Convert.base64Url(N.signature).toUint8Array();if(!(yield Ed25519.verify({key:L,data:B,signature:H})))throw new DidError(DidErrorCode$1.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded($){if($.length<=255)return $;const I=[];for(let N=0;N<$.length;N+=255)I.push($.slice(N,N+255));return I}}var __awaiter$6=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},DidIonRegisteredKeyType$1;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidIonRegisteredKeyType$1||(DidIonRegisteredKeyType$1={}));const AlgorithmToKeyTypeMap$1={Ed25519:DidIonRegisteredKeyType$1.Ed25519,ES256K:DidIonRegisteredKeyType$1.secp256k1,ES256:DidIonRegisteredKeyType$1.secp256r1,"P-256":DidIonRegisteredKeyType$1.secp256r1,secp256k1:DidIonRegisteredKeyType$1.secp256k1,secp256r1:DidIonRegisteredKeyType$1.secp256r1},DEFAULT_GATEWAY_URI="https://ion.tbd.engineering";class DidIon extends DidMethod{static create(){return __awaiter$6(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager,options:I={}}={}){var N,L,B,H,z,Q,te;if(!((N=I.verificationMethods)===null||N===void 0)&&N.some(Ge=>!(Ge.algorithm in AlgorithmToKeyTypeMap$1)))throw new Error("One or more verification method algorithms are not supported");const G=(L=I.verificationMethods)===null||L===void 0?void 0:L.filter(Ge=>"id"in Ge).map(Ge=>Ge.id);if(G&&G.length!==new Set(G).size)throw new Error("One or more verification method IDs are not unique");if(!((B=I.services)===null||B===void 0)&&B.some(Ge=>!Ge.id||!Ge.type||!Ge.serviceEndpoint))throw new Error("One or more services are missing required properties");const ie={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Re=[];for(const Ge of(H=I.verificationMethods)!==null&&H!==void 0?H:[ie]){const at=yield $.generateKey({algorithm:Ge.algorithm}),ot=yield $.getPublicKey({keyUri:at});Re.push({id:Ge.id,publicKeyJwk:ot,purposes:(z=Ge.purposes)!==null&&z!==void 0?z:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const $e=yield $.generateKey({algorithm:DidIonRegisteredKeyType$1.secp256k1}),Pe=yield $.getPublicKey({keyUri:$e}),Me=yield $.generateKey({algorithm:DidIonRegisteredKeyType$1.secp256k1}),Be=yield $.getPublicKey({keyUri:Me}),Ke=yield DidIonUtils.computeLongFormDidUri({recoveryKey:Pe,updateKey:Be,services:(Q=I.services)!==null&&Q!==void 0?Q:[],verificationMethods:Re}),{didDocument:Le,didResolutionMetadata:qe}=yield DidIon.resolve(Ke,{gatewayUri:I.gatewayUri});if(Le===null)throw new Error(`Unable to resolve DID during creation: ${qe==null?void 0:qe.error}`);const He=new BearerDid({uri:Ke,document:Le,metadata:{published:!1,canonicalId:Ke.split(":",3).join(":"),recoveryKey:Pe,updateKey:Be},keyManager:$});if(!((te=I.publish)!==null&&te!==void 0)||te){const Ge=yield DidIon.publish({did:He,gatewayUri:I.gatewayUri});He.metadata=Ge.didDocumentMetadata}return He})}static getSigningMethod($){return __awaiter$6(this,arguments,void 0,function*({didDocument:I,methodId:N}){var L;const B=Did.parse(I.id);if(B&&B.method!==this.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,`Method not supported: ${B.method}`);const H=(L=I.verificationMethod)===null||L===void 0?void 0:L.find(z=>{var Q;return z.id===(N??((Q=I.assertionMethod)===null||Q===void 0?void 0:Q[0]))});if(!(H&&H.publicKeyJwk))throw new DidError(DidErrorCode$1.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static import($){return __awaiter$6(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager}){const L=Did.parse(I.uri);if((L==null?void 0:L.method)!==DidIon.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,"Method not supported");return yield BearerDid.import({portableDid:I,keyManager:N})})}static publish($){return __awaiter$6(this,arguments,void 0,function*({did:I,gatewayUri:N=DEFAULT_GATEWAY_URI}){var L,B,H;const z=(B=(L=I.document.verificationMethod)===null||L===void 0?void 0:L.map(G=>({id:G.id,publicKeyJwk:G.publicKeyJwk,purposes:getVerificationRelationshipsById({didDocument:I.document,methodId:G.id})})))!==null&&B!==void 0?B:[],Q=yield DidIonUtils.createIonDocument({services:(H=I.document.service)!==null&&H!==void 0?H:[],verificationMethods:z}),te=yield DidIonUtils.constructCreateRequest({ionDocument:Q,recoveryKey:I.metadata.recoveryKey,updateKey:I.metadata.updateKey});try{const G=DidIonUtils.appendPathToUrl({baseUrl:N,path:"/operations"}),ie=yield fetch(G,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});return{didDocument:I.document,didDocumentMetadata:Object.assign(Object.assign({},I.metadata),{published:ie.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:DidErrorCode$1.InternalError,errorMessage:`Failed to publish DID document for: ${I.uri}`}}}})}static resolve($){return __awaiter$6(this,arguments,void 0,function*(I,N={}){var L,B;const H=Did.parse(I);if(!H)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"invalidDid"}});if(H.method!==DidIon.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"methodNotSupported"}});const z=(L=N==null?void 0:N.gatewayUri)!==null&&L!==void 0?L:DEFAULT_GATEWAY_URI;try{const Q=DidIonUtils.appendPathToUrl({baseUrl:z,path:`/identifiers/${I}`}),te=yield fetch(Q);if(!te.ok)throw new DidError(DidErrorCode$1.NotFound,`Unable to find DID document for: ${I}`);const{didDocument:G,didDocumentMetadata:ie}=yield te.json();return Object.assign(Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),G&&{didDocument:G}),{didDocumentMetadata:Object.assign({published:(B=ie==null?void 0:ie.method)===null||B===void 0?void 0:B.published},ie)})}catch(Q){if(!(Q instanceof DidError))throw new Error(Q);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:Object.assign({error:Q.code},Q.message&&{errorMessage:Q.message})})}})}}DidIon.methodName="ion";class DidIonUtils{static appendPathToUrl({baseUrl:$,path:I}){const N=new URL($);return N.pathname=N.pathname.endsWith("/")?N.pathname:N.pathname+"/",N.pathname+=I.startsWith("/")?I.substring(1):I,N.toString()}static computeLongFormDidUri($){return __awaiter$6(this,arguments,void 0,function*({recoveryKey:I,updateKey:N,services:L,verificationMethods:B}){const H=yield DidIonUtils.createIonDocument({services:L,verificationMethods:B}),z=DidIonUtils.normalizeJwk(I),Q=DidIonUtils.normalizeJwk(N);return yield IonDid.createLongFormDid({document:H,recoveryKey:z,updateKey:Q})})}static constructCreateRequest($){return __awaiter$6(this,arguments,void 0,function*({ionDocument:I,recoveryKey:N,updateKey:L}){return yield IonRequest.createCreateRequest({document:I,recoveryKey:DidIonUtils.normalizeJwk(N),updateKey:DidIonUtils.normalizeJwk(L)})})}static createIonDocument($){return __awaiter$6(this,arguments,void 0,function*({services:I,verificationMethods:N}){var L,B;const H=[];for(const te of N){let G=(B=(L=te.id)!==null&&L!==void 0?L:te.publicKeyJwk.kid)!==null&&B!==void 0?B:yield computeJwkThumbprint({jwk:te.publicKeyJwk});G=`${G.split("#").pop()}`;const ie={id:G,publicKeyJwk:DidIonUtils.normalizeJwk(te.publicKeyJwk),purposes:te.purposes,type:"JsonWebKey2020"};H.push(ie)}const z=I.map(te=>Object.assign(Object.assign({},te),{id:`${te.id.split("#").pop()}`}));return{publicKeys:H,services:z}})}static normalizeJwk($){const I=$.kty;let N;if(I==="EC")N={crv:$.crv,kty:$.kty,x:$.x,y:$.y};else if(I==="oct")N={k:$.k,kty:$.kty};else if(I==="OKP")N={crv:$.crv,kty:$.kty,x:$.x};else if(I==="RSA")N={e:$.e,kty:$.kty,n:$.n};else throw new Error(`Unsupported key type: ${I}`);return N}}var __awaiter$5=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};class DidJwk extends DidMethod{static create(){return __awaiter$5(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager,options:I={}}={}){var N,L,B,H;if(I.algorithm&&I.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(I.verificationMethods&&I.verificationMethods.length!==1)throw new Error("The 'verificationMethods' option must contain exactly one entry");const z=(H=(N=I.algorithm)!==null&&N!==void 0?N:(B=(L=I.verificationMethods)===null||L===void 0?void 0:L[0])===null||B===void 0?void 0:B.algorithm)!==null&&H!==void 0?H:"Ed25519",Q=yield $.generateKey({algorithm:z}),te=yield $.getPublicKey({keyUri:Q}),G=Convert.object(te).toBase64Url(),ie=`did:${DidJwk.methodName}:${G}`,$e=(yield DidJwk.resolve(ie)).didDocument;return new BearerDid({uri:ie,document:$e,metadata:{},keyManager:$})})}static getSigningMethod($){return __awaiter$5(this,arguments,void 0,function*({didDocument:I}){var N;const L=Did.parse(I.id);if(L&&L.method!==this.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,`Method not supported: ${L.method}`);const[B]=(N=I.verificationMethod)!==null&&N!==void 0?N:[];if(!(B&&B.publicKeyJwk))throw new DidError(DidErrorCode$1.InternalError,"A verification method intended for signing could not be determined from the DID Document");return B})}static import($){return __awaiter$5(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager}){const L=Did.parse(I.uri);if((L==null?void 0:L.method)!==DidJwk.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,"Method not supported");const B=yield BearerDid.import({portableDid:I,keyManager:N});if(B.document.verificationMethod.length!==1)throw new DidError(DidErrorCode$1.InvalidDidDocument,"DID document must contain exactly one verification method");return B})}static resolve($,I){return __awaiter$5(this,void 0,void 0,function*(){const N=Did.parse($);let L;try{L=Convert.base64Url(N.id).toObject()}catch{}if(!N||!L)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"invalidDid"}});if(N.method!==DidJwk.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"methodNotSupported"}});const B={"@context":["https://www.w3.org/ns/did/v1"],id:N.uri},H=`${B.id}#0`;switch(B.verificationMethod=[{id:H,type:"JsonWebKey",controller:B.id,publicKeyJwk:L}],B.authentication=[H],B.assertionMethod=[H],B.capabilityInvocation=[H],B.capabilityDelegation=[H],B.keyAgreement=[H],L.use){case"sig":{delete B.keyAgreement;break}case"enc":{delete B.authentication,delete B.assertionMethod,delete B.capabilityInvocation,delete B.capabilityDelegation;break}}return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didDocument:B})})}}DidJwk.methodName="jwk";var __awaiter$4=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})},DidKeyRegisteredKeyType$1;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidKeyRegisteredKeyType$1||(DidKeyRegisteredKeyType$1={}));const DidKeyVerificationMethodType={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},AlgorithmToKeyTypeMap={Ed25519:DidKeyRegisteredKeyType$1.Ed25519,ES256K:DidKeyRegisteredKeyType$1.secp256k1,ES256:DidKeyRegisteredKeyType$1.secp256r1,"P-256":DidKeyRegisteredKeyType$1.secp256r1,secp256k1:DidKeyRegisteredKeyType$1.secp256k1,secp256r1:DidKeyRegisteredKeyType$1.secp256r1,X25519:DidKeyRegisteredKeyType$1.X25519};class DidKey extends DidMethod{static create(){return __awaiter$4(this,arguments,void 0,function*({keyManager:$=new LocalKeyManager,options:I={}}={}){var N,L,B,H;if(I.algorithm&&I.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(I.verificationMethods&&I.verificationMethods.length!==1)throw new Error("The 'verificationMethods' option must contain exactly one entry");const z=(H=(N=I.algorithm)!==null&&N!==void 0?N:(B=(L=I.verificationMethods)===null||L===void 0?void 0:L[0])===null||B===void 0?void 0:B.algorithm)!==null&&H!==void 0?H:"Ed25519",Q=yield $.generateKey({algorithm:z}),te=yield $.getPublicKey({keyUri:Q}),G=yield DidKeyUtils.publicKeyToMultibaseId({publicKey:te}),ie=`did:${DidKey.methodName}:${G}`,$e=(yield DidKey.resolve(ie,I)).didDocument;return new BearerDid({uri:ie,document:$e,metadata:{},keyManager:$})})}static getSigningMethod($){return __awaiter$4(this,arguments,void 0,function*({didDocument:I}){var N;const L=Did.parse(I.id);if(L&&L.method!==this.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,`Method not supported: ${L.method}`);const[B]=I.assertionMethod||[],H=(N=I.verificationMethod)===null||N===void 0?void 0:N.find(z=>z.id===B);if(!(H&&H.publicKeyJwk))throw new DidError(DidErrorCode$1.InternalError,"A verification method intended for signing could not be determined from the DID Document");return H})}static import($){return __awaiter$4(this,arguments,void 0,function*({portableDid:I,keyManager:N=new LocalKeyManager}){const L=Did.parse(I.uri);if((L==null?void 0:L.method)!==DidKey.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,"Method not supported");const B=yield BearerDid.import({portableDid:I,keyManager:N});if(B.document.verificationMethod.length!==1)throw new DidError(DidErrorCode$1.InvalidDidDocument,"DID document must contain exactly one verification method");return B})}static resolve($,I){return __awaiter$4(this,void 0,void 0,function*(){try{const N=yield DidKey.createDocument({didUri:$,options:I});return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didDocument:N})}catch(N){if(!(N instanceof DidError))throw new Error(N);return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:Object.assign({error:N.code},N.message&&{errorMessage:N.message})})}})}static createDocument($){return __awaiter$4(this,arguments,void 0,function*({didUri:I,options:N={}}){const{defaultContext:L="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:B=!1,enableExperimentalPublicKeyTypes:H=!1,publicKeyFormat:z="JsonWebKey2020"}=N,Q={id:""},te=Did.parse(I);if(!te)throw new DidError(DidErrorCode$1.InvalidDid,`Invalid DID URI: ${I}`);const G=te.id;if(te.method!==DidKey.methodName)throw new DidError(DidErrorCode$1.MethodNotSupported,`Method not supported: ${te.method}`);if(!DidKey.validateIdentifier(te))throw new DidError(DidErrorCode$1.InvalidDid,`Invalid DID URI: ${I}`);const ie=yield DidKey.createSignatureMethod({didUri:I,multibaseValue:G,options:{enableExperimentalPublicKeyTypes:H,publicKeyFormat:z}});if(Q.id=te.uri,Q.verificationMethod=[ie],Q.authentication=[ie.id],Q.assertionMethod=[ie.id],Q.capabilityInvocation=[ie.id],Q.capabilityDelegation=[ie.id],B===!0){const Pe=z==="Ed25519VerificationKey2020"?"X25519KeyAgreementKey2020":"JsonWebKey2020",Me=yield this.createEncryptionMethod({didUri:I,multibaseValue:G,options:{enableExperimentalPublicKeyTypes:H,publicKeyFormat:Pe}});Q.verificationMethod.push(Me),Q.keyAgreement=[Me.id]}const Re=[L];return getVerificationMethodTypes({didDocument:Q}).forEach(Pe=>{const Me=DidKeyVerificationMethodType[Pe];Re.push(Me)}),Q["@context"]=Re,Q})}static createEncryptionMethod($){return __awaiter$4(this,arguments,void 0,function*({didUri:I,multibaseValue:N,options:L}){const{enableExperimentalPublicKeyTypes:B,publicKeyFormat:H}=L,z={id:"",type:"",controller:""},{keyBytes:Q,multicodecCode:te}=yield DidKey.deriveEncryptionKey({multibaseValue:N}),G=Q.byteLength,ie=DidKeyUtils.MULTICODEC_PUBLIC_KEY_LENGTH[te];if(G!==ie)throw new DidError(DidErrorCode$1.InvalidPublicKeyLength,`Expected ${G} bytes. Actual: ${ie}`);const Re=keyBytesToMultibaseId({keyBytes:Q,multicodecCode:te});z.id=`${I}#${Re}`;try{new URL(z.id)}catch{throw new DidError(DidErrorCode$1.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(H in DidKeyVerificationMethodType))throw new DidError(DidErrorCode$1.UnsupportedPublicKeyType,`Unsupported format: ${H}`);if(B===!1&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(H))throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Specified '${H}' without setting enableExperimentalPublicKeyTypes to true.`);if(z.type=H,z.controller=I,H==="X25519KeyAgreementKey2020"&&(z.publicKeyMultibase=Re),H==="JsonWebKey2020"){const{crv:Pe}=yield DidKeyUtils.multicodecToJwk({code:te});z.publicKeyJwk=yield DidKeyUtils.keyConverter(Pe).bytesToPublicKey({publicKeyBytes:Q})}return z})}static createSignatureMethod($){return __awaiter$4(this,arguments,void 0,function*({didUri:I,multibaseValue:N,options:L}){const{enableExperimentalPublicKeyTypes:B,publicKeyFormat:H}=L,z={id:"",type:"",controller:""},{keyBytes:Q,multicodecCode:te,multicodecName:G}=multibaseIdToKeyBytes({multibaseKeyId:N}),ie=Q.byteLength,Re=DidKeyUtils.MULTICODEC_PUBLIC_KEY_LENGTH[te];if(ie!==Re)throw new DidError(DidErrorCode$1.InvalidPublicKeyLength,`Expected ${ie} bytes. Actual: ${Re}`);let $e=!1;switch(G){case"secp256k1-pub":$e=yield Secp256k1.validatePublicKey({publicKeyBytes:Q});break;case"ed25519-pub":$e=yield Ed25519.validatePublicKey({publicKeyBytes:Q});break;case"x25519-pub":$e=!0;break}if(!$e)throw new DidError(DidErrorCode$1.InvalidPublicKey,"Invalid public key detected.");z.id=`${I}#${N}`;try{new URL(z.id)}catch{throw new DidError(DidErrorCode$1.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(H in DidKeyVerificationMethodType))throw new DidError(DidErrorCode$1.UnsupportedPublicKeyType,`Unsupported format: ${H}`);if(B===!1&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(H))throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Specified '${H}' without setting enableExperimentalPublicKeyTypes to true.`);if(z.type=H,z.controller=I,H==="Ed25519VerificationKey2020"&&(z.publicKeyMultibase=N),H==="JsonWebKey2020"){const{crv:Me}=yield DidKeyUtils.multicodecToJwk({code:te});z.publicKeyJwk=yield DidKeyUtils.keyConverter(Me).bytesToPublicKey({publicKeyBytes:Q})}return z})}static deriveEncryptionKey($){return __awaiter$4(this,arguments,void 0,function*({multibaseValue:I}){let N={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:L,multicodecCode:B}=multibaseIdToKeyBytes({multibaseKeyId:I});if(B===237){const H=yield DidKeyUtils.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:L}),z=yield Ed25519.convertPublicKeyToX25519({publicKey:H});N={keyBytes:yield DidKeyUtils.keyConverter("Ed25519").publicKeyToBytes({publicKey:z}),multicodecCode:236}}return N})}static validateIdentifier($){const{method:I,id:N}=$,[L]=$.uri.split(":",1);return L==="did"&&I==="key"&&Number("1")>0&&universalTypeOf(N)==="String"&&N.startsWith("z")}}DidKey.methodName="key";class DidKeyUtils{static jwkToMulticodec($){return __awaiter$4(this,arguments,void 0,function*({jwk:I}){const N=[];I.crv&&(N.push(I.crv),I.d?N.push("private"):N.push("public"));const L=N.join(":"),B=DidKeyUtils.JWK_TO_MULTICODEC[L];if(B===void 0)throw new Error(`Unsupported JWK to Multicodec conversion: '${L}'`);return{code:Multicodec$1.getCodeFromName({name:B}),name:B}})}static keyCompressor($){const N={"P-256":Secp256r1.compressPublicKey,secp256k1:Secp256k1.compressPublicKey}[$];if(!N)throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static keyConverter($){const N={Ed25519,"P-256":Secp256r1,secp256k1:Secp256k1,X25519}[$];if(!N)throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Unsupported curve: ${$}`);return N}static multicodecToJwk($){return __awaiter$4(this,arguments,void 0,function*({code:I,name:N}){if(!(N?!I:I))throw new Error("Either 'name' or 'code' must be defined, but not both.");N=N===void 0?Multicodec$1.getNameFromCode({code:I}):N;const L=N,B=DidKeyUtils.MULTICODEC_TO_JWK[L];if(B===void 0)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},B)})}static publicKeyToMultibaseId($){return __awaiter$4(this,arguments,void 0,function*({publicKey:I}){var N;if(!(I!=null&&I.crv&&I.crv in AlgorithmToKeyTypeMap))throw new DidError(DidErrorCode$1.InvalidPublicKeyType,`Public key contains an unsupported key type: ${(N=I==null?void 0:I.crv)!==null&&N!==void 0?N:"undefined"}`);let L=yield DidKeyUtils.keyConverter(I.crv).publicKeyToBytes({publicKey:I});/^(secp256k1|P-256|P-384|P-521)$/.test(I.crv)&&(L=yield DidKeyUtils.keyCompressor(I.crv)({publicKeyBytes:L}));const{name:B}=yield DidKeyUtils.jwkToMulticodec({jwk:I});return keyBytesToMultibaseId({keyBytes:L,multicodecName:B})})}}DidKeyUtils.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"};DidKeyUtils.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32};DidKeyUtils.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}};var __awaiter$3=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class DidWeb extends DidMethod{static resolve($,I){return __awaiter$3(this,void 0,void 0,function*(){const N=Did.parse($);if(!N)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"invalidDid"}});if(N.method!==DidWeb.methodName)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"methodNotSupported"}});let L=`https://${N.id.replace(/:/g,"/")}`;L=decodeURIComponent(L);const B=N.id.includes(":")?`${L}/did.json`:`${L}/.well-known/did.json`;try{const H=yield fetch(B);if(!H.ok)throw new Error("HTTP error status code returned");const z=yield H.json();return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didDocument:z})}catch{return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:"notFound"}})}})}}DidWeb.methodName="web";const DidResolverCacheNoop={get:function(T){return null},set:function(T,$){return null},delete:function(T){return null},clear:function(){return null},close:function(){return null}};var __awaiter$2=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};class UniversalResolver{constructor({cache:$,didResolvers:I}){this.didResolvers=new Map,this.cache=$||DidResolverCacheNoop;for(const N of I)this.didResolvers.set(N.methodName,N)}resolve($,I){return __awaiter$2(this,void 0,void 0,function*(){const N=Did.parse($);if(!N)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:DidErrorCode$1.InvalidDid,errorMessage:`Invalid DID URI: ${$}`}});const L=this.didResolvers.get(N.method);if(!L)return Object.assign(Object.assign({},EMPTY_DID_RESOLUTION_RESULT),{didResolutionMetadata:{error:DidErrorCode$1.MethodNotSupported,errorMessage:`Method not supported: ${N.method}`}});const B=yield this.cache.get(N.uri);if(B)return B;{const H=yield L.resolve(N.uri,I);return H.didResolutionMetadata.error||(yield this.cache.set(N.uri,H)),H}})}dereference($,I){return __awaiter$2(this,void 0,void 0,function*(){const N=Did.parse($);if(!N)return{dereferencingMetadata:{error:DidErrorCode$1.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:L,didResolutionMetadata:B,didDocumentMetadata:H}=yield this.resolve(N.uri);if(!L)return{dereferencingMetadata:{error:B.error},contentStream:null,contentMetadata:{}};if(!N.fragment||N.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:L,contentMetadata:H};const{service:z=[],verificationMethod:Q=[]}=L,te=new Set([$,N.fragment,`#${N.fragment}`]);let G;for(let ie of Q)if(te.has(ie.id)){G=ie;break}for(let ie of z)if(te.has(ie.id)){G=ie;break}return G?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:G,contentMetadata:B}:{dereferencingMetadata:{error:DidErrorCode$1.NotFound},contentStream:null,contentMetadata:{}}})}}var __awaiter$1=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,[])).next())})};const crypto$1=new LocalKeyManager$2;class Jwt{static sign($){return __awaiter$1(this,void 0,void 0,function*(){const{signerDid:I,payload:N}=$,L=yield I.getSigner();let B=L.keyId;B.charAt(0)==="#"&&(B=`${I.uri}${B}`);const H={typ:"JWT",alg:L.algorithm,kid:B},z=Convert$1.object(H).toBase64Url(),Q=Convert$1.object(N).toBase64Url(),te=`${z}.${Q}`,G=Convert$1.string(te).toUint8Array(),ie=yield L.sign({data:G}),Re=Convert$1.uint8Array(ie).toBase64Url();return`${te}.${Re}`})}static verify($){return __awaiter$1(this,void 0,void 0,function*(){const{decoded:I,encoded:N}=Jwt.parse({jwt:$.jwt});if(I.payload.exp&&Math.floor(Date.now()/1e3)>I.payload.exp)throw new Error("Verification failed: JWT is expired");const L=yield Jwt.didResolver.dereference(I.header.kid);if(L.dereferencingMetadata.error)throw new Error(`Failed to resolve ${I.header.kid}`);const B=L.contentStream;if(!B||!isDidVerificationMethod(B))throw new Error("Verification failed: Expected kid in JWT header to dereference a DID Document Verification Method");const H=B.publicKeyJwk;if(!H)throw new Error("Verification failed: Expected kid in JWT header to dereference to a DID Document Verification Method with publicKeyJwk");if(H.alg&&H.alg!==I.header.alg)throw new Error("Verification failed: Expected alg in JWT header to match DID Document Verification Method alg");const z=`${N.header}.${N.payload}`,Q=Convert$1.string(z).toUint8Array(),te=Convert$1.base64Url(N.signature).toUint8Array();if(!(yield crypto$1.verify({key:H,signature:te,data:Q})))throw new Error("Signature verification failed: Integrity mismatch");return I})}static parse($){const I=$.jwt.split(".");if(I.length!==3)throw new Error(`Verification failed: Malformed JWT. expected 3 parts. got ${I.length}`);const[N,L,B]=I;let H,z;try{H=Convert$1.base64Url(N).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT header")}if(!H.typ||H.typ!=="JWT")throw new Error("Verification failed: Expected JWT header to contain typ property set to JWT");if(!H.alg||!H.kid)throw new Error("Verification failed: Expected JWT header to contain alg and kid");try{z=Convert$1.base64Url(L).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT payload")}return{decoded:{header:H,payload:z},encoded:{header:N,payload:L,signature:B}}}}Jwt.didResolver=new UniversalResolver({didResolvers:[DidDht,DidIon,DidKey,DidJwk,DidWeb]});const Status$1={INFO:"info",WARN:"warn",ERROR:"error"},Checked=class{constructor(T,$,I){Dr(this,"tag");Dr(this,"status");Dr(this,"message");this.tag=T,this.status=$,this.message=I}},hasErrors=T=>{function $(I){return I.status===Status$1.ERROR}return T.filter(I=>$(I)).length>0};var dist$2={},types$9={},did$2={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.parseDid=T.IProofType=T.IProofPurpose=void 0,function(N){N.verificationMethod="verificationMethod",N.assertionMethod="assertionMethod",N.authentication="authentication",N.keyAgreement="keyAgreement",N.contractAgreement="contactAgreement",N.capabilityInvocation="capabilityInvocation",N.capabilityDelegation="capabilityDelegation"}(T.IProofPurpose||(T.IProofPurpose={})),function(N){N.Ed25519Signature2018="Ed25519Signature2018",N.Ed25519Signature2020="Ed25519Signature2020",N.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",N.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",N.JsonWebSignature2020="JsonWebSignature2020",N.RsaSignature2018="RsaSignature2018",N.GpgSignature2020="GpgSignature2020",N.JcsEd25519Signature2020="JcsEd25519Signature2020",N.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",N.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",N.JwtProof2020="JwtProof2020"}(T.IProofType||(T.IProofType={}));const $=N=>{const L=I(N);if(L===null)throw new Error("invalid did");return L};T.parseDid=$;const I=N=>{const B="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",H="([a-z0-9]+)",z=`((?:${B}*:)*(${B}+))`,Q="[a-zA-Z0-9_.:%-]",G=`((${`;${Q}+=${Q}*`})*)`,ie="(/[^#?]*)?",Re="([?][^#]*)?",$e="(#.*)?",Pe=new RegExp(`^did:${H}:${z}${G}${ie}${Re}${$e}$`);if(N===""||!N)return null;const Me=N.match(Pe);if(Me){const Be={did:`did:${Me[1]}:${Me[2]}`,method:Me[1],id:Me[2],didUrl:N};if(Me[4]){const Ke=Me[4].slice(1).split(";");Be.params={};for(const Le of Ke){const qe=Le.split("=");Be.params[qe[0]]=qe[1]}}return Me[6]&&(Be.path=Me[6]),Me[7]&&(Be.query=Me[7].slice(1)),Me[8]&&(Be.fragment=Me[8].slice(1)),Be}return null}})(did$2);const did=getDefaultExportFromCjs$1(did$2),did$1=_mergeNamespaces({__proto__:null,default:did},[did$2]);var pex$1={};Object.defineProperty(pex$1,"__esModule",{value:!0});const pex=_mergeNamespaces({__proto__:null,default:pex$1},[pex$1]);var vc$2={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.JWT_PROOF_TYPE_2020=T.DocumentFormat=T.OriginalType=void 0,function($){$.JSONLD="json-ld",$.JWT_ENCODED="jwt-encoded",$.JWT_DECODED="jwt-decoded"}(T.OriginalType||(T.OriginalType={})),function($){$[$.JWT=0]="JWT",$[$.JSONLD=1]="JSONLD",$[$.EIP712=2]="EIP712"}(T.DocumentFormat||(T.DocumentFormat={})),T.JWT_PROOF_TYPE_2020="JwtProof2020"})(vc$2);const vc=getDefaultExportFromCjs$1(vc$2),vc$1=_mergeNamespaces({__proto__:null,default:vc},[vc$2]);var generic$1={};Object.defineProperty(generic$1,"__esModule",{value:!0});const generic=_mergeNamespaces({__proto__:null,default:generic$1},[generic$1]);(function(T){var $=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(N,L,B,H){H===void 0&&(H=B);var z=Object.getOwnPropertyDescriptor(L,B);(!z||("get"in z?!L.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return L[B]}}),Object.defineProperty(N,H,z)}:function(N,L,B,H){H===void 0&&(H=B),N[H]=L[B]}),I=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(N,L){for(var B in N)B!=="default"&&!Object.prototype.hasOwnProperty.call(L,B)&&$(L,N,B)};Object.defineProperty(T,"__esModule",{value:!0}),I(did$1,T),I(pex,T),I(vc$1,T),I(generic,T)})(types$9);const index$K=getDefaultExportFromCjs$1(types$9),types$8=_mergeNamespaces({__proto__:null,default:index$K},[types$9]);var utils$B={},object$1={};Object.defineProperty(object$1,"__esModule",{value:!0});var ObjectUtils_1=object$1.ObjectUtils=void 0;let ObjectUtils$1=class Vf{static asArray($){return Array.isArray($)?$:[$]}static isObject($){return Object.prototype.toString.call($)==="[object Object]"}static isUrlAbsolute($){const I=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Vf.isString($)&&I.test($)}static isString($){return typeof $=="string"||Object.prototype.toString.call($)==="[object String]"}};ObjectUtils_1=object$1.ObjectUtils=ObjectUtils$1;const object=_mergeNamespaces({__proto__:null,get ObjectUtils(){return ObjectUtils_1},default:object$1},[object$1]);(function(T){var $=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(N,L,B,H){H===void 0&&(H=B);var z=Object.getOwnPropertyDescriptor(L,B);(!z||("get"in z?!L.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return L[B]}}),Object.defineProperty(N,H,z)}:function(N,L,B,H){H===void 0&&(H=B),N[H]=L[B]}),I=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(N,L){for(var B in N)B!=="default"&&!Object.prototype.hasOwnProperty.call(L,B)&&$(L,N,B)};Object.defineProperty(T,"__esModule",{value:!0}),I(object,T)})(utils$B);const index$J=getDefaultExportFromCjs$1(utils$B),utils$A=_mergeNamespaces({__proto__:null,default:index$J},[utils$B]);var mapper$1={},credentialMapper$1={};function e(T){this.message=T}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r$1=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(T){var $=String(T).replace(/=+$/,"");if($.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var I,N,L=0,B=0,H="";N=$.charAt(B++);~N&&(I=L%4?64*I+N:N,L++%4)?H+=String.fromCharCode(255&I>>(-2*L&6)):0)N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(N);return H};function t(T){var $=T.replace(/-/g,"+").replace(/_/g,"/");switch($.length%4){case 0:break;case 2:$+="==";break;case 3:$+="=";break;default:throw"Illegal base64url string!"}try{return function(I){return decodeURIComponent(r$1(I).replace(/(.)/g,function(N,L){var B=L.charCodeAt(0).toString(16).toUpperCase();return B.length<2&&(B="0"+B),"%"+B}))}($)}catch{return r$1($)}}function n(T){this.message=T}function o(T,$){if(typeof T!="string")throw new n("Invalid token specified");var I=($=$||{}).header===!0?0:1;try{return JSON.parse(t(T.split(".")[I]))}catch(N){throw new n("Invalid token specified: "+N.message)}}n.prototype=new Error,n.prototype.name="InvalidTokenError";const jwtDecode_esm=Object.freeze(Object.defineProperty({__proto__:null,InvalidTokenError:n,default:o},Symbol.toStringTag,{value:"Module"}));var __rest=commonjsGlobal$2&&commonjsGlobal$2.__rest||function(T,$){var I={};for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&$.indexOf(N)<0&&(I[N]=T[N]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,N=Object.getOwnPropertySymbols(T);L<N.length;L++)$.indexOf(N[L])<0&&Object.prototype.propertyIsEnumerable.call(T,N[L])&&(I[N[L]]=T[N[L]]);return I},__importDefault=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(credentialMapper$1,"__esModule",{value:!0});var CredentialMapper_1=credentialMapper$1.CredentialMapper=void 0;const types_1$2=types$8,jwt_decode_1=__importDefault(jwtDecode_esm),utils_1=utils$A;class CredentialMapper{static decodeVerifiablePresentation($){var I;if(CredentialMapper.isJwtEncoded($)){const N=(0,jwt_decode_1.default)($),L=(0,jwt_decode_1.default)($,{header:!0});return N.vp.proof={type:types_1$2.IProofType.JwtProof2020,created:N.nbf,proofPurpose:types_1$2.IProofPurpose.authentication,verificationMethod:(I=L.kid)!==null&&I!==void 0?I:N.iss,jwt:$},N}else return CredentialMapper.isJwtDecodedPresentation($)?$:CredentialMapper.isJsonLdAsString($)?JSON.parse($):$}static decodeVerifiableCredential($){var I;if(CredentialMapper.isJwtEncoded($)){const N=(0,jwt_decode_1.default)($),L=(0,jwt_decode_1.default)($,{header:!0});return N.vc.proof={type:types_1$2.IProofType.JwtProof2020,created:N.nbf,proofPurpose:types_1$2.IProofPurpose.authentication,verificationMethod:(I=L.kid)!==null&&I!==void 0?I:N.iss,jwt:$},N}else return CredentialMapper.isJwtDecodedCredential($)?$:CredentialMapper.isJsonLdAsString($)?JSON.parse($):$}static toWrappedVerifiablePresentation($,I){const N=CredentialMapper.getFirstProof($),L=typeof $!="string"&&CredentialMapper.hasJWTProofType($)?N==null?void 0:N.jwt:$;if(!L)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const B=CredentialMapper.decodeVerifiablePresentation(L),H=CredentialMapper.isJwtEncoded(L),z=CredentialMapper.isJwtDecodedPresentation(L),Q=H?types_1$2.OriginalType.JWT_ENCODED:z?types_1$2.OriginalType.JWT_DECODED:types_1$2.OriginalType.JSONLD,te=z||H?"jwt_vp":"ldp_vp";let G;if(H||z?G=CredentialMapper.jwtDecodedPresentationToUniformPresentation(B,!1,I):G=B,!G||!("verifiableCredential"in G)||!G.verifiableCredential||G.verifiableCredential.length===0)throw Error("VP needs to have at least one verifiable credential at this point");const ie=CredentialMapper.toWrappedVerifiableCredentials(G.verifiableCredential,I),Re=Object.assign(Object.assign({},G),{verifiableCredential:ie});return{type:Q,format:te,original:L,decoded:B,presentation:Re,vcs:ie}}static toWrappedVerifiableCredentials($,I){return $.map(N=>CredentialMapper.toWrappedVerifiableCredential(N,I))}static toWrappedVerifiableCredential($,I){var N;const L=CredentialMapper.getFirstProof($),B=CredentialMapper.hasJWTProofType($)&&L&&(N=L.jwt)!==null&&N!==void 0?N:$;if(!B)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const H=CredentialMapper.decodeVerifiableCredential(B),z=CredentialMapper.isJwtEncoded(B),Q=CredentialMapper.isJwtDecodedCredential(B),te=z?types_1$2.OriginalType.JWT_ENCODED:Q?types_1$2.OriginalType.JWT_DECODED:types_1$2.OriginalType.JSONLD,G=z||Q?CredentialMapper.jwtDecodedCredentialToUniformCredential(H,I):H;return{original:B,decoded:H,format:z||Q?"jwt_vc":"ldp_vc",type:te,credential:G}}static isJwtEncoded($){return utils_1.ObjectUtils.isString($)&&$.startsWith("ey")}static isJsonLdAsString($){return utils_1.ObjectUtils.isString($)&&$.includes("@context")}static isJwtDecodedCredential($){return $.vc!==void 0&&$.iss!==void 0}static isJwtDecodedPresentation($){return $.vp!==void 0&&$.iss!==void 0}static jwtEncodedPresentationToUniformPresentation($,I=!0,N){return CredentialMapper.jwtDecodedPresentationToUniformPresentation((0,jwt_decode_1.default)($),I,N)}static jwtDecodedPresentationToUniformPresentation($,I=!0,N){const{iss:L,aud:B,jti:H,vp:z}=$,Q=__rest($,["iss","aud","jti","vp"]),te=Object.assign(Object.assign({},Q),z);if(I){if(!z.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");te.verifiableCredential=z.verifiableCredential.map(G=>CredentialMapper.toUniformCredential(G,N))}if(L){const G=te.holder;if(G&&G!==L)throw new Error(`Inconsistent holders between JWT claim (${L}) and VC value (${G})`);te.holder=L}if(B){const G=te.verifier;if(G&&G!==B)throw new Error(`Inconsistent holders between JWT claim (${B}) and VC value (${G})`);te.verifier=B}if(H){const G=te.id;if(G&&G!==H)throw new Error(`Inconsistent VP ids between JWT claim (${H}) and VP value (${G})`);te.id=H}return te}static toUniformCredential($,I){var N;const L=typeof $!="string"&&CredentialMapper.hasJWTProofType($)?(N=CredentialMapper.getFirstProof($))===null||N===void 0?void 0:N.jwt:$;if(!L)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const B=CredentialMapper.decodeVerifiableCredential(L),H=CredentialMapper.isJwtEncoded(L);return CredentialMapper.isJwtDecodedCredential(L)||H?CredentialMapper.jwtDecodedCredentialToUniformCredential(B,I):B}static toUniformPresentation($,I){var N;const L=CredentialMapper.getFirstProof($),B=typeof $!="string"&&CredentialMapper.hasJWTProofType($)?L==null?void 0:L.jwt:$;if(!B)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const H=CredentialMapper.decodeVerifiablePresentation(B),z=CredentialMapper.isJwtEncoded(B),Q=CredentialMapper.isJwtDecodedPresentation(B),te=z||Q?CredentialMapper.jwtDecodedPresentationToUniformPresentation(H,!1):H;return I!=null&&I.addContextIfMissing&&!te["@context"]&&(te["@context"]=["https://www.w3.org/2018/credentials/v1"]),te.verifiableCredential=(N=te.verifiableCredential)===null||N===void 0?void 0:N.map(G=>CredentialMapper.toUniformCredential(G,I)),te}static jwtEncodedCredentialToUniformCredential($,I){return CredentialMapper.jwtDecodedCredentialToUniformCredential((0,jwt_decode_1.default)($),I)}static jwtDecodedCredentialToUniformCredential($,I){const{exp:N,nbf:L,iss:B,vc:H,sub:z,jti:Q}=$,te=__rest($,["exp","nbf","iss","vc","sub","jti"]),G=Object.assign(Object.assign({},te),H),ie=(I==null?void 0:I.maxTimeSkewInMS)!==void 0?I.maxTimeSkewInMS:999;if(N){const Re=G.expirationDate,$e=parseInt(N.toString()),Pe=$e<9999999999?new Date($e*1e3).toISOString().replace(/\.000Z/,"Z"):new Date($e).toISOString();if(Re&&Re!==Pe){const Me=Math.abs(new Date(Pe).getTime()-new Date(Re).getTime());if(!ie||Me>ie)throw new Error(`Inconsistent expiration dates between JWT claim (${Pe}) and VC value (${Re})`)}G.expirationDate=Pe}if(L){const Re=G.issuanceDate,$e=parseInt(L.toString()),Pe=$e<9999999999?new Date($e*1e3).toISOString().replace(/\.000Z/,"Z"):new Date($e).toISOString();if(Re&&Re!==Pe){const Me=Math.abs(new Date(Pe).getTime()-new Date(Re).getTime());if(!ie||Me>ie)throw new Error(`Inconsistent issuance dates between JWT claim (${Pe}) and VC value (${Re})`)}G.issuanceDate=Pe}if(B){const Re=G.issuer;if(Re){if(typeof Re=="string"){if(Re!==B)throw new Error(`Inconsistent issuers between JWT claim (${B}) and VC value (${Re})`)}else if(Re.id!==B)throw new Error(`Inconsistent issuers between JWT claim (${B}) and VC value (${Re.id})`)}else G.issuer=B}if(z){const Re=Array.isArray(G.credentialSubject)?G.credentialSubject:[G.credentialSubject];for(let $e=0;$e<Re.length;$e++){const Pe=Re[$e].id;if(Pe&&Pe!==z)throw new Error(`Inconsistent credential subject ids between JWT claim (${z}) and VC value (${Pe})`);Array.isArray(G.credentialSubject)?G.credentialSubject[$e].id=z:G.credentialSubject.id=z}}if(Q){const Re=G.id;if(Re&&Re!==Q)throw new Error(`Inconsistent credential ids between JWT claim (${Q}) and VC value (${Re})`);G.id=Q}return G}static toExternalVerifiableCredential($){let I;if($.proof){if(!$.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!$.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!$.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!$.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");I=Object.assign(Object.assign({},$.proof),{type:$.proof.type,created:$.proof.created,proofPurpose:$.proof.proofPurpose,verificationMethod:$.proof.verificationMethod})}return Object.assign(Object.assign({},$),{type:$.type?typeof $.type=="string"?[$.type]:$.type:["VerifiableCredential"],proof:I})}static storedCredentialToOriginalFormat($){const I=CredentialMapper.detectDocumentType($);if(typeof $=="string"){if(I===0)return CredentialMapper.toCompactJWT($);if(I===1)return JSON.parse($)}return $}static storedPresentationToOriginalFormat($){const I=CredentialMapper.detectDocumentType($);if(typeof $=="string"){if(I===0)return CredentialMapper.toCompactJWT($);if(I===1)return JSON.parse($)}return $}static toCompactJWT($){if(!$||CredentialMapper.detectDocumentType($)!==0)throw Error("Cannot convert non JWT credential to JWT");if(typeof $=="string")return $;let I;if("vp"in $?I=$.vp.proof:"vc"in $?I=$.vc.proof:I=Array.isArray($.proof)?$.proof[0].jwt:$.proof.jwt,!I)throw Error("Could not get JWT from supplied document");return I}static detectDocumentType($){if(typeof $=="string")return this.isJsonLdAsString($)?1:0;const I="vc"in $?$.vc.proof:"vp"in $?$.vp.proof:$.proof,N=Array.isArray(I)?I[0]:I;return N!=null&&N.jwt?0:(N==null?void 0:N.type)==="EthereumEip712Signature2021"?2:1}static hasJWTProofType($){var I;return typeof $=="string"?!1:!!(!((I=CredentialMapper.getFirstProof($))===null||I===void 0)&&I.jwt)}static getFirstProof($){if(!$||typeof $=="string")return;const I="vc"in $?$.vc.proof:"vp"in $?$.vp.proof:$.proof;return Array.isArray(I)?I[0]:I}}CredentialMapper_1=credentialMapper$1.CredentialMapper=CredentialMapper;const credentialMapper=_mergeNamespaces({__proto__:null,get CredentialMapper(){return CredentialMapper_1},default:credentialMapper$1},[credentialMapper$1]);(function(T){var $=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(N,L,B,H){H===void 0&&(H=B);var z=Object.getOwnPropertyDescriptor(L,B);(!z||("get"in z?!L.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return L[B]}}),Object.defineProperty(N,H,z)}:function(N,L,B,H){H===void 0&&(H=B),N[H]=L[B]}),I=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(N,L){for(var B in N)B!=="default"&&!Object.prototype.hasOwnProperty.call(L,B)&&$(L,N,B)};Object.defineProperty(T,"__esModule",{value:!0}),I(credentialMapper,T)})(mapper$1);const index$I=getDefaultExportFromCjs$1(mapper$1),mapper=_mergeNamespaces({__proto__:null,default:index$I},[mapper$1]);(function(T){var $=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(N,L,B,H){H===void 0&&(H=B);var z=Object.getOwnPropertyDescriptor(L,B);(!z||("get"in z?!L.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return L[B]}}),Object.defineProperty(N,H,z)}:function(N,L,B,H){H===void 0&&(H=B),N[H]=L[B]}),I=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(N,L){for(var B in N)B!=="default"&&!Object.prototype.hasOwnProperty.call(L,B)&&$(L,N,B)};Object.defineProperty(T,"__esModule",{value:!0}),I(types$8,T),I(utils$A,T),I(mapper,T)})(dist$2);var PexMessages;(function(T){T.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",T.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",T.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",T.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",T.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",T.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",T.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",T.SUBJECT_IS_NOT_ISSUER="subject is not issuer",T.SUBJECT_IS_ISSUER="subject is issuer",T.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",T.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",T.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",T.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",T.UNKNOWN_EXCEPTION="unknown exception occurred: ",T.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential"})(PexMessages||(PexMessages={}));const PexMessages$1=PexMessages;var callBind$5={exports:{}},esObjectAtoms=Object;const index$H=getDefaultExportFromCjs$1(esObjectAtoms),esObjectAtoms$1=_mergeNamespaces({__proto__:null,default:index$H},[esObjectAtoms]);var esErrors=Error;const index$G=getDefaultExportFromCjs$1(esErrors),esErrors$1=_mergeNamespaces({__proto__:null,default:index$G},[esErrors]);var _eval=EvalError;const _eval$1=getDefaultExportFromCjs$1(_eval),_eval$2=_mergeNamespaces({__proto__:null,default:_eval$1},[_eval]);var range=RangeError;const range$1=getDefaultExportFromCjs$1(range),range$2=_mergeNamespaces({__proto__:null,default:range$1},[range]);var ref$4=ReferenceError;const ref$5=getDefaultExportFromCjs$1(ref$4),ref$6=_mergeNamespaces({__proto__:null,default:ref$5},[ref$4]);var syntax=SyntaxError;const syntax$1=getDefaultExportFromCjs$1(syntax),syntax$2=_mergeNamespaces({__proto__:null,default:syntax$1},[syntax]);var type$4=TypeError;const type$5=getDefaultExportFromCjs$1(type$4),type$6=_mergeNamespaces({__proto__:null,default:type$5},[type$4]);var uri$6=URIError;const uri$7=getDefaultExportFromCjs$1(uri$6),uri$8=_mergeNamespaces({__proto__:null,default:uri$7},[uri$6]);var abs$1=Math.abs;const abs$2=getDefaultExportFromCjs$1(abs$1),abs$3=_mergeNamespaces({__proto__:null,default:abs$2},[abs$1]);var floor$5=Math.floor;const floor$6=getDefaultExportFromCjs$1(floor$5),floor$7=_mergeNamespaces({__proto__:null,default:floor$6},[floor$5]);var max$2=Math.max;const max$3=getDefaultExportFromCjs$1(max$2),max$4=_mergeNamespaces({__proto__:null,default:max$3},[max$2]);var min$1=Math.min;const min$2=getDefaultExportFromCjs$1(min$1),min$3=_mergeNamespaces({__proto__:null,default:min$2},[min$1]);var pow$1=Math.pow;const pow$2=getDefaultExportFromCjs$1(pow$1),pow$3=_mergeNamespaces({__proto__:null,default:pow$2},[pow$1]);var round$1=Math.round;const round$2=getDefaultExportFromCjs$1(round$1),round$3=_mergeNamespaces({__proto__:null,default:round$2},[round$1]);var _isNaN=Number.isNaN||function($){return $!==$};const isNaN$1=getDefaultExportFromCjs$1(_isNaN),_isNaN$1=_mergeNamespaces({__proto__:null,default:isNaN$1},[_isNaN]);var $isNaN$3=_isNaN$1,sign$2=function($){return $isNaN$3($)||$===0?$:$<0?-1:1};const sign$3=getDefaultExportFromCjs$1(sign$2),sign$4=_mergeNamespaces({__proto__:null,default:sign$3},[sign$2]);var gOPD$6=Object.getOwnPropertyDescriptor;const gOPD$7=getDefaultExportFromCjs$1(gOPD$6),gOPD$8=_mergeNamespaces({__proto__:null,default:gOPD$7},[gOPD$6]);var $gOPD$2=gOPD$8;if($gOPD$2)try{$gOPD$2([],"length")}catch{$gOPD$2=null}var gopd$1=$gOPD$2;const index$F=getDefaultExportFromCjs$1(gopd$1),gopd$2=_mergeNamespaces({__proto__:null,default:index$F},[gopd$1]);var $defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3;const index$E=getDefaultExportFromCjs$1(esDefineProperty),esDefineProperty$1=_mergeNamespaces({__proto__:null,default:index$E},[esDefineProperty]);var shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var $={},I=Symbol("test"),N=Object(I);if(typeof I=="string"||Object.prototype.toString.call(I)!=="[object Symbol]"||Object.prototype.toString.call(N)!=="[object Symbol]")return!1;var L=42;$[I]=L;for(var B in $)return!1;if(typeof Object.keys=="function"&&Object.keys($).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames($).length!==0)return!1;var H=Object.getOwnPropertySymbols($);if(H.length!==1||H[0]!==I||!Object.prototype.propertyIsEnumerable.call($,I))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var z=Object.getOwnPropertyDescriptor($,I);if(z.value!==L||z.enumerable!==!0)return!1}return!0};const shams$2=getDefaultExportFromCjs$1(shams$1),shams$3=_mergeNamespaces({__proto__:null,default:shams$2},[shams$1]);var origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$3,hasSymbols$6=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()};const index$D=getDefaultExportFromCjs$1(hasSymbols$6),hasSymbols$7=_mergeNamespaces({__proto__:null,default:index$D},[hasSymbols$6]);var Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null;const Reflect_getPrototypeOf$1=getDefaultExportFromCjs$1(Reflect_getPrototypeOf),Reflect_getPrototypeOf$2=_mergeNamespaces({__proto__:null,default:Reflect_getPrototypeOf$1},[Reflect_getPrototypeOf]);var $Object$3=esObjectAtoms$1,Object_getPrototypeOf=$Object$3.getPrototypeOf||null;const Object_getPrototypeOf$1=getDefaultExportFromCjs$1(Object_getPrototypeOf),Object_getPrototypeOf$2=_mergeNamespaces({__proto__:null,default:Object_getPrototypeOf$1},[Object_getPrototypeOf]);var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$7=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function($,I){for(var N=[],L=0;L<$.length;L+=1)N[L]=$[L];for(var B=0;B<I.length;B+=1)N[B+$.length]=I[B];return N},slicy=function($,I){for(var N=[],L=I,B=0;L<$.length;L+=1,B+=1)N[B]=$[L];return N},joiny=function(T,$){for(var I="",N=0;N<T.length;N+=1)I+=T[N],N+1<T.length&&(I+=$);return I},implementation$d=function($){var I=this;if(typeof I!="function"||toStr$7.apply(I)!==funcType)throw new TypeError(ERROR_MESSAGE+I);for(var N=slicy(arguments,1),L,B=function(){if(this instanceof L){var G=I.apply(this,concatty(N,arguments));return Object(G)===G?G:this}return I.apply($,concatty(N,arguments))},H=max$1(0,I.length-N.length),z=[],Q=0;Q<H;Q++)z[Q]="$"+Q;if(L=Function("binder","return function ("+joiny(z,",")+"){ return binder.apply(this,arguments); }")(B),I.prototype){var te=function(){};te.prototype=I.prototype,L.prototype=new te,te.prototype=null}return L};const implementation$e=getDefaultExportFromCjs$1(implementation$d),implementation$f=_mergeNamespaces({__proto__:null,default:implementation$e},[implementation$d]);var implementation$c=implementation$f,functionBind=Function.prototype.bind||implementation$c;const index$C=getDefaultExportFromCjs$1(functionBind),functionBind$1=_mergeNamespaces({__proto__:null,default:index$C},[functionBind]);var functionCall=Function.prototype.call;const functionCall$1=getDefaultExportFromCjs$1(functionCall),functionCall$2=_mergeNamespaces({__proto__:null,default:functionCall$1},[functionCall]);var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply;const reflectApply$2=getDefaultExportFromCjs$1(reflectApply$1),reflectApply$3=_mergeNamespaces({__proto__:null,default:reflectApply$2},[reflectApply$1]);var bind$3=functionBind$1,$apply$3=requireFunctionApply(),$call$2=functionCall$2,$reflectApply=reflectApply$3,actualApply$1=$reflectApply||bind$3.call($call$2,$apply$3);const actualApply$2=getDefaultExportFromCjs$1(actualApply$1),actualApply$3=_mergeNamespaces({__proto__:null,default:actualApply$2},[actualApply$1]);var bind$2=functionBind$1,$TypeError$j=type$6,$call$1=functionCall$2,$actualApply=actualApply$3,callBindApplyHelpers=function($){if($.length<1||typeof $[0]!="function")throw new $TypeError$j("a function is required");return $actualApply(bind$2,$call$1,$)};const index$B=getDefaultExportFromCjs$1(callBindApplyHelpers),callBindApplyHelpers$1=_mergeNamespaces({__proto__:null,default:index$B},[callBindApplyHelpers]);var callBind$4=callBindApplyHelpers$1,gOPD$5=gopd$2,hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(T){if(!T||typeof T!="object"||!("code"in T)||T.code!=="ERR_PROTO_ACCESS")throw T}var desc=!!hasProtoAccessor&&gOPD$5&&gOPD$5(Object.prototype,"__proto__"),$Object$2=Object,$getPrototypeOf=$Object$2.getPrototypeOf,get=desc&&typeof desc.get=="function"?callBind$4([desc.get]):typeof $getPrototypeOf=="function"?function($){return $getPrototypeOf($==null?$:$Object$2($))}:!1;const get$1=getDefaultExportFromCjs$1(get),get$2=_mergeNamespaces({__proto__:null,default:get$1},[get]);var reflectGetProto=Reflect_getPrototypeOf$2,originalGetProto=Object_getPrototypeOf$2,getDunderProto=get$2,getProto$4=reflectGetProto?function($){return reflectGetProto($)}:originalGetProto?function($){if(!$||typeof $!="object"&&typeof $!="function")throw new TypeError("getProto: not an object");return originalGetProto($)}:getDunderProto?function($){return getDunderProto($)}:null;const index$A=getDefaultExportFromCjs$1(getProto$4),getProto$5=_mergeNamespaces({__proto__:null,default:index$A},[getProto$4]);var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var T=Function.prototype.call,$=Object.prototype.hasOwnProperty,I=functionBind$1;return hasown=I.call(T,$),hasown}var undefined$1,$Object$1=esObjectAtoms$1,$Error=esErrors$1,$EvalError=_eval$2,$RangeError=range$2,$ReferenceError=ref$6,$SyntaxError$1=syntax$2,$TypeError$i=type$6,$URIError=uri$8,abs=abs$3,floor$4=floor$7,max=max$4,min=min$3,pow=pow$3,round=round$3,sign$1=sign$4,$Function=Function,getEvalledConstructor=function(T){try{return $Function('"use strict"; return ('+T+").constructor;")()}catch{}},$gOPD$1=gopd$2,$defineProperty$2=esDefineProperty$1,throwTypeError=function(){throw new $TypeError$i},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$5=hasSymbols$7(),getProto$3=getProto$5,$ObjectGPO=Object_getPrototypeOf$2,$ReflectGPO=Reflect_getPrototypeOf$2,$apply$2=requireFunctionApply(),$call=functionCall$2,needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$3?undefined$1:getProto$3(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$5&&getProto$3?getProto$3([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined$1:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$5&&getProto$3?getProto$3(getProto$3([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$5||!getProto$3?undefined$1:getProto$3(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object$1,"%Object.getOwnPropertyDescriptor%":$gOPD$1,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$5||!getProto$3?undefined$1:getProto$3(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$5&&getProto$3?getProto$3(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$5?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$i,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$2,"%Object.defineProperty%":$defineProperty$2,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor$4,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto$3)try{null.error}catch(T){var errorProto=getProto$3(getProto$3(T));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function T($){var I;if($==="%AsyncFunction%")I=getEvalledConstructor("async function () {}");else if($==="%GeneratorFunction%")I=getEvalledConstructor("function* () {}");else if($==="%AsyncGeneratorFunction%")I=getEvalledConstructor("async function* () {}");else if($==="%AsyncGenerator%"){var N=T("%AsyncGeneratorFunction%");N&&(I=N.prototype)}else if($==="%AsyncIteratorPrototype%"){var L=T("%AsyncGenerator%");L&&getProto$3&&(I=getProto$3(L.prototype))}return INTRINSICS[$]=I,I},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind$1,hasOwn$1=requireHasown(),$concat$1=bind$1.call($call,Array.prototype.concat),$spliceApply=bind$1.call($apply$2,Array.prototype.splice),$replace$1=bind$1.call($call,String.prototype.replace),$strSlice=bind$1.call($call,String.prototype.slice),$exec=bind$1.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function($){var I=$strSlice($,0,1),N=$strSlice($,-1);if(I==="%"&&N!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&I!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var L=[];return $replace$1($,rePropName,function(B,H,z,Q){L[L.length]=z?$replace$1(Q,reEscapeChar,"$1"):H||B}),L},getBaseIntrinsic=function($,I){var N=$,L;if(hasOwn$1(LEGACY_ALIASES,N)&&(L=LEGACY_ALIASES[N],N="%"+L[0]+"%"),hasOwn$1(INTRINSICS,N)){var B=INTRINSICS[N];if(B===needsEval&&(B=doEval(N)),typeof B>"u"&&!I)throw new $TypeError$i("intrinsic "+$+" exists, but is not available. Please file an issue!");return{alias:L,name:N,value:B}}throw new $SyntaxError$1("intrinsic "+$+" does not exist!")},getIntrinsic=function($,I){if(typeof $!="string"||$.length===0)throw new $TypeError$i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new $TypeError$i('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,$)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=stringToPath($),L=N.length>0?N[0]:"",B=getBaseIntrinsic("%"+L+"%",I),H=B.name,z=B.value,Q=!1,te=B.alias;te&&(L=te[0],$spliceApply(N,$concat$1([0,1],te)));for(var G=1,ie=!0;G<N.length;G+=1){var Re=N[G],$e=$strSlice(Re,0,1),Pe=$strSlice(Re,-1);if(($e==='"'||$e==="'"||$e==="`"||Pe==='"'||Pe==="'"||Pe==="`")&&$e!==Pe)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((Re==="constructor"||!ie)&&(Q=!0),L+="."+Re,H="%"+L+"%",hasOwn$1(INTRINSICS,H))z=INTRINSICS[H];else if(z!=null){if(!(Re in z)){if(!I)throw new $TypeError$i("base intrinsic for "+$+" exists, but the property is not available.");return}if($gOPD$1&&G+1>=N.length){var Me=$gOPD$1(z,Re);ie=!!Me,ie&&"get"in Me&&!("originalValue"in Me.get)?z=Me.get:z=z[Re]}else ie=hasOwn$1(z,Re),z=z[Re];ie&&!Q&&(INTRINSICS[H]=z)}}return z};const index$z=getDefaultExportFromCjs$1(getIntrinsic),getIntrinsic$1=_mergeNamespaces({__proto__:null,default:index$z},[getIntrinsic]);var $defineProperty$1=esDefineProperty$1,$SyntaxError=syntax$2,$TypeError$h=type$6,gopd=gopd$2,defineDataProperty$1=function($,I,N){if(!$||typeof $!="object"&&typeof $!="function")throw new $TypeError$h("`obj` must be an object or a function`");if(typeof I!="string"&&typeof I!="symbol")throw new $TypeError$h("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$h("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$h("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$h("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$h("`loose`, if provided, must be a boolean");var L=arguments.length>3?arguments[3]:null,B=arguments.length>4?arguments[4]:null,H=arguments.length>5?arguments[5]:null,z=arguments.length>6?arguments[6]:!1,Q=!!gopd&&gopd($,I);if($defineProperty$1)$defineProperty$1($,I,{configurable:H===null&&Q?Q.configurable:!H,enumerable:L===null&&Q?Q.enumerable:!L,value:N,writable:B===null&&Q?Q.writable:!B});else if(z||!L&&!B&&!H)$[I]=N;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")};const index$y=getDefaultExportFromCjs$1(defineDataProperty$1),defineDataProperty$2=_mergeNamespaces({__proto__:null,default:index$y},[defineDataProperty$1]);var $defineProperty=esDefineProperty$1,hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors;const index$x=getDefaultExportFromCjs$1(hasPropertyDescriptors_1),hasPropertyDescriptors$1=_mergeNamespaces({__proto__:null,default:index$x},[hasPropertyDescriptors_1]);var GetIntrinsic$b=getIntrinsic$1,define$4=defineDataProperty$2,hasDescriptors$1=hasPropertyDescriptors$1(),gOPD$4=gopd$2,$TypeError$g=type$6,$floor$2=GetIntrinsic$b("%Math.floor%"),setFunctionLength=function($,I){if(typeof $!="function")throw new $TypeError$g("`fn` is not a function");if(typeof I!="number"||I<0||I>4294967295||$floor$2(I)!==I)throw new $TypeError$g("`length` must be a positive 32-bit integer");var N=arguments.length>2&&!!arguments[2],L=!0,B=!0;if("length"in $&&gOPD$4){var H=gOPD$4($,"length");H&&!H.configurable&&(L=!1),H&&!H.writable&&(B=!1)}return(L||B||!N)&&(hasDescriptors$1?define$4($,"length",I,!0,!0):define$4($,"length",I)),$};const index$w=getDefaultExportFromCjs$1(setFunctionLength),setFunctionLength$1=_mergeNamespaces({__proto__:null,default:index$w},[setFunctionLength]);var bind=functionBind$1,$apply$1=requireFunctionApply(),actualApply=actualApply$3,applyBind=function(){return actualApply(bind,$apply$1,arguments)};const applyBind$1=getDefaultExportFromCjs$1(applyBind),applyBind$2=_mergeNamespaces({__proto__:null,default:applyBind$1},[applyBind]);(function(T){var $=setFunctionLength$1,I=esDefineProperty$1,N=callBindApplyHelpers$1,L=applyBind$2;T.exports=function(H){var z=N(arguments),Q=H.length-(arguments.length-1);return $(z,1+(Q>0?Q:0),!0)},I?I(T.exports,"apply",{value:L}):T.exports.apply=L})(callBind$5);var callBindExports=callBind$5.exports;const index$v=getDefaultExportFromCjs$1(callBindExports),callBind$3=_mergeNamespaces({__proto__:null,default:index$v},[callBindExports]);var toStr$6=Object.prototype.toString,isArguments$1=function($){var I=toStr$6.call($),N=I==="[object Arguments]";return N||(N=I!=="[object Array]"&&$!==null&&typeof $=="object"&&typeof $.length=="number"&&$.length>=0&&toStr$6.call($.callee)==="[object Function]"),N};const isArguments$2=getDefaultExportFromCjs$1(isArguments$1),isArguments$3=_mergeNamespaces({__proto__:null,default:isArguments$2},[isArguments$1]);var implementation$b,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$b;hasRequiredImplementation$1=1;var T;if(!Object.keys){var $=Object.prototype.hasOwnProperty,I=Object.prototype.toString,N=isArguments$3,L=Object.prototype.propertyIsEnumerable,B=!L.call({toString:null},"toString"),H=L.call(function(){},"prototype"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Q=function(Re){var $e=Re.constructor;return $e&&$e.prototype===Re},te={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},G=function(){if(typeof window>"u")return!1;for(var Re in window)try{if(!te["$"+Re]&&$.call(window,Re)&&window[Re]!==null&&typeof window[Re]=="object")try{Q(window[Re])}catch{return!0}}catch{return!0}return!1}(),ie=function(Re){if(typeof window>"u"||!G)return Q(Re);try{return Q(Re)}catch{return!1}};T=function($e){var Pe=$e!==null&&typeof $e=="object",Me=I.call($e)==="[object Function]",Be=N($e),Ke=Pe&&I.call($e)==="[object String]",Le=[];if(!Pe&&!Me&&!Be)throw new TypeError("Object.keys called on a non-object");var qe=H&&Me;if(Ke&&$e.length>0&&!$.call($e,0))for(var He=0;He<$e.length;++He)Le.push(String(He));if(Be&&$e.length>0)for(var Ge=0;Ge<$e.length;++Ge)Le.push(String(Ge));else for(var at in $e)!(qe&&at==="prototype")&&$.call($e,at)&&Le.push(String(at));if(B)for(var ot=ie($e),Ye=0;Ye<z.length;++Ye)!(ot&&z[Ye]==="constructor")&&$.call($e,z[Ye])&&Le.push(z[Ye]);return Le}}return implementation$b=T,implementation$b}var slice$1=Array.prototype.slice,isArgs=isArguments$3,origKeys=Object.keys,keysShim=origKeys?function($){return origKeys($)}:requireImplementation$1(),originalKeys=Object.keys;keysShim.shim=function(){if(Object.keys){var $=function(){var I=Object.keys(arguments);return I&&I.length===arguments.length}(1,2);$||(Object.keys=function(N){return isArgs(N)?originalKeys(slice$1.call(N)):originalKeys(N)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys=keysShim;const index$u=getDefaultExportFromCjs$1(objectKeys),objectKeys$1=_mergeNamespaces({__proto__:null,default:index$u},[objectKeys]);var keys=objectKeys$1,hasSymbols$4=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",toStr$5=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=defineDataProperty$2,isFunction=function(T){return typeof T=="function"&&toStr$5.call(T)==="[object Function]"},supportsDescriptors$2=hasPropertyDescriptors$1(),defineProperty$1=function(T,$,I,N){if($ in T){if(N===!0){if(T[$]===I)return}else if(!isFunction(N)||!N())return}supportsDescriptors$2?defineDataProperty(T,$,I,!0):defineDataProperty(T,$,I)},defineProperties=function(T,$){var I=arguments.length>2?arguments[2]:{},N=keys($);hasSymbols$4&&(N=concat.call(N,Object.getOwnPropertySymbols($)));for(var L=0;L<N.length;L+=1)defineProperty$1(T,N[L],$[N[L]],I[N[L]])};defineProperties.supportsDescriptors=!!supportsDescriptors$2;var defineProperties_1=defineProperties;const index$t=getDefaultExportFromCjs$1(defineProperties_1),defineProperties$1=_mergeNamespaces({__proto__:null,default:index$t},[defineProperties_1]);var GetIntrinsic$a=getIntrinsic$1,callBindBasic=callBindApplyHelpers$1,$indexOf$3=callBindBasic([GetIntrinsic$a("%String.prototype.indexOf%")]),callBound$6=function($,I){var N=GetIntrinsic$a($,!!I);return typeof N=="function"&&$indexOf$3($,".prototype.")>-1?callBindBasic([N]):N};const index$s=getDefaultExportFromCjs$1(callBound$6),callBound$7=_mergeNamespaces({__proto__:null,default:index$s},[callBound$6]);var GetIntrinsic$9=getIntrinsic$1,$Array=GetIntrinsic$9("%Array%"),toStr$4=!$Array.isArray&&callBound$7("Object.prototype.toString"),IsArray$4=$Array.isArray||function($){return toStr$4($)==="[object Array]"};const IsArray$5=getDefaultExportFromCjs$1(IsArray$4),IsArray$6=_mergeNamespaces({__proto__:null,default:IsArray$5},[IsArray$4]);var IsArray$1=IsArray$6;const IsArray$2=getDefaultExportFromCjs$1(IsArray$1),IsArray$3=_mergeNamespaces({__proto__:null,default:IsArray$2},[IsArray$1]);var GetIntrinsic$8=getIntrinsic$1,callBound$5=callBound$7,$TypeError$f=type$6,IsArray=IsArray$3,$apply=GetIntrinsic$8("%Reflect.apply%",!0)||callBound$5("Function.prototype.apply"),Call$1=function($,I){var N=arguments.length>2?arguments[2]:[];if(!IsArray(N))throw new $TypeError$f("Assertion failed: optional `argumentsList`, if provided, must be a List");return $apply($,I,N)};const Call$2=getDefaultExportFromCjs$1(Call$1),Call$3=_mergeNamespaces({__proto__:null,default:Call$2},[Call$1]),__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$2=getDefaultExportFromNamespaceIfNotNamed(__viteBrowserExternal$1);var hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString$1=Object.prototype.toString,functionToString=Function.prototype.toString,$match$1=String.prototype.match,$slice$1=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor$1=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||!0)?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(T){return T.__proto__}:null);function addNumericSeparator(T,$){if(T===1/0||T===-1/0||T!==T||T&&T>-1e3&&T<1e3||$test.call(/e/,$))return $;var I=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof T=="number"){var N=T<0?-$floor$1(-T):$floor$1(T);if(N!==T){var L=String(N),B=$slice$1.call($,L.length+1);return $replace.call(L,I,"$&_")+"."+$replace.call($replace.call(B,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call($,I,"$&_")}var utilInspect=require$$0$2,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol$1(inspectCustom)?inspectCustom:null,quotes={__proto__:null,double:'"',single:"'"},quoteREs={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},objectInspect=function T($,I,N,L){var B=I||{};if(has(B,"quoteStyle")&&!has(quotes,B.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has(B,"maxStringLength")&&(typeof B.maxStringLength=="number"?B.maxStringLength<0&&B.maxStringLength!==1/0:B.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var H=has(B,"customInspect")?B.customInspect:!0;if(typeof H!="boolean"&&H!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(B,"indent")&&B.indent!==null&&B.indent!=="	"&&!(parseInt(B.indent,10)===B.indent&&B.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(B,"numericSeparator")&&typeof B.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var z=B.numericSeparator;if(typeof $>"u")return"undefined";if($===null)return"null";if(typeof $=="boolean")return $?"true":"false";if(typeof $=="string")return inspectString($,B);if(typeof $=="number"){if($===0)return 1/0/$>0?"0":"-0";var Q=String($);return z?addNumericSeparator($,Q):Q}if(typeof $=="bigint"){var te=String($)+"n";return z?addNumericSeparator($,te):te}var G=typeof B.depth>"u"?5:B.depth;if(typeof N>"u"&&(N=0),N>=G&&G>0&&typeof $=="object")return isArray$1($)?"[Array]":"[Object]";var ie=getIndent(B,N);if(typeof L>"u")L=[];else if(indexOf(L,$)>=0)return"[Circular]";function Re(Fe,ke,Ue){if(ke&&(L=$arrSlice.call(L),L.push(ke)),Ue){var Je={depth:B.depth};return has(B,"quoteStyle")&&(Je.quoteStyle=B.quoteStyle),T(Fe,Je,N+1,L)}return T(Fe,B,N+1,L)}if(typeof $=="function"&&!isRegExp($)){var $e=nameOf($),Pe=arrObjKeys($,Re);return"[Function"+($e?": "+$e:" (anonymous)")+"]"+(Pe.length>0?" { "+$join.call(Pe,", ")+" }":"")}if(isSymbol$1($)){var Me=hasShammedSymbols?$replace.call(String($),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call($);return typeof $=="object"&&!hasShammedSymbols?markBoxed(Me):Me}if(isElement($)){for(var Be="<"+$toLowerCase.call(String($.nodeName)),Ke=$.attributes||[],Le=0;Le<Ke.length;Le++)Be+=" "+Ke[Le].name+"="+wrapQuotes(quote(Ke[Le].value),"double",B);return Be+=">",$.childNodes&&$.childNodes.length&&(Be+="..."),Be+="</"+$toLowerCase.call(String($.nodeName))+">",Be}if(isArray$1($)){if($.length===0)return"[]";var qe=arrObjKeys($,Re);return ie&&!singleLineValues(qe)?"["+indentedJoin(qe,ie)+"]":"[ "+$join.call(qe,", ")+" ]"}if(isError$1($)){var He=arrObjKeys($,Re);return!("cause"in Error.prototype)&&"cause"in $&&!isEnumerable.call($,"cause")?"{ ["+String($)+"] "+$join.call($concat.call("[cause]: "+Re($.cause),He),", ")+" }":He.length===0?"["+String($)+"]":"{ ["+String($)+"] "+$join.call(He,", ")+" }"}if(typeof $=="object"&&H){if(inspectSymbol&&typeof $[inspectSymbol]=="function"&&utilInspect)return utilInspect($,{depth:G-N});if(H!=="symbol"&&typeof $.inspect=="function")return $.inspect()}if(isMap($)){var Ge=[];return mapForEach&&mapForEach.call($,function(Fe,ke){Ge.push(Re(ke,$,!0)+" => "+Re(Fe,$))}),collectionOf("Map",mapSize.call($),Ge,ie)}if(isSet($)){var at=[];return setForEach&&setForEach.call($,function(Fe){at.push(Re(Fe,$))}),collectionOf("Set",setSize.call($),at,ie)}if(isWeakMap($))return weakCollectionOf("WeakMap");if(isWeakSet($))return weakCollectionOf("WeakSet");if(isWeakRef($))return weakCollectionOf("WeakRef");if(isNumber($))return markBoxed(Re(Number($)));if(isBigInt($))return markBoxed(Re(bigIntValueOf.call($)));if(isBoolean($))return markBoxed(booleanValueOf.call($));if(isString($))return markBoxed(Re(String($)));if(typeof window<"u"&&$===window)return"{ [object Window] }";if(typeof globalThis<"u"&&$===globalThis||typeof commonjsGlobal$2<"u"&&$===commonjsGlobal$2)return"{ [object globalThis] }";if(!isDate($)&&!isRegExp($)){var ot=arrObjKeys($,Re),Ye=gPO?gPO($)===Object.prototype:$ instanceof Object||$.constructor===Object,nt=$ instanceof Object?"":"null prototype",Qe=!Ye&&toStringTag&&Object($)===$&&toStringTag in $?$slice$1.call(toStr$3($),8,-1):nt?"Object":"",tt=Ye||typeof $.constructor!="function"?"":$.constructor.name?$.constructor.name+" ":"",ze=tt+(Qe||nt?"["+$join.call($concat.call([],Qe||[],nt||[]),": ")+"] ":"");return ot.length===0?ze+"{}":ie?ze+"{"+indentedJoin(ot,ie)+"}":ze+"{ "+$join.call(ot,", ")+" }"}return String($)};function wrapQuotes(T,$,I){var N=I.quoteStyle||$,L=quotes[N];return L+T+L}function quote(T){return $replace.call(String(T),/"/g,"&quot;")}function canTrustToString(T){return!toStringTag||!(typeof T=="object"&&(toStringTag in T||typeof T[toStringTag]<"u"))}function isArray$1(T){return toStr$3(T)==="[object Array]"&&canTrustToString(T)}function isDate(T){return toStr$3(T)==="[object Date]"&&canTrustToString(T)}function isRegExp(T){return toStr$3(T)==="[object RegExp]"&&canTrustToString(T)}function isError$1(T){return toStr$3(T)==="[object Error]"&&canTrustToString(T)}function isString(T){return toStr$3(T)==="[object String]"&&canTrustToString(T)}function isNumber(T){return toStr$3(T)==="[object Number]"&&canTrustToString(T)}function isBoolean(T){return toStr$3(T)==="[object Boolean]"&&canTrustToString(T)}function isSymbol$1(T){if(hasShammedSymbols)return T&&typeof T=="object"&&T instanceof Symbol;if(typeof T=="symbol")return!0;if(!T||typeof T!="object"||!symToString)return!1;try{return symToString.call(T),!0}catch{}return!1}function isBigInt(T){if(!T||typeof T!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(T),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(T){return T in this};function has(T,$){return hasOwn.call(T,$)}function toStr$3(T){return objectToString$1.call(T)}function nameOf(T){if(T.name)return T.name;var $=$match$1.call(functionToString.call(T),/^function\s*([\w$]+)/);return $?$[1]:null}function indexOf(T,$){if(T.indexOf)return T.indexOf($);for(var I=0,N=T.length;I<N;I++)if(T[I]===$)return I;return-1}function isMap(T){if(!mapSize||!T||typeof T!="object")return!1;try{mapSize.call(T);try{setSize.call(T)}catch{return!0}return T instanceof Map}catch{}return!1}function isWeakMap(T){if(!weakMapHas||!T||typeof T!="object")return!1;try{weakMapHas.call(T,weakMapHas);try{weakSetHas.call(T,weakSetHas)}catch{return!0}return T instanceof WeakMap}catch{}return!1}function isWeakRef(T){if(!weakRefDeref||!T||typeof T!="object")return!1;try{return weakRefDeref.call(T),!0}catch{}return!1}function isSet(T){if(!setSize||!T||typeof T!="object")return!1;try{setSize.call(T);try{mapSize.call(T)}catch{return!0}return T instanceof Set}catch{}return!1}function isWeakSet(T){if(!weakSetHas||!T||typeof T!="object")return!1;try{weakSetHas.call(T,weakSetHas);try{weakMapHas.call(T,weakMapHas)}catch{return!0}return T instanceof WeakSet}catch{}return!1}function isElement(T){return!T||typeof T!="object"?!1:typeof HTMLElement<"u"&&T instanceof HTMLElement?!0:typeof T.nodeName=="string"&&typeof T.getAttribute=="function"}function inspectString(T,$){if(T.length>$.maxStringLength){var I=T.length-$.maxStringLength,N="... "+I+" more character"+(I>1?"s":"");return inspectString($slice$1.call(T,0,$.maxStringLength),$)+N}var L=quoteREs[$.quoteStyle||"single"];L.lastIndex=0;var B=$replace.call($replace.call(T,L,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(B,"single",$)}function lowbyte(T){var $=T.charCodeAt(0),I={8:"b",9:"t",10:"n",12:"f",13:"r"}[$];return I?"\\"+I:"\\x"+($<16?"0":"")+$toUpperCase.call($.toString(16))}function markBoxed(T){return"Object("+T+")"}function weakCollectionOf(T){return T+" { ? }"}function collectionOf(T,$,I,N){var L=N?indentedJoin(I,N):$join.call(I,", ");return T+" ("+$+") {"+L+"}"}function singleLineValues(T){for(var $=0;$<T.length;$++)if(indexOf(T[$],`
`)>=0)return!1;return!0}function getIndent(T,$){var I;if(T.indent==="	")I="	";else if(typeof T.indent=="number"&&T.indent>0)I=$join.call(Array(T.indent+1)," ");else return null;return{base:I,prev:$join.call(Array($+1),I)}}function indentedJoin(T,$){if(T.length===0)return"";var I=`
`+$.prev+$.base;return I+$join.call(T,","+I)+`
`+$.prev}function arrObjKeys(T,$){var I=isArray$1(T),N=[];if(I){N.length=T.length;for(var L=0;L<T.length;L++)N[L]=has(T,L)?$(T[L],T):""}var B=typeof gOPS=="function"?gOPS(T):[],H;if(hasShammedSymbols){H={};for(var z=0;z<B.length;z++)H["$"+B[z]]=B[z]}for(var Q in T)has(T,Q)&&(I&&String(Number(Q))===Q&&Q<T.length||hasShammedSymbols&&H["$"+Q]instanceof Symbol||($test.call(/[^\w$]/,Q)?N.push($(Q,T)+": "+$(T[Q],T)):N.push(Q+": "+$(T[Q],T))));if(typeof gOPS=="function")for(var te=0;te<B.length;te++)isEnumerable.call(T,B[te])&&N.push("["+$(B[te])+"]: "+$(T[B[te]],T));return N}const index$r=getDefaultExportFromCjs$1(objectInspect),objectInspect$1=_mergeNamespaces({__proto__:null,default:index$r},[objectInspect]);var isPropertyKey$4=function($){return typeof $=="string"||typeof $=="symbol"};const isPropertyKey$5=getDefaultExportFromCjs$1(isPropertyKey$4),isPropertyKey$6=_mergeNamespaces({__proto__:null,default:isPropertyKey$5},[isPropertyKey$4]);var isObject$6=function($){return!!$&&(typeof $=="function"||typeof $=="object")};const isObject$7=getDefaultExportFromCjs$1(isObject$6),isObject$8=_mergeNamespaces({__proto__:null,default:isObject$7},[isObject$6]);var $TypeError$e=type$6,inspect$4=objectInspect$1,isPropertyKey$3=isPropertyKey$6,isObject$5=isObject$8,Get$3=function($,I){if(!isObject$5($))throw new $TypeError$e("Assertion failed: Type(O) is not Object");if(!isPropertyKey$3(I))throw new $TypeError$e("Assertion failed: P is not a Property Key, got "+inspect$4(I));return $[I]};const Get$4=getDefaultExportFromCjs$1(Get$3),Get$5=_mergeNamespaces({__proto__:null,default:Get$4},[Get$3]);var $TypeError$d=type$6,inspect$3=objectInspect$1,isPropertyKey$2=isPropertyKey$6,GetV$1=function($,I){if(!isPropertyKey$2(I))throw new $TypeError$d("Assertion failed: P is not a Property Key, got "+inspect$3(I));return $[I]};const GetV$2=getDefaultExportFromCjs$1(GetV$1),GetV$3=_mergeNamespaces({__proto__:null,default:GetV$2},[GetV$1]);var fnToStr$1=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(T){T!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function($){try{var I=fnToStr$1.call($);return constructorRegex.test(I)}catch{return!1}},tryFunctionObject=function($){try{return isES6ClassFn($)?!1:(fnToStr$1.call($),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$3=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function($){if((isIE68||!$)&&(typeof $>"u"||typeof $=="object"))try{var I=toStr$2.call($);return(I===ddaClass||I===ddaClass2||I===ddaClass3||I===objectClass)&&$("")==null}catch{}return!1})}var isCallable$1=reflectApply?function($){if(isDDA($))return!0;if(!$||typeof $!="function"&&typeof $!="object")return!1;try{reflectApply($,null,badArrayLike)}catch(I){if(I!==isCallableMarker)return!1}return!isES6ClassFn($)&&tryFunctionObject($)}:function($){if(isDDA($))return!0;if(!$||typeof $!="function"&&typeof $!="object")return!1;if(hasToStringTag$3)return tryFunctionObject($);if(isES6ClassFn($))return!1;var I=toStr$2.call($);return I!==fnClass&&I!==genClass&&!/^\[object HTML/.test(I)?!1:tryFunctionObject($)};const index$q=getDefaultExportFromCjs$1(isCallable$1),isCallable$2=_mergeNamespaces({__proto__:null,default:index$q},[isCallable$1]);var IsCallable$1=isCallable$2;const IsCallable$2=getDefaultExportFromCjs$1(IsCallable$1),IsCallable$3=_mergeNamespaces({__proto__:null,default:IsCallable$2},[IsCallable$1]);var $TypeError$c=type$6,GetV=GetV$3,IsCallable=IsCallable$3,isPropertyKey$1=isPropertyKey$6,inspect$2=objectInspect$1,GetMethod$1=function($,I){if(!isPropertyKey$1(I))throw new $TypeError$c("Assertion failed: P is not a Property Key");var N=GetV($,I);if(N!=null){if(!IsCallable(N))throw new $TypeError$c(inspect$2(I)+" is not a function: "+inspect$2(N));return N}};const GetMethod$2=getDefaultExportFromCjs$1(GetMethod$1),GetMethod$3=_mergeNamespaces({__proto__:null,default:GetMethod$2},[GetMethod$1]);var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var T=shams$3;return shams=function(){return T()&&!!Symbol.toStringTag},shams}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var T=callBound$7,$=requireShams()(),I=requireHasown(),N=gopd$2,L;if($){var B=T("RegExp.prototype.exec"),H={},z=function(){throw H},Q={toString:z,valueOf:z};typeof Symbol.toPrimitive=="symbol"&&(Q[Symbol.toPrimitive]=z),L=function(Re){if(!Re||typeof Re!="object")return!1;var $e=N(Re,"lastIndex"),Pe=$e&&I($e,"value");if(!Pe)return!1;try{B(Re,Q)}catch(Me){return Me===H}}}else{var te=T("Object.prototype.toString"),G="[object RegExp]";L=function(Re){return!Re||typeof Re!="object"&&typeof Re!="function"?!1:te(Re)===G}}return isRegex=L,isRegex}var ToBoolean$1,hasRequiredToBoolean;function requireToBoolean(){return hasRequiredToBoolean||(hasRequiredToBoolean=1,ToBoolean$1=function($){return!!$}),ToBoolean$1}var GetIntrinsic$7=getIntrinsic$1,$match=GetIntrinsic$7("%Symbol.match%",!0),hasRegExpMatcher=requireIsRegex(),isObject$4=isObject$8,ToBoolean=requireToBoolean(),IsRegExp$1=function($){if(!isObject$4($))return!1;if($match){var I=$[$match];if(typeof I<"u")return ToBoolean(I)}return hasRegExpMatcher($)};const IsRegExp$2=getDefaultExportFromCjs$1(IsRegExp$1),IsRegExp$3=_mergeNamespaces({__proto__:null,default:IsRegExp$2},[IsRegExp$1]);var GetIntrinsic$6=getIntrinsic$1,$String=GetIntrinsic$6("%String%"),$TypeError$b=type$6,ToString$3=function($){if(typeof $=="symbol")throw new $TypeError$b("Cannot convert a Symbol value to a string");return $String($)};const ToString$4=getDefaultExportFromCjs$1(ToString$3),ToString$5=_mergeNamespaces({__proto__:null,default:ToString$4},[ToString$3]);var $TypeError$a=type$6,RequireObjectCoercible$1=function($){if($==null)throw new $TypeError$a(arguments.length>0&&arguments[1]||"Cannot call method on "+$);return $};const RequireObjectCoercible$2=getDefaultExportFromCjs$1(RequireObjectCoercible$1),RequireObjectCoercible$3=_mergeNamespaces({__proto__:null,default:RequireObjectCoercible$2},[RequireObjectCoercible$1]);var functionsHaveNames=function(){return typeof(function(){}).name=="string"},gOPD$3=Object.getOwnPropertyDescriptor;if(gOPD$3)try{gOPD$3([],"length")}catch{gOPD$3=null}functionsHaveNames.functionsHaveConfigurableNames=function(){if(!functionsHaveNames()||!gOPD$3)return!1;var $=gOPD$3(function(){},"name");return!!$&&!!$.configurable};var $bind=Function.prototype.bind;functionsHaveNames.boundFunctionsHaveNames=function(){return functionsHaveNames()&&typeof $bind=="function"&&(function(){}).bind().name!==""};var functionsHaveNames_1=functionsHaveNames;const index$p=getDefaultExportFromCjs$1(functionsHaveNames_1),functionsHaveNames$1=_mergeNamespaces({__proto__:null,default:index$p},[functionsHaveNames_1]);var define$3=defineDataProperty$2,hasDescriptors=hasPropertyDescriptors$1(),functionsHaveConfigurableNames=functionsHaveNames$1.functionsHaveConfigurableNames(),$TypeError$9=type$6,setFunctionName$2=function($,I){if(typeof $!="function")throw new $TypeError$9("`fn` is not a function");var N=arguments.length>2&&!!arguments[2];return(!N||functionsHaveConfigurableNames)&&(hasDescriptors?define$3($,"name",I,!0,!0):define$3($,"name",I)),$};const index$o=getDefaultExportFromCjs$1(setFunctionName$2),setFunctionName$3=_mergeNamespaces({__proto__:null,default:index$o},[setFunctionName$2]);var setFunctionName$1=setFunctionName$3,$TypeError$8=type$6,$Object=Object,implementation$8=setFunctionName$1(function(){if(this==null||this!==$Object(this))throw new $TypeError$8("RegExp.prototype.flags getter called on non-object");var $="";return this.hasIndices&&($+="d"),this.global&&($+="g"),this.ignoreCase&&($+="i"),this.multiline&&($+="m"),this.dotAll&&($+="s"),this.unicode&&($+="u"),this.unicodeSets&&($+="v"),this.sticky&&($+="y"),$},"get flags",!0);const implementation$9=getDefaultExportFromCjs$1(implementation$8),implementation$a=_mergeNamespaces({__proto__:null,default:implementation$9},[implementation$8]);var implementation$7=implementation$a,supportsDescriptors$1=defineProperties$1.supportsDescriptors,$gOPD=Object.getOwnPropertyDescriptor,polyfill$4=function(){if(supportsDescriptors$1&&/a/mig.flags==="gim"){var $=$gOPD(RegExp.prototype,"flags");if($&&typeof $.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var I="",N={};if(Object.defineProperty(N,"hasIndices",{get:function(){I+="d"}}),Object.defineProperty(N,"sticky",{get:function(){I+="y"}}),$.get.call(N),I==="dy")return $.get}}return implementation$7};const polyfill$5=getDefaultExportFromCjs$1(polyfill$4),polyfill$6=_mergeNamespaces({__proto__:null,default:polyfill$5},[polyfill$4]);var supportsDescriptors=defineProperties$1.supportsDescriptors,getPolyfill$3=polyfill$6,gOPD$2=gopd$2,defineProperty=Object.defineProperty,$TypeError$7=esErrors$1,getProto$2=getProto$5,regex=/a/,shim$6=function(){if(!supportsDescriptors||!getProto$2)throw new $TypeError$7("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var $=getPolyfill$3(),I=getProto$2(regex),N=gOPD$2(I,"flags");return(!N||N.get!==$)&&defineProperty(I,"flags",{configurable:!0,enumerable:!1,get:$}),$};const shim$7=getDefaultExportFromCjs$1(shim$6),shim$8=_mergeNamespaces({__proto__:null,default:shim$7},[shim$6]);var define$2=defineProperties$1,callBind$2=callBind$3,implementation$6=implementation$a,getPolyfill$2=polyfill$6,shim$5=shim$8,flagsBound=callBind$2(getPolyfill$2());define$2(flagsBound,{getPolyfill:getPolyfill$2,implementation:implementation$6,shim:shim$5});var regexp_prototype_flags=flagsBound;const index$n=getDefaultExportFromCjs$1(regexp_prototype_flags),regexp_prototype_flags$1=_mergeNamespaces({__proto__:null,default:index$n},[regexp_prototype_flags]);var isLeadingSurrogate,hasRequiredIsLeadingSurrogate;function requireIsLeadingSurrogate(){return hasRequiredIsLeadingSurrogate||(hasRequiredIsLeadingSurrogate=1,isLeadingSurrogate=function($){return typeof $=="number"&&$>=55296&&$<=56319}),isLeadingSurrogate}var isTrailingSurrogate,hasRequiredIsTrailingSurrogate;function requireIsTrailingSurrogate(){return hasRequiredIsTrailingSurrogate||(hasRequiredIsTrailingSurrogate=1,isTrailingSurrogate=function($){return typeof $=="number"&&$>=56320&&$<=57343}),isTrailingSurrogate}var UTF16SurrogatePairToCodePoint,hasRequiredUTF16SurrogatePairToCodePoint;function requireUTF16SurrogatePairToCodePoint(){if(hasRequiredUTF16SurrogatePairToCodePoint)return UTF16SurrogatePairToCodePoint;hasRequiredUTF16SurrogatePairToCodePoint=1;var T=getIntrinsic$1,$=type$6,I=T("%String.fromCharCode%"),N=requireIsLeadingSurrogate(),L=requireIsTrailingSurrogate();return UTF16SurrogatePairToCodePoint=function(H,z){if(!N(H)||!L(z))throw new $("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return I(H)+I(z)},UTF16SurrogatePairToCodePoint}var CodePointAt,hasRequiredCodePointAt;function requireCodePointAt(){if(hasRequiredCodePointAt)return CodePointAt;hasRequiredCodePointAt=1;var T=type$6,$=callBound$7,I=requireIsLeadingSurrogate(),N=requireIsTrailingSurrogate(),L=requireUTF16SurrogatePairToCodePoint(),B=$("String.prototype.charAt"),H=$("String.prototype.charCodeAt");return CodePointAt=function(Q,te){if(typeof Q!="string")throw new T("Assertion failed: `string` must be a String");var G=Q.length;if(te<0||te>=G)throw new T("Assertion failed: `position` must be >= 0, and < the length of `string`");var ie=H(Q,te),Re=B(Q,te),$e=I(ie),Pe=N(ie);if(!$e&&!Pe)return{"[[CodePoint]]":Re,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(Pe||te+1===G)return{"[[CodePoint]]":Re,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var Me=H(Q,te+1);return N(Me)?{"[[CodePoint]]":L(ie,Me),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":Re,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},CodePointAt}var $isNaN$2=_isNaN$1,_isFinite=function($){return(typeof $=="number"||typeof $=="bigint")&&!$isNaN$2($)&&$!==1/0&&$!==-1/0};const isFinite$1=getDefaultExportFromCjs$1(_isFinite),_isFinite$1=_mergeNamespaces({__proto__:null,default:isFinite$1},[_isFinite]);var isInteger,hasRequiredIsInteger;function requireIsInteger(){if(hasRequiredIsInteger)return isInteger;hasRequiredIsInteger=1;var T=abs$3,$=floor$7,I=_isNaN$1,N=_isFinite$1;return isInteger=function(B){if(typeof B!="number"||I(B)||!N(B))return!1;var H=T(B);return $(H)===H},isInteger}var maxSafeInteger=Number.MAX_SAFE_INTEGER||9007199254740991;const maxSafeInteger$1=getDefaultExportFromCjs$1(maxSafeInteger),maxSafeInteger$2=_mergeNamespaces({__proto__:null,default:maxSafeInteger$1},[maxSafeInteger]);var AdvanceStringIndex$1,hasRequiredAdvanceStringIndex;function requireAdvanceStringIndex(){if(hasRequiredAdvanceStringIndex)return AdvanceStringIndex$1;hasRequiredAdvanceStringIndex=1;var T=requireCodePointAt(),$=type$6,I=requireIsInteger(),N=maxSafeInteger$2;return AdvanceStringIndex$1=function(B,H,z){if(typeof B!="string")throw new $("Assertion failed: `S` must be a String");if(!I(H)||H<0||H>N)throw new $("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(typeof z!="boolean")throw new $("Assertion failed: `unicode` must be a Boolean");if(!z)return H+1;var Q=B.length;if(H+1>=Q)return H+1;var te=T(B,H);return H+te["[[CodeUnitCount]]"]},AdvanceStringIndex$1}var CreateIterResultObject$1,hasRequiredCreateIterResultObject;function requireCreateIterResultObject(){if(hasRequiredCreateIterResultObject)return CreateIterResultObject$1;hasRequiredCreateIterResultObject=1;var T=type$6;return CreateIterResultObject$1=function(I,N){if(typeof N!="boolean")throw new T("Assertion failed: Type(done) is not Boolean");return{value:I,done:N}},CreateIterResultObject$1}var propertyDescriptor,hasRequiredPropertyDescriptor;function requirePropertyDescriptor(){if(hasRequiredPropertyDescriptor)return propertyDescriptor;hasRequiredPropertyDescriptor=1;var T=type$6,$=requireHasown(),I={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};return propertyDescriptor=function(L){if(!L||typeof L!="object")return!1;for(var B in L)if($(L,B)&&!I[B])return!1;var H=$(L,"[[Value]]")||$(L,"[[Writable]]"),z=$(L,"[[Get]]")||$(L,"[[Set]]");if(H&&z)throw new T("Property Descriptors may not be both accessor and data descriptors");return!0},propertyDescriptor}var DefineOwnProperty,hasRequiredDefineOwnProperty;function requireDefineOwnProperty(){if(hasRequiredDefineOwnProperty)return DefineOwnProperty;hasRequiredDefineOwnProperty=1;var T=hasPropertyDescriptors$1,$=esDefineProperty$1,I=T.hasArrayLengthDefineBug(),N=I&&IsArray$6,L=callBound$7,B=L("Object.prototype.propertyIsEnumerable");return DefineOwnProperty=function(z,Q,te,G,ie,Re){if(!$){if(!z(Re)||!Re["[[Configurable]]"]||!Re["[[Writable]]"]||ie in G&&B(G,ie)!==!!Re["[[Enumerable]]"])return!1;var $e=Re["[[Value]]"];return G[ie]=$e,Q(G[ie],$e)}return I&&ie==="length"&&"[[Value]]"in Re&&N(G)&&G.length!==Re["[[Value]]"]?(G.length=Re["[[Value]]"],G.length===Re["[[Value]]"]):($(G,ie,te(Re)),!0)},DefineOwnProperty}var fromPropertyDescriptor,hasRequiredFromPropertyDescriptor$1;function requireFromPropertyDescriptor$1(){return hasRequiredFromPropertyDescriptor$1||(hasRequiredFromPropertyDescriptor$1=1,fromPropertyDescriptor=function($){if(typeof $>"u")return $;var I={};return"[[Value]]"in $&&(I.value=$["[[Value]]"]),"[[Writable]]"in $&&(I.writable=!!$["[[Writable]]"]),"[[Get]]"in $&&(I.get=$["[[Get]]"]),"[[Set]]"in $&&(I.set=$["[[Set]]"]),"[[Enumerable]]"in $&&(I.enumerable=!!$["[[Enumerable]]"]),"[[Configurable]]"in $&&(I.configurable=!!$["[[Configurable]]"]),I}),fromPropertyDescriptor}var FromPropertyDescriptor,hasRequiredFromPropertyDescriptor;function requireFromPropertyDescriptor(){if(hasRequiredFromPropertyDescriptor)return FromPropertyDescriptor;hasRequiredFromPropertyDescriptor=1;var T=type$6,$=requirePropertyDescriptor(),I=requireFromPropertyDescriptor$1();return FromPropertyDescriptor=function(L){if(typeof L<"u"&&!$(L))throw new T("Assertion failed: `Desc` must be a Property Descriptor");return I(L)},FromPropertyDescriptor}var IsDataDescriptor,hasRequiredIsDataDescriptor;function requireIsDataDescriptor(){if(hasRequiredIsDataDescriptor)return IsDataDescriptor;hasRequiredIsDataDescriptor=1;var T=type$6,$=requireHasown(),I=requirePropertyDescriptor();return IsDataDescriptor=function(L){if(typeof L>"u")return!1;if(!I(L))throw new T("Assertion failed: `Desc` must be a Property Descriptor");return!(!$(L,"[[Value]]")&&!$(L,"[[Writable]]"))},IsDataDescriptor}var $isNaN$1=_isNaN$1,SameValue$1=function($,I){return $===I?$===0?1/$===1/I:!0:$isNaN$1($)&&$isNaN$1(I)};const SameValue$2=getDefaultExportFromCjs$1(SameValue$1),SameValue$3=_mergeNamespaces({__proto__:null,default:SameValue$2},[SameValue$1]);var ToPropertyDescriptor,hasRequiredToPropertyDescriptor;function requireToPropertyDescriptor(){if(hasRequiredToPropertyDescriptor)return ToPropertyDescriptor;hasRequiredToPropertyDescriptor=1;var T=requireHasown(),$=type$6,I=isObject$8,N=IsCallable$3,L=requireToBoolean();return ToPropertyDescriptor=function(H){if(!I(H))throw new $("ToPropertyDescriptor requires an object");var z={};if(T(H,"enumerable")&&(z["[[Enumerable]]"]=L(H.enumerable)),T(H,"configurable")&&(z["[[Configurable]]"]=L(H.configurable)),T(H,"value")&&(z["[[Value]]"]=H.value),T(H,"writable")&&(z["[[Writable]]"]=L(H.writable)),T(H,"get")){var Q=H.get;if(typeof Q<"u"&&!N(Q))throw new $("getter must be a function");z["[[Get]]"]=Q}if(T(H,"set")){var te=H.set;if(typeof te<"u"&&!N(te))throw new $("setter must be a function");z["[[Set]]"]=te}if((T(z,"[[Get]]")||T(z,"[[Set]]"))&&(T(z,"[[Value]]")||T(z,"[[Writable]]")))throw new $("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return z},ToPropertyDescriptor}var DefinePropertyOrThrow,hasRequiredDefinePropertyOrThrow;function requireDefinePropertyOrThrow(){if(hasRequiredDefinePropertyOrThrow)return DefinePropertyOrThrow;hasRequiredDefinePropertyOrThrow=1;var T=type$6,$=isObject$8,I=requirePropertyDescriptor(),N=requireDefineOwnProperty(),L=requireFromPropertyDescriptor(),B=requireIsDataDescriptor(),H=isPropertyKey$6,z=SameValue$3,Q=requireToPropertyDescriptor();return DefinePropertyOrThrow=function(G,ie,Re){if(!$(G))throw new T("Assertion failed: Type(O) is not Object");if(!H(ie))throw new T("Assertion failed: P is not a Property Key");var $e=I(Re)?Re:Q(Re);if(!I($e))throw new T("Assertion failed: Desc is not a valid Property Descriptor");return N(B,z,L,G,ie,$e)},DefinePropertyOrThrow}var isPrimitive$2,hasRequiredIsPrimitive$1;function requireIsPrimitive$1(){return hasRequiredIsPrimitive$1||(hasRequiredIsPrimitive$1=1,isPrimitive$2=function($){return $===null||typeof $!="function"&&typeof $!="object"}),isPrimitive$2}var IsExtensible,hasRequiredIsExtensible;function requireIsExtensible(){if(hasRequiredIsExtensible)return IsExtensible;hasRequiredIsExtensible=1;var T=getIntrinsic$1,$=T("%Object.preventExtensions%",!0),I=T("%Object.isExtensible%",!0),N=requireIsPrimitive$1();return IsExtensible=$?function(B){return!N(B)&&I(B)}:function(B){return!N(B)},IsExtensible}var DefineMethodProperty$1,hasRequiredDefineMethodProperty;function requireDefineMethodProperty(){if(hasRequiredDefineMethodProperty)return DefineMethodProperty$1;hasRequiredDefineMethodProperty=1;var T=type$6,$=isObject$8,I=requireDefinePropertyOrThrow(),N=requireIsExtensible(),L=isPropertyKey$6;return DefineMethodProperty$1=function(H,z,Q,te){if(!$(H))throw new T("Assertion failed: `homeObject` is not an Object");if(!L(z))throw new T("Assertion failed: `key` is not a Property Key or a Private Name");if(typeof Q!="function")throw new T("Assertion failed: `closure` is not a function");if(typeof te!="boolean")throw new T("Assertion failed: `enumerable` is not a Boolean");if(!N(H))throw new T("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");var G={"[[Value]]":Q,"[[Writable]]":!0,"[[Enumerable]]":te,"[[Configurable]]":!0};I(H,z,G)},DefineMethodProperty$1}var forEach$4,hasRequiredForEach;function requireForEach(){return hasRequiredForEach||(hasRequiredForEach=1,forEach$4=function($,I){for(var N=0;N<$.length;N+=1)I($[N],N,$)}),forEach$4}var sideChannelList,hasRequiredSideChannelList;function requireSideChannelList(){if(hasRequiredSideChannelList)return sideChannelList;hasRequiredSideChannelList=1;var T=objectInspect$1,$=type$6,I=function(z,Q,te){for(var G=z,ie;(ie=G.next)!=null;G=ie)if(ie.key===Q)return G.next=ie.next,te||(ie.next=z.next,z.next=ie),ie},N=function(z,Q){if(z){var te=I(z,Q);return te&&te.value}},L=function(z,Q,te){var G=I(z,Q);G?G.value=te:z.next={key:Q,next:z.next,value:te}},B=function(z,Q){return z?!!I(z,Q):!1},H=function(z,Q){if(z)return I(z,Q,!0)};return sideChannelList=function(){var Q,te={assert:function(G){if(!te.has(G))throw new $("Side channel does not contain "+T(G))},delete:function(G){var ie=Q&&Q.next,Re=H(Q,G);return Re&&ie&&ie===Re&&(Q=void 0),!!Re},get:function(G){return N(Q,G)},has:function(G){return B(Q,G)},set:function(G,ie){Q||(Q={next:void 0}),L(Q,G,ie)}};return te},sideChannelList}var sideChannelMap,hasRequiredSideChannelMap;function requireSideChannelMap(){if(hasRequiredSideChannelMap)return sideChannelMap;hasRequiredSideChannelMap=1;var T=getIntrinsic$1,$=callBound$7,I=objectInspect$1,N=type$6,L=T("%Map%",!0),B=$("Map.prototype.get",!0),H=$("Map.prototype.set",!0),z=$("Map.prototype.has",!0),Q=$("Map.prototype.delete",!0),te=$("Map.prototype.size",!0);return sideChannelMap=!!L&&function(){var ie,Re={assert:function($e){if(!Re.has($e))throw new N("Side channel does not contain "+I($e))},delete:function($e){if(ie){var Pe=Q(ie,$e);return te(ie)===0&&(ie=void 0),Pe}return!1},get:function($e){if(ie)return B(ie,$e)},has:function($e){return ie?z(ie,$e):!1},set:function($e,Pe){ie||(ie=new L),H(ie,$e,Pe)}};return Re},sideChannelMap}var sideChannelWeakmap,hasRequiredSideChannelWeakmap;function requireSideChannelWeakmap(){if(hasRequiredSideChannelWeakmap)return sideChannelWeakmap;hasRequiredSideChannelWeakmap=1;var T=getIntrinsic$1,$=callBound$7,I=objectInspect$1,N=requireSideChannelMap(),L=type$6,B=T("%WeakMap%",!0),H=$("WeakMap.prototype.get",!0),z=$("WeakMap.prototype.set",!0),Q=$("WeakMap.prototype.has",!0),te=$("WeakMap.prototype.delete",!0);return sideChannelWeakmap=B?function(){var ie,Re,$e={assert:function(Pe){if(!$e.has(Pe))throw new L("Side channel does not contain "+I(Pe))},delete:function(Pe){if(B&&Pe&&(typeof Pe=="object"||typeof Pe=="function")){if(ie)return te(ie,Pe)}else if(N&&Re)return Re.delete(Pe);return!1},get:function(Pe){return B&&Pe&&(typeof Pe=="object"||typeof Pe=="function")&&ie?H(ie,Pe):Re&&Re.get(Pe)},has:function(Pe){return B&&Pe&&(typeof Pe=="object"||typeof Pe=="function")&&ie?Q(ie,Pe):!!Re&&Re.has(Pe)},set:function(Pe,Me){B&&Pe&&(typeof Pe=="object"||typeof Pe=="function")?(ie||(ie=new B),z(ie,Pe,Me)):N&&(Re||(Re=N()),Re.set(Pe,Me))}};return $e}:N,sideChannelWeakmap}var sideChannel,hasRequiredSideChannel;function requireSideChannel(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var T=type$6,$=objectInspect$1,I=requireSideChannelList(),N=requireSideChannelMap(),L=requireSideChannelWeakmap(),B=L||N||I;return sideChannel=function(){var z,Q={assert:function(te){if(!Q.has(te))throw new T("Side channel does not contain "+$(te))},delete:function(te){return!!z&&z.delete(te)},get:function(te){return z&&z.get(te)},has:function(te){return!!z&&z.has(te)},set:function(te,G){z||(z=B()),z.set(te,G)}};return Q},sideChannel}var internalSlot,hasRequiredInternalSlot;function requireInternalSlot(){if(hasRequiredInternalSlot)return internalSlot;hasRequiredInternalSlot=1;var T=requireHasown(),$=requireSideChannel()(),I=type$6,N={assert:function(L,B){if(!L||typeof L!="object"&&typeof L!="function")throw new I("`O` is not an object");if(typeof B!="string")throw new I("`slot` must be a string");if($.assert(L),!N.has(L,B))throw new I("`"+B+"` is not present on `O`")},get:function(L,B){if(!L||typeof L!="object"&&typeof L!="function")throw new I("`O` is not an object");if(typeof B!="string")throw new I("`slot` must be a string");var H=$.get(L);return H&&H["$"+B]},has:function(L,B){if(!L||typeof L!="object"&&typeof L!="function")throw new I("`O` is not an object");if(typeof B!="string")throw new I("`slot` must be a string");var H=$.get(L);return!!H&&T(H,"$"+B)},set:function(L,B,H){if(!L||typeof L!="object"&&typeof L!="function")throw new I("`O` is not an object");if(typeof B!="string")throw new I("`slot` must be a string");var z=$.get(L);z||(z={},$.set(L,z)),z["$"+B]=H}};return Object.freeze&&Object.freeze(N),internalSlot=N,internalSlot}var hasProto,hasRequiredHasProto;function requireHasProto(){if(hasRequiredHasProto)return hasProto;hasRequiredHasProto=1;var T={__proto__:null,foo:{}},$={__proto__:T}.foo===T.foo&&!(T instanceof Object);return hasProto=function(){return $},hasProto}var OrdinaryObjectCreate$1,hasRequiredOrdinaryObjectCreate;function requireOrdinaryObjectCreate(){if(hasRequiredOrdinaryObjectCreate)return OrdinaryObjectCreate$1;hasRequiredOrdinaryObjectCreate=1;var T=getIntrinsic$1,$=T("%Object.create%",!0),I=type$6,N=syntax$2,L=isObject$8,B=IsArray$3,H=requireForEach(),z=requireInternalSlot(),Q=requireHasProto()();return OrdinaryObjectCreate$1=function(G){if(G!==null&&!L(G))throw new I("Assertion failed: `proto` must be null or an object");var ie=arguments.length<2?[]:arguments[1];if(!B(ie))throw new I("Assertion failed: `additionalInternalSlotsList` must be an Array");var Re;if(Q)Re={__proto__:G};else if($)Re=$(G);else{if(G===null)throw new N("native Object.create support is required to create null objects");var $e=function(){};$e.prototype=G,Re=new $e}return ie.length>0&&H(ie,function(Pe){z.set(Re,Pe,void 0)}),Re},OrdinaryObjectCreate$1}var RegExpExec$1,hasRequiredRegExpExec;function requireRegExpExec(){if(hasRequiredRegExpExec)return RegExpExec$1;hasRequiredRegExpExec=1;var T=type$6,$=isObject$8,I=callBound$7("RegExp.prototype.exec"),N=Call$3,L=Get$5,B=IsCallable$3;return RegExpExec$1=function(z,Q){if(!$(z))throw new T("Assertion failed: `R` must be an Object");if(typeof Q!="string")throw new T("Assertion failed: `S` must be a String");var te=L(z,"exec");if(B(te)){var G=N(te,z,[Q]);if(G===null||$(G))return G;throw new T('"exec" method must return `null` or an Object')}return I(z,Q)},RegExpExec$1}var $TypeError$6=type$6,isObject$3=isObject$8,isPropertyKey=isPropertyKey$6,SameValue=SameValue$3,noThrowOnStrictViolation=function(){try{return delete[].length,!0}catch{return!1}}(),_Set=function($,I,N,L){if(!isObject$3($))throw new $TypeError$6("Assertion failed: `O` must be an Object");if(!isPropertyKey(I))throw new $TypeError$6("Assertion failed: `P` must be a Property Key");if(typeof L!="boolean")throw new $TypeError$6("Assertion failed: `Throw` must be a Boolean");if(L){if($[I]=N,noThrowOnStrictViolation&&!SameValue($[I],N))throw new $TypeError$6("Attempted to assign to readonly property.");return!0}try{return $[I]=N,noThrowOnStrictViolation?SameValue($[I],N):!0}catch{return!1}};const Set$3=getDefaultExportFromCjs$1(_Set),_Set$1=_mergeNamespaces({__proto__:null,default:Set$3},[_Set]);var isPrimitive$1,hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,isPrimitive$1=function($){return $===null||typeof $!="function"&&typeof $!="object"}),isPrimitive$1}var isDateObject,hasRequiredIsDateObject;function requireIsDateObject(){if(hasRequiredIsDateObject)return isDateObject;hasRequiredIsDateObject=1;var T=callBound$7,$=T("Date.prototype.getDay"),I=function(z){try{return $(z),!0}catch{return!1}},N=T("Object.prototype.toString"),L="[object Date]",B=requireShams()();return isDateObject=function(z){return typeof z!="object"||z===null?!1:B?I(z):N(z)===L},isDateObject}var isSymbol={exports:{}},safeRegexTest$1,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest$1;hasRequiredSafeRegexTest=1;var T=callBound$7,$=requireIsRegex(),I=T("RegExp.prototype.exec"),N=type$6;return safeRegexTest$1=function(B){if(!$(B))throw new N("`regex` must be a RegExp");return function(z){return I(B,z)!==null}},safeRegexTest$1}var hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol.exports;hasRequiredIsSymbol=1;var T=callBound$7,$=T("Object.prototype.toString"),I=hasSymbols$7(),N=requireSafeRegexTest();if(I){var L=T("Symbol.prototype.toString"),B=N(/^Symbol\(.*\)$/),H=function(Q){return typeof Q.valueOf()!="symbol"?!1:B(L(Q))};isSymbol.exports=function(Q){if(typeof Q=="symbol")return!0;if(!Q||typeof Q!="object"||$(Q)!=="[object Symbol]")return!1;try{return H(Q)}catch{return!1}}}else isSymbol.exports=function(Q){return!1};return isSymbol.exports}var es2015,hasRequiredEs2015;function requireEs2015(){if(hasRequiredEs2015)return es2015;hasRequiredEs2015=1;var T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",$=requireIsPrimitive(),I=isCallable$2,N=requireIsDateObject(),L=requireIsSymbol(),B=function(Q,te){if(typeof Q>"u"||Q===null)throw new TypeError("Cannot call method on "+Q);if(typeof te!="string"||te!=="number"&&te!=="string")throw new TypeError('hint must be "string" or "number"');var G=te==="string"?["toString","valueOf"]:["valueOf","toString"],ie,Re,$e;for($e=0;$e<G.length;++$e)if(ie=Q[G[$e]],I(ie)&&(Re=ie.call(Q),$(Re)))return Re;throw new TypeError("No default value")},H=function(Q,te){var G=Q[te];if(G!==null&&typeof G<"u"){if(!I(G))throw new TypeError(G+" returned for property "+String(te)+" of object "+Q+" is not a function");return G}};return es2015=function(Q){if($(Q))return Q;var te="default";arguments.length>1&&(arguments[1]===String?te="string":arguments[1]===Number&&(te="number"));var G;if(T&&(Symbol.toPrimitive?G=H(Q,Symbol.toPrimitive):L(Q)&&(G=Symbol.prototype.valueOf)),typeof G<"u"){var ie=G.call(Q,te);if($(ie))return ie;throw new TypeError("unable to convert exotic object to primitive")}return te==="default"&&(N(Q)||L(Q))&&(te="string"),B(Q,te==="default"?"number":te)},es2015}var ToPrimitive$1,hasRequiredToPrimitive;function requireToPrimitive(){if(hasRequiredToPrimitive)return ToPrimitive$1;hasRequiredToPrimitive=1;var T=requireEs2015();return ToPrimitive$1=function(I){return arguments.length>1?T(I,arguments[1]):T(I)},ToPrimitive$1}var implementation$5,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation$5;hasRequiredImplementation=1;var T=RequireObjectCoercible$3,$=ToString$5,I=callBound$7,N=I("String.prototype.replace"),L=/^\s$/.test("᠎"),B=L?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,H=L?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return implementation$5=function(){var Q=$(T(this));return N(N(Q,B,""),H,"")},implementation$5}var polyfill$3,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill$3;hasRequiredPolyfill=1;var T=requireImplementation(),$="​",I="᠎";return polyfill$3=function(){return String.prototype.trim&&$.trim()===$&&I.trim()===I&&("_"+I).trim()==="_"+I&&(I+"_").trim()===I+"_"?String.prototype.trim:T},polyfill$3}var shim$4,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim$4;hasRequiredShim=1;var T=hasPropertyDescriptors$1(),$=defineDataProperty$2,I=requirePolyfill();return shim$4=function(){var L=I();return String.prototype.trim!==L&&(T?$(String.prototype,"trim",L,!0):$(String.prototype,"trim",L)),L},shim$4}var string_prototype_trim,hasRequiredString_prototype_trim;function requireString_prototype_trim(){if(hasRequiredString_prototype_trim)return string_prototype_trim;hasRequiredString_prototype_trim=1;var T=callBind$3,$=defineProperties$1,I=RequireObjectCoercible$3,N=requireImplementation(),L=requirePolyfill(),B=requireShim(),H=T(L()),z=function(te){return I(te),H(te)};return $(z,{getPolyfill:L,implementation:N,shim:B}),string_prototype_trim=z,string_prototype_trim}var StringToNumber$1,hasRequiredStringToNumber;function requireStringToNumber(){if(hasRequiredStringToNumber)return StringToNumber$1;hasRequiredStringToNumber=1;var T=getIntrinsic$1,$=T("%RegExp%"),I=type$6,N=T("%parseInt%"),L=callBound$7,B=requireSafeRegexTest(),H=L("String.prototype.slice"),z=B(/^0b[01]+$/i),Q=B(/^0o[0-7]+$/i),te=B(/^[-+]0x[0-9a-f]+$/i),G=["","​","￾"].join(""),ie=new $("["+G+"]","g"),Re=B(ie),$e=requireString_prototype_trim();return StringToNumber$1=function Pe(Me){if(typeof Me!="string")throw new I("Assertion failed: `argument` is not a String");if(z(Me))return+N(H(Me,2),2);if(Q(Me))return+N(H(Me,2),8);if(Re(Me)||te(Me))return NaN;var Be=$e(Me);return Be!==Me?Pe(Be):+Me},StringToNumber$1}var GetIntrinsic$5=getIntrinsic$1,$TypeError$5=type$6,$Number=GetIntrinsic$5("%Number%"),isPrimitive=requireIsPrimitive$1(),ToPrimitive=requireToPrimitive(),StringToNumber=requireStringToNumber(),ToNumber$1=function($){var I=isPrimitive($)?$:ToPrimitive($,$Number);if(typeof I=="symbol")throw new $TypeError$5("Cannot convert a Symbol value to a number");if(typeof I=="bigint")throw new $TypeError$5("Conversion from 'BigInt' to 'number' is not allowed.");return typeof I=="string"?StringToNumber(I):+I};const ToNumber$2=getDefaultExportFromCjs$1(ToNumber$1),ToNumber$3=_mergeNamespaces({__proto__:null,default:ToNumber$2},[ToNumber$1]);var $floor=floor$7,floor$1=function($){return typeof $=="bigint"?$:$floor($)};const floor$2=getDefaultExportFromCjs$1(floor$1),floor$3=_mergeNamespaces({__proto__:null,default:floor$2},[floor$1]);var floor=floor$3,$TypeError$4=type$6,truncate$1=function($){if(typeof $!="number"&&typeof $!="bigint")throw new $TypeError$4("argument must be a Number or a BigInt");var I=$<0?-floor(-$):floor($);return I===0?0:I};const truncate$2=getDefaultExportFromCjs$1(truncate$1),truncate$3=_mergeNamespaces({__proto__:null,default:truncate$2},[truncate$1]);var ToNumber=ToNumber$3,truncate=truncate$3,$isNaN=_isNaN$1,$isFinite=_isFinite$1,ToIntegerOrInfinity$1=function($){var I=ToNumber($);return $isNaN(I)||I===0?0:$isFinite(I)?truncate(I):I};const ToIntegerOrInfinity$2=getDefaultExportFromCjs$1(ToIntegerOrInfinity$1),ToIntegerOrInfinity$3=_mergeNamespaces({__proto__:null,default:ToIntegerOrInfinity$2},[ToIntegerOrInfinity$1]);var MAX_SAFE_INTEGER=maxSafeInteger$2,ToIntegerOrInfinity=ToIntegerOrInfinity$3,ToLength$2=function($){var I=ToIntegerOrInfinity($);return I<=0?0:I>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:I};const ToLength$3=getDefaultExportFromCjs$1(ToLength$2),ToLength$4=_mergeNamespaces({__proto__:null,default:ToLength$3},[ToLength$2]);var esSetTostringtag,hasRequiredEsSetTostringtag;function requireEsSetTostringtag(){if(hasRequiredEsSetTostringtag)return esSetTostringtag;hasRequiredEsSetTostringtag=1;var T=getIntrinsic$1,$=T("%Object.defineProperty%",!0),I=requireShams()(),N=requireHasown(),L=type$6,B=I?Symbol.toStringTag:null;return esSetTostringtag=function(z,Q){var te=arguments.length>2&&!!arguments[2]&&arguments[2].force,G=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof te<"u"&&typeof te!="boolean"||typeof G<"u"&&typeof G!="boolean")throw new L("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");B&&(te||!N(z,B))&&($?$(z,B,{configurable:!G,enumerable:!1,value:Q,writable:!1}):z[B]=Q)},esSetTostringtag}var GetIntrinsic$4=getIntrinsic$1,hasSymbols$3=hasSymbols$7(),$TypeError$3=type$6,isObject$2=isObject$8,IteratorPrototype=GetIntrinsic$4("%IteratorPrototype%",!0),AdvanceStringIndex=requireAdvanceStringIndex(),CreateIterResultObject=requireCreateIterResultObject(),DefineMethodProperty=requireDefineMethodProperty(),Get$2=Get$5,OrdinaryObjectCreate=requireOrdinaryObjectCreate(),RegExpExec=requireRegExpExec(),Set$2=_Set$1,ToLength$1=ToLength$4,ToString$2=ToString$5,SLOT=requireInternalSlot(),setToStringTag=requireEsSetTostringtag(),RegExpStringIterator=function($,I,N,L){if(typeof I!="string")throw new $TypeError$3("`S` must be a string");if(typeof N!="boolean")throw new $TypeError$3("`global` must be a boolean");if(typeof L!="boolean")throw new $TypeError$3("`fullUnicode` must be a boolean");SLOT.set(this,"[[IteratingRegExp]]",$),SLOT.set(this,"[[IteratedString]]",I),SLOT.set(this,"[[Global]]",N),SLOT.set(this,"[[Unicode]]",L),SLOT.set(this,"[[Done]]",!1)};IteratorPrototype&&(RegExpStringIterator.prototype=OrdinaryObjectCreate(IteratorPrototype));var RegExpStringIteratorNext=function(){var $=this;if(!isObject$2($))throw new $TypeError$3("receiver must be an object");if(!($ instanceof RegExpStringIterator)||!SLOT.has($,"[[IteratingRegExp]]")||!SLOT.has($,"[[IteratedString]]")||!SLOT.has($,"[[Global]]")||!SLOT.has($,"[[Unicode]]")||!SLOT.has($,"[[Done]]"))throw new $TypeError$3('"this" value must be a RegExpStringIterator instance');if(SLOT.get($,"[[Done]]"))return CreateIterResultObject(void 0,!0);var I=SLOT.get($,"[[IteratingRegExp]]"),N=SLOT.get($,"[[IteratedString]]"),L=SLOT.get($,"[[Global]]"),B=SLOT.get($,"[[Unicode]]"),H=RegExpExec(I,N);if(H===null)return SLOT.set($,"[[Done]]",!0),CreateIterResultObject(void 0,!0);if(L){var z=ToString$2(Get$2(H,"0"));if(z===""){var Q=ToLength$1(Get$2(I,"lastIndex")),te=AdvanceStringIndex(N,Q,B);Set$2(I,"lastIndex",te,!0)}return CreateIterResultObject(H,!1)}return SLOT.set($,"[[Done]]",!0),CreateIterResultObject(H,!1)};DefineMethodProperty(RegExpStringIterator.prototype,"next",RegExpStringIteratorNext,!1);if(hasSymbols$3&&(setToStringTag(RegExpStringIterator.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof RegExpStringIterator.prototype[Symbol.iterator]!="function")){var iteratorFn=function(){return this};DefineMethodProperty(RegExpStringIterator.prototype,Symbol.iterator,iteratorFn,!1)}var CreateRegExpStringIterator$1=function($,I,N,L){return new RegExpStringIterator($,I,N,L)};const CreateRegExpStringIterator$2=getDefaultExportFromCjs$1(CreateRegExpStringIterator$1),CreateRegExpStringIterator$3=_mergeNamespaces({__proto__:null,default:CreateRegExpStringIterator$2},[CreateRegExpStringIterator$1]);var IsConstructor$1={exports:{}},GetIntrinsic$3,hasRequiredGetIntrinsic;function requireGetIntrinsic(){return hasRequiredGetIntrinsic||(hasRequiredGetIntrinsic=1,GetIntrinsic$3=getIntrinsic$1),GetIntrinsic$3}var hasRequiredIsConstructor;function requireIsConstructor(){if(hasRequiredIsConstructor)return IsConstructor$1.exports;hasRequiredIsConstructor=1;var T=requireGetIntrinsic(),$=T("%Reflect.construct%",!0),I=requireDefinePropertyOrThrow();try{I({},"",{"[[Get]]":function(){}})}catch{I=null}if(I&&$){var N={},L={};I(L,"length",{"[[Get]]":function(){throw N},"[[Enumerable]]":!0}),IsConstructor$1.exports=function(H){try{$(H,L)}catch(z){return z===N}}}else IsConstructor$1.exports=function(H){return typeof H=="function"&&!!H.prototype};return IsConstructor$1.exports}var GetIntrinsic$2=getIntrinsic$1,$species=GetIntrinsic$2("%Symbol.species%",!0),$TypeError$2=type$6,isObject$1=isObject$8,IsConstructor=requireIsConstructor(),SpeciesConstructor$1=function($,I){if(!isObject$1($))throw new $TypeError$2("Assertion failed: Type(O) is not Object");var N=$.constructor;if(typeof N>"u")return I;if(!isObject$1(N))throw new $TypeError$2("O.constructor is not an Object");var L=$species?N[$species]:void 0;if(L==null)return I;if(IsConstructor(L))return L;throw new $TypeError$2("no constructor found")};const SpeciesConstructor$2=getDefaultExportFromCjs$1(SpeciesConstructor$1),SpeciesConstructor$3=_mergeNamespaces({__proto__:null,default:SpeciesConstructor$2},[SpeciesConstructor$1]);var isObject=isObject$8,Type$5=function($){if($===null)return"Null";if(typeof $>"u")return"Undefined";if(isObject($))return"Object";if(typeof $=="number")return"Number";if(typeof $=="boolean")return"Boolean";if(typeof $=="string")return"String"};const Type$6=getDefaultExportFromCjs$1(Type$5),Type$7=_mergeNamespaces({__proto__:null,default:Type$6},[Type$5]);var ES5Type=Type$7,Type$2=function($){return typeof $=="symbol"?"Symbol":typeof $=="bigint"?"BigInt":ES5Type($)};const Type$3=getDefaultExportFromCjs$1(Type$2),Type$4=_mergeNamespaces({__proto__:null,default:Type$3},[Type$2]);var CreateRegExpStringIterator=CreateRegExpStringIterator$3,Get$1=Get$5,Set$1=_Set$1,SpeciesConstructor=SpeciesConstructor$3,ToLength=ToLength$4,ToString$1=ToString$5,Type$1=Type$4,flagsGetter$1=regexp_prototype_flags$1,setFunctionName=setFunctionName$3,callBound$4=callBound$7,GetIntrinsic$1=getIntrinsic$1,$TypeError$1=type$6,$indexOf$2=callBound$4("String.prototype.indexOf"),OrigRegExp=GetIntrinsic$1("%RegExp%"),supportsConstructingWithFlags="flags"in OrigRegExp.prototype,constructRegexWithFlags=function($,I){var N,L="flags"in I?Get$1(I,"flags"):ToString$1(flagsGetter$1(I));return supportsConstructingWithFlags&&typeof L=="string"?N=new $(I,L):$===OrigRegExp?N=new $(I.source,L):N=new $(I,L),{flags:L,matcher:N}},regexMatchAll=setFunctionName(function($){var I=this;if(Type$1(I)!=="Object")throw new $TypeError$1('"this" value must be an Object');var N=ToString$1($),L=SpeciesConstructor(I,OrigRegExp),B=constructRegexWithFlags(L,I),H=B.flags,z=B.matcher,Q=ToLength(Get$1(I,"lastIndex"));Set$1(z,"lastIndex",Q,!0);var te=$indexOf$2(H,"g")>-1,G=$indexOf$2(H,"u")>-1;return CreateRegExpStringIterator(z,N,te,G)},"[Symbol.matchAll]",!0),regexpMatchall=regexMatchAll;const regexpMatchall$1=getDefaultExportFromCjs$1(regexpMatchall),regexpMatchall$2=_mergeNamespaces({__proto__:null,default:regexpMatchall$1},[regexpMatchall]);var hasSymbols$2=hasSymbols$7(),regexpMatchAll=regexpMatchall$2,polyfillRegexpMatchall=function(){return!hasSymbols$2||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?regexpMatchAll:RegExp.prototype[Symbol.matchAll]};const polyfillRegexpMatchall$1=getDefaultExportFromCjs$1(polyfillRegexpMatchall),polyfillRegexpMatchall$2=_mergeNamespaces({__proto__:null,default:polyfillRegexpMatchall$1},[polyfillRegexpMatchall]);var Call=Call$3,Get=Get$5,GetMethod=GetMethod$3,IsRegExp=IsRegExp$3,ToString=ToString$5,RequireObjectCoercible=RequireObjectCoercible$3,callBound$3=callBound$7,hasSymbols$1=hasSymbols$7(),flagsGetter=regexp_prototype_flags$1,GetIntrinsic=getIntrinsic$1,$TypeError=type$6,$RegExp=GetIntrinsic("%RegExp%"),$indexOf$1=callBound$3("String.prototype.indexOf"),regexpMatchAllPolyfill$1=polyfillRegexpMatchall$2,getMatcher=function($){var I=regexpMatchAllPolyfill$1();if(hasSymbols$1&&typeof Symbol.matchAll=="symbol"){var N=GetMethod($,Symbol.matchAll);return N===$RegExp.prototype[Symbol.matchAll]&&N!==I?I:N}if(IsRegExp($))return I},implementation$2=function($){var I=RequireObjectCoercible(this);if(typeof $<"u"&&$!==null){var N=IsRegExp($);if(N){var L="flags"in $?Get($,"flags"):flagsGetter($);if(RequireObjectCoercible(L),$indexOf$1(ToString(L),"g")<0)throw new $TypeError("matchAll requires a global regular expression")}var B=getMatcher($);if(typeof B<"u")return Call(B,$,[I])}var H=ToString(I),z=new $RegExp($,"g");return Call(getMatcher(z),z,[H])};const implementation$3=getDefaultExportFromCjs$1(implementation$2),implementation$4=_mergeNamespaces({__proto__:null,default:implementation$3},[implementation$2]);var implementation$1=implementation$4,polyfill=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return implementation$1};const polyfill$1=getDefaultExportFromCjs$1(polyfill),polyfill$2=_mergeNamespaces({__proto__:null,default:polyfill$1},[polyfill]);var define$1=defineProperties$1,hasSymbols=hasSymbols$7(),gOPD$1=gopd$2,getPolyfill$1=polyfill$2,regexpMatchAllPolyfill=polyfillRegexpMatchall$2,defineP=Object.defineProperty,shim$1=function(){var $=getPolyfill$1();if(define$1(String.prototype,{matchAll:$},{matchAll:function(){return String.prototype.matchAll!==$}}),hasSymbols){var I=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(define$1(Symbol,{matchAll:I},{matchAll:function(){return Symbol.matchAll!==I}}),defineP&&gOPD$1){var N=gOPD$1(Symbol,I);(!N||N.configurable)&&defineP(Symbol,I,{configurable:!1,enumerable:!1,value:I,writable:!1})}var L=regexpMatchAllPolyfill(),B={};B[I]=L;var H={};H[I]=function(){return RegExp.prototype[I]!==L},define$1(RegExp.prototype,B,H)}return $};const shim$2=getDefaultExportFromCjs$1(shim$1),shim$3=_mergeNamespaces({__proto__:null,default:shim$2},[shim$1]);var callBind$1=callBind$3,define=defineProperties$1,implementation=implementation$4,getPolyfill=polyfill$2,shim=shim$3,boundMatchAll=callBind$1(implementation);define(boundMatchAll,{getPolyfill,implementation,shim});var string_prototype_matchall=boundMatchAll;const index$m=getDefaultExportFromCjs$1(string_prototype_matchall),string_prototype_matchall$1=_mergeNamespaces({__proto__:null,default:index$m},[string_prototype_matchall]);var Token,TokenName,FnExprTokens,PropertyKind,Messages,Regex,SyntaxTreeDelegate,source,strict,index$l,lineNumber,lineStart,length$1,delegate,lookahead,state$6,extra;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9};TokenName={};TokenName[Token.BooleanLiteral]="Boolean";TokenName[Token.EOF]="<end>";TokenName[Token.Identifier]="Identifier";TokenName[Token.Keyword]="Keyword";TokenName[Token.NullLiteral]="Null";TokenName[Token.NumericLiteral]="Numeric";TokenName[Token.Punctuator]="Punctuator";TokenName[Token.StringLiteral]="String";TokenName[Token.RegularExpression]="RegularExpression";FnExprTokens=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};PropertyKind={Data:1,Get:2,Set:4};Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};Regex={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function assert$h(T,$){if(!T)throw new Error("ASSERT: "+$)}function isDecimalDigit(T){return T>=48&&T<=57}function isHexDigit(T){return"0123456789abcdefABCDEF".indexOf(T)>=0}function isOctalDigit(T){return"01234567".indexOf(T)>=0}function isWhiteSpace(T){return T===32||T===9||T===11||T===12||T===160||T>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(T)>=0}function isLineTerminator(T){return T===10||T===13||T===8232||T===8233}function isIdentifierStart(T){return T==64||T===36||T===95||T>=65&&T<=90||T>=97&&T<=122||T===92||T>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(T))}function isIdentifierPart(T){return T===36||T===95||T>=65&&T<=90||T>=97&&T<=122||T>=48&&T<=57||T===92||T>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(T))}function isFutureReservedWord(T){switch(T){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function isStrictModeReservedWord(T){switch(T){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function isRestrictedWord(T){return T==="eval"||T==="arguments"}function isKeyword(T){if(strict&&isStrictModeReservedWord(T))return!0;switch(T.length){case 2:return T==="if"||T==="in"||T==="do";case 3:return T==="var"||T==="for"||T==="new"||T==="try"||T==="let";case 4:return T==="this"||T==="else"||T==="case"||T==="void"||T==="with"||T==="enum";case 5:return T==="while"||T==="break"||T==="catch"||T==="throw"||T==="const"||T==="yield"||T==="class"||T==="super";case 6:return T==="return"||T==="typeof"||T==="delete"||T==="switch"||T==="export"||T==="import";case 7:return T==="default"||T==="finally"||T==="extends";case 8:return T==="function"||T==="continue"||T==="debugger";case 10:return T==="instanceof";default:return!1}}function addComment(T,$,I,N,L){var B;assert$h(typeof I=="number","Comment must have valid position"),!(state$6.lastCommentStart>=I)&&(state$6.lastCommentStart=I,B={type:T,value:$},extra.range&&(B.range=[I,N]),extra.loc&&(B.loc=L),extra.comments.push(B),extra.attachComment&&(extra.leadingComments.push(B),extra.trailingComments.push(B)))}function skipSingleLineComment(T){var $,I,N,L;for($=index$l-T,I={start:{line:lineNumber,column:index$l-lineStart-T}};index$l<length$1;)if(N=source.charCodeAt(index$l),++index$l,isLineTerminator(N)){extra.comments&&(L=source.slice($+T,index$l-1),I.end={line:lineNumber,column:index$l-lineStart-1},addComment("Line",L,$,index$l-1,I)),N===13&&source.charCodeAt(index$l)===10&&++index$l,++lineNumber,lineStart=index$l;return}extra.comments&&(L=source.slice($+T,index$l),I.end={line:lineNumber,column:index$l-lineStart},addComment("Line",L,$,index$l,I))}function skipMultiLineComment(){var T,$,I,N;for(extra.comments&&(T=index$l-2,$={start:{line:lineNumber,column:index$l-lineStart-2}});index$l<length$1;)if(I=source.charCodeAt(index$l),isLineTerminator(I))I===13&&source.charCodeAt(index$l+1)===10&&++index$l,++lineNumber,++index$l,lineStart=index$l,index$l>=length$1&&throwError({},Messages.UnexpectedToken,"ILLEGAL");else if(I===42){if(source.charCodeAt(index$l+1)===47){++index$l,++index$l,extra.comments&&(N=source.slice(T+2,index$l-2),$.end={line:lineNumber,column:index$l-lineStart},addComment("Block",N,T,index$l,$));return}++index$l}else++index$l;throwError({},Messages.UnexpectedToken,"ILLEGAL")}function skipComment(){var T,$;for($=index$l===0;index$l<length$1;)if(T=source.charCodeAt(index$l),isWhiteSpace(T))++index$l;else if(isLineTerminator(T))++index$l,T===13&&source.charCodeAt(index$l)===10&&++index$l,++lineNumber,lineStart=index$l,$=!0;else if(T===47)if(T=source.charCodeAt(index$l+1),T===47)++index$l,++index$l,skipSingleLineComment(2),$=!0;else if(T===42)++index$l,++index$l,skipMultiLineComment();else break;else if($&&T===45)if(source.charCodeAt(index$l+1)===45&&source.charCodeAt(index$l+2)===62)index$l+=3,skipSingleLineComment(3);else break;else if(T===60)if(source.slice(index$l+1,index$l+4)==="!--")++index$l,++index$l,++index$l,++index$l,skipSingleLineComment(4);else break;else break}function scanHexEscape(T){var $,I,N,L=0;for(I=T==="u"?4:2,$=0;$<I;++$)if(index$l<length$1&&isHexDigit(source[index$l]))N=source[index$l++],L=L*16+"0123456789abcdef".indexOf(N.toLowerCase());else return"";return String.fromCharCode(L)}function getEscapedIdentifier(){var T,$;for(T=source.charCodeAt(index$l++),$=String.fromCharCode(T),T===92&&(source.charCodeAt(index$l)!==117&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),++index$l,T=scanHexEscape("u"),(!T||T==="\\"||!isIdentifierStart(T.charCodeAt(0)))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),$=T);index$l<length$1&&(T=source.charCodeAt(index$l),!!isIdentifierPart(T));)++index$l,$+=String.fromCharCode(T),T===92&&($=$.substr(0,$.length-1),source.charCodeAt(index$l)!==117&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),++index$l,T=scanHexEscape("u"),(!T||T==="\\"||!isIdentifierPart(T.charCodeAt(0)))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),$+=T);return $}function getIdentifier(){var T,$;for(T=index$l++;index$l<length$1;){if($=source.charCodeAt(index$l),$===92)return index$l=T,getEscapedIdentifier();if(isIdentifierPart($))++index$l;else break}return source.slice(T,index$l)}function scanIdentifier(){var T,$,I;return T=index$l,$=source.charCodeAt(index$l)===92?getEscapedIdentifier():getIdentifier(),$.length===1?I=Token.Identifier:isKeyword($)?I=Token.Keyword:$==="null"?I=Token.NullLiteral:$==="true"||$==="false"?I=Token.BooleanLiteral:I=Token.Identifier,{type:I,value:$,lineNumber,lineStart,start:T,end:index$l}}function scanPunctuator(){var T=index$l,$=source.charCodeAt(index$l),I,N=source[index$l],L,B,H;switch($){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++index$l,extra.tokenize&&($===40?extra.openParenToken=extra.tokens.length:$===123&&(extra.openCurlyToken=extra.tokens.length)),{type:Token.Punctuator,value:String.fromCharCode($),lineNumber,lineStart,start:T,end:index$l};default:if(I=source.charCodeAt(index$l+1),I===61)switch($){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return index$l+=2,{type:Token.Punctuator,value:String.fromCharCode($)+String.fromCharCode(I),lineNumber,lineStart,start:T,end:index$l};case 33:case 61:return index$l+=2,source.charCodeAt(index$l)===61&&++index$l,{type:Token.Punctuator,value:source.slice(T,index$l),lineNumber,lineStart,start:T,end:index$l}}}if(H=source.substr(index$l,4),H===">>>=")return index$l+=4,{type:Token.Punctuator,value:H,lineNumber,lineStart,start:T,end:index$l};if(B=H.substr(0,3),B===">>>"||B==="<<="||B===">>=")return index$l+=3,{type:Token.Punctuator,value:B,lineNumber,lineStart,start:T,end:index$l};if(L=B.substr(0,2),N===L[1]&&"+-<>&|".indexOf(N)>=0||L==="=>")return index$l+=2,{type:Token.Punctuator,value:L,lineNumber,lineStart,start:T,end:index$l};if("<>=!+-*%&|^/".indexOf(N)>=0)return++index$l,{type:Token.Punctuator,value:N,lineNumber,lineStart,start:T,end:index$l};throwError({},Messages.UnexpectedToken,"ILLEGAL")}function scanHexLiteral(T){for(var $="";index$l<length$1&&isHexDigit(source[index$l]);)$+=source[index$l++];return $.length===0&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),isIdentifierStart(source.charCodeAt(index$l))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.NumericLiteral,value:parseInt("0x"+$,16),lineNumber,lineStart,start:T,end:index$l}}function scanOctalLiteral(T){for(var $="0"+source[index$l++];index$l<length$1&&isOctalDigit(source[index$l]);)$+=source[index$l++];return(isIdentifierStart(source.charCodeAt(index$l))||isDecimalDigit(source.charCodeAt(index$l)))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.NumericLiteral,value:parseInt($,8),octal:!0,lineNumber,lineStart,start:T,end:index$l}}function scanNumericLiteral(){var T,$,I;if(I=source[index$l],assert$h(isDecimalDigit(I.charCodeAt(0))||I===".","Numeric literal must start with a decimal digit or a decimal point"),$=index$l,T="",I!=="."){if(T=source[index$l++],I=source[index$l],T==="0"){if(I==="x"||I==="X")return++index$l,scanHexLiteral($);if(isOctalDigit(I))return scanOctalLiteral($);I&&isDecimalDigit(I.charCodeAt(0))&&throwError({},Messages.UnexpectedToken,"ILLEGAL")}for(;isDecimalDigit(source.charCodeAt(index$l));)T+=source[index$l++];I=source[index$l]}if(I==="."){for(T+=source[index$l++];isDecimalDigit(source.charCodeAt(index$l));)T+=source[index$l++];I=source[index$l]}if(I==="e"||I==="E")if(T+=source[index$l++],I=source[index$l],(I==="+"||I==="-")&&(T+=source[index$l++]),isDecimalDigit(source.charCodeAt(index$l)))for(;isDecimalDigit(source.charCodeAt(index$l));)T+=source[index$l++];else throwError({},Messages.UnexpectedToken,"ILLEGAL");return isIdentifierStart(source.charCodeAt(index$l))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.NumericLiteral,value:parseFloat(T),lineNumber,lineStart,start:$,end:index$l}}function scanStringLiteral(){var T="",$,I,N,L,B,H,z=!1,Q,te;for(Q=lineNumber,te=lineStart,$=source[index$l],assert$h($==="'"||$==='"',"String literal must starts with a quote"),I=index$l,++index$l;index$l<length$1;)if(N=source[index$l++],N===$){$="";break}else if(N==="\\")if(N=source[index$l++],!N||!isLineTerminator(N.charCodeAt(0)))switch(N){case"u":case"x":H=index$l,B=scanHexEscape(N),B?T+=B:(index$l=H,T+=N);break;case"n":T+=`
`;break;case"r":T+="\r";break;case"t":T+="	";break;case"b":T+="\b";break;case"f":T+="\f";break;case"v":T+="\v";break;default:isOctalDigit(N)?(L="01234567".indexOf(N),L!==0&&(z=!0),index$l<length$1&&isOctalDigit(source[index$l])&&(z=!0,L=L*8+"01234567".indexOf(source[index$l++]),"0123".indexOf(N)>=0&&index$l<length$1&&isOctalDigit(source[index$l])&&(L=L*8+"01234567".indexOf(source[index$l++]))),T+=String.fromCharCode(L)):T+=N;break}else++lineNumber,N==="\r"&&source[index$l]===`
`&&++index$l,lineStart=index$l;else{if(isLineTerminator(N.charCodeAt(0)))break;T+=N}return $!==""&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.StringLiteral,value:T,octal:z,startLineNumber:Q,startLineStart:te,lineNumber,lineStart,start:I,end:index$l}}function testRegExp(T,$){var I;try{I=new RegExp(T,$)}catch{throwError({},Messages.InvalidRegExp)}return I}function scanRegExpBody(){var T,$,I,N,L;for(T=source[index$l],assert$h(T==="/","Regular expression literal must start with a slash"),$=source[index$l++],I=!1,N=!1;index$l<length$1;)if(T=source[index$l++],$+=T,T==="\\")T=source[index$l++],isLineTerminator(T.charCodeAt(0))&&throwError({},Messages.UnterminatedRegExp),$+=T;else if(isLineTerminator(T.charCodeAt(0)))throwError({},Messages.UnterminatedRegExp);else if(I)T==="]"&&(I=!1);else if(T==="/"){N=!0;break}else T==="["&&(I=!0);return N||throwError({},Messages.UnterminatedRegExp),L=$.substr(1,$.length-2),{value:L,literal:$}}function scanRegExpFlags(){var T,$,I,N;for($="",I="";index$l<length$1&&(T=source[index$l],!!isIdentifierPart(T.charCodeAt(0)));)if(++index$l,T==="\\"&&index$l<length$1)if(T=source[index$l],T==="u"){if(++index$l,N=index$l,T=scanHexEscape("u"),T)for(I+=T,$+="\\u";N<index$l;++N)$+=source[N];else index$l=N,I+="u",$+="\\u";throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL")}else $+="\\",throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL");else I+=T,$+=T;return{value:I,literal:$}}function scanRegExp(){var T,$,I,N;return lookahead=null,skipComment(),T=index$l,$=scanRegExpBody(),I=scanRegExpFlags(),N=testRegExp($.value,I.value),extra.tokenize?{type:Token.RegularExpression,value:N,lineNumber,lineStart,start:T,end:index$l}:{literal:$.literal+I.literal,value:N,start:T,end:index$l}}function collectRegex(){var T,$,I,N;return skipComment(),T=index$l,$={start:{line:lineNumber,column:index$l-lineStart}},I=scanRegExp(),$.end={line:lineNumber,column:index$l-lineStart},extra.tokenize||(extra.tokens.length>0&&(N=extra.tokens[extra.tokens.length-1],N.range[0]===T&&N.type==="Punctuator"&&(N.value==="/"||N.value==="/=")&&extra.tokens.pop()),extra.tokens.push({type:"RegularExpression",value:I.literal,range:[T,index$l],loc:$})),I}function isIdentifierName(T){return T.type===Token.Identifier||T.type===Token.Keyword||T.type===Token.BooleanLiteral||T.type===Token.NullLiteral}function advanceSlash(){var T,$;if(T=extra.tokens[extra.tokens.length-1],!T)return collectRegex();if(T.type==="Punctuator"){if(T.value==="]")return scanPunctuator();if(T.value===")")return $=extra.tokens[extra.openParenToken-1],$&&$.type==="Keyword"&&($.value==="if"||$.value==="while"||$.value==="for"||$.value==="with")?collectRegex():scanPunctuator();if(T.value==="}"){if(extra.tokens[extra.openCurlyToken-3]&&extra.tokens[extra.openCurlyToken-3].type==="Keyword"){if($=extra.tokens[extra.openCurlyToken-4],!$)return scanPunctuator()}else if(extra.tokens[extra.openCurlyToken-4]&&extra.tokens[extra.openCurlyToken-4].type==="Keyword"){if($=extra.tokens[extra.openCurlyToken-5],!$)return collectRegex()}else return scanPunctuator();return FnExprTokens.indexOf($.value)>=0?scanPunctuator():collectRegex()}return collectRegex()}return T.type==="Keyword"?collectRegex():scanPunctuator()}function advance(){var T;return skipComment(),index$l>=length$1?{type:Token.EOF,lineNumber,lineStart,start:index$l,end:index$l}:(T=source.charCodeAt(index$l),isIdentifierStart(T)?scanIdentifier():T===40||T===41||T===59?scanPunctuator():T===39||T===34?scanStringLiteral():T===46?isDecimalDigit(source.charCodeAt(index$l+1))?scanNumericLiteral():scanPunctuator():isDecimalDigit(T)?scanNumericLiteral():extra.tokenize&&T===47?advanceSlash():scanPunctuator())}function collectToken(){var T,$,I;return skipComment(),T={start:{line:lineNumber,column:index$l-lineStart}},$=advance(),T.end={line:lineNumber,column:index$l-lineStart},$.type!==Token.EOF&&(I=source.slice($.start,$.end),extra.tokens.push({type:TokenName[$.type],value:I,range:[$.start,$.end],loc:T})),$}function lex(){var T;return T=lookahead,index$l=T.end,lineNumber=T.lineNumber,lineStart=T.lineStart,lookahead=typeof extra.tokens<"u"?collectToken():advance(),index$l=T.end,lineNumber=T.lineNumber,lineStart=T.lineStart,T}function peek(){var T,$,I;T=index$l,$=lineNumber,I=lineStart,lookahead=typeof extra.tokens<"u"?collectToken():advance(),index$l=T,lineNumber=$,lineStart=I}function Position$1(T,$){this.line=T,this.column=$}function SourceLocation(T,$,I,N){this.start=new Position$1(T,$),this.end=new Position$1(I,N)}SyntaxTreeDelegate={name:"SyntaxTree",processComment:function(T){var $,I;if(!(T.type===Syntax.Program&&T.body.length>0)){for(extra.trailingComments.length>0?extra.trailingComments[0].range[0]>=T.range[1]?(I=extra.trailingComments,extra.trailingComments=[]):extra.trailingComments.length=0:extra.bottomRightStack.length>0&&extra.bottomRightStack[extra.bottomRightStack.length-1].trailingComments&&extra.bottomRightStack[extra.bottomRightStack.length-1].trailingComments[0].range[0]>=T.range[1]&&(I=extra.bottomRightStack[extra.bottomRightStack.length-1].trailingComments,delete extra.bottomRightStack[extra.bottomRightStack.length-1].trailingComments);extra.bottomRightStack.length>0&&extra.bottomRightStack[extra.bottomRightStack.length-1].range[0]>=T.range[0];)$=extra.bottomRightStack.pop();$?$.leadingComments&&$.leadingComments[$.leadingComments.length-1].range[1]<=T.range[0]&&(T.leadingComments=$.leadingComments,delete $.leadingComments):extra.leadingComments.length>0&&extra.leadingComments[extra.leadingComments.length-1].range[1]<=T.range[0]&&(T.leadingComments=extra.leadingComments,extra.leadingComments=[]),I&&(T.trailingComments=I),extra.bottomRightStack.push(T)}},markEnd:function(T,$){return extra.range&&(T.range=[$.start,index$l]),extra.loc&&(T.loc=new SourceLocation($.startLineNumber===void 0?$.lineNumber:$.startLineNumber,$.start-($.startLineStart===void 0?$.lineStart:$.startLineStart),lineNumber,index$l-lineStart),this.postProcess(T)),extra.attachComment&&this.processComment(T),T},postProcess:function(T){return extra.source&&(T.loc.source=extra.source),T},createArrayExpression:function(T){return{type:Syntax.ArrayExpression,elements:T}},createAssignmentExpression:function(T,$,I){return{type:Syntax.AssignmentExpression,operator:T,left:$,right:I}},createBinaryExpression:function(T,$,I){var N=T==="||"||T==="&&"?Syntax.LogicalExpression:Syntax.BinaryExpression;return{type:N,operator:T,left:$,right:I}},createBlockStatement:function(T){return{type:Syntax.BlockStatement,body:T}},createBreakStatement:function(T){return{type:Syntax.BreakStatement,label:T}},createCallExpression:function(T,$){return{type:Syntax.CallExpression,callee:T,arguments:$}},createCatchClause:function(T,$){return{type:Syntax.CatchClause,param:T,body:$}},createConditionalExpression:function(T,$,I){return{type:Syntax.ConditionalExpression,test:T,consequent:$,alternate:I}},createContinueStatement:function(T){return{type:Syntax.ContinueStatement,label:T}},createDebuggerStatement:function(){return{type:Syntax.DebuggerStatement}},createDoWhileStatement:function(T,$){return{type:Syntax.DoWhileStatement,body:T,test:$}},createEmptyStatement:function(){return{type:Syntax.EmptyStatement}},createExpressionStatement:function(T){return{type:Syntax.ExpressionStatement,expression:T}},createForStatement:function(T,$,I,N){return{type:Syntax.ForStatement,init:T,test:$,update:I,body:N}},createForInStatement:function(T,$,I){return{type:Syntax.ForInStatement,left:T,right:$,body:I,each:!1}},createFunctionDeclaration:function(T,$,I,N){return{type:Syntax.FunctionDeclaration,id:T,params:$,defaults:I,body:N,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(T,$,I,N){return{type:Syntax.FunctionExpression,id:T,params:$,defaults:I,body:N,rest:null,generator:!1,expression:!1}},createIdentifier:function(T){return{type:Syntax.Identifier,name:T}},createIfStatement:function(T,$,I){return{type:Syntax.IfStatement,test:T,consequent:$,alternate:I}},createLabeledStatement:function(T,$){return{type:Syntax.LabeledStatement,label:T,body:$}},createLiteral:function(T){return{type:Syntax.Literal,value:T.value,raw:source.slice(T.start,T.end)}},createMemberExpression:function(T,$,I){return{type:Syntax.MemberExpression,computed:T==="[",object:$,property:I}},createNewExpression:function(T,$){return{type:Syntax.NewExpression,callee:T,arguments:$}},createObjectExpression:function(T){return{type:Syntax.ObjectExpression,properties:T}},createPostfixExpression:function(T,$){return{type:Syntax.UpdateExpression,operator:T,argument:$,prefix:!1}},createProgram:function(T){return{type:Syntax.Program,body:T}},createProperty:function(T,$,I){return{type:Syntax.Property,key:$,value:I,kind:T}},createReturnStatement:function(T){return{type:Syntax.ReturnStatement,argument:T}},createSequenceExpression:function(T){return{type:Syntax.SequenceExpression,expressions:T}},createSwitchCase:function(T,$){return{type:Syntax.SwitchCase,test:T,consequent:$}},createSwitchStatement:function(T,$){return{type:Syntax.SwitchStatement,discriminant:T,cases:$}},createThisExpression:function(){return{type:Syntax.ThisExpression}},createThrowStatement:function(T){return{type:Syntax.ThrowStatement,argument:T}},createTryStatement:function(T,$,I,N){return{type:Syntax.TryStatement,block:T,guardedHandlers:$,handlers:I,finalizer:N}},createUnaryExpression:function(T,$){return T==="++"||T==="--"?{type:Syntax.UpdateExpression,operator:T,argument:$,prefix:!0}:{type:Syntax.UnaryExpression,operator:T,argument:$,prefix:!0}},createVariableDeclaration:function(T,$){return{type:Syntax.VariableDeclaration,declarations:T,kind:$}},createVariableDeclarator:function(T,$){return{type:Syntax.VariableDeclarator,id:T,init:$}},createWhileStatement:function(T,$){return{type:Syntax.WhileStatement,test:T,body:$}},createWithStatement:function(T,$){return{type:Syntax.WithStatement,object:T,body:$}}};function peekLineTerminator(){var T,$,I,N;return T=index$l,$=lineNumber,I=lineStart,skipComment(),N=lineNumber!==$,index$l=T,lineNumber=$,lineStart=I,N}function throwError(T,$){for(var I=[],N=2;N<arguments.length;N++)I[N-2]=arguments[N];var L,B=$.replace(/%(\d)/g,function(H,z){return assert$h(z<I.length,"Message reference must be in range"),I[z]});throw typeof T.lineNumber=="number"?(L=new Error("Line "+T.lineNumber+": "+B),L.index=T.start,L.lineNumber=T.lineNumber,L.column=T.start-lineStart+1):(L=new Error("Line "+lineNumber+": "+B),L.index=index$l,L.lineNumber=lineNumber,L.column=index$l-lineStart+1),L.description=B,L}function throwErrorTolerant(){for(var T=[],$=0;$<arguments.length;$++)T[$]=arguments[$];try{throwError.apply(null,T)}catch(I){if(extra.errors)extra.errors.push(I);else throw I}}function throwUnexpected(T){if(T.type===Token.EOF&&throwError(T,Messages.UnexpectedEOS),T.type===Token.NumericLiteral&&throwError(T,Messages.UnexpectedNumber),T.type===Token.StringLiteral&&throwError(T,Messages.UnexpectedString),T.type===Token.Identifier&&throwError(T,Messages.UnexpectedIdentifier),T.type===Token.Keyword){if(isFutureReservedWord(T.value))throwError(T,Messages.UnexpectedReserved);else if(strict&&isStrictModeReservedWord(T.value)){throwErrorTolerant(T,Messages.StrictReservedWord);return}throwError(T,Messages.UnexpectedToken,T.value)}throwError(T,Messages.UnexpectedToken,T.value)}function expect(T){var $=lex();($.type!==Token.Punctuator||$.value!==T)&&throwUnexpected($)}function expectKeyword(T){var $=lex();($.type!==Token.Keyword||$.value!==T)&&throwUnexpected($)}function match(T){return lookahead.type===Token.Punctuator&&lookahead.value===T}function matchKeyword(T){return lookahead.type===Token.Keyword&&lookahead.value===T}function matchAssign(){var T;return lookahead.type!==Token.Punctuator?!1:(T=lookahead.value,T==="="||T==="*="||T==="/="||T==="%="||T==="+="||T==="-="||T==="<<="||T===">>="||T===">>>="||T==="&="||T==="^="||T==="|=")}function consumeSemicolon(){var T;if(source.charCodeAt(index$l)===59||match(";")){lex();return}T=lineNumber,skipComment(),lineNumber===T&&lookahead.type!==Token.EOF&&!match("}")&&throwUnexpected(lookahead)}function isLeftHandSide(T){return T.type===Syntax.Identifier||T.type===Syntax.MemberExpression}function parseArrayInitialiser(){var T=[],$;for($=lookahead,expect("[");!match("]");)match(",")?(lex(),T.push(null)):(T.push(parseAssignmentExpression()),match("]")||expect(","));return lex(),delegate.markEnd(delegate.createArrayExpression(T),$)}function parsePropertyFunction(T,$){var I,N,L;return I=strict,L=lookahead,N=parseFunctionSourceElements(),$&&strict&&isRestrictedWord(T[0].name)&&throwErrorTolerant($,Messages.StrictParamName),strict=I,delegate.markEnd(delegate.createFunctionExpression(null,T,[],N),L)}function parseObjectPropertyKey(){var T,$;return $=lookahead,T=lex(),T.type===Token.StringLiteral||T.type===Token.NumericLiteral?(strict&&T.octal&&throwErrorTolerant(T,Messages.StrictOctalLiteral),delegate.markEnd(delegate.createLiteral(T),$)):delegate.markEnd(delegate.createIdentifier(T.value),$)}function parseObjectProperty(){var T,$,I,N,L,B;if(T=lookahead,B=lookahead,T.type===Token.Identifier)return I=parseObjectPropertyKey(),T.value==="get"&&!match(":")?($=parseObjectPropertyKey(),expect("("),expect(")"),N=parsePropertyFunction([]),delegate.markEnd(delegate.createProperty("get",$,N),B)):T.value==="set"&&!match(":")?($=parseObjectPropertyKey(),expect("("),T=lookahead,T.type!==Token.Identifier?(expect(")"),throwErrorTolerant(T,Messages.UnexpectedToken,T.value),N=parsePropertyFunction([])):(L=[parseVariableIdentifier()],expect(")"),N=parsePropertyFunction(L,T)),delegate.markEnd(delegate.createProperty("set",$,N),B)):(expect(":"),N=parseAssignmentExpression(),delegate.markEnd(delegate.createProperty("init",I,N),B));if(T.type===Token.EOF||T.type===Token.Punctuator)throwUnexpected(T);else return $=parseObjectPropertyKey(),expect(":"),N=parseAssignmentExpression(),delegate.markEnd(delegate.createProperty("init",$,N),B)}function parseObjectInitialiser(){var T=[],$,I,N,L,B={},H=String,z;for(z=lookahead,expect("{");!match("}");)$=parseObjectProperty(),$.key.type===Syntax.Identifier?I=$.key.name:I=H($.key.value),L=$.kind==="init"?PropertyKind.Data:$.kind==="get"?PropertyKind.Get:PropertyKind.Set,N="$"+I,Object.prototype.hasOwnProperty.call(B,N)?(B[N]===PropertyKind.Data?strict&&L===PropertyKind.Data?throwErrorTolerant({},Messages.StrictDuplicateProperty):L!==PropertyKind.Data&&throwErrorTolerant({},Messages.AccessorDataProperty):L===PropertyKind.Data?throwErrorTolerant({},Messages.AccessorDataProperty):B[N]&L&&throwErrorTolerant({},Messages.AccessorGetSet),B[N]|=L):B[N]=L,T.push($),match("}")||expect(",");return expect("}"),delegate.markEnd(delegate.createObjectExpression(T),z)}function parseGroupExpression(){var T;return expect("("),T=parseExpression(),expect(")"),T}function parsePrimaryExpression(){var T,$,I,N;if(match("("))return parseGroupExpression();if(match("["))return parseArrayInitialiser();if(match("{"))return parseObjectInitialiser();if(T=lookahead.type,N=lookahead,T===Token.Identifier)I=delegate.createIdentifier(lex().value);else if(T===Token.StringLiteral||T===Token.NumericLiteral)strict&&lookahead.octal&&throwErrorTolerant(lookahead,Messages.StrictOctalLiteral),I=delegate.createLiteral(lex());else if(T===Token.Keyword){if(matchKeyword("function"))return parseFunctionExpression();matchKeyword("this")?(lex(),I=delegate.createThisExpression()):throwUnexpected(lex())}else T===Token.BooleanLiteral?($=lex(),$.value=$.value==="true",I=delegate.createLiteral($)):T===Token.NullLiteral?($=lex(),$.value=null,I=delegate.createLiteral($)):match("/")||match("/=")?(typeof extra.tokens<"u"?I=delegate.createLiteral(collectRegex()):I=delegate.createLiteral(scanRegExp()),peek()):throwUnexpected(lex());return delegate.markEnd(I,N)}function parseArguments(){var T=[];if(expect("("),!match(")"))for(;index$l<length$1&&(T.push(parseAssignmentExpression()),!match(")"));)expect(",");return expect(")"),T}function parseNonComputedProperty(){var T,$;return $=lookahead,T=lex(),isIdentifierName(T)||throwUnexpected(T),delegate.markEnd(delegate.createIdentifier(T.value),$)}function parseNonComputedMember(){return expect("."),parseNonComputedProperty()}function parseComputedMember(){var T;return expect("["),T=parseExpression(),expect("]"),T}function parseNewExpression(){var T,$,I;return I=lookahead,expectKeyword("new"),T=parseLeftHandSideExpression(),$=match("(")?parseArguments():[],delegate.markEnd(delegate.createNewExpression(T,$),I)}function parseLeftHandSideExpressionAllowCall(){var T,$,I,N,L;for(L=lookahead,T=state$6.allowIn,state$6.allowIn=!0,$=matchKeyword("new")?parseNewExpression():parsePrimaryExpression(),state$6.allowIn=T;;){if(match("."))N=parseNonComputedMember(),$=delegate.createMemberExpression(".",$,N);else if(match("("))I=parseArguments(),$=delegate.createCallExpression($,I);else if(match("["))N=parseComputedMember(),$=delegate.createMemberExpression("[",$,N);else break;delegate.markEnd($,L)}return $}function parseLeftHandSideExpression(){var T,$,I,N;for(N=lookahead,T=state$6.allowIn,$=matchKeyword("new")?parseNewExpression():parsePrimaryExpression(),state$6.allowIn=T;match(".")||match("[");)match("[")?(I=parseComputedMember(),$=delegate.createMemberExpression("[",$,I)):(I=parseNonComputedMember(),$=delegate.createMemberExpression(".",$,I)),delegate.markEnd($,N);return $}function parsePostfixExpression(){var T,$,I=lookahead;return T=parseLeftHandSideExpressionAllowCall(),lookahead.type===Token.Punctuator&&(match("++")||match("--"))&&!peekLineTerminator()&&(strict&&T.type===Syntax.Identifier&&isRestrictedWord(T.name)&&throwErrorTolerant({},Messages.StrictLHSPostfix),isLeftHandSide(T)||throwErrorTolerant({},Messages.InvalidLHSInAssignment),$=lex(),T=delegate.markEnd(delegate.createPostfixExpression($.value,T),I)),T}function parseUnaryExpression(){var T,$,I;return lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword?$=parsePostfixExpression():match("++")||match("--")?(I=lookahead,T=lex(),$=parseUnaryExpression(),strict&&$.type===Syntax.Identifier&&isRestrictedWord($.name)&&throwErrorTolerant({},Messages.StrictLHSPrefix),isLeftHandSide($)||throwErrorTolerant({},Messages.InvalidLHSInAssignment),$=delegate.createUnaryExpression(T.value,$),$=delegate.markEnd($,I)):match("+")||match("-")||match("~")||match("!")?(I=lookahead,T=lex(),$=parseUnaryExpression(),$=delegate.createUnaryExpression(T.value,$),$=delegate.markEnd($,I)):matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")?(I=lookahead,T=lex(),$=parseUnaryExpression(),$=delegate.createUnaryExpression(T.value,$),$=delegate.markEnd($,I),strict&&$.operator==="delete"&&$.argument.type===Syntax.Identifier&&throwErrorTolerant({},Messages.StrictDelete)):$=parsePostfixExpression(),$}function binaryPrecedence(T,$){var I=0;if(T.type!==Token.Punctuator&&T.type!==Token.Keyword)return 0;switch(T.value){case"||":I=1;break;case"&&":I=2;break;case"|":I=3;break;case"^":I=4;break;case"&":I=5;break;case"==":case"!=":case"===":case"!==":I=6;break;case"<":case">":case"<=":case">=":case"instanceof":I=7;break;case"in":I=$?7:0;break;case"<<":case">>":case">>>":I=8;break;case"+":case"-":I=9;break;case"*":case"/":case"%":I=11;break}return I}function parseBinaryExpression(){var T,$,I,N,L,B,H,z,Q,te;if(T=lookahead,Q=parseUnaryExpression(),N=lookahead,L=binaryPrecedence(N,state$6.allowIn),L===0)return Q;for(N.prec=L,lex(),$=[T,lookahead],H=parseUnaryExpression(),B=[Q,N,H];(L=binaryPrecedence(lookahead,state$6.allowIn))>0;){for(;B.length>2&&L<=B[B.length-2].prec;)H=B.pop(),z=B.pop().value,Q=B.pop(),I=delegate.createBinaryExpression(z,Q,H),$.pop(),T=$[$.length-1],delegate.markEnd(I,T),B.push(I);N=lex(),N.prec=L,B.push(N),$.push(lookahead),I=parseUnaryExpression(),B.push(I)}for(te=B.length-1,I=B[te],$.pop();te>1;)I=delegate.createBinaryExpression(B[te-1].value,B[te-2],I),te-=2,T=$.pop(),delegate.markEnd(I,T);return I}function parseConditionalExpression(){var T,$,I,N,L;return L=lookahead,T=parseBinaryExpression(),match("?")&&(lex(),$=state$6.allowIn,state$6.allowIn=!0,I=parseAssignmentExpression(),state$6.allowIn=$,expect(":"),N=parseAssignmentExpression(),T=delegate.createConditionalExpression(T,I,N),delegate.markEnd(T,L)),T}function parseAssignmentExpression(){var T,$,I,N,L;return T=lookahead,L=lookahead,N=$=parseConditionalExpression(),matchAssign()&&(isLeftHandSide($)||throwErrorTolerant({},Messages.InvalidLHSInAssignment),strict&&$.type===Syntax.Identifier&&isRestrictedWord($.name)&&throwErrorTolerant(T,Messages.StrictLHSAssignment),T=lex(),I=parseAssignmentExpression(),N=delegate.markEnd(delegate.createAssignmentExpression(T.value,$,I),L)),N}function parseExpression(){var T,$=lookahead;if(T=parseAssignmentExpression(),match(",")){for(T=delegate.createSequenceExpression([T]);index$l<length$1&&match(",");)lex(),T.expressions.push(parseAssignmentExpression());delegate.markEnd(T,$)}return T}function parseStatementList(){for(var T=[],$;index$l<length$1&&!(match("}")||($=parseSourceElement(),typeof $>"u"));)T.push($);return T}function parseBlock(){var T,$;return $=lookahead,expect("{"),T=parseStatementList(),expect("}"),delegate.markEnd(delegate.createBlockStatement(T),$)}function parseVariableIdentifier(){var T,$;return $=lookahead,T=lex(),T.type!==Token.Identifier&&throwUnexpected(T),delegate.markEnd(delegate.createIdentifier(T.value),$)}function parseVariableDeclaration(T){var $=null,I,N;return N=lookahead,I=parseVariableIdentifier(),strict&&isRestrictedWord(I.name)&&throwErrorTolerant({},Messages.StrictVarName),T==="const"?(expect("="),$=parseAssignmentExpression()):match("=")&&(lex(),$=parseAssignmentExpression()),delegate.markEnd(delegate.createVariableDeclarator(I,$),N)}function parseVariableDeclarationList(T){var $=[];do{if($.push(parseVariableDeclaration(T)),!match(","))break;lex()}while(index$l<length$1);return $}function parseVariableStatement(){var T;return expectKeyword("var"),T=parseVariableDeclarationList(),consumeSemicolon(),delegate.createVariableDeclaration(T,"var")}function parseConstLetDeclaration(T){var $,I;return I=lookahead,expectKeyword(T),$=parseVariableDeclarationList(T),consumeSemicolon(),delegate.markEnd(delegate.createVariableDeclaration($,T),I)}function parseEmptyStatement(){return expect(";"),delegate.createEmptyStatement()}function parseExpressionStatement(){var T=parseExpression();return consumeSemicolon(),delegate.createExpressionStatement(T)}function parseIfStatement(){var T,$,I;return expectKeyword("if"),expect("("),T=parseExpression(),expect(")"),$=parseStatement(),matchKeyword("else")?(lex(),I=parseStatement()):I=null,delegate.createIfStatement(T,$,I)}function parseDoWhileStatement(){var T,$,I;return expectKeyword("do"),I=state$6.inIteration,state$6.inIteration=!0,T=parseStatement(),state$6.inIteration=I,expectKeyword("while"),expect("("),$=parseExpression(),expect(")"),match(";")&&lex(),delegate.createDoWhileStatement(T,$)}function parseWhileStatement(){var T,$,I;return expectKeyword("while"),expect("("),T=parseExpression(),expect(")"),I=state$6.inIteration,state$6.inIteration=!0,$=parseStatement(),state$6.inIteration=I,delegate.createWhileStatement(T,$)}function parseForVariableDeclaration(){var T,$,I;return I=lookahead,T=lex(),$=parseVariableDeclarationList(),delegate.markEnd(delegate.createVariableDeclaration($,T.value),I)}function parseForStatement(){var T,$,I,N,L,B,H;return T=$=I=null,expectKeyword("for"),expect("("),match(";")?lex():(matchKeyword("var")||matchKeyword("let")?(state$6.allowIn=!1,T=parseForVariableDeclaration(),state$6.allowIn=!0,T.declarations.length===1&&matchKeyword("in")&&(lex(),N=T,L=parseExpression(),T=null)):(state$6.allowIn=!1,T=parseExpression(),state$6.allowIn=!0,matchKeyword("in")&&(isLeftHandSide(T)||throwErrorTolerant({},Messages.InvalidLHSInForIn),lex(),N=T,L=parseExpression(),T=null)),typeof N>"u"&&expect(";")),typeof N>"u"&&(match(";")||($=parseExpression()),expect(";"),match(")")||(I=parseExpression())),expect(")"),H=state$6.inIteration,state$6.inIteration=!0,B=parseStatement(),state$6.inIteration=H,typeof N>"u"?delegate.createForStatement(T,$,I,B):delegate.createForInStatement(N,L,B)}function parseContinueStatement(){var T=null,$;return expectKeyword("continue"),source.charCodeAt(index$l)===59?(lex(),state$6.inIteration||throwError({},Messages.IllegalContinue),delegate.createContinueStatement(null)):peekLineTerminator()?(state$6.inIteration||throwError({},Messages.IllegalContinue),delegate.createContinueStatement(null)):(lookahead.type===Token.Identifier&&(T=parseVariableIdentifier(),$="$"+T.name,Object.prototype.hasOwnProperty.call(state$6.labelSet,$)||throwError({},Messages.UnknownLabel,T.name)),consumeSemicolon(),T===null&&!state$6.inIteration&&throwError({},Messages.IllegalContinue),delegate.createContinueStatement(T))}function parseBreakStatement(){var T=null,$;return expectKeyword("break"),source.charCodeAt(index$l)===59?(lex(),state$6.inIteration||state$6.inSwitch||throwError({},Messages.IllegalBreak),delegate.createBreakStatement(null)):peekLineTerminator()?(state$6.inIteration||state$6.inSwitch||throwError({},Messages.IllegalBreak),delegate.createBreakStatement(null)):(lookahead.type===Token.Identifier&&(T=parseVariableIdentifier(),$="$"+T.name,Object.prototype.hasOwnProperty.call(state$6.labelSet,$)||throwError({},Messages.UnknownLabel,T.name)),consumeSemicolon(),T===null&&!(state$6.inIteration||state$6.inSwitch)&&throwError({},Messages.IllegalBreak),delegate.createBreakStatement(T))}function parseReturnStatement(){var T=null;return expectKeyword("return"),state$6.inFunctionBody||throwErrorTolerant({},Messages.IllegalReturn),source.charCodeAt(index$l)===32&&isIdentifierStart(source.charCodeAt(index$l+1))?(T=parseExpression(),consumeSemicolon(),delegate.createReturnStatement(T)):peekLineTerminator()?delegate.createReturnStatement(null):(match(";")||!match("}")&&lookahead.type!==Token.EOF&&(T=parseExpression()),consumeSemicolon(),delegate.createReturnStatement(T))}function parseWithStatement(){var T,$;return strict&&(skipComment(),throwErrorTolerant({},Messages.StrictModeWith)),expectKeyword("with"),expect("("),T=parseExpression(),expect(")"),$=parseStatement(),delegate.createWithStatement(T,$)}function parseSwitchCase(){var T,$=[],I,N;for(N=lookahead,matchKeyword("default")?(lex(),T=null):(expectKeyword("case"),T=parseExpression()),expect(":");index$l<length$1&&!(match("}")||matchKeyword("default")||matchKeyword("case"));)I=parseStatement(),$.push(I);return delegate.markEnd(delegate.createSwitchCase(T,$),N)}function parseSwitchStatement(){var T,$,I,N,L;if(expectKeyword("switch"),expect("("),T=parseExpression(),expect(")"),expect("{"),$=[],match("}"))return lex(),delegate.createSwitchStatement(T,$);for(N=state$6.inSwitch,state$6.inSwitch=!0,L=!1;index$l<length$1&&!match("}");)I=parseSwitchCase(),I.test===null&&(L&&throwError({},Messages.MultipleDefaultsInSwitch),L=!0),$.push(I);return state$6.inSwitch=N,expect("}"),delegate.createSwitchStatement(T,$)}function parseThrowStatement(){var T;return expectKeyword("throw"),peekLineTerminator()&&throwError({},Messages.NewlineAfterThrow),T=parseExpression(),consumeSemicolon(),delegate.createThrowStatement(T)}function parseCatchClause(){var T,$,I;return I=lookahead,expectKeyword("catch"),expect("("),match(")")&&throwUnexpected(lookahead),T=parseVariableIdentifier(),strict&&isRestrictedWord(T.name)&&throwErrorTolerant({},Messages.StrictCatchVariable),expect(")"),$=parseBlock(),delegate.markEnd(delegate.createCatchClause(T,$),I)}function parseTryStatement(){var T,$=[],I=null;return expectKeyword("try"),T=parseBlock(),matchKeyword("catch")&&$.push(parseCatchClause()),matchKeyword("finally")&&(lex(),I=parseBlock()),$.length===0&&!I&&throwError({},Messages.NoCatchOrFinally),delegate.createTryStatement(T,[],$,I)}function parseDebuggerStatement(){return expectKeyword("debugger"),consumeSemicolon(),delegate.createDebuggerStatement()}function parseStatement(){var T=lookahead.type,$,I,N,L;if(T===Token.EOF&&throwUnexpected(lookahead),T===Token.Punctuator&&lookahead.value==="{")return parseBlock();if(L=lookahead,T===Token.Punctuator)switch(lookahead.value){case";":return delegate.markEnd(parseEmptyStatement(),L);case"(":return delegate.markEnd(parseExpressionStatement(),L)}if(T===Token.Keyword)switch(lookahead.value){case"break":return delegate.markEnd(parseBreakStatement(),L);case"continue":return delegate.markEnd(parseContinueStatement(),L);case"debugger":return delegate.markEnd(parseDebuggerStatement(),L);case"do":return delegate.markEnd(parseDoWhileStatement(),L);case"for":return delegate.markEnd(parseForStatement(),L);case"function":return delegate.markEnd(parseFunctionDeclaration(),L);case"if":return delegate.markEnd(parseIfStatement(),L);case"return":return delegate.markEnd(parseReturnStatement(),L);case"switch":return delegate.markEnd(parseSwitchStatement(),L);case"throw":return delegate.markEnd(parseThrowStatement(),L);case"try":return delegate.markEnd(parseTryStatement(),L);case"var":return delegate.markEnd(parseVariableStatement(),L);case"while":return delegate.markEnd(parseWhileStatement(),L);case"with":return delegate.markEnd(parseWithStatement(),L)}return $=parseExpression(),$.type===Syntax.Identifier&&match(":")?(lex(),N="$"+$.name,Object.prototype.hasOwnProperty.call(state$6.labelSet,N)&&throwError({},Messages.Redeclaration,"Label",$.name),state$6.labelSet[N]=!0,I=parseStatement(),delete state$6.labelSet[N],delegate.markEnd(delegate.createLabeledStatement($,I),L)):(consumeSemicolon(),delegate.markEnd(delegate.createExpressionStatement($),L))}function parseFunctionSourceElements(){var T,$=[],I,N,L,B,H,z,Q,te;for(te=lookahead,expect("{");index$l<length$1&&!(lookahead.type!==Token.StringLiteral||(I=lookahead,T=parseSourceElement(),$.push(T),T.expression.type!==Syntax.Literal));)N=source.slice(I.start+1,I.end-1),N==="use strict"?(strict=!0,L&&throwErrorTolerant(L,Messages.StrictOctalLiteral)):!L&&I.octal&&(L=I);for(B=state$6.labelSet,H=state$6.inIteration,z=state$6.inSwitch,Q=state$6.inFunctionBody,state$6.labelSet={},state$6.inIteration=!1,state$6.inSwitch=!1,state$6.inFunctionBody=!0;index$l<length$1&&!(match("}")||(T=parseSourceElement(),typeof T>"u"));)$.push(T);return expect("}"),state$6.labelSet=B,state$6.inIteration=H,state$6.inSwitch=z,state$6.inFunctionBody=Q,delegate.markEnd(delegate.createBlockStatement($),te)}function parseParams(T){var $,I=[],N,L,B,H,z;if(expect("("),!match(")"))for(B={};index$l<length$1&&(N=lookahead,$=parseVariableIdentifier(),H="$"+N.value,strict?(isRestrictedWord(N.value)&&(L=N,z=Messages.StrictParamName),Object.prototype.hasOwnProperty.call(B,H)&&(L=N,z=Messages.StrictParamDupe)):T||(isRestrictedWord(N.value)?(T=N,z=Messages.StrictParamName):isStrictModeReservedWord(N.value)?(T=N,z=Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(B,H)&&(T=N,z=Messages.StrictParamDupe)),I.push($),B[H]=!0,!match(")"));)expect(",");return expect(")"),{params:I,stricted:L,firstRestricted:T,message:z}}function parseFunctionDeclaration(){var T,$=[],I,N,L,B,H,z,Q,te;return te=lookahead,expectKeyword("function"),N=lookahead,T=parseVariableIdentifier(),strict?isRestrictedWord(N.value)&&throwErrorTolerant(N,Messages.StrictFunctionName):isRestrictedWord(N.value)?(H=N,z=Messages.StrictFunctionName):isStrictModeReservedWord(N.value)&&(H=N,z=Messages.StrictReservedWord),B=parseParams(H),$=B.params,L=B.stricted,H=B.firstRestricted,B.message&&(z=B.message),Q=strict,I=parseFunctionSourceElements(),strict&&H&&throwError(H,z),strict&&L&&throwErrorTolerant(L,z),strict=Q,delegate.markEnd(delegate.createFunctionDeclaration(T,$,[],I),te)}function parseFunctionExpression(){var T,$=null,I,N,L,B,H=[],z,Q,te;return te=lookahead,expectKeyword("function"),match("(")||(T=lookahead,$=parseVariableIdentifier(),strict?isRestrictedWord(T.value)&&throwErrorTolerant(T,Messages.StrictFunctionName):isRestrictedWord(T.value)?(N=T,L=Messages.StrictFunctionName):isStrictModeReservedWord(T.value)&&(N=T,L=Messages.StrictReservedWord)),B=parseParams(N),H=B.params,I=B.stricted,N=B.firstRestricted,B.message&&(L=B.message),Q=strict,z=parseFunctionSourceElements(),strict&&N&&throwError(N,L),strict&&I&&throwErrorTolerant(I,L),strict=Q,delegate.markEnd(delegate.createFunctionExpression($,H,[],z),te)}function parseSourceElement(){if(lookahead.type===Token.Keyword)switch(lookahead.value){case"const":case"let":return parseConstLetDeclaration(lookahead.value);case"function":return parseFunctionDeclaration();default:return parseStatement()}if(lookahead.type!==Token.EOF)return parseStatement()}function parseSourceElements(){for(var T,$=[],I,N,L;index$l<length$1&&(I=lookahead,!(I.type!==Token.StringLiteral||(T=parseSourceElement(),$.push(T),T.expression.type!==Syntax.Literal)));)N=source.slice(I.start+1,I.end-1),N==="use strict"?(strict=!0,L&&throwErrorTolerant(L,Messages.StrictOctalLiteral)):!L&&I.octal&&(L=I);for(;index$l<length$1&&(T=parseSourceElement(),!(typeof T>"u"));)$.push(T);return $}function parseProgram(){var T,$;return skipComment(),peek(),$=lookahead,strict=!1,T=parseSourceElements(),delegate.markEnd(delegate.createProgram(T),$)}function filterTokenLocation(){var T,$,I,N=[];for(T=0;T<extra.tokens.length;++T)$=extra.tokens[T],I={type:$.type,value:$.value},extra.range&&(I.range=$.range),extra.loc&&(I.loc=$.loc),N.push(I);extra.tokens=N}function parse$2(T,$){var I,N;N=String,typeof T!="string"&&!(T instanceof String)&&(T=N(T)),delegate=SyntaxTreeDelegate,source=T,index$l=0,lineNumber=source.length>0?1:0,lineStart=0,length$1=source.length,lookahead=null,state$6={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},extra={};try{I=parseProgram(),typeof extra.comments<"u"&&(I.comments=extra.comments),typeof extra.tokens<"u"&&(filterTokenLocation(),I.tokens=extra.tokens),typeof extra.errors<"u"&&(I.errors=extra.errors)}catch(L){throw L}finally{extra={}}return I}function slice(T,$,I,N){function L(Q){return String(Q).match(/^[0-9]+$/)?parseInt(Q):Number.isFinite(Q)?parseInt(Q,10):0}if(typeof $=="string")throw new Error("start cannot be a string");if(typeof I=="string")throw new Error("end cannot be a string");if(typeof N=="string")throw new Error("step cannot be a string");var B=T.length;if(N===0)throw new Error("step cannot be zero");if(N=N?L(N):1,$=$<0?B+$:$,I=I<0?B+I:I,$=L($===0?0:$||(N>0?0:B-1)),I=L(I===0?0:I||(N>0?B:-1)),$=N>0?Math.max(0,$):Math.min(B,$),I=N>0?Math.min(I,B):Math.max(-1,I),N>0&&I<=$)return[];if(N<0&&$<=I)return[];for(var H=[],z=$;z!=I&&!(N<0&&z<=I||N>0&&z>=I);z+=N)H.push(T[z]);return H}var escodegen$2={},estraverse$2={};const version$2="4.3.0",require$$0$1={version:version$2};(function(T){(function $(I){var N,L,B,H,z,Q;function te(He){var Ge={},at,ot;for(at in He)He.hasOwnProperty(at)&&(ot=He[at],typeof ot=="object"&&ot!==null?Ge[at]=te(ot):Ge[at]=ot);return Ge}function G(He,Ge){var at,ot,Ye,nt;for(ot=He.length,Ye=0;ot;)at=ot>>>1,nt=Ye+at,Ge(He[nt])?ot=at:(Ye=nt+1,ot-=at+1);return Ye}N={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},B={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},H={},z={},Q={},L={Break:H,Skip:z,Remove:Q};function ie(He,Ge){this.parent=He,this.key=Ge}ie.prototype.replace=function(Ge){this.parent[this.key]=Ge},ie.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function Re(He,Ge,at,ot){this.node=He,this.path=Ge,this.wrap=at,this.ref=ot}function $e(){}$e.prototype.path=function(){var Ge,at,ot,Ye,nt,Qe;function tt(ze,Fe){if(Array.isArray(Fe))for(ot=0,Ye=Fe.length;ot<Ye;++ot)ze.push(Fe[ot]);else ze.push(Fe)}if(!this.__current.path)return null;for(nt=[],Ge=2,at=this.__leavelist.length;Ge<at;++Ge)Qe=this.__leavelist[Ge],tt(nt,Qe.path);return tt(nt,this.__current.path),nt},$e.prototype.type=function(){var He=this.current();return He.type||this.__current.wrap},$e.prototype.parents=function(){var Ge,at,ot;for(ot=[],Ge=1,at=this.__leavelist.length;Ge<at;++Ge)ot.push(this.__leavelist[Ge].node);return ot},$e.prototype.current=function(){return this.__current.node},$e.prototype.__execute=function(Ge,at){var ot,Ye;return Ye=void 0,ot=this.__current,this.__current=at,this.__state=null,Ge&&(Ye=Ge.call(this,at.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=ot,Ye},$e.prototype.notify=function(Ge){this.__state=Ge},$e.prototype.skip=function(){this.notify(z)},$e.prototype.break=function(){this.notify(H)},$e.prototype.remove=function(){this.notify(Q)},$e.prototype.__initialize=function(He,Ge){this.visitor=Ge,this.root=He,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,Ge.fallback==="iteration"?this.__fallback=Object.keys:typeof Ge.fallback=="function"&&(this.__fallback=Ge.fallback),this.__keys=B,Ge.keys&&(this.__keys=Object.assign(Object.create(this.__keys),Ge.keys))};function Pe(He){return He==null?!1:typeof He=="object"&&typeof He.type=="string"}function Me(He,Ge){return(He===N.ObjectExpression||He===N.ObjectPattern)&&Ge==="properties"}$e.prototype.traverse=function(Ge,at){var ot,Ye,nt,Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe;for(this.__initialize(Ge,at),Xe={},ot=this.__worklist,Ye=this.__leavelist,ot.push(new Re(Ge,null,null,null)),Ye.push(new Re(null,null,null,null));ot.length;){if(nt=ot.pop(),nt===Xe){if(nt=Ye.pop(),ze=this.__execute(at.leave,nt),this.__state===H||ze===H)return;continue}if(nt.node){if(ze=this.__execute(at.enter,nt),this.__state===H||ze===H)return;if(ot.push(Xe),Ye.push(nt),this.__state===z||ze===z)continue;if(Qe=nt.node,tt=Qe.type||nt.wrap,Je=this.__keys[tt],!Je)if(this.__fallback)Je=this.__fallback(Qe);else throw new Error("Unknown node type "+tt+".");for(ke=Je.length;(ke-=1)>=0;)if(Fe=Je[ke],rt=Qe[Fe],!!rt)if(Array.isArray(rt)){for(Ue=rt.length;(Ue-=1)>=0;)if(rt[Ue]){if(Me(tt,Je[ke]))nt=new Re(rt[Ue],[Fe,Ue],"Property",null);else if(Pe(rt[Ue]))nt=new Re(rt[Ue],[Fe,Ue],null,null);else continue;ot.push(nt)}}else Pe(rt)&&ot.push(new Re(rt,Fe,null,null))}}},$e.prototype.replace=function(Ge,at){var ot,Ye,nt,Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe,it;function We(Ve){var je,Ze,st,dt;if(Ve.ref.remove()){for(Ze=Ve.ref.key,dt=Ve.ref.parent,je=ot.length;je--;)if(st=ot[je],st.ref&&st.ref.parent===dt){if(st.ref.key<Ze)break;--st.ref.key}}}for(this.__initialize(Ge,at),rt={},ot=this.__worklist,Ye=this.__leavelist,Xe={root:Ge},ze=new Re(Ge,null,null,new ie(Xe,"root")),ot.push(ze),Ye.push(ze);ot.length;){if(ze=ot.pop(),ze===rt){if(ze=Ye.pop(),tt=this.__execute(at.leave,ze),tt!==void 0&&tt!==H&&tt!==z&&tt!==Q&&ze.ref.replace(tt),(this.__state===Q||tt===Q)&&We(ze),this.__state===H||tt===H)return Xe.root;continue}if(tt=this.__execute(at.enter,ze),tt!==void 0&&tt!==H&&tt!==z&&tt!==Q&&(ze.ref.replace(tt),ze.node=tt),(this.__state===Q||tt===Q)&&(We(ze),ze.node=null),this.__state===H||tt===H)return Xe.root;if(nt=ze.node,!!nt&&(ot.push(rt),Ye.push(ze),!(this.__state===z||tt===z))){if(Qe=nt.type||ze.wrap,Ue=this.__keys[Qe],!Ue)if(this.__fallback)Ue=this.__fallback(nt);else throw new Error("Unknown node type "+Qe+".");for(Fe=Ue.length;(Fe-=1)>=0;)if(it=Ue[Fe],Je=nt[it],!!Je)if(Array.isArray(Je)){for(ke=Je.length;(ke-=1)>=0;)if(Je[ke]){if(Me(Qe,Ue[Fe]))ze=new Re(Je[ke],[it,ke],"Property",new ie(Je,ke));else if(Pe(Je[ke]))ze=new Re(Je[ke],[it,ke],null,new ie(Je,ke));else continue;ot.push(ze)}}else Pe(Je)&&ot.push(new Re(Je,it,null,new ie(nt,it)))}}return Xe.root};function Be(He,Ge){var at=new $e;return at.traverse(He,Ge)}function Ke(He,Ge){var at=new $e;return at.replace(He,Ge)}function Le(He,Ge){var at;return at=G(Ge,function(Ye){return Ye.range[0]>He.range[0]}),He.extendedRange=[He.range[0],He.range[1]],at!==Ge.length&&(He.extendedRange[1]=Ge[at].range[0]),at-=1,at>=0&&(He.extendedRange[0]=Ge[at].range[1]),He}function qe(He,Ge,at){var ot=[],Ye,nt,Qe,tt;if(!He.range)throw new Error("attachComments needs range information");if(!at.length){if(Ge.length){for(Qe=0,nt=Ge.length;Qe<nt;Qe+=1)Ye=te(Ge[Qe]),Ye.extendedRange=[0,He.range[0]],ot.push(Ye);He.leadingComments=ot}return He}for(Qe=0,nt=Ge.length;Qe<nt;Qe+=1)ot.push(Le(te(Ge[Qe]),at));return tt=0,Be(He,{enter:function(ze){for(var Fe;tt<ot.length&&(Fe=ot[tt],!(Fe.extendedRange[1]>ze.range[0]));)Fe.extendedRange[1]===ze.range[0]?(ze.leadingComments||(ze.leadingComments=[]),ze.leadingComments.push(Fe),ot.splice(tt,1)):tt+=1;if(tt===ot.length)return L.Break;if(ot[tt].extendedRange[0]>ze.range[1])return L.Skip}}),tt=0,Be(He,{leave:function(ze){for(var Fe;tt<ot.length&&(Fe=ot[tt],!(ze.range[1]<Fe.extendedRange[0]));)ze.range[1]===Fe.extendedRange[0]?(ze.trailingComments||(ze.trailingComments=[]),ze.trailingComments.push(Fe),ot.splice(tt,1)):tt+=1;if(tt===ot.length)return L.Break;if(ot[tt].extendedRange[0]>ze.range[1])return L.Skip}}),He}return I.version=require$$0$1.version,I.Syntax=N,I.traverse=Be,I.replace=Ke,I.attachComments=qe,I.VisitorKeys=B,I.VisitorOption=L,I.Controller=$e,I.cloneEnvironment=function(){return $({})},I})(T)})(estraverse$2);const estraverse=getDefaultExportFromCjs$1(estraverse$2),estraverse$1=_mergeNamespaces({__proto__:null,default:estraverse},[estraverse$2]);var utils$z={},ast$3={exports:{}};(function(){function T(H){if(H==null)return!1;switch(H.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function $(H){if(H==null)return!1;switch(H.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function I(H){if(H==null)return!1;switch(H.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function N(H){return I(H)||H!=null&&H.type==="FunctionDeclaration"}function L(H){switch(H.type){case"IfStatement":return H.alternate!=null?H.alternate:H.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return H.body}return null}function B(H){var z;if(H.type!=="IfStatement"||H.alternate==null)return!1;z=H.consequent;do{if(z.type==="IfStatement"&&z.alternate==null)return!0;z=L(z)}while(z);return!1}ast$3.exports={isExpression:T,isStatement:I,isIterationStatement:$,isSourceElement:N,isProblematicIfStatement:B,trailingStatement:L}})();var astExports=ast$3.exports;const ast$1=getDefaultExportFromCjs$1(astExports),ast$2=_mergeNamespaces({__proto__:null,default:ast$1},[astExports]);var code$d={exports:{}};(function(){var T,$,I,N,L,B;$={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},T={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function H(Be){return 48<=Be&&Be<=57}function z(Be){return 48<=Be&&Be<=57||97<=Be&&Be<=102||65<=Be&&Be<=70}function Q(Be){return Be>=48&&Be<=55}I=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function te(Be){return Be===32||Be===9||Be===11||Be===12||Be===160||Be>=5760&&I.indexOf(Be)>=0}function G(Be){return Be===10||Be===13||Be===8232||Be===8233}function ie(Be){if(Be<=65535)return String.fromCharCode(Be);var Ke=String.fromCharCode(Math.floor((Be-65536)/1024)+55296),Le=String.fromCharCode((Be-65536)%1024+56320);return Ke+Le}for(N=new Array(128),B=0;B<128;++B)N[B]=B>=97&&B<=122||B>=65&&B<=90||B===36||B===95;for(L=new Array(128),B=0;B<128;++B)L[B]=B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===36||B===95;function Re(Be){return Be<128?N[Be]:$.NonAsciiIdentifierStart.test(ie(Be))}function $e(Be){return Be<128?L[Be]:$.NonAsciiIdentifierPart.test(ie(Be))}function Pe(Be){return Be<128?N[Be]:T.NonAsciiIdentifierStart.test(ie(Be))}function Me(Be){return Be<128?L[Be]:T.NonAsciiIdentifierPart.test(ie(Be))}code$d.exports={isDecimalDigit:H,isHexDigit:z,isOctalDigit:Q,isWhiteSpace:te,isLineTerminator:G,isIdentifierStartES5:Re,isIdentifierPartES5:$e,isIdentifierStartES6:Pe,isIdentifierPartES6:Me}})();var codeExports=code$d.exports;const code$b=getDefaultExportFromCjs$1(codeExports),code$c=_mergeNamespaces({__proto__:null,default:code$b},[codeExports]);var keyword$7={exports:{}};(function(){var T=code$c;function $(Re){switch(Re){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function I(Re,$e){return!$e&&Re==="yield"?!1:N(Re,$e)}function N(Re,$e){if($e&&$(Re))return!0;switch(Re.length){case 2:return Re==="if"||Re==="in"||Re==="do";case 3:return Re==="var"||Re==="for"||Re==="new"||Re==="try";case 4:return Re==="this"||Re==="else"||Re==="case"||Re==="void"||Re==="with"||Re==="enum";case 5:return Re==="while"||Re==="break"||Re==="catch"||Re==="throw"||Re==="const"||Re==="yield"||Re==="class"||Re==="super";case 6:return Re==="return"||Re==="typeof"||Re==="delete"||Re==="switch"||Re==="export"||Re==="import";case 7:return Re==="default"||Re==="finally"||Re==="extends";case 8:return Re==="function"||Re==="continue"||Re==="debugger";case 10:return Re==="instanceof";default:return!1}}function L(Re,$e){return Re==="null"||Re==="true"||Re==="false"||I(Re,$e)}function B(Re,$e){return Re==="null"||Re==="true"||Re==="false"||N(Re,$e)}function H(Re){return Re==="eval"||Re==="arguments"}function z(Re){var $e,Pe,Me;if(Re.length===0||(Me=Re.charCodeAt(0),!T.isIdentifierStartES5(Me)))return!1;for($e=1,Pe=Re.length;$e<Pe;++$e)if(Me=Re.charCodeAt($e),!T.isIdentifierPartES5(Me))return!1;return!0}function Q(Re,$e){return(Re-55296)*1024+($e-56320)+65536}function te(Re){var $e,Pe,Me,Be,Ke;if(Re.length===0)return!1;for(Ke=T.isIdentifierStartES6,$e=0,Pe=Re.length;$e<Pe;++$e){if(Me=Re.charCodeAt($e),55296<=Me&&Me<=56319){if(++$e,$e>=Pe||(Be=Re.charCodeAt($e),!(56320<=Be&&Be<=57343)))return!1;Me=Q(Me,Be)}if(!Ke(Me))return!1;Ke=T.isIdentifierPartES6}return!0}function G(Re,$e){return z(Re)&&!L(Re,$e)}function ie(Re,$e){return te(Re)&&!B(Re,$e)}keyword$7.exports={isKeywordES5:I,isKeywordES6:N,isReservedWordES5:L,isReservedWordES6:B,isRestrictedWord:H,isIdentifierNameES5:z,isIdentifierNameES6:te,isIdentifierES5:G,isIdentifierES6:ie}})();var keywordExports=keyword$7.exports;const keyword$5=getDefaultExportFromCjs$1(keywordExports),keyword$6=_mergeNamespaces({__proto__:null,default:keyword$5},[keywordExports]);var keyword$4,code$a,ast;(function(){ast=utils$z.ast=ast$2,code$a=utils$z.code=code$c,keyword$4=utils$z.keyword=keyword$6})();const utils$y=_mergeNamespaces({__proto__:null,get ast(){return ast},get code(){return code$a},default:utils$z,get keyword(){return keyword$4}},[utils$z]);var sourceMap={},sourceMapGenerator={},base64Vlq={},base64={},hasRequiredBase64;function requireBase64(){if(hasRequiredBase64)return base64;hasRequiredBase64=1;var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return base64.encode=function($){if(0<=$&&$<T.length)return T[$];throw new TypeError("Must be between 0 and 63: "+$)},base64.decode=function($){var I=65,N=90,L=97,B=122,H=48,z=57,Q=43,te=47,G=26,ie=52;return I<=$&&$<=N?$-I:L<=$&&$<=B?$-L+G:H<=$&&$<=z?$-H+ie:$==Q?62:$==te?63:-1},base64}var hasRequiredBase64Vlq;function requireBase64Vlq(){if(hasRequiredBase64Vlq)return base64Vlq;hasRequiredBase64Vlq=1;var T=requireBase64(),$=5,I=1<<$,N=I-1,L=I;function B(z){return z<0?(-z<<1)+1:(z<<1)+0}function H(z){var Q=(z&1)===1,te=z>>1;return Q?-te:te}return base64Vlq.encode=function(Q){var te="",G,ie=B(Q);do G=ie&N,ie>>>=$,ie>0&&(G|=L),te+=T.encode(G);while(ie>0);return te},base64Vlq.decode=function(Q,te,G){var ie=Q.length,Re=0,$e=0,Pe,Me;do{if(te>=ie)throw new Error("Expected more digits in base 64 VLQ value.");if(Me=T.decode(Q.charCodeAt(te++)),Me===-1)throw new Error("Invalid base64 digit: "+Q.charAt(te-1));Pe=!!(Me&L),Me&=N,Re=Re+(Me<<$e),$e+=$}while(Pe);G.value=H(Re),G.rest=te},base64Vlq}var util$c={},hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(T){function $(He,Ge,at){if(Ge in He)return He[Ge];if(arguments.length===3)return at;throw new Error('"'+Ge+'" is a required argument.')}T.getArg=$;var I=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,N=/^data:.+\,.+$/;function L(He){var Ge=He.match(I);return Ge?{scheme:Ge[1],auth:Ge[2],host:Ge[3],port:Ge[4],path:Ge[5]}:null}T.urlParse=L;function B(He){var Ge="";return He.scheme&&(Ge+=He.scheme+":"),Ge+="//",He.auth&&(Ge+=He.auth+"@"),He.host&&(Ge+=He.host),He.port&&(Ge+=":"+He.port),He.path&&(Ge+=He.path),Ge}T.urlGenerate=B;function H(He){var Ge=He,at=L(He);if(at){if(!at.path)return He;Ge=at.path}for(var ot=T.isAbsolute(Ge),Ye=Ge.split(/\/+/),nt,Qe=0,tt=Ye.length-1;tt>=0;tt--)nt=Ye[tt],nt==="."?Ye.splice(tt,1):nt===".."?Qe++:Qe>0&&(nt===""?(Ye.splice(tt+1,Qe),Qe=0):(Ye.splice(tt,2),Qe--));return Ge=Ye.join("/"),Ge===""&&(Ge=ot?"/":"."),at?(at.path=Ge,B(at)):Ge}T.normalize=H;function z(He,Ge){He===""&&(He="."),Ge===""&&(Ge=".");var at=L(Ge),ot=L(He);if(ot&&(He=ot.path||"/"),at&&!at.scheme)return ot&&(at.scheme=ot.scheme),B(at);if(at||Ge.match(N))return Ge;if(ot&&!ot.host&&!ot.path)return ot.host=Ge,B(ot);var Ye=Ge.charAt(0)==="/"?Ge:H(He.replace(/\/+$/,"")+"/"+Ge);return ot?(ot.path=Ye,B(ot)):Ye}T.join=z,T.isAbsolute=function(He){return He.charAt(0)==="/"||I.test(He)};function Q(He,Ge){He===""&&(He="."),He=He.replace(/\/$/,"");for(var at=0;Ge.indexOf(He+"/")!==0;){var ot=He.lastIndexOf("/");if(ot<0||(He=He.slice(0,ot),He.match(/^([^\/]+:\/)?\/*$/)))return Ge;++at}return Array(at+1).join("../")+Ge.substr(He.length+1)}T.relative=Q;var te=function(){var He=Object.create(null);return!("__proto__"in He)}();function G(He){return He}function ie(He){return $e(He)?"$"+He:He}T.toSetString=te?G:ie;function Re(He){return $e(He)?He.slice(1):He}T.fromSetString=te?G:Re;function $e(He){if(!He)return!1;var Ge=He.length;if(Ge<9||He.charCodeAt(Ge-1)!==95||He.charCodeAt(Ge-2)!==95||He.charCodeAt(Ge-3)!==111||He.charCodeAt(Ge-4)!==116||He.charCodeAt(Ge-5)!==111||He.charCodeAt(Ge-6)!==114||He.charCodeAt(Ge-7)!==112||He.charCodeAt(Ge-8)!==95||He.charCodeAt(Ge-9)!==95)return!1;for(var at=Ge-10;at>=0;at--)if(He.charCodeAt(at)!==36)return!1;return!0}function Pe(He,Ge,at){var ot=Be(He.source,Ge.source);return ot!==0||(ot=He.originalLine-Ge.originalLine,ot!==0)||(ot=He.originalColumn-Ge.originalColumn,ot!==0||at)||(ot=He.generatedColumn-Ge.generatedColumn,ot!==0)||(ot=He.generatedLine-Ge.generatedLine,ot!==0)?ot:Be(He.name,Ge.name)}T.compareByOriginalPositions=Pe;function Me(He,Ge,at){var ot=He.generatedLine-Ge.generatedLine;return ot!==0||(ot=He.generatedColumn-Ge.generatedColumn,ot!==0||at)||(ot=Be(He.source,Ge.source),ot!==0)||(ot=He.originalLine-Ge.originalLine,ot!==0)||(ot=He.originalColumn-Ge.originalColumn,ot!==0)?ot:Be(He.name,Ge.name)}T.compareByGeneratedPositionsDeflated=Me;function Be(He,Ge){return He===Ge?0:He===null?1:Ge===null?-1:He>Ge?1:-1}function Ke(He,Ge){var at=He.generatedLine-Ge.generatedLine;return at!==0||(at=He.generatedColumn-Ge.generatedColumn,at!==0)||(at=Be(He.source,Ge.source),at!==0)||(at=He.originalLine-Ge.originalLine,at!==0)||(at=He.originalColumn-Ge.originalColumn,at!==0)?at:Be(He.name,Ge.name)}T.compareByGeneratedPositionsInflated=Ke;function Le(He){return JSON.parse(He.replace(/^\)]}'[^\n]*\n/,""))}T.parseSourceMapInput=Le;function qe(He,Ge,at){if(Ge=Ge||"",He&&(He[He.length-1]!=="/"&&Ge[0]!=="/"&&(He+="/"),Ge=He+Ge),at){var ot=L(at);if(!ot)throw new Error("sourceMapURL could not be parsed");if(ot.path){var Ye=ot.path.lastIndexOf("/");Ye>=0&&(ot.path=ot.path.substring(0,Ye+1))}Ge=z(B(ot),Ge)}return H(Ge)}T.computeSourceURL=qe}(util$c)),util$c}var arraySet={},hasRequiredArraySet;function requireArraySet(){if(hasRequiredArraySet)return arraySet;hasRequiredArraySet=1;var T=requireUtil$1(),$=Object.prototype.hasOwnProperty,I=typeof Map<"u";function N(){this._array=[],this._set=I?new Map:Object.create(null)}return N.fromArray=function(B,H){for(var z=new N,Q=0,te=B.length;Q<te;Q++)z.add(B[Q],H);return z},N.prototype.size=function(){return I?this._set.size:Object.getOwnPropertyNames(this._set).length},N.prototype.add=function(B,H){var z=I?B:T.toSetString(B),Q=I?this.has(B):$.call(this._set,z),te=this._array.length;(!Q||H)&&this._array.push(B),Q||(I?this._set.set(B,te):this._set[z]=te)},N.prototype.has=function(B){if(I)return this._set.has(B);var H=T.toSetString(B);return $.call(this._set,H)},N.prototype.indexOf=function(B){if(I){var H=this._set.get(B);if(H>=0)return H}else{var z=T.toSetString(B);if($.call(this._set,z))return this._set[z]}throw new Error('"'+B+'" is not in the set.')},N.prototype.at=function(B){if(B>=0&&B<this._array.length)return this._array[B];throw new Error("No element indexed by "+B)},N.prototype.toArray=function(){return this._array.slice()},arraySet.ArraySet=N,arraySet}var mappingList={},hasRequiredMappingList;function requireMappingList(){if(hasRequiredMappingList)return mappingList;hasRequiredMappingList=1;var T=requireUtil$1();function $(N,L){var B=N.generatedLine,H=L.generatedLine,z=N.generatedColumn,Q=L.generatedColumn;return H>B||H==B&&Q>=z||T.compareByGeneratedPositionsInflated(N,L)<=0}function I(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return I.prototype.unsortedForEach=function(L,B){this._array.forEach(L,B)},I.prototype.add=function(L){$(this._last,L)?(this._last=L,this._array.push(L)):(this._sorted=!1,this._array.push(L))},I.prototype.toArray=function(){return this._sorted||(this._array.sort(T.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},mappingList.MappingList=I,mappingList}var hasRequiredSourceMapGenerator;function requireSourceMapGenerator(){if(hasRequiredSourceMapGenerator)return sourceMapGenerator;hasRequiredSourceMapGenerator=1;var T=requireBase64Vlq(),$=requireUtil$1(),I=requireArraySet().ArraySet,N=requireMappingList().MappingList;function L(B){B||(B={}),this._file=$.getArg(B,"file",null),this._sourceRoot=$.getArg(B,"sourceRoot",null),this._skipValidation=$.getArg(B,"skipValidation",!1),this._sources=new I,this._names=new I,this._mappings=new N,this._sourcesContents=null}return L.prototype._version=3,L.fromSourceMap=function(H){var z=H.sourceRoot,Q=new L({file:H.file,sourceRoot:z});return H.eachMapping(function(te){var G={generated:{line:te.generatedLine,column:te.generatedColumn}};te.source!=null&&(G.source=te.source,z!=null&&(G.source=$.relative(z,G.source)),G.original={line:te.originalLine,column:te.originalColumn},te.name!=null&&(G.name=te.name)),Q.addMapping(G)}),H.sources.forEach(function(te){var G=te;z!==null&&(G=$.relative(z,te)),Q._sources.has(G)||Q._sources.add(G);var ie=H.sourceContentFor(te);ie!=null&&Q.setSourceContent(te,ie)}),Q},L.prototype.addMapping=function(H){var z=$.getArg(H,"generated"),Q=$.getArg(H,"original",null),te=$.getArg(H,"source",null),G=$.getArg(H,"name",null);this._skipValidation||this._validateMapping(z,Q,te,G),te!=null&&(te=String(te),this._sources.has(te)||this._sources.add(te)),G!=null&&(G=String(G),this._names.has(G)||this._names.add(G)),this._mappings.add({generatedLine:z.line,generatedColumn:z.column,originalLine:Q!=null&&Q.line,originalColumn:Q!=null&&Q.column,source:te,name:G})},L.prototype.setSourceContent=function(H,z){var Q=H;this._sourceRoot!=null&&(Q=$.relative(this._sourceRoot,Q)),z!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[$.toSetString(Q)]=z):this._sourcesContents&&(delete this._sourcesContents[$.toSetString(Q)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},L.prototype.applySourceMap=function(H,z,Q){var te=z;if(z==null){if(H.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);te=H.file}var G=this._sourceRoot;G!=null&&(te=$.relative(G,te));var ie=new I,Re=new I;this._mappings.unsortedForEach(function($e){if($e.source===te&&$e.originalLine!=null){var Pe=H.originalPositionFor({line:$e.originalLine,column:$e.originalColumn});Pe.source!=null&&($e.source=Pe.source,Q!=null&&($e.source=$.join(Q,$e.source)),G!=null&&($e.source=$.relative(G,$e.source)),$e.originalLine=Pe.line,$e.originalColumn=Pe.column,Pe.name!=null&&($e.name=Pe.name))}var Me=$e.source;Me!=null&&!ie.has(Me)&&ie.add(Me);var Be=$e.name;Be!=null&&!Re.has(Be)&&Re.add(Be)},this),this._sources=ie,this._names=Re,H.sources.forEach(function($e){var Pe=H.sourceContentFor($e);Pe!=null&&(Q!=null&&($e=$.join(Q,$e)),G!=null&&($e=$.relative(G,$e)),this.setSourceContent($e,Pe))},this)},L.prototype._validateMapping=function(H,z,Q,te){if(z&&typeof z.line!="number"&&typeof z.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(H&&"line"in H&&"column"in H&&H.line>0&&H.column>=0&&!z&&!Q&&!te)){if(H&&"line"in H&&"column"in H&&z&&"line"in z&&"column"in z&&H.line>0&&H.column>=0&&z.line>0&&z.column>=0&&Q)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:H,source:Q,original:z,name:te}))}},L.prototype._serializeMappings=function(){for(var H=0,z=1,Q=0,te=0,G=0,ie=0,Re="",$e,Pe,Me,Be,Ke=this._mappings.toArray(),Le=0,qe=Ke.length;Le<qe;Le++){if(Pe=Ke[Le],$e="",Pe.generatedLine!==z)for(H=0;Pe.generatedLine!==z;)$e+=";",z++;else if(Le>0){if(!$.compareByGeneratedPositionsInflated(Pe,Ke[Le-1]))continue;$e+=","}$e+=T.encode(Pe.generatedColumn-H),H=Pe.generatedColumn,Pe.source!=null&&(Be=this._sources.indexOf(Pe.source),$e+=T.encode(Be-ie),ie=Be,$e+=T.encode(Pe.originalLine-1-te),te=Pe.originalLine-1,$e+=T.encode(Pe.originalColumn-Q),Q=Pe.originalColumn,Pe.name!=null&&(Me=this._names.indexOf(Pe.name),$e+=T.encode(Me-G),G=Me)),Re+=$e}return Re},L.prototype._generateSourcesContent=function(H,z){return H.map(function(Q){if(!this._sourcesContents)return null;z!=null&&(Q=$.relative(z,Q));var te=$.toSetString(Q);return Object.prototype.hasOwnProperty.call(this._sourcesContents,te)?this._sourcesContents[te]:null},this)},L.prototype.toJSON=function(){var H={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(H.file=this._file),this._sourceRoot!=null&&(H.sourceRoot=this._sourceRoot),this._sourcesContents&&(H.sourcesContent=this._generateSourcesContent(H.sources,H.sourceRoot)),H},L.prototype.toString=function(){return JSON.stringify(this.toJSON())},sourceMapGenerator.SourceMapGenerator=L,sourceMapGenerator}var sourceMapConsumer={},binarySearch={},hasRequiredBinarySearch;function requireBinarySearch(){return hasRequiredBinarySearch||(hasRequiredBinarySearch=1,function(T){T.GREATEST_LOWER_BOUND=1,T.LEAST_UPPER_BOUND=2;function $(I,N,L,B,H,z){var Q=Math.floor((N-I)/2)+I,te=H(L,B[Q],!0);return te===0?Q:te>0?N-Q>1?$(Q,N,L,B,H,z):z==T.LEAST_UPPER_BOUND?N<B.length?N:-1:Q:Q-I>1?$(I,Q,L,B,H,z):z==T.LEAST_UPPER_BOUND?Q:I<0?-1:I}T.search=function(N,L,B,H){if(L.length===0)return-1;var z=$(-1,L.length,N,L,B,H||T.GREATEST_LOWER_BOUND);if(z<0)return-1;for(;z-1>=0&&B(L[z],L[z-1],!0)===0;)--z;return z}}(binarySearch)),binarySearch}var quickSort={},hasRequiredQuickSort;function requireQuickSort(){if(hasRequiredQuickSort)return quickSort;hasRequiredQuickSort=1;function T(N,L,B){var H=N[L];N[L]=N[B],N[B]=H}function $(N,L){return Math.round(N+Math.random()*(L-N))}function I(N,L,B,H){if(B<H){var z=$(B,H),Q=B-1;T(N,z,H);for(var te=N[H],G=B;G<H;G++)L(N[G],te)<=0&&(Q+=1,T(N,Q,G));T(N,Q+1,G);var ie=Q+1;I(N,L,B,ie-1),I(N,L,ie+1,H)}}return quickSort.quickSort=function(N,L){I(N,L,0,N.length-1)},quickSort}var hasRequiredSourceMapConsumer;function requireSourceMapConsumer(){if(hasRequiredSourceMapConsumer)return sourceMapConsumer;hasRequiredSourceMapConsumer=1;var T=requireUtil$1(),$=requireBinarySearch(),I=requireArraySet().ArraySet,N=requireBase64Vlq(),L=requireQuickSort().quickSort;function B(te,G){var ie=te;return typeof te=="string"&&(ie=T.parseSourceMapInput(te)),ie.sections!=null?new Q(ie,G):new H(ie,G)}B.fromSourceMap=function(te,G){return H.fromSourceMap(te,G)},B.prototype._version=3,B.prototype.__generatedMappings=null,Object.defineProperty(B.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),B.prototype.__originalMappings=null,Object.defineProperty(B.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),B.prototype._charIsMappingSeparator=function(G,ie){var Re=G.charAt(ie);return Re===";"||Re===","},B.prototype._parseMappings=function(G,ie){throw new Error("Subclasses must implement _parseMappings")},B.GENERATED_ORDER=1,B.ORIGINAL_ORDER=2,B.GREATEST_LOWER_BOUND=1,B.LEAST_UPPER_BOUND=2,B.prototype.eachMapping=function(G,ie,Re){var $e=ie||null,Pe=Re||B.GENERATED_ORDER,Me;switch(Pe){case B.GENERATED_ORDER:Me=this._generatedMappings;break;case B.ORIGINAL_ORDER:Me=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var Be=this.sourceRoot;Me.map(function(Ke){var Le=Ke.source===null?null:this._sources.at(Ke.source);return Le=T.computeSourceURL(Be,Le,this._sourceMapURL),{source:Le,generatedLine:Ke.generatedLine,generatedColumn:Ke.generatedColumn,originalLine:Ke.originalLine,originalColumn:Ke.originalColumn,name:Ke.name===null?null:this._names.at(Ke.name)}},this).forEach(G,$e)},B.prototype.allGeneratedPositionsFor=function(G){var ie=T.getArg(G,"line"),Re={source:T.getArg(G,"source"),originalLine:ie,originalColumn:T.getArg(G,"column",0)};if(Re.source=this._findSourceIndex(Re.source),Re.source<0)return[];var $e=[],Pe=this._findMapping(Re,this._originalMappings,"originalLine","originalColumn",T.compareByOriginalPositions,$.LEAST_UPPER_BOUND);if(Pe>=0){var Me=this._originalMappings[Pe];if(G.column===void 0)for(var Be=Me.originalLine;Me&&Me.originalLine===Be;)$e.push({line:T.getArg(Me,"generatedLine",null),column:T.getArg(Me,"generatedColumn",null),lastColumn:T.getArg(Me,"lastGeneratedColumn",null)}),Me=this._originalMappings[++Pe];else for(var Ke=Me.originalColumn;Me&&Me.originalLine===ie&&Me.originalColumn==Ke;)$e.push({line:T.getArg(Me,"generatedLine",null),column:T.getArg(Me,"generatedColumn",null),lastColumn:T.getArg(Me,"lastGeneratedColumn",null)}),Me=this._originalMappings[++Pe]}return $e},sourceMapConsumer.SourceMapConsumer=B;function H(te,G){var ie=te;typeof te=="string"&&(ie=T.parseSourceMapInput(te));var Re=T.getArg(ie,"version"),$e=T.getArg(ie,"sources"),Pe=T.getArg(ie,"names",[]),Me=T.getArg(ie,"sourceRoot",null),Be=T.getArg(ie,"sourcesContent",null),Ke=T.getArg(ie,"mappings"),Le=T.getArg(ie,"file",null);if(Re!=this._version)throw new Error("Unsupported version: "+Re);Me&&(Me=T.normalize(Me)),$e=$e.map(String).map(T.normalize).map(function(qe){return Me&&T.isAbsolute(Me)&&T.isAbsolute(qe)?T.relative(Me,qe):qe}),this._names=I.fromArray(Pe.map(String),!0),this._sources=I.fromArray($e,!0),this._absoluteSources=this._sources.toArray().map(function(qe){return T.computeSourceURL(Me,qe,G)}),this.sourceRoot=Me,this.sourcesContent=Be,this._mappings=Ke,this._sourceMapURL=G,this.file=Le}H.prototype=Object.create(B.prototype),H.prototype.consumer=B,H.prototype._findSourceIndex=function(te){var G=te;if(this.sourceRoot!=null&&(G=T.relative(this.sourceRoot,G)),this._sources.has(G))return this._sources.indexOf(G);var ie;for(ie=0;ie<this._absoluteSources.length;++ie)if(this._absoluteSources[ie]==te)return ie;return-1},H.fromSourceMap=function(G,ie){var Re=Object.create(H.prototype),$e=Re._names=I.fromArray(G._names.toArray(),!0),Pe=Re._sources=I.fromArray(G._sources.toArray(),!0);Re.sourceRoot=G._sourceRoot,Re.sourcesContent=G._generateSourcesContent(Re._sources.toArray(),Re.sourceRoot),Re.file=G._file,Re._sourceMapURL=ie,Re._absoluteSources=Re._sources.toArray().map(function(at){return T.computeSourceURL(Re.sourceRoot,at,ie)});for(var Me=G._mappings.toArray().slice(),Be=Re.__generatedMappings=[],Ke=Re.__originalMappings=[],Le=0,qe=Me.length;Le<qe;Le++){var He=Me[Le],Ge=new z;Ge.generatedLine=He.generatedLine,Ge.generatedColumn=He.generatedColumn,He.source&&(Ge.source=Pe.indexOf(He.source),Ge.originalLine=He.originalLine,Ge.originalColumn=He.originalColumn,He.name&&(Ge.name=$e.indexOf(He.name)),Ke.push(Ge)),Be.push(Ge)}return L(Re.__originalMappings,T.compareByOriginalPositions),Re},H.prototype._version=3,Object.defineProperty(H.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function z(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}H.prototype._parseMappings=function(G,ie){for(var Re=1,$e=0,Pe=0,Me=0,Be=0,Ke=0,Le=G.length,qe=0,He={},Ge={},at=[],ot=[],Ye,nt,Qe,tt,ze;qe<Le;)if(G.charAt(qe)===";")Re++,qe++,$e=0;else if(G.charAt(qe)===",")qe++;else{for(Ye=new z,Ye.generatedLine=Re,tt=qe;tt<Le&&!this._charIsMappingSeparator(G,tt);tt++);if(nt=G.slice(qe,tt),Qe=He[nt],Qe)qe+=nt.length;else{for(Qe=[];qe<tt;)N.decode(G,qe,Ge),ze=Ge.value,qe=Ge.rest,Qe.push(ze);if(Qe.length===2)throw new Error("Found a source, but no line and column");if(Qe.length===3)throw new Error("Found a source and line, but no column");He[nt]=Qe}Ye.generatedColumn=$e+Qe[0],$e=Ye.generatedColumn,Qe.length>1&&(Ye.source=Be+Qe[1],Be+=Qe[1],Ye.originalLine=Pe+Qe[2],Pe=Ye.originalLine,Ye.originalLine+=1,Ye.originalColumn=Me+Qe[3],Me=Ye.originalColumn,Qe.length>4&&(Ye.name=Ke+Qe[4],Ke+=Qe[4])),ot.push(Ye),typeof Ye.originalLine=="number"&&at.push(Ye)}L(ot,T.compareByGeneratedPositionsDeflated),this.__generatedMappings=ot,L(at,T.compareByOriginalPositions),this.__originalMappings=at},H.prototype._findMapping=function(G,ie,Re,$e,Pe,Me){if(G[Re]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+G[Re]);if(G[$e]<0)throw new TypeError("Column must be greater than or equal to 0, got "+G[$e]);return $.search(G,ie,Pe,Me)},H.prototype.computeColumnSpans=function(){for(var G=0;G<this._generatedMappings.length;++G){var ie=this._generatedMappings[G];if(G+1<this._generatedMappings.length){var Re=this._generatedMappings[G+1];if(ie.generatedLine===Re.generatedLine){ie.lastGeneratedColumn=Re.generatedColumn-1;continue}}ie.lastGeneratedColumn=1/0}},H.prototype.originalPositionFor=function(G){var ie={generatedLine:T.getArg(G,"line"),generatedColumn:T.getArg(G,"column")},Re=this._findMapping(ie,this._generatedMappings,"generatedLine","generatedColumn",T.compareByGeneratedPositionsDeflated,T.getArg(G,"bias",B.GREATEST_LOWER_BOUND));if(Re>=0){var $e=this._generatedMappings[Re];if($e.generatedLine===ie.generatedLine){var Pe=T.getArg($e,"source",null);Pe!==null&&(Pe=this._sources.at(Pe),Pe=T.computeSourceURL(this.sourceRoot,Pe,this._sourceMapURL));var Me=T.getArg($e,"name",null);return Me!==null&&(Me=this._names.at(Me)),{source:Pe,line:T.getArg($e,"originalLine",null),column:T.getArg($e,"originalColumn",null),name:Me}}}return{source:null,line:null,column:null,name:null}},H.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(G){return G==null}):!1},H.prototype.sourceContentFor=function(G,ie){if(!this.sourcesContent)return null;var Re=this._findSourceIndex(G);if(Re>=0)return this.sourcesContent[Re];var $e=G;this.sourceRoot!=null&&($e=T.relative(this.sourceRoot,$e));var Pe;if(this.sourceRoot!=null&&(Pe=T.urlParse(this.sourceRoot))){var Me=$e.replace(/^file:\/\//,"");if(Pe.scheme=="file"&&this._sources.has(Me))return this.sourcesContent[this._sources.indexOf(Me)];if((!Pe.path||Pe.path=="/")&&this._sources.has("/"+$e))return this.sourcesContent[this._sources.indexOf("/"+$e)]}if(ie)return null;throw new Error('"'+$e+'" is not in the SourceMap.')},H.prototype.generatedPositionFor=function(G){var ie=T.getArg(G,"source");if(ie=this._findSourceIndex(ie),ie<0)return{line:null,column:null,lastColumn:null};var Re={source:ie,originalLine:T.getArg(G,"line"),originalColumn:T.getArg(G,"column")},$e=this._findMapping(Re,this._originalMappings,"originalLine","originalColumn",T.compareByOriginalPositions,T.getArg(G,"bias",B.GREATEST_LOWER_BOUND));if($e>=0){var Pe=this._originalMappings[$e];if(Pe.source===Re.source)return{line:T.getArg(Pe,"generatedLine",null),column:T.getArg(Pe,"generatedColumn",null),lastColumn:T.getArg(Pe,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},sourceMapConsumer.BasicSourceMapConsumer=H;function Q(te,G){var ie=te;typeof te=="string"&&(ie=T.parseSourceMapInput(te));var Re=T.getArg(ie,"version"),$e=T.getArg(ie,"sections");if(Re!=this._version)throw new Error("Unsupported version: "+Re);this._sources=new I,this._names=new I;var Pe={line:-1,column:0};this._sections=$e.map(function(Me){if(Me.url)throw new Error("Support for url field in sections not implemented.");var Be=T.getArg(Me,"offset"),Ke=T.getArg(Be,"line"),Le=T.getArg(Be,"column");if(Ke<Pe.line||Ke===Pe.line&&Le<Pe.column)throw new Error("Section offsets must be ordered and non-overlapping.");return Pe=Be,{generatedOffset:{generatedLine:Ke+1,generatedColumn:Le+1},consumer:new B(T.getArg(Me,"map"),G)}})}return Q.prototype=Object.create(B.prototype),Q.prototype.constructor=B,Q.prototype._version=3,Object.defineProperty(Q.prototype,"sources",{get:function(){for(var te=[],G=0;G<this._sections.length;G++)for(var ie=0;ie<this._sections[G].consumer.sources.length;ie++)te.push(this._sections[G].consumer.sources[ie]);return te}}),Q.prototype.originalPositionFor=function(G){var ie={generatedLine:T.getArg(G,"line"),generatedColumn:T.getArg(G,"column")},Re=$.search(ie,this._sections,function(Pe,Me){var Be=Pe.generatedLine-Me.generatedOffset.generatedLine;return Be||Pe.generatedColumn-Me.generatedOffset.generatedColumn}),$e=this._sections[Re];return $e?$e.consumer.originalPositionFor({line:ie.generatedLine-($e.generatedOffset.generatedLine-1),column:ie.generatedColumn-($e.generatedOffset.generatedLine===ie.generatedLine?$e.generatedOffset.generatedColumn-1:0),bias:G.bias}):{source:null,line:null,column:null,name:null}},Q.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(G){return G.consumer.hasContentsOfAllSources()})},Q.prototype.sourceContentFor=function(G,ie){for(var Re=0;Re<this._sections.length;Re++){var $e=this._sections[Re],Pe=$e.consumer.sourceContentFor(G,!0);if(Pe)return Pe}if(ie)return null;throw new Error('"'+G+'" is not in the SourceMap.')},Q.prototype.generatedPositionFor=function(G){for(var ie=0;ie<this._sections.length;ie++){var Re=this._sections[ie];if(Re.consumer._findSourceIndex(T.getArg(G,"source"))!==-1){var $e=Re.consumer.generatedPositionFor(G);if($e){var Pe={line:$e.line+(Re.generatedOffset.generatedLine-1),column:$e.column+(Re.generatedOffset.generatedLine===$e.line?Re.generatedOffset.generatedColumn-1:0)};return Pe}}}return{line:null,column:null}},Q.prototype._parseMappings=function(G,ie){this.__generatedMappings=[],this.__originalMappings=[];for(var Re=0;Re<this._sections.length;Re++)for(var $e=this._sections[Re],Pe=$e.consumer._generatedMappings,Me=0;Me<Pe.length;Me++){var Be=Pe[Me],Ke=$e.consumer._sources.at(Be.source);Ke=T.computeSourceURL($e.consumer.sourceRoot,Ke,this._sourceMapURL),this._sources.add(Ke),Ke=this._sources.indexOf(Ke);var Le=null;Be.name&&(Le=$e.consumer._names.at(Be.name),this._names.add(Le),Le=this._names.indexOf(Le));var qe={source:Ke,generatedLine:Be.generatedLine+($e.generatedOffset.generatedLine-1),generatedColumn:Be.generatedColumn+($e.generatedOffset.generatedLine===Be.generatedLine?$e.generatedOffset.generatedColumn-1:0),originalLine:Be.originalLine,originalColumn:Be.originalColumn,name:Le};this.__generatedMappings.push(qe),typeof qe.originalLine=="number"&&this.__originalMappings.push(qe)}L(this.__generatedMappings,T.compareByGeneratedPositionsDeflated),L(this.__originalMappings,T.compareByOriginalPositions)},sourceMapConsumer.IndexedSourceMapConsumer=Q,sourceMapConsumer}var sourceNode={},hasRequiredSourceNode;function requireSourceNode(){if(hasRequiredSourceNode)return sourceNode;hasRequiredSourceNode=1;var T=requireSourceMapGenerator().SourceMapGenerator,$=requireUtil$1(),I=/(\r?\n)/,N=10,L="$$$isSourceNode$$$";function B(H,z,Q,te,G){this.children=[],this.sourceContents={},this.line=H??null,this.column=z??null,this.source=Q??null,this.name=G??null,this[L]=!0,te!=null&&this.add(te)}return B.fromStringWithSourceMap=function(z,Q,te){var G=new B,ie=z.split(I),Re=0,$e=function(){var Le=He(),qe=He()||"";return Le+qe;function He(){return Re<ie.length?ie[Re++]:void 0}},Pe=1,Me=0,Be=null;return Q.eachMapping(function(Le){if(Be!==null)if(Pe<Le.generatedLine)Ke(Be,$e()),Pe++,Me=0;else{var qe=ie[Re]||"",He=qe.substr(0,Le.generatedColumn-Me);ie[Re]=qe.substr(Le.generatedColumn-Me),Me=Le.generatedColumn,Ke(Be,He),Be=Le;return}for(;Pe<Le.generatedLine;)G.add($e()),Pe++;if(Me<Le.generatedColumn){var qe=ie[Re]||"";G.add(qe.substr(0,Le.generatedColumn)),ie[Re]=qe.substr(Le.generatedColumn),Me=Le.generatedColumn}Be=Le},this),Re<ie.length&&(Be&&Ke(Be,$e()),G.add(ie.splice(Re).join(""))),Q.sources.forEach(function(Le){var qe=Q.sourceContentFor(Le);qe!=null&&(te!=null&&(Le=$.join(te,Le)),G.setSourceContent(Le,qe))}),G;function Ke(Le,qe){if(Le===null||Le.source===void 0)G.add(qe);else{var He=te?$.join(te,Le.source):Le.source;G.add(new B(Le.originalLine,Le.originalColumn,He,qe,Le.name))}}},B.prototype.add=function(z){if(Array.isArray(z))z.forEach(function(Q){this.add(Q)},this);else if(z[L]||typeof z=="string")z&&this.children.push(z);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+z);return this},B.prototype.prepend=function(z){if(Array.isArray(z))for(var Q=z.length-1;Q>=0;Q--)this.prepend(z[Q]);else if(z[L]||typeof z=="string")this.children.unshift(z);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+z);return this},B.prototype.walk=function(z){for(var Q,te=0,G=this.children.length;te<G;te++)Q=this.children[te],Q[L]?Q.walk(z):Q!==""&&z(Q,{source:this.source,line:this.line,column:this.column,name:this.name})},B.prototype.join=function(z){var Q,te,G=this.children.length;if(G>0){for(Q=[],te=0;te<G-1;te++)Q.push(this.children[te]),Q.push(z);Q.push(this.children[te]),this.children=Q}return this},B.prototype.replaceRight=function(z,Q){var te=this.children[this.children.length-1];return te[L]?te.replaceRight(z,Q):typeof te=="string"?this.children[this.children.length-1]=te.replace(z,Q):this.children.push("".replace(z,Q)),this},B.prototype.setSourceContent=function(z,Q){this.sourceContents[$.toSetString(z)]=Q},B.prototype.walkSourceContents=function(z){for(var Q=0,te=this.children.length;Q<te;Q++)this.children[Q][L]&&this.children[Q].walkSourceContents(z);for(var G=Object.keys(this.sourceContents),Q=0,te=G.length;Q<te;Q++)z($.fromSetString(G[Q]),this.sourceContents[G[Q]])},B.prototype.toString=function(){var z="";return this.walk(function(Q){z+=Q}),z},B.prototype.toStringWithSourceMap=function(z){var Q={code:"",line:1,column:0},te=new T(z),G=!1,ie=null,Re=null,$e=null,Pe=null;return this.walk(function(Me,Be){Q.code+=Me,Be.source!==null&&Be.line!==null&&Be.column!==null?((ie!==Be.source||Re!==Be.line||$e!==Be.column||Pe!==Be.name)&&te.addMapping({source:Be.source,original:{line:Be.line,column:Be.column},generated:{line:Q.line,column:Q.column},name:Be.name}),ie=Be.source,Re=Be.line,$e=Be.column,Pe=Be.name,G=!0):G&&(te.addMapping({generated:{line:Q.line,column:Q.column}}),ie=null,G=!1);for(var Ke=0,Le=Me.length;Ke<Le;Ke++)Me.charCodeAt(Ke)===N?(Q.line++,Q.column=0,Ke+1===Le?(ie=null,G=!1):G&&te.addMapping({source:Be.source,original:{line:Be.line,column:Be.column},generated:{line:Q.line,column:Q.column},name:Be.name})):Q.column++}),this.walkSourceContents(function(Me,Be){te.setSourceContent(Me,Be)}),{code:Q.code,map:te}},sourceNode.SourceNode=B,sourceNode}var hasRequiredSourceMap;function requireSourceMap(){return hasRequiredSourceMap||(hasRequiredSourceMap=1,sourceMap.SourceMapGenerator=requireSourceMapGenerator().SourceMapGenerator,sourceMap.SourceMapConsumer=requireSourceMapConsumer().SourceMapConsumer,sourceMap.SourceNode=requireSourceNode().SourceNode),sourceMap}const version$1="1.14.3",require$$3$2={version:version$1};(function(T){(function(){var $,I,N,L,B,H,z,Q,te,G,ie,Re,$e,Pe,Me,Be,Ke,Le,qe,He,Ge,at,ot,Ye,nt,Qe;B=estraverse$1,H=utils$y,$=B.Syntax;function tt(Pt){return Nr.Expression.hasOwnProperty(Pt.type)}function ze(Pt){return Nr.Statement.hasOwnProperty(Pt.type)}I={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20},N={"||":I.LogicalOR,"&&":I.LogicalAND,"|":I.BitwiseOR,"^":I.BitwiseXOR,"&":I.BitwiseAND,"==":I.Equality,"!=":I.Equality,"===":I.Equality,"!==":I.Equality,is:I.Equality,isnt:I.Equality,"<":I.Relational,">":I.Relational,"<=":I.Relational,">=":I.Relational,in:I.Relational,instanceof:I.Relational,"<<":I.BitwiseSHIFT,">>":I.BitwiseSHIFT,">>>":I.BitwiseSHIFT,"+":I.Additive,"-":I.Additive,"*":I.Multiplicative,"%":I.Multiplicative,"/":I.Multiplicative,"**":I.Exponentiation};var Fe=1,ke=2,Ue=4,Je=8,rt=16,Xe=32,it=ke|Ue,We=Fe|ke,Ve=Fe|ke|Ue,je=Fe,Ze=Ue,st=Fe|Ue,dt=Fe,bt=Fe|Xe,vt=0,St=Fe|rt,Bt=Fe|Je;function Gt(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Dt(Pt,Wt){var qt="";for(Wt|=0;Wt>0;Wt>>>=1,Pt+=Pt)Wt&1&&(qt+=Pt);return qt}function Mt(Pt){return/[\r\n]/g.test(Pt)}function pt(Pt){var Wt=Pt.length;return Wt&&H.code.isLineTerminator(Pt.charCodeAt(Wt-1))}function mt(Pt,Wt){var qt;for(qt in Wt)Wt.hasOwnProperty(qt)&&(Pt[qt]=Wt[qt]);return Pt}function $t(Pt,Wt){var qt,Tt;function gt(Et){return typeof Et=="object"&&Et instanceof Object&&!(Et instanceof RegExp)}for(qt in Wt)Wt.hasOwnProperty(qt)&&(Tt=Wt[qt],gt(Tt)?gt(Pt[qt])?$t(Pt[qt],Tt):Pt[qt]=$t({},Tt):Pt[qt]=Tt);return Pt}function kt(Pt){var Wt,qt,Tt,gt,Et;if(Pt!==Pt)throw new Error("Numeric literal whose value is NaN");if(Pt<0||Pt===0&&1/Pt<0)throw new Error("Numeric literal whose value is negative");if(Pt===1/0)return te?"null":G?"1e400":"1e+400";if(Wt=""+Pt,!G||Wt.length<3)return Wt;for(qt=Wt.indexOf("."),!te&&Wt.charCodeAt(0)===48&&qt===1&&(qt=0,Wt=Wt.slice(1)),Tt=Wt,Wt=Wt.replace("e+","e"),gt=0,(Et=Tt.indexOf("e"))>0&&(gt=+Tt.slice(Et+1),Tt=Tt.slice(0,Et)),qt>=0&&(gt-=Tt.length-qt-1,Tt=+(Tt.slice(0,qt)+Tt.slice(qt+1))+""),Et=0;Tt.charCodeAt(Tt.length+Et-1)===48;)--Et;return Et!==0&&(gt-=Et,Tt=Tt.slice(0,Et)),gt!==0&&(Tt+="e"+gt),(Tt.length<Wt.length||ie&&Pt>1e12&&Math.floor(Pt)===Pt&&(Tt="0x"+Pt.toString(16)).length<Wt.length)&&+Tt===Pt&&(Wt=Tt),Wt}function Ft(Pt,Wt){return(Pt&-2)===8232?(Wt?"u":"\\u")+(Pt===8232?"2028":"2029"):Pt===10||Pt===13?(Wt?"":"\\")+(Pt===10?"n":"r"):String.fromCharCode(Pt)}function nr(Pt){var Wt,qt,Tt,gt,Et,wt,Lt,Zt;if(qt=Pt.toString(),Pt.source){if(Wt=qt.match(/\/([^/]*)$/),!Wt)return qt;for(Tt=Wt[1],qt="",Lt=!1,Zt=!1,gt=0,Et=Pt.source.length;gt<Et;++gt)wt=Pt.source.charCodeAt(gt),Zt?(qt+=Ft(wt,Zt),Zt=!1):(Lt?wt===93&&(Lt=!1):wt===47?qt+="\\":wt===91&&(Lt=!0),qt+=Ft(wt,Zt),Zt=wt===92);return"/"+qt+"/"+Tt}return qt}function Yt(Pt,Wt){var qt;return Pt===8?"\\b":Pt===12?"\\f":Pt===9?"\\t":(qt=Pt.toString(16).toUpperCase(),te||Pt>255?"\\u"+"0000".slice(qt.length)+qt:Pt===0&&!H.code.isDecimalDigit(Wt)?"\\0":Pt===11?"\\x0B":"\\x"+"00".slice(qt.length)+qt)}function yr(Pt){if(Pt===92)return"\\\\";if(Pt===10)return"\\n";if(Pt===13)return"\\r";if(Pt===8232)return"\\u2028";if(Pt===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function gr(Pt){var Wt,qt,Tt,gt;for(gt=Re==="double"?'"':"'",Wt=0,qt=Pt.length;Wt<qt;++Wt)if(Tt=Pt.charCodeAt(Wt),Tt===39){gt='"';break}else if(Tt===34){gt="'";break}else Tt===92&&++Wt;return gt+Pt+gt}function br(Pt){var Wt="",qt,Tt,gt,Et=0,wt=0,Lt,Zt;for(qt=0,Tt=Pt.length;qt<Tt;++qt){if(gt=Pt.charCodeAt(qt),gt===39)++Et;else if(gt===34)++wt;else if(gt===47&&te)Wt+="\\";else if(H.code.isLineTerminator(gt)||gt===92){Wt+=yr(gt);continue}else if(!H.code.isIdentifierPartES5(gt)&&(te&&gt<32||!te&&!$e&&(gt<32||gt>126))){Wt+=Yt(gt,Pt.charCodeAt(qt+1));continue}Wt+=String.fromCharCode(gt)}if(Lt=!(Re==="double"||Re==="auto"&&wt<Et),Zt=Lt?"'":'"',!(Lt?Et:wt))return Zt+Wt+Zt;for(Pt=Wt,Wt=Zt,qt=0,Tt=Pt.length;qt<Tt;++qt)gt=Pt.charCodeAt(qt),(gt===39&&Lt||gt===34&&!Lt)&&(Wt+="\\"),Wt+=String.fromCharCode(gt);return Wt+Zt}function cr(Pt){var Wt,qt,Tt,gt="";for(Wt=0,qt=Pt.length;Wt<qt;++Wt)Tt=Pt[Wt],gt+=Array.isArray(Tt)?cr(Tt):Tt;return gt}function pr(Pt,Wt){if(!at)return Array.isArray(Pt)?cr(Pt):Pt;if(Wt==null){if(Pt instanceof L)return Pt;Wt={}}return Wt.loc==null?new L(null,null,at,Pt,Wt.name||null):new L(Wt.loc.start.line,Wt.loc.start.column,at===!0?Wt.loc.source||null:at,Pt,Wt.name||null)}function lt(){return Me||" "}function ct(Pt,Wt){var qt,Tt,gt,Et;return qt=pr(Pt).toString(),qt.length===0?[Wt]:(Tt=pr(Wt).toString(),Tt.length===0?[Pt]:(gt=qt.charCodeAt(qt.length-1),Et=Tt.charCodeAt(0),(gt===43||gt===45)&&gt===Et||H.code.isIdentifierPartES5(gt)&&H.code.isIdentifierPartES5(Et)||gt===47&&Et===105?[Pt,lt(),Wt]:H.code.isWhiteSpace(gt)||H.code.isLineTerminator(gt)||H.code.isWhiteSpace(Et)||H.code.isLineTerminator(Et)?[Pt,Wt]:[Pt,Me,Wt]))}function Nt(Pt){return[z,Pt]}function jt(Pt){var Wt;Wt=z,z+=Q,Pt(z),z=Wt}function zt(Pt){var Wt;for(Wt=Pt.length-1;Wt>=0&&!H.code.isLineTerminator(Pt.charCodeAt(Wt));--Wt);return Pt.length-1-Wt}function Ot(Pt,Wt){var qt,Tt,gt,Et,wt,Lt,Zt,lr;for(qt=Pt.split(/\r\n|[\r\n]/),Lt=Number.MAX_VALUE,Tt=1,gt=qt.length;Tt<gt;++Tt){for(Et=qt[Tt],wt=0;wt<Et.length&&H.code.isWhiteSpace(Et.charCodeAt(wt));)++wt;Lt>wt&&(Lt=wt)}for(typeof Wt<"u"?(Zt=z,qt[1][Lt]==="*"&&(Wt+=" "),z=Wt):(Lt&1&&--Lt,Zt=z),Tt=1,gt=qt.length;Tt<gt;++Tt)lr=pr(Nt(qt[Tt].slice(Lt))),qt[Tt]=at?lr.join(""):lr;return z=Zt,qt.join(`
`)}function Rt(Pt,Wt){if(Pt.type==="Line"){if(pt(Pt.value))return"//"+Pt.value;var qt="//"+Pt.value;return Ye||(qt+=`
`),qt}return He.format.indent.adjustMultilineComment&&/[\n\r]/.test(Pt.value)?Ot("/*"+Pt.value+"*/",Wt):"/*"+Pt.value+"*/"}function It(Pt,Wt){var qt,Tt,gt,Et,wt,Lt,Zt,lr,Ht,Xt,ir,ur,$r,xr;if(Pt.leadingComments&&Pt.leadingComments.length>0){if(Et=Wt,Ye){for(gt=Pt.leadingComments[0],Wt=[],lr=gt.extendedRange,Ht=gt.range,ir=ot.substring(lr[0],Ht[0]),xr=(ir.match(/\n/g)||[]).length,xr>0?(Wt.push(Dt(`
`,xr)),Wt.push(Nt(Rt(gt)))):(Wt.push(ir),Wt.push(Rt(gt))),Xt=Ht,qt=1,Tt=Pt.leadingComments.length;qt<Tt;qt++)gt=Pt.leadingComments[qt],Ht=gt.range,ur=ot.substring(Xt[1],Ht[0]),xr=(ur.match(/\n/g)||[]).length,Wt.push(Dt(`
`,xr)),Wt.push(Nt(Rt(gt))),Xt=Ht;$r=ot.substring(Ht[1],lr[1]),xr=($r.match(/\n/g)||[]).length,Wt.push(Dt(`
`,xr))}else for(gt=Pt.leadingComments[0],Wt=[],Le&&Pt.type===$.Program&&Pt.body.length===0&&Wt.push(`
`),Wt.push(Rt(gt)),pt(pr(Wt).toString())||Wt.push(`
`),qt=1,Tt=Pt.leadingComments.length;qt<Tt;++qt)gt=Pt.leadingComments[qt],Zt=[Rt(gt)],pt(pr(Zt).toString())||Zt.push(`
`),Wt.push(Nt(Zt));Wt.push(Nt(Et))}if(Pt.trailingComments)if(Ye)gt=Pt.trailingComments[0],lr=gt.extendedRange,Ht=gt.range,ir=ot.substring(lr[0],Ht[0]),xr=(ir.match(/\n/g)||[]).length,xr>0?(Wt.push(Dt(`
`,xr)),Wt.push(Nt(Rt(gt)))):(Wt.push(ir),Wt.push(Rt(gt)));else for(wt=!pt(pr(Wt).toString()),Lt=Dt(" ",zt(pr([z,Wt,Q]).toString())),qt=0,Tt=Pt.trailingComments.length;qt<Tt;++qt)gt=Pt.trailingComments[qt],wt?(qt===0?Wt=[Wt,Q]:Wt=[Wt,Lt],Wt.push(Rt(gt,Lt))):Wt=[Wt,Nt(Rt(gt))],qt!==Tt-1&&!pt(pr(Wt).toString())&&(Wt=[Wt,`
`]);return Wt}function Kt(Pt,Wt,qt){var Tt,gt=0;for(Tt=Pt;Tt<Wt;Tt++)ot[Tt]===`
`&&gt++;for(Tt=1;Tt<gt;Tt++)qt.push(Pe)}function tr(Pt,Wt,qt){return Wt<qt?["(",Pt,")"]:Pt}function dr(Pt){var Wt,qt,Tt;for(Tt=Pt.split(/\r\n|\n/),Wt=1,qt=Tt.length;Wt<qt;Wt++)Tt[Wt]=Pe+z+Tt[Wt];return Tt}function _r(Pt,Wt){var qt,Tt,gt;return qt=Pt[He.verbatim],typeof qt=="string"?Tt=tr(dr(qt),I.Sequence,Wt):(Tt=dr(qt.content),gt=qt.precedence!=null?qt.precedence:I.Sequence,Tt=tr(Tt,gt,Wt)),pr(Tt,Pt)}function Nr(){}Nr.prototype.maybeBlock=function(Pt,Wt){var qt,Tt,gt=this;return Tt=!He.comment||!Pt.leadingComments,Pt.type===$.BlockStatement&&Tt?[Me,this.generateStatement(Pt,Wt)]:Pt.type===$.EmptyStatement&&Tt?";":(jt(function(){qt=[Pe,Nt(gt.generateStatement(Pt,Wt))]}),qt)},Nr.prototype.maybeBlockSuffix=function(Pt,Wt){var qt=pt(pr(Wt).toString());return Pt.type===$.BlockStatement&&(!He.comment||!Pt.leadingComments)&&!qt?[Wt,Me]:qt?[Wt,z]:[Wt,Pe,z]};function qr(Pt){return pr(Pt.name,Pt)}function Br(Pt,Wt){return Pt.async?"async"+(Wt?lt():Me):""}function Qr(Pt){var Wt=Pt.generator&&!He.moz.starlessGenerator;return Wt?"*"+Me:""}function Wr(Pt){var Wt=Pt.value,qt="";return Wt.async&&(qt+=Br(Wt,!Pt.computed)),Wt.generator&&(qt+=Qr(Wt)?"*":""),qt}Nr.prototype.generatePattern=function(Pt,Wt,qt){return Pt.type===$.Identifier?qr(Pt):this.generateExpression(Pt,Wt,qt)},Nr.prototype.generateFunctionParams=function(Pt){var Wt,qt,Tt,gt;if(gt=!1,Pt.type===$.ArrowFunctionExpression&&!Pt.rest&&(!Pt.defaults||Pt.defaults.length===0)&&Pt.params.length===1&&Pt.params[0].type===$.Identifier)Tt=[Br(Pt,!0),qr(Pt.params[0])];else{for(Tt=Pt.type===$.ArrowFunctionExpression?[Br(Pt,!1)]:[],Tt.push("("),Pt.defaults&&(gt=!0),Wt=0,qt=Pt.params.length;Wt<qt;++Wt)gt&&Pt.defaults[Wt]?Tt.push(this.generateAssignment(Pt.params[Wt],Pt.defaults[Wt],"=",I.Assignment,Ve)):Tt.push(this.generatePattern(Pt.params[Wt],I.Assignment,Ve)),Wt+1<qt&&Tt.push(","+Me);Pt.rest&&(Pt.params.length&&Tt.push(","+Me),Tt.push("..."),Tt.push(qr(Pt.rest))),Tt.push(")")}return Tt},Nr.prototype.generateFunctionBody=function(Pt){var Wt,qt;return Wt=this.generateFunctionParams(Pt),Pt.type===$.ArrowFunctionExpression&&(Wt.push(Me),Wt.push("=>")),Pt.expression?(Wt.push(Me),qt=this.generateExpression(Pt.body,I.Assignment,Ve),qt.toString().charAt(0)==="{"&&(qt=["(",qt,")"]),Wt.push(qt)):Wt.push(this.maybeBlock(Pt.body,Bt)),Wt},Nr.prototype.generateIterationForStatement=function(Pt,Wt,qt){var Tt=["for"+(Wt.await?lt()+"await":"")+Me+"("],gt=this;return jt(function(){Wt.left.type===$.VariableDeclaration?jt(function(){Tt.push(Wt.left.kind+lt()),Tt.push(gt.generateStatement(Wt.left.declarations[0],vt))}):Tt.push(gt.generateExpression(Wt.left,I.Call,Ve)),Tt=ct(Tt,Pt),Tt=[ct(Tt,gt.generateExpression(Wt.right,I.Assignment,Ve)),")"]}),Tt.push(this.maybeBlock(Wt.body,qt)),Tt},Nr.prototype.generatePropertyKey=function(Pt,Wt){var qt=[];return Wt&&qt.push("["),qt.push(this.generateExpression(Pt,I.Assignment,Ve)),Wt&&qt.push("]"),qt},Nr.prototype.generateAssignment=function(Pt,Wt,qt,Tt,gt){return I.Assignment<Tt&&(gt|=Fe),tr([this.generateExpression(Pt,I.Call,gt),Me+qt+Me,this.generateExpression(Wt,I.Assignment,gt)],I.Assignment,Tt)},Nr.prototype.semicolon=function(Pt){return!Ke&&Pt&Xe?"":";"},Nr.Statement={BlockStatement:function(Pt,Wt){var qt,Tt,gt=["{",Pe],Et=this;return jt(function(){Pt.body.length===0&&Ye&&(qt=Pt.range,qt[1]-qt[0]>2&&(Tt=ot.substring(qt[0]+1,qt[1]-1),Tt[0]===`
`&&(gt=["{"]),gt.push(Tt)));var wt,Lt,Zt,lr;for(lr=dt,Wt&Je&&(lr|=rt),wt=0,Lt=Pt.body.length;wt<Lt;++wt)Ye&&(wt===0&&(Pt.body[0].leadingComments&&(qt=Pt.body[0].leadingComments[0].extendedRange,Tt=ot.substring(qt[0],qt[1]),Tt[0]===`
`&&(gt=["{"])),Pt.body[0].leadingComments||Kt(Pt.range[0],Pt.body[0].range[0],gt)),wt>0&&!Pt.body[wt-1].trailingComments&&!Pt.body[wt].leadingComments&&Kt(Pt.body[wt-1].range[1],Pt.body[wt].range[0],gt)),wt===Lt-1&&(lr|=Xe),Pt.body[wt].leadingComments&&Ye?Zt=Et.generateStatement(Pt.body[wt],lr):Zt=Nt(Et.generateStatement(Pt.body[wt],lr)),gt.push(Zt),pt(pr(Zt).toString())||Ye&&wt<Lt-1&&Pt.body[wt+1].leadingComments||gt.push(Pe),Ye&&wt===Lt-1&&(Pt.body[wt].trailingComments||Kt(Pt.body[wt].range[1],Pt.range[1],gt))}),gt.push(Nt("}")),gt},BreakStatement:function(Pt,Wt){return Pt.label?"break "+Pt.label.name+this.semicolon(Wt):"break"+this.semicolon(Wt)},ContinueStatement:function(Pt,Wt){return Pt.label?"continue "+Pt.label.name+this.semicolon(Wt):"continue"+this.semicolon(Wt)},ClassBody:function(Pt,Wt){var qt=["{",Pe],Tt=this;return jt(function(gt){var Et,wt;for(Et=0,wt=Pt.body.length;Et<wt;++Et)qt.push(gt),qt.push(Tt.generateExpression(Pt.body[Et],I.Sequence,Ve)),Et+1<wt&&qt.push(Pe)}),pt(pr(qt).toString())||qt.push(Pe),qt.push(z),qt.push("}"),qt},ClassDeclaration:function(Pt,Wt){var qt,Tt;return qt=["class"],Pt.id&&(qt=ct(qt,this.generateExpression(Pt.id,I.Sequence,Ve))),Pt.superClass&&(Tt=ct("extends",this.generateExpression(Pt.superClass,I.Unary,Ve)),qt=ct(qt,Tt)),qt.push(Me),qt.push(this.generateStatement(Pt.body,bt)),qt},DirectiveStatement:function(Pt,Wt){return He.raw&&Pt.raw?Pt.raw+this.semicolon(Wt):gr(Pt.directive)+this.semicolon(Wt)},DoWhileStatement:function(Pt,Wt){var qt=ct("do",this.maybeBlock(Pt.body,dt));return qt=this.maybeBlockSuffix(Pt.body,qt),ct(qt,["while"+Me+"(",this.generateExpression(Pt.test,I.Sequence,Ve),")"+this.semicolon(Wt)])},CatchClause:function(Pt,Wt){var qt,Tt=this;return jt(function(){var gt;Pt.param?(qt=["catch"+Me+"(",Tt.generateExpression(Pt.param,I.Sequence,Ve),")"],Pt.guard&&(gt=Tt.generateExpression(Pt.guard,I.Sequence,Ve),qt.splice(2,0," if ",gt))):qt=["catch"]}),qt.push(this.maybeBlock(Pt.body,dt)),qt},DebuggerStatement:function(Pt,Wt){return"debugger"+this.semicolon(Wt)},EmptyStatement:function(Pt,Wt){return";"},ExportDefaultDeclaration:function(Pt,Wt){var qt=["export"],Tt;return Tt=Wt&Xe?bt:dt,qt=ct(qt,"default"),ze(Pt.declaration)?qt=ct(qt,this.generateStatement(Pt.declaration,Tt)):qt=ct(qt,this.generateExpression(Pt.declaration,I.Assignment,Ve)+this.semicolon(Wt)),qt},ExportNamedDeclaration:function(Pt,Wt){var qt=["export"],Tt,gt=this;return Tt=Wt&Xe?bt:dt,Pt.declaration?ct(qt,this.generateStatement(Pt.declaration,Tt)):(Pt.specifiers&&(Pt.specifiers.length===0?qt=ct(qt,"{"+Me+"}"):Pt.specifiers[0].type===$.ExportBatchSpecifier?qt=ct(qt,this.generateExpression(Pt.specifiers[0],I.Sequence,Ve)):(qt=ct(qt,"{"),jt(function(Et){var wt,Lt;for(qt.push(Pe),wt=0,Lt=Pt.specifiers.length;wt<Lt;++wt)qt.push(Et),qt.push(gt.generateExpression(Pt.specifiers[wt],I.Sequence,Ve)),wt+1<Lt&&qt.push(","+Pe)}),pt(pr(qt).toString())||qt.push(Pe),qt.push(z+"}")),Pt.source?qt=ct(qt,["from"+Me,this.generateExpression(Pt.source,I.Sequence,Ve),this.semicolon(Wt)]):qt.push(this.semicolon(Wt))),qt)},ExportAllDeclaration:function(Pt,Wt){return["export"+Me,"*"+Me,"from"+Me,this.generateExpression(Pt.source,I.Sequence,Ve),this.semicolon(Wt)]},ExpressionStatement:function(Pt,Wt){var qt,Tt;function gt(Lt){var Zt;return Lt.slice(0,5)!=="class"?!1:(Zt=Lt.charCodeAt(5),Zt===123||H.code.isWhiteSpace(Zt)||H.code.isLineTerminator(Zt))}function Et(Lt){var Zt;return Lt.slice(0,8)!=="function"?!1:(Zt=Lt.charCodeAt(8),Zt===40||H.code.isWhiteSpace(Zt)||Zt===42||H.code.isLineTerminator(Zt))}function wt(Lt){var Zt,lr,Ht;if(Lt.slice(0,5)!=="async"||!H.code.isWhiteSpace(Lt.charCodeAt(5)))return!1;for(lr=6,Ht=Lt.length;lr<Ht&&H.code.isWhiteSpace(Lt.charCodeAt(lr));++lr);return lr===Ht||Lt.slice(lr,lr+8)!=="function"?!1:(Zt=Lt.charCodeAt(lr+8),Zt===40||H.code.isWhiteSpace(Zt)||Zt===42||H.code.isLineTerminator(Zt))}return qt=[this.generateExpression(Pt.expression,I.Sequence,Ve)],Tt=pr(qt).toString(),Tt.charCodeAt(0)===123||gt(Tt)||Et(Tt)||wt(Tt)||qe&&Wt&rt&&Pt.expression.type===$.Literal&&typeof Pt.expression.value=="string"?qt=["(",qt,")"+this.semicolon(Wt)]:qt.push(this.semicolon(Wt)),qt},ImportDeclaration:function(Pt,Wt){var qt,Tt,gt=this;return Pt.specifiers.length===0?["import",Me,this.generateExpression(Pt.source,I.Sequence,Ve),this.semicolon(Wt)]:(qt=["import"],Tt=0,Pt.specifiers[Tt].type===$.ImportDefaultSpecifier&&(qt=ct(qt,[this.generateExpression(Pt.specifiers[Tt],I.Sequence,Ve)]),++Tt),Pt.specifiers[Tt]&&(Tt!==0&&qt.push(","),Pt.specifiers[Tt].type===$.ImportNamespaceSpecifier?qt=ct(qt,[Me,this.generateExpression(Pt.specifiers[Tt],I.Sequence,Ve)]):(qt.push(Me+"{"),Pt.specifiers.length-Tt===1?(qt.push(Me),qt.push(this.generateExpression(Pt.specifiers[Tt],I.Sequence,Ve)),qt.push(Me+"}"+Me)):(jt(function(Et){var wt,Lt;for(qt.push(Pe),wt=Tt,Lt=Pt.specifiers.length;wt<Lt;++wt)qt.push(Et),qt.push(gt.generateExpression(Pt.specifiers[wt],I.Sequence,Ve)),wt+1<Lt&&qt.push(","+Pe)}),pt(pr(qt).toString())||qt.push(Pe),qt.push(z+"}"+Me)))),qt=ct(qt,["from"+Me,this.generateExpression(Pt.source,I.Sequence,Ve),this.semicolon(Wt)]),qt)},VariableDeclarator:function(Pt,Wt){var qt=Wt&Fe?Ve:it;return Pt.init?[this.generateExpression(Pt.id,I.Assignment,qt),Me,"=",Me,this.generateExpression(Pt.init,I.Assignment,qt)]:this.generatePattern(Pt.id,I.Assignment,qt)},VariableDeclaration:function(Pt,Wt){var qt,Tt,gt,Et,wt,Lt=this;qt=[Pt.kind],wt=Wt&Fe?dt:vt;function Zt(){for(Et=Pt.declarations[0],He.comment&&Et.leadingComments?(qt.push(`
`),qt.push(Nt(Lt.generateStatement(Et,wt)))):(qt.push(lt()),qt.push(Lt.generateStatement(Et,wt))),Tt=1,gt=Pt.declarations.length;Tt<gt;++Tt)Et=Pt.declarations[Tt],He.comment&&Et.leadingComments?(qt.push(","+Pe),qt.push(Nt(Lt.generateStatement(Et,wt)))):(qt.push(","+Me),qt.push(Lt.generateStatement(Et,wt)))}return Pt.declarations.length>1?jt(Zt):Zt(),qt.push(this.semicolon(Wt)),qt},ThrowStatement:function(Pt,Wt){return[ct("throw",this.generateExpression(Pt.argument,I.Sequence,Ve)),this.semicolon(Wt)]},TryStatement:function(Pt,Wt){var qt,Tt,gt,Et;if(qt=["try",this.maybeBlock(Pt.block,dt)],qt=this.maybeBlockSuffix(Pt.block,qt),Pt.handlers)for(Tt=0,gt=Pt.handlers.length;Tt<gt;++Tt)qt=ct(qt,this.generateStatement(Pt.handlers[Tt],dt)),(Pt.finalizer||Tt+1!==gt)&&(qt=this.maybeBlockSuffix(Pt.handlers[Tt].body,qt));else{for(Et=Pt.guardedHandlers||[],Tt=0,gt=Et.length;Tt<gt;++Tt)qt=ct(qt,this.generateStatement(Et[Tt],dt)),(Pt.finalizer||Tt+1!==gt)&&(qt=this.maybeBlockSuffix(Et[Tt].body,qt));if(Pt.handler)if(Array.isArray(Pt.handler))for(Tt=0,gt=Pt.handler.length;Tt<gt;++Tt)qt=ct(qt,this.generateStatement(Pt.handler[Tt],dt)),(Pt.finalizer||Tt+1!==gt)&&(qt=this.maybeBlockSuffix(Pt.handler[Tt].body,qt));else qt=ct(qt,this.generateStatement(Pt.handler,dt)),Pt.finalizer&&(qt=this.maybeBlockSuffix(Pt.handler.body,qt))}return Pt.finalizer&&(qt=ct(qt,["finally",this.maybeBlock(Pt.finalizer,dt)])),qt},SwitchStatement:function(Pt,Wt){var qt,Tt,gt,Et,wt,Lt=this;if(jt(function(){qt=["switch"+Me+"(",Lt.generateExpression(Pt.discriminant,I.Sequence,Ve),")"+Me+"{"+Pe]}),Pt.cases)for(wt=dt,gt=0,Et=Pt.cases.length;gt<Et;++gt)gt===Et-1&&(wt|=Xe),Tt=Nt(this.generateStatement(Pt.cases[gt],wt)),qt.push(Tt),pt(pr(Tt).toString())||qt.push(Pe);return qt.push(Nt("}")),qt},SwitchCase:function(Pt,Wt){var qt,Tt,gt,Et,wt,Lt=this;return jt(function(){for(Pt.test?qt=[ct("case",Lt.generateExpression(Pt.test,I.Sequence,Ve)),":"]:qt=["default:"],gt=0,Et=Pt.consequent.length,Et&&Pt.consequent[0].type===$.BlockStatement&&(Tt=Lt.maybeBlock(Pt.consequent[0],dt),qt.push(Tt),gt=1),gt!==Et&&!pt(pr(qt).toString())&&qt.push(Pe),wt=dt;gt<Et;++gt)gt===Et-1&&Wt&Xe&&(wt|=Xe),Tt=Nt(Lt.generateStatement(Pt.consequent[gt],wt)),qt.push(Tt),gt+1!==Et&&!pt(pr(Tt).toString())&&qt.push(Pe)}),qt},IfStatement:function(Pt,Wt){var qt,Tt,gt,Et=this;return jt(function(){qt=["if"+Me+"(",Et.generateExpression(Pt.test,I.Sequence,Ve),")"]}),gt=Wt&Xe,Tt=dt,gt&&(Tt|=Xe),Pt.alternate?(qt.push(this.maybeBlock(Pt.consequent,dt)),qt=this.maybeBlockSuffix(Pt.consequent,qt),Pt.alternate.type===$.IfStatement?qt=ct(qt,["else ",this.generateStatement(Pt.alternate,Tt)]):qt=ct(qt,ct("else",this.maybeBlock(Pt.alternate,Tt)))):qt.push(this.maybeBlock(Pt.consequent,Tt)),qt},ForStatement:function(Pt,Wt){var qt,Tt=this;return jt(function(){qt=["for"+Me+"("],Pt.init?Pt.init.type===$.VariableDeclaration?qt.push(Tt.generateStatement(Pt.init,vt)):(qt.push(Tt.generateExpression(Pt.init,I.Sequence,it)),qt.push(";")):qt.push(";"),Pt.test&&(qt.push(Me),qt.push(Tt.generateExpression(Pt.test,I.Sequence,Ve))),qt.push(";"),Pt.update&&(qt.push(Me),qt.push(Tt.generateExpression(Pt.update,I.Sequence,Ve))),qt.push(")")}),qt.push(this.maybeBlock(Pt.body,Wt&Xe?bt:dt)),qt},ForInStatement:function(Pt,Wt){return this.generateIterationForStatement("in",Pt,Wt&Xe?bt:dt)},ForOfStatement:function(Pt,Wt){return this.generateIterationForStatement("of",Pt,Wt&Xe?bt:dt)},LabeledStatement:function(Pt,Wt){return[Pt.label.name+":",this.maybeBlock(Pt.body,Wt&Xe?bt:dt)]},Program:function(Pt,Wt){var qt,Tt,gt,Et,wt;for(Et=Pt.body.length,qt=[Le&&Et>0?`
`:""],wt=St,gt=0;gt<Et;++gt)!Le&&gt===Et-1&&(wt|=Xe),Ye&&(gt===0&&(Pt.body[0].leadingComments||Kt(Pt.range[0],Pt.body[gt].range[0],qt)),gt>0&&!Pt.body[gt-1].trailingComments&&!Pt.body[gt].leadingComments&&Kt(Pt.body[gt-1].range[1],Pt.body[gt].range[0],qt)),Tt=Nt(this.generateStatement(Pt.body[gt],wt)),qt.push(Tt),gt+1<Et&&!pt(pr(Tt).toString())&&(Ye&&Pt.body[gt+1].leadingComments||qt.push(Pe)),Ye&&gt===Et-1&&(Pt.body[gt].trailingComments||Kt(Pt.body[gt].range[1],Pt.range[1],qt));return qt},FunctionDeclaration:function(Pt,Wt){return[Br(Pt,!0),"function",Qr(Pt)||lt(),Pt.id?qr(Pt.id):"",this.generateFunctionBody(Pt)]},ReturnStatement:function(Pt,Wt){return Pt.argument?[ct("return",this.generateExpression(Pt.argument,I.Sequence,Ve)),this.semicolon(Wt)]:["return"+this.semicolon(Wt)]},WhileStatement:function(Pt,Wt){var qt,Tt=this;return jt(function(){qt=["while"+Me+"(",Tt.generateExpression(Pt.test,I.Sequence,Ve),")"]}),qt.push(this.maybeBlock(Pt.body,Wt&Xe?bt:dt)),qt},WithStatement:function(Pt,Wt){var qt,Tt=this;return jt(function(){qt=["with"+Me+"(",Tt.generateExpression(Pt.object,I.Sequence,Ve),")"]}),qt.push(this.maybeBlock(Pt.body,Wt&Xe?bt:dt)),qt}},mt(Nr.prototype,Nr.Statement),Nr.Expression={SequenceExpression:function(Pt,Wt,qt){var Tt,gt,Et;for(I.Sequence<Wt&&(qt|=Fe),Tt=[],gt=0,Et=Pt.expressions.length;gt<Et;++gt)Tt.push(this.generateExpression(Pt.expressions[gt],I.Assignment,qt)),gt+1<Et&&Tt.push(","+Me);return tr(Tt,I.Sequence,Wt)},AssignmentExpression:function(Pt,Wt,qt){return this.generateAssignment(Pt.left,Pt.right,Pt.operator,Wt,qt)},ArrowFunctionExpression:function(Pt,Wt,qt){return tr(this.generateFunctionBody(Pt),I.ArrowFunction,Wt)},ConditionalExpression:function(Pt,Wt,qt){return I.Conditional<Wt&&(qt|=Fe),tr([this.generateExpression(Pt.test,I.LogicalOR,qt),Me+"?"+Me,this.generateExpression(Pt.consequent,I.Assignment,qt),Me+":"+Me,this.generateExpression(Pt.alternate,I.Assignment,qt)],I.Conditional,Wt)},LogicalExpression:function(Pt,Wt,qt){return this.BinaryExpression(Pt,Wt,qt)},BinaryExpression:function(Pt,Wt,qt){var Tt,gt,Et,wt,Lt,Zt;return wt=N[Pt.operator],gt=Pt.operator==="**"?I.Postfix:wt,Et=Pt.operator==="**"?wt:wt+1,wt<Wt&&(qt|=Fe),Lt=this.generateExpression(Pt.left,gt,qt),Zt=Lt.toString(),Zt.charCodeAt(Zt.length-1)===47&&H.code.isIdentifierPartES5(Pt.operator.charCodeAt(0))?Tt=[Lt,lt(),Pt.operator]:Tt=ct(Lt,Pt.operator),Lt=this.generateExpression(Pt.right,Et,qt),Pt.operator==="/"&&Lt.toString().charAt(0)==="/"||Pt.operator.slice(-1)==="<"&&Lt.toString().slice(0,3)==="!--"?(Tt.push(lt()),Tt.push(Lt)):Tt=ct(Tt,Lt),Pt.operator==="in"&&!(qt&Fe)?["(",Tt,")"]:tr(Tt,wt,Wt)},CallExpression:function(Pt,Wt,qt){var Tt,gt,Et;for(Tt=[this.generateExpression(Pt.callee,I.Call,We)],Tt.push("("),gt=0,Et=Pt.arguments.length;gt<Et;++gt)Tt.push(this.generateExpression(Pt.arguments[gt],I.Assignment,Ve)),gt+1<Et&&Tt.push(","+Me);return Tt.push(")"),qt&ke?tr(Tt,I.Call,Wt):["(",Tt,")"]},NewExpression:function(Pt,Wt,qt){var Tt,gt,Et,wt,Lt;if(gt=Pt.arguments.length,Lt=qt&Ue&&!Be&&gt===0?st:je,Tt=ct("new",this.generateExpression(Pt.callee,I.New,Lt)),!(qt&Ue)||Be||gt>0){for(Tt.push("("),Et=0,wt=gt;Et<wt;++Et)Tt.push(this.generateExpression(Pt.arguments[Et],I.Assignment,Ve)),Et+1<wt&&Tt.push(","+Me);Tt.push(")")}return tr(Tt,I.New,Wt)},MemberExpression:function(Pt,Wt,qt){var Tt,gt;return Tt=[this.generateExpression(Pt.object,I.Call,qt&ke?We:je)],Pt.computed?(Tt.push("["),Tt.push(this.generateExpression(Pt.property,I.Sequence,qt&ke?Ve:st)),Tt.push("]")):(Pt.object.type===$.Literal&&typeof Pt.object.value=="number"&&(gt=pr(Tt).toString(),gt.indexOf(".")<0&&!/[eExX]/.test(gt)&&H.code.isDecimalDigit(gt.charCodeAt(gt.length-1))&&!(gt.length>=2&&gt.charCodeAt(0)===48)&&Tt.push(" ")),Tt.push("."),Tt.push(qr(Pt.property))),tr(Tt,I.Member,Wt)},MetaProperty:function(Pt,Wt,qt){var Tt;return Tt=[],Tt.push(typeof Pt.meta=="string"?Pt.meta:qr(Pt.meta)),Tt.push("."),Tt.push(typeof Pt.property=="string"?Pt.property:qr(Pt.property)),tr(Tt,I.Member,Wt)},UnaryExpression:function(Pt,Wt,qt){var Tt,gt,Et,wt,Lt;return gt=this.generateExpression(Pt.argument,I.Unary,Ve),Me===""?Tt=ct(Pt.operator,gt):(Tt=[Pt.operator],Pt.operator.length>2?Tt=ct(Tt,gt):(wt=pr(Tt).toString(),Lt=wt.charCodeAt(wt.length-1),Et=gt.toString().charCodeAt(0),((Lt===43||Lt===45)&&Lt===Et||H.code.isIdentifierPartES5(Lt)&&H.code.isIdentifierPartES5(Et))&&Tt.push(lt()),Tt.push(gt))),tr(Tt,I.Unary,Wt)},YieldExpression:function(Pt,Wt,qt){var Tt;return Pt.delegate?Tt="yield*":Tt="yield",Pt.argument&&(Tt=ct(Tt,this.generateExpression(Pt.argument,I.Yield,Ve))),tr(Tt,I.Yield,Wt)},AwaitExpression:function(Pt,Wt,qt){var Tt=ct(Pt.all?"await*":"await",this.generateExpression(Pt.argument,I.Await,Ve));return tr(Tt,I.Await,Wt)},UpdateExpression:function(Pt,Wt,qt){return Pt.prefix?tr([Pt.operator,this.generateExpression(Pt.argument,I.Unary,Ve)],I.Unary,Wt):tr([this.generateExpression(Pt.argument,I.Postfix,Ve),Pt.operator],I.Postfix,Wt)},FunctionExpression:function(Pt,Wt,qt){var Tt=[Br(Pt,!0),"function"];return Pt.id?(Tt.push(Qr(Pt)||lt()),Tt.push(qr(Pt.id))):Tt.push(Qr(Pt)||Me),Tt.push(this.generateFunctionBody(Pt)),Tt},ArrayPattern:function(Pt,Wt,qt){return this.ArrayExpression(Pt,Wt,qt,!0)},ArrayExpression:function(Pt,Wt,qt,Tt){var gt,Et,wt=this;return Pt.elements.length?(Et=Tt?!1:Pt.elements.length>1,gt=["[",Et?Pe:""],jt(function(Lt){var Zt,lr;for(Zt=0,lr=Pt.elements.length;Zt<lr;++Zt)Pt.elements[Zt]?(gt.push(Et?Lt:""),gt.push(wt.generateExpression(Pt.elements[Zt],I.Assignment,Ve))):(Et&&gt.push(Lt),Zt+1===lr&&gt.push(",")),Zt+1<lr&&gt.push(","+(Et?Pe:Me))}),Et&&!pt(pr(gt).toString())&&gt.push(Pe),gt.push(Et?z:""),gt.push("]"),gt):"[]"},RestElement:function(Pt,Wt,qt){return"..."+this.generatePattern(Pt.argument)},ClassExpression:function(Pt,Wt,qt){var Tt,gt;return Tt=["class"],Pt.id&&(Tt=ct(Tt,this.generateExpression(Pt.id,I.Sequence,Ve))),Pt.superClass&&(gt=ct("extends",this.generateExpression(Pt.superClass,I.Unary,Ve)),Tt=ct(Tt,gt)),Tt.push(Me),Tt.push(this.generateStatement(Pt.body,bt)),Tt},MethodDefinition:function(Pt,Wt,qt){var Tt,gt;return Pt.static?Tt=["static"+Me]:Tt=[],Pt.kind==="get"||Pt.kind==="set"?gt=[ct(Pt.kind,this.generatePropertyKey(Pt.key,Pt.computed)),this.generateFunctionBody(Pt.value)]:gt=[Wr(Pt),this.generatePropertyKey(Pt.key,Pt.computed),this.generateFunctionBody(Pt.value)],ct(Tt,gt)},Property:function(Pt,Wt,qt){return Pt.kind==="get"||Pt.kind==="set"?[Pt.kind,lt(),this.generatePropertyKey(Pt.key,Pt.computed),this.generateFunctionBody(Pt.value)]:Pt.shorthand?Pt.value.type==="AssignmentPattern"?this.AssignmentPattern(Pt.value,I.Sequence,Ve):this.generatePropertyKey(Pt.key,Pt.computed):Pt.method?[Wr(Pt),this.generatePropertyKey(Pt.key,Pt.computed),this.generateFunctionBody(Pt.value)]:[this.generatePropertyKey(Pt.key,Pt.computed),":"+Me,this.generateExpression(Pt.value,I.Assignment,Ve)]},ObjectExpression:function(Pt,Wt,qt){var Tt,gt,Et,wt=this;return Pt.properties.length?(Tt=Pt.properties.length>1,jt(function(){Et=wt.generateExpression(Pt.properties[0],I.Sequence,Ve)}),!Tt&&!Mt(pr(Et).toString())?["{",Me,Et,Me,"}"]:(jt(function(Lt){var Zt,lr;if(gt=["{",Pe,Lt,Et],Tt)for(gt.push(","+Pe),Zt=1,lr=Pt.properties.length;Zt<lr;++Zt)gt.push(Lt),gt.push(wt.generateExpression(Pt.properties[Zt],I.Sequence,Ve)),Zt+1<lr&&gt.push(","+Pe)}),pt(pr(gt).toString())||gt.push(Pe),gt.push(z),gt.push("}"),gt)):"{}"},AssignmentPattern:function(Pt,Wt,qt){return this.generateAssignment(Pt.left,Pt.right,"=",Wt,qt)},ObjectPattern:function(Pt,Wt,qt){var Tt,gt,Et,wt,Lt,Zt=this;if(!Pt.properties.length)return"{}";if(wt=!1,Pt.properties.length===1)Lt=Pt.properties[0],Lt.type===$.Property&&Lt.value.type!==$.Identifier&&(wt=!0);else for(gt=0,Et=Pt.properties.length;gt<Et;++gt)if(Lt=Pt.properties[gt],Lt.type===$.Property&&!Lt.shorthand){wt=!0;break}return Tt=["{",wt?Pe:""],jt(function(lr){var Ht,Xt;for(Ht=0,Xt=Pt.properties.length;Ht<Xt;++Ht)Tt.push(wt?lr:""),Tt.push(Zt.generateExpression(Pt.properties[Ht],I.Sequence,Ve)),Ht+1<Xt&&Tt.push(","+(wt?Pe:Me))}),wt&&!pt(pr(Tt).toString())&&Tt.push(Pe),Tt.push(wt?z:""),Tt.push("}"),Tt},ThisExpression:function(Pt,Wt,qt){return"this"},Super:function(Pt,Wt,qt){return"super"},Identifier:function(Pt,Wt,qt){return qr(Pt)},ImportDefaultSpecifier:function(Pt,Wt,qt){return qr(Pt.id||Pt.local)},ImportNamespaceSpecifier:function(Pt,Wt,qt){var Tt=["*"],gt=Pt.id||Pt.local;return gt&&Tt.push(Me+"as"+lt()+qr(gt)),Tt},ImportSpecifier:function(Pt,Wt,qt){var Tt=Pt.imported,gt=[Tt.name],Et=Pt.local;return Et&&Et.name!==Tt.name&&gt.push(lt()+"as"+lt()+qr(Et)),gt},ExportSpecifier:function(Pt,Wt,qt){var Tt=Pt.local,gt=[Tt.name],Et=Pt.exported;return Et&&Et.name!==Tt.name&&gt.push(lt()+"as"+lt()+qr(Et)),gt},Literal:function(Pt,Wt,qt){var Tt;if(Pt.hasOwnProperty("raw")&&Ge&&He.raw)try{if(Tt=Ge(Pt.raw).body[0].expression,Tt.type===$.Literal&&Tt.value===Pt.value)return Pt.raw}catch{}return Pt.regex?"/"+Pt.regex.pattern+"/"+Pt.regex.flags:Pt.value===null?"null":typeof Pt.value=="string"?br(Pt.value):typeof Pt.value=="number"?kt(Pt.value):typeof Pt.value=="boolean"?Pt.value?"true":"false":nr(Pt.value)},GeneratorExpression:function(Pt,Wt,qt){return this.ComprehensionExpression(Pt,Wt,qt)},ComprehensionExpression:function(Pt,Wt,qt){var Tt,gt,Et,wt,Lt=this;return Tt=Pt.type===$.GeneratorExpression?["("]:["["],He.moz.comprehensionExpressionStartsWithAssignment&&(wt=this.generateExpression(Pt.body,I.Assignment,Ve),Tt.push(wt)),Pt.blocks&&jt(function(){for(gt=0,Et=Pt.blocks.length;gt<Et;++gt)wt=Lt.generateExpression(Pt.blocks[gt],I.Sequence,Ve),gt>0||He.moz.comprehensionExpressionStartsWithAssignment?Tt=ct(Tt,wt):Tt.push(wt)}),Pt.filter&&(Tt=ct(Tt,"if"+Me),wt=this.generateExpression(Pt.filter,I.Sequence,Ve),Tt=ct(Tt,["(",wt,")"])),He.moz.comprehensionExpressionStartsWithAssignment||(wt=this.generateExpression(Pt.body,I.Assignment,Ve),Tt=ct(Tt,wt)),Tt.push(Pt.type===$.GeneratorExpression?")":"]"),Tt},ComprehensionBlock:function(Pt,Wt,qt){var Tt;return Pt.left.type===$.VariableDeclaration?Tt=[Pt.left.kind,lt(),this.generateStatement(Pt.left.declarations[0],vt)]:Tt=this.generateExpression(Pt.left,I.Call,Ve),Tt=ct(Tt,Pt.of?"of":"in"),Tt=ct(Tt,this.generateExpression(Pt.right,I.Sequence,Ve)),["for"+Me+"(",Tt,")"]},SpreadElement:function(Pt,Wt,qt){return["...",this.generateExpression(Pt.argument,I.Assignment,Ve)]},TaggedTemplateExpression:function(Pt,Wt,qt){var Tt=We;qt&ke||(Tt=je);var gt=[this.generateExpression(Pt.tag,I.Call,Tt),this.generateExpression(Pt.quasi,I.Primary,Ze)];return tr(gt,I.TaggedTemplate,Wt)},TemplateElement:function(Pt,Wt,qt){return Pt.value.raw},TemplateLiteral:function(Pt,Wt,qt){var Tt,gt,Et;for(Tt=["`"],gt=0,Et=Pt.quasis.length;gt<Et;++gt)Tt.push(this.generateExpression(Pt.quasis[gt],I.Primary,Ve)),gt+1<Et&&(Tt.push("${"+Me),Tt.push(this.generateExpression(Pt.expressions[gt],I.Sequence,Ve)),Tt.push(Me+"}"));return Tt.push("`"),Tt},ModuleSpecifier:function(Pt,Wt,qt){return this.Literal(Pt,Wt,qt)},ImportExpression:function(Pt,Wt,qt){return tr(["import(",this.generateExpression(Pt.source,I.Assignment,Ve),")"],I.Call,Wt)}},mt(Nr.prototype,Nr.Expression),Nr.prototype.generateExpression=function(Pt,Wt,qt){var Tt,gt;return gt=Pt.type||$.Property,He.verbatim&&Pt.hasOwnProperty(He.verbatim)?_r(Pt,Wt):(Tt=this[gt](Pt,Wt,qt),He.comment&&(Tt=It(Pt,Tt)),pr(Tt,Pt))},Nr.prototype.generateStatement=function(Pt,Wt){var qt,Tt;return qt=this[Pt.type](Pt,Wt),He.comment&&(qt=It(Pt,qt)),Tt=pr(qt).toString(),Pt.type===$.Program&&!Le&&Pe===""&&Tt.charAt(Tt.length-1)===`
`&&(qt=at?pr(qt).replaceRight(/\s+$/,""):Tt.replace(/\s+$/,"")),pr(qt,Pt)};function Kr(Pt){var Wt;if(Wt=new Nr,ze(Pt))return Wt.generateStatement(Pt,dt);if(tt(Pt))return Wt.generateExpression(Pt,I.Sequence,Ve);throw new Error("Unknown node type: "+Pt.type)}function Yr(Pt,Wt){var qt=Gt(),Tt,gt;return Wt!=null?(typeof Wt.indent=="string"&&(qt.format.indent.style=Wt.indent),typeof Wt.base=="number"&&(qt.format.indent.base=Wt.base),Wt=$t(qt,Wt),Q=Wt.format.indent.style,typeof Wt.base=="string"?z=Wt.base:z=Dt(Q,Wt.format.indent.base)):(Wt=qt,Q=Wt.format.indent.style,z=Dt(Q,Wt.format.indent.base)),te=Wt.format.json,G=Wt.format.renumber,ie=te?!1:Wt.format.hexadecimal,Re=te?"double":Wt.format.quotes,$e=Wt.format.escapeless,Pe=Wt.format.newline,Me=Wt.format.space,Wt.format.compact&&(Pe=Me=Q=z=""),Be=Wt.format.parentheses,Ke=Wt.format.semicolons,Le=Wt.format.safeConcatenation,qe=Wt.directive,Ge=te?null:Wt.parse,at=Wt.sourceMap,ot=Wt.sourceCode,Ye=Wt.format.preserveBlankLines&&ot!==null,He=Wt,at&&(T.browser?L=commonjsGlobal$2.sourceMap.SourceNode:L=requireSourceMap().SourceNode),Tt=Kr(Pt),at?(gt=Tt.toStringWithSourceMap({file:Wt.file,sourceRoot:Wt.sourceMapRoot}),Wt.sourceContent&&gt.map.setSourceContent(Wt.sourceMap,Wt.sourceContent),Wt.sourceMapWithCode?gt:gt.map.toString()):(gt={code:Tt.toString(),map:null},Wt.sourceMapWithCode?gt:gt.code)}nt={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},Qe=Gt().format,T.version=require$$3$2.version,T.generate=Yr,T.attachComments=B.attachComments,T.Precedence=$t({},I),T.browser=!1,T.FORMAT_MINIFY=nt,T.FORMAT_DEFAULTS=Qe})()})(escodegen$2);const escodegen=getDefaultExportFromCjs$1(escodegen$2),escodegen$1=_mergeNamespaces({__proto__:null,default:escodegen},[escodegen$2]);var unparse=escodegen$1.generate,staticEval=function(T,$){$||($={});var I={},N=function L(B,H){if(B.type==="Literal")return B.value;if(B.type==="UnaryExpression"){var z=L(B.argument);return B.operator==="+"?+z:B.operator==="-"?-z:B.operator==="~"?~z:B.operator==="!"?!z:I}else if(B.type==="ArrayExpression"){for(var Q=[],te=0,G=B.elements.length;te<G;te++){var ie=L(B.elements[te]);if(ie===I)return I;Q.push(ie)}return Q}else if(B.type==="ObjectExpression"){for(var Re={},te=0;te<B.properties.length;te++){var $e=B.properties[te],Pe=$e.value===null?$e.value:L($e.value);if(Pe===I)return I;Re[$e.key.value||$e.key.name]=Pe}return Re}else if(B.type==="BinaryExpression"||B.type==="LogicalExpression"){var G=L(B.left);if(G===I)return I;var Me=L(B.right);if(Me===I)return I;var Be=B.operator;return Be==="=="?G==Me:Be==="==="?G===Me:Be==="!="?G!=Me:Be==="!=="?G!==Me:Be==="+"?G+Me:Be==="-"?G-Me:Be==="*"?G*Me:Be==="/"?G/Me:Be==="%"?G%Me:Be==="<"?G<Me:Be==="<="?G<=Me:Be===">"?G>Me:Be===">="?G>=Me:Be==="|"?G|Me:Be==="&"?G&Me:Be==="^"?G^Me:Be==="&&"?G&&Me:Be==="||"?G||Me:I}else{if(B.type==="Identifier")return{}.hasOwnProperty.call($,B.name)?$[B.name]:I;if(B.type==="ThisExpression")return{}.hasOwnProperty.call($,"this")?$.this:I;if(B.type==="CallExpression"){var Ke=L(B.callee);if(Ke===I||typeof Ke!="function")return I;var Le=B.callee.object?L(B.callee.object):I;Le===I&&(Le=null);for(var qe=[],te=0,G=B.arguments.length;te<G;te++){var ie=L(B.arguments[te]);if(ie===I)return I;qe.push(ie)}return Ke.apply(Le,qe)}else if(B.type==="MemberExpression"){var Re=L(B.object);if(Re===I||typeof Re=="function")return I;if(B.property.type==="Identifier")return Re[B.property.name];var $e=L(B.property);return $e===I?I:Re[$e]}else if(B.type==="ConditionalExpression"){var z=L(B.test);return z===I?I:L(z?B.consequent:B.alternate)}else if(B.type==="ExpressionStatement"){var z=L(B.expression);return z===I?I:z}else{if(B.type==="ReturnStatement")return L(B.argument);if(B.type==="FunctionExpression"){var He=B.body.body,Ge={};Object.keys($).forEach(function(ke){Ge[ke]=$[ke]});for(var te=0;te<B.params.length;te++){var at=B.params[te];if(at.type=="Identifier")$[at.name]=null;else return I}for(var te in He)if(L(He[te])===I)return I;$=Ge;var ot=Object.keys($),Ye=ot.map(function(ke){return $[ke]});return Function(ot.join(", "),"return "+unparse(B)).apply(null,Ye)}else if(B.type==="TemplateLiteral"){for(var nt="",te=0;te<B.expressions.length;te++)nt+=L(B.quasis[te]),nt+=L(B.expressions[te]);return nt+=L(B.quasis[te]),nt}else if(B.type==="TaggedTemplateExpression"){var Qe=L(B.tag),tt=B.quasi,ze=tt.quasis.map(L),Fe=tt.expressions.map(L);return Qe.apply(null,[ze].concat(Fe))}else return B.type==="TemplateElement"?B.value.cooked:I}}}(T);return N===I?void 0:N};const _evaluate=getDefaultExportFromCjs$1(staticEval);function traverser(T){return function($,I,N,L){var B=$.value,H=$.path,z=[],Q=(function(te,G){is_array(te)?(te.forEach(function(ie,Re){z.length>=L||N(Re,ie,I)&&z.push({path:G.concat(Re),value:ie})}),te.forEach(function(ie,Re){z.length>=L||T&&Q(ie,G.concat(Re))})):is_object(te)&&(Object.keys(te).forEach(function(ie){z.length>=L||N(ie,te[ie],I)&&z.push({path:G.concat(ie),value:te[ie]})}),Object.keys(te).forEach(function(ie){z.length>=L||T&&Q(te[ie],G.concat(ie))}))}).bind(this);return Q(B,H),z}}function evaluate(T,$){try{return _evaluate(T,$)}catch{}}function _descend(T){return function($,I,N){return this.descend(I,$.expression.value,T,N)}}function _traverse$1(T){return function($,I,N){return this.traverse(I,$.expression.value,T,N)}}function unique(T){return T=T.filter(function($){return $}),uniq(T,function($){return $.path.map(function(I){return String(I).replace("-","--")}).join("-")})}function _parse_nullable_int(T){var $=String(T);return $.match(/^-?[0-9]+$/)?parseInt($):null}function is_array(T){return Array.isArray(T)}function is_object(T){return T&&!(T instanceof Array)&&T instanceof Object}function eval_recurse(T,$,I){var N=parse$2($).body[0].expression,L=evaluate(N,{"@":T.value}),B=I.replace(/\{\{\s*value\s*\}\}/g,L),H=JSONPath.nodes(T.value,B);return H.forEach(function(z){z.path=T.path.concat(z.path.slice(1))}),H}var Handlers=function(){function T(){this._fns={"member-child-identifier":function($,I){var N=$.expression.value,L=I.value;if(L instanceof Object&&N in L)return[{value:L[N],path:I.path.concat(N)}]},"member-descendant-identifier":_traverse$1(function($,I,N){return $==N}),"subscript-child-numeric_literal":_descend(function($,I,N){return $===N}),"member-child-numeric_literal":_descend(function($,I,N){return String($)===String(N)}),"subscript-descendant-numeric_literal":_traverse$1(function($,I,N){return $===N}),"member-child-wildcard":_descend(function(){return!0}),"member-descendant-wildcard":_traverse$1(function(){return!0}),"subscript-descendant-wildcard":_traverse$1(function(){return!0}),"subscript-child-wildcard":_descend(function(){return!0}),"subscript-child-slice":function($,I){if(is_array(I.value)){var N=$.expression.value.split(":").map(_parse_nullable_int),L=I.value.map(function(B,H){return{value:B,path:I.path.concat(H)}});return slice.apply(null,[L].concat(N))}},"subscript-child-union":function($,I){var N=[];return $.expression.value.forEach(function(L){var B={operation:"subscript",scope:"child",expression:L.expression},H=this.resolve(B),z=H(B,I);z&&(N=N.concat(z))},this),unique(N)},"subscript-descendant-union":function($,I,N){var L=this,B=[],H=JSONPath.nodes(I,"$..*").slice(1);return H.forEach(function(z){B.length>=N||$.expression.value.forEach(function(Q){var te={operation:"subscript",scope:"child",expression:Q.expression},G=L.resolve(te),ie=G(te,z);B=B.concat(ie)})}),unique(B)},"subscript-child-filter_expression":function($,I,N){var L=$.expression.value.slice(2,-1),B=parse$2(L).body[0].expression,H=function(z,Q){return evaluate(B,{"@":Q})};return this.descend(I,null,H,N)},"subscript-descendant-filter_expression":function($,I,N){var L=$.expression.value.slice(2,-1),B=parse$2(L).body[0].expression,H=function(z,Q){return evaluate(B,{"@":Q})};return this.traverse(I,null,H,N)},"subscript-child-script_expression":function($,I){var N=$.expression.value.slice(1,-1);return eval_recurse(I,N,"$[{{value}}]")},"member-child-script_expression":function($,I){var N=$.expression.value.slice(1,-1);return eval_recurse(I,N,"$.{{value}}")},"member-descendant-script_expression":function($,I){var N=$.expression.value.slice(1,-1);return eval_recurse(I,N,"$..value")}},this.initialize()}return T.prototype.initialize=function(){this.traverse=traverser(!0),this.descend=traverser(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},T.prototype.resolve=function($){var I=[$.operation,$.scope,$.expression.type].join("-"),N=this._fns[I];if(!N)throw new Error("couldn't resolve key: "+I);return N.bind(this)},T.prototype.register=function($,I){if(!(I instanceof Function))throw new Error("handler must be a function");this._fns[$]=I},T}();function uniq(T,$){for(var I=[],N=[],L=0,B=T==null?void 0:T.length;L<B;L++){var H=T[L],z=$?$(H,L):H;N.includes(z)||(N.push(z),I.push(H))}return I}var TOKENS={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*"};function commonjsRequire(T){throw new Error('Could not dynamically require "'+T+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var parser={};(function(T){var $=function(){var I=function(Ye,nt,Qe,tt){for(Qe=Qe||{},tt=Ye.length;tt--;Qe[Ye[tt]]=nt);return Qe},N=[1,5],L=[1,6],B=[1,7],H=[1,8],z=[1,9],Q=[1,18],te=[1,19],G=[1,20],ie=[1,12,14,22],Re=[1,29],$e=[1,30],Pe=[1,33],Me=[1,35],Be=[1,31],Ke=[1,36],Le=[1,37],qe=[24,28],He={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(nt,Qe,tt,ze,Fe,ke,Ue){ze.ast||(ze.ast=Ge,Ge.initialize());var Je=ke.length-1;switch(Fe){case 1:return ze.ast.set({expression:{type:"root",value:ke[Je]}}),ze.ast.unshift(),ze.ast.yield();case 2:return ze.ast.set({expression:{type:"root",value:ke[Je-1]}}),ze.ast.unshift(),ze.ast.yield();case 3:return ze.ast.unshift(),ze.ast.yield();case 4:return ze.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:ke[Je-1]}}),ze.ast.unshift(),ze.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:ze.ast.set({operation:"member"}),ze.ast.push();break;case 8:ze.ast.set({operation:"subscript"}),ze.ast.push();break;case 9:case 19:ze.ast.set({scope:"child"});break;case 10:case 20:ze.ast.set({scope:"descendant"});break;case 12:ze.ast.set({scope:"child",operation:"member"});break;case 14:ze.ast.set({expression:{type:"wildcard",value:ke[Je]}});break;case 15:ze.ast.set({expression:{type:"identifier",value:ke[Je]}});break;case 16:ze.ast.set({expression:{type:"script_expression",value:ke[Je]}});break;case 17:ze.ast.set({expression:{type:"numeric_literal",value:parseInt(ke[Je])}});break;case 24:ke[Je].length>1?ze.ast.set({expression:{type:"union",value:ke[Je]}}):this.$=ke[Je];break;case 25:this.$=[ke[Je]];break;case 26:this.$=ke[Je-2].concat(ke[Je]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(ke[Je])}},ze.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:ke[Je]}},ze.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:ke[Je]}},ze.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:ke[Je]}},ze.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:ke[Je]}},ze.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:ke[Je]}},ze.ast.set(this.$);break;case 33:case 34:this.$=ke[Je];break}},table:[{3:1,4:[1,2],6:3,13:4,15:N,16:L,17:B,18:H,19:z},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:Q,14:te,20:16,21:17,22:G},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:Q,14:te,20:16,21:17,22:G},I(ie,[2,12]),I(ie,[2,14]),I(ie,[2,15]),I(ie,[2,16]),I(ie,[2,17]),I(ie,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:Q,14:te,20:16,21:17,22:G},I(ie,[2,5]),I(ie,[2,7]),I(ie,[2,8]),I(ie,[2,9]),I(ie,[2,10]),I(ie,[2,19]),I(ie,[2,20]),{13:23,15:N,16:L,17:B,18:H,19:z},{13:24,15:N,16:L,17:B,18:H,19:z,22:[1,25]},{15:Re,17:$e,18:Pe,23:26,25:27,26:28,27:32,29:34,30:Me,31:Be,32:Ke,33:Le},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:Q,14:te,20:16,21:17,22:G},I(ie,[2,6]),I(ie,[2,11]),I(ie,[2,13]),{15:Re,17:$e,18:Pe,23:38,25:27,26:28,27:32,29:34,30:Me,31:Be,32:Ke,33:Le},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},I(qe,[2,25]),I(qe,[2,27]),I(qe,[2,28]),I(qe,[2,29]),I(qe,[2,33]),I(qe,[2,34]),{24:[1,41]},I(ie,[2,21]),{18:Pe,27:42,29:34,30:Me,32:Ke,33:Le},I(ie,[2,22]),I(qe,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(nt,Qe){if(Qe.recoverable)this.trace(nt);else{var tt=new Error(nt);throw tt.hash=Qe,tt}},parse:function(nt){var Qe=this,tt=[0],ze=[null],Fe=[],ke=this.table,Ue="",Je=0,rt=0,Xe=2,it=1,We=Fe.slice.call(arguments,1),Ve=Object.create(this.lexer),je={yy:{}};for(var Ze in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ze)&&(je.yy[Ze]=this.yy[Ze]);Ve.setInput(nt,je.yy),je.yy.lexer=Ve,je.yy.parser=this,typeof Ve.yylloc>"u"&&(Ve.yylloc={});var st=Ve.yylloc;Fe.push(st);var dt=Ve.options&&Ve.options.ranges;typeof je.yy.parseError=="function"?this.parseError=je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var bt=function(){var Ft;return Ft=Ve.lex()||it,typeof Ft!="number"&&(Ft=Qe.symbols_[Ft]||Ft),Ft},vt,St,Bt,Gt,Dt={},Mt,pt,mt,$t;;){if(St=tt[tt.length-1],this.defaultActions[St]?Bt=this.defaultActions[St]:((vt===null||typeof vt>"u")&&(vt=bt()),Bt=ke[St]&&ke[St][vt]),typeof Bt>"u"||!Bt.length||!Bt[0]){var kt="";$t=[];for(Mt in ke[St])this.terminals_[Mt]&&Mt>Xe&&$t.push("'"+this.terminals_[Mt]+"'");Ve.showPosition?kt="Parse error on line "+(Je+1)+`:
`+Ve.showPosition()+`
Expecting `+$t.join(", ")+", got '"+(this.terminals_[vt]||vt)+"'":kt="Parse error on line "+(Je+1)+": Unexpected "+(vt==it?"end of input":"'"+(this.terminals_[vt]||vt)+"'"),this.parseError(kt,{text:Ve.match,token:this.terminals_[vt]||vt,line:Ve.yylineno,loc:st,expected:$t})}if(Bt[0]instanceof Array&&Bt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+St+", token: "+vt);switch(Bt[0]){case 1:tt.push(vt),ze.push(Ve.yytext),Fe.push(Ve.yylloc),tt.push(Bt[1]),vt=null,rt=Ve.yyleng,Ue=Ve.yytext,Je=Ve.yylineno,st=Ve.yylloc;break;case 2:if(pt=this.productions_[Bt[1]][1],Dt.$=ze[ze.length-pt],Dt._$={first_line:Fe[Fe.length-(pt||1)].first_line,last_line:Fe[Fe.length-1].last_line,first_column:Fe[Fe.length-(pt||1)].first_column,last_column:Fe[Fe.length-1].last_column},dt&&(Dt._$.range=[Fe[Fe.length-(pt||1)].range[0],Fe[Fe.length-1].range[1]]),Gt=this.performAction.apply(Dt,[Ue,rt,Je,je.yy,Bt[1],ze,Fe].concat(We)),typeof Gt<"u")return Gt;pt&&(tt=tt.slice(0,-1*pt*2),ze=ze.slice(0,-1*pt),Fe=Fe.slice(0,-1*pt)),tt.push(this.productions_[Bt[1]][0]),ze.push(Dt.$),Fe.push(Dt._$),mt=ke[tt[tt.length-2]][tt[tt.length-1]],tt.push(mt);break;case 3:return!0}}return!0}},Ge={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(Ye){for(var nt in Ye)this._node[nt]=Ye[nt];return this._node},node:function(Ye){return arguments.length&&(this._node=Ye),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var Ye=this._nodes;return this.initialize(),Ye}},at=function(){var Ye={EOF:1,parseError:function(Qe,tt){if(this.yy.parser)this.yy.parser.parseError(Qe,tt);else throw new Error(Qe)},setInput:function(nt,Qe){return this.yy=Qe||this.yy||{},this._input=nt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var nt=this._input[0];this.yytext+=nt,this.yyleng++,this.offset++,this.match+=nt,this.matched+=nt;var Qe=nt.match(/(?:\r\n?|\n).*/g);return Qe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),nt},unput:function(nt){var Qe=nt.length,tt=nt.split(/(?:\r\n?|\n)/g);this._input=nt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Qe),this.offset-=Qe;var ze=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tt.length-1&&(this.yylineno-=tt.length-1);var Fe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tt?(tt.length===ze.length?this.yylloc.first_column:0)+ze[ze.length-tt.length].length-tt[0].length:this.yylloc.first_column-Qe},this.options.ranges&&(this.yylloc.range=[Fe[0],Fe[0]+this.yyleng-Qe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(nt){this.unput(this.match.slice(nt))},pastInput:function(){var nt=this.matched.substr(0,this.matched.length-this.match.length);return(nt.length>20?"...":"")+nt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var nt=this.match;return nt.length<20&&(nt+=this._input.substr(0,20-nt.length)),(nt.substr(0,20)+(nt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var nt=this.pastInput(),Qe=new Array(nt.length+1).join("-");return nt+this.upcomingInput()+`
`+Qe+"^"},test_match:function(nt,Qe){var tt,ze,Fe;if(this.options.backtrack_lexer&&(Fe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Fe.yylloc.range=this.yylloc.range.slice(0))),ze=nt[0].match(/(?:\r\n?|\n).*/g),ze&&(this.yylineno+=ze.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ze?ze[ze.length-1].length-ze[ze.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+nt[0].length},this.yytext+=nt[0],this.match+=nt[0],this.matches=nt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(nt[0].length),this.matched+=nt[0],tt=this.performAction.call(this,this.yy,this,Qe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tt)return tt;if(this._backtrack){for(var ke in Fe)this[ke]=Fe[ke];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var nt,Qe,tt,ze;this._more||(this.yytext="",this.match="");for(var Fe=this._currentRules(),ke=0;ke<Fe.length;ke++)if(tt=this._input.match(this.rules[Fe[ke]]),tt&&(!Qe||tt[0].length>Qe[0].length)){if(Qe=tt,ze=ke,this.options.backtrack_lexer){if(nt=this.test_match(tt,Fe[ke]),nt!==!1)return nt;if(this._backtrack){Qe=!1;continue}else return!1}else if(!this.options.flex)break}return Qe?(nt=this.test_match(Qe,Fe[ze]),nt!==!1?nt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Qe=this.next();return Qe||this.lex()},begin:function(Qe){this.conditionStack.push(Qe)},popState:function(){var Qe=this.conditionStack.length-1;return Qe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Qe){return Qe=this.conditionStack.length-1-Math.abs(Qe||0),Qe>=0?this.conditionStack[Qe]:"INITIAL"},pushState:function(Qe){this.begin(Qe)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Qe,tt,ze,Fe){switch(ze){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return tt.yytext=tt.yytext.substr(1,tt.yyleng-2),32;case 11:return tt.yytext=tt.yytext.substr(1,tt.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return Ye}();He.lexer=at;function ot(){this.yy={}}return ot.prototype=He,He.Parser=ot,new ot}();typeof commonjsRequire<"u"&&(T.parser=$,T.Parser=$.Parser,T.parse=function(){return $.parse.apply($,arguments)})})(parser);function Parser$1(){var T=new parser.Parser,$=T.parseError;return T.yy.parseError=function(){T.yy.ast&&T.yy.ast.initialize(),$.apply(T,arguments)},T}var assert$g=function(){function T(){}return T.ok=function($,I){if(!$)throw new Error(I)},T.equal=function($,I,N){if($!==I)throw new Error(N)},T}(),JSONPath=function(){function T(){}return T.parse=function($){return assert$g.ok(typeof $=="string","we need a path"),new Parser$1().parse($)},T.parent=function($,I){assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(I,"we need a path");var N=this.nodes($,I)[0];return N.path.pop(),this.value($,N.path)},T.apply=function($,I,N){assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(I,"we need a path"),assert$g.equal(typeof N,"function","fn needs to be function");var L=this.nodes($,I).sort(function(B,H){return H.path.length-B.path.length});return L.forEach(function(B){var H=B.path.pop(),z=this.value($,this.stringify(B.path)),Q=B.value=N.call($,z[H]);z[H]=Q},this),L},T.value=function($,I,N){if(assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(I,"we need a path"),N!==void 0){var L=this.nodes($,I).shift();if(!L)return this._vivify($,I,N);var B=L.path.slice(-1).shift(),H=this.parent($,this.stringify(L.path));H[B]=N}return this.query($,this.stringify(I),1).shift()},T._vivify=function($,I,N){var L=this;assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(I,"we need a path");var B=new Parser$1().parse(I).map(function(z){return z.expression.value}),H=function(z,Q){var te=z.pop(),G=L.value($,z);G||(H(z.concat(),typeof te=="string"?{}:[]),G=L.value($,z)),G[te]=Q};return H(B,N),this.query($,I)[0]},T.query=function($,I,N){assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(typeof I=="string","we need a path");var L=this.nodes($,I,N).map(function(B){return B.value});return L},T.paths=function($,I,N){assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(I,"we need a path");var L=this.nodes($,I,N).map(function(B){return B.path});return L},T.nodes=function($,I,N){if(assert$g.ok($ instanceof Object,"obj needs to be an object"),assert$g.ok(I,"we need a path"),N===0)return[];var L=new Parser$1().parse(I),B=new Handlers,H=[{path:["$"],value:$}],z=[];return L.length&&L[0].expression.type=="root"&&L.shift(),L.length?(L.forEach(function(Q,te){if(!(z.length>=N)){var G=B.resolve(Q),ie=[];H.forEach(function(Re){if(!(z.length>=N)){var $e=G(Q,Re,N);te==L.length-1?z=z.concat($e||[]):ie=ie.concat($e||[])}}),H=ie}}),N?z.slice(0,N):z):H},T.stringify=function($){assert$g.ok($,"we need a path");var I="$",N={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return $=this._normalize($),$.forEach(function(L){if(L.expression.type!="root"){var B=[L.scope,L.operation].join("-"),H=N[B],z;if(L.expression.type=="string_literal"?z=JSON.stringify(L.expression.value):z=L.expression.value,!H)throw new Error("couldn't find template "+B);I+=H.replace(/{{value}}/,z)}}),I},T._normalize=function($){if(assert$g.ok($,"we need a path"),typeof $=="string")return new Parser$1().parse($);if(Array.isArray($)&&typeof $[0]=="string"){var I=[{expression:{type:"root",value:"$"}}];return $.forEach(function(N,L){if(!(N=="$"&&L===0))if(typeof N=="string"&&N.match("^"+TOKENS.identifier+"$"))I.push({operation:"member",scope:"child",expression:{value:N,type:"identifier"}});else{var B=typeof N=="number"?"numeric_literal":"string_literal";I.push({operation:"subscript",scope:"child",expression:{value:N,type:B}})}}),I}else if(Array.isArray($)&&typeof $[0]=="object")return $;throw new Error("couldn't understand path "+$)},T}();const is=class is{static extractInputField($,I){let N=[];if(I){for(const L of I)if(N=JSONPath.nodes($,L),N.length)break}return N}static changePropertyNameRecursively($,I,N){const L=is.extractInputField($,["$.."+I]);for(const B of L)this.copyResultPathToDestinationDefinition(B.path,$,N)}static copyResultPathToDestinationDefinition($,I,N){let L=I;for(let B=1;B<$.length;B++)if(B+1<$.length&&(L=L[$[B]]),$.length==B+1){L[N]=L[$[B]],delete L[$[B]];break}}static changeSpecialPathsRecursively($){const I=is.extractInputField($,["$..path"]);for(const N of I)this.modifyPathsWithSpecialCharacter(N.path,$)}static modifyPathsWithSpecialCharacter($,I){let N=I;for(let L=1;L<$.length;L++)if(L+1<$.length&&(N=N[$[L]]),$.length==L+1){const B=N[$[L]],H=[];for(let z=0;z<B.length;z++)H.push(this.modifyPathWithSpecialCharacter(B[z]));N[$[L]]=H;break}}static modifyPathWithSpecialCharacter($){const I=this.matchAll($,this.REGEX_PATH);return $=this.modifyPathRecursive(I,$),$}static modifyPathRecursive($,I){let N=$.next(),L=!1;for(;N&&!N.done&&!L;){const B=N.value.index;if(B&&B==1)I=I.charAt(0)+"['"+N.value[0]+"']"+I.substring(B+N.value[0].length),L=!0,this.modifyPathRecursive($,I);else if(B&&B>1&&I.substring(B-2,B)!=="['"&&I.substring(B-2,B)!=='["')if(I.substring(B-2,B)===".."){I=I.substring(0,B-2)+"..['"+N.value[0]+"']"+I.substring(B+N.value[0].length),L=!0;const H=this.matchAll(I,this.REGEX_PATH);this.modifyPathRecursive(H,I)}else I.charAt(B-1)==="."&&(I=I.substring(0,B-1)+"['"+N.value[0]+"']"+I.substring(B+N.value[0].length),L=!0,this.modifyPathRecursive($,I));N=$.next()}return I}};Dr(is,"matchAll",string_prototype_matchall$1),Dr(is,"REGEX_PATH",/@\w+/g);let JsonPathUtils=is;class ObjectUtils{static asArray($){return Array.isArray($)?$:[$]}static isObject($){return Object.prototype.toString.call($)==="[object Object]"}static isUrlAbsolute($){const I=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;ObjectUtils.isString($)&&I.test($)}static isString($){return typeof $=="string"||Object.prototype.toString.call($)==="[object String]"}static getDistinctFieldInObject($,I){const N=$.map(L=>L[I]);return Array.from(new Set(N))}}class ObjectValidationUtils{static optionalNonEmptyString($){return $==null||$.length>0}static nonEmptyString($){return $!=null&&$.length>0}static isValidDIDURI($){const N="^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/("+"[a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@]"+")*)?";return new RegExp(N).test($)}}class InternalPresentationDefinitionV1{constructor($,I,N,L,B,H){Dr(this,"input_descriptors");Dr(this,"format");Dr(this,"id");Dr(this,"name");Dr(this,"purpose");Dr(this,"submission_requirements");this.id=$,this.input_descriptors=I,this.format=N,this.name=L,this.purpose=B,this.submission_requirements=H}getVersion(){return PEVersion.v1}}class InternalPresentationDefinitionV2{constructor($,I,N,L,B,H,z){Dr(this,"format");Dr(this,"frame");Dr(this,"id");Dr(this,"input_descriptors");Dr(this,"name");Dr(this,"purpose");Dr(this,"submission_requirements");this.format=N,this.frame=L,this.id=$,this.input_descriptors=I,this.name=B,this.purpose=H,this.submission_requirements=z}getVersion(){return PEVersion.v2}}var PEVersion;(function(T){T.v1="v1",T.v2="v2"})(PEVersion||(PEVersion={}));class SSITypesBuilder{static modelEntityToInternalPresentationDefinitionV1($){const I=SSITypesBuilder.createCopyAndModifyPresentationDefinition($);return new InternalPresentationDefinitionV1(I.id,I.input_descriptors,I.format,I.name,I.purpose,I.submission_requirements)}static modelEntityInternalPresentationDefinitionV2($){const I=SSITypesBuilder.createCopyAndModifyPresentationDefinition($);return new InternalPresentationDefinitionV2(I.id,I.input_descriptors,I.format,I.frame,I.name,I.purpose,I.submission_requirements)}static createCopyAndModifyPresentationDefinition($){const I=JSON.parse(JSON.stringify($));return JsonPathUtils.changePropertyNameRecursively(I,"_const","const"),JsonPathUtils.changePropertyNameRecursively(I,"_enum","enum"),JsonPathUtils.changeSpecialPathsRecursively(I),I}static mapExternalVerifiablePresentationToWrappedVP($){return dist$2.CredentialMapper.toWrappedVerifiablePresentation($)}static mapExternalVerifiableCredentialsToWrappedVcs($){return dist$2.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray($)?$:[$])}static toInternalPresentationDefinition($){const I=JSON.parse(JSON.stringify($)),N=definitionVersionDiscovery(I);if(N.error)throw N.error;return N.version==PEVersion.v1?SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(I):SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(I)}}var validatePDv1$1={exports:{}};validatePDv1$1.exports=validate42$3;validatePDv1$1.exports.default=validate42$3;const schema12$1={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},schema13$3={type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},pattern0$1=new RegExp("^jwt$|^jwt_vc$|^jwt_vp$","u"),pattern1$1=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),pattern2$1=new RegExp("additionalProperties","u");function validate43$3(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){for(const z in T)if(!(pattern0$1.test(z)||pattern1$1.test(z)||pattern2$1.test(z))){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$3,data:T};B===null?B=[Q]:B.push(Q),H++}for(const z in T)if(pattern0$1.test(z)){let Q=T[z];if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Q.alg===void 0){const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].required,parentSchema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"],data:Q};B===null?B=[te]:B.push(te),H++}for(const te in Q)if(te!=="alg"){const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"],data:Q};B===null?B=[G]:B.push(G),H++}if(Q.alg!==void 0){let te=Q.alg;if(Array.isArray(te)){if(te.length<1){const ie={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg,data:te};B===null?B=[ie]:B.push(ie),H++}const G=te.length;for(let ie=0;ie<G;ie++){let Re=te[ie];if(typeof Re!="string"){const $e={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+ie,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg.items.type,parentSchema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg.items,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg.type,parentSchema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg,data:te};B===null?B=[G]:B.push(G),H++}}}else{const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].type,parentSchema:schema13$3.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"],data:Q};B===null?B=[te]:B.push(te),H++}}for(const z in T)if(pattern1$1.test(z)){let Q=T[z];if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Q.proof_type===void 0){const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Q};B===null?B=[te]:B.push(te),H++}for(const te in Q)if(te!=="proof_type"){const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Q};B===null?B=[G]:B.push(G),H++}if(Q.proof_type!==void 0){let te=Q.proof_type;if(Array.isArray(te)){if(te.length<1){const ie={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:te};B===null?B=[ie]:B.push(ie),H++}const G=te.length;for(let ie=0;ie<G;ie++){let Re=te[ie];if(typeof Re!="string"){const $e={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+ie,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:te};B===null?B=[G]:B.push(G),H++}}}else{const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:schema13$3.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Q};B===null?B=[te]:B.push(te),H++}}for(const z in T)if(pattern2$1.test(z)){const Q={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:schema13$3.patternProperties.additionalProperties,data:T[z]};B===null?B=[Q]:B.push(Q),H++}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$3.type,parentSchema:schema13$3,data:T};B===null?B=[z]:B.push(z),H++}return validate43$3.errors=B,H===0}const schema14$3={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},wrapper0$1={validate:validate45$1};function validate45$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T&&typeof T=="object"&&!Array.isArray(T))){const $e={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema14$3.type,parentSchema:schema14$3,data:T};B===null?B=[$e]:B.push($e),H++}const z=H;let Q=!1,te=null;const G=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.rule===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:schema14$3.oneOf[0].required,parentSchema:schema14$3.oneOf[0],data:T};B===null?B=[$e]:B.push($e),H++}if(T.from===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:schema14$3.oneOf[0].required,parentSchema:schema14$3.oneOf[0],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="name"||$e==="purpose"||$e==="rule"||$e==="count"||$e==="min"||$e==="max"||$e==="from")){const Pe={instancePath:$,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema14$3.oneOf[0],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.name!==void 0){let $e=T.name;if(typeof $e!="string"){const Pe={instancePath:$+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[0].properties.name.type,parentSchema:schema14$3.oneOf[0].properties.name,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[0].properties.purpose.type,parentSchema:schema14$3.oneOf[0].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.rule!==void 0){let $e=T.rule;if(typeof $e!="string"){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[0].properties.rule.type,parentSchema:schema14$3.oneOf[0].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(!($e==="all"||$e==="pick")){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:schema14$3.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:schema14$3.oneOf[0].properties.rule.enum,parentSchema:schema14$3.oneOf[0].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.count!==void 0){let $e=T.count;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$3.oneOf[0].properties.count.type,parentSchema:schema14$3.oneOf[0].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<1||isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:schema14$3.oneOf[0].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.min!==void 0){let $e=T.min;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$3.oneOf[0].properties.min.type,parentSchema:schema14$3.oneOf[0].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$3.oneOf[0].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.max!==void 0){let $e=T.max;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$3.oneOf[0].properties.max.type,parentSchema:schema14$3.oneOf[0].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$3.oneOf[0].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.from!==void 0){let $e=T.from;if(typeof $e!="string"){const Pe={instancePath:$+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[0].properties.from.type,parentSchema:schema14$3.oneOf[0].properties.from,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=G===H;Re&&(Q=!0,te=0);const ie=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.rule===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:schema14$3.oneOf[1].required,parentSchema:schema14$3.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}if(T.from_nested===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:schema14$3.oneOf[1].required,parentSchema:schema14$3.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="name"||$e==="purpose"||$e==="rule"||$e==="count"||$e==="min"||$e==="max"||$e==="from_nested")){const Pe={instancePath:$,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema14$3.oneOf[1],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.name!==void 0){let $e=T.name;if(typeof $e!="string"){const Pe={instancePath:$+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[1].properties.name.type,parentSchema:schema14$3.oneOf[1].properties.name,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[1].properties.purpose.type,parentSchema:schema14$3.oneOf[1].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.rule!==void 0){let $e=T.rule;if(typeof $e!="string"){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$3.oneOf[1].properties.rule.type,parentSchema:schema14$3.oneOf[1].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(!($e==="all"||$e==="pick")){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:schema14$3.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:schema14$3.oneOf[1].properties.rule.enum,parentSchema:schema14$3.oneOf[1].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.count!==void 0){let $e=T.count;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$3.oneOf[1].properties.count.type,parentSchema:schema14$3.oneOf[1].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<1||isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:schema14$3.oneOf[1].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.min!==void 0){let $e=T.min;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$3.oneOf[1].properties.min.type,parentSchema:schema14$3.oneOf[1].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$3.oneOf[1].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.max!==void 0){let $e=T.max;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$3.oneOf[1].properties.max.type,parentSchema:schema14$3.oneOf[1].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$3.oneOf[1].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.from_nested!==void 0){let $e=T.from_nested;if(Array.isArray($e)){if($e.length<1){const Me={instancePath:$+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema14$3.oneOf[1].properties.from_nested,data:$e};B===null?B=[Me]:B.push(Me),H++}const Pe=$e.length;for(let Me=0;Me<Pe;Me++)wrapper0$1.validate($e[Me],{instancePath:$+"/from_nested/"+Me,parentData:$e,parentDataProperty:Me,rootData:L})||(B=B===null?wrapper0$1.validate.errors:B.concat(wrapper0$1.validate.errors),H=B.length)}else{const Pe={instancePath:$+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema14$3.oneOf[1].properties.from_nested.type,parentSchema:schema14$3.oneOf[1].properties.from_nested,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=ie===H;if(Re&&Q?(Q=!1,te=[te,1]):Re&&(Q=!0,te=1),Q)H=z,B!==null&&(z?B.length=z:B=null);else{const $e={instancePath:$,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:te},message:"must match exactly one schema in oneOf",schema:schema14$3.oneOf,parentSchema:schema14$3,data:T};B===null?B=[$e]:B.push($e),H++}return validate45$1.errors=B,H===0}const schema15$1={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},schema16$1={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function validate48$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.uri===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:schema16$1.required,parentSchema:schema16$1,data:T};B===null?B=[z]:B.push(z),H++}for(const z in T)if(!(z==="uri"||z==="required")){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema16$1,data:T};B===null?B=[Q]:B.push(Q),H++}if(T.uri!==void 0){let z=T.uri;if(typeof z!="string"){const Q={instancePath:$+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema16$1.properties.uri.type,parentSchema:schema16$1.properties.uri,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.required!==void 0){let z=T.required;if(typeof z!="boolean"){const Q={instancePath:$+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:schema16$1.properties.required.type,parentSchema:schema16$1.properties.required,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema16$1.type,parentSchema:schema16$1,data:T};B===null?B=[z]:B.push(z),H++}return validate48$1.errors=B,H===0}const schema17$1={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function validate50(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.manifest!==void 0){let z=T.manifest;if(typeof z!="string"){const Q={instancePath:$+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17$1.properties.manifest.type,parentSchema:schema17$1.properties.manifest,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema17$1.type,parentSchema:schema17$1,data:T};B===null?B=[z]:B.push(z),H++}return validate50.errors=B,H===0}const schema18={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},schema19={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},func4$2=Object.prototype.hasOwnProperty;function validate53(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.type===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:schema19.required,parentSchema:schema19,data:T};B===null?B=[z]:B.push(z),H++}for(const z in T)if(!func4$2.call(schema19.properties,z)){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema19,data:T};B===null?B=[Q]:B.push(Q),H++}if(T.type!==void 0){let z=T.type;if(typeof z!="string"){const Q={instancePath:$+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema19.properties.type.type,parentSchema:schema19.properties.type,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.format!==void 0){let z=T.format;if(typeof z!="string"){const Q={instancePath:$+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema19.properties.format.type,parentSchema:schema19.properties.format,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.pattern!==void 0){let z=T.pattern;if(typeof z!="string"){const Q={instancePath:$+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema19.properties.pattern.type,parentSchema:schema19.properties.pattern,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.minimum!==void 0){let z=T.minimum;if(typeof z!="number"&&typeof z!="string"){const Q={instancePath:$+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:schema19.properties.minimum.type},message:"must be number,string",schema:schema19.properties.minimum.type,parentSchema:schema19.properties.minimum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.minLength!==void 0){let z=T.minLength;if(!(typeof z=="number"&&!(z%1)&&!isNaN(z))){const Q={instancePath:$+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema19.properties.minLength.type,parentSchema:schema19.properties.minLength,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.maxLength!==void 0){let z=T.maxLength;if(!(typeof z=="number"&&!(z%1)&&!isNaN(z))){const Q={instancePath:$+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema19.properties.maxLength.type,parentSchema:schema19.properties.maxLength,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.exclusiveMinimum!==void 0){let z=T.exclusiveMinimum;if(typeof z!="number"&&typeof z!="string"){const Q={instancePath:$+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:schema19.properties.exclusiveMinimum.type},message:"must be number,string",schema:schema19.properties.exclusiveMinimum.type,parentSchema:schema19.properties.exclusiveMinimum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.exclusiveMaximum!==void 0){let z=T.exclusiveMaximum;if(typeof z!="number"&&typeof z!="string"){const Q={instancePath:$+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:schema19.properties.exclusiveMaximum.type},message:"must be number,string",schema:schema19.properties.exclusiveMaximum.type,parentSchema:schema19.properties.exclusiveMaximum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.maximum!==void 0){let z=T.maximum;if(typeof z!="number"&&typeof z!="string"){const Q={instancePath:$+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:schema19.properties.maximum.type},message:"must be number,string",schema:schema19.properties.maximum.type,parentSchema:schema19.properties.maximum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.const!==void 0){let z=T.const;if(typeof z!="number"&&typeof z!="string"){const Q={instancePath:$+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:schema19.properties.const.type},message:"must be number,string",schema:schema19.properties.const.type,parentSchema:schema19.properties.const,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.enum!==void 0){let z=T.enum;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++){let G=z[te];if(typeof G!="number"&&typeof G!="string"){const ie={instancePath:$+"/enum/"+te,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:schema19.properties.enum.items.type},message:"must be number,string",schema:schema19.properties.enum.items.type,parentSchema:schema19.properties.enum.items,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const Q={instancePath:$+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema19.properties.enum.type,parentSchema:schema19.properties.enum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.not!==void 0){let z=T.not;if(z&&typeof z=="object"&&!Array.isArray(z)){if(Object.keys(z).length<1){const Q={instancePath:$+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:schema19.properties.not,data:z};B===null?B=[Q]:B.push(Q),H++}}else{const Q={instancePath:$+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema19.properties.not.type,parentSchema:schema19.properties.not,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema19.type,parentSchema:schema19,data:T};B===null?B=[z]:B.push(z),H++}return validate53.errors=B,H===0}function validate52(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T&&typeof T=="object"&&!Array.isArray(T))){const $e={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:T};B===null?B=[$e]:B.push($e),H++}const z=H;let Q=!1,te=null;const G=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.path===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:schema18.oneOf[0].required,parentSchema:schema18.oneOf[0],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="id"||$e==="path"||$e==="purpose"||$e==="filter")){const Pe={instancePath:$,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema18.oneOf[0],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.id!==void 0){let $e=T.id;if(typeof $e!="string"){const Pe={instancePath:$+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[0].properties.id.type,parentSchema:schema18.oneOf[0].properties.id,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.path!==void 0){let $e=T.path;if(Array.isArray($e)){const Pe=$e.length;for(let Me=0;Me<Pe;Me++){let Be=$e[Me];if(typeof Be!="string"){const Ke={instancePath:$+"/path/"+Me,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[0].properties.path.items.type,parentSchema:schema18.oneOf[0].properties.path.items,data:Be};B===null?B=[Ke]:B.push(Ke),H++}}}else{const Pe={instancePath:$+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema18.oneOf[0].properties.path.type,parentSchema:schema18.oneOf[0].properties.path,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[0].properties.purpose.type,parentSchema:schema18.oneOf[0].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}T.filter!==void 0&&(validate53(T.filter,{instancePath:$+"/filter",parentData:T,parentDataProperty:"filter",rootData:L})||(B=B===null?validate53.errors:B.concat(validate53.errors),H=B.length))}var Re=G===H;Re&&(Q=!0,te=0);const ie=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.path===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:schema18.oneOf[1].required,parentSchema:schema18.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}if(T.filter===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:schema18.oneOf[1].required,parentSchema:schema18.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}if(T.predicate===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:schema18.oneOf[1].required,parentSchema:schema18.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="id"||$e==="path"||$e==="purpose"||$e==="filter"||$e==="predicate")){const Pe={instancePath:$,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema18.oneOf[1],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.id!==void 0){let $e=T.id;if(typeof $e!="string"){const Pe={instancePath:$+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[1].properties.id.type,parentSchema:schema18.oneOf[1].properties.id,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.path!==void 0){let $e=T.path;if(Array.isArray($e)){const Pe=$e.length;for(let Me=0;Me<Pe;Me++){let Be=$e[Me];if(typeof Be!="string"){const Ke={instancePath:$+"/path/"+Me,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[1].properties.path.items.type,parentSchema:schema18.oneOf[1].properties.path.items,data:Be};B===null?B=[Ke]:B.push(Ke),H++}}}else{const Pe={instancePath:$+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema18.oneOf[1].properties.path.type,parentSchema:schema18.oneOf[1].properties.path,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[1].properties.purpose.type,parentSchema:schema18.oneOf[1].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.filter!==void 0&&(validate53(T.filter,{instancePath:$+"/filter",parentData:T,parentDataProperty:"filter",rootData:L})||(B=B===null?validate53.errors:B.concat(validate53.errors),H=B.length)),T.predicate!==void 0){let $e=T.predicate;if(typeof $e!="string"){const Pe={instancePath:$+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema18.oneOf[1].properties.predicate.type,parentSchema:schema18.oneOf[1].properties.predicate,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(!($e==="required"||$e==="preferred")){const Pe={instancePath:$+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:schema18.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:schema18.oneOf[1].properties.predicate.enum,parentSchema:schema18.oneOf[1].properties.predicate,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=ie===H;if(Re&&Q?(Q=!1,te=[te,1]):Re&&(Q=!0,te=1),Q)H=z,B!==null&&(z?B.length=z:B=null);else{const $e={instancePath:$,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:te},message:"must match exactly one schema in oneOf",schema:schema18.oneOf,parentSchema:schema18,data:T};B===null?B=[$e]:B.push($e),H++}return validate52.errors=B,H===0}function validate47$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.id===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:schema15$1.required,parentSchema:schema15$1,data:T};B===null?B=[z]:B.push(z),H++}if(T.schema===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:schema15$1.required,parentSchema:schema15$1,data:T};B===null?B=[z]:B.push(z),H++}for(const z in T)if(!(z==="id"||z==="name"||z==="purpose"||z==="group"||z==="schema"||z==="issuance"||z==="constraints")){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema15$1,data:T};B===null?B=[Q]:B.push(Q),H++}if(T.id!==void 0){let z=T.id;if(typeof z!="string"){const Q={instancePath:$+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.id.type,parentSchema:schema15$1.properties.id,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.name!==void 0){let z=T.name;if(typeof z!="string"){const Q={instancePath:$+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.name.type,parentSchema:schema15$1.properties.name,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.purpose!==void 0){let z=T.purpose;if(typeof z!="string"){const Q={instancePath:$+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.purpose.type,parentSchema:schema15$1.properties.purpose,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.group!==void 0){let z=T.group;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++){let G=z[te];if(typeof G!="string"){const ie={instancePath:$+"/group/"+te,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.group.items.type,parentSchema:schema15$1.properties.group.items,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const Q={instancePath:$+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.group.type,parentSchema:schema15$1.properties.group,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.schema!==void 0){let z=T.schema;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++)validate48$1(z[te],{instancePath:$+"/schema/"+te,parentData:z,parentDataProperty:te,rootData:L})||(B=B===null?validate48$1.errors:B.concat(validate48$1.errors),H=B.length)}else{const Q={instancePath:$+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.schema.type,parentSchema:schema15$1.properties.schema,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.issuance!==void 0){let z=T.issuance;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++)validate50(z[te],{instancePath:$+"/issuance/"+te,parentData:z,parentDataProperty:te,rootData:L})||(B=B===null?validate50.errors:B.concat(validate50.errors),H=B.length)}else{const Q={instancePath:$+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.issuance.type,parentSchema:schema15$1.properties.issuance,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.constraints!==void 0){let z=T.constraints;if(z&&typeof z=="object"&&!Array.isArray(z)){for(const Q in z)if(!(Q==="limit_disclosure"||Q==="statuses"||Q==="fields"||Q==="subject_is_issuer"||Q==="is_holder"||Q==="same_subject")){const te={instancePath:$+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:schema15$1.properties.constraints,data:z};B===null?B=[te]:B.push(te),H++}if(z.limit_disclosure!==void 0){let Q=z.limit_disclosure;if(typeof Q!="string"){const te={instancePath:$+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.limit_disclosure.type,parentSchema:schema15$1.properties.constraints.properties.limit_disclosure,data:Q};B===null?B=[te]:B.push(te),H++}if(!(Q==="required"||Q==="preferred")){const te={instancePath:$+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.limit_disclosure.enum,parentSchema:schema15$1.properties.constraints.properties.limit_disclosure,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.statuses!==void 0){let Q=z.statuses;if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Q.active!==void 0){let te=Q.active;if(te&&typeof te=="object"&&!Array.isArray(te)){if(te.directive!==void 0){let G=te.directive;if(typeof G!="string"){const ie={instancePath:$+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.active.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}if(!(G==="required"||G==="allowed"||G==="disallowed")){const ie={instancePath:$+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.active.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const G={instancePath:$+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.properties.statuses.properties.active.type,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.active,data:te};B===null?B=[G]:B.push(G),H++}}if(Q.suspended!==void 0){let te=Q.suspended;if(te&&typeof te=="object"&&!Array.isArray(te)){if(te.directive!==void 0){let G=te.directive;if(typeof G!="string"){const ie={instancePath:$+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}if(!(G==="required"||G==="allowed"||G==="disallowed")){const ie={instancePath:$+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const G={instancePath:$+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.suspended,data:te};B===null?B=[G]:B.push(G),H++}}if(Q.revoked!==void 0){let te=Q.revoked;if(te&&typeof te=="object"&&!Array.isArray(te)){if(te.directive!==void 0){let G=te.directive;if(typeof G!="string"){const ie={instancePath:$+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}if(!(G==="required"||G==="allowed"||G==="disallowed")){const ie={instancePath:$+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const G={instancePath:$+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:schema15$1.properties.constraints.properties.statuses.properties.revoked,data:te};B===null?B=[G]:B.push(G),H++}}}else{const te={instancePath:$+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.properties.statuses.type,parentSchema:schema15$1.properties.constraints.properties.statuses,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.fields!==void 0){let Q=z.fields;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++)validate52(Q[G],{instancePath:$+"/constraints/fields/"+G,parentData:Q,parentDataProperty:G,rootData:L})||(B=B===null?validate52.errors:B.concat(validate52.errors),H=B.length)}else{const te={instancePath:$+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.constraints.properties.fields.type,parentSchema:schema15$1.properties.constraints.properties.fields,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.subject_is_issuer!==void 0){let Q=z.subject_is_issuer;if(typeof Q!="string"){const te={instancePath:$+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.subject_is_issuer.type,parentSchema:schema15$1.properties.constraints.properties.subject_is_issuer,data:Q};B===null?B=[te]:B.push(te),H++}if(!(Q==="required"||Q==="preferred")){const te={instancePath:$+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.subject_is_issuer.enum,parentSchema:schema15$1.properties.constraints.properties.subject_is_issuer,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.is_holder!==void 0){let Q=z.is_holder;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++){let ie=Q[G];if(ie&&typeof ie=="object"&&!Array.isArray(ie)){if(ie.field_id===void 0){const Re={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:schema15$1.properties.constraints.properties.is_holder.items.required,parentSchema:schema15$1.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[Re]:B.push(Re),H++}if(ie.directive===void 0){const Re={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:schema15$1.properties.constraints.properties.is_holder.items.required,parentSchema:schema15$1.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[Re]:B.push(Re),H++}for(const Re in ie)if(!(Re==="field_id"||Re==="directive")){const $e={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties",schema:!1,parentSchema:schema15$1.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[$e]:B.push($e),H++}if(ie.field_id!==void 0){let Re=ie.field_id;if(Array.isArray(Re)){const $e=Re.length;for(let Pe=0;Pe<$e;Pe++){let Me=Re[Pe];if(typeof Me!="string"){const Be={instancePath:$+"/constraints/is_holder/"+G+"/field_id/"+Pe,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:schema15$1.properties.constraints.properties.is_holder.items.properties.field_id.items,data:Me};B===null?B=[Be]:B.push(Be),H++}}}else{const $e={instancePath:$+"/constraints/is_holder/"+G+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:schema15$1.properties.constraints.properties.is_holder.items.properties.field_id,data:Re};B===null?B=[$e]:B.push($e),H++}}if(ie.directive!==void 0){let Re=ie.directive;if(typeof Re!="string"){const $e={instancePath:$+"/constraints/is_holder/"+G+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:schema15$1.properties.constraints.properties.is_holder.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}if(!(Re==="required"||Re==="preferred")){const $e={instancePath:$+"/constraints/is_holder/"+G+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:schema15$1.properties.constraints.properties.is_holder.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const Re={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.properties.is_holder.items.type,parentSchema:schema15$1.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[Re]:B.push(Re),H++}}}else{const te={instancePath:$+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.constraints.properties.is_holder.type,parentSchema:schema15$1.properties.constraints.properties.is_holder,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.same_subject!==void 0){let Q=z.same_subject;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++){let ie=Q[G];if(ie&&typeof ie=="object"&&!Array.isArray(ie)){if(ie.field_id===void 0){const Re={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:schema15$1.properties.constraints.properties.same_subject.items.required,parentSchema:schema15$1.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[Re]:B.push(Re),H++}if(ie.directive===void 0){const Re={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:schema15$1.properties.constraints.properties.same_subject.items.required,parentSchema:schema15$1.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[Re]:B.push(Re),H++}for(const Re in ie)if(!(Re==="field_id"||Re==="directive")){const $e={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties",schema:!1,parentSchema:schema15$1.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[$e]:B.push($e),H++}if(ie.field_id!==void 0){let Re=ie.field_id;if(Array.isArray(Re)){const $e=Re.length;for(let Pe=0;Pe<$e;Pe++){let Me=Re[Pe];if(typeof Me!="string"){const Be={instancePath:$+"/constraints/same_subject/"+G+"/field_id/"+Pe,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:schema15$1.properties.constraints.properties.same_subject.items.properties.field_id.items,data:Me};B===null?B=[Be]:B.push(Be),H++}}}else{const $e={instancePath:$+"/constraints/same_subject/"+G+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:schema15$1.properties.constraints.properties.same_subject.items.properties.field_id,data:Re};B===null?B=[$e]:B.push($e),H++}}if(ie.directive!==void 0){let Re=ie.directive;if(typeof Re!="string"){const $e={instancePath:$+"/constraints/same_subject/"+G+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15$1.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:schema15$1.properties.constraints.properties.same_subject.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}if(!(Re==="required"||Re==="preferred")){const $e={instancePath:$+"/constraints/same_subject/"+G+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15$1.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15$1.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:schema15$1.properties.constraints.properties.same_subject.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const Re={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.properties.same_subject.items.type,parentSchema:schema15$1.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[Re]:B.push(Re),H++}}}else{const te={instancePath:$+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15$1.properties.constraints.properties.same_subject.type,parentSchema:schema15$1.properties.constraints.properties.same_subject,data:Q};B===null?B=[te]:B.push(te),H++}}}else{const Q={instancePath:$+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.properties.constraints.type,parentSchema:schema15$1.properties.constraints,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15$1.type,parentSchema:schema15$1,data:T};B===null?B=[z]:B.push(z),H++}return validate47$1.errors=B,H===0}function validate42$3(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.presentation_definition!==void 0){let z=T.presentation_definition;if(z&&typeof z=="object"&&!Array.isArray(z)){if(z.id===void 0){const Q={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:schema12$1.properties.presentation_definition.required,parentSchema:schema12$1.properties.presentation_definition,data:z};B===null?B=[Q]:B.push(Q),H++}if(z.input_descriptors===void 0){const Q={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:schema12$1.properties.presentation_definition.required,parentSchema:schema12$1.properties.presentation_definition,data:z};B===null?B=[Q]:B.push(Q),H++}for(const Q in z)if(!(Q==="id"||Q==="name"||Q==="purpose"||Q==="format"||Q==="submission_requirements"||Q==="input_descriptors")){const te={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:schema12$1.properties.presentation_definition,data:z};B===null?B=[te]:B.push(te),H++}if(z.id!==void 0){let Q=z.id;if(typeof Q!="string"){const te={instancePath:$+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema12$1.properties.presentation_definition.properties.id.type,parentSchema:schema12$1.properties.presentation_definition.properties.id,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.name!==void 0){let Q=z.name;if(typeof Q!="string"){const te={instancePath:$+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema12$1.properties.presentation_definition.properties.name.type,parentSchema:schema12$1.properties.presentation_definition.properties.name,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.purpose!==void 0){let Q=z.purpose;if(typeof Q!="string"){const te={instancePath:$+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema12$1.properties.presentation_definition.properties.purpose.type,parentSchema:schema12$1.properties.presentation_definition.properties.purpose,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.format!==void 0&&(validate43$3(z.format,{instancePath:$+"/presentation_definition/format",parentData:z,parentDataProperty:"format",rootData:L})||(B=B===null?validate43$3.errors:B.concat(validate43$3.errors),H=B.length)),z.submission_requirements!==void 0){let Q=z.submission_requirements;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++)validate45$1(Q[G],{instancePath:$+"/presentation_definition/submission_requirements/"+G,parentData:Q,parentDataProperty:G,rootData:L})||(B=B===null?validate45$1.errors:B.concat(validate45$1.errors),H=B.length)}else{const te={instancePath:$+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema12$1.properties.presentation_definition.properties.submission_requirements.type,parentSchema:schema12$1.properties.presentation_definition.properties.submission_requirements,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.input_descriptors!==void 0){let Q=z.input_descriptors;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++)validate47$1(Q[G],{instancePath:$+"/presentation_definition/input_descriptors/"+G,parentData:Q,parentDataProperty:G,rootData:L})||(B=B===null?validate47$1.errors:B.concat(validate47$1.errors),H=B.length)}else{const te={instancePath:$+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema12$1.properties.presentation_definition.properties.input_descriptors.type,parentSchema:schema12$1.properties.presentation_definition.properties.input_descriptors,data:Q};B===null?B=[te]:B.push(te),H++}}}else{const Q={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema12$1.properties.presentation_definition.type,parentSchema:schema12$1.properties.presentation_definition,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema12$1.type,parentSchema:schema12$1,data:T};B===null?B=[z]:B.push(z),H++}return validate42$3.errors=B,H===0}var validatePDv1Exports=validatePDv1$1.exports;const validatePDv1=getDefaultExportFromCjs$1(validatePDv1Exports);var validatePDv2$1={exports:{}},equal$5={};Object.defineProperty(equal$5,"__esModule",{value:!0});const equal$3=fastDeepEqual$1;equal$3.code='require("ajv/dist/runtime/equal").default';var _default$1e=equal$5.default=equal$3;const equal$4=_mergeNamespaces({__proto__:null,default:_default$1e},[equal$5]);validatePDv2$1.exports=validate42$2;validatePDv2$1.exports.default=validate42$2;const schema12={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},schema13$2={type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},pattern0=new RegExp("^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$","u"),pattern1=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),pattern2=new RegExp("additionalProperties","u");function validate43$2(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){for(const z in T)if(!(pattern0.test(z)||pattern1.test(z)||pattern2.test(z))){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$2,data:T};B===null?B=[Q]:B.push(Q),H++}for(const z in T)if(pattern0.test(z)){let Q=T[z];if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Q.alg===void 0){const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].required,parentSchema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"],data:Q};B===null?B=[te]:B.push(te),H++}for(const te in Q)if(te!=="alg"){const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"],data:Q};B===null?B=[G]:B.push(G),H++}if(Q.alg!==void 0){let te=Q.alg;if(Array.isArray(te)){if(te.length<1){const ie={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg,data:te};B===null?B=[ie]:B.push(ie),H++}const G=te.length;for(let ie=0;ie<G;ie++){let Re=te[ie];if(typeof Re!="string"){const $e={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+ie,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg.items.type,parentSchema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg.items,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg.type,parentSchema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg,data:te};B===null?B=[G]:B.push(G),H++}}}else{const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].type,parentSchema:schema13$2.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"],data:Q};B===null?B=[te]:B.push(te),H++}}for(const z in T)if(pattern1.test(z)){let Q=T[z];if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Q.proof_type===void 0){const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Q};B===null?B=[te]:B.push(te),H++}for(const te in Q)if(te!=="proof_type"){const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Q};B===null?B=[G]:B.push(G),H++}if(Q.proof_type!==void 0){let te=Q.proof_type;if(Array.isArray(te)){if(te.length<1){const ie={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:te};B===null?B=[ie]:B.push(ie),H++}const G=te.length;for(let ie=0;ie<G;ie++){let Re=te[ie];if(typeof Re!="string"){const $e={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+ie,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const G={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:te};B===null?B=[G]:B.push(G),H++}}}else{const te={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:schema13$2.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Q};B===null?B=[te]:B.push(te),H++}}for(const z in T)if(pattern2.test(z)){const Q={instancePath:$+"/"+z.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:schema13$2.patternProperties.additionalProperties,data:T[z]};B===null?B=[Q]:B.push(Q),H++}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$2.type,parentSchema:schema13$2,data:T};B===null?B=[z]:B.push(z),H++}return validate43$2.errors=B,H===0}const schema14$2={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},wrapper0={validate:validate45};function validate45(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T&&typeof T=="object"&&!Array.isArray(T))){const $e={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema14$2.type,parentSchema:schema14$2,data:T};B===null?B=[$e]:B.push($e),H++}const z=H;let Q=!1,te=null;const G=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.rule===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:schema14$2.oneOf[0].required,parentSchema:schema14$2.oneOf[0],data:T};B===null?B=[$e]:B.push($e),H++}if(T.from===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:schema14$2.oneOf[0].required,parentSchema:schema14$2.oneOf[0],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="name"||$e==="purpose"||$e==="rule"||$e==="count"||$e==="min"||$e==="max"||$e==="from")){const Pe={instancePath:$,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema14$2.oneOf[0],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.name!==void 0){let $e=T.name;if(typeof $e!="string"){const Pe={instancePath:$+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[0].properties.name.type,parentSchema:schema14$2.oneOf[0].properties.name,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[0].properties.purpose.type,parentSchema:schema14$2.oneOf[0].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.rule!==void 0){let $e=T.rule;if(typeof $e!="string"){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[0].properties.rule.type,parentSchema:schema14$2.oneOf[0].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(!($e==="all"||$e==="pick")){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:schema14$2.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:schema14$2.oneOf[0].properties.rule.enum,parentSchema:schema14$2.oneOf[0].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.count!==void 0){let $e=T.count;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$2.oneOf[0].properties.count.type,parentSchema:schema14$2.oneOf[0].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<1||isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:schema14$2.oneOf[0].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.min!==void 0){let $e=T.min;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$2.oneOf[0].properties.min.type,parentSchema:schema14$2.oneOf[0].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$2.oneOf[0].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.max!==void 0){let $e=T.max;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$2.oneOf[0].properties.max.type,parentSchema:schema14$2.oneOf[0].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$2.oneOf[0].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.from!==void 0){let $e=T.from;if(typeof $e!="string"){const Pe={instancePath:$+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[0].properties.from.type,parentSchema:schema14$2.oneOf[0].properties.from,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=G===H;Re&&(Q=!0,te=0);const ie=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.rule===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:schema14$2.oneOf[1].required,parentSchema:schema14$2.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}if(T.from_nested===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:schema14$2.oneOf[1].required,parentSchema:schema14$2.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="name"||$e==="purpose"||$e==="rule"||$e==="count"||$e==="min"||$e==="max"||$e==="from_nested")){const Pe={instancePath:$,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema14$2.oneOf[1],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.name!==void 0){let $e=T.name;if(typeof $e!="string"){const Pe={instancePath:$+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[1].properties.name.type,parentSchema:schema14$2.oneOf[1].properties.name,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[1].properties.purpose.type,parentSchema:schema14$2.oneOf[1].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.rule!==void 0){let $e=T.rule;if(typeof $e!="string"){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema14$2.oneOf[1].properties.rule.type,parentSchema:schema14$2.oneOf[1].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(!($e==="all"||$e==="pick")){const Pe={instancePath:$+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:schema14$2.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:schema14$2.oneOf[1].properties.rule.enum,parentSchema:schema14$2.oneOf[1].properties.rule,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.count!==void 0){let $e=T.count;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$2.oneOf[1].properties.count.type,parentSchema:schema14$2.oneOf[1].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<1||isNaN($e))){const Pe={instancePath:$+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:schema14$2.oneOf[1].properties.count,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.min!==void 0){let $e=T.min;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$2.oneOf[1].properties.min.type,parentSchema:schema14$2.oneOf[1].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$2.oneOf[1].properties.min,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.max!==void 0){let $e=T.max;if(!(typeof $e=="number"&&!($e%1)&&!isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema14$2.oneOf[1].properties.max.type,parentSchema:schema14$2.oneOf[1].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(typeof $e=="number"&&($e<0||isNaN($e))){const Pe={instancePath:$+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema14$2.oneOf[1].properties.max,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.from_nested!==void 0){let $e=T.from_nested;if(Array.isArray($e)){if($e.length<1){const Me={instancePath:$+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema14$2.oneOf[1].properties.from_nested,data:$e};B===null?B=[Me]:B.push(Me),H++}const Pe=$e.length;for(let Me=0;Me<Pe;Me++)wrapper0.validate($e[Me],{instancePath:$+"/from_nested/"+Me,parentData:$e,parentDataProperty:Me,rootData:L})||(B=B===null?wrapper0.validate.errors:B.concat(wrapper0.validate.errors),H=B.length)}else{const Pe={instancePath:$+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema14$2.oneOf[1].properties.from_nested.type,parentSchema:schema14$2.oneOf[1].properties.from_nested,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=ie===H;if(Re&&Q?(Q=!1,te=[te,1]):Re&&(Q=!0,te=1),Q)H=z,B!==null&&(z?B.length=z:B=null);else{const $e={instancePath:$,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:te},message:"must match exactly one schema in oneOf",schema:schema14$2.oneOf,parentSchema:schema14$2,data:T};B===null?B=[$e]:B.push($e),H++}return validate45.errors=B,H===0}const schema15={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},schema16={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function validate48(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.manifest!==void 0){let z=T.manifest;if(typeof z!="string"){const Q={instancePath:$+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema16.properties.manifest.type,parentSchema:schema16.properties.manifest,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema16.type,parentSchema:schema16,data:T};B===null?B=[z]:B.push(z),H++}return validate48.errors=B,H===0}const schema17={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},schema6={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},schema7={type:"integer",minimum:0};function validate22(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(typeof T=="number"&&!(T%1)&&!isNaN(T))){const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:schema7.type,parentSchema:schema7,data:T};B===null?B=[z]:B.push(z),H++}if(typeof T=="number"&&(T<0||isNaN(T))){const z={instancePath:$,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:schema7,data:T};B===null?B=[z]:B.push(z),H++}return validate22.errors=B,H===0}function validate24(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;return validate22(T,{instancePath:$,parentData:I,parentDataProperty:N,rootData:L})||(B=B===null?validate22.errors:B.concat(validate22.errors),H=B.length),validate24.errors=B,H===0}const schema9={type:"array",minItems:1,items:{$ref:"#"}},root1={validate:validate21};function validate27(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(Array.isArray(T)){if(T.length<1){const Q={instancePath:$,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema9,data:T};B===null?B=[Q]:B.push(Q),H++}const z=T.length;for(let Q=0;Q<z;Q++)root1.validate(T[Q],{instancePath:$+"/"+Q,parentData:T,parentDataProperty:Q,rootData:L})||(B=B===null?root1.validate.errors:B.concat(root1.validate.errors),H=B.length)}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema9.type,parentSchema:schema9,data:T};B===null?B=[z]:B.push(z),H++}return validate27.errors=B,H===0}const schema10={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function validate33(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(Array.isArray(T)){const z=T.length;for(let G=0;G<z;G++){let ie=T[G];if(typeof ie!="string"){const Re={instancePath:$+"/"+G,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema10.items.type,parentSchema:schema10.items,data:ie};B===null?B=[Re]:B.push(Re),H++}}let Q=T.length,te;if(Q>1){const G={};for(;Q--;){let ie=T[Q];if(typeof ie=="string"){if(typeof G[ie]=="number"){te=G[ie];const Re={instancePath:$,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:Q,j:te},message:"must NOT have duplicate items (items ## "+te+" and "+Q+" are identical)",schema:!0,parentSchema:schema10,data:T};B===null?B=[Re]:B.push(Re),H++;break}G[ie]=Q}}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema10.type,parentSchema:schema10,data:T};B===null?B=[z]:B.push(z),H++}return validate33.errors=B,H===0}const schema11={enum:["array","boolean","integer","null","number","object","string"]};function validate36(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T==="array"||T==="boolean"||T==="integer"||T==="null"||T==="number"||T==="object"||T==="string")){const z={instancePath:$,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:schema11.enum},message:"must be equal to one of the allowed values",schema:schema11.enum,parentSchema:schema11,data:T};B===null?B=[z]:B.push(z),H++}return validate36.errors=B,H===0}const func0=equal$4.default;function validate21(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T&&typeof T=="object"&&!Array.isArray(T))&&typeof T!="boolean"){const ie={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:schema6.type},message:"must be object,boolean",schema:schema6.type,parentSchema:schema6,data:T};B===null?B=[ie]:B.push(ie),H++}if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.$id!==void 0){let ie=T.$id;if(typeof ie!="string"){const Re={instancePath:$+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.$id.type,parentSchema:schema6.properties.$id,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.$schema!==void 0){let ie=T.$schema;if(typeof ie!="string"){const Re={instancePath:$+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.$schema.type,parentSchema:schema6.properties.$schema,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.$ref!==void 0){let ie=T.$ref;if(typeof ie!="string"){const Re={instancePath:$+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.$ref.type,parentSchema:schema6.properties.$ref,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.$comment!==void 0){let ie=T.$comment;if(typeof ie!="string"){const Re={instancePath:$+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.$comment.type,parentSchema:schema6.properties.$comment,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.title!==void 0){let ie=T.title;if(typeof ie!="string"){const Re={instancePath:$+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.title.type,parentSchema:schema6.properties.title,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.description!==void 0){let ie=T.description;if(typeof ie!="string"){const Re={instancePath:$+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.description.type,parentSchema:schema6.properties.description,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.readOnly!==void 0){let ie=T.readOnly;if(typeof ie!="boolean"){const Re={instancePath:$+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:schema6.properties.readOnly.type,parentSchema:schema6.properties.readOnly,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.examples!==void 0){let ie=T.examples;if(!Array.isArray(ie)){const Re={instancePath:$+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema6.properties.examples.type,parentSchema:schema6.properties.examples,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.multipleOf!==void 0){let ie=T.multipleOf;if(typeof ie=="number"){if(ie<=0||isNaN(ie)){const Re={instancePath:$+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:schema6.properties.multipleOf,data:ie};B===null?B=[Re]:B.push(Re),H++}}else{const Re={instancePath:$+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema6.properties.multipleOf.type,parentSchema:schema6.properties.multipleOf,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.maximum!==void 0){let ie=T.maximum;if(typeof ie!="number"){const Re={instancePath:$+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema6.properties.maximum.type,parentSchema:schema6.properties.maximum,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.exclusiveMaximum!==void 0){let ie=T.exclusiveMaximum;if(typeof ie!="number"){const Re={instancePath:$+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema6.properties.exclusiveMaximum.type,parentSchema:schema6.properties.exclusiveMaximum,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.minimum!==void 0){let ie=T.minimum;if(typeof ie!="number"){const Re={instancePath:$+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema6.properties.minimum.type,parentSchema:schema6.properties.minimum,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.exclusiveMinimum!==void 0){let ie=T.exclusiveMinimum;if(typeof ie!="number"){const Re={instancePath:$+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema6.properties.exclusiveMinimum.type,parentSchema:schema6.properties.exclusiveMinimum,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.maxLength!==void 0&&(validate22(T.maxLength,{instancePath:$+"/maxLength",parentData:T,parentDataProperty:"maxLength",rootData:L})||(B=B===null?validate22.errors:B.concat(validate22.errors),H=B.length)),T.minLength!==void 0&&(validate24(T.minLength,{instancePath:$+"/minLength",parentData:T,parentDataProperty:"minLength",rootData:L})||(B=B===null?validate24.errors:B.concat(validate24.errors),H=B.length)),T.pattern!==void 0){let ie=T.pattern;if(typeof ie!="string"){const Re={instancePath:$+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.pattern.type,parentSchema:schema6.properties.pattern,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.additionalItems!==void 0&&(validate21(T.additionalItems,{instancePath:$+"/additionalItems",parentData:T,parentDataProperty:"additionalItems",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.items!==void 0){let ie=T.items;const Re=H;let $e=!1;const Pe=H;validate21(ie,{instancePath:$+"/items",parentData:T,parentDataProperty:"items",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length);var z=Pe===H;if($e=$e||z,!$e){const Me=H;validate27(ie,{instancePath:$+"/items",parentData:T,parentDataProperty:"items",rootData:L})||(B=B===null?validate27.errors:B.concat(validate27.errors),H=B.length);var z=Me===H;$e=$e||z}if($e)H=Re,B!==null&&(Re?B.length=Re:B=null);else{const Me={instancePath:$+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema6.properties.items.anyOf,parentSchema:schema6.properties.items,data:ie};B===null?B=[Me]:B.push(Me),H++}}if(T.maxItems!==void 0&&(validate22(T.maxItems,{instancePath:$+"/maxItems",parentData:T,parentDataProperty:"maxItems",rootData:L})||(B=B===null?validate22.errors:B.concat(validate22.errors),H=B.length)),T.minItems!==void 0&&(validate24(T.minItems,{instancePath:$+"/minItems",parentData:T,parentDataProperty:"minItems",rootData:L})||(B=B===null?validate24.errors:B.concat(validate24.errors),H=B.length)),T.uniqueItems!==void 0){let ie=T.uniqueItems;if(typeof ie!="boolean"){const Re={instancePath:$+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:schema6.properties.uniqueItems.type,parentSchema:schema6.properties.uniqueItems,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.contains!==void 0&&(validate21(T.contains,{instancePath:$+"/contains",parentData:T,parentDataProperty:"contains",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.maxProperties!==void 0&&(validate22(T.maxProperties,{instancePath:$+"/maxProperties",parentData:T,parentDataProperty:"maxProperties",rootData:L})||(B=B===null?validate22.errors:B.concat(validate22.errors),H=B.length)),T.minProperties!==void 0&&(validate24(T.minProperties,{instancePath:$+"/minProperties",parentData:T,parentDataProperty:"minProperties",rootData:L})||(B=B===null?validate24.errors:B.concat(validate24.errors),H=B.length)),T.required!==void 0&&(validate33(T.required,{instancePath:$+"/required",parentData:T,parentDataProperty:"required",rootData:L})||(B=B===null?validate33.errors:B.concat(validate33.errors),H=B.length)),T.additionalProperties!==void 0&&(validate21(T.additionalProperties,{instancePath:$+"/additionalProperties",parentData:T,parentDataProperty:"additionalProperties",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.definitions!==void 0){let ie=T.definitions;if(ie&&typeof ie=="object"&&!Array.isArray(ie))for(const Re in ie)validate21(ie[Re],{instancePath:$+"/definitions/"+Re.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:ie,parentDataProperty:Re,rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length);else{const Re={instancePath:$+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema6.properties.definitions.type,parentSchema:schema6.properties.definitions,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.properties!==void 0){let ie=T.properties;if(ie&&typeof ie=="object"&&!Array.isArray(ie))for(const Re in ie)validate21(ie[Re],{instancePath:$+"/properties/"+Re.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:ie,parentDataProperty:Re,rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length);else{const Re={instancePath:$+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema6.properties.properties.type,parentSchema:schema6.properties.properties,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.patternProperties!==void 0){let ie=T.patternProperties;if(ie&&typeof ie=="object"&&!Array.isArray(ie)){for(const Re in ie){var Q=H===H;if(!Q){const Pe={instancePath:$+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:Re},message:"property name must be valid",schema:schema6.properties.patternProperties.propertyNames,parentSchema:schema6.properties.patternProperties,data:ie};B===null?B=[Pe]:B.push(Pe),H++}}for(const Re in ie)validate21(ie[Re],{instancePath:$+"/patternProperties/"+Re.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:ie,parentDataProperty:Re,rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)}else{const Re={instancePath:$+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema6.properties.patternProperties.type,parentSchema:schema6.properties.patternProperties,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.dependencies!==void 0){let ie=T.dependencies;if(ie&&typeof ie=="object"&&!Array.isArray(ie))for(const Re in ie){let $e=ie[Re];const Pe=H;let Me=!1;const Be=H;validate21($e,{instancePath:$+"/dependencies/"+Re.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:ie,parentDataProperty:Re,rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length);var te=Be===H;if(Me=Me||te,!Me){const Ke=H;validate33($e,{instancePath:$+"/dependencies/"+Re.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:ie,parentDataProperty:Re,rootData:L})||(B=B===null?validate33.errors:B.concat(validate33.errors),H=B.length);var te=Ke===H;Me=Me||te}if(Me)H=Pe,B!==null&&(Pe?B.length=Pe:B=null);else{const Ke={instancePath:$+"/dependencies/"+Re.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema6.properties.dependencies.additionalProperties.anyOf,parentSchema:schema6.properties.dependencies.additionalProperties,data:$e};B===null?B=[Ke]:B.push(Ke),H++}}else{const Re={instancePath:$+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema6.properties.dependencies.type,parentSchema:schema6.properties.dependencies,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.propertyNames!==void 0&&(validate21(T.propertyNames,{instancePath:$+"/propertyNames",parentData:T,parentDataProperty:"propertyNames",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.enum!==void 0){let ie=T.enum;if(Array.isArray(ie)){if(ie.length<1){const Pe={instancePath:$+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema6.properties.enum,data:ie};B===null?B=[Pe]:B.push(Pe),H++}let Re=ie.length,$e;if(Re>1){e:for(;Re--;)for($e=Re;$e--;)if(func0(ie[Re],ie[$e])){const Pe={instancePath:$+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:Re,j:$e},message:"must NOT have duplicate items (items ## "+$e+" and "+Re+" are identical)",schema:!0,parentSchema:schema6.properties.enum,data:ie};B===null?B=[Pe]:B.push(Pe),H++;break e}}}else{const Re={instancePath:$+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema6.properties.enum.type,parentSchema:schema6.properties.enum,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.type!==void 0){let ie=T.type;const Re=H;let $e=!1;const Pe=H;validate36(ie,{instancePath:$+"/type",parentData:T,parentDataProperty:"type",rootData:L})||(B=B===null?validate36.errors:B.concat(validate36.errors),H=B.length);var G=Pe===H;if($e=$e||G,!$e){const Me=H;if(Array.isArray(ie)){if(ie.length<1){const He={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:schema6.properties.type.anyOf[1],data:ie};B===null?B=[He]:B.push(He),H++}const Ke=ie.length;for(let He=0;He<Ke;He++)validate36(ie[He],{instancePath:$+"/type/"+He,parentData:ie,parentDataProperty:He,rootData:L})||(B=B===null?validate36.errors:B.concat(validate36.errors),H=B.length);let Le=ie.length,qe;if(Le>1){e:for(;Le--;)for(qe=Le;qe--;)if(func0(ie[Le],ie[qe])){const He={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:Le,j:qe},message:"must NOT have duplicate items (items ## "+qe+" and "+Le+" are identical)",schema:!0,parentSchema:schema6.properties.type.anyOf[1],data:ie};B===null?B=[He]:B.push(He),H++;break e}}}else{const Ke={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema6.properties.type.anyOf[1].type,parentSchema:schema6.properties.type.anyOf[1],data:ie};B===null?B=[Ke]:B.push(Ke),H++}var G=Me===H;$e=$e||G}if($e)H=Re,B!==null&&(Re?B.length=Re:B=null);else{const Me={instancePath:$+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema6.properties.type.anyOf,parentSchema:schema6.properties.type,data:ie};B===null?B=[Me]:B.push(Me),H++}}if(T.format!==void 0){let ie=T.format;if(typeof ie!="string"){const Re={instancePath:$+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.format.type,parentSchema:schema6.properties.format,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.contentMediaType!==void 0){let ie=T.contentMediaType;if(typeof ie!="string"){const Re={instancePath:$+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.contentMediaType.type,parentSchema:schema6.properties.contentMediaType,data:ie};B===null?B=[Re]:B.push(Re),H++}}if(T.contentEncoding!==void 0){let ie=T.contentEncoding;if(typeof ie!="string"){const Re={instancePath:$+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema6.properties.contentEncoding.type,parentSchema:schema6.properties.contentEncoding,data:ie};B===null?B=[Re]:B.push(Re),H++}}T.if!==void 0&&(validate21(T.if,{instancePath:$+"/if",parentData:T,parentDataProperty:"if",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.then!==void 0&&(validate21(T.then,{instancePath:$+"/then",parentData:T,parentDataProperty:"then",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.else!==void 0&&(validate21(T.else,{instancePath:$+"/else",parentData:T,parentDataProperty:"else",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.allOf!==void 0&&(validate27(T.allOf,{instancePath:$+"/allOf",parentData:T,parentDataProperty:"allOf",rootData:L})||(B=B===null?validate27.errors:B.concat(validate27.errors),H=B.length)),T.anyOf!==void 0&&(validate27(T.anyOf,{instancePath:$+"/anyOf",parentData:T,parentDataProperty:"anyOf",rootData:L})||(B=B===null?validate27.errors:B.concat(validate27.errors),H=B.length)),T.oneOf!==void 0&&(validate27(T.oneOf,{instancePath:$+"/oneOf",parentData:T,parentDataProperty:"oneOf",rootData:L})||(B=B===null?validate27.errors:B.concat(validate27.errors),H=B.length)),T.not!==void 0&&(validate21(T.not,{instancePath:$+"/not",parentData:T,parentDataProperty:"not",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length))}return validate21.errors=B,H===0}function validate51(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(!(T&&typeof T=="object"&&!Array.isArray(T))){const $e={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema17.type,parentSchema:schema17,data:T};B===null?B=[$e]:B.push($e),H++}const z=H;let Q=!1,te=null;const G=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.path===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:schema17.oneOf[0].required,parentSchema:schema17.oneOf[0],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="id"||$e==="path"||$e==="purpose"||$e==="intent_to_retain"||$e==="filter"||$e==="name")){const Pe={instancePath:$,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema17.oneOf[0],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.id!==void 0){let $e=T.id;if(typeof $e!="string"){const Pe={instancePath:$+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[0].properties.id.type,parentSchema:schema17.oneOf[0].properties.id,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.path!==void 0){let $e=T.path;if(Array.isArray($e)){const Pe=$e.length;for(let Me=0;Me<Pe;Me++){let Be=$e[Me];if(typeof Be!="string"){const Ke={instancePath:$+"/path/"+Me,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[0].properties.path.items.type,parentSchema:schema17.oneOf[0].properties.path.items,data:Be};B===null?B=[Ke]:B.push(Ke),H++}}}else{const Pe={instancePath:$+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema17.oneOf[0].properties.path.type,parentSchema:schema17.oneOf[0].properties.path,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[0].properties.purpose.type,parentSchema:schema17.oneOf[0].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.intent_to_retain!==void 0){let $e=T.intent_to_retain;if(typeof $e!="boolean"){const Pe={instancePath:$+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:schema17.oneOf[0].properties.intent_to_retain.type,parentSchema:schema17.oneOf[0].properties.intent_to_retain,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.filter!==void 0&&(validate21(T.filter,{instancePath:$+"/filter",parentData:T,parentDataProperty:"filter",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.name!==void 0){let $e=T.name;if(typeof $e!="string"){const Pe={instancePath:$+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[0].properties.name.type,parentSchema:schema17.oneOf[0].properties.name,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=G===H;Re&&(Q=!0,te=0);const ie=H;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.path===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:schema17.oneOf[1].required,parentSchema:schema17.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}if(T.filter===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:schema17.oneOf[1].required,parentSchema:schema17.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}if(T.predicate===void 0){const $e={instancePath:$,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:schema17.oneOf[1].required,parentSchema:schema17.oneOf[1],data:T};B===null?B=[$e]:B.push($e),H++}for(const $e in T)if(!($e==="id"||$e==="path"||$e==="purpose"||$e==="intent_to_retain"||$e==="filter"||$e==="predicate"||$e==="name")){const Pe={instancePath:$,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties",schema:!1,parentSchema:schema17.oneOf[1],data:T};B===null?B=[Pe]:B.push(Pe),H++}if(T.id!==void 0){let $e=T.id;if(typeof $e!="string"){const Pe={instancePath:$+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[1].properties.id.type,parentSchema:schema17.oneOf[1].properties.id,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.path!==void 0){let $e=T.path;if(Array.isArray($e)){const Pe=$e.length;for(let Me=0;Me<Pe;Me++){let Be=$e[Me];if(typeof Be!="string"){const Ke={instancePath:$+"/path/"+Me,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[1].properties.path.items.type,parentSchema:schema17.oneOf[1].properties.path.items,data:Be};B===null?B=[Ke]:B.push(Ke),H++}}}else{const Pe={instancePath:$+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema17.oneOf[1].properties.path.type,parentSchema:schema17.oneOf[1].properties.path,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.purpose!==void 0){let $e=T.purpose;if(typeof $e!="string"){const Pe={instancePath:$+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[1].properties.purpose.type,parentSchema:schema17.oneOf[1].properties.purpose,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.intent_to_retain!==void 0){let $e=T.intent_to_retain;if(typeof $e!="boolean"){const Pe={instancePath:$+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:schema17.oneOf[1].properties.intent_to_retain.type,parentSchema:schema17.oneOf[1].properties.intent_to_retain,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.filter!==void 0&&(validate21(T.filter,{instancePath:$+"/filter",parentData:T,parentDataProperty:"filter",rootData:L})||(B=B===null?validate21.errors:B.concat(validate21.errors),H=B.length)),T.predicate!==void 0){let $e=T.predicate;if(typeof $e!="string"){const Pe={instancePath:$+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[1].properties.predicate.type,parentSchema:schema17.oneOf[1].properties.predicate,data:$e};B===null?B=[Pe]:B.push(Pe),H++}if(!($e==="required"||$e==="preferred")){const Pe={instancePath:$+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:schema17.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:schema17.oneOf[1].properties.predicate.enum,parentSchema:schema17.oneOf[1].properties.predicate,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}if(T.name!==void 0){let $e=T.name;if(typeof $e!="string"){const Pe={instancePath:$+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema17.oneOf[1].properties.name.type,parentSchema:schema17.oneOf[1].properties.name,data:$e};B===null?B=[Pe]:B.push(Pe),H++}}}var Re=ie===H;if(Re&&Q?(Q=!1,te=[te,1]):Re&&(Q=!0,te=1),Q)H=z,B!==null&&(z?B.length=z:B=null);else{const $e={instancePath:$,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:te},message:"must match exactly one schema in oneOf",schema:schema17.oneOf,parentSchema:schema17,data:T};B===null?B=[$e]:B.push($e),H++}return validate51.errors=B,H===0}function validate47(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.id===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:schema15.required,parentSchema:schema15,data:T};B===null?B=[z]:B.push(z),H++}for(const z in T)if(!(z==="id"||z==="name"||z==="purpose"||z==="issuance"||z==="group"||z==="format"||z==="constraints")){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema15,data:T};B===null?B=[Q]:B.push(Q),H++}if(T.id!==void 0){let z=T.id;if(typeof z!="string"){const Q={instancePath:$+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.id.type,parentSchema:schema15.properties.id,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.name!==void 0){let z=T.name;if(typeof z!="string"){const Q={instancePath:$+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.name.type,parentSchema:schema15.properties.name,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.purpose!==void 0){let z=T.purpose;if(typeof z!="string"){const Q={instancePath:$+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.purpose.type,parentSchema:schema15.properties.purpose,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.issuance!==void 0){let z=T.issuance;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++)validate48(z[te],{instancePath:$+"/issuance/"+te,parentData:z,parentDataProperty:te,rootData:L})||(B=B===null?validate48.errors:B.concat(validate48.errors),H=B.length)}else{const Q={instancePath:$+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.issuance.type,parentSchema:schema15.properties.issuance,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.group!==void 0){let z=T.group;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++){let G=z[te];if(typeof G!="string"){const ie={instancePath:$+"/group/"+te,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.group.items.type,parentSchema:schema15.properties.group.items,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const Q={instancePath:$+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.group.type,parentSchema:schema15.properties.group,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.format!==void 0&&(validate43$2(T.format,{instancePath:$+"/format",parentData:T,parentDataProperty:"format",rootData:L})||(B=B===null?validate43$2.errors:B.concat(validate43$2.errors),H=B.length)),T.constraints!==void 0){let z=T.constraints;if(z&&typeof z=="object"&&!Array.isArray(z)){for(const Q in z)if(!(Q==="limit_disclosure"||Q==="statuses"||Q==="fields"||Q==="subject_is_issuer"||Q==="is_holder"||Q==="same_subject")){const te={instancePath:$+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:schema15.properties.constraints,data:z};B===null?B=[te]:B.push(te),H++}if(z.limit_disclosure!==void 0){let Q=z.limit_disclosure;if(typeof Q!="string"){const te={instancePath:$+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.limit_disclosure.type,parentSchema:schema15.properties.constraints.properties.limit_disclosure,data:Q};B===null?B=[te]:B.push(te),H++}if(!(Q==="required"||Q==="preferred")){const te={instancePath:$+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.limit_disclosure.enum,parentSchema:schema15.properties.constraints.properties.limit_disclosure,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.statuses!==void 0){let Q=z.statuses;if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Q.active!==void 0){let te=Q.active;if(te&&typeof te=="object"&&!Array.isArray(te)){if(te.directive!==void 0){let G=te.directive;if(typeof G!="string"){const ie={instancePath:$+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:schema15.properties.constraints.properties.statuses.properties.active.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}if(!(G==="required"||G==="allowed"||G==="disallowed")){const ie={instancePath:$+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:schema15.properties.constraints.properties.statuses.properties.active.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const G={instancePath:$+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.properties.statuses.properties.active.type,parentSchema:schema15.properties.constraints.properties.statuses.properties.active,data:te};B===null?B=[G]:B.push(G),H++}}if(Q.suspended!==void 0){let te=Q.suspended;if(te&&typeof te=="object"&&!Array.isArray(te)){if(te.directive!==void 0){let G=te.directive;if(typeof G!="string"){const ie={instancePath:$+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:schema15.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}if(!(G==="required"||G==="allowed"||G==="disallowed")){const ie={instancePath:$+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:schema15.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const G={instancePath:$+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:schema15.properties.constraints.properties.statuses.properties.suspended,data:te};B===null?B=[G]:B.push(G),H++}}if(Q.revoked!==void 0){let te=Q.revoked;if(te&&typeof te=="object"&&!Array.isArray(te)){if(te.directive!==void 0){let G=te.directive;if(typeof G!="string"){const ie={instancePath:$+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:schema15.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}if(!(G==="required"||G==="allowed"||G==="disallowed")){const ie={instancePath:$+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:schema15.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:G};B===null?B=[ie]:B.push(ie),H++}}}else{const G={instancePath:$+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:schema15.properties.constraints.properties.statuses.properties.revoked,data:te};B===null?B=[G]:B.push(G),H++}}}else{const te={instancePath:$+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.properties.statuses.type,parentSchema:schema15.properties.constraints.properties.statuses,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.fields!==void 0){let Q=z.fields;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++)validate51(Q[G],{instancePath:$+"/constraints/fields/"+G,parentData:Q,parentDataProperty:G,rootData:L})||(B=B===null?validate51.errors:B.concat(validate51.errors),H=B.length)}else{const te={instancePath:$+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.constraints.properties.fields.type,parentSchema:schema15.properties.constraints.properties.fields,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.subject_is_issuer!==void 0){let Q=z.subject_is_issuer;if(typeof Q!="string"){const te={instancePath:$+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.subject_is_issuer.type,parentSchema:schema15.properties.constraints.properties.subject_is_issuer,data:Q};B===null?B=[te]:B.push(te),H++}if(!(Q==="required"||Q==="preferred")){const te={instancePath:$+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.subject_is_issuer.enum,parentSchema:schema15.properties.constraints.properties.subject_is_issuer,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.is_holder!==void 0){let Q=z.is_holder;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++){let ie=Q[G];if(ie&&typeof ie=="object"&&!Array.isArray(ie)){if(ie.field_id===void 0){const Re={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:schema15.properties.constraints.properties.is_holder.items.required,parentSchema:schema15.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[Re]:B.push(Re),H++}if(ie.directive===void 0){const Re={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:schema15.properties.constraints.properties.is_holder.items.required,parentSchema:schema15.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[Re]:B.push(Re),H++}for(const Re in ie)if(!(Re==="field_id"||Re==="directive")){const $e={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties",schema:!1,parentSchema:schema15.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[$e]:B.push($e),H++}if(ie.field_id!==void 0){let Re=ie.field_id;if(Array.isArray(Re)){const $e=Re.length;for(let Pe=0;Pe<$e;Pe++){let Me=Re[Pe];if(typeof Me!="string"){const Be={instancePath:$+"/constraints/is_holder/"+G+"/field_id/"+Pe,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:schema15.properties.constraints.properties.is_holder.items.properties.field_id.items,data:Me};B===null?B=[Be]:B.push(Be),H++}}}else{const $e={instancePath:$+"/constraints/is_holder/"+G+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:schema15.properties.constraints.properties.is_holder.items.properties.field_id,data:Re};B===null?B=[$e]:B.push($e),H++}}if(ie.directive!==void 0){let Re=ie.directive;if(typeof Re!="string"){const $e={instancePath:$+"/constraints/is_holder/"+G+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:schema15.properties.constraints.properties.is_holder.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}if(!(Re==="required"||Re==="preferred")){const $e={instancePath:$+"/constraints/is_holder/"+G+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:schema15.properties.constraints.properties.is_holder.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const Re={instancePath:$+"/constraints/is_holder/"+G,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.properties.is_holder.items.type,parentSchema:schema15.properties.constraints.properties.is_holder.items,data:ie};B===null?B=[Re]:B.push(Re),H++}}}else{const te={instancePath:$+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.constraints.properties.is_holder.type,parentSchema:schema15.properties.constraints.properties.is_holder,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.same_subject!==void 0){let Q=z.same_subject;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++){let ie=Q[G];if(ie&&typeof ie=="object"&&!Array.isArray(ie)){if(ie.field_id===void 0){const Re={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:schema15.properties.constraints.properties.same_subject.items.required,parentSchema:schema15.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[Re]:B.push(Re),H++}if(ie.directive===void 0){const Re={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:schema15.properties.constraints.properties.same_subject.items.required,parentSchema:schema15.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[Re]:B.push(Re),H++}for(const Re in ie)if(!(Re==="field_id"||Re==="directive")){const $e={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties",schema:!1,parentSchema:schema15.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[$e]:B.push($e),H++}if(ie.field_id!==void 0){let Re=ie.field_id;if(Array.isArray(Re)){const $e=Re.length;for(let Pe=0;Pe<$e;Pe++){let Me=Re[Pe];if(typeof Me!="string"){const Be={instancePath:$+"/constraints/same_subject/"+G+"/field_id/"+Pe,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:schema15.properties.constraints.properties.same_subject.items.properties.field_id.items,data:Me};B===null?B=[Be]:B.push(Be),H++}}}else{const $e={instancePath:$+"/constraints/same_subject/"+G+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:schema15.properties.constraints.properties.same_subject.items.properties.field_id,data:Re};B===null?B=[$e]:B.push($e),H++}}if(ie.directive!==void 0){let Re=ie.directive;if(typeof Re!="string"){const $e={instancePath:$+"/constraints/same_subject/"+G+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema15.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:schema15.properties.constraints.properties.same_subject.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}if(!(Re==="required"||Re==="preferred")){const $e={instancePath:$+"/constraints/same_subject/"+G+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:schema15.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:schema15.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:schema15.properties.constraints.properties.same_subject.items.properties.directive,data:Re};B===null?B=[$e]:B.push($e),H++}}}else{const Re={instancePath:$+"/constraints/same_subject/"+G,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.properties.same_subject.items.type,parentSchema:schema15.properties.constraints.properties.same_subject.items,data:ie};B===null?B=[Re]:B.push(Re),H++}}}else{const te={instancePath:$+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema15.properties.constraints.properties.same_subject.type,parentSchema:schema15.properties.constraints.properties.same_subject,data:Q};B===null?B=[te]:B.push(te),H++}}}else{const Q={instancePath:$+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.properties.constraints.type,parentSchema:schema15.properties.constraints,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema15.type,parentSchema:schema15,data:T};B===null?B=[z]:B.push(z),H++}return validate47.errors=B,H===0}function validate42$2(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.presentation_definition!==void 0){let z=T.presentation_definition;if(z&&typeof z=="object"&&!Array.isArray(z)){if(z.id===void 0){const Q={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:schema12.properties.presentation_definition.required,parentSchema:schema12.properties.presentation_definition,data:z};B===null?B=[Q]:B.push(Q),H++}if(z.input_descriptors===void 0){const Q={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:schema12.properties.presentation_definition.required,parentSchema:schema12.properties.presentation_definition,data:z};B===null?B=[Q]:B.push(Q),H++}for(const Q in z)if(!(Q==="id"||Q==="name"||Q==="purpose"||Q==="format"||Q==="frame"||Q==="submission_requirements"||Q==="input_descriptors")){const te={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:schema12.properties.presentation_definition,data:z};B===null?B=[te]:B.push(te),H++}if(z.id!==void 0){let Q=z.id;if(typeof Q!="string"){const te={instancePath:$+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema12.properties.presentation_definition.properties.id.type,parentSchema:schema12.properties.presentation_definition.properties.id,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.name!==void 0){let Q=z.name;if(typeof Q!="string"){const te={instancePath:$+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema12.properties.presentation_definition.properties.name.type,parentSchema:schema12.properties.presentation_definition.properties.name,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.purpose!==void 0){let Q=z.purpose;if(typeof Q!="string"){const te={instancePath:$+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema12.properties.presentation_definition.properties.purpose.type,parentSchema:schema12.properties.presentation_definition.properties.purpose,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.format!==void 0&&(validate43$2(z.format,{instancePath:$+"/presentation_definition/format",parentData:z,parentDataProperty:"format",rootData:L})||(B=B===null?validate43$2.errors:B.concat(validate43$2.errors),H=B.length)),z.frame!==void 0){let Q=z.frame;if(!(Q&&typeof Q=="object"&&!Array.isArray(Q))){const te={instancePath:$+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema12.properties.presentation_definition.properties.frame.type,parentSchema:schema12.properties.presentation_definition.properties.frame,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.submission_requirements!==void 0){let Q=z.submission_requirements;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++)validate45(Q[G],{instancePath:$+"/presentation_definition/submission_requirements/"+G,parentData:Q,parentDataProperty:G,rootData:L})||(B=B===null?validate45.errors:B.concat(validate45.errors),H=B.length)}else{const te={instancePath:$+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema12.properties.presentation_definition.properties.submission_requirements.type,parentSchema:schema12.properties.presentation_definition.properties.submission_requirements,data:Q};B===null?B=[te]:B.push(te),H++}}if(z.input_descriptors!==void 0){let Q=z.input_descriptors;if(Array.isArray(Q)){const te=Q.length;for(let G=0;G<te;G++)validate47(Q[G],{instancePath:$+"/presentation_definition/input_descriptors/"+G,parentData:Q,parentDataProperty:G,rootData:L})||(B=B===null?validate47.errors:B.concat(validate47.errors),H=B.length)}else{const te={instancePath:$+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema12.properties.presentation_definition.properties.input_descriptors.type,parentSchema:schema12.properties.presentation_definition.properties.input_descriptors,data:Q};B===null?B=[te]:B.push(te),H++}}}else{const Q={instancePath:$+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema12.properties.presentation_definition.type,parentSchema:schema12.properties.presentation_definition,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema12.type,parentSchema:schema12,data:T};B===null?B=[z]:B.push(z),H++}return validate42$2.errors=B,H===0}var validatePDv2Exports=validatePDv2$1.exports;const validatePDv2=getDefaultExportFromCjs$1(validatePDv2Exports);function getSubjectIdsAsString(T){return(Array.isArray(T.credentialSubject)?T.credentialSubject:[T.credentialSubject]).filter(I=>!!I.id).map(I=>I.id)}function getIssuerString(T){return ObjectUtils.isString(T.issuer)?T.issuer:T.issuer.id}function definitionVersionDiscovery(T){const $=JSON.parse(JSON.stringify(T));JsonPathUtils.changePropertyNameRecursively($,"_const","const"),JsonPathUtils.changePropertyNameRecursively($,"_enum","enum");const I={presentation_definition:$};let N=validatePDv2(I);return N?{version:PEVersion.v2}:(N=validatePDv1(I),N?{version:PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})}function uniformDIDMethods(T,$){let I=(T==null?void 0:T.map(N=>N.toLowerCase()).map(N=>N.startsWith("did:")?N:`did:${N}`))??[];return I.includes("did")?[]:I}function isRestrictedDID(T,$){const I=uniformDIDMethods($);return I.length===0||I.some(N=>T.toLowerCase().startsWith(N))}function filterToRestrictedDIDs(T,$){const I=uniformDIDMethods($);return I.length===0?T:I.flatMap(N=>T.filter(L=>L.toLowerCase().startsWith(N)))}class AbstractEvaluationHandler{constructor($){Dr(this,"_client");Dr(this,"nextHandler");this._client=$}setNext($){return this.nextHandler=$,$}getNext(){return this.nextHandler}hasNext(){return this.nextHandler!=null}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs($){this._client.wrappedVcs=$}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission($){this._client.presentationSubmission=$}getResults(){return this._client.results}updatePresentationSubmission($){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach((I,N,L)=>{let B;this.getResults().filter(z=>z.status===Status$1.ERROR&&z.evaluator===this.getName()).find(z=>(B=JSONPath.query($,z.input_descriptor_path)[0],z.verifiable_credential_path===I.path&&(B==null?void 0:B.id)===I.id))&&delete L[N]})}removeDuplicate($){return $.reduce((I,N)=>I.find(B=>B.input_descriptor_path===N.input_descriptor_path&&B.verifiable_credential_path===N.verifiable_credential_path)?I:I.concat([N]),[])}}var ajv$2={exports:{}},core$c={},validate$4={},boolSchema$3={},errors$8={},codegen$3={},code$9={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.regexpCode=T.getEsmExportName=T.getProperty=T.safeStringify=T.stringify=T.strConcat=T.addCodeArg=T.str=T._=T.nil=T._Code=T.Name=T.IDENTIFIER=T._CodeOrName=void 0;class ${}T._CodeOrName=$,T.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class I extends ${constructor(Le){if(super(),!T.IDENTIFIER.test(Le))throw new Error("CodeGen: name must be a valid identifier");this.str=Le}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}T.Name=I;class N extends ${constructor(Le){super(),this._items=typeof Le=="string"?[Le]:Le}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Le=this._items[0];return Le===""||Le==='""'}get str(){var Le;return(Le=this._str)!==null&&Le!==void 0?Le:this._str=this._items.reduce((qe,He)=>`${qe}${He}`,"")}get names(){var Le;return(Le=this._names)!==null&&Le!==void 0?Le:this._names=this._items.reduce((qe,He)=>(He instanceof I&&(qe[He.str]=(qe[He.str]||0)+1),qe),{})}}T._Code=N,T.nil=new N("");function L(Ke,...Le){const qe=[Ke[0]];let He=0;for(;He<Le.length;)z(qe,Le[He]),qe.push(Ke[++He]);return new N(qe)}T._=L;const B=new N("+");function H(Ke,...Le){const qe=[$e(Ke[0])];let He=0;for(;He<Le.length;)qe.push(B),z(qe,Le[He]),qe.push(B,$e(Ke[++He]));return Q(qe),new N(qe)}T.str=H;function z(Ke,Le){Le instanceof N?Ke.push(...Le._items):Le instanceof I?Ke.push(Le):Ke.push(ie(Le))}T.addCodeArg=z;function Q(Ke){let Le=1;for(;Le<Ke.length-1;){if(Ke[Le]===B){const qe=te(Ke[Le-1],Ke[Le+1]);if(qe!==void 0){Ke.splice(Le-1,3,qe);continue}Ke[Le++]="+"}Le++}}function te(Ke,Le){if(Le==='""')return Ke;if(Ke==='""')return Le;if(typeof Ke=="string")return Le instanceof I||Ke[Ke.length-1]!=='"'?void 0:typeof Le!="string"?`${Ke.slice(0,-1)}${Le}"`:Le[0]==='"'?Ke.slice(0,-1)+Le.slice(1):void 0;if(typeof Le=="string"&&Le[0]==='"'&&!(Ke instanceof I))return`"${Ke}${Le.slice(1)}`}function G(Ke,Le){return Le.emptyStr()?Ke:Ke.emptyStr()?Le:H`${Ke}${Le}`}T.strConcat=G;function ie(Ke){return typeof Ke=="number"||typeof Ke=="boolean"||Ke===null?Ke:$e(Array.isArray(Ke)?Ke.join(","):Ke)}function Re(Ke){return new N($e(Ke))}T.stringify=Re;function $e(Ke){return JSON.stringify(Ke).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}T.safeStringify=$e;function Pe(Ke){return typeof Ke=="string"&&T.IDENTIFIER.test(Ke)?new N(`.${Ke}`):L`[${Ke}]`}T.getProperty=Pe;function Me(Ke){if(typeof Ke=="string"&&T.IDENTIFIER.test(Ke))return new N(`${Ke}`);throw new Error(`CodeGen: invalid export name: ${Ke}, use explicit $id name mapping`)}T.getEsmExportName=Me;function Be(Ke){return new N(Ke.toString())}T.regexpCode=Be})(code$9);const code$7=getDefaultExportFromCjs$1(code$9),code$8=_mergeNamespaces({__proto__:null,default:code$7},[code$9]);var scope$5={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.ValueScope=T.ValueScopeName=T.Scope=T.varKinds=T.UsedValueState=void 0;const $=code$8;class I extends Error{constructor(te){super(`CodeGen: "code" for ${te} not defined`),this.value=te.value}}var N;(function(Q){Q[Q.Started=0]="Started",Q[Q.Completed=1]="Completed"})(N||(T.UsedValueState=N={})),T.varKinds={const:new $.Name("const"),let:new $.Name("let"),var:new $.Name("var")};class L{constructor({prefixes:te,parent:G}={}){this._names={},this._prefixes=te,this._parent=G}toName(te){return te instanceof $.Name?te:this.name(te)}name(te){return new $.Name(this._newName(te))}_newName(te){const G=this._names[te]||this._nameGroup(te);return`${te}${G.index++}`}_nameGroup(te){var G,ie;if(!((ie=(G=this._parent)===null||G===void 0?void 0:G._prefixes)===null||ie===void 0)&&ie.has(te)||this._prefixes&&!this._prefixes.has(te))throw new Error(`CodeGen: prefix "${te}" is not allowed in this scope`);return this._names[te]={prefix:te,index:0}}}T.Scope=L;class B extends $.Name{constructor(te,G){super(G),this.prefix=te}setValue(te,{property:G,itemIndex:ie}){this.value=te,this.scopePath=(0,$._)`.${new $.Name(G)}[${ie}]`}}T.ValueScopeName=B;const H=(0,$._)`\n`;class z extends L{constructor(te){super(te),this._values={},this._scope=te.scope,this.opts={...te,_n:te.lines?H:$.nil}}get(){return this._scope}name(te){return new B(te,this._newName(te))}value(te,G){var ie;if(G.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const Re=this.toName(te),{prefix:$e}=Re,Pe=(ie=G.key)!==null&&ie!==void 0?ie:G.ref;let Me=this._values[$e];if(Me){const Le=Me.get(Pe);if(Le)return Le}else Me=this._values[$e]=new Map;Me.set(Pe,Re);const Be=this._scope[$e]||(this._scope[$e]=[]),Ke=Be.length;return Be[Ke]=G.ref,Re.setValue(G,{property:$e,itemIndex:Ke}),Re}getValue(te,G){const ie=this._values[te];if(ie)return ie.get(G)}scopeRefs(te,G=this._values){return this._reduceValues(G,ie=>{if(ie.scopePath===void 0)throw new Error(`CodeGen: name "${ie}" has no value`);return(0,$._)`${te}${ie.scopePath}`})}scopeCode(te=this._values,G,ie){return this._reduceValues(te,Re=>{if(Re.value===void 0)throw new Error(`CodeGen: name "${Re}" has no value`);return Re.value.code},G,ie)}_reduceValues(te,G,ie={},Re){let $e=$.nil;for(const Pe in te){const Me=te[Pe];if(!Me)continue;const Be=ie[Pe]=ie[Pe]||new Map;Me.forEach(Ke=>{if(Be.has(Ke))return;Be.set(Ke,N.Started);let Le=G(Ke);if(Le){const qe=this.opts.es5?T.varKinds.var:T.varKinds.const;$e=(0,$._)`${$e}${qe} ${Ke} = ${Le};${this.opts._n}`}else if(Le=Re==null?void 0:Re(Ke))$e=(0,$._)`${$e}${Le}${this.opts._n}`;else throw new I(Ke);Be.set(Ke,N.Completed)})}return $e}}T.ValueScope=z})(scope$5);const scope$3=getDefaultExportFromCjs$1(scope$5),scope$4=_mergeNamespaces({__proto__:null,default:scope$3},[scope$5]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.or=T.and=T.not=T.CodeGen=T.operators=T.varKinds=T.ValueScopeName=T.ValueScope=T.Scope=T.Name=T.regexpCode=T.stringify=T.getProperty=T.nil=T.strConcat=T.str=T._=void 0;const $=code$8,I=scope$4;var N=code$8;Object.defineProperty(T,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(T,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(T,"strConcat",{enumerable:!0,get:function(){return N.strConcat}}),Object.defineProperty(T,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(T,"getProperty",{enumerable:!0,get:function(){return N.getProperty}}),Object.defineProperty(T,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(T,"regexpCode",{enumerable:!0,get:function(){return N.regexpCode}}),Object.defineProperty(T,"Name",{enumerable:!0,get:function(){return N.Name}});var L=scope$4;Object.defineProperty(T,"Scope",{enumerable:!0,get:function(){return L.Scope}}),Object.defineProperty(T,"ValueScope",{enumerable:!0,get:function(){return L.ValueScope}}),Object.defineProperty(T,"ValueScopeName",{enumerable:!0,get:function(){return L.ValueScopeName}}),Object.defineProperty(T,"varKinds",{enumerable:!0,get:function(){return L.varKinds}}),T.operators={GT:new $._Code(">"),GTE:new $._Code(">="),LT:new $._Code("<"),LTE:new $._Code("<="),EQ:new $._Code("==="),NEQ:new $._Code("!=="),NOT:new $._Code("!"),OR:new $._Code("||"),AND:new $._Code("&&"),ADD:new $._Code("+")};class B{optimizeNodes(){return this}optimizeNames(st,dt){return this}}class H extends B{constructor(st,dt,bt){super(),this.varKind=st,this.name=dt,this.rhs=bt}render({es5:st,_n:dt}){const bt=st?I.varKinds.var:this.varKind,vt=this.rhs===void 0?"":` = ${this.rhs}`;return`${bt} ${this.name}${vt};`+dt}optimizeNames(st,dt){if(st[this.name.str])return this.rhs&&(this.rhs=ke(this.rhs,st,dt)),this}get names(){return this.rhs instanceof $._CodeOrName?this.rhs.names:{}}}class z extends B{constructor(st,dt,bt){super(),this.lhs=st,this.rhs=dt,this.sideEffects=bt}render({_n:st}){return`${this.lhs} = ${this.rhs};`+st}optimizeNames(st,dt){if(!(this.lhs instanceof $.Name&&!st[this.lhs.str]&&!this.sideEffects))return this.rhs=ke(this.rhs,st,dt),this}get names(){const st=this.lhs instanceof $.Name?{}:{...this.lhs.names};return Fe(st,this.rhs)}}class Q extends z{constructor(st,dt,bt,vt){super(st,bt,vt),this.op=dt}render({_n:st}){return`${this.lhs} ${this.op}= ${this.rhs};`+st}}class te extends B{constructor(st){super(),this.label=st,this.names={}}render({_n:st}){return`${this.label}:`+st}}class G extends B{constructor(st){super(),this.label=st,this.names={}}render({_n:st}){return`break${this.label?` ${this.label}`:""};`+st}}class ie extends B{constructor(st){super(),this.error=st}render({_n:st}){return`throw ${this.error};`+st}get names(){return this.error.names}}class Re extends B{constructor(st){super(),this.code=st}render({_n:st}){return`${this.code};`+st}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(st,dt){return this.code=ke(this.code,st,dt),this}get names(){return this.code instanceof $._CodeOrName?this.code.names:{}}}class $e extends B{constructor(st=[]){super(),this.nodes=st}render(st){return this.nodes.reduce((dt,bt)=>dt+bt.render(st),"")}optimizeNodes(){const{nodes:st}=this;let dt=st.length;for(;dt--;){const bt=st[dt].optimizeNodes();Array.isArray(bt)?st.splice(dt,1,...bt):bt?st[dt]=bt:st.splice(dt,1)}return st.length>0?this:void 0}optimizeNames(st,dt){const{nodes:bt}=this;let vt=bt.length;for(;vt--;){const St=bt[vt];St.optimizeNames(st,dt)||(Ue(st,St.names),bt.splice(vt,1))}return bt.length>0?this:void 0}get names(){return this.nodes.reduce((st,dt)=>ze(st,dt.names),{})}}class Pe extends $e{render(st){return"{"+st._n+super.render(st)+"}"+st._n}}class Me extends $e{}class Be extends Pe{}Be.kind="else";class Ke extends Pe{constructor(st,dt){super(dt),this.condition=st}render(st){let dt=`if(${this.condition})`+super.render(st);return this.else&&(dt+="else "+this.else.render(st)),dt}optimizeNodes(){super.optimizeNodes();const st=this.condition;if(st===!0)return this.nodes;let dt=this.else;if(dt){const bt=dt.optimizeNodes();dt=this.else=Array.isArray(bt)?new Be(bt):bt}if(dt)return st===!1?dt instanceof Ke?dt:dt.nodes:this.nodes.length?this:new Ke(Je(st),dt instanceof Ke?[dt]:dt.nodes);if(!(st===!1||!this.nodes.length))return this}optimizeNames(st,dt){var bt;if(this.else=(bt=this.else)===null||bt===void 0?void 0:bt.optimizeNames(st,dt),!!(super.optimizeNames(st,dt)||this.else))return this.condition=ke(this.condition,st,dt),this}get names(){const st=super.names;return Fe(st,this.condition),this.else&&ze(st,this.else.names),st}}Ke.kind="if";class Le extends Pe{}Le.kind="for";class qe extends Le{constructor(st){super(),this.iteration=st}render(st){return`for(${this.iteration})`+super.render(st)}optimizeNames(st,dt){if(super.optimizeNames(st,dt))return this.iteration=ke(this.iteration,st,dt),this}get names(){return ze(super.names,this.iteration.names)}}class He extends Le{constructor(st,dt,bt,vt){super(),this.varKind=st,this.name=dt,this.from=bt,this.to=vt}render(st){const dt=st.es5?I.varKinds.var:this.varKind,{name:bt,from:vt,to:St}=this;return`for(${dt} ${bt}=${vt}; ${bt}<${St}; ${bt}++)`+super.render(st)}get names(){const st=Fe(super.names,this.from);return Fe(st,this.to)}}class Ge extends Le{constructor(st,dt,bt,vt){super(),this.loop=st,this.varKind=dt,this.name=bt,this.iterable=vt}render(st){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(st)}optimizeNames(st,dt){if(super.optimizeNames(st,dt))return this.iterable=ke(this.iterable,st,dt),this}get names(){return ze(super.names,this.iterable.names)}}class at extends Pe{constructor(st,dt,bt){super(),this.name=st,this.args=dt,this.async=bt}render(st){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(st)}}at.kind="func";class ot extends $e{render(st){return"return "+super.render(st)}}ot.kind="return";class Ye extends Pe{render(st){let dt="try"+super.render(st);return this.catch&&(dt+=this.catch.render(st)),this.finally&&(dt+=this.finally.render(st)),dt}optimizeNodes(){var st,dt;return super.optimizeNodes(),(st=this.catch)===null||st===void 0||st.optimizeNodes(),(dt=this.finally)===null||dt===void 0||dt.optimizeNodes(),this}optimizeNames(st,dt){var bt,vt;return super.optimizeNames(st,dt),(bt=this.catch)===null||bt===void 0||bt.optimizeNames(st,dt),(vt=this.finally)===null||vt===void 0||vt.optimizeNames(st,dt),this}get names(){const st=super.names;return this.catch&&ze(st,this.catch.names),this.finally&&ze(st,this.finally.names),st}}class nt extends Pe{constructor(st){super(),this.error=st}render(st){return`catch(${this.error})`+super.render(st)}}nt.kind="catch";class Qe extends Pe{render(st){return"finally"+super.render(st)}}Qe.kind="finally";class tt{constructor(st,dt={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...dt,_n:dt.lines?`
`:""},this._extScope=st,this._scope=new I.Scope({parent:st}),this._nodes=[new Me]}toString(){return this._root.render(this.opts)}name(st){return this._scope.name(st)}scopeName(st){return this._extScope.name(st)}scopeValue(st,dt){const bt=this._extScope.value(st,dt);return(this._values[bt.prefix]||(this._values[bt.prefix]=new Set)).add(bt),bt}getScopeValue(st,dt){return this._extScope.getValue(st,dt)}scopeRefs(st){return this._extScope.scopeRefs(st,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(st,dt,bt,vt){const St=this._scope.toName(dt);return bt!==void 0&&vt&&(this._constants[St.str]=bt),this._leafNode(new H(st,St,bt)),St}const(st,dt,bt){return this._def(I.varKinds.const,st,dt,bt)}let(st,dt,bt){return this._def(I.varKinds.let,st,dt,bt)}var(st,dt,bt){return this._def(I.varKinds.var,st,dt,bt)}assign(st,dt,bt){return this._leafNode(new z(st,dt,bt))}add(st,dt){return this._leafNode(new Q(st,T.operators.ADD,dt))}code(st){return typeof st=="function"?st():st!==$.nil&&this._leafNode(new Re(st)),this}object(...st){const dt=["{"];for(const[bt,vt]of st)dt.length>1&&dt.push(","),dt.push(bt),(bt!==vt||this.opts.es5)&&(dt.push(":"),(0,$.addCodeArg)(dt,vt));return dt.push("}"),new $._Code(dt)}if(st,dt,bt){if(this._blockNode(new Ke(st)),dt&&bt)this.code(dt).else().code(bt).endIf();else if(dt)this.code(dt).endIf();else if(bt)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(st){return this._elseNode(new Ke(st))}else(){return this._elseNode(new Be)}endIf(){return this._endBlockNode(Ke,Be)}_for(st,dt){return this._blockNode(st),dt&&this.code(dt).endFor(),this}for(st,dt){return this._for(new qe(st),dt)}forRange(st,dt,bt,vt,St=this.opts.es5?I.varKinds.var:I.varKinds.let){const Bt=this._scope.toName(st);return this._for(new He(St,Bt,dt,bt),()=>vt(Bt))}forOf(st,dt,bt,vt=I.varKinds.const){const St=this._scope.toName(st);if(this.opts.es5){const Bt=dt instanceof $.Name?dt:this.var("_arr",dt);return this.forRange("_i",0,(0,$._)`${Bt}.length`,Gt=>{this.var(St,(0,$._)`${Bt}[${Gt}]`),bt(St)})}return this._for(new Ge("of",vt,St,dt),()=>bt(St))}forIn(st,dt,bt,vt=this.opts.es5?I.varKinds.var:I.varKinds.const){if(this.opts.ownProperties)return this.forOf(st,(0,$._)`Object.keys(${dt})`,bt);const St=this._scope.toName(st);return this._for(new Ge("in",vt,St,dt),()=>bt(St))}endFor(){return this._endBlockNode(Le)}label(st){return this._leafNode(new te(st))}break(st){return this._leafNode(new G(st))}return(st){const dt=new ot;if(this._blockNode(dt),this.code(st),dt.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ot)}try(st,dt,bt){if(!dt&&!bt)throw new Error('CodeGen: "try" without "catch" and "finally"');const vt=new Ye;if(this._blockNode(vt),this.code(st),dt){const St=this.name("e");this._currNode=vt.catch=new nt(St),dt(St)}return bt&&(this._currNode=vt.finally=new Qe,this.code(bt)),this._endBlockNode(nt,Qe)}throw(st){return this._leafNode(new ie(st))}block(st,dt){return this._blockStarts.push(this._nodes.length),st&&this.code(st).endBlock(dt),this}endBlock(st){const dt=this._blockStarts.pop();if(dt===void 0)throw new Error("CodeGen: not in self-balancing block");const bt=this._nodes.length-dt;if(bt<0||st!==void 0&&bt!==st)throw new Error(`CodeGen: wrong number of nodes: ${bt} vs ${st} expected`);return this._nodes.length=dt,this}func(st,dt=$.nil,bt,vt){return this._blockNode(new at(st,dt,bt)),vt&&this.code(vt).endFunc(),this}endFunc(){return this._endBlockNode(at)}optimize(st=1){for(;st-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(st){return this._currNode.nodes.push(st),this}_blockNode(st){this._currNode.nodes.push(st),this._nodes.push(st)}_endBlockNode(st,dt){const bt=this._currNode;if(bt instanceof st||dt&&bt instanceof dt)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${dt?`${st.kind}/${dt.kind}`:st.kind}"`)}_elseNode(st){const dt=this._currNode;if(!(dt instanceof Ke))throw new Error('CodeGen: "else" without "if"');return this._currNode=dt.else=st,this}get _root(){return this._nodes[0]}get _currNode(){const st=this._nodes;return st[st.length-1]}set _currNode(st){const dt=this._nodes;dt[dt.length-1]=st}}T.CodeGen=tt;function ze(Ze,st){for(const dt in st)Ze[dt]=(Ze[dt]||0)+(st[dt]||0);return Ze}function Fe(Ze,st){return st instanceof $._CodeOrName?ze(Ze,st.names):Ze}function ke(Ze,st,dt){if(Ze instanceof $.Name)return bt(Ze);if(!vt(Ze))return Ze;return new $._Code(Ze._items.reduce((St,Bt)=>(Bt instanceof $.Name&&(Bt=bt(Bt)),Bt instanceof $._Code?St.push(...Bt._items):St.push(Bt),St),[]));function bt(St){const Bt=dt[St.str];return Bt===void 0||st[St.str]!==1?St:(delete st[St.str],Bt)}function vt(St){return St instanceof $._Code&&St._items.some(Bt=>Bt instanceof $.Name&&st[Bt.str]===1&&dt[Bt.str]!==void 0)}}function Ue(Ze,st){for(const dt in st)Ze[dt]=(Ze[dt]||0)-(st[dt]||0)}function Je(Ze){return typeof Ze=="boolean"||typeof Ze=="number"||Ze===null?!Ze:(0,$._)`!${je(Ze)}`}T.not=Je;const rt=Ve(T.operators.AND);function Xe(...Ze){return Ze.reduce(rt)}T.and=Xe;const it=Ve(T.operators.OR);function We(...Ze){return Ze.reduce(it)}T.or=We;function Ve(Ze){return(st,dt)=>st===$.nil?dt:dt===$.nil?st:(0,$._)`${je(st)} ${Ze} ${je(dt)}`}function je(Ze){return Ze instanceof $.Name?Ze:(0,$._)`(${Ze})`}})(codegen$3);const index$k=getDefaultExportFromCjs$1(codegen$3),codegen$2=_mergeNamespaces({__proto__:null,default:index$k},[codegen$3]);var util$b={},Type_1;Object.defineProperty(util$b,"__esModule",{value:!0});var checkStrictMode_1=util$b.checkStrictMode=getErrorPath_1=util$b.getErrorPath=Type_1=util$b.Type=useFunc_1=util$b.useFunc=setEvaluated_1=util$b.setEvaluated=evaluatedPropsToName_1=util$b.evaluatedPropsToName=mergeEvaluated=util$b.mergeEvaluated=eachItem_1=util$b.eachItem=unescapeJsonPointer_1=util$b.unescapeJsonPointer=escapeJsonPointer_1=util$b.escapeJsonPointer=escapeFragment_1=util$b.escapeFragment=unescapeFragment_1=util$b.unescapeFragment=schemaRefOrVal_1=util$b.schemaRefOrVal=schemaHasRulesButRef_1=util$b.schemaHasRulesButRef=schemaHasRules_1=util$b.schemaHasRules=checkUnknownRules_1=util$b.checkUnknownRules=alwaysValidSchema_1=util$b.alwaysValidSchema=toHash_1=util$b.toHash=void 0;const codegen_1$Z=codegen$2,code_1$k=code$8;function toHash(T){const $={};for(const I of T)$[I]=!0;return $}var toHash_1=util$b.toHash=toHash;function alwaysValidSchema(T,$){return typeof $=="boolean"?$:Object.keys($).length===0?!0:(checkUnknownRules(T,$),!schemaHasRules($,T.self.RULES.all))}var alwaysValidSchema_1=util$b.alwaysValidSchema=alwaysValidSchema;function checkUnknownRules(T,$=T.schema){const{opts:I,self:N}=T;if(!I.strictSchema||typeof $=="boolean")return;const L=N.RULES.keywords;for(const B in $)L[B]||checkStrictMode(T,`unknown keyword: "${B}"`)}var checkUnknownRules_1=util$b.checkUnknownRules=checkUnknownRules;function schemaHasRules(T,$){if(typeof T=="boolean")return!T;for(const I in T)if($[I])return!0;return!1}var schemaHasRules_1=util$b.schemaHasRules=schemaHasRules;function schemaHasRulesButRef(T,$){if(typeof T=="boolean")return!T;for(const I in T)if(I!=="$ref"&&$.all[I])return!0;return!1}var schemaHasRulesButRef_1=util$b.schemaHasRulesButRef=schemaHasRulesButRef;function schemaRefOrVal({topSchemaRef:T,schemaPath:$},I,N,L){if(!L){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,codegen_1$Z._)`${I}`}return(0,codegen_1$Z._)`${T}${$}${(0,codegen_1$Z.getProperty)(N)}`}var schemaRefOrVal_1=util$b.schemaRefOrVal=schemaRefOrVal;function unescapeFragment(T){return unescapeJsonPointer(decodeURIComponent(T))}var unescapeFragment_1=util$b.unescapeFragment=unescapeFragment;function escapeFragment(T){return encodeURIComponent(escapeJsonPointer(T))}var escapeFragment_1=util$b.escapeFragment=escapeFragment;function escapeJsonPointer(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}var escapeJsonPointer_1=util$b.escapeJsonPointer=escapeJsonPointer;function unescapeJsonPointer(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}var unescapeJsonPointer_1=util$b.unescapeJsonPointer=unescapeJsonPointer;function eachItem(T,$){if(Array.isArray(T))for(const I of T)$(I);else $(T)}var eachItem_1=util$b.eachItem=eachItem;function makeMergeEvaluated({mergeNames:T,mergeToName:$,mergeValues:I,resultToName:N}){return(L,B,H,z)=>{const Q=H===void 0?B:H instanceof codegen_1$Z.Name?(B instanceof codegen_1$Z.Name?T(L,B,H):$(L,B,H),H):B instanceof codegen_1$Z.Name?($(L,H,B),B):I(B,H);return z===codegen_1$Z.Name&&!(Q instanceof codegen_1$Z.Name)?N(L,Q):Q}}var mergeEvaluated=util$b.mergeEvaluated={props:makeMergeEvaluated({mergeNames:(T,$,I)=>T.if((0,codegen_1$Z._)`${I} !== true && ${$} !== undefined`,()=>{T.if((0,codegen_1$Z._)`${$} === true`,()=>T.assign(I,!0),()=>T.assign(I,(0,codegen_1$Z._)`${I} || {}`).code((0,codegen_1$Z._)`Object.assign(${I}, ${$})`))}),mergeToName:(T,$,I)=>T.if((0,codegen_1$Z._)`${I} !== true`,()=>{$===!0?T.assign(I,!0):(T.assign(I,(0,codegen_1$Z._)`${I} || {}`),setEvaluated(T,I,$))}),mergeValues:(T,$)=>T===!0?!0:{...T,...$},resultToName:evaluatedPropsToName}),items:makeMergeEvaluated({mergeNames:(T,$,I)=>T.if((0,codegen_1$Z._)`${I} !== true && ${$} !== undefined`,()=>T.assign(I,(0,codegen_1$Z._)`${$} === true ? true : ${I} > ${$} ? ${I} : ${$}`)),mergeToName:(T,$,I)=>T.if((0,codegen_1$Z._)`${I} !== true`,()=>T.assign(I,$===!0?!0:(0,codegen_1$Z._)`${I} > ${$} ? ${I} : ${$}`)),mergeValues:(T,$)=>T===!0?!0:Math.max(T,$),resultToName:(T,$)=>T.var("items",$)})};function evaluatedPropsToName(T,$){if($===!0)return T.var("props",!0);const I=T.var("props",(0,codegen_1$Z._)`{}`);return $!==void 0&&setEvaluated(T,I,$),I}var evaluatedPropsToName_1=util$b.evaluatedPropsToName=evaluatedPropsToName;function setEvaluated(T,$,I){Object.keys(I).forEach(N=>T.assign((0,codegen_1$Z._)`${$}${(0,codegen_1$Z.getProperty)(N)}`,!0))}var setEvaluated_1=util$b.setEvaluated=setEvaluated;const snippets={};function useFunc(T,$){return T.scopeValue("func",{ref:$,code:snippets[$.code]||(snippets[$.code]=new code_1$k._Code($.code))})}var useFunc_1=util$b.useFunc=useFunc,Type;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(Type||(Type_1=util$b.Type=Type={}));function getErrorPath(T,$,I){if(T instanceof codegen_1$Z.Name){const N=$===Type.Num;return I?N?(0,codegen_1$Z._)`"[" + ${T} + "]"`:(0,codegen_1$Z._)`"['" + ${T} + "']"`:N?(0,codegen_1$Z._)`"/" + ${T}`:(0,codegen_1$Z._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,codegen_1$Z.getProperty)(T).toString():"/"+escapeJsonPointer(T)}var getErrorPath_1=util$b.getErrorPath=getErrorPath;function checkStrictMode(T,$,I=T.opts.strictSchema){if(I){if($=`strict mode: ${$}`,I===!0)throw new Error($);T.self.logger.warn($)}}checkStrictMode_1=util$b.checkStrictMode=checkStrictMode;const util$a=_mergeNamespaces({__proto__:null,get Type(){return Type_1},get alwaysValidSchema(){return alwaysValidSchema_1},get checkStrictMode(){return checkStrictMode_1},get checkUnknownRules(){return checkUnknownRules_1},default:util$b,get eachItem(){return eachItem_1},get escapeFragment(){return escapeFragment_1},get escapeJsonPointer(){return escapeJsonPointer_1},get evaluatedPropsToName(){return evaluatedPropsToName_1},get getErrorPath(){return getErrorPath_1},get mergeEvaluated(){return mergeEvaluated},get schemaHasRules(){return schemaHasRules_1},get schemaHasRulesButRef(){return schemaHasRulesButRef_1},get schemaRefOrVal(){return schemaRefOrVal_1},get setEvaluated(){return setEvaluated_1},get toHash(){return toHash_1},get unescapeFragment(){return unescapeFragment_1},get unescapeJsonPointer(){return unescapeJsonPointer_1},get useFunc(){return useFunc_1}},[util$b]);var names$5={};Object.defineProperty(names$5,"__esModule",{value:!0});const codegen_1$Y=codegen$2,names$3={data:new codegen_1$Y.Name("data"),valCxt:new codegen_1$Y.Name("valCxt"),instancePath:new codegen_1$Y.Name("instancePath"),parentData:new codegen_1$Y.Name("parentData"),parentDataProperty:new codegen_1$Y.Name("parentDataProperty"),rootData:new codegen_1$Y.Name("rootData"),dynamicAnchors:new codegen_1$Y.Name("dynamicAnchors"),vErrors:new codegen_1$Y.Name("vErrors"),errors:new codegen_1$Y.Name("errors"),this:new codegen_1$Y.Name("this"),self:new codegen_1$Y.Name("self"),scope:new codegen_1$Y.Name("scope"),json:new codegen_1$Y.Name("json"),jsonPos:new codegen_1$Y.Name("jsonPos"),jsonLen:new codegen_1$Y.Name("jsonLen"),jsonPart:new codegen_1$Y.Name("jsonPart")};var _default$1d=names$5.default=names$3;const names$4=_mergeNamespaces({__proto__:null,default:_default$1d},[names$5]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.extendErrors=T.resetErrorsCount=T.reportExtraError=T.reportError=T.keyword$DataError=T.keywordError=void 0;const $=codegen$2,I=util$a,N=names$4;T.keywordError={message:({keyword:Be})=>(0,$.str)`must pass "${Be}" keyword validation`},T.keyword$DataError={message:({keyword:Be,schemaType:Ke})=>Ke?(0,$.str)`"${Be}" keyword must be ${Ke} ($data)`:(0,$.str)`"${Be}" keyword is invalid ($data)`};function L(Be,Ke=T.keywordError,Le,qe){const{it:He}=Be,{gen:Ge,compositeRule:at,allErrors:ot}=He,Ye=ie(Be,Ke,Le);qe??(at||ot)?Q(Ge,Ye):te(He,(0,$._)`[${Ye}]`)}T.reportError=L;function B(Be,Ke=T.keywordError,Le){const{it:qe}=Be,{gen:He,compositeRule:Ge,allErrors:at}=qe,ot=ie(Be,Ke,Le);Q(He,ot),Ge||at||te(qe,N.default.vErrors)}T.reportExtraError=B;function H(Be,Ke){Be.assign(N.default.errors,Ke),Be.if((0,$._)`${N.default.vErrors} !== null`,()=>Be.if(Ke,()=>Be.assign((0,$._)`${N.default.vErrors}.length`,Ke),()=>Be.assign(N.default.vErrors,null)))}T.resetErrorsCount=H;function z({gen:Be,keyword:Ke,schemaValue:Le,data:qe,errsCount:He,it:Ge}){if(He===void 0)throw new Error("ajv implementation error");const at=Be.name("err");Be.forRange("i",He,N.default.errors,ot=>{Be.const(at,(0,$._)`${N.default.vErrors}[${ot}]`),Be.if((0,$._)`${at}.instancePath === undefined`,()=>Be.assign((0,$._)`${at}.instancePath`,(0,$.strConcat)(N.default.instancePath,Ge.errorPath))),Be.assign((0,$._)`${at}.schemaPath`,(0,$.str)`${Ge.errSchemaPath}/${Ke}`),Ge.opts.verbose&&(Be.assign((0,$._)`${at}.schema`,Le),Be.assign((0,$._)`${at}.data`,qe))})}T.extendErrors=z;function Q(Be,Ke){const Le=Be.const("err",Ke);Be.if((0,$._)`${N.default.vErrors} === null`,()=>Be.assign(N.default.vErrors,(0,$._)`[${Le}]`),(0,$._)`${N.default.vErrors}.push(${Le})`),Be.code((0,$._)`${N.default.errors}++`)}function te(Be,Ke){const{gen:Le,validateName:qe,schemaEnv:He}=Be;He.$async?Le.throw((0,$._)`new ${Be.ValidationError}(${Ke})`):(Le.assign((0,$._)`${qe}.errors`,Ke),Le.return(!1))}const G={keyword:new $.Name("keyword"),schemaPath:new $.Name("schemaPath"),params:new $.Name("params"),propertyName:new $.Name("propertyName"),message:new $.Name("message"),schema:new $.Name("schema"),parentSchema:new $.Name("parentSchema")};function ie(Be,Ke,Le){const{createErrors:qe}=Be.it;return qe===!1?(0,$._)`{}`:Re(Be,Ke,Le)}function Re(Be,Ke,Le={}){const{gen:qe,it:He}=Be,Ge=[$e(He,Le),Pe(Be,Le)];return Me(Be,Ke,Ge),qe.object(...Ge)}function $e({errorPath:Be},{instancePath:Ke}){const Le=Ke?(0,$.str)`${Be}${(0,I.getErrorPath)(Ke,I.Type.Str)}`:Be;return[N.default.instancePath,(0,$.strConcat)(N.default.instancePath,Le)]}function Pe({keyword:Be,it:{errSchemaPath:Ke}},{schemaPath:Le,parentSchema:qe}){let He=qe?Ke:(0,$.str)`${Ke}/${Be}`;return Le&&(He=(0,$.str)`${He}${(0,I.getErrorPath)(Le,I.Type.Str)}`),[G.schemaPath,He]}function Me(Be,{params:Ke,message:Le},qe){const{keyword:He,data:Ge,schemaValue:at,it:ot}=Be,{opts:Ye,propertyName:nt,topSchemaRef:Qe,schemaPath:tt}=ot;qe.push([G.keyword,He],[G.params,typeof Ke=="function"?Ke(Be):Ke||(0,$._)`{}`]),Ye.messages&&qe.push([G.message,typeof Le=="function"?Le(Be):Le]),Ye.verbose&&qe.push([G.schema,at],[G.parentSchema,(0,$._)`${Qe}${tt}`],[N.default.data,Ge]),nt&&qe.push([G.propertyName,nt])}})(errors$8);const errors$6=getDefaultExportFromCjs$1(errors$8),errors$7=_mergeNamespaces({__proto__:null,default:errors$6},[errors$8]);Object.defineProperty(boolSchema$3,"__esModule",{value:!0});var boolOrEmptySchema_1$1=boolSchema$3.boolOrEmptySchema=topBoolOrEmptySchema_1$1=boolSchema$3.topBoolOrEmptySchema=void 0;const errors_1$6=errors$7,codegen_1$X=codegen$2,names_1$d=names$4,boolError$1={message:"boolean schema is false"};function topBoolOrEmptySchema$1(T){const{gen:$,schema:I,validateName:N}=T;I===!1?falseSchemaError$1(T,!1):typeof I=="object"&&I.$async===!0?$.return(names_1$d.default.data):($.assign((0,codegen_1$X._)`${N}.errors`,null),$.return(!0))}var topBoolOrEmptySchema_1$1=boolSchema$3.topBoolOrEmptySchema=topBoolOrEmptySchema$1;function boolOrEmptySchema$1(T,$){const{gen:I,schema:N}=T;N===!1?(I.var($,!1),falseSchemaError$1(T)):I.var($,!0)}boolOrEmptySchema_1$1=boolSchema$3.boolOrEmptySchema=boolOrEmptySchema$1;function falseSchemaError$1(T,$){const{gen:I,data:N}=T,L={gen:I,keyword:"false schema",data:N,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:T};(0,errors_1$6.reportError)(L,boolError$1,void 0,$)}const boolSchema$2=_mergeNamespaces({__proto__:null,get boolOrEmptySchema(){return boolOrEmptySchema_1$1},default:boolSchema$3,get topBoolOrEmptySchema(){return topBoolOrEmptySchema_1$1}},[boolSchema$3]);var dataType$4={},rules$5={};Object.defineProperty(rules$5,"__esModule",{value:!0});var getRules_1$1=rules$5.getRules=isJSONType_1$1=rules$5.isJSONType=void 0;const _jsonTypes$1=["string","number","integer","boolean","null","object","array"],jsonTypes$1=new Set(_jsonTypes$1);function isJSONType$1(T){return typeof T=="string"&&jsonTypes$1.has(T)}var isJSONType_1$1=rules$5.isJSONType=isJSONType$1;function getRules$1(){const T={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...T,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},T.number,T.string,T.array,T.object],post:{rules:[]},all:{},keywords:{}}}getRules_1$1=rules$5.getRules=getRules$1;const rules$4=_mergeNamespaces({__proto__:null,default:rules$5,get getRules(){return getRules_1$1},get isJSONType(){return isJSONType_1$1}},[rules$5]);var applicability$3={};Object.defineProperty(applicability$3,"__esModule",{value:!0});var shouldUseRule_1$1=applicability$3.shouldUseRule=shouldUseGroup_1$1=applicability$3.shouldUseGroup=schemaHasRulesForType_1$1=applicability$3.schemaHasRulesForType=void 0;function schemaHasRulesForType$1({schema:T,self:$},I){const N=$.RULES.types[I];return N&&N!==!0&&shouldUseGroup$1(T,N)}var schemaHasRulesForType_1$1=applicability$3.schemaHasRulesForType=schemaHasRulesForType$1;function shouldUseGroup$1(T,$){return $.rules.some(I=>shouldUseRule$1(T,I))}var shouldUseGroup_1$1=applicability$3.shouldUseGroup=shouldUseGroup$1;function shouldUseRule$1(T,$){var I;return T[$.keyword]!==void 0||((I=$.definition.implements)===null||I===void 0?void 0:I.some(N=>T[N]!==void 0))}shouldUseRule_1$1=applicability$3.shouldUseRule=shouldUseRule$1;const applicability$2=_mergeNamespaces({__proto__:null,default:applicability$3,get schemaHasRulesForType(){return schemaHasRulesForType_1$1},get shouldUseGroup(){return shouldUseGroup_1$1},get shouldUseRule(){return shouldUseRule_1$1}},[applicability$3]);var DataType_1;Object.defineProperty(dataType$4,"__esModule",{value:!0});var reportTypeError_1=dataType$4.reportTypeError=checkDataTypes_1=dataType$4.checkDataTypes=checkDataType_1=dataType$4.checkDataType=coerceAndCheckDataType_1=dataType$4.coerceAndCheckDataType=getJSONTypes_1=dataType$4.getJSONTypes=getSchemaTypes_1=dataType$4.getSchemaTypes=DataType_1=dataType$4.DataType=void 0;const rules_1=rules$4,applicability_1$2=applicability$2,errors_1$5=errors$7,codegen_1$W=codegen$2,util_1$Q=util$a;var DataType;(function(T){T[T.Correct=0]="Correct",T[T.Wrong=1]="Wrong"})(DataType||(DataType_1=dataType$4.DataType=DataType={}));function getSchemaTypes(T){const $=getJSONTypes(T.type);if($.includes("null")){if(T.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!$.length&&T.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');T.nullable===!0&&$.push("null")}return $}var getSchemaTypes_1=dataType$4.getSchemaTypes=getSchemaTypes;function getJSONTypes(T){const $=Array.isArray(T)?T:T?[T]:[];if($.every(rules_1.isJSONType))return $;throw new Error("type must be JSONType or JSONType[]: "+$.join(","))}var getJSONTypes_1=dataType$4.getJSONTypes=getJSONTypes;function coerceAndCheckDataType(T,$){const{gen:I,data:N,opts:L}=T,B=coerceToTypes($,L.coerceTypes),H=$.length>0&&!(B.length===0&&$.length===1&&(0,applicability_1$2.schemaHasRulesForType)(T,$[0]));if(H){const z=checkDataTypes($,N,L.strictNumbers,DataType.Wrong);I.if(z,()=>{B.length?coerceData(T,$,B):reportTypeError(T)})}return H}var coerceAndCheckDataType_1=dataType$4.coerceAndCheckDataType=coerceAndCheckDataType;const COERCIBLE=new Set(["string","number","integer","boolean","null"]);function coerceToTypes(T,$){return $?T.filter(I=>COERCIBLE.has(I)||$==="array"&&I==="array"):[]}function coerceData(T,$,I){const{gen:N,data:L,opts:B}=T,H=N.let("dataType",(0,codegen_1$W._)`typeof ${L}`),z=N.let("coerced",(0,codegen_1$W._)`undefined`);B.coerceTypes==="array"&&N.if((0,codegen_1$W._)`${H} == 'object' && Array.isArray(${L}) && ${L}.length == 1`,()=>N.assign(L,(0,codegen_1$W._)`${L}[0]`).assign(H,(0,codegen_1$W._)`typeof ${L}`).if(checkDataTypes($,L,B.strictNumbers),()=>N.assign(z,L))),N.if((0,codegen_1$W._)`${z} !== undefined`);for(const te of I)(COERCIBLE.has(te)||te==="array"&&B.coerceTypes==="array")&&Q(te);N.else(),reportTypeError(T),N.endIf(),N.if((0,codegen_1$W._)`${z} !== undefined`,()=>{N.assign(L,z),assignParentData(T,z)});function Q(te){switch(te){case"string":N.elseIf((0,codegen_1$W._)`${H} == "number" || ${H} == "boolean"`).assign(z,(0,codegen_1$W._)`"" + ${L}`).elseIf((0,codegen_1$W._)`${L} === null`).assign(z,(0,codegen_1$W._)`""`);return;case"number":N.elseIf((0,codegen_1$W._)`${H} == "boolean" || ${L} === null
              || (${H} == "string" && ${L} && ${L} == +${L})`).assign(z,(0,codegen_1$W._)`+${L}`);return;case"integer":N.elseIf((0,codegen_1$W._)`${H} === "boolean" || ${L} === null
              || (${H} === "string" && ${L} && ${L} == +${L} && !(${L} % 1))`).assign(z,(0,codegen_1$W._)`+${L}`);return;case"boolean":N.elseIf((0,codegen_1$W._)`${L} === "false" || ${L} === 0 || ${L} === null`).assign(z,!1).elseIf((0,codegen_1$W._)`${L} === "true" || ${L} === 1`).assign(z,!0);return;case"null":N.elseIf((0,codegen_1$W._)`${L} === "" || ${L} === 0 || ${L} === false`),N.assign(z,null);return;case"array":N.elseIf((0,codegen_1$W._)`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${L} === null`).assign(z,(0,codegen_1$W._)`[${L}]`)}}}function assignParentData({gen:T,parentData:$,parentDataProperty:I},N){T.if((0,codegen_1$W._)`${$} !== undefined`,()=>T.assign((0,codegen_1$W._)`${$}[${I}]`,N))}function checkDataType(T,$,I,N=DataType.Correct){const L=N===DataType.Correct?codegen_1$W.operators.EQ:codegen_1$W.operators.NEQ;let B;switch(T){case"null":return(0,codegen_1$W._)`${$} ${L} null`;case"array":B=(0,codegen_1$W._)`Array.isArray(${$})`;break;case"object":B=(0,codegen_1$W._)`${$} && typeof ${$} == "object" && !Array.isArray(${$})`;break;case"integer":B=H((0,codegen_1$W._)`!(${$} % 1) && !isNaN(${$})`);break;case"number":B=H();break;default:return(0,codegen_1$W._)`typeof ${$} ${L} ${T}`}return N===DataType.Correct?B:(0,codegen_1$W.not)(B);function H(z=codegen_1$W.nil){return(0,codegen_1$W.and)((0,codegen_1$W._)`typeof ${$} == "number"`,z,I?(0,codegen_1$W._)`isFinite(${$})`:codegen_1$W.nil)}}var checkDataType_1=dataType$4.checkDataType=checkDataType;function checkDataTypes(T,$,I,N){if(T.length===1)return checkDataType(T[0],$,I,N);let L;const B=(0,util_1$Q.toHash)(T);if(B.array&&B.object){const H=(0,codegen_1$W._)`typeof ${$} != "object"`;L=B.null?H:(0,codegen_1$W._)`!${$} || ${H}`,delete B.null,delete B.array,delete B.object}else L=codegen_1$W.nil;B.number&&delete B.integer;for(const H in B)L=(0,codegen_1$W.and)(L,checkDataType(H,$,I,N));return L}var checkDataTypes_1=dataType$4.checkDataTypes=checkDataTypes;const typeError={message:({schema:T})=>`must be ${T}`,params:({schema:T,schemaValue:$})=>typeof T=="string"?(0,codegen_1$W._)`{type: ${T}}`:(0,codegen_1$W._)`{type: ${$}}`};function reportTypeError(T){const $=getTypeErrorContext(T);(0,errors_1$5.reportError)($,typeError)}reportTypeError_1=dataType$4.reportTypeError=reportTypeError;function getTypeErrorContext(T){const{gen:$,data:I,schema:N}=T,L=(0,util_1$Q.schemaRefOrVal)(T,N,"type");return{gen:$,keyword:"type",data:I,schema:N.type,schemaCode:L,schemaValue:L,parentSchema:N,params:{},it:T}}const dataType$3=_mergeNamespaces({__proto__:null,get DataType(){return DataType_1},get checkDataType(){return checkDataType_1},get checkDataTypes(){return checkDataTypes_1},get coerceAndCheckDataType(){return coerceAndCheckDataType_1},default:dataType$4,get getJSONTypes(){return getJSONTypes_1},get getSchemaTypes(){return getSchemaTypes_1},get reportTypeError(){return reportTypeError_1}},[dataType$4]);var defaults$3={};Object.defineProperty(defaults$3,"__esModule",{value:!0});var assignDefaults_1$1=defaults$3.assignDefaults=void 0;const codegen_1$V=codegen$2,util_1$P=util$a;function assignDefaults$1(T,$){const{properties:I,items:N}=T.schema;if($==="object"&&I)for(const L in I)assignDefault$1(T,L,I[L].default);else $==="array"&&Array.isArray(N)&&N.forEach((L,B)=>assignDefault$1(T,B,L.default))}assignDefaults_1$1=defaults$3.assignDefaults=assignDefaults$1;function assignDefault$1(T,$,I){const{gen:N,compositeRule:L,data:B,opts:H}=T;if(I===void 0)return;const z=(0,codegen_1$V._)`${B}${(0,codegen_1$V.getProperty)($)}`;if(L){(0,util_1$P.checkStrictMode)(T,`default is ignored for: ${z}`);return}let Q=(0,codegen_1$V._)`${z} === undefined`;H.useDefaults==="empty"&&(Q=(0,codegen_1$V._)`${Q} || ${z} === null || ${z} === ""`),N.if(Q,(0,codegen_1$V._)`${z} = ${(0,codegen_1$V.stringify)(I)}`)}const defaults$2=_mergeNamespaces({__proto__:null,get assignDefaults(){return assignDefaults_1$1},default:defaults$3},[defaults$3]);var keyword$3={},code$6={};Object.defineProperty(code$6,"__esModule",{value:!0});var validateUnion_1$1=code$6.validateUnion=validateArray_1$1=code$6.validateArray=usePattern_1$1=code$6.usePattern=callValidateCode_1$1=code$6.callValidateCode=schemaProperties_1$1=code$6.schemaProperties=allSchemaProperties_1$1=code$6.allSchemaProperties=noPropertyInData_1$1=code$6.noPropertyInData=propertyInData_1$1=code$6.propertyInData=isOwnProperty_1$1=code$6.isOwnProperty=hasPropFunc_1$1=code$6.hasPropFunc=reportMissingProp_1$1=code$6.reportMissingProp=checkMissingProp_1$1=code$6.checkMissingProp=checkReportMissingProp_1$1=code$6.checkReportMissingProp=void 0;const codegen_1$U=codegen$2,util_1$O=util$a,names_1$c=names$4,util_2$3=util$a;function checkReportMissingProp$1(T,$){const{gen:I,data:N,it:L}=T;I.if(noPropertyInData$1(I,N,$,L.opts.ownProperties),()=>{T.setParams({missingProperty:(0,codegen_1$U._)`${$}`},!0),T.error()})}var checkReportMissingProp_1$1=code$6.checkReportMissingProp=checkReportMissingProp$1;function checkMissingProp$1({gen:T,data:$,it:{opts:I}},N,L){return(0,codegen_1$U.or)(...N.map(B=>(0,codegen_1$U.and)(noPropertyInData$1(T,$,B,I.ownProperties),(0,codegen_1$U._)`${L} = ${B}`)))}var checkMissingProp_1$1=code$6.checkMissingProp=checkMissingProp$1;function reportMissingProp$1(T,$){T.setParams({missingProperty:$},!0),T.error()}var reportMissingProp_1$1=code$6.reportMissingProp=reportMissingProp$1;function hasPropFunc$1(T){return T.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,codegen_1$U._)`Object.prototype.hasOwnProperty`})}var hasPropFunc_1$1=code$6.hasPropFunc=hasPropFunc$1;function isOwnProperty$1(T,$,I){return(0,codegen_1$U._)`${hasPropFunc$1(T)}.call(${$}, ${I})`}var isOwnProperty_1$1=code$6.isOwnProperty=isOwnProperty$1;function propertyInData$1(T,$,I,N){const L=(0,codegen_1$U._)`${$}${(0,codegen_1$U.getProperty)(I)} !== undefined`;return N?(0,codegen_1$U._)`${L} && ${isOwnProperty$1(T,$,I)}`:L}var propertyInData_1$1=code$6.propertyInData=propertyInData$1;function noPropertyInData$1(T,$,I,N){const L=(0,codegen_1$U._)`${$}${(0,codegen_1$U.getProperty)(I)} === undefined`;return N?(0,codegen_1$U.or)(L,(0,codegen_1$U.not)(isOwnProperty$1(T,$,I))):L}var noPropertyInData_1$1=code$6.noPropertyInData=noPropertyInData$1;function allSchemaProperties$1(T){return T?Object.keys(T).filter($=>$!=="__proto__"):[]}var allSchemaProperties_1$1=code$6.allSchemaProperties=allSchemaProperties$1;function schemaProperties$1(T,$){return allSchemaProperties$1($).filter(I=>!(0,util_1$O.alwaysValidSchema)(T,$[I]))}var schemaProperties_1$1=code$6.schemaProperties=schemaProperties$1;function callValidateCode$1({schemaCode:T,data:$,it:{gen:I,topSchemaRef:N,schemaPath:L,errorPath:B},it:H},z,Q,te){const G=te?(0,codegen_1$U._)`${T}, ${$}, ${N}${L}`:$,ie=[[names_1$c.default.instancePath,(0,codegen_1$U.strConcat)(names_1$c.default.instancePath,B)],[names_1$c.default.parentData,H.parentData],[names_1$c.default.parentDataProperty,H.parentDataProperty],[names_1$c.default.rootData,names_1$c.default.rootData]];H.opts.dynamicRef&&ie.push([names_1$c.default.dynamicAnchors,names_1$c.default.dynamicAnchors]);const Re=(0,codegen_1$U._)`${G}, ${I.object(...ie)}`;return Q!==codegen_1$U.nil?(0,codegen_1$U._)`${z}.call(${Q}, ${Re})`:(0,codegen_1$U._)`${z}(${Re})`}var callValidateCode_1$1=code$6.callValidateCode=callValidateCode$1;const newRegExp$1=(0,codegen_1$U._)`new RegExp`;function usePattern$1({gen:T,it:{opts:$}},I){const N=$.unicodeRegExp?"u":"",{regExp:L}=$.code,B=L(I,N);return T.scopeValue("pattern",{key:B.toString(),ref:B,code:(0,codegen_1$U._)`${L.code==="new RegExp"?newRegExp$1:(0,util_2$3.useFunc)(T,L)}(${I}, ${N})`})}var usePattern_1$1=code$6.usePattern=usePattern$1;function validateArray$2(T){const{gen:$,data:I,keyword:N,it:L}=T,B=$.name("valid");if(L.allErrors){const z=$.let("valid",!0);return H(()=>$.assign(z,!1)),z}return $.var(B,!0),H(()=>$.break()),B;function H(z){const Q=$.const("len",(0,codegen_1$U._)`${I}.length`);$.forRange("i",0,Q,te=>{T.subschema({keyword:N,dataProp:te,dataPropType:util_1$O.Type.Num},B),$.if((0,codegen_1$U.not)(B),z)})}}var validateArray_1$1=code$6.validateArray=validateArray$2;function validateUnion$2(T){const{gen:$,schema:I,keyword:N,it:L}=T;if(!Array.isArray(I))throw new Error("ajv implementation error");if(I.some(Q=>(0,util_1$O.alwaysValidSchema)(L,Q))&&!L.opts.unevaluated)return;const H=$.let("valid",!1),z=$.name("_valid");$.block(()=>I.forEach((Q,te)=>{const G=T.subschema({keyword:N,schemaProp:te,compositeRule:!0},z);$.assign(H,(0,codegen_1$U._)`${H} || ${z}`),T.mergeValidEvaluated(G,z)||$.if((0,codegen_1$U.not)(H))})),T.result(H,()=>T.reset(),()=>T.error(!0))}validateUnion_1$1=code$6.validateUnion=validateUnion$2;const code$5=_mergeNamespaces({__proto__:null,get allSchemaProperties(){return allSchemaProperties_1$1},get callValidateCode(){return callValidateCode_1$1},get checkMissingProp(){return checkMissingProp_1$1},get checkReportMissingProp(){return checkReportMissingProp_1$1},default:code$6,get hasPropFunc(){return hasPropFunc_1$1},get isOwnProperty(){return isOwnProperty_1$1},get noPropertyInData(){return noPropertyInData_1$1},get propertyInData(){return propertyInData_1$1},get reportMissingProp(){return reportMissingProp_1$1},get schemaProperties(){return schemaProperties_1$1},get usePattern(){return usePattern_1$1},get validateArray(){return validateArray_1$1},get validateUnion(){return validateUnion_1$1}},[code$6]);Object.defineProperty(keyword$3,"__esModule",{value:!0});var validateKeywordUsage_1$1=keyword$3.validateKeywordUsage=validSchemaType_1$1=keyword$3.validSchemaType=funcKeywordCode_1$1=keyword$3.funcKeywordCode=macroKeywordCode_1$1=keyword$3.macroKeywordCode=void 0;const codegen_1$T=codegen$2,names_1$b=names$4,code_1$j=code$5,errors_1$4=errors$7;function macroKeywordCode$1(T,$){const{gen:I,keyword:N,schema:L,parentSchema:B,it:H}=T,z=$.macro.call(H.self,L,B,H),Q=useKeyword$1(I,N,z);H.opts.validateSchema!==!1&&H.self.validateSchema(z,!0);const te=I.name("valid");T.subschema({schema:z,schemaPath:codegen_1$T.nil,errSchemaPath:`${H.errSchemaPath}/${N}`,topSchemaRef:Q,compositeRule:!0},te),T.pass(te,()=>T.error(!0))}var macroKeywordCode_1$1=keyword$3.macroKeywordCode=macroKeywordCode$1;function funcKeywordCode$1(T,$){var I;const{gen:N,keyword:L,schema:B,parentSchema:H,$data:z,it:Q}=T;checkAsyncKeyword$1(Q,$);const te=!z&&$.compile?$.compile.call(Q.self,B,H,Q):$.validate,G=useKeyword$1(N,L,te),ie=N.let("valid");T.block$data(ie,Re),T.ok((I=$.valid)!==null&&I!==void 0?I:ie);function Re(){if($.errors===!1)Me(),$.modifying&&modifyData$1(T),Be(()=>T.error());else{const Ke=$.async?$e():Pe();$.modifying&&modifyData$1(T),Be(()=>addErrs$1(T,Ke))}}function $e(){const Ke=N.let("ruleErrs",null);return N.try(()=>Me((0,codegen_1$T._)`await `),Le=>N.assign(ie,!1).if((0,codegen_1$T._)`${Le} instanceof ${Q.ValidationError}`,()=>N.assign(Ke,(0,codegen_1$T._)`${Le}.errors`),()=>N.throw(Le))),Ke}function Pe(){const Ke=(0,codegen_1$T._)`${G}.errors`;return N.assign(Ke,null),Me(codegen_1$T.nil),Ke}function Me(Ke=$.async?(0,codegen_1$T._)`await `:codegen_1$T.nil){const Le=Q.opts.passContext?names_1$b.default.this:names_1$b.default.self,qe=!("compile"in $&&!z||$.schema===!1);N.assign(ie,(0,codegen_1$T._)`${Ke}${(0,code_1$j.callValidateCode)(T,G,Le,qe)}`,$.modifying)}function Be(Ke){var Le;N.if((0,codegen_1$T.not)((Le=$.valid)!==null&&Le!==void 0?Le:ie),Ke)}}var funcKeywordCode_1$1=keyword$3.funcKeywordCode=funcKeywordCode$1;function modifyData$1(T){const{gen:$,data:I,it:N}=T;$.if(N.parentData,()=>$.assign(I,(0,codegen_1$T._)`${N.parentData}[${N.parentDataProperty}]`))}function addErrs$1(T,$){const{gen:I}=T;I.if((0,codegen_1$T._)`Array.isArray(${$})`,()=>{I.assign(names_1$b.default.vErrors,(0,codegen_1$T._)`${names_1$b.default.vErrors} === null ? ${$} : ${names_1$b.default.vErrors}.concat(${$})`).assign(names_1$b.default.errors,(0,codegen_1$T._)`${names_1$b.default.vErrors}.length`),(0,errors_1$4.extendErrors)(T)},()=>T.error())}function checkAsyncKeyword$1({schemaEnv:T},$){if($.async&&!T.$async)throw new Error("async keyword in sync schema")}function useKeyword$1(T,$,I){if(I===void 0)throw new Error(`keyword "${$}" failed to compile`);return T.scopeValue("keyword",typeof I=="function"?{ref:I}:{ref:I,code:(0,codegen_1$T.stringify)(I)})}function validSchemaType$1(T,$,I=!1){return!$.length||$.some(N=>N==="array"?Array.isArray(T):N==="object"?T&&typeof T=="object"&&!Array.isArray(T):typeof T==N||I&&typeof T>"u")}var validSchemaType_1$1=keyword$3.validSchemaType=validSchemaType$1;function validateKeywordUsage$1({schema:T,opts:$,self:I,errSchemaPath:N},L,B){if(Array.isArray(L.keyword)?!L.keyword.includes(B):L.keyword!==B)throw new Error("ajv implementation error");const H=L.dependencies;if(H!=null&&H.some(z=>!Object.prototype.hasOwnProperty.call(T,z)))throw new Error(`parent schema must have dependencies of ${B}: ${H.join(",")}`);if(L.validateSchema&&!L.validateSchema(T[B])){const Q=`keyword "${B}" value is invalid at path "${N}": `+I.errorsText(L.validateSchema.errors);if($.validateSchema==="log")I.logger.error(Q);else throw new Error(Q)}}validateKeywordUsage_1$1=keyword$3.validateKeywordUsage=validateKeywordUsage$1;const keyword$2=_mergeNamespaces({__proto__:null,default:keyword$3,get funcKeywordCode(){return funcKeywordCode_1$1},get macroKeywordCode(){return macroKeywordCode_1$1},get validSchemaType(){return validSchemaType_1$1},get validateKeywordUsage(){return validateKeywordUsage_1$1}},[keyword$3]);var subschema$3={};Object.defineProperty(subschema$3,"__esModule",{value:!0});var extendSubschemaMode_1$1=subschema$3.extendSubschemaMode=extendSubschemaData_1$1=subschema$3.extendSubschemaData=getSubschema_1$1=subschema$3.getSubschema=void 0;const codegen_1$S=codegen$2,util_1$N=util$a;function getSubschema$1(T,{keyword:$,schemaProp:I,schema:N,schemaPath:L,errSchemaPath:B,topSchemaRef:H}){if($!==void 0&&N!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if($!==void 0){const z=T.schema[$];return I===void 0?{schema:z,schemaPath:(0,codegen_1$S._)`${T.schemaPath}${(0,codegen_1$S.getProperty)($)}`,errSchemaPath:`${T.errSchemaPath}/${$}`}:{schema:z[I],schemaPath:(0,codegen_1$S._)`${T.schemaPath}${(0,codegen_1$S.getProperty)($)}${(0,codegen_1$S.getProperty)(I)}`,errSchemaPath:`${T.errSchemaPath}/${$}/${(0,util_1$N.escapeFragment)(I)}`}}if(N!==void 0){if(L===void 0||B===void 0||H===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:N,schemaPath:L,topSchemaRef:H,errSchemaPath:B}}throw new Error('either "keyword" or "schema" must be passed')}var getSubschema_1$1=subschema$3.getSubschema=getSubschema$1;function extendSubschemaData$1(T,$,{dataProp:I,dataPropType:N,data:L,dataTypes:B,propertyName:H}){if(L!==void 0&&I!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:z}=$;if(I!==void 0){const{errorPath:te,dataPathArr:G,opts:ie}=$,Re=z.let("data",(0,codegen_1$S._)`${$.data}${(0,codegen_1$S.getProperty)(I)}`,!0);Q(Re),T.errorPath=(0,codegen_1$S.str)`${te}${(0,util_1$N.getErrorPath)(I,N,ie.jsPropertySyntax)}`,T.parentDataProperty=(0,codegen_1$S._)`${I}`,T.dataPathArr=[...G,T.parentDataProperty]}if(L!==void 0){const te=L instanceof codegen_1$S.Name?L:z.let("data",L,!0);Q(te),H!==void 0&&(T.propertyName=H)}B&&(T.dataTypes=B);function Q(te){T.data=te,T.dataLevel=$.dataLevel+1,T.dataTypes=[],$.definedProperties=new Set,T.parentData=$.data,T.dataNames=[...$.dataNames,te]}}var extendSubschemaData_1$1=subschema$3.extendSubschemaData=extendSubschemaData$1;function extendSubschemaMode$1(T,{jtdDiscriminator:$,jtdMetadata:I,compositeRule:N,createErrors:L,allErrors:B}){N!==void 0&&(T.compositeRule=N),L!==void 0&&(T.createErrors=L),B!==void 0&&(T.allErrors=B),T.jtdDiscriminator=$,T.jtdMetadata=I}extendSubschemaMode_1$1=subschema$3.extendSubschemaMode=extendSubschemaMode$1;const subschema$2=_mergeNamespaces({__proto__:null,default:subschema$3,get extendSubschemaData(){return extendSubschemaData_1$1},get extendSubschemaMode(){return extendSubschemaMode_1$1},get getSubschema(){return getSubschema_1$1}},[subschema$3]);var resolve$6={},jsonSchemaTraverse$1={exports:{}},traverse$2=jsonSchemaTraverse$1.exports=function(T,$,I){typeof $=="function"&&(I=$,$={}),I=$.cb||I;var N=typeof I=="function"?I:I.pre||function(){},L=I.post||function(){};_traverse($,N,L,T,"",T)};traverse$2.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};traverse$2.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};traverse$2.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};traverse$2.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _traverse(T,$,I,N,L,B,H,z,Q,te){if(N&&typeof N=="object"&&!Array.isArray(N)){$(N,L,B,H,z,Q,te);for(var G in N){var ie=N[G];if(Array.isArray(ie)){if(G in traverse$2.arrayKeywords)for(var Re=0;Re<ie.length;Re++)_traverse(T,$,I,ie[Re],L+"/"+G+"/"+Re,B,L,G,N,Re)}else if(G in traverse$2.propsKeywords){if(ie&&typeof ie=="object")for(var $e in ie)_traverse(T,$,I,ie[$e],L+"/"+G+"/"+escapeJsonPtr($e),B,L,G,N,$e)}else(G in traverse$2.keywords||T.allKeys&&!(G in traverse$2.skipKeywords))&&_traverse(T,$,I,ie,L+"/"+G,B,L,G,N)}I(N,L,B,H,z,Q,te)}}function escapeJsonPtr(T){return T.replace(/~/g,"~0").replace(/\//g,"~1")}var jsonSchemaTraverseExports=jsonSchemaTraverse$1.exports;const index$j=getDefaultExportFromCjs$1(jsonSchemaTraverseExports),jsonSchemaTraverse=_mergeNamespaces({__proto__:null,default:index$j},[jsonSchemaTraverseExports]);Object.defineProperty(resolve$6,"__esModule",{value:!0});var getSchemaRefs_1$1=resolve$6.getSchemaRefs=resolveUrl_1$1=resolve$6.resolveUrl=normalizeId_1$1=resolve$6.normalizeId=_getFullPath_1$1=resolve$6._getFullPath=getFullPath_1$1=resolve$6.getFullPath=inlineRef_1$1=resolve$6.inlineRef=void 0;const util_1$M=util$a,equal$2=fastDeepEqual$1,traverse$1=jsonSchemaTraverse,SIMPLE_INLINED$1=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef$1(T,$=!0){return typeof T=="boolean"?!0:$===!0?!hasRef$1(T):$?countKeys$1(T)<=$:!1}var inlineRef_1$1=resolve$6.inlineRef=inlineRef$1;const REF_KEYWORDS$1=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef$1(T){for(const $ in T){if(REF_KEYWORDS$1.has($))return!0;const I=T[$];if(Array.isArray(I)&&I.some(hasRef$1)||typeof I=="object"&&hasRef$1(I))return!0}return!1}function countKeys$1(T){let $=0;for(const I in T){if(I==="$ref")return 1/0;if($++,!SIMPLE_INLINED$1.has(I)&&(typeof T[I]=="object"&&(0,util_1$M.eachItem)(T[I],N=>$+=countKeys$1(N)),$===1/0))return 1/0}return $}function getFullPath$1(T,$="",I){I!==!1&&($=normalizeId$1($));const N=T.parse($);return _getFullPath$1(T,N)}var getFullPath_1$1=resolve$6.getFullPath=getFullPath$1;function _getFullPath$1(T,$){return T.serialize($).split("#")[0]+"#"}var _getFullPath_1$1=resolve$6._getFullPath=_getFullPath$1;const TRAILING_SLASH_HASH$1=/#\/?$/;function normalizeId$1(T){return T?T.replace(TRAILING_SLASH_HASH$1,""):""}var normalizeId_1$1=resolve$6.normalizeId=normalizeId$1;function resolveUrl$1(T,$,I){return I=normalizeId$1(I),T.resolve($,I)}var resolveUrl_1$1=resolve$6.resolveUrl=resolveUrl$1;const ANCHOR$1=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs$1(T,$){if(typeof T=="boolean")return{};const{schemaId:I,uriResolver:N}=this.opts,L=normalizeId$1(T[I]||$),B={"":L},H=getFullPath$1(N,L,!1),z={},Q=new Set;return traverse$1(T,{allKeys:!0},(ie,Re,$e,Pe)=>{if(Pe===void 0)return;const Me=H+Re;let Be=B[Pe];typeof ie[I]=="string"&&(Be=Ke.call(this,ie[I])),Le.call(this,ie.$anchor),Le.call(this,ie.$dynamicAnchor),B[Re]=Be;function Ke(qe){const He=this.opts.uriResolver.resolve;if(qe=normalizeId$1(Be?He(Be,qe):qe),Q.has(qe))throw G(qe);Q.add(qe);let Ge=this.refs[qe];return typeof Ge=="string"&&(Ge=this.refs[Ge]),typeof Ge=="object"?te(ie,Ge.schema,qe):qe!==normalizeId$1(Me)&&(qe[0]==="#"?(te(ie,z[qe],qe),z[qe]=ie):this.refs[qe]=Me),qe}function Le(qe){if(typeof qe=="string"){if(!ANCHOR$1.test(qe))throw new Error(`invalid anchor "${qe}"`);Ke.call(this,`#${qe}`)}}}),z;function te(ie,Re,$e){if(Re!==void 0&&!equal$2(ie,Re))throw G($e)}function G(ie){return new Error(`reference "${ie}" resolves to more than one schema`)}}getSchemaRefs_1$1=resolve$6.getSchemaRefs=getSchemaRefs$1;const resolve$5=_mergeNamespaces({__proto__:null,get _getFullPath(){return _getFullPath_1$1},default:resolve$6,get getFullPath(){return getFullPath_1$1},get getSchemaRefs(){return getSchemaRefs_1$1},get inlineRef(){return inlineRef_1$1},get normalizeId(){return normalizeId_1$1},get resolveUrl(){return resolveUrl_1$1}},[resolve$6]);Object.defineProperty(validate$4,"__esModule",{value:!0});var getData_1$1=validate$4.getData=KeywordCxt_1$1=validate$4.KeywordCxt=validateFunctionCode_1$1=validate$4.validateFunctionCode=void 0;const boolSchema_1$1=boolSchema$2,dataType_1$3=dataType$3,applicability_1$1=applicability$2,dataType_2$1=dataType$3,defaults_1$1=defaults$2,keyword_1$1=keyword$2,subschema_1$1=subschema$2,codegen_1$R=codegen$2,names_1$a=names$4,resolve_1$5=resolve$5,util_1$L=util$a,errors_1$3=errors$7;function validateFunctionCode$1(T){if(isSchemaObj$1(T)&&(checkKeywords$1(T),schemaCxtHasRules$1(T))){topSchemaObjCode$1(T);return}validateFunction$4(T,()=>(0,boolSchema_1$1.topBoolOrEmptySchema)(T))}var validateFunctionCode_1$1=validate$4.validateFunctionCode=validateFunctionCode$1;function validateFunction$4({gen:T,validateName:$,schema:I,schemaEnv:N,opts:L},B){L.code.es5?T.func($,(0,codegen_1$R._)`${names_1$a.default.data}, ${names_1$a.default.valCxt}`,N.$async,()=>{T.code((0,codegen_1$R._)`"use strict"; ${funcSourceUrl$1(I,L)}`),destructureValCxtES5$1(T,L),T.code(B)}):T.func($,(0,codegen_1$R._)`${names_1$a.default.data}, ${destructureValCxt$1(L)}`,N.$async,()=>T.code(funcSourceUrl$1(I,L)).code(B))}function destructureValCxt$1(T){return(0,codegen_1$R._)`{${names_1$a.default.instancePath}="", ${names_1$a.default.parentData}, ${names_1$a.default.parentDataProperty}, ${names_1$a.default.rootData}=${names_1$a.default.data}${T.dynamicRef?(0,codegen_1$R._)`, ${names_1$a.default.dynamicAnchors}={}`:codegen_1$R.nil}}={}`}function destructureValCxtES5$1(T,$){T.if(names_1$a.default.valCxt,()=>{T.var(names_1$a.default.instancePath,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.instancePath}`),T.var(names_1$a.default.parentData,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.parentData}`),T.var(names_1$a.default.parentDataProperty,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.parentDataProperty}`),T.var(names_1$a.default.rootData,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.rootData}`),$.dynamicRef&&T.var(names_1$a.default.dynamicAnchors,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.dynamicAnchors}`)},()=>{T.var(names_1$a.default.instancePath,(0,codegen_1$R._)`""`),T.var(names_1$a.default.parentData,(0,codegen_1$R._)`undefined`),T.var(names_1$a.default.parentDataProperty,(0,codegen_1$R._)`undefined`),T.var(names_1$a.default.rootData,names_1$a.default.data),$.dynamicRef&&T.var(names_1$a.default.dynamicAnchors,(0,codegen_1$R._)`{}`)})}function topSchemaObjCode$1(T){const{schema:$,opts:I,gen:N}=T;validateFunction$4(T,()=>{I.$comment&&$.$comment&&commentKeyword$1(T),checkNoDefault$1(T),N.let(names_1$a.default.vErrors,null),N.let(names_1$a.default.errors,0),I.unevaluated&&resetEvaluated$1(T),typeAndKeywords$1(T),returnResults$1(T)})}function resetEvaluated$1(T){const{gen:$,validateName:I}=T;T.evaluated=$.const("evaluated",(0,codegen_1$R._)`${I}.evaluated`),$.if((0,codegen_1$R._)`${T.evaluated}.dynamicProps`,()=>$.assign((0,codegen_1$R._)`${T.evaluated}.props`,(0,codegen_1$R._)`undefined`)),$.if((0,codegen_1$R._)`${T.evaluated}.dynamicItems`,()=>$.assign((0,codegen_1$R._)`${T.evaluated}.items`,(0,codegen_1$R._)`undefined`))}function funcSourceUrl$1(T,$){const I=typeof T=="object"&&T[$.schemaId];return I&&($.code.source||$.code.process)?(0,codegen_1$R._)`/*# sourceURL=${I} */`:codegen_1$R.nil}function subschemaCode$1(T,$){if(isSchemaObj$1(T)&&(checkKeywords$1(T),schemaCxtHasRules$1(T))){subSchemaObjCode$1(T,$);return}(0,boolSchema_1$1.boolOrEmptySchema)(T,$)}function schemaCxtHasRules$1({schema:T,self:$}){if(typeof T=="boolean")return!T;for(const I in T)if($.RULES.all[I])return!0;return!1}function isSchemaObj$1(T){return typeof T.schema!="boolean"}function subSchemaObjCode$1(T,$){const{schema:I,gen:N,opts:L}=T;L.$comment&&I.$comment&&commentKeyword$1(T),updateContext$1(T),checkAsyncSchema$1(T);const B=N.const("_errs",names_1$a.default.errors);typeAndKeywords$1(T,B),N.var($,(0,codegen_1$R._)`${B} === ${names_1$a.default.errors}`)}function checkKeywords$1(T){(0,util_1$L.checkUnknownRules)(T),checkRefsAndKeywords$1(T)}function typeAndKeywords$1(T,$){if(T.opts.jtd)return schemaKeywords$1(T,[],!1,$);const I=(0,dataType_1$3.getSchemaTypes)(T.schema),N=(0,dataType_1$3.coerceAndCheckDataType)(T,I);schemaKeywords$1(T,I,!N,$)}function checkRefsAndKeywords$1(T){const{schema:$,errSchemaPath:I,opts:N,self:L}=T;$.$ref&&N.ignoreKeywordsWithRef&&(0,util_1$L.schemaHasRulesButRef)($,L.RULES)&&L.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function checkNoDefault$1(T){const{schema:$,opts:I}=T;$.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,util_1$L.checkStrictMode)(T,"default is ignored in the schema root")}function updateContext$1(T){const $=T.schema[T.opts.schemaId];$&&(T.baseId=(0,resolve_1$5.resolveUrl)(T.opts.uriResolver,T.baseId,$))}function checkAsyncSchema$1(T){if(T.schema.$async&&!T.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword$1({gen:T,schemaEnv:$,schema:I,errSchemaPath:N,opts:L}){const B=I.$comment;if(L.$comment===!0)T.code((0,codegen_1$R._)`${names_1$a.default.self}.logger.log(${B})`);else if(typeof L.$comment=="function"){const H=(0,codegen_1$R.str)`${N}/$comment`,z=T.scopeValue("root",{ref:$.root});T.code((0,codegen_1$R._)`${names_1$a.default.self}.opts.$comment(${B}, ${H}, ${z}.schema)`)}}function returnResults$1(T){const{gen:$,schemaEnv:I,validateName:N,ValidationError:L,opts:B}=T;I.$async?$.if((0,codegen_1$R._)`${names_1$a.default.errors} === 0`,()=>$.return(names_1$a.default.data),()=>$.throw((0,codegen_1$R._)`new ${L}(${names_1$a.default.vErrors})`)):($.assign((0,codegen_1$R._)`${N}.errors`,names_1$a.default.vErrors),B.unevaluated&&assignEvaluated$1(T),$.return((0,codegen_1$R._)`${names_1$a.default.errors} === 0`))}function assignEvaluated$1({gen:T,evaluated:$,props:I,items:N}){I instanceof codegen_1$R.Name&&T.assign((0,codegen_1$R._)`${$}.props`,I),N instanceof codegen_1$R.Name&&T.assign((0,codegen_1$R._)`${$}.items`,N)}function schemaKeywords$1(T,$,I,N){const{gen:L,schema:B,data:H,allErrors:z,opts:Q,self:te}=T,{RULES:G}=te;if(B.$ref&&(Q.ignoreKeywordsWithRef||!(0,util_1$L.schemaHasRulesButRef)(B,G))){L.block(()=>keywordCode$1(T,"$ref",G.all.$ref.definition));return}Q.jtd||checkStrictTypes$1(T,$),L.block(()=>{for(const Re of G.rules)ie(Re);ie(G.post)});function ie(Re){(0,applicability_1$1.shouldUseGroup)(B,Re)&&(Re.type?(L.if((0,dataType_2$1.checkDataType)(Re.type,H,Q.strictNumbers)),iterateKeywords$1(T,Re),$.length===1&&$[0]===Re.type&&I&&(L.else(),(0,dataType_2$1.reportTypeError)(T)),L.endIf()):iterateKeywords$1(T,Re),z||L.if((0,codegen_1$R._)`${names_1$a.default.errors} === ${N||0}`))}}function iterateKeywords$1(T,$){const{gen:I,schema:N,opts:{useDefaults:L}}=T;L&&(0,defaults_1$1.assignDefaults)(T,$.type),I.block(()=>{for(const B of $.rules)(0,applicability_1$1.shouldUseRule)(N,B)&&keywordCode$1(T,B.keyword,B.definition,$.type)})}function checkStrictTypes$1(T,$){T.schemaEnv.meta||!T.opts.strictTypes||(checkContextTypes$1(T,$),T.opts.allowUnionTypes||checkMultipleTypes$1(T,$),checkKeywordTypes$1(T,T.dataTypes))}function checkContextTypes$1(T,$){if($.length){if(!T.dataTypes.length){T.dataTypes=$;return}$.forEach(I=>{includesType$1(T.dataTypes,I)||strictTypesError$1(T,`type "${I}" not allowed by context "${T.dataTypes.join(",")}"`)}),narrowSchemaTypes$1(T,$)}}function checkMultipleTypes$1(T,$){$.length>1&&!($.length===2&&$.includes("null"))&&strictTypesError$1(T,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes$1(T,$){const I=T.self.RULES.all;for(const N in I){const L=I[N];if(typeof L=="object"&&(0,applicability_1$1.shouldUseRule)(T.schema,L)){const{type:B}=L.definition;B.length&&!B.some(H=>hasApplicableType$1($,H))&&strictTypesError$1(T,`missing type "${B.join(",")}" for keyword "${N}"`)}}}function hasApplicableType$1(T,$){return T.includes($)||$==="number"&&T.includes("integer")}function includesType$1(T,$){return T.includes($)||$==="integer"&&T.includes("number")}function narrowSchemaTypes$1(T,$){const I=[];for(const N of T.dataTypes)includesType$1($,N)?I.push(N):$.includes("integer")&&N==="number"&&I.push("integer");T.dataTypes=I}function strictTypesError$1(T,$){const I=T.schemaEnv.baseId+T.errSchemaPath;$+=` at "${I}" (strictTypes)`,(0,util_1$L.checkStrictMode)(T,$,T.opts.strictTypes)}let KeywordCxt$1=class{constructor($,I,N){if((0,keyword_1$1.validateKeywordUsage)($,I,N),this.gen=$.gen,this.allErrors=$.allErrors,this.keyword=N,this.data=$.data,this.schema=$.schema[N],this.$data=I.$data&&$.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1$L.schemaRefOrVal)($,this.schema,N,this.$data),this.schemaType=I.schemaType,this.parentSchema=$.schema,this.params={},this.it=$,this.def=I,this.$data)this.schemaCode=$.gen.const("vSchema",getData$1(this.$data,$));else if(this.schemaCode=this.schemaValue,!(0,keyword_1$1.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${N} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=$.gen.const("_errs",names_1$a.default.errors))}result($,I,N){this.failResult((0,codegen_1$R.not)($),I,N)}failResult($,I,N){this.gen.if($),N?N():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass($,I){this.failResult((0,codegen_1$R.not)($),void 0,I)}fail($){if($===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if($),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data($){if(!this.$data)return this.fail($);const{schemaCode:I}=this;this.fail((0,codegen_1$R._)`${I} !== undefined && (${(0,codegen_1$R.or)(this.invalid$data(),$)})`)}error($,I,N){if(I){this.setParams(I),this._error($,N),this.setParams({});return}this._error($,N)}_error($,I){($?errors_1$3.reportExtraError:errors_1$3.reportError)(this,this.def.error,I)}$dataError(){(0,errors_1$3.reportError)(this,this.def.$dataError||errors_1$3.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,errors_1$3.resetErrorsCount)(this.gen,this.errsCount)}ok($){this.allErrors||this.gen.if($)}setParams($,I){I?Object.assign(this.params,$):this.params=$}block$data($,I,N=codegen_1$R.nil){this.gen.block(()=>{this.check$data($,N),I()})}check$data($=codegen_1$R.nil,I=codegen_1$R.nil){if(!this.$data)return;const{gen:N,schemaCode:L,schemaType:B,def:H}=this;N.if((0,codegen_1$R.or)((0,codegen_1$R._)`${L} === undefined`,I)),$!==codegen_1$R.nil&&N.assign($,!0),(B.length||H.validateSchema)&&(N.elseIf(this.invalid$data()),this.$dataError(),$!==codegen_1$R.nil&&N.assign($,!1)),N.else()}invalid$data(){const{gen:$,schemaCode:I,schemaType:N,def:L,it:B}=this;return(0,codegen_1$R.or)(H(),z());function H(){if(N.length){if(!(I instanceof codegen_1$R.Name))throw new Error("ajv implementation error");const Q=Array.isArray(N)?N:[N];return(0,codegen_1$R._)`${(0,dataType_2$1.checkDataTypes)(Q,I,B.opts.strictNumbers,dataType_2$1.DataType.Wrong)}`}return codegen_1$R.nil}function z(){if(L.validateSchema){const Q=$.scopeValue("validate$data",{ref:L.validateSchema});return(0,codegen_1$R._)`!${Q}(${I})`}return codegen_1$R.nil}}subschema($,I){const N=(0,subschema_1$1.getSubschema)(this.it,$);(0,subschema_1$1.extendSubschemaData)(N,this.it,$),(0,subschema_1$1.extendSubschemaMode)(N,$);const L={...this.it,...N,items:void 0,props:void 0};return subschemaCode$1(L,I),L}mergeEvaluated($,I){const{it:N,gen:L}=this;N.opts.unevaluated&&(N.props!==!0&&$.props!==void 0&&(N.props=util_1$L.mergeEvaluated.props(L,$.props,N.props,I)),N.items!==!0&&$.items!==void 0&&(N.items=util_1$L.mergeEvaluated.items(L,$.items,N.items,I)))}mergeValidEvaluated($,I){const{it:N,gen:L}=this;if(N.opts.unevaluated&&(N.props!==!0||N.items!==!0))return L.if(I,()=>this.mergeEvaluated($,codegen_1$R.Name)),!0}};var KeywordCxt_1$1=validate$4.KeywordCxt=KeywordCxt$1;function keywordCode$1(T,$,I,N){const L=new KeywordCxt$1(T,I,$);"code"in I?I.code(L,N):L.$data&&I.validate?(0,keyword_1$1.funcKeywordCode)(L,I):"macro"in I?(0,keyword_1$1.macroKeywordCode)(L,I):(I.compile||I.validate)&&(0,keyword_1$1.funcKeywordCode)(L,I)}const JSON_POINTER$1=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER$1=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData$1(T,{dataLevel:$,dataNames:I,dataPathArr:N}){let L,B;if(T==="")return names_1$a.default.rootData;if(T[0]==="/"){if(!JSON_POINTER$1.test(T))throw new Error(`Invalid JSON-pointer: ${T}`);L=T,B=names_1$a.default.rootData}else{const te=RELATIVE_JSON_POINTER$1.exec(T);if(!te)throw new Error(`Invalid JSON-pointer: ${T}`);const G=+te[1];if(L=te[2],L==="#"){if(G>=$)throw new Error(Q("property/index",G));return N[$-G]}if(G>$)throw new Error(Q("data",G));if(B=I[$-G],!L)return B}let H=B;const z=L.split("/");for(const te of z)te&&(B=(0,codegen_1$R._)`${B}${(0,codegen_1$R.getProperty)((0,util_1$L.unescapeJsonPointer)(te))}`,H=(0,codegen_1$R._)`${H} && ${B}`);return H;function Q(te,G){return`Cannot access ${te} ${G} levels up, current level is ${$}`}}getData_1$1=validate$4.getData=getData$1;const validate$3=_mergeNamespaces({__proto__:null,get KeywordCxt(){return KeywordCxt_1$1},default:validate$4,get getData(){return getData_1$1},get validateFunctionCode(){return validateFunctionCode_1$1}},[validate$4]);var validation_error$3={};Object.defineProperty(validation_error$3,"__esModule",{value:!0});let ValidationError$2=class extends Error{constructor($){super("validation failed"),this.errors=$,this.ajv=this.validation=!0}};var _default$1c=validation_error$3.default=ValidationError$2;const validation_error$2=_mergeNamespaces({__proto__:null,default:_default$1c},[validation_error$3]);var ref_error$3={};Object.defineProperty(ref_error$3,"__esModule",{value:!0});const resolve_1$4=resolve$5;let MissingRefError$1=class extends Error{constructor($,I,N,L){super(L||`can't resolve reference ${N} from id ${I}`),this.missingRef=(0,resolve_1$4.resolveUrl)($,I,N),this.missingSchema=(0,resolve_1$4.normalizeId)((0,resolve_1$4.getFullPath)($,this.missingRef))}};var _default$1b=ref_error$3.default=MissingRefError$1;const ref_error$2=_mergeNamespaces({__proto__:null,default:_default$1b},[ref_error$3]);var compile$3={};Object.defineProperty(compile$3,"__esModule",{value:!0});var resolveSchema_1$1=compile$3.resolveSchema=getCompilingSchema_1$1=compile$3.getCompilingSchema=resolveRef_1$1=compile$3.resolveRef=compileSchema_1$1=compile$3.compileSchema=SchemaEnv_1$1=compile$3.SchemaEnv=void 0;const codegen_1$Q=codegen$2,validation_error_1$1=validation_error$2,names_1$9=names$4,resolve_1$3=resolve$5,util_1$K=util$a,validate_1$3=validate$3;let SchemaEnv$1=class{constructor($){var I;this.refs={},this.dynamicAnchors={};let N;typeof $.schema=="object"&&(N=$.schema),this.schema=$.schema,this.schemaId=$.schemaId,this.root=$.root||this,this.baseId=(I=$.baseId)!==null&&I!==void 0?I:(0,resolve_1$3.normalizeId)(N==null?void 0:N[$.schemaId||"$id"]),this.schemaPath=$.schemaPath,this.localRefs=$.localRefs,this.meta=$.meta,this.$async=N==null?void 0:N.$async,this.refs={}}};var SchemaEnv_1$1=compile$3.SchemaEnv=SchemaEnv$1;function compileSchema$1(T){const $=getCompilingSchema$1.call(this,T);if($)return $;const I=(0,resolve_1$3.getFullPath)(this.opts.uriResolver,T.root.baseId),{es5:N,lines:L}=this.opts.code,{ownProperties:B}=this.opts,H=new codegen_1$Q.CodeGen(this.scope,{es5:N,lines:L,ownProperties:B});let z;T.$async&&(z=H.scopeValue("Error",{ref:validation_error_1$1.default,code:(0,codegen_1$Q._)`require("ajv/dist/runtime/validation_error").default`}));const Q=H.scopeName("validate");T.validateName=Q;const te={gen:H,allErrors:this.opts.allErrors,data:names_1$9.default.data,parentData:names_1$9.default.parentData,parentDataProperty:names_1$9.default.parentDataProperty,dataNames:[names_1$9.default.data],dataPathArr:[codegen_1$Q.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:H.scopeValue("schema",this.opts.code.source===!0?{ref:T.schema,code:(0,codegen_1$Q.stringify)(T.schema)}:{ref:T.schema}),validateName:Q,ValidationError:z,schema:T.schema,schemaEnv:T,rootId:I,baseId:T.baseId||I,schemaPath:codegen_1$Q.nil,errSchemaPath:T.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,codegen_1$Q._)`""`,opts:this.opts,self:this};let G;try{this._compilations.add(T),(0,validate_1$3.validateFunctionCode)(te),H.optimize(this.opts.code.optimize);const ie=H.toString();G=`${H.scopeRefs(names_1$9.default.scope)}return ${ie}`,this.opts.code.process&&(G=this.opts.code.process(G,T));const $e=new Function(`${names_1$9.default.self}`,`${names_1$9.default.scope}`,G)(this,this.scope.get());if(this.scope.value(Q,{ref:$e}),$e.errors=null,$e.schema=T.schema,$e.schemaEnv=T,T.$async&&($e.$async=!0),this.opts.code.source===!0&&($e.source={validateName:Q,validateCode:ie,scopeValues:H._values}),this.opts.unevaluated){const{props:Pe,items:Me}=te;$e.evaluated={props:Pe instanceof codegen_1$Q.Name?void 0:Pe,items:Me instanceof codegen_1$Q.Name?void 0:Me,dynamicProps:Pe instanceof codegen_1$Q.Name,dynamicItems:Me instanceof codegen_1$Q.Name},$e.source&&($e.source.evaluated=(0,codegen_1$Q.stringify)($e.evaluated))}return T.validate=$e,T}catch(ie){throw delete T.validate,delete T.validateName,G&&this.logger.error("Error compiling schema, function code:",G),ie}finally{this._compilations.delete(T)}}var compileSchema_1$1=compile$3.compileSchema=compileSchema$1;function resolveRef$1(T,$,I){var N;I=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,$,I);const L=T.refs[I];if(L)return L;let B=resolve$4.call(this,T,I);if(B===void 0){const H=(N=T.localRefs)===null||N===void 0?void 0:N[I],{schemaId:z}=this.opts;H&&(B=new SchemaEnv$1({schema:H,schemaId:z,root:T,baseId:$}))}if(B!==void 0)return T.refs[I]=inlineOrCompile$1.call(this,B)}var resolveRef_1$1=compile$3.resolveRef=resolveRef$1;function inlineOrCompile$1(T){return(0,resolve_1$3.inlineRef)(T.schema,this.opts.inlineRefs)?T.schema:T.validate?T:compileSchema$1.call(this,T)}function getCompilingSchema$1(T){for(const $ of this._compilations)if(sameSchemaEnv$1($,T))return $}var getCompilingSchema_1$1=compile$3.getCompilingSchema=getCompilingSchema$1;function sameSchemaEnv$1(T,$){return T.schema===$.schema&&T.root===$.root&&T.baseId===$.baseId}function resolve$4(T,$){let I;for(;typeof(I=this.refs[$])=="string";)$=I;return I||this.schemas[$]||resolveSchema$1.call(this,T,$)}function resolveSchema$1(T,$){const I=this.opts.uriResolver.parse($),N=(0,resolve_1$3._getFullPath)(this.opts.uriResolver,I);let L=(0,resolve_1$3.getFullPath)(this.opts.uriResolver,T.baseId,void 0);if(Object.keys(T.schema).length>0&&N===L)return getJsonPointer$1.call(this,I,T);const B=(0,resolve_1$3.normalizeId)(N),H=this.refs[B]||this.schemas[B];if(typeof H=="string"){const z=resolveSchema$1.call(this,T,H);return typeof(z==null?void 0:z.schema)!="object"?void 0:getJsonPointer$1.call(this,I,z)}if(typeof(H==null?void 0:H.schema)=="object"){if(H.validate||compileSchema$1.call(this,H),B===(0,resolve_1$3.normalizeId)($)){const{schema:z}=H,{schemaId:Q}=this.opts,te=z[Q];return te&&(L=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,L,te)),new SchemaEnv$1({schema:z,schemaId:Q,root:T,baseId:L})}return getJsonPointer$1.call(this,I,H)}}resolveSchema_1$1=compile$3.resolveSchema=resolveSchema$1;const PREVENT_SCOPE_CHANGE$1=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer$1(T,{baseId:$,schema:I,root:N}){var L;if(((L=T.fragment)===null||L===void 0?void 0:L[0])!=="/")return;for(const z of T.fragment.slice(1).split("/")){if(typeof I=="boolean")return;const Q=I[(0,util_1$K.unescapeFragment)(z)];if(Q===void 0)return;I=Q;const te=typeof I=="object"&&I[this.opts.schemaId];!PREVENT_SCOPE_CHANGE$1.has(z)&&te&&($=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,$,te))}let B;if(typeof I!="boolean"&&I.$ref&&!(0,util_1$K.schemaHasRulesButRef)(I,this.RULES)){const z=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,$,I.$ref);B=resolveSchema$1.call(this,N,z)}const{schemaId:H}=this.opts;if(B=B||new SchemaEnv$1({schema:I,schemaId:H,root:N,baseId:$}),B.schema!==B.root.schema)return B}const compile$2=_mergeNamespaces({__proto__:null,get SchemaEnv(){return SchemaEnv_1$1},get compileSchema(){return compileSchema_1$1},default:compile$3,get getCompilingSchema(){return getCompilingSchema_1$1},get resolveRef(){return resolveRef_1$1},get resolveSchema(){return resolveSchema_1$1}},[compile$3]),$id$3="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description$1="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$3="object",required$5=["$data"],properties$7={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties$5=!1,require$$9$1={$id:$id$3,description:description$1,type:type$3,required:required$5,properties:properties$7,additionalProperties:additionalProperties$5};var uri$5={},fastUri$2={exports:{}};const HEX$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var scopedChars={HEX:HEX$1};const scopedChars$1=getDefaultExportFromCjs$1(scopedChars),scopedChars$2=_mergeNamespaces({__proto__:null,default:scopedChars$1},[scopedChars]),{HEX}=scopedChars$2,IPV4_REG=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function normalizeIPv4$1(T){if(findToken(T,".")<3)return{host:T,isIPV4:!1};const $=T.match(IPV4_REG)||[],[I]=$;return I?{host:stripLeadingZeros(I,"."),isIPV4:!0}:{host:T,isIPV4:!1}}function stringArrayToHexStripped(T,$=!1){let I="",N=!0;for(const L of T){if(HEX[L]===void 0)return;L!=="0"&&N===!0&&(N=!1),N||(I+=L)}return $&&I.length===0&&(I="0"),I}function getIPV6(T){let $=0;const I={error:!1,address:"",zone:""},N=[],L=[];let B=!1,H=!1,z=!1;function Q(){if(L.length){if(B===!1){const te=stringArrayToHexStripped(L);if(te!==void 0)N.push(te);else return I.error=!0,!1}L.length=0}return!0}for(let te=0;te<T.length;te++){const G=T[te];if(!(G==="["||G==="]"))if(G===":"){if(H===!0&&(z=!0),!Q())break;if($++,N.push(":"),$>7){I.error=!0;break}te-1>=0&&T[te-1]===":"&&(H=!0);continue}else if(G==="%"){if(!Q())break;B=!0}else{L.push(G);continue}}return L.length&&(B?I.zone=L.join(""):z?N.push(L.join("")):N.push(stringArrayToHexStripped(L))),I.address=N.join(""),I}function normalizeIPv6$1(T){if(findToken(T,":")<2)return{host:T,isIPV6:!1};const $=getIPV6(T);if($.error)return{host:T,isIPV6:!1};{let I=$.address,N=$.address;return $.zone&&(I+="%"+$.zone,N+="%25"+$.zone),{host:I,escapedHost:N,isIPV6:!0}}}function stripLeadingZeros(T,$){let I="",N=!0;const L=T.length;for(let B=0;B<L;B++){const H=T[B];H==="0"&&N?(B+1<=L&&T[B+1]===$||B+1===L)&&(I+=H,N=!1):(H===$?N=!0:N=!1,I+=H)}return I}function findToken(T,$){let I=0;for(let N=0;N<T.length;N++)T[N]===$&&I++;return I}const RDS1=/^\.\.?\//u,RDS2=/^\/\.(?:\/|$)/u,RDS3=/^\/\.\.(?:\/|$)/u,RDS5=/^\/?(?:.|\n)*?(?=\/|$)/u;function removeDotSegments$1(T){const $=[];for(;T.length;)if(T.match(RDS1))T=T.replace(RDS1,"");else if(T.match(RDS2))T=T.replace(RDS2,"/");else if(T.match(RDS3))T=T.replace(RDS3,"/"),$.pop();else if(T==="."||T==="..")T="";else{const I=T.match(RDS5);if(I){const N=I[0];T=T.slice(N.length),$.push(N)}else throw new Error("Unexpected dot segment condition")}return $.join("")}function normalizeComponentEncoding$1(T,$){const I=$!==!0?escape:unescape;return T.scheme!==void 0&&(T.scheme=I(T.scheme)),T.userinfo!==void 0&&(T.userinfo=I(T.userinfo)),T.host!==void 0&&(T.host=I(T.host)),T.path!==void 0&&(T.path=I(T.path)),T.query!==void 0&&(T.query=I(T.query)),T.fragment!==void 0&&(T.fragment=I(T.fragment)),T}function recomposeAuthority$1(T){const $=[];if(T.userinfo!==void 0&&($.push(T.userinfo),$.push("@")),T.host!==void 0){let I=unescape(T.host);const N=normalizeIPv4$1(I);if(N.isIPV4)I=N.host;else{const L=normalizeIPv6$1(N.host);L.isIPV6===!0?I=`[${L.escapedHost}]`:I=T.host}$.push(I)}return(typeof T.port=="number"||typeof T.port=="string")&&($.push(":"),$.push(String(T.port))),$.length?$.join(""):void 0}var utils$v={recomposeAuthority:recomposeAuthority$1,normalizeComponentEncoding:normalizeComponentEncoding$1,removeDotSegments:removeDotSegments$1,normalizeIPv4:normalizeIPv4$1,normalizeIPv6:normalizeIPv6$1,stringArrayToHexStripped};const utils$w=getDefaultExportFromCjs$1(utils$v),utils$x=_mergeNamespaces({__proto__:null,default:utils$w},[utils$v]),UUID_REG=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,URN_REG=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function isSecure(T){return typeof T.secure=="boolean"?T.secure:String(T.scheme).toLowerCase()==="wss"}function httpParse(T){return T.host||(T.error=T.error||"HTTP URIs must have a host."),T}function httpSerialize(T){const $=String(T.scheme).toLowerCase()==="https";return(T.port===($?443:80)||T.port==="")&&(T.port=void 0),T.path||(T.path="/"),T}function wsParse(T){return T.secure=isSecure(T),T.resourceName=(T.path||"/")+(T.query?"?"+T.query:""),T.path=void 0,T.query=void 0,T}function wsSerialize(T){if((T.port===(isSecure(T)?443:80)||T.port==="")&&(T.port=void 0),typeof T.secure=="boolean"&&(T.scheme=T.secure?"wss":"ws",T.secure=void 0),T.resourceName){const[$,I]=T.resourceName.split("?");T.path=$&&$!=="/"?$:void 0,T.query=I,T.resourceName=void 0}return T.fragment=void 0,T}function urnParse(T,$){if(!T.path)return T.error="URN can not be parsed",T;const I=T.path.match(URN_REG);if(I){const N=$.scheme||T.scheme||"urn";T.nid=I[1].toLowerCase(),T.nss=I[2];const L=`${N}:${$.nid||T.nid}`,B=SCHEMES$1[L];T.path=void 0,B&&(T=B.parse(T,$))}else T.error=T.error||"URN can not be parsed.";return T}function urnSerialize(T,$){const I=$.scheme||T.scheme||"urn",N=T.nid.toLowerCase(),L=`${I}:${$.nid||N}`,B=SCHEMES$1[L];B&&(T=B.serialize(T,$));const H=T,z=T.nss;return H.path=`${N||$.nid}:${z}`,$.skipEscape=!0,H}function urnuuidParse(T,$){const I=T;return I.uuid=I.nss,I.nss=void 0,!$.tolerant&&(!I.uuid||!UUID_REG.test(I.uuid))&&(I.error=I.error||"UUID is not valid."),I}function urnuuidSerialize(T){const $=T;return $.nss=(T.uuid||"").toLowerCase(),$}const http={scheme:"http",domainHost:!0,parse:httpParse,serialize:httpSerialize},https={scheme:"https",domainHost:http.domainHost,parse:httpParse,serialize:httpSerialize},ws={scheme:"ws",domainHost:!0,parse:wsParse,serialize:wsSerialize},wss={scheme:"wss",domainHost:ws.domainHost,parse:ws.parse,serialize:ws.serialize},urn={scheme:"urn",parse:urnParse,serialize:urnSerialize,skipNormalize:!0},urnuuid={scheme:"urn:uuid",parse:urnuuidParse,serialize:urnuuidSerialize,skipNormalize:!0},SCHEMES$1={http,https,ws,wss,urn,"urn:uuid":urnuuid};var schemes=SCHEMES$1;const schemes$1=getDefaultExportFromCjs$1(schemes),schemes$2=_mergeNamespaces({__proto__:null,default:schemes$1},[schemes]),{normalizeIPv6,normalizeIPv4,removeDotSegments,recomposeAuthority,normalizeComponentEncoding}=utils$x,SCHEMES=schemes$2;function normalize(T,$){return typeof T=="string"?T=serialize(parse$1(T,$),$):typeof T=="object"&&(T=parse$1(serialize(T,$),$)),T}function resolve$3(T,$,I){const N=Object.assign({scheme:"null"},I),L=resolveComponents(parse$1(T,N),parse$1($,N),N,!0);return serialize(L,{...N,skipEscape:!0})}function resolveComponents(T,$,I,N){const L={};return N||(T=parse$1(serialize(T,I),I),$=parse$1(serialize($,I),I)),I=I||{},!I.tolerant&&$.scheme?(L.scheme=$.scheme,L.userinfo=$.userinfo,L.host=$.host,L.port=$.port,L.path=removeDotSegments($.path||""),L.query=$.query):($.userinfo!==void 0||$.host!==void 0||$.port!==void 0?(L.userinfo=$.userinfo,L.host=$.host,L.port=$.port,L.path=removeDotSegments($.path||""),L.query=$.query):($.path?($.path.charAt(0)==="/"?L.path=removeDotSegments($.path):((T.userinfo!==void 0||T.host!==void 0||T.port!==void 0)&&!T.path?L.path="/"+$.path:T.path?L.path=T.path.slice(0,T.path.lastIndexOf("/")+1)+$.path:L.path=$.path,L.path=removeDotSegments(L.path)),L.query=$.query):(L.path=T.path,$.query!==void 0?L.query=$.query:L.query=T.query),L.userinfo=T.userinfo,L.host=T.host,L.port=T.port),L.scheme=T.scheme),L.fragment=$.fragment,L}function equal$1(T,$,I){return typeof T=="string"?(T=unescape(T),T=serialize(normalizeComponentEncoding(parse$1(T,I),!0),{...I,skipEscape:!0})):typeof T=="object"&&(T=serialize(normalizeComponentEncoding(T,!0),{...I,skipEscape:!0})),typeof $=="string"?($=unescape($),$=serialize(normalizeComponentEncoding(parse$1($,I),!0),{...I,skipEscape:!0})):typeof $=="object"&&($=serialize(normalizeComponentEncoding($,!0),{...I,skipEscape:!0})),T.toLowerCase()===$.toLowerCase()}function serialize(T,$){const I={host:T.host,scheme:T.scheme,userinfo:T.userinfo,port:T.port,path:T.path,query:T.query,nid:T.nid,nss:T.nss,uuid:T.uuid,fragment:T.fragment,reference:T.reference,resourceName:T.resourceName,secure:T.secure,error:""},N=Object.assign({},$),L=[],B=SCHEMES[(N.scheme||I.scheme||"").toLowerCase()];B&&B.serialize&&B.serialize(I,N),I.path!==void 0&&(N.skipEscape?I.path=unescape(I.path):(I.path=escape(I.path),I.scheme!==void 0&&(I.path=I.path.split("%3A").join(":")))),N.reference!=="suffix"&&I.scheme&&L.push(I.scheme,":");const H=recomposeAuthority(I);if(H!==void 0&&(N.reference!=="suffix"&&L.push("//"),L.push(H),I.path&&I.path.charAt(0)!=="/"&&L.push("/")),I.path!==void 0){let z=I.path;!N.absolutePath&&(!B||!B.absolutePath)&&(z=removeDotSegments(z)),H===void 0&&(z=z.replace(/^\/\//u,"/%2F")),L.push(z)}return I.query!==void 0&&L.push("?",I.query),I.fragment!==void 0&&L.push("#",I.fragment),L.join("")}const hexLookUp=Array.from({length:127},(T,$)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode($)));function nonSimpleDomain(T){let $=0;for(let I=0,N=T.length;I<N;++I)if($=T.charCodeAt(I),$>126||hexLookUp[$])return!0;return!1}const URI_PARSE=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function parse$1(T,$){const I=Object.assign({},$),N={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},L=T.indexOf("%")!==-1;let B=!1;I.reference==="suffix"&&(T=(I.scheme?I.scheme+":":"")+"//"+T);const H=T.match(URI_PARSE);if(H){if(N.scheme=H[1],N.userinfo=H[3],N.host=H[4],N.port=parseInt(H[5],10),N.path=H[6]||"",N.query=H[7],N.fragment=H[8],isNaN(N.port)&&(N.port=H[5]),N.host){const Q=normalizeIPv4(N.host);if(Q.isIPV4===!1){const te=normalizeIPv6(Q.host);N.host=te.host.toLowerCase(),B=te.isIPV6}else N.host=Q.host,B=!0}N.scheme===void 0&&N.userinfo===void 0&&N.host===void 0&&N.port===void 0&&N.query===void 0&&!N.path?N.reference="same-document":N.scheme===void 0?N.reference="relative":N.fragment===void 0?N.reference="absolute":N.reference="uri",I.reference&&I.reference!=="suffix"&&I.reference!==N.reference&&(N.error=N.error||"URI is not a "+I.reference+" reference.");const z=SCHEMES[(I.scheme||N.scheme||"").toLowerCase()];if(!I.unicodeSupport&&(!z||!z.unicodeSupport)&&N.host&&(I.domainHost||z&&z.domainHost)&&B===!1&&nonSimpleDomain(N.host))try{N.host=URL.domainToASCII(N.host.toLowerCase())}catch(Q){N.error=N.error||"Host's domain name can not be converted to ASCII: "+Q}(!z||z&&!z.skipNormalize)&&(L&&N.scheme!==void 0&&(N.scheme=unescape(N.scheme)),L&&N.host!==void 0&&(N.host=unescape(N.host)),N.path&&(N.path=escape(unescape(N.path))),N.fragment&&(N.fragment=encodeURI(decodeURIComponent(N.fragment)))),z&&z.parse&&z.parse(N,I)}else N.error=N.error||"URI can not be parsed.";return N}const fastUri={SCHEMES,normalize,resolve:resolve$3,resolveComponents,equal:equal$1,serialize,parse:parse$1};fastUri$2.exports=fastUri;fastUri$2.exports.default=fastUri;var fastUri_2=fastUri$2.exports.fastUri=fastUri,fastUriExports=fastUri$2.exports;const index$i=getDefaultExportFromCjs$1(fastUriExports),fastUri$1=_mergeNamespaces({__proto__:null,default:index$i,fastUri:fastUri_2},[fastUriExports]);Object.defineProperty(uri$5,"__esModule",{value:!0});const uri$3=fastUri$1;uri$3.code='require("ajv/dist/runtime/uri").default';var _default$1a=uri$5.default=uri$3;const uri$4=_mergeNamespaces({__proto__:null,default:_default$1a},[uri$5]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.CodeGen=T.Name=T.nil=T.stringify=T.str=T._=T.KeywordCxt=void 0;var $=validate$3;Object.defineProperty(T,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var I=codegen$2;Object.defineProperty(T,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(T,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(T,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(T,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(T,"Name",{enumerable:!0,get:function(){return I.Name}}),Object.defineProperty(T,"CodeGen",{enumerable:!0,get:function(){return I.CodeGen}});const N=validation_error$2,L=ref_error$2,B=rules$4,H=compile$2,z=codegen$2,Q=resolve$5,te=dataType$3,G=util$a,ie=require$$9$1,Re=uri$4,$e=(We,Ve)=>new RegExp(We,Ve);$e.code="new RegExp";const Pe=["removeAdditional","useDefaults","coerceTypes"],Me=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Be={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Ke={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Le=200;function qe(We){var Ve,je,Ze,st,dt,bt,vt,St,Bt,Gt,Dt,Mt,pt,mt,$t,kt,Ft,nr,Yt,yr,gr,br,cr,pr,lt;const ct=We.strict,Nt=(Ve=We.code)===null||Ve===void 0?void 0:Ve.optimize,jt=Nt===!0||Nt===void 0?1:Nt||0,zt=(Ze=(je=We.code)===null||je===void 0?void 0:je.regExp)!==null&&Ze!==void 0?Ze:$e,Ot=(st=We.uriResolver)!==null&&st!==void 0?st:Re.default;return{strictSchema:(bt=(dt=We.strictSchema)!==null&&dt!==void 0?dt:ct)!==null&&bt!==void 0?bt:!0,strictNumbers:(St=(vt=We.strictNumbers)!==null&&vt!==void 0?vt:ct)!==null&&St!==void 0?St:!0,strictTypes:(Gt=(Bt=We.strictTypes)!==null&&Bt!==void 0?Bt:ct)!==null&&Gt!==void 0?Gt:"log",strictTuples:(Mt=(Dt=We.strictTuples)!==null&&Dt!==void 0?Dt:ct)!==null&&Mt!==void 0?Mt:"log",strictRequired:(mt=(pt=We.strictRequired)!==null&&pt!==void 0?pt:ct)!==null&&mt!==void 0?mt:!1,code:We.code?{...We.code,optimize:jt,regExp:zt}:{optimize:jt,regExp:zt},loopRequired:($t=We.loopRequired)!==null&&$t!==void 0?$t:Le,loopEnum:(kt=We.loopEnum)!==null&&kt!==void 0?kt:Le,meta:(Ft=We.meta)!==null&&Ft!==void 0?Ft:!0,messages:(nr=We.messages)!==null&&nr!==void 0?nr:!0,inlineRefs:(Yt=We.inlineRefs)!==null&&Yt!==void 0?Yt:!0,schemaId:(yr=We.schemaId)!==null&&yr!==void 0?yr:"$id",addUsedSchema:(gr=We.addUsedSchema)!==null&&gr!==void 0?gr:!0,validateSchema:(br=We.validateSchema)!==null&&br!==void 0?br:!0,validateFormats:(cr=We.validateFormats)!==null&&cr!==void 0?cr:!0,unicodeRegExp:(pr=We.unicodeRegExp)!==null&&pr!==void 0?pr:!0,int32range:(lt=We.int32range)!==null&&lt!==void 0?lt:!0,uriResolver:Ot}}class He{constructor(Ve={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Ve=this.opts={...Ve,...qe(Ve)};const{es5:je,lines:Ze}=this.opts.code;this.scope=new z.ValueScope({scope:{},prefixes:Me,es5:je,lines:Ze}),this.logger=ze(Ve.logger);const st=Ve.validateFormats;Ve.validateFormats=!1,this.RULES=(0,B.getRules)(),Ge.call(this,Be,Ve,"NOT SUPPORTED"),Ge.call(this,Ke,Ve,"DEPRECATED","warn"),this._metaOpts=Qe.call(this),Ve.formats&&Ye.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Ve.keywords&&nt.call(this,Ve.keywords),typeof Ve.meta=="object"&&this.addMetaSchema(Ve.meta),ot.call(this),Ve.validateFormats=st}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Ve,meta:je,schemaId:Ze}=this.opts;let st=ie;Ze==="id"&&(st={...ie},st.id=st.$id,delete st.$id),je&&Ve&&this.addMetaSchema(st,st[Ze],!1)}defaultMeta(){const{meta:Ve,schemaId:je}=this.opts;return this.opts.defaultMeta=typeof Ve=="object"?Ve[je]||Ve:void 0}validate(Ve,je){let Ze;if(typeof Ve=="string"){if(Ze=this.getSchema(Ve),!Ze)throw new Error(`no schema with key or ref "${Ve}"`)}else Ze=this.compile(Ve);const st=Ze(je);return"$async"in Ze||(this.errors=Ze.errors),st}compile(Ve,je){const Ze=this._addSchema(Ve,je);return Ze.validate||this._compileSchemaEnv(Ze)}compileAsync(Ve,je){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:Ze}=this.opts;return st.call(this,Ve,je);async function st(Gt,Dt){await dt.call(this,Gt.$schema);const Mt=this._addSchema(Gt,Dt);return Mt.validate||bt.call(this,Mt)}async function dt(Gt){Gt&&!this.getSchema(Gt)&&await st.call(this,{$ref:Gt},!0)}async function bt(Gt){try{return this._compileSchemaEnv(Gt)}catch(Dt){if(!(Dt instanceof L.default))throw Dt;return vt.call(this,Dt),await St.call(this,Dt.missingSchema),bt.call(this,Gt)}}function vt({missingSchema:Gt,missingRef:Dt}){if(this.refs[Gt])throw new Error(`AnySchema ${Gt} is loaded but ${Dt} cannot be resolved`)}async function St(Gt){const Dt=await Bt.call(this,Gt);this.refs[Gt]||await dt.call(this,Dt.$schema),this.refs[Gt]||this.addSchema(Dt,Gt,je)}async function Bt(Gt){const Dt=this._loading[Gt];if(Dt)return Dt;try{return await(this._loading[Gt]=Ze(Gt))}finally{delete this._loading[Gt]}}}addSchema(Ve,je,Ze,st=this.opts.validateSchema){if(Array.isArray(Ve)){for(const bt of Ve)this.addSchema(bt,void 0,Ze,st);return this}let dt;if(typeof Ve=="object"){const{schemaId:bt}=this.opts;if(dt=Ve[bt],dt!==void 0&&typeof dt!="string")throw new Error(`schema ${bt} must be string`)}return je=(0,Q.normalizeId)(je||dt),this._checkUnique(je),this.schemas[je]=this._addSchema(Ve,Ze,je,st,!0),this}addMetaSchema(Ve,je,Ze=this.opts.validateSchema){return this.addSchema(Ve,je,!0,Ze),this}validateSchema(Ve,je){if(typeof Ve=="boolean")return!0;let Ze;if(Ze=Ve.$schema,Ze!==void 0&&typeof Ze!="string")throw new Error("$schema must be a string");if(Ze=Ze||this.opts.defaultMeta||this.defaultMeta(),!Ze)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const st=this.validate(Ze,Ve);if(!st&&je){const dt="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(dt);else throw new Error(dt)}return st}getSchema(Ve){let je;for(;typeof(je=at.call(this,Ve))=="string";)Ve=je;if(je===void 0){const{schemaId:Ze}=this.opts,st=new H.SchemaEnv({schema:{},schemaId:Ze});if(je=H.resolveSchema.call(this,st,Ve),!je)return;this.refs[Ve]=je}return je.validate||this._compileSchemaEnv(je)}removeSchema(Ve){if(Ve instanceof RegExp)return this._removeAllSchemas(this.schemas,Ve),this._removeAllSchemas(this.refs,Ve),this;switch(typeof Ve){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const je=at.call(this,Ve);return typeof je=="object"&&this._cache.delete(je.schema),delete this.schemas[Ve],delete this.refs[Ve],this}case"object":{const je=Ve;this._cache.delete(je);let Ze=Ve[this.opts.schemaId];return Ze&&(Ze=(0,Q.normalizeId)(Ze),delete this.schemas[Ze],delete this.refs[Ze]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Ve){for(const je of Ve)this.addKeyword(je);return this}addKeyword(Ve,je){let Ze;if(typeof Ve=="string")Ze=Ve,typeof je=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),je.keyword=Ze);else if(typeof Ve=="object"&&je===void 0){if(je=Ve,Ze=je.keyword,Array.isArray(Ze)&&!Ze.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ke.call(this,Ze,je),!je)return(0,G.eachItem)(Ze,dt=>Ue.call(this,dt)),this;rt.call(this,je);const st={...je,type:(0,te.getJSONTypes)(je.type),schemaType:(0,te.getJSONTypes)(je.schemaType)};return(0,G.eachItem)(Ze,st.type.length===0?dt=>Ue.call(this,dt,st):dt=>st.type.forEach(bt=>Ue.call(this,dt,st,bt))),this}getKeyword(Ve){const je=this.RULES.all[Ve];return typeof je=="object"?je.definition:!!je}removeKeyword(Ve){const{RULES:je}=this;delete je.keywords[Ve],delete je.all[Ve];for(const Ze of je.rules){const st=Ze.rules.findIndex(dt=>dt.keyword===Ve);st>=0&&Ze.rules.splice(st,1)}return this}addFormat(Ve,je){return typeof je=="string"&&(je=new RegExp(je)),this.formats[Ve]=je,this}errorsText(Ve=this.errors,{separator:je=", ",dataVar:Ze="data"}={}){return!Ve||Ve.length===0?"No errors":Ve.map(st=>`${Ze}${st.instancePath} ${st.message}`).reduce((st,dt)=>st+je+dt)}$dataMetaSchema(Ve,je){const Ze=this.RULES.all;Ve=JSON.parse(JSON.stringify(Ve));for(const st of je){const dt=st.split("/").slice(1);let bt=Ve;for(const vt of dt)bt=bt[vt];for(const vt in Ze){const St=Ze[vt];if(typeof St!="object")continue;const{$data:Bt}=St.definition,Gt=bt[vt];Bt&&Gt&&(bt[vt]=it(Gt))}}return Ve}_removeAllSchemas(Ve,je){for(const Ze in Ve){const st=Ve[Ze];(!je||je.test(Ze))&&(typeof st=="string"?delete Ve[Ze]:st&&!st.meta&&(this._cache.delete(st.schema),delete Ve[Ze]))}}_addSchema(Ve,je,Ze,st=this.opts.validateSchema,dt=this.opts.addUsedSchema){let bt;const{schemaId:vt}=this.opts;if(typeof Ve=="object")bt=Ve[vt];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Ve!="boolean")throw new Error("schema must be object or boolean")}let St=this._cache.get(Ve);if(St!==void 0)return St;Ze=(0,Q.normalizeId)(bt||Ze);const Bt=Q.getSchemaRefs.call(this,Ve,Ze);return St=new H.SchemaEnv({schema:Ve,schemaId:vt,meta:je,baseId:Ze,localRefs:Bt}),this._cache.set(St.schema,St),dt&&!Ze.startsWith("#")&&(Ze&&this._checkUnique(Ze),this.refs[Ze]=St),st&&this.validateSchema(Ve,!0),St}_checkUnique(Ve){if(this.schemas[Ve]||this.refs[Ve])throw new Error(`schema with key or id "${Ve}" already exists`)}_compileSchemaEnv(Ve){if(Ve.meta?this._compileMetaSchema(Ve):H.compileSchema.call(this,Ve),!Ve.validate)throw new Error("ajv implementation error");return Ve.validate}_compileMetaSchema(Ve){const je=this.opts;this.opts=this._metaOpts;try{H.compileSchema.call(this,Ve)}finally{this.opts=je}}}He.ValidationError=N.default,He.MissingRefError=L.default,T.default=He;function Ge(We,Ve,je,Ze="error"){for(const st in We){const dt=st;dt in Ve&&this.logger[Ze](`${je}: option ${st}. ${We[dt]}`)}}function at(We){return We=(0,Q.normalizeId)(We),this.schemas[We]||this.refs[We]}function ot(){const We=this.opts.schemas;if(We)if(Array.isArray(We))this.addSchema(We);else for(const Ve in We)this.addSchema(We[Ve],Ve)}function Ye(){for(const We in this.opts.formats){const Ve=this.opts.formats[We];Ve&&this.addFormat(We,Ve)}}function nt(We){if(Array.isArray(We)){this.addVocabulary(We);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Ve in We){const je=We[Ve];je.keyword||(je.keyword=Ve),this.addKeyword(je)}}function Qe(){const We={...this.opts};for(const Ve of Pe)delete We[Ve];return We}const tt={log(){},warn(){},error(){}};function ze(We){if(We===!1)return tt;if(We===void 0)return console;if(We.log&&We.warn&&We.error)return We;throw new Error("logger must implement log, warn and error methods")}const Fe=/^[a-z_$][a-z0-9_$:-]*$/i;function ke(We,Ve){const{RULES:je}=this;if((0,G.eachItem)(We,Ze=>{if(je.keywords[Ze])throw new Error(`Keyword ${Ze} is already defined`);if(!Fe.test(Ze))throw new Error(`Keyword ${Ze} has invalid name`)}),!!Ve&&Ve.$data&&!("code"in Ve||"validate"in Ve))throw new Error('$data keyword must have "code" or "validate" function')}function Ue(We,Ve,je){var Ze;const st=Ve==null?void 0:Ve.post;if(je&&st)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:dt}=this;let bt=st?dt.post:dt.rules.find(({type:St})=>St===je);if(bt||(bt={type:je,rules:[]},dt.rules.push(bt)),dt.keywords[We]=!0,!Ve)return;const vt={keyword:We,definition:{...Ve,type:(0,te.getJSONTypes)(Ve.type),schemaType:(0,te.getJSONTypes)(Ve.schemaType)}};Ve.before?Je.call(this,bt,vt,Ve.before):bt.rules.push(vt),dt.all[We]=vt,(Ze=Ve.implements)===null||Ze===void 0||Ze.forEach(St=>this.addKeyword(St))}function Je(We,Ve,je){const Ze=We.rules.findIndex(st=>st.keyword===je);Ze>=0?We.rules.splice(Ze,0,Ve):(We.rules.push(Ve),this.logger.warn(`rule ${je} is not defined`))}function rt(We){let{metaSchema:Ve}=We;Ve!==void 0&&(We.$data&&this.opts.$data&&(Ve=it(Ve)),We.validateSchema=this.compile(Ve,!0))}const Xe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function it(We){return{anyOf:[We,Xe]}}})(core$c);const core$a=getDefaultExportFromCjs$1(core$c),core$b=_mergeNamespaces({__proto__:null,default:core$a},[core$c]);var draft7$3={},core$9={},id$3={};Object.defineProperty(id$3,"__esModule",{value:!0});const def$V={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};var _default$19=id$3.default=def$V;const id$2=_mergeNamespaces({__proto__:null,default:_default$19},[id$3]);var ref$3={};Object.defineProperty(ref$3,"__esModule",{value:!0});var callRef_1$1=ref$3.callRef=getValidate_1$1=ref$3.getValidate=void 0;const ref_error_1$2=ref_error$2,code_1$i=code$5,codegen_1$P=codegen$2,names_1$8=names$4,compile_1$3=compile$2,util_1$J=util$a,def$U={keyword:"$ref",schemaType:"string",code(T){const{gen:$,schema:I,it:N}=T,{baseId:L,schemaEnv:B,validateName:H,opts:z,self:Q}=N,{root:te}=B;if((I==="#"||I==="#/")&&L===te.baseId)return ie();const G=compile_1$3.resolveRef.call(Q,te,L,I);if(G===void 0)throw new ref_error_1$2.default(N.opts.uriResolver,L,I);if(G instanceof compile_1$3.SchemaEnv)return Re(G);return $e(G);function ie(){if(B===te)return callRef$1(T,H,B,B.$async);const Pe=$.scopeValue("root",{ref:te});return callRef$1(T,(0,codegen_1$P._)`${Pe}.validate`,te,te.$async)}function Re(Pe){const Me=getValidate$1(T,Pe);callRef$1(T,Me,Pe,Pe.$async)}function $e(Pe){const Me=$.scopeValue("schema",z.code.source===!0?{ref:Pe,code:(0,codegen_1$P.stringify)(Pe)}:{ref:Pe}),Be=$.name("valid"),Ke=T.subschema({schema:Pe,dataTypes:[],schemaPath:codegen_1$P.nil,topSchemaRef:Me,errSchemaPath:I},Be);T.mergeEvaluated(Ke),T.ok(Be)}}};function getValidate$1(T,$){const{gen:I}=T;return $.validate?I.scopeValue("validate",{ref:$.validate}):(0,codegen_1$P._)`${I.scopeValue("wrapper",{ref:$})}.validate`}var getValidate_1$1=ref$3.getValidate=getValidate$1;function callRef$1(T,$,I,N){const{gen:L,it:B}=T,{allErrors:H,schemaEnv:z,opts:Q}=B,te=Q.passContext?names_1$8.default.this:codegen_1$P.nil;N?G():ie();function G(){if(!z.$async)throw new Error("async schema referenced by sync schema");const Pe=L.let("valid");L.try(()=>{L.code((0,codegen_1$P._)`await ${(0,code_1$i.callValidateCode)(T,$,te)}`),$e($),H||L.assign(Pe,!0)},Me=>{L.if((0,codegen_1$P._)`!(${Me} instanceof ${B.ValidationError})`,()=>L.throw(Me)),Re(Me),H||L.assign(Pe,!1)}),T.ok(Pe)}function ie(){T.result((0,code_1$i.callValidateCode)(T,$,te),()=>$e($),()=>Re($))}function Re(Pe){const Me=(0,codegen_1$P._)`${Pe}.errors`;L.assign(names_1$8.default.vErrors,(0,codegen_1$P._)`${names_1$8.default.vErrors} === null ? ${Me} : ${names_1$8.default.vErrors}.concat(${Me})`),L.assign(names_1$8.default.errors,(0,codegen_1$P._)`${names_1$8.default.vErrors}.length`)}function $e(Pe){var Me;if(!B.opts.unevaluated)return;const Be=(Me=I==null?void 0:I.validate)===null||Me===void 0?void 0:Me.evaluated;if(B.props!==!0)if(Be&&!Be.dynamicProps)Be.props!==void 0&&(B.props=util_1$J.mergeEvaluated.props(L,Be.props,B.props));else{const Ke=L.var("props",(0,codegen_1$P._)`${Pe}.evaluated.props`);B.props=util_1$J.mergeEvaluated.props(L,Ke,B.props,codegen_1$P.Name)}if(B.items!==!0)if(Be&&!Be.dynamicItems)Be.items!==void 0&&(B.items=util_1$J.mergeEvaluated.items(L,Be.items,B.items));else{const Ke=L.var("items",(0,codegen_1$P._)`${Pe}.evaluated.items`);B.items=util_1$J.mergeEvaluated.items(L,Ke,B.items,codegen_1$P.Name)}}}callRef_1$1=ref$3.callRef=callRef$1;var _default$18=ref$3.default=def$U;const ref$2=_mergeNamespaces({__proto__:null,get callRef(){return callRef_1$1},default:_default$18,get getValidate(){return getValidate_1$1}},[ref$3]);Object.defineProperty(core$9,"__esModule",{value:!0});const id_1$1=id$2,ref_1$1=ref$2,core$7=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1$1.default,ref_1$1.default];var _default$17=core$9.default=core$7;const core$8=_mergeNamespaces({__proto__:null,default:_default$17},[core$9]);var validation$5={},limitNumber$3={};Object.defineProperty(limitNumber$3,"__esModule",{value:!0});const codegen_1$O=codegen$2,ops$1=codegen_1$O.operators,KWDs$1={maximum:{okStr:"<=",ok:ops$1.LTE,fail:ops$1.GT},minimum:{okStr:">=",ok:ops$1.GTE,fail:ops$1.LT},exclusiveMaximum:{okStr:"<",ok:ops$1.LT,fail:ops$1.GTE},exclusiveMinimum:{okStr:">",ok:ops$1.GT,fail:ops$1.LTE}},error$B={message:({keyword:T,schemaCode:$})=>(0,codegen_1$O.str)`must be ${KWDs$1[T].okStr} ${$}`,params:({keyword:T,schemaCode:$})=>(0,codegen_1$O._)`{comparison: ${KWDs$1[T].okStr}, limit: ${$}}`},def$T={keyword:Object.keys(KWDs$1),type:"number",schemaType:"number",$data:!0,error:error$B,code(T){const{keyword:$,data:I,schemaCode:N}=T;T.fail$data((0,codegen_1$O._)`${I} ${KWDs$1[$].fail} ${N} || isNaN(${I})`)}};var _default$16=limitNumber$3.default=def$T;const limitNumber$2=_mergeNamespaces({__proto__:null,default:_default$16},[limitNumber$3]);var multipleOf$3={};Object.defineProperty(multipleOf$3,"__esModule",{value:!0});const codegen_1$N=codegen$2,error$A={message:({schemaCode:T})=>(0,codegen_1$N.str)`must be multiple of ${T}`,params:({schemaCode:T})=>(0,codegen_1$N._)`{multipleOf: ${T}}`},def$S={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error$A,code(T){const{gen:$,data:I,schemaCode:N,it:L}=T,B=L.opts.multipleOfPrecision,H=$.let("res"),z=B?(0,codegen_1$N._)`Math.abs(Math.round(${H}) - ${H}) > 1e-${B}`:(0,codegen_1$N._)`${H} !== parseInt(${H})`;T.fail$data((0,codegen_1$N._)`(${N} === 0 || (${H} = ${I}/${N}, ${z}))`)}};var _default$15=multipleOf$3.default=def$S;const multipleOf$2=_mergeNamespaces({__proto__:null,default:_default$15},[multipleOf$3]);var limitLength$3={},ucs2length$5={};Object.defineProperty(ucs2length$5,"__esModule",{value:!0});function ucs2length$3(T){const $=T.length;let I=0,N=0,L;for(;N<$;)I++,L=T.charCodeAt(N++),L>=55296&&L<=56319&&N<$&&(L=T.charCodeAt(N),(L&64512)===56320&&N++);return I}var _default$14=ucs2length$5.default=ucs2length$3;ucs2length$3.code='require("ajv/dist/runtime/ucs2length").default';const ucs2length$4=_mergeNamespaces({__proto__:null,default:_default$14},[ucs2length$5]);Object.defineProperty(limitLength$3,"__esModule",{value:!0});const codegen_1$M=codegen$2,util_1$I=util$a,ucs2length_1$1=ucs2length$4,error$z={message({keyword:T,schemaCode:$}){const I=T==="maxLength"?"more":"fewer";return(0,codegen_1$M.str)`must NOT have ${I} than ${$} characters`},params:({schemaCode:T})=>(0,codegen_1$M._)`{limit: ${T}}`},def$R={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error$z,code(T){const{keyword:$,data:I,schemaCode:N,it:L}=T,B=$==="maxLength"?codegen_1$M.operators.GT:codegen_1$M.operators.LT,H=L.opts.unicode===!1?(0,codegen_1$M._)`${I}.length`:(0,codegen_1$M._)`${(0,util_1$I.useFunc)(T.gen,ucs2length_1$1.default)}(${I})`;T.fail$data((0,codegen_1$M._)`${H} ${B} ${N}`)}};var _default$13=limitLength$3.default=def$R;const limitLength$2=_mergeNamespaces({__proto__:null,default:_default$13},[limitLength$3]);var pattern$3={};Object.defineProperty(pattern$3,"__esModule",{value:!0});const code_1$h=code$5,codegen_1$L=codegen$2,error$y={message:({schemaCode:T})=>(0,codegen_1$L.str)`must match pattern "${T}"`,params:({schemaCode:T})=>(0,codegen_1$L._)`{pattern: ${T}}`},def$Q={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error$y,code(T){const{data:$,$data:I,schema:N,schemaCode:L,it:B}=T,H=B.opts.unicodeRegExp?"u":"",z=I?(0,codegen_1$L._)`(new RegExp(${L}, ${H}))`:(0,code_1$h.usePattern)(T,N);T.fail$data((0,codegen_1$L._)`!${z}.test(${$})`)}};var _default$12=pattern$3.default=def$Q;const pattern$2=_mergeNamespaces({__proto__:null,default:_default$12},[pattern$3]);var limitProperties$3={};Object.defineProperty(limitProperties$3,"__esModule",{value:!0});const codegen_1$K=codegen$2,error$x={message({keyword:T,schemaCode:$}){const I=T==="maxProperties"?"more":"fewer";return(0,codegen_1$K.str)`must NOT have ${I} than ${$} properties`},params:({schemaCode:T})=>(0,codegen_1$K._)`{limit: ${T}}`},def$P={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error$x,code(T){const{keyword:$,data:I,schemaCode:N}=T,L=$==="maxProperties"?codegen_1$K.operators.GT:codegen_1$K.operators.LT;T.fail$data((0,codegen_1$K._)`Object.keys(${I}).length ${L} ${N}`)}};var _default$11=limitProperties$3.default=def$P;const limitProperties$2=_mergeNamespaces({__proto__:null,default:_default$11},[limitProperties$3]);var required$4={};Object.defineProperty(required$4,"__esModule",{value:!0});const code_1$g=code$5,codegen_1$J=codegen$2,util_1$H=util$a,error$w={message:({params:{missingProperty:T}})=>(0,codegen_1$J.str)`must have required property '${T}'`,params:({params:{missingProperty:T}})=>(0,codegen_1$J._)`{missingProperty: ${T}}`},def$O={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error$w,code(T){const{gen:$,schema:I,schemaCode:N,data:L,$data:B,it:H}=T,{opts:z}=H;if(!B&&I.length===0)return;const Q=I.length>=z.loopRequired;if(H.allErrors?te():G(),z.strictRequired){const $e=T.parentSchema.properties,{definedProperties:Pe}=T.it;for(const Me of I)if(($e==null?void 0:$e[Me])===void 0&&!Pe.has(Me)){const Be=H.schemaEnv.baseId+H.errSchemaPath,Ke=`required property "${Me}" is not defined at "${Be}" (strictRequired)`;(0,util_1$H.checkStrictMode)(H,Ke,H.opts.strictRequired)}}function te(){if(Q||B)T.block$data(codegen_1$J.nil,ie);else for(const $e of I)(0,code_1$g.checkReportMissingProp)(T,$e)}function G(){const $e=$.let("missing");if(Q||B){const Pe=$.let("valid",!0);T.block$data(Pe,()=>Re($e,Pe)),T.ok(Pe)}else $.if((0,code_1$g.checkMissingProp)(T,I,$e)),(0,code_1$g.reportMissingProp)(T,$e),$.else()}function ie(){$.forOf("prop",N,$e=>{T.setParams({missingProperty:$e}),$.if((0,code_1$g.noPropertyInData)($,L,$e,z.ownProperties),()=>T.error())})}function Re($e,Pe){T.setParams({missingProperty:$e}),$.forOf($e,N,()=>{$.assign(Pe,(0,code_1$g.propertyInData)($,L,$e,z.ownProperties)),$.if((0,codegen_1$J.not)(Pe),()=>{T.error(),$.break()})},codegen_1$J.nil)}}};var _default$10=required$4.default=def$O;const required$3=_mergeNamespaces({__proto__:null,default:_default$10},[required$4]);var limitItems$3={};Object.defineProperty(limitItems$3,"__esModule",{value:!0});const codegen_1$I=codegen$2,error$v={message({keyword:T,schemaCode:$}){const I=T==="maxItems"?"more":"fewer";return(0,codegen_1$I.str)`must NOT have ${I} than ${$} items`},params:({schemaCode:T})=>(0,codegen_1$I._)`{limit: ${T}}`},def$N={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error$v,code(T){const{keyword:$,data:I,schemaCode:N}=T,L=$==="maxItems"?codegen_1$I.operators.GT:codegen_1$I.operators.LT;T.fail$data((0,codegen_1$I._)`${I}.length ${L} ${N}`)}};var _default$$=limitItems$3.default=def$N;const limitItems$2=_mergeNamespaces({__proto__:null,default:_default$$},[limitItems$3]);var uniqueItems$3={};Object.defineProperty(uniqueItems$3,"__esModule",{value:!0});const dataType_1$2=dataType$3,codegen_1$H=codegen$2,util_1$G=util$a,equal_1$5=equal$4,error$u={message:({params:{i:T,j:$}})=>(0,codegen_1$H.str)`must NOT have duplicate items (items ## ${$} and ${T} are identical)`,params:({params:{i:T,j:$}})=>(0,codegen_1$H._)`{i: ${T}, j: ${$}}`},def$M={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error$u,code(T){const{gen:$,data:I,$data:N,schema:L,parentSchema:B,schemaCode:H,it:z}=T;if(!N&&!L)return;const Q=$.let("valid"),te=B.items?(0,dataType_1$2.getSchemaTypes)(B.items):[];T.block$data(Q,G,(0,codegen_1$H._)`${H} === false`),T.ok(Q);function G(){const Pe=$.let("i",(0,codegen_1$H._)`${I}.length`),Me=$.let("j");T.setParams({i:Pe,j:Me}),$.assign(Q,!0),$.if((0,codegen_1$H._)`${Pe} > 1`,()=>(ie()?Re:$e)(Pe,Me))}function ie(){return te.length>0&&!te.some(Pe=>Pe==="object"||Pe==="array")}function Re(Pe,Me){const Be=$.name("item"),Ke=(0,dataType_1$2.checkDataTypes)(te,Be,z.opts.strictNumbers,dataType_1$2.DataType.Wrong),Le=$.const("indices",(0,codegen_1$H._)`{}`);$.for((0,codegen_1$H._)`;${Pe}--;`,()=>{$.let(Be,(0,codegen_1$H._)`${I}[${Pe}]`),$.if(Ke,(0,codegen_1$H._)`continue`),te.length>1&&$.if((0,codegen_1$H._)`typeof ${Be} == "string"`,(0,codegen_1$H._)`${Be} += "_"`),$.if((0,codegen_1$H._)`typeof ${Le}[${Be}] == "number"`,()=>{$.assign(Me,(0,codegen_1$H._)`${Le}[${Be}]`),T.error(),$.assign(Q,!1).break()}).code((0,codegen_1$H._)`${Le}[${Be}] = ${Pe}`)})}function $e(Pe,Me){const Be=(0,util_1$G.useFunc)($,equal_1$5.default),Ke=$.name("outer");$.label(Ke).for((0,codegen_1$H._)`;${Pe}--;`,()=>$.for((0,codegen_1$H._)`${Me} = ${Pe}; ${Me}--;`,()=>$.if((0,codegen_1$H._)`${Be}(${I}[${Pe}], ${I}[${Me}])`,()=>{T.error(),$.assign(Q,!1).break(Ke)})))}}};var _default$_=uniqueItems$3.default=def$M;const uniqueItems$2=_mergeNamespaces({__proto__:null,default:_default$_},[uniqueItems$3]);var _const$3={};Object.defineProperty(_const$3,"__esModule",{value:!0});const codegen_1$G=codegen$2,util_1$F=util$a,equal_1$4=equal$4,error$t={message:"must be equal to constant",params:({schemaCode:T})=>(0,codegen_1$G._)`{allowedValue: ${T}}`},def$L={keyword:"const",$data:!0,error:error$t,code(T){const{gen:$,data:I,$data:N,schemaCode:L,schema:B}=T;N||B&&typeof B=="object"?T.fail$data((0,codegen_1$G._)`!${(0,util_1$F.useFunc)($,equal_1$4.default)}(${I}, ${L})`):T.fail((0,codegen_1$G._)`${B} !== ${I}`)}};var _default$Z=_const$3.default=def$L;const _const$2=_mergeNamespaces({__proto__:null,default:_default$Z},[_const$3]);var _enum$3={};Object.defineProperty(_enum$3,"__esModule",{value:!0});const codegen_1$F=codegen$2,util_1$E=util$a,equal_1$3=equal$4,error$s={message:"must be equal to one of the allowed values",params:({schemaCode:T})=>(0,codegen_1$F._)`{allowedValues: ${T}}`},def$K={keyword:"enum",schemaType:"array",$data:!0,error:error$s,code(T){const{gen:$,data:I,$data:N,schema:L,schemaCode:B,it:H}=T;if(!N&&L.length===0)throw new Error("enum must have non-empty array");const z=L.length>=H.opts.loopEnum;let Q;const te=()=>Q??(Q=(0,util_1$E.useFunc)($,equal_1$3.default));let G;if(z||N)G=$.let("valid"),T.block$data(G,ie);else{if(!Array.isArray(L))throw new Error("ajv implementation error");const $e=$.const("vSchema",B);G=(0,codegen_1$F.or)(...L.map((Pe,Me)=>Re($e,Me)))}T.pass(G);function ie(){$.assign(G,!1),$.forOf("v",B,$e=>$.if((0,codegen_1$F._)`${te()}(${I}, ${$e})`,()=>$.assign(G,!0).break()))}function Re($e,Pe){const Me=L[Pe];return typeof Me=="object"&&Me!==null?(0,codegen_1$F._)`${te()}(${I}, ${$e}[${Pe}])`:(0,codegen_1$F._)`${I} === ${Me}`}}};var _default$Y=_enum$3.default=def$K;const _enum$2=_mergeNamespaces({__proto__:null,default:_default$Y},[_enum$3]);Object.defineProperty(validation$5,"__esModule",{value:!0});const limitNumber_1$1=limitNumber$2,multipleOf_1$1=multipleOf$2,limitLength_1$1=limitLength$2,pattern_1$1=pattern$2,limitProperties_1$1=limitProperties$2,required_1$1=required$3,limitItems_1$1=limitItems$2,uniqueItems_1$1=uniqueItems$2,const_1$1=_const$2,enum_1$1=_enum$2,validation$3=[limitNumber_1$1.default,multipleOf_1$1.default,limitLength_1$1.default,pattern_1$1.default,limitProperties_1$1.default,required_1$1.default,limitItems_1$1.default,uniqueItems_1$1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1$1.default,enum_1$1.default];var _default$X=validation$5.default=validation$3;const validation$4=_mergeNamespaces({__proto__:null,default:_default$X},[validation$5]);var applicator$3={},additionalItems$3={};Object.defineProperty(additionalItems$3,"__esModule",{value:!0});var validateAdditionalItems_1$1=additionalItems$3.validateAdditionalItems=void 0;const codegen_1$E=codegen$2,util_1$D=util$a,error$r={message:({params:{len:T}})=>(0,codegen_1$E.str)`must NOT have more than ${T} items`,params:({params:{len:T}})=>(0,codegen_1$E._)`{limit: ${T}}`},def$J={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:error$r,code(T){const{parentSchema:$,it:I}=T,{items:N}=$;if(!Array.isArray(N)){(0,util_1$D.checkStrictMode)(I,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems$1(T,N)}};function validateAdditionalItems$1(T,$){const{gen:I,schema:N,data:L,keyword:B,it:H}=T;H.items=!0;const z=I.const("len",(0,codegen_1$E._)`${L}.length`);if(N===!1)T.setParams({len:$.length}),T.pass((0,codegen_1$E._)`${z} <= ${$.length}`);else if(typeof N=="object"&&!(0,util_1$D.alwaysValidSchema)(H,N)){const te=I.var("valid",(0,codegen_1$E._)`${z} <= ${$.length}`);I.if((0,codegen_1$E.not)(te),()=>Q(te)),T.ok(te)}function Q(te){I.forRange("i",$.length,z,G=>{T.subschema({keyword:B,dataProp:G,dataPropType:util_1$D.Type.Num},te),H.allErrors||I.if((0,codegen_1$E.not)(te),()=>I.break())})}}validateAdditionalItems_1$1=additionalItems$3.validateAdditionalItems=validateAdditionalItems$1;var _default$W=additionalItems$3.default=def$J;const additionalItems$2=_mergeNamespaces({__proto__:null,default:_default$W,get validateAdditionalItems(){return validateAdditionalItems_1$1}},[additionalItems$3]);var prefixItems$3={},items$3={};Object.defineProperty(items$3,"__esModule",{value:!0});var validateTuple_1$1=items$3.validateTuple=void 0;const codegen_1$D=codegen$2,util_1$C=util$a,code_1$f=code$5,def$I={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(T){const{schema:$,it:I}=T;if(Array.isArray($))return validateTuple$1(T,"additionalItems",$);I.items=!0,!(0,util_1$C.alwaysValidSchema)(I,$)&&T.ok((0,code_1$f.validateArray)(T))}};function validateTuple$1(T,$,I=T.schema){const{gen:N,parentSchema:L,data:B,keyword:H,it:z}=T;G(L),z.opts.unevaluated&&I.length&&z.items!==!0&&(z.items=util_1$C.mergeEvaluated.items(N,I.length,z.items));const Q=N.name("valid"),te=N.const("len",(0,codegen_1$D._)`${B}.length`);I.forEach((ie,Re)=>{(0,util_1$C.alwaysValidSchema)(z,ie)||(N.if((0,codegen_1$D._)`${te} > ${Re}`,()=>T.subschema({keyword:H,schemaProp:Re,dataProp:Re},Q)),T.ok(Q))});function G(ie){const{opts:Re,errSchemaPath:$e}=z,Pe=I.length,Me=Pe===ie.minItems&&(Pe===ie.maxItems||ie[$]===!1);if(Re.strictTuples&&!Me){const Be=`"${H}" is ${Pe}-tuple, but minItems or maxItems/${$} are not specified or different at path "${$e}"`;(0,util_1$C.checkStrictMode)(z,Be,Re.strictTuples)}}}validateTuple_1$1=items$3.validateTuple=validateTuple$1;var _default$V=items$3.default=def$I;const items$2=_mergeNamespaces({__proto__:null,default:_default$V,get validateTuple(){return validateTuple_1$1}},[items$3]);Object.defineProperty(prefixItems$3,"__esModule",{value:!0});const items_1$3=items$2,def$H={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:T=>(0,items_1$3.validateTuple)(T,"items")};var _default$U=prefixItems$3.default=def$H;const prefixItems$2=_mergeNamespaces({__proto__:null,default:_default$U},[prefixItems$3]);var items2020$3={};Object.defineProperty(items2020$3,"__esModule",{value:!0});const codegen_1$C=codegen$2,util_1$B=util$a,code_1$e=code$5,additionalItems_1$3=additionalItems$2,error$q={message:({params:{len:T}})=>(0,codegen_1$C.str)`must NOT have more than ${T} items`,params:({params:{len:T}})=>(0,codegen_1$C._)`{limit: ${T}}`},def$G={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error$q,code(T){const{schema:$,parentSchema:I,it:N}=T,{prefixItems:L}=I;N.items=!0,!(0,util_1$B.alwaysValidSchema)(N,$)&&(L?(0,additionalItems_1$3.validateAdditionalItems)(T,L):T.ok((0,code_1$e.validateArray)(T)))}};var _default$T=items2020$3.default=def$G;const items2020$2=_mergeNamespaces({__proto__:null,default:_default$T},[items2020$3]);var contains$3={};Object.defineProperty(contains$3,"__esModule",{value:!0});const codegen_1$B=codegen$2,util_1$A=util$a,error$p={message:({params:{min:T,max:$}})=>$===void 0?(0,codegen_1$B.str)`must contain at least ${T} valid item(s)`:(0,codegen_1$B.str)`must contain at least ${T} and no more than ${$} valid item(s)`,params:({params:{min:T,max:$}})=>$===void 0?(0,codegen_1$B._)`{minContains: ${T}}`:(0,codegen_1$B._)`{minContains: ${T}, maxContains: ${$}}`},def$F={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error$p,code(T){const{gen:$,schema:I,parentSchema:N,data:L,it:B}=T;let H,z;const{minContains:Q,maxContains:te}=N;B.opts.next?(H=Q===void 0?1:Q,z=te):H=1;const G=$.const("len",(0,codegen_1$B._)`${L}.length`);if(T.setParams({min:H,max:z}),z===void 0&&H===0){(0,util_1$A.checkStrictMode)(B,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(z!==void 0&&H>z){(0,util_1$A.checkStrictMode)(B,'"minContains" > "maxContains" is always invalid'),T.fail();return}if((0,util_1$A.alwaysValidSchema)(B,I)){let Me=(0,codegen_1$B._)`${G} >= ${H}`;z!==void 0&&(Me=(0,codegen_1$B._)`${Me} && ${G} <= ${z}`),T.pass(Me);return}B.items=!0;const ie=$.name("valid");z===void 0&&H===1?$e(ie,()=>$.if(ie,()=>$.break())):H===0?($.let(ie,!0),z!==void 0&&$.if((0,codegen_1$B._)`${L}.length > 0`,Re)):($.let(ie,!1),Re()),T.result(ie,()=>T.reset());function Re(){const Me=$.name("_valid"),Be=$.let("count",0);$e(Me,()=>$.if(Me,()=>Pe(Be)))}function $e(Me,Be){$.forRange("i",0,G,Ke=>{T.subschema({keyword:"contains",dataProp:Ke,dataPropType:util_1$A.Type.Num,compositeRule:!0},Me),Be()})}function Pe(Me){$.code((0,codegen_1$B._)`${Me}++`),z===void 0?$.if((0,codegen_1$B._)`${Me} >= ${H}`,()=>$.assign(ie,!0).break()):($.if((0,codegen_1$B._)`${Me} > ${z}`,()=>$.assign(ie,!1).break()),H===1?$.assign(ie,!0):$.if((0,codegen_1$B._)`${Me} >= ${H}`,()=>$.assign(ie,!0)))}}};var _default$S=contains$3.default=def$F;const contains$2=_mergeNamespaces({__proto__:null,default:_default$S},[contains$3]);var dependencies$5={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.validateSchemaDeps=T.validatePropertyDeps=T.error=void 0;const $=codegen$2,I=util$a,N=code$5;T.error={message:({params:{property:Q,depsCount:te,deps:G}})=>{const ie=te===1?"property":"properties";return(0,$.str)`must have ${ie} ${G} when property ${Q} is present`},params:({params:{property:Q,depsCount:te,deps:G,missingProperty:ie}})=>(0,$._)`{property: ${Q},
    missingProperty: ${ie},
    depsCount: ${te},
    deps: ${G}}`};const L={keyword:"dependencies",type:"object",schemaType:"object",error:T.error,code(Q){const[te,G]=B(Q);H(Q,te),z(Q,G)}};function B({schema:Q}){const te={},G={};for(const ie in Q){if(ie==="__proto__")continue;const Re=Array.isArray(Q[ie])?te:G;Re[ie]=Q[ie]}return[te,G]}function H(Q,te=Q.schema){const{gen:G,data:ie,it:Re}=Q;if(Object.keys(te).length===0)return;const $e=G.let("missing");for(const Pe in te){const Me=te[Pe];if(Me.length===0)continue;const Be=(0,N.propertyInData)(G,ie,Pe,Re.opts.ownProperties);Q.setParams({property:Pe,depsCount:Me.length,deps:Me.join(", ")}),Re.allErrors?G.if(Be,()=>{for(const Ke of Me)(0,N.checkReportMissingProp)(Q,Ke)}):(G.if((0,$._)`${Be} && (${(0,N.checkMissingProp)(Q,Me,$e)})`),(0,N.reportMissingProp)(Q,$e),G.else())}}T.validatePropertyDeps=H;function z(Q,te=Q.schema){const{gen:G,data:ie,keyword:Re,it:$e}=Q,Pe=G.name("valid");for(const Me in te)(0,I.alwaysValidSchema)($e,te[Me])||(G.if((0,N.propertyInData)(G,ie,Me,$e.opts.ownProperties),()=>{const Be=Q.subschema({keyword:Re,schemaProp:Me},Pe);Q.mergeValidEvaluated(Be,Pe)},()=>G.var(Pe,!0)),Q.ok(Pe))}T.validateSchemaDeps=z,T.default=L})(dependencies$5);const dependencies$3=getDefaultExportFromCjs$1(dependencies$5),dependencies$4=_mergeNamespaces({__proto__:null,default:dependencies$3},[dependencies$5]);var propertyNames$3={};Object.defineProperty(propertyNames$3,"__esModule",{value:!0});const codegen_1$A=codegen$2,util_1$z=util$a,error$o={message:"property name must be valid",params:({params:T})=>(0,codegen_1$A._)`{propertyName: ${T.propertyName}}`},def$E={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error$o,code(T){const{gen:$,schema:I,data:N,it:L}=T;if((0,util_1$z.alwaysValidSchema)(L,I))return;const B=$.name("valid");$.forIn("key",N,H=>{T.setParams({propertyName:H}),T.subschema({keyword:"propertyNames",data:H,dataTypes:["string"],propertyName:H,compositeRule:!0},B),$.if((0,codegen_1$A.not)(B),()=>{T.error(!0),L.allErrors||$.break()})}),T.ok(B)}};var _default$R=propertyNames$3.default=def$E;const propertyNames$2=_mergeNamespaces({__proto__:null,default:_default$R},[propertyNames$3]);var additionalProperties$4={};Object.defineProperty(additionalProperties$4,"__esModule",{value:!0});const code_1$d=code$5,codegen_1$z=codegen$2,names_1$7=names$4,util_1$y=util$a,error$n={message:"must NOT have additional properties",params:({params:T})=>(0,codegen_1$z._)`{additionalProperty: ${T.additionalProperty}}`},def$D={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error$n,code(T){const{gen:$,schema:I,parentSchema:N,data:L,errsCount:B,it:H}=T;if(!B)throw new Error("ajv implementation error");const{allErrors:z,opts:Q}=H;if(H.props=!0,Q.removeAdditional!=="all"&&(0,util_1$y.alwaysValidSchema)(H,I))return;const te=(0,code_1$d.allSchemaProperties)(N.properties),G=(0,code_1$d.allSchemaProperties)(N.patternProperties);ie(),T.ok((0,codegen_1$z._)`${B} === ${names_1$7.default.errors}`);function ie(){$.forIn("key",L,Be=>{!te.length&&!G.length?Pe(Be):$.if(Re(Be),()=>Pe(Be))})}function Re(Be){let Ke;if(te.length>8){const Le=(0,util_1$y.schemaRefOrVal)(H,N.properties,"properties");Ke=(0,code_1$d.isOwnProperty)($,Le,Be)}else te.length?Ke=(0,codegen_1$z.or)(...te.map(Le=>(0,codegen_1$z._)`${Be} === ${Le}`)):Ke=codegen_1$z.nil;return G.length&&(Ke=(0,codegen_1$z.or)(Ke,...G.map(Le=>(0,codegen_1$z._)`${(0,code_1$d.usePattern)(T,Le)}.test(${Be})`))),(0,codegen_1$z.not)(Ke)}function $e(Be){$.code((0,codegen_1$z._)`delete ${L}[${Be}]`)}function Pe(Be){if(Q.removeAdditional==="all"||Q.removeAdditional&&I===!1){$e(Be);return}if(I===!1){T.setParams({additionalProperty:Be}),T.error(),z||$.break();return}if(typeof I=="object"&&!(0,util_1$y.alwaysValidSchema)(H,I)){const Ke=$.name("valid");Q.removeAdditional==="failing"?(Me(Be,Ke,!1),$.if((0,codegen_1$z.not)(Ke),()=>{T.reset(),$e(Be)})):(Me(Be,Ke),z||$.if((0,codegen_1$z.not)(Ke),()=>$.break()))}}function Me(Be,Ke,Le){const qe={keyword:"additionalProperties",dataProp:Be,dataPropType:util_1$y.Type.Str};Le===!1&&Object.assign(qe,{compositeRule:!0,createErrors:!1,allErrors:!1}),T.subschema(qe,Ke)}}};var _default$Q=additionalProperties$4.default=def$D;const additionalProperties$3=_mergeNamespaces({__proto__:null,default:_default$Q},[additionalProperties$4]);var properties$6={};Object.defineProperty(properties$6,"__esModule",{value:!0});const validate_1$2=validate$3,code_1$c=code$5,util_1$x=util$a,additionalProperties_1$3=additionalProperties$3,def$C={keyword:"properties",type:"object",schemaType:"object",code(T){const{gen:$,schema:I,parentSchema:N,data:L,it:B}=T;B.opts.removeAdditional==="all"&&N.additionalProperties===void 0&&additionalProperties_1$3.default.code(new validate_1$2.KeywordCxt(B,additionalProperties_1$3.default,"additionalProperties"));const H=(0,code_1$c.allSchemaProperties)(I);for(const ie of H)B.definedProperties.add(ie);B.opts.unevaluated&&H.length&&B.props!==!0&&(B.props=util_1$x.mergeEvaluated.props($,(0,util_1$x.toHash)(H),B.props));const z=H.filter(ie=>!(0,util_1$x.alwaysValidSchema)(B,I[ie]));if(z.length===0)return;const Q=$.name("valid");for(const ie of z)te(ie)?G(ie):($.if((0,code_1$c.propertyInData)($,L,ie,B.opts.ownProperties)),G(ie),B.allErrors||$.else().var(Q,!0),$.endIf()),T.it.definedProperties.add(ie),T.ok(Q);function te(ie){return B.opts.useDefaults&&!B.compositeRule&&I[ie].default!==void 0}function G(ie){T.subschema({keyword:"properties",schemaProp:ie,dataProp:ie},Q)}}};var _default$P=properties$6.default=def$C;const properties$5=_mergeNamespaces({__proto__:null,default:_default$P},[properties$6]);var patternProperties$3={};Object.defineProperty(patternProperties$3,"__esModule",{value:!0});const code_1$b=code$5,codegen_1$y=codegen$2,util_1$w=util$a,util_2$2=util$a,def$B={keyword:"patternProperties",type:"object",schemaType:"object",code(T){const{gen:$,schema:I,data:N,parentSchema:L,it:B}=T,{opts:H}=B,z=(0,code_1$b.allSchemaProperties)(I),Q=z.filter(Me=>(0,util_1$w.alwaysValidSchema)(B,I[Me]));if(z.length===0||Q.length===z.length&&(!B.opts.unevaluated||B.props===!0))return;const te=H.strictSchema&&!H.allowMatchingProperties&&L.properties,G=$.name("valid");B.props!==!0&&!(B.props instanceof codegen_1$y.Name)&&(B.props=(0,util_2$2.evaluatedPropsToName)($,B.props));const{props:ie}=B;Re();function Re(){for(const Me of z)te&&$e(Me),B.allErrors?Pe(Me):($.var(G,!0),Pe(Me),$.if(G))}function $e(Me){for(const Be in te)new RegExp(Me).test(Be)&&(0,util_1$w.checkStrictMode)(B,`property ${Be} matches pattern ${Me} (use allowMatchingProperties)`)}function Pe(Me){$.forIn("key",N,Be=>{$.if((0,codegen_1$y._)`${(0,code_1$b.usePattern)(T,Me)}.test(${Be})`,()=>{const Ke=Q.includes(Me);Ke||T.subschema({keyword:"patternProperties",schemaProp:Me,dataProp:Be,dataPropType:util_2$2.Type.Str},G),B.opts.unevaluated&&ie!==!0?$.assign((0,codegen_1$y._)`${ie}[${Be}]`,!0):!Ke&&!B.allErrors&&$.if((0,codegen_1$y.not)(G),()=>$.break())})})}}};var _default$O=patternProperties$3.default=def$B;const patternProperties$2=_mergeNamespaces({__proto__:null,default:_default$O},[patternProperties$3]);var not$3={};Object.defineProperty(not$3,"__esModule",{value:!0});const util_1$v=util$a,def$A={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(T){const{gen:$,schema:I,it:N}=T;if((0,util_1$v.alwaysValidSchema)(N,I)){T.fail();return}const L=$.name("valid");T.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},L),T.failResult(L,()=>T.reset(),()=>T.error())},error:{message:"must NOT be valid"}};var _default$N=not$3.default=def$A;const not$2=_mergeNamespaces({__proto__:null,default:_default$N},[not$3]);var anyOf$3={};Object.defineProperty(anyOf$3,"__esModule",{value:!0});const code_1$a=code$5,def$z={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1$a.validateUnion,error:{message:"must match a schema in anyOf"}};var _default$M=anyOf$3.default=def$z;const anyOf$2=_mergeNamespaces({__proto__:null,default:_default$M},[anyOf$3]);var oneOf$4={};Object.defineProperty(oneOf$4,"__esModule",{value:!0});const codegen_1$x=codegen$2,util_1$u=util$a,error$m={message:"must match exactly one schema in oneOf",params:({params:T})=>(0,codegen_1$x._)`{passingSchemas: ${T.passing}}`},def$y={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error$m,code(T){const{gen:$,schema:I,parentSchema:N,it:L}=T;if(!Array.isArray(I))throw new Error("ajv implementation error");if(L.opts.discriminator&&N.discriminator)return;const B=I,H=$.let("valid",!1),z=$.let("passing",null),Q=$.name("_valid");T.setParams({passing:z}),$.block(te),T.result(H,()=>T.reset(),()=>T.error(!0));function te(){B.forEach((G,ie)=>{let Re;(0,util_1$u.alwaysValidSchema)(L,G)?$.var(Q,!0):Re=T.subschema({keyword:"oneOf",schemaProp:ie,compositeRule:!0},Q),ie>0&&$.if((0,codegen_1$x._)`${Q} && ${H}`).assign(H,!1).assign(z,(0,codegen_1$x._)`[${z}, ${ie}]`).else(),$.if(Q,()=>{$.assign(H,!0),$.assign(z,ie),Re&&T.mergeEvaluated(Re,codegen_1$x.Name)})})}}};var _default$L=oneOf$4.default=def$y;const oneOf$3=_mergeNamespaces({__proto__:null,default:_default$L},[oneOf$4]);var allOf$3={};Object.defineProperty(allOf$3,"__esModule",{value:!0});const util_1$t=util$a,def$x={keyword:"allOf",schemaType:"array",code(T){const{gen:$,schema:I,it:N}=T;if(!Array.isArray(I))throw new Error("ajv implementation error");const L=$.name("valid");I.forEach((B,H)=>{if((0,util_1$t.alwaysValidSchema)(N,B))return;const z=T.subschema({keyword:"allOf",schemaProp:H},L);T.ok(L),T.mergeEvaluated(z)})}};var _default$K=allOf$3.default=def$x;const allOf$2=_mergeNamespaces({__proto__:null,default:_default$K},[allOf$3]);var _if$3={};Object.defineProperty(_if$3,"__esModule",{value:!0});const codegen_1$w=codegen$2,util_1$s=util$a,error$l={message:({params:T})=>(0,codegen_1$w.str)`must match "${T.ifClause}" schema`,params:({params:T})=>(0,codegen_1$w._)`{failingKeyword: ${T.ifClause}}`},def$w={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error$l,code(T){const{gen:$,parentSchema:I,it:N}=T;I.then===void 0&&I.else===void 0&&(0,util_1$s.checkStrictMode)(N,'"if" without "then" and "else" is ignored');const L=hasSchema$1(N,"then"),B=hasSchema$1(N,"else");if(!L&&!B)return;const H=$.let("valid",!0),z=$.name("_valid");if(Q(),T.reset(),L&&B){const G=$.let("ifClause");T.setParams({ifClause:G}),$.if(z,te("then",G),te("else",G))}else L?$.if(z,te("then")):$.if((0,codegen_1$w.not)(z),te("else"));T.pass(H,()=>T.error(!0));function Q(){const G=T.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},z);T.mergeEvaluated(G)}function te(G,ie){return()=>{const Re=T.subschema({keyword:G},z);$.assign(H,z),T.mergeValidEvaluated(Re,H),ie?$.assign(ie,(0,codegen_1$w._)`${G}`):T.setParams({ifClause:G})}}}};function hasSchema$1(T,$){const I=T.schema[$];return I!==void 0&&!(0,util_1$s.alwaysValidSchema)(T,I)}var _default$J=_if$3.default=def$w;const _if$2=_mergeNamespaces({__proto__:null,default:_default$J},[_if$3]);var thenElse$3={};Object.defineProperty(thenElse$3,"__esModule",{value:!0});const util_1$r=util$a,def$v={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:T,parentSchema:$,it:I}){$.if===void 0&&(0,util_1$r.checkStrictMode)(I,`"${T}" without "if" is ignored`)}};var _default$I=thenElse$3.default=def$v;const thenElse$2=_mergeNamespaces({__proto__:null,default:_default$I},[thenElse$3]);Object.defineProperty(applicator$3,"__esModule",{value:!0});const additionalItems_1$2=additionalItems$2,prefixItems_1$1=prefixItems$2,items_1$2=items$2,items2020_1$1=items2020$2,contains_1$1=contains$2,dependencies_1$1=dependencies$4,propertyNames_1$1=propertyNames$2,additionalProperties_1$2=additionalProperties$3,properties_1$1=properties$5,patternProperties_1$1=patternProperties$2,not_1$1=not$2,anyOf_1$1=anyOf$2,oneOf_1$1=oneOf$3,allOf_1$1=allOf$2,if_1$1=_if$2,thenElse_1$1=thenElse$2;function getApplicator$1(T=!1){const $=[not_1$1.default,anyOf_1$1.default,oneOf_1$1.default,allOf_1$1.default,if_1$1.default,thenElse_1$1.default,propertyNames_1$1.default,additionalProperties_1$2.default,dependencies_1$1.default,properties_1$1.default,patternProperties_1$1.default];return T?$.push(prefixItems_1$1.default,items2020_1$1.default):$.push(additionalItems_1$2.default,items_1$2.default),$.push(contains_1$1.default),$}var _default$H=applicator$3.default=getApplicator$1;const applicator$2=_mergeNamespaces({__proto__:null,default:_default$H},[applicator$3]);var format$c={},format$b={};Object.defineProperty(format$b,"__esModule",{value:!0});const codegen_1$v=codegen$2,error$k={message:({schemaCode:T})=>(0,codegen_1$v.str)`must match format "${T}"`,params:({schemaCode:T})=>(0,codegen_1$v._)`{format: ${T}}`},def$u={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error$k,code(T,$){const{gen:I,data:N,$data:L,schema:B,schemaCode:H,it:z}=T,{opts:Q,errSchemaPath:te,schemaEnv:G,self:ie}=z;if(!Q.validateFormats)return;L?Re():$e();function Re(){const Pe=I.scopeValue("formats",{ref:ie.formats,code:Q.code.formats}),Me=I.const("fDef",(0,codegen_1$v._)`${Pe}[${H}]`),Be=I.let("fType"),Ke=I.let("format");I.if((0,codegen_1$v._)`typeof ${Me} == "object" && !(${Me} instanceof RegExp)`,()=>I.assign(Be,(0,codegen_1$v._)`${Me}.type || "string"`).assign(Ke,(0,codegen_1$v._)`${Me}.validate`),()=>I.assign(Be,(0,codegen_1$v._)`"string"`).assign(Ke,Me)),T.fail$data((0,codegen_1$v.or)(Le(),qe()));function Le(){return Q.strictSchema===!1?codegen_1$v.nil:(0,codegen_1$v._)`${H} && !${Ke}`}function qe(){const He=G.$async?(0,codegen_1$v._)`(${Me}.async ? await ${Ke}(${N}) : ${Ke}(${N}))`:(0,codegen_1$v._)`${Ke}(${N})`,Ge=(0,codegen_1$v._)`(typeof ${Ke} == "function" ? ${He} : ${Ke}.test(${N}))`;return(0,codegen_1$v._)`${Ke} && ${Ke} !== true && ${Be} === ${$} && !${Ge}`}}function $e(){const Pe=ie.formats[B];if(!Pe){Le();return}if(Pe===!0)return;const[Me,Be,Ke]=qe(Pe);Me===$&&T.pass(He());function Le(){if(Q.strictSchema===!1){ie.logger.warn(Ge());return}throw new Error(Ge());function Ge(){return`unknown format "${B}" ignored in schema at path "${te}"`}}function qe(Ge){const at=Ge instanceof RegExp?(0,codegen_1$v.regexpCode)(Ge):Q.code.formats?(0,codegen_1$v._)`${Q.code.formats}${(0,codegen_1$v.getProperty)(B)}`:void 0,ot=I.scopeValue("formats",{key:B,ref:Ge,code:at});return typeof Ge=="object"&&!(Ge instanceof RegExp)?[Ge.type||"string",Ge.validate,(0,codegen_1$v._)`${ot}.validate`]:["string",Ge,ot]}function He(){if(typeof Pe=="object"&&!(Pe instanceof RegExp)&&Pe.async){if(!G.$async)throw new Error("async format in sync schema");return(0,codegen_1$v._)`await ${Ke}(${N})`}return typeof Be=="function"?(0,codegen_1$v._)`${Ke}(${N})`:(0,codegen_1$v._)`${Ke}.test(${N})`}}}};var _default$G=format$b.default=def$u;const format$a=_mergeNamespaces({__proto__:null,default:_default$G},[format$b]);Object.defineProperty(format$c,"__esModule",{value:!0});const format_1$3=format$a,format$8=[format_1$3.default];var _default$F=format$c.default=format$8;const format$9=_mergeNamespaces({__proto__:null,default:_default$F},[format$c]);var metadata$3={};Object.defineProperty(metadata$3,"__esModule",{value:!0});var contentVocabulary$1=metadata$3.contentVocabulary=metadataVocabulary$1=metadata$3.metadataVocabulary=void 0,metadataVocabulary$1=metadata$3.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];contentVocabulary$1=metadata$3.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];const metadata$2=_mergeNamespaces({__proto__:null,get contentVocabulary(){return contentVocabulary$1},default:metadata$3,get metadataVocabulary(){return metadataVocabulary$1}},[metadata$3]);Object.defineProperty(draft7$3,"__esModule",{value:!0});const core_1$1=core$8,validation_1$1=validation$4,applicator_1$1=applicator$2,format_1$2=format$9,metadata_1$1=metadata$2,draft7Vocabularies$1=[core_1$1.default,validation_1$1.default,(0,applicator_1$1.default)(),format_1$2.default,metadata_1$1.metadataVocabulary,metadata_1$1.contentVocabulary];var _default$E=draft7$3.default=draft7Vocabularies$1;const draft7$2=_mergeNamespaces({__proto__:null,default:_default$E},[draft7$3]);var discriminator$3={},types$7={};Object.defineProperty(types$7,"__esModule",{value:!0});var DiscrError_1=types$7.DiscrError=void 0,DiscrError;(function(T){T.Tag="tag",T.Mapping="mapping"})(DiscrError||(DiscrError_1=types$7.DiscrError=DiscrError={}));const types$6=_mergeNamespaces({__proto__:null,get DiscrError(){return DiscrError_1},default:types$7},[types$7]);Object.defineProperty(discriminator$3,"__esModule",{value:!0});const codegen_1$u=codegen$2,types_1$1=types$6,compile_1$2=compile$2,ref_error_1$1=ref_error$2,util_1$q=util$a,error$j={message:({params:{discrError:T,tagName:$}})=>T===types_1$1.DiscrError.Tag?`tag "${$}" must be string`:`value of tag "${$}" must be in oneOf`,params:({params:{discrError:T,tag:$,tagName:I}})=>(0,codegen_1$u._)`{error: ${T}, tag: ${I}, tagValue: ${$}}`},def$t={keyword:"discriminator",type:"object",schemaType:"object",error:error$j,code(T){const{gen:$,data:I,schema:N,parentSchema:L,it:B}=T,{oneOf:H}=L;if(!B.opts.discriminator)throw new Error("discriminator: requires discriminator option");const z=N.propertyName;if(typeof z!="string")throw new Error("discriminator: requires propertyName");if(N.mapping)throw new Error("discriminator: mapping is not supported");if(!H)throw new Error("discriminator: requires oneOf keyword");const Q=$.let("valid",!1),te=$.const("tag",(0,codegen_1$u._)`${I}${(0,codegen_1$u.getProperty)(z)}`);$.if((0,codegen_1$u._)`typeof ${te} == "string"`,()=>G(),()=>T.error(!1,{discrError:types_1$1.DiscrError.Tag,tag:te,tagName:z})),T.ok(Q);function G(){const $e=Re();$.if(!1);for(const Pe in $e)$.elseIf((0,codegen_1$u._)`${te} === ${Pe}`),$.assign(Q,ie($e[Pe]));$.else(),T.error(!1,{discrError:types_1$1.DiscrError.Mapping,tag:te,tagName:z}),$.endIf()}function ie($e){const Pe=$.name("valid"),Me=T.subschema({keyword:"oneOf",schemaProp:$e},Pe);return T.mergeEvaluated(Me,codegen_1$u.Name),Pe}function Re(){var $e;const Pe={},Me=Ke(L);let Be=!0;for(let He=0;He<H.length;He++){let Ge=H[He];if(Ge!=null&&Ge.$ref&&!(0,util_1$q.schemaHasRulesButRef)(Ge,B.self.RULES)){const ot=Ge.$ref;if(Ge=compile_1$2.resolveRef.call(B.self,B.schemaEnv.root,B.baseId,ot),Ge instanceof compile_1$2.SchemaEnv&&(Ge=Ge.schema),Ge===void 0)throw new ref_error_1$1.default(B.opts.uriResolver,B.baseId,ot)}const at=($e=Ge==null?void 0:Ge.properties)===null||$e===void 0?void 0:$e[z];if(typeof at!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${z}"`);Be=Be&&(Me||Ke(Ge)),Le(at,He)}if(!Be)throw new Error(`discriminator: "${z}" must be required`);return Pe;function Ke({required:He}){return Array.isArray(He)&&He.includes(z)}function Le(He,Ge){if(He.const)qe(He.const,Ge);else if(He.enum)for(const at of He.enum)qe(at,Ge);else throw new Error(`discriminator: "properties/${z}" must have "const" or "enum"`)}function qe(He,Ge){if(typeof He!="string"||He in Pe)throw new Error(`discriminator: "${z}" values must be unique strings`);Pe[He]=Ge}}}};var _default$D=discriminator$3.default=def$t;const discriminator$2=_mergeNamespaces({__proto__:null,default:_default$D},[discriminator$3]),$schema$1="http://json-schema.org/draft-07/schema#",$id$2="http://json-schema.org/draft-07/schema#",title$1="Core schema meta-schema",definitions$1={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type$2=["object","boolean"],properties$4={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},require$$3$1={$schema:$schema$1,$id:$id$2,title:title$1,definitions:definitions$1,type:type$2,properties:properties$4,default:!0};(function(T,$){Object.defineProperty($,"__esModule",{value:!0}),$.MissingRefError=$.ValidationError=$.CodeGen=$.Name=$.nil=$.stringify=$.str=$._=$.KeywordCxt=$.Ajv=void 0;const I=core$b,N=draft7$2,L=discriminator$2,B=require$$3$1,H=["/properties"],z="http://json-schema.org/draft-07/schema";class Q extends I.default{_addVocabularies(){super._addVocabularies(),N.default.forEach(Pe=>this.addVocabulary(Pe)),this.opts.discriminator&&this.addKeyword(L.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const Pe=this.opts.$data?this.$dataMetaSchema(B,H):B;this.addMetaSchema(Pe,z,!1),this.refs["http://json-schema.org/schema"]=z}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(z)?z:void 0)}}$.Ajv=Q,T.exports=$=Q,T.exports.Ajv=Q,Object.defineProperty($,"__esModule",{value:!0}),$.default=Q;var te=validate$3;Object.defineProperty($,"KeywordCxt",{enumerable:!0,get:function(){return te.KeywordCxt}});var G=codegen$2;Object.defineProperty($,"_",{enumerable:!0,get:function(){return G._}}),Object.defineProperty($,"str",{enumerable:!0,get:function(){return G.str}}),Object.defineProperty($,"stringify",{enumerable:!0,get:function(){return G.stringify}}),Object.defineProperty($,"nil",{enumerable:!0,get:function(){return G.nil}}),Object.defineProperty($,"Name",{enumerable:!0,get:function(){return G.Name}}),Object.defineProperty($,"CodeGen",{enumerable:!0,get:function(){return G.CodeGen}});var ie=validation_error$2;Object.defineProperty($,"ValidationError",{enumerable:!0,get:function(){return ie.default}});var Re=ref_error$2;Object.defineProperty($,"MissingRefError",{enumerable:!0,get:function(){return Re.default}})})(ajv$2,ajv$2.exports);var ajvExports$1=ajv$2.exports;const Ajv$1=getDefaultExportFromCjs$1(ajvExports$1),ajv$1=_mergeNamespaces({__proto__:null,default:Ajv$1},[ajvExports$1]);var dist$1={exports:{}},formats$2={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.formatNames=T.fastFormats=T.fullFormats=void 0;function $(nt,Qe){return{validate:nt,compare:Qe}}T.fullFormats={date:$(B,H),time:$(Q,te),"date-time":$(ie,Re),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Me,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Ye,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Ke,int32:{type:"number",validate:He},int64:{type:"number",validate:Ge},float:{type:"number",validate:at},double:{type:"number",validate:at},password:!0,binary:!0},T.fastFormats={...T.fullFormats,date:$(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,H),time:$(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,te),"date-time":$(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Re),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},T.formatNames=Object.keys(T.fullFormats);function I(nt){return nt%4===0&&(nt%100!==0||nt%400===0)}const N=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,L=[0,31,28,31,30,31,30,31,31,30,31,30,31];function B(nt){const Qe=N.exec(nt);if(!Qe)return!1;const tt=+Qe[1],ze=+Qe[2],Fe=+Qe[3];return ze>=1&&ze<=12&&Fe>=1&&Fe<=(ze===2&&I(tt)?29:L[ze])}function H(nt,Qe){if(nt&&Qe)return nt>Qe?1:nt<Qe?-1:0}const z=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Q(nt,Qe){const tt=z.exec(nt);if(!tt)return!1;const ze=+tt[1],Fe=+tt[2],ke=+tt[3],Ue=tt[5];return(ze<=23&&Fe<=59&&ke<=59||ze===23&&Fe===59&&ke===60)&&(!Qe||Ue!=="")}function te(nt,Qe){if(!(nt&&Qe))return;const tt=z.exec(nt),ze=z.exec(Qe);if(tt&&ze)return nt=tt[1]+tt[2]+tt[3]+(tt[4]||""),Qe=ze[1]+ze[2]+ze[3]+(ze[4]||""),nt>Qe?1:nt<Qe?-1:0}const G=/t|\s/i;function ie(nt){const Qe=nt.split(G);return Qe.length===2&&B(Qe[0])&&Q(Qe[1],!0)}function Re(nt,Qe){if(!(nt&&Qe))return;const[tt,ze]=nt.split(G),[Fe,ke]=Qe.split(G),Ue=H(tt,Fe);if(Ue!==void 0)return Ue||te(ze,ke)}const $e=/\/|:/,Pe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Me(nt){return $e.test(nt)&&Pe.test(nt)}const Be=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Ke(nt){return Be.lastIndex=0,Be.test(nt)}const Le=-2147483648,qe=2**31-1;function He(nt){return Number.isInteger(nt)&&nt<=qe&&nt>=Le}function Ge(nt){return Number.isInteger(nt)}function at(){return!0}const ot=/[^\\]\\Z/;function Ye(nt){if(ot.test(nt))return!1;try{return new RegExp(nt),!0}catch{return!1}}})(formats$2);const formats=getDefaultExportFromCjs$1(formats$2),formats$1=_mergeNamespaces({__proto__:null,default:formats},[formats$2]);var limit$2={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.formatLimitDefinition=void 0;const $=ajv$1,I=codegen$2,N=I.operators,L={formatMaximum:{okStr:"<=",ok:N.LTE,fail:N.GT},formatMinimum:{okStr:">=",ok:N.GTE,fail:N.LT},formatExclusiveMaximum:{okStr:"<",ok:N.LT,fail:N.GTE},formatExclusiveMinimum:{okStr:">",ok:N.GT,fail:N.LTE}},B={message:({keyword:z,schemaCode:Q})=>I.str`should be ${L[z].okStr} ${Q}`,params:({keyword:z,schemaCode:Q})=>I._`{comparison: ${L[z].okStr}, limit: ${Q}}`};T.formatLimitDefinition={keyword:Object.keys(L),type:"string",schemaType:"string",$data:!0,error:B,code(z){const{gen:Q,data:te,schemaCode:G,keyword:ie,it:Re}=z,{opts:$e,self:Pe}=Re;if(!$e.validateFormats)return;const Me=new $.KeywordCxt(Re,Pe.RULES.all.format.definition,"format");Me.$data?Be():Ke();function Be(){const qe=Q.scopeValue("formats",{ref:Pe.formats,code:$e.code.formats}),He=Q.const("fmt",I._`${qe}[${Me.schemaCode}]`);z.fail$data(I.or(I._`typeof ${He} != "object"`,I._`${He} instanceof RegExp`,I._`typeof ${He}.compare != "function"`,Le(He)))}function Ke(){const qe=Me.schema,He=Pe.formats[qe];if(!He||He===!0)return;if(typeof He!="object"||He instanceof RegExp||typeof He.compare!="function")throw new Error(`"${ie}": format "${qe}" does not define "compare" function`);const Ge=Q.scopeValue("formats",{key:qe,ref:He,code:$e.code.formats?I._`${$e.code.formats}${I.getProperty(qe)}`:void 0});z.fail$data(Le(Ge))}function Le(qe){return I._`${qe}.compare(${te}, ${G}) ${L[ie].fail} 0`}},dependencies:["format"]};const H=z=>(z.addKeyword(T.formatLimitDefinition),z);T.default=H})(limit$2);const limit=getDefaultExportFromCjs$1(limit$2),limit$1=_mergeNamespaces({__proto__:null,default:limit},[limit$2]);(function(T,$){Object.defineProperty($,"__esModule",{value:!0});const I=formats$1,N=limit$1,L=codegen$2,B=new L.Name("fullFormats"),H=new L.Name("fastFormats"),z=(te,G={keywords:!0})=>{if(Array.isArray(G))return Q(te,G,I.fullFormats,B),te;const[ie,Re]=G.mode==="fast"?[I.fastFormats,H]:[I.fullFormats,B],$e=G.formats||I.formatNames;return Q(te,$e,ie,Re),G.keywords&&N.default(te),te};z.get=(te,G="full")=>{const Re=(G==="fast"?I.fastFormats:I.fullFormats)[te];if(!Re)throw new Error(`Unknown format "${te}"`);return Re};function Q(te,G,ie,Re){var $e,Pe;($e=(Pe=te.opts.code).formats)!==null&&$e!==void 0||(Pe.formats=L._`require("ajv-formats/dist/formats").${Re}`);for(const Me of G)te.addFormat(Me,ie[Me])}T.exports=$=z,Object.defineProperty($,"__esModule",{value:!0}),$.default=z})(dist$1,dist$1.exports);var distExports=dist$1.exports;const addFormats=getDefaultExportFromCjs$1(distExports);class InputDescriptorFilterEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"FilterEvaluation"}handle($,I){const N=JSONPath.nodes($,"$..fields[*]");I.forEach((L,B)=>{this.createNoFieldResults($,B,L),N.forEach(H=>{let z=[];H.value.path&&(z=JsonPathUtils.extractInputField(L.credential,H.value.path));let Q=!1;for(const te of z)if(this.evaluateFilter(te,H.value)){Q=!0;const G={result:{...z[0]},valid:!0,format:L.format};this.getResults().push({...this.createResultObject(JSONPath.stringify(H.path.slice(0,3)),B,G)})}if(!Q)if(z.length){const te={result:{...z[0]},valid:!1,format:L.format};this.createResponse(H,B,te,PexMessages$1.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else{const te={valid:!1,format:L.format};this.createResponse(H,B,te,PexMessages$1.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)}})}),this.updatePresentationSubmission($)}createNoFieldResults($,I,N){$.input_descriptors.map((B,H)=>({index:H,inDesc:B})).filter(B=>{var H,z,Q;return((H=B.inDesc.constraints)==null?void 0:H.fields)===void 0||((Q=(z=B.inDesc.constraints)==null?void 0:z.fields)==null?void 0:Q.length)===0}).forEach(B=>{const H={result:[],valid:!0,format:N.format};this.getResults().push({...this.createResultObject(`$.input_descriptors[${B.index}]`,I,H)})})}createResponse($,I,N,L){this.getResults().push({...this.createResultObject(JSONPath.stringify($.path.slice(0,3)),I,N),status:Status$1.ERROR,message:L})}createResultObject($,I,N){return{input_descriptor_path:$,verifiable_credential_path:`$[${I}]`,evaluator:this.getName(),status:Status$1.INFO,message:PexMessages$1.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:N}}evaluateFilter($,I){var L;(L=I.filter)!=null&&L.format&&I.filter.format==="date"&&this.transformDateFormat($);const N=new Ajv$1({verbose:!0,code:{source:!0,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});return addFormats(N),I.filter?N.validate(I.filter,$.value):!0}transformDateFormat($){const I=new Date($.value);let N=I.getUTCMonth()+1+"";N.length===1&&(N="0"+N);let L=I.getUTCDate()+"";L.length===1&&(L="0"+L),$.value=I.getUTCFullYear()+"-"+N+"-"+L,$.value=I.toISOString().substring(0,I.toISOString().indexOf("T"))}}var dist={},models$2={},callback$1={};Object.defineProperty(callback$1,"__esModule",{value:!0});const callback=_mergeNamespaces({__proto__:null,default:callback$1},[callback$1]);var challenge$1={};Object.defineProperty(challenge$1,"__esModule",{value:!0});const challenge=_mergeNamespaces({__proto__:null,default:challenge$1},[challenge$1]);var constraintsV1$1={};Object.defineProperty(constraintsV1$1,"__esModule",{value:!0});const constraintsV1=_mergeNamespaces({__proto__:null,default:constraintsV1$1},[constraintsV1$1]);var constraintsV2$1={};Object.defineProperty(constraintsV2$1,"__esModule",{value:!0});const constraintsV2=_mergeNamespaces({__proto__:null,default:constraintsV2$1},[constraintsV2$1]);var descriptor$1={};Object.defineProperty(descriptor$1,"__esModule",{value:!0});const descriptor=_mergeNamespaces({__proto__:null,default:descriptor$1},[descriptor$1]);var diObject$1={};Object.defineProperty(diObject$1,"__esModule",{value:!0});const diObject=_mergeNamespaces({__proto__:null,default:diObject$1},[diObject$1]);var directives$1={};Object.defineProperty(directives$1,"__esModule",{value:!0});var Directives=directives$1.Directives=void 0;Directives=directives$1.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"};const directives=_mergeNamespaces({__proto__:null,get Directives(){return Directives},default:directives$1},[directives$1]);var exchangeStatus$1={};Object.defineProperty(exchangeStatus$1,"__esModule",{value:!0});var ExchangeStatus=exchangeStatus$1.ExchangeStatus=void 0;ExchangeStatus=exchangeStatus$1.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"};const exchangeStatus=_mergeNamespaces({__proto__:null,get ExchangeStatus(){return ExchangeStatus},default:exchangeStatus$1},[exchangeStatus$1]);var fieldV1$1={};Object.defineProperty(fieldV1$1,"__esModule",{value:!0});const fieldV1=_mergeNamespaces({__proto__:null,default:fieldV1$1},[fieldV1$1]);var fieldV2$1={};Object.defineProperty(fieldV2$1,"__esModule",{value:!0});const fieldV2=_mergeNamespaces({__proto__:null,default:fieldV2$1},[fieldV2$1]);var filterV1$1={};Object.defineProperty(filterV1$1,"__esModule",{value:!0});const filterV1=_mergeNamespaces({__proto__:null,default:filterV1$1},[filterV1$1]);var filterV2$1={};Object.defineProperty(filterV2$1,"__esModule",{value:!0});const filterV2=_mergeNamespaces({__proto__:null,default:filterV2$1},[filterV2$1]);var filterV2Items$1={};Object.defineProperty(filterV2Items$1,"__esModule",{value:!0});const filterV2Items=_mergeNamespaces({__proto__:null,default:filterV2Items$1},[filterV2Items$1]);var format$7={};Object.defineProperty(format$7,"__esModule",{value:!0});const format$6=_mergeNamespaces({__proto__:null,default:format$7},[format$7]);var holderSubject$1={};Object.defineProperty(holderSubject$1,"__esModule",{value:!0});const holderSubject=_mergeNamespaces({__proto__:null,default:holderSubject$1},[holderSubject$1]);var inputDescriptorV1$1={};Object.defineProperty(inputDescriptorV1$1,"__esModule",{value:!0});const inputDescriptorV1=_mergeNamespaces({__proto__:null,default:inputDescriptorV1$1},[inputDescriptorV1$1]);var inputDescriptorV2$1={};Object.defineProperty(inputDescriptorV2$1,"__esModule",{value:!0});const inputDescriptorV2=_mergeNamespaces({__proto__:null,default:inputDescriptorV2$1},[inputDescriptorV2$1]);var issuance$1={};Object.defineProperty(issuance$1,"__esModule",{value:!0});const issuance=_mergeNamespaces({__proto__:null,default:issuance$1},[issuance$1]);var issue$1={};Object.defineProperty(issue$1,"__esModule",{value:!0});const issue=_mergeNamespaces({__proto__:null,default:issue$1},[issue$1]);var jwtObject$1={};Object.defineProperty(jwtObject$1,"__esModule",{value:!0});const jwtObject=_mergeNamespaces({__proto__:null,default:jwtObject$1},[jwtObject$1]);var ldpObject$1={};Object.defineProperty(ldpObject$1,"__esModule",{value:!0});const ldpObject=_mergeNamespaces({__proto__:null,default:ldpObject$1},[ldpObject$1]);var msoMdocObject$1={};Object.defineProperty(msoMdocObject$1,"__esModule",{value:!0});const msoMdocObject=_mergeNamespaces({__proto__:null,default:msoMdocObject$1},[msoMdocObject$1]);var oneOfNumberString$1={};Object.defineProperty(oneOfNumberString$1,"__esModule",{value:!0});const oneOfNumberString=_mergeNamespaces({__proto__:null,default:oneOfNumberString$1},[oneOfNumberString$1]);var oneOfNumberStringBoolean$1={};Object.defineProperty(oneOfNumberStringBoolean$1,"__esModule",{value:!0});const oneOfNumberStringBoolean=_mergeNamespaces({__proto__:null,default:oneOfNumberStringBoolean$1},[oneOfNumberStringBoolean$1]);var optionality$1={};Object.defineProperty(optionality$1,"__esModule",{value:!0});var Optionality=optionality$1.Optionality=void 0;Optionality=optionality$1.Optionality={Required:"required",Preferred:"preferred"};const optionality=_mergeNamespaces({__proto__:null,get Optionality(){return Optionality},default:optionality$1},[optionality$1]);var pdStatus$1={};Object.defineProperty(pdStatus$1,"__esModule",{value:!0});const pdStatus=_mergeNamespaces({__proto__:null,default:pdStatus$1},[pdStatus$1]);var presentationDefinitionV1$1={};Object.defineProperty(presentationDefinitionV1$1,"__esModule",{value:!0});const presentationDefinitionV1=_mergeNamespaces({__proto__:null,default:presentationDefinitionV1$1},[presentationDefinitionV1$1]);var presentationDefinitionV2$1={};Object.defineProperty(presentationDefinitionV2$1,"__esModule",{value:!0});const presentationDefinitionV2=_mergeNamespaces({__proto__:null,default:presentationDefinitionV2$1},[presentationDefinitionV2$1]);var presentationDefinitionWrapper$1={};Object.defineProperty(presentationDefinitionWrapper$1,"__esModule",{value:!0});const presentationDefinitionWrapper=_mergeNamespaces({__proto__:null,default:presentationDefinitionWrapper$1},[presentationDefinitionWrapper$1]);var presentationStatus$1={};Object.defineProperty(presentationStatus$1,"__esModule",{value:!0});const presentationStatus=_mergeNamespaces({__proto__:null,default:presentationStatus$1},[presentationStatus$1]);var presentationStatusWrapper$1={};Object.defineProperty(presentationStatusWrapper$1,"__esModule",{value:!0});const presentationStatusWrapper=_mergeNamespaces({__proto__:null,default:presentationStatusWrapper$1},[presentationStatusWrapper$1]);var presentationSubmission$1={};Object.defineProperty(presentationSubmission$1,"__esModule",{value:!0});const presentationSubmission=_mergeNamespaces({__proto__:null,default:presentationSubmission$1},[presentationSubmission$1]);var presentationWrapper$1={};Object.defineProperty(presentationWrapper$1,"__esModule",{value:!0});const presentationWrapper=_mergeNamespaces({__proto__:null,default:presentationWrapper$1},[presentationWrapper$1]);var resource$1={};Object.defineProperty(resource$1,"__esModule",{value:!0});const resource=_mergeNamespaces({__proto__:null,default:resource$1},[resource$1]);var rules$3={};Object.defineProperty(rules$3,"__esModule",{value:!0});var Rules=rules$3.Rules=void 0;Rules=rules$3.Rules={All:"all",Pick:"pick"};const rules$2=_mergeNamespaces({__proto__:null,get Rules(){return Rules},default:rules$3},[rules$3]);var schema$1={};Object.defineProperty(schema$1,"__esModule",{value:!0});const schema=_mergeNamespaces({__proto__:null,default:schema$1},[schema$1]);var sdJwtObject$1={};Object.defineProperty(sdJwtObject$1,"__esModule",{value:!0});const sdJwtObject=_mergeNamespaces({__proto__:null,default:sdJwtObject$1},[sdJwtObject$1]);var status$1={};Object.defineProperty(status$1,"__esModule",{value:!0});var Status=status$1.Status=void 0;Status=status$1.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"};const status=_mergeNamespaces({__proto__:null,get Status(){return Status},default:status$1},[status$1]);var statusResponse$1={};Object.defineProperty(statusResponse$1,"__esModule",{value:!0});const statusResponse=_mergeNamespaces({__proto__:null,default:statusResponse$1},[statusResponse$1]);var statuses$1={};Object.defineProperty(statuses$1,"__esModule",{value:!0});const statuses=_mergeNamespaces({__proto__:null,default:statuses$1},[statuses$1]);var submissionRequirement$1={};Object.defineProperty(submissionRequirement$1,"__esModule",{value:!0});const submissionRequirement=_mergeNamespaces({__proto__:null,default:submissionRequirement$1},[submissionRequirement$1]);var thread$1={};Object.defineProperty(thread$1,"__esModule",{value:!0});const thread=_mergeNamespaces({__proto__:null,default:thread$1},[thread$1]);(function(T){var $=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(N,L,B,H){H===void 0&&(H=B);var z=Object.getOwnPropertyDescriptor(L,B);(!z||("get"in z?!L.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return L[B]}}),Object.defineProperty(N,H,z)}:function(N,L,B,H){H===void 0&&(H=B),N[H]=L[B]}),I=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(N,L){for(var B in N)B!=="default"&&!Object.prototype.hasOwnProperty.call(L,B)&&$(L,N,B)};Object.defineProperty(T,"__esModule",{value:!0}),I(callback,T),I(challenge,T),I(constraintsV1,T),I(constraintsV2,T),I(descriptor,T),I(diObject,T),I(directives,T),I(exchangeStatus,T),I(fieldV1,T),I(fieldV2,T),I(filterV1,T),I(filterV2,T),I(filterV2Items,T),I(format$6,T),I(holderSubject,T),I(inputDescriptorV1,T),I(inputDescriptorV2,T),I(issuance,T),I(issue,T),I(jwtObject,T),I(ldpObject,T),I(msoMdocObject,T),I(oneOfNumberString,T),I(oneOfNumberStringBoolean,T),I(optionality,T),I(pdStatus,T),I(presentationDefinitionV1,T),I(presentationDefinitionV2,T),I(presentationDefinitionWrapper,T),I(presentationStatus,T),I(presentationStatusWrapper,T),I(presentationSubmission,T),I(presentationWrapper,T),I(resource,T),I(rules$2,T),I(schema,T),I(sdJwtObject,T),I(status,T),I(statusResponse,T),I(statuses,T),I(submissionRequirement,T),I(thread,T)})(models$2);const models=getDefaultExportFromCjs$1(models$2),models$1=_mergeNamespaces({__proto__:null,default:models},[models$2]);(function(T){var $=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(N,L,B,H){H===void 0&&(H=B);var z=Object.getOwnPropertyDescriptor(L,B);(!z||("get"in z?!L.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return L[B]}}),Object.defineProperty(N,H,z)}:function(N,L,B,H){H===void 0&&(H=B),N[H]=L[B]}),I=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(N,L){for(var B in N)B!=="default"&&!Object.prototype.hasOwnProperty.call(L,B)&&$(L,N,B)};Object.defineProperty(T,"__esModule",{value:!0}),I(models$1,T)})(dist);class SubjectIsHolderEvaluationHandler extends AbstractEvaluationHandler{constructor(I){super(I);Dr(this,"fieldIdzInputDescriptorsSameSubjectRequired");Dr(this,"fieldIdzInputDescriptorsSameSubjectPreferred");Dr(this,"fieldIds");Dr(this,"isHolder");Dr(this,"credentialsSubjectsByPath");Dr(this,"credentialsByPath");Dr(this,"messages");this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(Status$1.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(Status$1.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(Status$1.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(I,N){this.findIsHolderFieldIdsToInputDescriptorsSets(I),this.findAllCredentialSubjects(N),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,Status$1.INFO,dist.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,Status$1.WARN,dist.Optionality.Preferred),this.updatePresentationSubmission(I)}findIsHolderFieldIdsToInputDescriptorsSets(I){var B;this.fieldIds.push(...JSONPath.nodes(I,"$..fields[*].id")),this.isHolder.push(...JSONPath.nodes(I,"$..is_holder[*]"));const N=(B=this.fieldIds)==null?void 0:B.map(H=>H.value),L=[];L.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,N,dist.Optionality.Preferred)),L.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,N,dist.Optionality.Required)),L.forEach(H=>this.getResults().push(this.createResult(H[1],H[0],["",{}],Status$1.ERROR,void 0)))}evaluateFields(I,N,L,B){const H=[];return N.filter(z=>z.value.directive===B).filter(z=>z.value.field_id.every(Q=>L.includes(Q))).forEach(z=>I.set(JSONPath.stringify(z.path.slice(0,3)),z.value.field_id)),N.filter(z=>z.value.directive===B).filter(z=>!z.value.field_id.every(Q=>L.includes(Q))).forEach(z=>H.push([JSONPath.stringify(z.path.slice(0,3)),z.value.field_id])),H}findAllCredentialSubjects(I){const N=JSONPath.nodes(I.map(L=>L.credential),"$..credentialSubject");for(let L=0;L<N.length;L++){const B=N[L],H=JSONPath.stringify(B.path.slice(0,2));this.credentialsSubjectsByPath.set(H,B.value),this.credentialsByPath.set(H,I[L])}}confirmAllFieldSetHasSameSubject(I,N,L){const B=Array.from(I).flatMap(te=>Array.from(this.credentialsSubjectsByPath).filter(G=>te[1].find(ie=>Object.keys(G[1]).includes(ie)))),H=this.mapCredentialPathsToInputDescriptors(L),z=Array.from(B).flatMap(te=>Object.keys(te[1]).filter(G=>G!=="id")),Q=Array.from(I.values()).flatMap(te=>te.every(G=>z.includes(G)))[0];B.forEach(te=>{const G=H.get(te[0]);Q&&te[1].id&&this.client.dids.includes(te[1].id)?this.getResults().push(this.createResult(Object.keys(te[1]).filter(ie=>ie!=="id"),G,te,N,this.credentialsByPath.get(te[0]))):this.getResults().push(this.createResult(Object.keys(te[1]).filter(ie=>ie!=="id"),G,te,Status$1.ERROR,this.credentialsByPath.get(te[0])))})}mapCredentialPathsToInputDescriptors(I){var L;const N=new Map;return(L=this.fieldIds)==null||L.forEach(B=>{const H=JSONPath.stringify(B.path.slice(0,3));this.credentialsSubjectsByPath.forEach((z,Q)=>{const te=this.isHolder.find(G=>JSONPath.stringify(G.path.slice(0,3))===H);Object.keys(z).includes(B.value)&&(te==null?void 0:te.value.directive)===I&&N.set(Q,H)})}),N}createResult(I,N,L,B,H,z){return{input_descriptor_path:N,verifiable_credential_path:L[0],evaluator:this.getName(),status:B,payload:{fieldIdSet:I,credentialSubject:L[1],...H?{format:H.format}:{}},message:z??this.messages.get(B)}}}class LimitDisclosureEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"LimitDisclosureEvaluation"}handle($,I){$.input_descriptors.forEach((N,L)=>{var B,H,z;(B=N.constraints)!=null&&B.fields&&(((H=N.constraints)==null?void 0:H.limit_disclosure)===dist.Optionality.Required||((z=N.constraints)==null?void 0:z.limit_disclosure)===dist.Optionality.Preferred)&&this.evaluateLimitDisclosure(I,N.constraints,L)})}isLimitDisclosureSupported($,I,N,L){const B=this.client.limitDisclosureSignatureSuites,H=$.decoded.proof;return!H||Array.isArray(H)||!H.type?!1:B!=null&&B.includes(H.type)?!0:(L==dist.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(N,I),!1)}evaluateLimitDisclosure($,I,N){const L=I==null?void 0:I.fields,B=I.limit_disclosure;$.forEach((H,z)=>{B&&this.isLimitDisclosureSupported(H,z,N,B)&&this.enforceLimitDisclosure(H.credential,L,N,z,$,B)})}enforceLimitDisclosure($,I,N,L,B,H){const z=this.createVcWithRequiredFields($,I,N,L);z&&(B[L].credential=z,this.createSuccessResult(N,`$[${L}]`,H))}createVcWithRequiredFields($,I,N,L){let B={};B=Object.assign(B,$),B.credentialSubject={};for(const H of I)if(H.path){const z=JsonPathUtils.extractInputField($,H.path);if(z.length>0)B=this.copyResultPathToDestinationCredential(z[0],$,B);else{this.createMandatoryFieldNotFoundResult(N,L,H.path);return}}return B}copyResultPathToDestinationCredential($,I,N){let L={...I.credentialSubject};return $.path.forEach(B=>{L[B]&&(L={[B]:L[B]})}),N.credentialSubject={...N.credentialSubject,...L},N}createSuccessResult($,I,N){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${$}]`,verifiable_credential_path:`${I}`,evaluator:this.getName(),status:N===dist.Optionality.Required?Status$1.INFO:Status$1.WARN,message:PexMessages$1.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult($,I,N){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${$}]`,verifiable_credential_path:`$[${I}]`,evaluator:this.getName(),status:Status$1.ERROR,message:PexMessages$1.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:N})}createLimitDisclosureNotSupportedResult($,I){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${$}]`,verifiable_credential_path:`$[${I}]`,evaluator:this.getName(),status:Status$1.ERROR,message:PexMessages$1.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}class MarkForSubmissionEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"MarkForSubmissionEvaluation"}handle($,I){const N=[...this.getResults()],L=N.filter(H=>H.status===Status$1.ERROR),B=this.retrieveNoErrorStatus(N,L);this.client.wrappedVcs=I,this.produceErrorResults(L),this.produceSuccessResults(B,$)}retrieveNoErrorStatus($,I){return $.filter(L=>L.status!==Status$1.ERROR).filter(L=>!I.find(B=>L.input_descriptor_path===B.input_descriptor_path&&L.verifiable_credential_path===B.verifiable_credential_path))}produceSuccessResults($,I){this.removeDuplicate($).forEach(N=>{const B=JSONPath.nodes(I,N.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:N.input_descriptor_path,verifiable_credential_path:N.verifiable_credential_path,evaluator:this.getName(),status:Status$1.INFO,payload:{group:B},message:PexMessages$1.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})})}produceErrorResults($){this.removeDuplicate($).forEach(I=>{const N={...I.payload};N.evaluator=I.evaluator,this.getResults().push({...I,evaluator:this.getName(),message:PexMessages$1.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:N})})}}class PredicateRelatedFieldEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"PredicateRelatedFieldEvaluation"}handle($){$.input_descriptors.forEach((I,N)=>{I.constraints&&this.examinePredicateRelatedField(N,I.constraints)})}examinePredicateRelatedField($,I){if(I!=null&&I.fields)for(let N=0;N<I.fields.length;N++)for(let L=0;L<this.getResults().length;L++)this.examinePredicateForFilterEvaluationResult(this.getResults(),L,$,I,N)}examinePredicateForFilterEvaluationResult($,I,N,L,B){var z;const H=this.retrieveResultInputDescriptorIdx($[I].input_descriptor_path);if($[I].payload&&$[I].payload.result&&$[I].payload.result.path&&$[I].evaluator==="FilterEvaluation"&&N===H&&L&&L.fields&&L.fields[B]&&L.fields[B].predicate&&L.fields[B].path&&((z=L.fields[B].path)!=null&&z.includes(this.concatenatePath($[I].payload.result.path)))){const Q={...$[I].payload.result},te=this.createResultObject(N,I,Q,$);L.fields[B].predicate===dist.Optionality.Required||(te.payload.value=!0),$.push(te)}}retrieveResultInputDescriptorIdx($){const I="$.input_descriptors[",N=$.indexOf(I),L=$.substring(N+I.length),B=L.indexOf("]"),H=L.substring(0,B);return parseInt(H)}concatenatePath($){let I="";for(let N=0;N<$.length;N++)typeof $[N]=="number"?(I=I.substring(0,I.length-1),I+="[*]."):I+=$[N]+".";return I.substring(0,I.length-1)}createResultObject($,I,N,L){return{input_descriptor_path:`$.input_descriptors[${$}]`,verifiable_credential_path:L[I].verifiable_credential_path,evaluator:this.getName(),status:Status$1.INFO,message:PexMessages$1.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:N}}}class SameSubjectEvaluationHandler extends AbstractEvaluationHandler{constructor(I){super(I);Dr(this,"fieldIds");Dr(this,"sameSubject");Dr(this,"messages");this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(Status$1.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(Status$1.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(Status$1.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(I,N){const L=this.mapSameSubjectFieldIdsToInputDescriptors(I),B=this.mapCredentialsToResultObjecs(N,L),H=this.countSameSubjectOccurrences(L,B);this.generateErrorResults(H,B),this.updatePresentationSubmission(I)}mapSameSubjectFieldIdsToInputDescriptors(I){this.fieldIds.push(...JSONPath.nodes(I,"$..fields[*].id")),this.sameSubject.push(...JSONPath.nodes(I,"$..same_subject[*]"));const N=[];return this.fieldIds.forEach(L=>{const B=this.sameSubject.find(H=>H.value.field_id.includes(L.value));B&&N.push([L,B])}),N}generateErrorResults(I,N){I.forEach((L,B)=>{const H=N.filter(z=>B===z.payload.fieldIdSet).map(z=>z.payload.credentialSubject.id);(H.length!==L||new Set(H).size!==1)&&N.forEach((z,Q,te)=>{z.payload.fieldIdSet===B&&(z.status=Status$1.ERROR,z.message=this.messages.get(Status$1.ERROR),te[Q]=z)})}),this.client.results.push(...N)}countSameSubjectOccurrences(I,N){const L=new Map;return I.forEach(B=>{N.filter(z=>B[1].value.field_id===z.payload.fieldIdSet)&&(L.has(B[1].value.field_id)&&L.get(B[1].value.field_id)?L.set(B[1].value.field_id,L.get(B[1].value.field_id)+1):L.set(B[1].value.field_id,1))}),L}mapCredentialsToResultObjecs(I,N){const L=[...JSONPath.nodes(I.map(H=>H.credential),"$..credentialSubject")],B=[];return L.forEach(H=>{const z=N.find(Q=>JSONPath.query(H.value,`$..${Q[0].value}`).length!==0);z&&z[1].value.directive===dist.Optionality.Required?B.push({input_descriptor_path:JSONPath.stringify(z[0].path.slice(0,3)),status:Status$1.INFO,evaluator:this.getName(),payload:{fieldIdSet:z[1].value.field_id,credentialSubject:H.value},message:this.messages.get(Status$1.INFO),verifiable_credential_path:JSONPath.stringify(H.path.slice(0,2))}):z&&z[1].value.directive===dist.Optionality.Preferred&&B.push({input_descriptor_path:JSONPath.stringify(z[0].path.slice(0,3)),status:Status$1.WARN,evaluator:this.getName(),payload:{fieldIdSet:z[1].value.field_id,credentialSubject:H.value},message:this.messages.get(Status$1.WARN),verifiable_credential_path:JSONPath.stringify(H.path.slice(0,2))})}),B}}class SubjectIsIssuerEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"SubjectIsIssuerEvaluation"}handle($,I){$.input_descriptors.forEach((N,L)=>{const B=N.constraints;(B==null?void 0:B.subject_is_issuer)===dist.Optionality.Required?this.checkSubjectIsIssuer(N.id,I,L):this.getResults().push(...I.map((H,z)=>this.generateSuccessResult(L,`$[${z}]`,H,"not applicable")))}),this.updatePresentationSubmission($)}checkSubjectIsIssuer($,I,N){this.client.presentationSubmission.descriptor_map.forEach(L=>{if(L.id===$){const B=JsonPathUtils.extractInputField(I.map(H=>H.credential),[L.path]);for(const H of B){const z=getIssuerString(H.value);H&&H.value&&getSubjectIdsAsString(H.value).every(Q=>Q===z)?this.getResults().push(this.generateSuccessResult(N,L.path,dist$2.CredentialMapper.toWrappedVerifiableCredential(H.value))):this.getResults().push(this.generateErrorResult(N,L.path,dist$2.CredentialMapper.toWrappedVerifiableCredential(H.value)))}}})}generateErrorResult($,I,N){return{input_descriptor_path:`$.input_descriptors[${$}]`,evaluator:this.getName(),status:Status$1.ERROR,message:PexMessages$1.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:I,payload:{format:N.format}}}generateSuccessResult($,I,N,L){return{input_descriptor_path:`$.input_descriptors[${$}]`,evaluator:this.getName(),status:Status$1.INFO,message:L??PexMessages$1.SUBJECT_IS_ISSUER,verifiable_credential_path:I,payload:{format:N.format}}}}let nanoid=(T=21)=>crypto.getRandomValues(new Uint8Array(T)).reduce(($,I)=>(I&=63,I<36?$+=I.toString(36):I<62?$+=(I-26).toString(36).toUpperCase():I>62?$+="-":$+="_",$),"");const Do=class Do extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"UriEvaluation"}handle($,I){$.input_descriptors.forEach((L,B)=>{const H=$.getVersion()!==PEVersion.v2?L.schema.map(z=>z.uri):[];I.forEach((z,Q)=>{const te=Do.buildVcContextAndSchemaUris(z.credential,$.getVersion());this.evaluateUris(z,te,H,B,Q,$.getVersion())})});const N=this.getResults().filter(L=>L.status===Status$1.INFO).map(L=>{var H;return{id:JSONPath.nodes($,L.input_descriptor_path)[0].value.id,format:(H=L.payload)==null?void 0:H.format,path:L.verifiable_credential_path}});this.client.generatePresentationSubmission&&(!this.presentationSubmission||Object.keys(this.presentationSubmission).length===0)&&(this.presentationSubmission={id:nanoid(),definition_id:$.id,descriptor_map:N})}evaluateUris($,I,N,L,B,H){let z=!1;if(H===PEVersion.v1){for(let Q=0;Q<N.length;Q++)Do.containsHashlink(N[Q])&&this.getResults().push(this.createWarnResultObject(L,B));for(let Q=0;Q<I.length;Q++)N.find(te=>te===I[Q])!=null&&(z=!0)}else z=!0;z?this.getResults().push(this.createSuccessResultObject($,N,L,B)):this.getResults().push(this.createErrorResultObject($,N,L,B))}static buildVcContextAndSchemaUris($,I){const N=[];return Array.isArray($["@context"])?$["@context"].forEach(L=>N.push(L)):N.push($["@context"]),Array.isArray($.credentialSchema)&&$.credentialSchema.length>0?$.credentialSchema.forEach(L=>N.push(L.id)):$.credentialSchema&&N.push($.credentialSchema.id),I===PEVersion.v1&&(Array.isArray($.type)?$.type.forEach(L=>N.push(L)):$.type&&N.push($.type)),N}createSuccessResultObject($,I,N,L){const B=this.createResult(N,L);return B.status=Status$1.INFO,B.message=PexMessages$1.URI_EVALUATION_PASSED,B.payload={format:$.format,vcContext:$.credential["@context"],vcCredentialSchema:$.credential.credentialSchema,inputDescriptorsUris:I},B}createErrorResultObject($,I,N,L){const B=this.createResult(N,L);return B.status=Status$1.ERROR,B.message=PexMessages$1.URI_EVALUATION_DIDNT_PASS,B.payload={format:$.format,vcContext:$.credential["@context"],vcCredentialSchema:$.credential.credentialSchema,inputDescriptorsUris:I},B}createWarnResultObject($,I){const N=this.createResult($,I);return N.status=Status$1.WARN,N.message=PexMessages$1.URI_EVALUATION_DIDNT_PASS,N.payload=PexMessages$1.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,N}createResult($,I){return{input_descriptor_path:`$.input_descriptors[${$}]`,verifiable_credential_path:`$[${I}]`,evaluator:this.getName(),status:Status$1.INFO,message:void 0}}static containsHashlink($){return!(this.matchAll($,Do.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll($,Do.HASHLINK_URL_ENCODED_REGEX).next().done)}};Dr(Do,"matchAll",string_prototype_matchall$1),Dr(Do,"HASHLINK_URL_ENCODED_REGEX",/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g),Dr(Do,"HASHLINK_QUERY_URL_REGEX",/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g);let UriEvaluationHandler=Do;class FormatRestrictionEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"FormatRestrictionEvaluation"}handle($,I){$.input_descriptors.forEach((N,L)=>{I.forEach((B,H)=>{!this.client.restrictToFormats||Object.keys(this.client.restrictToFormats).includes(B.format)?this.getResults().push(this.generateSuccessResult(L,`$[${H}]`,B,`${B.format} is allowed`)):this.getResults().push(this.generateErrorResult(L,`$[${H}]`,B))})}),this.updatePresentationSubmission($)}generateErrorResult($,I,N){return{input_descriptor_path:`$.input_descriptors[${$}]`,evaluator:this.getName(),status:Status$1.ERROR,message:PexMessages$1.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:I,payload:{format:N.format}}}generateSuccessResult($,I,N,L){return{input_descriptor_path:`$.input_descriptors[${$}]`,evaluator:this.getName(),status:Status$1.INFO,message:L??PexMessages$1.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:I,payload:{format:N.format}}}}class DIDRestrictionEvaluationHandler extends AbstractEvaluationHandler{constructor($){super($)}getName(){return"DIDRestrictionEvaluation"}handle($,I){$.input_descriptors.forEach((N,L)=>{I.forEach((B,H)=>{const z=typeof B.credential.issuer=="object"?B.credential.issuer.id:B.credential.issuer;!this.client.hasRestrictToDIDMethods()||!z||isRestrictedDID(z,this.client.restrictToDIDMethods)||!z.toLowerCase().startsWith("did:")?this.getResults().push(this.generateSuccessResult(L,`$[${H}]`,B,`${z} is allowed`)):this.getResults().push(this.generateErrorResult(L,`$[${H}]`,B))})}),this.updatePresentationSubmission($)}generateErrorResult($,I,N){return{input_descriptor_path:`$.input_descriptors[${$}]`,evaluator:this.getName(),status:Status$1.ERROR,message:PexMessages$1.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:I,payload:{format:N.format}}}generateSuccessResult($,I,N,L){return{input_descriptor_path:`$.input_descriptors[${$}]`,evaluator:this.getName(),status:Status$1.INFO,message:L??PexMessages$1.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:I,payload:{format:N.format}}}}const DEFAULT_LIMIT_DISCLOSURE_TYPES=[dist$2.IProofType.BbsBlsSignatureProof2020];class EvaluationClient{constructor(){Dr(this,"failed_catched",{tag:"root",status:Status$1.ERROR,message:PexMessages$1.UNKNOWN_EXCEPTION,stacktrace:""});Dr(this,"_results");Dr(this,"_wrappedVcs");Dr(this,"_presentationSubmission");Dr(this,"_dids");Dr(this,"_limitDisclosureSignatureSuites");Dr(this,"_restrictToFormats");Dr(this,"_restrictToDIDMethods");Dr(this,"_generatePresentationSubmission");this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=DEFAULT_LIMIT_DISCLOSURE_TYPES,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate($,I,N){this._restrictToDIDMethods=N!=null&&N.restrictToDIDMethods?uniformDIDMethods(N==null?void 0:N.restrictToDIDMethods):[],this._dids=N!=null&&N.holderDIDs?filterToRestrictedDIDs(N.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=N==null?void 0:N.limitDisclosureSignatureSuites,this._restrictToFormats=N==null?void 0:N.restrictToFormats,this._generatePresentationSubmission=(N==null?void 0:N.generatePresentationSubmission)!==void 0?N.generatePresentationSubmission:!0,N!=null&&N.presentationSubmission&&(this._presentationSubmission=N.presentationSubmission);let L=this.initEvaluationHandlers();for(L==null||L.handle($,I);L!=null&&L.hasNext();){L=L.getNext();try{L==null||L.handle($,I)}catch(B){throw this.failed_catched.message+=B.message,this.failed_catched.stacktrace=B,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids($){this._dids=$}assertPresentationSubmission(){if(!this.generatePresentationSubmission&&(!this.presentationSubmission||Object.keys(this.presentationSubmission).length===0))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission($){this._generatePresentationSubmission=$}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission($){this._presentationSubmission=$}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs($){this._wrappedVcs=$}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||DEFAULT_LIMIT_DISCLOSURE_TYPES}set limitDisclosureSignatureSuites($){this._limitDisclosureSignatureSuites=$}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods($){this._restrictToDIDMethods=uniformDIDMethods($)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats($){this._restrictToFormats=$}initEvaluationHandlers(){const $=new UriEvaluationHandler(this);return $.setNext(new DIDRestrictionEvaluationHandler(this)).setNext(new FormatRestrictionEvaluationHandler(this)).setNext(new InputDescriptorFilterEvaluationHandler(this)).setNext(new PredicateRelatedFieldEvaluationHandler(this)).setNext(new LimitDisclosureEvaluationHandler(this)).setNext(new SubjectIsIssuerEvaluationHandler(this)).setNext(new SubjectIsHolderEvaluationHandler(this)).setNext(new SameSubjectEvaluationHandler(this)).setNext(new MarkForSubmissionEvaluationHandler(this)),$}}class EvaluationClientWrapper{constructor(){Dr(this,"_client");this._client=new EvaluationClient}getEvaluationClient(){return this._client}selectFrom($,I,N){var z;let L;this._client.evaluate($,I,N);const B=[...this.formatNotInfo(Status$1.WARN)],H=[...this.formatNotInfo(Status$1.ERROR)];if($.submission_requirements){const Q=this._client.results.filter(Pe=>Pe.evaluator==="MarkForSubmissionEvaluation"&&Pe.payload.group&&Pe.status!==Status$1.ERROR),te=Array.from(new Set(Q));let G;try{G=this.matchSubmissionRequirements($,$.submission_requirements,te)}catch(Pe){const Me={status:Status$1.ERROR,message:JSON.stringify(Pe),tag:"matchSubmissionRequirements"};return{errors:H?[...H,Me]:[Me],warnings:B,areRequiredCredentialsPresent:Status$1.ERROR}}const Re=this.extractMatches(G).map(Pe=>JSONPath.nodes(this._client.wrappedVcs.map(Me=>Me.original),Pe)[0].value),$e=this.determineAreRequiredCredentialsPresent($,G);L={errors:$e===Status$1.INFO?[]:H,matches:[...G],areRequiredCredentialsPresent:$e,verifiableCredential:Re,warnings:B}}else{const Q=this._client.results.filter(G=>G.evaluator==="MarkForSubmissionEvaluation"&&G.status!==Status$1.ERROR);if(this.checkWithoutSubmissionRequirements(Q,$).length)return{errors:H,matches:[],areRequiredCredentialsPresent:Status$1.ERROR,verifiableCredential:I.map(G=>G.original),warnings:B};{const G=this.matchWithoutSubmissionRequirements(Q,$),Re=this.extractMatches(G).map($e=>JSONPath.nodes(this._client.wrappedVcs.map(Pe=>Pe.original),$e)[0].value);L={errors:[],matches:[...G],areRequiredCredentialsPresent:Status$1.INFO,verifiableCredential:Re,warnings:B}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(L,I),L.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent($,L==null?void 0:L.matches),this.remapMatches(I.map(Q=>Q.original),L.matches,L==null?void 0:L.verifiableCredential),(z=L.matches)==null||z.forEach(Q=>{this.updateSubmissionRequirementMatchPathToAlias(Q,"verifiableCredential")}),L.areRequiredCredentialsPresent===Status$1.INFO?L.errors=[]:(L.errors=H,L.warnings=B,L.verifiableCredential=I.map(Q=>Q.original)),L}remapMatches($,I,N){I==null||I.forEach(L=>{L.from_nested?this.remapMatches($,L.from_nested,N):(L.vc_path.forEach((B,H,z)=>{const Q=JSONPath.query($,B)[0],te=N==null?void 0:N.findIndex(G=>JSON.stringify(G)===JSON.stringify(Q));if(te===-1)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?
verifiableCredential: ${Q}`);z[H]=`$[${te}]`}),L.name)})}extractMatches($){const I=[];return $.forEach(N=>{I.push(...N.vc_path),N.from_nested&&I.push(...this.extractMatches(N.from_nested))}),Array.from(new Set(I))}checkWithoutSubmissionRequirements($,I){const N=[];if(!I.input_descriptors)return[];if(!$.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:Status$1.ERROR,payload:"Not all the InputDescriptors are addressed"}];const L=I.input_descriptors,B=ObjectUtils.getDistinctFieldInObject($,"input_descriptor_path");if(B.length!==L.length){const H=B.map(z=>JsonPathUtils.extractInputField(I,[z])[0].value).map(z=>z.id);for(let z=0;z<I.input_descriptors.length;z++)H.indexOf(I.input_descriptors[z].id)==-1&&N.push({input_descriptor_path:`$.input_descriptors[${z}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:Status$1.ERROR,payload:"Not all the InputDescriptors are addressed"})}return N}matchSubmissionRequirements($,I,N){const L=[];for(const B of I){const H={name:$.name||$.id,rule:B.rule,vc_path:[]};if(B.from&&(H.from=B.from),B.min&&(H.min=B.min),B.max&&(H.max=B.max),B.count&&(H.count=B.count),B.from){const z=this.mapMatchingDescriptors($,B,N);z&&(H.vc_path.push(...z.vc_path),H.name=z.name,L.push(H))}else if(B.from_nested)try{H.from_nested=this.matchSubmissionRequirements($,B.from_nested,N),L.push(H)}catch(z){throw new Error(`Error in handling value of from_nested: ${B.from_nested}: err: ${z}`)}else throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'")}return L}matchWithoutSubmissionRequirements($,I){const N=[],L=this.createIdToVcMap($);for(const[B,H]of L.entries())if(!(!H||!H.length))for(const z of H){const Q=JsonPathUtils.extractInputField(I,[B]);Q.length&&N.push({name:Q[0].value.name||Q[0].value.id,rule:dist.Rules.All,vc_path:[z]})}return this.removeDuplicateSubmissionRequirementMatches(N)}mapMatchingDescriptors($,I,N){var B;const L={rule:I.rule,vc_path:[]};if(I!=null&&I.from){L.from=I.from;for(const H of N){const z=JSONPath.query($,H.input_descriptor_path)[0];z.group&&z.group.indexOf(I.from)===-1||(L.name=z.name||z.id,H.payload.group.includes(I.from)&&((B=L.vc_path)==null?void 0:B.indexOf(H.verifiable_credential_path))===-1&&L.vc_path.push(H.verifiable_credential_path))}}return L}evaluate($,I,N){var B,H,z,Q;this._client.evaluate($,I,N);const L={areRequiredCredentialsPresent:Status$1.INFO,verifiableCredential:I.map(te=>te.original)};if(L.warnings=this.formatNotInfo(Status$1.WARN),L.errors=this.formatNotInfo(Status$1.ERROR),this._client.assertPresentationSubmission(),(B=this._client.presentationSubmission)!=null&&B.descriptor_map.length){const te=(H=this._client.presentationSubmission)==null?void 0:H.descriptor_map.length;for(let G=0;G<te;G++)this._client.presentationSubmission.descriptor_map[G]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[G]);this._client.presentationSubmission.descriptor_map.splice(0,te),L.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToAlias("verifiableCredential",L.value),L.verifiableCredential=this._client.wrappedVcs.map(te=>te.original),L.areRequiredCredentialsPresent=(Q=(z=L.value)==null?void 0:z.descriptor_map)!=null&&Q.length?Status$1.INFO:Status$1.ERROR,L}formatNotInfo($){return this._client.results.filter(I=>I.status===$).map(I=>{const N=I.verifiable_credential_path.substring(1);return{tag:I.evaluator,status:I.status,message:`${I.message}: ${I.input_descriptor_path}: $.verifiableCredential${N}`}})}submissionFrom($,I){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if($.submission_requirements){const B=this._client.results.filter(ie=>ie.evaluator==="MarkForSubmissionEvaluation"&&ie.payload.group&&ie.status!==Status$1.ERROR),[H,z]=this.matchUserSelectedVcs(B,I),Q=new Map;"input_descriptors"in $&&$.input_descriptors.forEach(ie=>{ie.group&&ie.group.forEach(Re=>{Q.has(Re)?Q.set(Re,Q.get(Re)+1):Q.set(Re,1)})});const te=this.evaluateRequirements($.submission_requirements,H,Q,0),G=z.filter(ie=>te[1].find(Re=>Re.verifiable_credential_path===ie[1]));return this.updatePresentationSubmission(G),this.updatePresentationSubmissionPathToAlias("verifiableCredential"),this._client.presentationSubmission}const N=this._client.results.filter(B=>B.evaluator==="MarkForSubmissionEvaluation"&&B.status!==Status$1.ERROR),L=this.matchUserSelectedVcs(N,I);return this.updatePresentationSubmission(L[1]),this.updatePresentationSubmissionPathToAlias("verifiableCredential"),this._client.presentationSubmission}updatePresentationSubmission($){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter(I=>$.find(N=>N[0]===I.path)).map(I=>{const N=$.find(L=>L[0]===I.path);return N&&(I.path=N[1]),I}))}matchUserSelectedVcs($,I){const N=I.map((H,z)=>[z,JSON.stringify(H.original)]),L=this._client.wrappedVcs.map((H,z)=>[z,JSON.stringify(H.original)]),B=[];return N.forEach((H,z)=>{L.forEach((Q,te)=>{Q[1]===H[1]&&B.push([`$[${te}]`,`$[${z}]`])})}),$=$.filter(H=>B.find(z=>z[0]===H.verifiable_credential_path)).map(H=>{const z=B.find(Q=>Q[0]===H.verifiable_credential_path);return z&&(H.verifiable_credential_path=z[1]),H}),[$,B]}evaluateRequirements($,I,N,L){let B=0;const H=[];for(const z of $)if(z.from){if(z.rule===dist.Rules.All){const[Q,te]=this.countMatchingInputDescriptors(z,I);if(Q!==N.get(z.from))throw Error(`Not all input descriptors are members of group ${z.from}`);B++,H.push(...te)}else if(z.rule===dist.Rules.Pick){const[Q,te]=this.countMatchingInputDescriptors(z,I);try{this.handleCount(z,Q,L),B++}catch(G){if(L===0)throw G}H.push(...te)}}else if(z.from_nested){const[Q,te]=this.evaluateRequirements(z.from_nested,I,N,++L);B+=Q,H.push(...te),this.handleCount(z,Q,L)}return[B,H]}countMatchingInputDescriptors($,I){let N=0;const L=[];for(const B of I)B.payload.group.includes($.from)&&(L.push(B),N++);return[N,L]}handleCount($,I,N){if($.count&&I!==$.count)throw Error(`Count: expected: ${$.count} actual: ${I} at level: ${N}`);if($.min&&I<$.min)throw Error(`Min: expected: ${$.min} actual: ${I} at level: ${N}`);if($.max&&I>$.max)throw Error(`Max: expected: ${$.max} actual: ${I} at level: ${N}`)}removeDuplicateSubmissionRequirementMatches($){return $.filter((I,N)=>{const L=JSON.stringify(I);return N===$.findIndex(B=>JSON.stringify(B)===L)})}fillSelectableCredentialsToVerifiableCredentialsMapping($,I){var N;$&&((N=$.verifiableCredential)==null||N.forEach(L=>{var H;const B=ObjectUtils.isString(L)?I.findIndex(z=>L===z.original):I.findIndex(z=>JSON.stringify(L.proof)===JSON.stringify(z.credential.proof));if(B===-1)throw new Error("index is not right");(H=$.vcIndexes)==null||H.push(B)}))}determineAreRequiredCredentialsPresent($,I,N){if(!I||!I.length)return Status$1.ERROR;const L=I.map(B=>this.determineSubmissionRequirementStatus($,B));if(N){if(N.rule===dist.Rules.All&&L.includes(Status$1.ERROR))return Status$1.ERROR;const B=L.filter(H=>H!==Status$1.ERROR).length;if(N.count)return N.count>B?Status$1.ERROR:N.count<B?Status$1.WARN:Status$1.INFO;if(N.min&&N.min>B)return Status$1.ERROR;if(N.max&&N.max<B)return Status$1.WARN}else return L.includes(Status$1.ERROR)?Status$1.ERROR:L.includes(Status$1.WARN)?Status$1.WARN:Status$1.INFO;return Status$1.INFO}determineSubmissionRequirementStatus($,I){if(I.from&&I.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!I.from&&!I.from_nested&&I.vc_path.length!==1)return Status$1.ERROR;if(I.from){const N=this.countGroupIDs($.input_descriptors,I.from);switch(I.rule){case dist.Rules.All:return I.vc_path.length===N?Status$1.INFO:Status$1.WARN;case dist.Rules.Pick:return this.getPickRuleStatus(I);default:return Status$1.ERROR}}else if(I.from_nested)return this.determineAreRequiredCredentialsPresent($,I.from_nested,I);return Status$1.INFO}getPickRuleStatus($){return $.vc_path.length===0?Status$1.ERROR:$.count&&$.vc_path.length!==$.count?$.vc_path.length>$.count?Status$1.WARN:Status$1.ERROR:$.min&&$.vc_path.length<$.min?Status$1.ERROR:$.max&&$.vc_path.length>$.max?Status$1.WARN:Status$1.INFO}updateSubmissionRequirementMatchPathToAlias($,I){const N=[];$.vc_path.forEach(L=>{N.push(L.replace("$","$."+I))}),$.vc_path=N,$.from_nested&&$.from_nested.forEach(L=>{this.updateSubmissionRequirementMatchPathToAlias(L,I)})}updatePresentationSubmissionPathToAlias($,I){I?I.descriptor_map.forEach(N=>{this.replacePathWithAlias(N,$)}):this._client.generatePresentationSubmission&&this._client.presentationSubmission.descriptor_map.forEach(N=>{this.replacePathWithAlias(N,$)})}replacePathWithAlias($,I){$.path=$.path.replace("$","$."+I),$.path_nested&&this.replacePathWithAlias($.path_nested,I)}createIdToVcMap($){const I=new Map,N=new Map;for(let L=0;L<$.length;L++){const B=$[L].input_descriptor_path;if(N.has(B)){const H=N.get(B);H&&H.push($[L])}else N.set(B,[$[L]])}for(const[L,B]of N.entries()){const H=[];for(let z=0;z<B.length;z++)H.indexOf(B[z].verifiable_credential_path)===-1&&H.push(B[z].verifiable_credential_path);I.set(L,H)}return I}countGroupIDs($,I){let N=0;for(const L of $)L.group&&L.group.includes(I)&&N++;return N}}var PresentationSubmissionLocation;(function(T){T[T.EXTERNAL=0]="EXTERNAL",T[T.PRESENTATION=1]="PRESENTATION"})(PresentationSubmissionLocation||(PresentationSubmissionLocation={}));var KeyEncoding;(function(T){T.Jwk="Jwk",T.Base58="Base58",T.Hex="Hex",T.Multibase="Multibase"})(KeyEncoding||(KeyEncoding={}));var validateFilterv1$1={exports:{}};validateFilterv1$1.exports=validate42$1;validateFilterv1$1.exports.default=validate42$1;const schema13$1={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberString"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},func4$1=Object.prototype.hasOwnProperty,schema14$1={type:["number","string"]};function validate44$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(typeof T!="number"&&typeof T!="string"){const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:schema14$1.type},message:"must be number,string",schema:schema14$1.type,parentSchema:schema14$1,data:T};B===null?B=[z]:B.push(z),H++}return validate44$1.errors=B,H===0}function validate43$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.type===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:schema13$1.required,parentSchema:schema13$1,data:T};B===null?B=[z]:B.push(z),H++}for(const z in T)if(!func4$1.call(schema13$1.properties,z)){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema13$1,data:T};B===null?B=[Q]:B.push(Q),H++}if(T.const!==void 0&&(validate44$1(T.const,{instancePath:$+"/const",parentData:T,parentDataProperty:"const",rootData:L})||(B=B===null?validate44$1.errors:B.concat(validate44$1.errors),H=B.length)),T.enum!==void 0){let z=T.enum;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++)validate44$1(z[te],{instancePath:$+"/enum/"+te,parentData:z,parentDataProperty:te,rootData:L})||(B=B===null?validate44$1.errors:B.concat(validate44$1.errors),H=B.length)}else{const Q={instancePath:$+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema13$1.properties.enum.type,parentSchema:schema13$1.properties.enum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.exclusiveMaximum!==void 0&&(validate44$1(T.exclusiveMaximum,{instancePath:$+"/exclusiveMaximum",parentData:T,parentDataProperty:"exclusiveMaximum",rootData:L})||(B=B===null?validate44$1.errors:B.concat(validate44$1.errors),H=B.length)),T.exclusiveMinimum!==void 0&&(validate44$1(T.exclusiveMinimum,{instancePath:$+"/exclusiveMinimum",parentData:T,parentDataProperty:"exclusiveMinimum",rootData:L})||(B=B===null?validate44$1.errors:B.concat(validate44$1.errors),H=B.length)),T.format!==void 0){let z=T.format;if(typeof z!="string"){const Q={instancePath:$+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$1.properties.format.type,parentSchema:schema13$1.properties.format,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.maxLength!==void 0){let z=T.maxLength;if(typeof z!="number"){const Q={instancePath:$+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema13$1.properties.maxLength.type,parentSchema:schema13$1.properties.maxLength,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.maximum!==void 0&&(validate44$1(T.maximum,{instancePath:$+"/maximum",parentData:T,parentDataProperty:"maximum",rootData:L})||(B=B===null?validate44$1.errors:B.concat(validate44$1.errors),H=B.length)),T.minLength!==void 0){let z=T.minLength;if(typeof z!="number"){const Q={instancePath:$+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema13$1.properties.minLength.type,parentSchema:schema13$1.properties.minLength,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.minimum!==void 0&&(validate44$1(T.minimum,{instancePath:$+"/minimum",parentData:T,parentDataProperty:"minimum",rootData:L})||(B=B===null?validate44$1.errors:B.concat(validate44$1.errors),H=B.length)),T.not!==void 0){let z=T.not;if(!(z&&typeof z=="object"&&!Array.isArray(z))){const Q={instancePath:$+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$1.properties.not.type,parentSchema:schema13$1.properties.not,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.pattern!==void 0){let z=T.pattern;if(typeof z!="string"){const Q={instancePath:$+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$1.properties.pattern.type,parentSchema:schema13$1.properties.pattern,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.type!==void 0){let z=T.type;if(typeof z!="string"){const Q={instancePath:$+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13$1.properties.type.type,parentSchema:schema13$1.properties.type,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13$1.type,parentSchema:schema13$1,data:T};B===null?B=[z]:B.push(z),H++}return validate43$1.errors=B,H===0}function validate42$1(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;return validate43$1(T,{instancePath:$,parentData:I,parentDataProperty:N,rootData:L})||(B=B===null?validate43$1.errors:B.concat(validate43$1.errors),H=B.length),validate42$1.errors=B,H===0}var validateFilterv1Exports=validateFilterv1$1.exports;const validateFilterv1=getDefaultExportFromCjs$1(validateFilterv1Exports);var validateFilterv2$1={exports:{}};validateFilterv2$1.exports=validate42;validateFilterv2$1.exports.default=validate42;const schema13={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberString"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},func4=Object.prototype.hasOwnProperty,schema14={type:["number","string"]};function validate44(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(typeof T!="number"&&typeof T!="string"){const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:schema14.type},message:"must be number,string",schema:schema14.type,parentSchema:schema14,data:T};B===null?B=[z]:B.push(z),H++}return validate44.errors=B,H===0}function validate43(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;if(T&&typeof T=="object"&&!Array.isArray(T)){if(T.type===void 0){const z={instancePath:$,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:schema13.required,parentSchema:schema13,data:T};B===null?B=[z]:B.push(z),H++}for(const z in T)if(!func4.call(schema13.properties,z)){const Q={instancePath:$,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties",schema:!1,parentSchema:schema13,data:T};B===null?B=[Q]:B.push(Q),H++}if(T.const!==void 0&&(validate44(T.const,{instancePath:$+"/const",parentData:T,parentDataProperty:"const",rootData:L})||(B=B===null?validate44.errors:B.concat(validate44.errors),H=B.length)),T.enum!==void 0){let z=T.enum;if(Array.isArray(z)){const Q=z.length;for(let te=0;te<Q;te++)validate44(z[te],{instancePath:$+"/enum/"+te,parentData:z,parentDataProperty:te,rootData:L})||(B=B===null?validate44.errors:B.concat(validate44.errors),H=B.length)}else{const Q={instancePath:$+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:schema13.properties.enum.type,parentSchema:schema13.properties.enum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.exclusiveMaximum!==void 0&&(validate44(T.exclusiveMaximum,{instancePath:$+"/exclusiveMaximum",parentData:T,parentDataProperty:"exclusiveMaximum",rootData:L})||(B=B===null?validate44.errors:B.concat(validate44.errors),H=B.length)),T.exclusiveMinimum!==void 0&&(validate44(T.exclusiveMinimum,{instancePath:$+"/exclusiveMinimum",parentData:T,parentDataProperty:"exclusiveMinimum",rootData:L})||(B=B===null?validate44.errors:B.concat(validate44.errors),H=B.length)),T.format!==void 0){let z=T.format;if(typeof z!="string"){const Q={instancePath:$+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.format.type,parentSchema:schema13.properties.format,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.formatExclusiveMaximum!==void 0){let z=T.formatExclusiveMaximum;if(typeof z!="string"){const Q={instancePath:$+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.formatExclusiveMaximum.type,parentSchema:schema13.properties.formatExclusiveMaximum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.formatExclusiveMinimum!==void 0){let z=T.formatExclusiveMinimum;if(typeof z!="string"){const Q={instancePath:$+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.formatExclusiveMinimum.type,parentSchema:schema13.properties.formatExclusiveMinimum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.formatMaximum!==void 0){let z=T.formatMaximum;if(typeof z!="string"){const Q={instancePath:$+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.formatMaximum.type,parentSchema:schema13.properties.formatMaximum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.formatMinimum!==void 0){let z=T.formatMinimum;if(typeof z!="string"){const Q={instancePath:$+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.formatMinimum.type,parentSchema:schema13.properties.formatMinimum,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.maxLength!==void 0){let z=T.maxLength;if(typeof z!="number"){const Q={instancePath:$+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema13.properties.maxLength.type,parentSchema:schema13.properties.maxLength,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.maximum!==void 0&&(validate44(T.maximum,{instancePath:$+"/maximum",parentData:T,parentDataProperty:"maximum",rootData:L})||(B=B===null?validate44.errors:B.concat(validate44.errors),H=B.length)),T.minLength!==void 0){let z=T.minLength;if(typeof z!="number"){const Q={instancePath:$+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:schema13.properties.minLength.type,parentSchema:schema13.properties.minLength,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.minimum!==void 0&&(validate44(T.minimum,{instancePath:$+"/minimum",parentData:T,parentDataProperty:"minimum",rootData:L})||(B=B===null?validate44.errors:B.concat(validate44.errors),H=B.length)),T.not!==void 0){let z=T.not;if(!(z&&typeof z=="object"&&!Array.isArray(z))){const Q={instancePath:$+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13.properties.not.type,parentSchema:schema13.properties.not,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.pattern!==void 0){let z=T.pattern;if(typeof z!="string"){const Q={instancePath:$+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.pattern.type,parentSchema:schema13.properties.pattern,data:z};B===null?B=[Q]:B.push(Q),H++}}if(T.type!==void 0){let z=T.type;if(typeof z!="string"){const Q={instancePath:$+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:schema13.properties.type.type,parentSchema:schema13.properties.type,data:z};B===null?B=[Q]:B.push(Q),H++}}}else{const z={instancePath:$,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:schema13.type,parentSchema:schema13,data:T};B===null?B=[z]:B.push(z),H++}return validate43.errors=B,H===0}function validate42(T,{instancePath:$="",parentData:I,parentDataProperty:N,rootData:L=T}={}){let B=null,H=0;return validate43(T,{instancePath:$,parentData:I,parentDataProperty:N,rootData:L})||(B=B===null?validate43.errors:B.concat(validate43.errors),H=B.length),validate42.errors=B,H===0}var validateFilterv2Exports=validateFilterv2$1.exports;const validateFilterv2=getDefaultExportFromCjs$1(validateFilterv2Exports);class ValidationBundler{constructor($,I){Dr(this,"parentTag");Dr(this,"myTag");this.parentTag=$,this.myTag=I}getTag(){return this.parentTag!=null?this.parentTag+"."+this.myTag:this.myTag}toChecked($){return new Checked(this.getTag(),Status$1.ERROR,$)}}class FieldsVB extends ValidationBundler{constructor(I){super(I,"fields");Dr(this,"mustHaveValidJsonPathsMsg",'field object "path" property must contain array of valid json paths');Dr(this,"pathObjMustHaveValidJsonPathMsg",'field object "path" property must contain valid json paths.');Dr(this,"filterMustBeValidJsonSchemaMsg",'field object "filter" property must be valid json schema');Dr(this,"filterIsMustInPresenceOfPredicateMsg",'field object must have a "filter" property if "predicate" is present');Dr(this,"filterIsNotValidJsonSchemaDescriptorMsg",'could not parse "filter" object as a valid json schema descriptor.');Dr(this,"purposeShouldBeANonEmptyStringMsg","purpose should be a non empty string");Dr(this,"shouldBeKnownOptionMsg","Unknown predicate property")}getValidations(I){let N=[];if(I)for(let L=0;L<I.length;L++)N=[...N,...this.getValidationsFor(I[L],L)];return N}getValidationsFor(I,N){return[{tag:this.getMyTag(N),target:I,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(N),target:I,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(N),target:I,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(N),target:I,predicate:L=>FieldsVB.optionalNonEmptyString(L==null?void 0:L.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(N),target:I,predicate:L=>FieldsVB.shouldBeKnownOption(L==null?void 0:L.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(I){return this.parentTag+"."+this.myTag+"["+I+"]"}mustHaveValidJsonPaths(){return I=>I.path!=null&&I.path.length>0&&this._validateJsonPaths(I.path)}_validateJsonPaths(I){const N=[];if(I.forEach(L=>{try{JSONPath.parse(L)}catch{N.push(L)}}),N.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(N));return!0}filterMustBeValidJsonSchema(){return I=>this._validateFilter(I.filter)}_validateFilter(I){if(I==null)return!0;let N=!1;try{N=validateFilterv2(I),N||(N=validateFilterv1(I))}catch{throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(I))}return N}filterIsMustInPresenceOfPredicate(){return I=>!(I.predicate!=null&&I.filter==null)}static optionalNonEmptyString(I){return I==null||I.length>0}static shouldBeKnownOption(I){return I==null||I==dist.Optionality.Required||I==dist.Optionality.Preferred}}class ConstraintsVB extends ValidationBundler{constructor(I){super(I,"constraints");Dr(this,"disclosureLimitShouldHaveKnownValueMsg","limit_disclosure should have known value");Dr(this,"statusShouldHaveKnownValueMsg","Unknown status property");Dr(this,"statusDirectiveShouldHaveKnownValueMsg","status directive should have known value");Dr(this,"subjectIsIssuerShouldBeKnownValueMsg","subject_is_issuer should be known value");Dr(this,"fieldIdIsMandatoryMsg","field_id property is mandatory");Dr(this,"fieldIdMustBeArrayOfStringsMsg","field_id property must be an array of strings");Dr(this,"fieldIdMustCorrespondToFieldIdMsg","field_id must correspond to a present field object id property");Dr(this,"directivePropertyIsMandatoryMsg","directive property is mandatory");Dr(this,"oneOfTheKnownDirectivePropertiesMandatoryMsg","directive property must be one of [required, preferred]")}getValidations(I){let N=[];return I&&(N=[{tag:this.getTag(),target:I,predicate:L=>ConstraintsVB.disclosureLimitShouldHaveKnownValue(L.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:I,predicate:L=>ConstraintsVB.statusShouldHaveKnownValue(L.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:I,predicate:ConstraintsVB.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:I,predicate:L=>ConstraintsVB.shouldBeKnownOption(L.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:I,predicate:L=>this.fieldIdInSubjectMustCorrespondToFieldId(L,L.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:I,predicate:L=>this.fieldIdInSubjectMustCorrespondToFieldId(L,L.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(I==null?void 0:I.is_holder),...this.getSubjectsValidations(I==null?void 0:I.same_subject),...this.getFieldsValidations(I)]),N}getFieldsValidations(I){var N;return(N=I==null?void 0:I.fields)!=null&&N.length?new FieldsVB(this.getTag()).getValidations(I.fields):[]}static disclosureLimitShouldHaveKnownValue(I){return!I||I===dist.Optionality.Preferred||I===dist.Optionality.Required}static statusShouldHaveKnownValue(I){return I==null||I.active!=null||I.revoked!=null||I.suspended!=null}static statusDirectiveShouldHaveKnownValue(){return I=>{var N,L,B;return this.pdStatusShouldBeKnown((N=I==null?void 0:I.statuses)==null?void 0:N.active)&&this.pdStatusShouldBeKnown((L=I==null?void 0:I.statuses)==null?void 0:L.revoked)&&this.pdStatusShouldBeKnown((B=I==null?void 0:I.statuses)==null?void 0:B.suspended)}}static pdStatusShouldBeKnown(I){return!I||I.directive===dist.Directives.Allowed||I.directive===dist.Directives.Disallowed||I.directive===dist.Directives.Required}static shouldBeKnownOption(I){return I?I.filter(N=>N.directive!==dist.Optionality.Preferred&&N.directive!==dist.Optionality.Required).length===0:!0}getSubjectsValidations(I){if(I){let N=[];for(let L=0;L<I.length;L++)N=[{tag:this.getMyTag(L),target:I[L],predicate:B=>Array.isArray(B.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(L),target:I[L],predicate:B=>!!B.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(L),target:I[L],predicate:B=>B.field_id.length===B.field_id.filter(H=>typeof H=="string").length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(L),target:I[L],predicate:B=>B.directive!==void 0,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(L),target:I[L],predicate:B=>B.directive===dist.Optionality.Preferred||B.directive===dist.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return N}return[]}getMyTag(I){return this.parentTag+"."+this.myTag+"["+I+"]"}fieldIdInSubjectMustCorrespondToFieldId(I,N){if(N){for(const L of N)for(const B of L.field_id)if(!ConstraintsVB.isValidFieldId(I,B))return!1}return!0}static isValidFieldId(I,N){return I!=null&&I.fields?I.fields.map(L=>L.id).includes(N):!1}}class InputDescriptorsV1VB extends ValidationBundler{constructor(I){super(I,"input_descriptor");Dr(this,"idMustBeNonEmptyStringMsg","input descriptor id must be non-empty string");Dr(this,"nameShouldBeNonEmptyStringMsg","input descriptor name should be non-empty string");Dr(this,"purposeShouldBeNonEmptyStringMsg","input descriptor purpose should be non-empty string");Dr(this,"shouldHaveValidSchemaURIMsg","schema should have valid URI")}getValidations(I){let N=[];return N.push({tag:this.getTag(),target:I,predicate:L=>this.shouldHaveUniqueIds(L),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:I,predicate:L=>this.shouldHaveUniqueFieldsIds(L),message:"fields id must be unique"}),I.forEach((L,B)=>{N=[...N,...this.getValidationFor(L,B),...this.constraintsValidations(L,B)]}),N}getValidationFor(I,N){return[{tag:this.getMyTag(N),target:I,predicate:L=>ObjectValidationUtils.nonEmptyString(L==null?void 0:L.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(N),target:I,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(N),target:I,predicate:L=>ObjectValidationUtils.optionalNonEmptyString(L==null?void 0:L.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(N),target:I,predicate:L=>ObjectValidationUtils.optionalNonEmptyString(L==null?void 0:L.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(I){const N=[],L=new Set,B=[];return I.map(H=>{var z;return(z=H.constraints)==null?void 0:z.fields}).forEach(H=>{H&&B.push(...H)}),B.forEach(H=>{H.id&&N.push(H.id)}),N.forEach(H=>L.add(H)),N.length===L.size}shouldHaveUniqueIds(I){const N=[],L=new Set;return I.forEach(B=>N.push(B.id)),N.forEach(B=>L.add(B)),N.length===L.size}getMyTag(I){return this.parentTag+"."+this.myTag+"["+I+"]"}isValidSchema(){return I=>I.schema.filter(N=>this.isAValidURI(N.uri)&&(N.required==null||typeof N.required=="boolean")).length>0}isAValidURI(I){if(I){if(!ObjectValidationUtils.nonEmptyString(I))return!1}else return!1;if(I.startsWith("http://")||I.startsWith("https://"))try{new URL(I)}catch{return ObjectValidationUtils.isValidDIDURI(I)}return!0}constraintsValidations(I,N){return I.constraints?new ConstraintsVB(this.getMyTag(N)).getValidations(I.constraints):[]}}class InputDescriptorsV2VB extends ValidationBundler{constructor(I){super(I,"input_descriptor");Dr(this,"idMustBeNonEmptyStringMsg","input descriptor id must be non-empty string");Dr(this,"nameShouldBeNonEmptyStringMsg","input descriptor name should be non-empty string");Dr(this,"purposeShouldBeNonEmptyStringMsg","input descriptor purpose should be non-empty string")}getValidations(I){let N=[];return N.push({tag:this.getTag(),target:I,predicate:L=>this.shouldNotHaveSchema(L),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:I,predicate:L=>this.shouldHaveUniqueIds(L),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:I,predicate:L=>this.shouldHaveUniqueFieldsIds(L),message:"fields id must be unique"}),I.forEach((L,B)=>{N=[...N,...this.getValidationFor(L,B),...this.constraintsValidations(L,B)]}),N}getValidationFor(I,N){return[{tag:this.getMyTag(N),target:I,predicate:L=>ObjectValidationUtils.nonEmptyString(L==null?void 0:L.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(N),target:I,predicate:L=>ObjectValidationUtils.optionalNonEmptyString(L==null?void 0:L.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(N),target:I,predicate:L=>ObjectValidationUtils.optionalNonEmptyString(L==null?void 0:L.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(I){const N=[],L=new Set,B=[];return I.map(H=>{var z;return(z=H.constraints)==null?void 0:z.fields}).forEach(H=>{H&&B.push(...H)}),B.forEach(H=>{H.id&&N.push(H.id)}),N.forEach(H=>L.add(H)),N.length===L.size}shouldHaveUniqueIds(I){const N=[],L=new Set;return I.forEach(B=>N.push(B.id)),N.forEach(B=>L.add(B)),N.length===L.size}getMyTag(I){return this.parentTag+"."+this.myTag+"["+I+"]"}constraintsValidations(I,N){return I.constraints?new ConstraintsVB(this.getMyTag(N)).getValidations(I.constraints):[]}shouldNotHaveSchema(I){let N=!1;return I.forEach(L=>{L.schema&&(N=!0)}),!N}}class JwtAlgos{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}class LdpTypes{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020"]}}class SubmissionRequirementVB extends ValidationBundler{constructor(I){super(I,"submission_requirements");Dr(this,"ruleIsMandatoryMsg","rule is a mandatory field");Dr(this,"needsOneFromOrFromNestedMsg","needs exactly one of from or from_nested");Dr(this,"fromNestedShouldBeArrayMsg","The value of the from_nested property MUST be an array");Dr(this,"isCountPositiveIntMsg","count must be a practical positive number");Dr(this,"isMinPositiveIntMsg","min must be a practical positive number");Dr(this,"isMaxPositiveIntMsg","max must be a practical positive number");Dr(this,"ruleShouldBePickOrAllMsg","rule should be either pick or all")}getValidations(I){let N=[];if(I!=null&&I.length>0)for(let L=0;L<I.length;L++)N=[...N,...this.getMyValidations(L,I),...this.getSubValidations(L,I)];return N}getMyValidations(I,N){return[{tag:this.getMyTag(I),target:N[I],predicate:SubmissionRequirementVB.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(I),target:N[I],predicate:SubmissionRequirementVB.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(I),target:N[I],predicate:SubmissionRequirementVB.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(I),target:N[I],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(I),target:N[I],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(I),target:N[I],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(I),target:N[I],predicate:SubmissionRequirementVB.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(I){return this.parentTag+"."+this.myTag+"["+I+"]"}getSubValidations(I,N){const L=N[I].from_nested;return L!=null?new SubmissionRequirementVB(this.getFromNestedTag(I)).getValidations(L):[]}getFromNestedTag(I){return this.getMyTag(I)+".from_nested"}isCountPositiveInt(I){return I.rule!=="pick"||I.count==null||0<I.count}isMinPositiveInt(I){return I.rule!=="pick"||I.min==null||0<=I.min}isMaxPositiveInt(I){return I.rule!=="pick"||I.max==null||0<I.max}static ruleIsMandatory(I){return I.rule!=null}static needsOneFromOrFromNested(I){return I.from==null!=(I.from_nested==null)}static fromNestedShouldBeArray(I){return I.from_nested==null||Array.isArray(I.from_nested)}static ruleShouldBePickOrAll(I){return I.rule==="pick"||I.rule==="all"}}class PresentationDefinitionV1VB extends ValidationBundler{constructor($){super($,"presentation_definition")}getValidations($){return $.submission_requirements?[...this.myValidations($),...new InputDescriptorsV1VB(this.myTag).getValidations($.input_descriptors),...new SubmissionRequirementVB(this.myTag).getValidations($.submission_requirements)]:[...this.myValidations($),...new InputDescriptorsV1VB(this.myTag).getValidations($.input_descriptors)]}myValidations($){return[{tag:this.getTag(),target:$,predicate:I=>I!=null,message:"presentation_definition should be non null."},{tag:this.getTag(),target:$,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.nonEmptyString(I==null?void 0:I.id),message:"id should not be empty"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.optionalNonEmptyString(I==null?void 0:I.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.optionalNonEmptyString(I==null?void 0:I.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.formatValuesShouldNotBeEmpty(I==null?void 0:I.format),message:"formats values should not empty"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.formatValuesShouldBeAmongKnownValues(I==null?void 0:I.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.groupShouldMatchSubmissionRequirements(I),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV1VB.shouldNotHaveFrameProperty(I),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString($){return $==null||$.length>0}static nonEmptyString($){return $!=null&&$.length>0}static formatValuesShouldNotBeEmpty($){var N,L,B,H,z,Q;let I=!0;return($==null?void 0:$.jwt)!=null&&(I=I&&((N=$.jwt.alg)==null?void 0:N.length)>0),($==null?void 0:$.jwt_vc)!=null&&(I=I&&((L=$.jwt_vc.alg)==null?void 0:L.length)>0),($==null?void 0:$.jwt_vp)!=null&&(I=I&&((B=$.jwt_vp.alg)==null?void 0:B.length)>0),($==null?void 0:$.ldp)!=null&&(I=I&&((H=$.ldp.proof_type)==null?void 0:H.length)>0),($==null?void 0:$.ldp_vc)!=null&&(I=I&&((z=$.ldp_vc.proof_type)==null?void 0:z.length)>0),($==null?void 0:$.ldp_vp)!=null&&(I=I&&((Q=$.ldp_vp.proof_type)==null?void 0:Q.length)>0),I}static formatValuesShouldBeAmongKnownValues($){let I=[];if($){const N=JwtAlgos.getJwtAlgos(),L=LdpTypes.getLdpTypes();I=[];for(const[B,H]of Object.entries($))B.startsWith("jwt")?I.push(...PresentationDefinitionV1VB.isJWTAlgoKnown(H,N)):I.push(...PresentationDefinitionV1VB.isLDPProofKnown(H,L))}return I.length===0}static isJWTAlgoKnown($,I){const N=[];if($!=null&&$.alg!=null)for(const L of $.alg)I.includes(L)||N.push(L);return N}static isLDPProofKnown($,I){const N=[];if($!=null&&$.proof_type!=null)for(const L of $.proof_type)I.includes(L)||N.push(L);return N}static groupShouldMatchSubmissionRequirements($){if($.submission_requirements!=null&&$.submission_requirements.length>0){const I=[];$.input_descriptors.forEach(z=>{z.group&&I.push(...z.group)});const N=new Set(I),L=[];PresentationDefinitionV1VB.flatten($.submission_requirements).forEach(z=>{z.from&&(Array.isArray(z.from)?L.push(...z.from):L.push(z.from))});const B=new Set(L);return new Set([...B].filter(z=>z!=null&&z.length>0&&!N.has(z))).size===0}return!0}static flatten($){return $==null?void 0:$.reduce((I,N)=>I.concat(Array.isArray(N.from_nested)?this.flatten(N.from_nested):N),[])}shouldBeAsPerJsonSchema(){return $=>validatePDv1({presentation_definition:$})}static shouldNotHaveFrameProperty($){return!$.frame}}class FrameVB extends ValidationBundler{constructor(I){super(I,"frame");Dr(this,"frameIsValidMsg","frame value is not valid")}getValidations(I){let N=[];return N=[...N,...this.getMyValidations(I)],N}getMyValidations(I){return[{tag:this.getMyTag(),target:I,predicate:FrameVB.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(I){if(!I||Array.isArray(I)||typeof I!="object")return!1;const N=I;if(N&&N["@id"]){for(const L of ObjectUtils.asArray(I["@id"]))if(!(ObjectUtils.isObject(L)||ObjectUtils.isUrlAbsolute(L))||ObjectUtils.isString(L)&&L.indexOf("_:")===0)return!1}if(N["@types"]){for(const L of ObjectUtils.asArray(I["@types"]))if(!(ObjectUtils.isObject(L)||ObjectUtils.isUrlAbsolute(L))||ObjectUtils.isString(L)&&L.indexOf("_:")===0)return!1}return!0}}class PresentationDefinitionV2VB extends ValidationBundler{constructor($){super($,"presentation_definition")}getValidations($){let I=[];return $.submission_requirements?I=[...this.myValidations($),...new InputDescriptorsV2VB(this.myTag).getValidations($.input_descriptors),...new SubmissionRequirementVB(this.myTag).getValidations($.submission_requirements)]:I=[...this.myValidations($),...new InputDescriptorsV2VB(this.myTag).getValidations($.input_descriptors)],$.frame&&I.push(...new FrameVB(this.myTag).getValidations($.frame)),I}myValidations($){return[{tag:this.getTag(),target:$,predicate:I=>I!=null,message:"presentation_definition should be non null."},{tag:this.getTag(),target:$,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV2VB.nonEmptyString(I==null?void 0:I.id),message:"id should not be empty"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV2VB.optionalNonEmptyString(I==null?void 0:I.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV2VB.optionalNonEmptyString(I==null?void 0:I.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV2VB.formatValuesShouldNotBeEmpty(I==null?void 0:I.format),message:"formats values should not empty"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV2VB.formatValuesShouldBeAmongKnownValues(I==null?void 0:I.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:$,predicate:I=>PresentationDefinitionV2VB.groupShouldMatchSubmissionRequirements(I),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString($){return $==null||$.length>0}static nonEmptyString($){return $!=null&&$.length>0}static formatValuesShouldNotBeEmpty($){var N,L,B,H,z,Q;let I=!0;return($==null?void 0:$.jwt)!=null&&(I=I&&((N=$.jwt.alg)==null?void 0:N.length)>0),($==null?void 0:$.jwt_vc)!=null&&(I=I&&((L=$.jwt_vc.alg)==null?void 0:L.length)>0),($==null?void 0:$.jwt_vp)!=null&&(I=I&&((B=$.jwt_vp.alg)==null?void 0:B.length)>0),($==null?void 0:$.ldp)!=null&&(I=I&&((H=$.ldp.proof_type)==null?void 0:H.length)>0),($==null?void 0:$.ldp_vc)!=null&&(I=I&&((z=$.ldp_vc.proof_type)==null?void 0:z.length)>0),($==null?void 0:$.ldp_vp)!=null&&(I=I&&((Q=$.ldp_vp.proof_type)==null?void 0:Q.length)>0),I}static formatValuesShouldBeAmongKnownValues($){let I=[];if($){const N=JwtAlgos.getJwtAlgos(),L=LdpTypes.getLdpTypes();I=[];for(const[B,H]of Object.entries($))B.startsWith("jwt")?I.push(...PresentationDefinitionV2VB.isJWTAlgoKnown(H,N)):I.push(...PresentationDefinitionV2VB.isLDPProofKnown(H,L))}return I.length===0}static isJWTAlgoKnown($,I){const N=[];if($!=null&&$.alg!=null)for(const L of $.alg)I.includes(L)||N.push(L);return N}static isLDPProofKnown($,I){const N=[];if($!=null&&$.proof_type!=null)for(const L of $.proof_type)I.includes(L)||N.push(L);return N}static groupShouldMatchSubmissionRequirements($){if($.submission_requirements!=null&&$.submission_requirements.length>0){const I=[];$.input_descriptors.forEach(z=>{z.group&&I.push(...z.group)});const N=new Set(I),L=[];PresentationDefinitionV2VB.flatten($.submission_requirements).forEach(z=>{z.from&&L.push(...z.from)});const B=new Set(L);return new Set([...B].filter(z=>z!=null&&z.length>0&&!N.has(z))).size===0}return!0}static flatten($){return $==null?void 0:$.reduce((I,N)=>I.concat(Array.isArray(N.from_nested)?this.flatten(N.from_nested):N),[])}shouldBeAsPerJsonSchema(){return $=>validatePDv2({presentation_definition:$})}}class PresentationSubmissionVB extends ValidationBundler{constructor($){super($,"presentation_submission")}getValidations($){return[{tag:this.getTag(),target:$,predicate:I=>I!=null,message:"presentation_submission should be non null."},{tag:this.getTag(),target:$,predicate:I=>PresentationSubmissionVB.nonEmptyString(I==null?void 0:I.id),message:"id should not be empty"},{tag:this.getTag(),target:$,predicate:I=>PresentationSubmissionVB.nonEmptyString(I==null?void 0:I.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:$,predicate:I=>PresentationSubmissionVB.descriptorMapMustBePresent(I==null?void 0:I.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:$,predicate:I=>PresentationSubmissionVB.idMustBeSameForEachLevelOfNesting(I==null?void 0:I.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:$,predicate:I=>PresentationSubmissionVB.formatsShouldBeKnown(I==null?void 0:I.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:$,predicate:I=>PresentationSubmissionVB.pathsShouldBeValidJsonPaths(I==null?void 0:I.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString($){return $!=null&&$.length>0}static descriptorMapMustBePresent($){return $!=null&&$.length>0}static idMustBeSameForEachLevelOfNesting($){let I=!0;if($!=null)for(let N=0;N<$.length;N++)I=I&&PresentationSubmissionVB.isIdSameForEachLevelOfNesting($[N],$[N].id);return I}static isIdSameForEachLevelOfNesting($,I){let N=!0;return $!=null&&$.path_nested!=null&&($.path_nested.id==I?N=N&&PresentationSubmissionVB.isIdSameForEachLevelOfNesting($.path_nested,I):N=!1),N}static formatsShouldBeKnown($){let I=!0;if($!=null){const N=["jwt","jwt_vc","jwt_vp","ldp","ldp_vc","ldp_vp"];for(let L=0;L<$.length;L++)I=PresentationSubmissionVB.formatShouldBeKnown($[L],N)}return I}static formatShouldBeKnown($,I){let N=!0;return $!=null&&(N=I.includes($.format)),$.path_nested!=null&&(N=N&&PresentationSubmissionVB.formatShouldBeKnown($.path_nested,I)),N}static pathsShouldBeValidJsonPaths($){let I=!0;if($!=null)for(let N=0;N<$.length;N++)I=PresentationSubmissionVB.pathShouldBeValid($[N],[]);return I}static pathShouldBeValid($,I){if($!=null){try{JSONPath.parse($.path)}catch{I.push($.path)}$.path_nested!=null&&PresentationSubmissionVB.pathShouldBeValid($.path_nested,I)}if(I.length>0)throw new Checked("",Status$1.ERROR,"These were not parsable json paths: "+JSON.stringify(I));return!0}}const validate$2=T=>{const $=T.map(z=>L(z));function I(z){return new Checked(z.tag,Status$1.ERROR,z.message)}function N(z){return new Checked(z,Status$1.INFO,"ok")}function L(z){let Q;try{z.predicate(z.target)?Q=N(z.tag):Q=I(z)}catch{Q=I(z)}return Q}const B=(z,Q)=>(Q.status!==Status$1.INFO&&z.push(Q),z),H=$.reduce(B,[]);return hasErrors(H)?H:[N("root")]};class ValidationEngine{validate($){let I=[];for(const N of $)I=I.concat(N.bundler.getValidations(N.target));return validate$2(I)}}class PEX{constructor(){Dr(this,"_evaluationClientWrapper");this._evaluationClientWrapper=new EvaluationClientWrapper}evaluatePresentation($,I,N){const L=(N==null?void 0:N.generatePresentationSubmission)!==void 0?N.generatePresentationSubmission:(N==null?void 0:N.presentationSubmission)!==void 0,B=SSITypesBuilder.toInternalPresentationDefinition($),H=JSON.parse(JSON.stringify(I)),z=SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(H),Q=(N==null?void 0:N.presentationSubmission)||z.presentation.presentation_submission;if(!Q&&!L)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const te=z.presentation.holder?[z.presentation.holder]:[],G={...N,holderDIDs:te,presentationSubmission:Q,generatePresentationSubmission:L},ie=this._evaluationClientWrapper.evaluate(B,z.vcs,G);return ie.value&&ie.value.descriptor_map.length&&new EvaluationClientWrapper().selectFrom(B,z.vcs,G).areRequiredCredentialsPresent!==Status$1.ERROR&&(ie.errors=[]),ie}evaluateCredentials($,I,N){const L=SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(I);this._evaluationClientWrapper=new EvaluationClientWrapper;const B=SSITypesBuilder.toInternalPresentationDefinition($),H=this._evaluationClientWrapper.evaluate(B,L,N);if(H.value&&H.value.descriptor_map.length){const Q=new EvaluationClientWrapper().selectFrom(B,L,N);H.areRequiredCredentialsPresent=Q.areRequiredCredentialsPresent,H.errors=Q.errors}else H.areRequiredCredentialsPresent=Status$1.ERROR;return H}selectFrom($,I,N){const L=JSON.parse(JSON.stringify(I)),B=SSITypesBuilder.toInternalPresentationDefinition($);return this._evaluationClientWrapper=new EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(B,SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(L),N)}presentationSubmissionFrom($,I){const N=SSITypesBuilder.toInternalPresentationDefinition($);return this._evaluationClientWrapper.submissionFrom(N,SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(I))}presentationFrom($,I,N){const L=(N==null?void 0:N.presentationSubmissionLocation)??PresentationSubmissionLocation.PRESENTATION,B=this.presentationSubmissionFrom($,I);return{presentation:PEX.constructPresentation(I,{...N,presentationSubmission:L===PresentationSubmissionLocation.PRESENTATION?B:void 0}),presentationSubmissionLocation:L,presentationSubmission:B}}static constructPresentation($,I){var H,z,Q,te;const N=I==null?void 0:I.holderDID,L=Array.isArray((H=I==null?void 0:I.basePresentationPayload)==null?void 0:H.type)?((z=I==null?void 0:I.basePresentationPayload)==null?void 0:z.type)||[]:(Q=I==null?void 0:I.basePresentationPayload)!=null&&Q.type?[I.basePresentationPayload.type]:[],B=(te=I==null?void 0:I.basePresentationPayload)!=null&&te["@context"]?Array.isArray(I.basePresentationPayload["@context"])?I.basePresentationPayload["@context"]:[I.basePresentationPayload["@context"]]:[];return B.includes("https://www.w3.org/2018/credentials/v1")||B.push("https://www.w3.org/2018/credentials/v1"),L.includes("VerifiablePresentation")||L.push("VerifiablePresentation"),I!=null&&I.presentationSubmission&&(L.includes("PresentationSubmission")||L.push("PresentationSubmission"),B.includes("https://identity.foundation/presentation-exchange/submission/v1")||B.push("https://identity.foundation/presentation-exchange/submission/v1")),{...I==null?void 0:I.basePresentationPayload,"@context":B,type:L,holder:N,...!!(I!=null&&I.presentationSubmission)&&{presentation_submission:I.presentationSubmission},verifiableCredential:Array.isArray($)?$:[$]}}static validateDefinition($){const I=definitionVersionDiscovery($);if(I.error)throw I.error;const N=[];return I.version===PEVersion.v1?N.push({bundler:new PresentationDefinitionV1VB("root"),target:SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1($)}):N.push({bundler:new PresentationDefinitionV2VB("root"),target:SSITypesBuilder.modelEntityInternalPresentationDefinitionV2($)}),new ValidationEngine().validate(N)}static validateSubmission($){return new ValidationEngine().validate([{bundler:new PresentationSubmissionVB("root"),target:$}])}async verifiablePresentationFrom($,I,N,L){const{holderDID:B,signatureOptions:H,proofOptions:z}=L,Q=L.presentationSubmissionLocation??PresentationSubmissionLocation.PRESENTATION;function te(){let Le=[];if(z!=null&&z.typeSupportsSelectiveDisclosure){if(!(z!=null&&z.type))throw Error("Please provide a proof type if you enable selective disclosure");Le=[z.type]}return Le}const G=B?[B]:[],ie=te(),Re=this.evaluateCredentials($,I,{holderDIDs:G,limitDisclosureSignatureSuites:ie}),$e=this.presentationFrom($,Re.verifiableCredential,{...L,presentationSubmissionLocation:Q}),Pe=this.evaluatePresentation($,$e.presentation,{limitDisclosureSignatureSuites:ie});if(!Pe.value)throw new Error("Could not get evaluation results from presentationResult");const Me={type:z==null?void 0:z.type,verificationMethod:H==null?void 0:H.verificationMethod,created:z!=null&&z.created?z.created:new Date().toISOString(),proofPurpose:z==null?void 0:z.proofPurpose,proofValue:H==null?void 0:H.proofValue,jws:H==null?void 0:H.jws,challenge:z==null?void 0:z.challenge,nonce:z==null?void 0:z.nonce,domain:z==null?void 0:z.domain},Be={options:L,presentation:$e.presentation,presentationDefinition:$,selectedCredentials:I,proof:Me,presentationSubmission:Pe.value,evaluationResults:Pe};return{verifiablePresentation:await N(Be),presentationSubmissionLocation:Q,presentationSubmission:Pe.value}}static definitionVersionDiscovery($){return definitionVersionDiscovery($)}}class PresentationExchange{static selectCredentials({vcJwts:$,presentationDefinition:I}){var N,L;this.resetPex();const B=this.pex.selectFrom(I,$);return((N=B.errors)===null||N===void 0?void 0:N.length)!==0?[]:Array.from(new Set((L=B.verifiableCredential)!==null&&L!==void 0?L:[]))}static satisfiesPresentationDefinition({vcJwts:$,presentationDefinition:I}){var N,L,B;this.resetPex();const H=this.pex.evaluateCredentials(I,$);if(!((N=H.warnings)===null||N===void 0)&&N.length&&console.warn("Warnings were generated during the evaluation process: "+JSON.stringify(H.warnings)),H.areRequiredCredentialsPresent.toString()!=="info"||!((L=H.errors)===null||L===void 0)&&L.length){let z="Failed to create Verifiable Presentation JWT due to: ";throw H.areRequiredCredentialsPresent&&(z+="Required Credentials Not Present: "+JSON.stringify(H.areRequiredCredentialsPresent)),!((B=H.errors)===null||B===void 0)&&B.length&&(z+="Errors: "+JSON.stringify(H.errors)),new Error(z)}}static createPresentationFromCredentials({vcJwts:$,presentationDefinition:I}){var N,L,B;this.resetPex();const H=PEX.validateDefinition(I);isValid(H);const z=this.pex.evaluateCredentials(I,$);if(!((N=z.warnings)===null||N===void 0)&&N.length&&console.warn("Warnings were generated during the evaluation process: "+JSON.stringify(z.warnings)),z.areRequiredCredentialsPresent.toString()!=="info"||!((L=z.errors)===null||L===void 0)&&L.length){let G="Failed to create Verifiable Presentation JWT due to: ";throw z.areRequiredCredentialsPresent&&(G+="Required Credentials Not Present: "+JSON.stringify(z.areRequiredCredentialsPresent)),!((B=z.errors)===null||B===void 0)&&B.length&&(G+="Errors: "+JSON.stringify(z.errors)),new Error(G)}const Q=this.pex.presentationFrom(I,$),te=PEX.validateSubmission(Q.presentationSubmission);return isValid(te),Q}static validateDefinition({presentationDefinition:$}){return PEX.validateDefinition($)}static validateSubmission({presentationSubmission:$}){return PEX.validateSubmission($)}static evaluatePresentation({presentationDefinition:$,presentation:I}){return this.resetPex(),this.pex.evaluatePresentation($,I)}static resetPex(){this.pex=new PEX}}PresentationExchange.pex=new PEX;function isValid(T){let $="Failed to pass validation check due to: ";if(Array.isArray(T)){if(!T.every(I=>I.status==="info"))throw $+="Validation Errors: "+JSON.stringify(T),new Error($)}else if(T.status!=="info")throw $+="Validation Errors: "+JSON.stringify(T),new Error($)}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function zero$1(T){let $=T.length;for(;--$>=0;)T[$]=0}const MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const _utf8len=new Uint8Array(256);for(let T=0;T<256;T++)_utf8len[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;_utf8len[254]=_utf8len[254]=1;function getCurrentXmlSchema112Timestamp(){return new Date().toISOString().replace(/\.\d+Z$/,"Z")}function getXmlSchema112Timestamp(T){return new Date(T*1e3).toISOString().replace(/\.\d{3}/,"")}function isValidXmlSchema112Timestamp(T){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(T))return!1;const I=new Date(T);return!isNaN(I.getTime())}function isValidRFC3339Timestamp(T){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(T))return!1;const I=new Date(T);return!isNaN(I.getTime())}const DEFAULT_VP_TYPE="VerifiablePresentation";class SsiValidator{static validateCredentialPayload($){this.validateContext($.vcDataModel["@context"]),this.validateVcType($.type),this.validateCredentialSubject($.vcDataModel.credentialSubject),$.vcDataModel.issuanceDate&&this.validateTimestamp($.vcDataModel.issuanceDate),$.vcDataModel.expirationDate&&this.validateTimestamp($.vcDataModel.expirationDate)}static validateContext($){const I=this.asArray($);if(I.length<1||I.indexOf(DEFAULT_VC_CONTEXT)===-1)throw new Error(`@context is missing default context "${DEFAULT_VC_CONTEXT}"`)}static validateVcType($){const I=this.asArray($);if(I.length<1||I.indexOf(DEFAULT_VC_TYPE)===-1)throw new Error(`type is missing default "${DEFAULT_VC_TYPE}"`)}static validateVpType($){const I=this.asArray($);if(I.length<1||I.indexOf(DEFAULT_VP_TYPE)===-1)throw new Error(`type is missing default "${DEFAULT_VP_TYPE}"`)}static validateCredentialSubject($){if(Object.keys($).length===0)throw new Error("credentialSubject must not be empty")}static validateTimestamp($){if(!isValidXmlSchema112Timestamp($)&&!isValidRFC3339Timestamp($))throw new Error("timestamp is not valid xml schema 112 timestamp")}static asArray($){return Array.isArray($)?$:[$]}}var __awaiter=function(T,$,I,N){function L(B){return B instanceof I?B:new I(function(H){H(B)})}return new(I||(I=Promise))(function(B,H){function z(G){try{te(N.next(G))}catch(ie){H(ie)}}function Q(G){try{te(N.throw(G))}catch(ie){H(ie)}}function te(G){G.done?B(G.value):L(G.value).then(z,Q)}te((N=N.apply(T,$||[])).next())})};const DEFAULT_VC_CONTEXT="https://www.w3.org/2018/credentials/v1",DEFAULT_VC_TYPE="VerifiableCredential";class VerifiableCredential{constructor($){this.vcDataModel=$}get type(){return this.vcDataModel.type[this.vcDataModel.type.length-1]}get issuer(){return this.vcDataModel.issuer.toString()}get subject(){return Array.isArray(this.vcDataModel.credentialSubject)?this.vcDataModel.credentialSubject[0].id:this.vcDataModel.credentialSubject.id}sign($){return __awaiter(this,void 0,void 0,function*(){return yield Jwt.sign({signerDid:$.did,payload:Object.assign({vc:this.vcDataModel,nbf:Math.floor(new Date(this.vcDataModel.issuanceDate).getTime()/1e3),jti:this.vcDataModel.id,iss:$.did.uri,sub:this.subject,iat:Math.floor(Date.now()/1e3)},this.vcDataModel.expirationDate&&{exp:Math.floor(new Date(this.vcDataModel.expirationDate).getTime()/1e3)})})})}toString(){return JSON.stringify(this.vcDataModel)}static create($){return __awaiter(this,void 0,void 0,function*(){const{type:I,issuer:N,subject:L,data:B,issuanceDate:H,expirationDate:z,credentialStatus:Q,credentialSchema:te,evidence:G}=$,ie=JSON.parse(JSON.stringify(B));if(typeof ie!="object")throw new Error("Expected data to be parseable into a JSON object");if(!N||!L)throw new Error("Issuer and subject must be defined");if(typeof N!="string"||typeof L!="string")throw new Error("Issuer and subject must be of type string");const Re=Object.assign({id:L},ie),$e=[DEFAULT_VC_CONTEXT];Q!==null&&$e.push(DEFAULT_STATUS_LIST_VC_CONTEXT);const Pe=Object.assign(Object.assign(Object.assign(Object.assign({"@context":$e,type:Array.isArray(I)?[DEFAULT_VC_TYPE,...I]:I?[DEFAULT_VC_TYPE,I]:[DEFAULT_VC_TYPE],id:`urn:uuid:${randomUuid()}`,issuer:N,issuanceDate:H||getCurrentXmlSchema112Timestamp(),credentialSubject:Re},z&&{expirationDate:z}),Q&&{credentialStatus:Q}),te&&{credentialSchema:te}),G&&{evidence:G});return validatePayload(Pe),new VerifiableCredential(Pe)})}static verify($){return __awaiter(this,arguments,void 0,function*({vcJwt:I}){const{payload:N}=yield Jwt.verify({jwt:I}),{exp:L,iss:B,nbf:H,jti:z,sub:Q,vc:te}=N;if(!te)throw new Error("vc property missing.");const G=N.vc;if(L&&G.expirationDate&&L!==Math.floor(new Date(G.expirationDate).getTime()/1e3))throw new Error("Verification failed: exp claim does not match expirationDate");if(L&&(G.expirationDate=getXmlSchema112Timestamp(L)),!B)throw new Error("Verification failed: iss claim is required");if(B!==G.issuer)throw new Error("Verification failed: iss claim does not match expected issuer");if(H&&H>Math.floor(Date.now()/1e3))throw new Error("Verification failed: nbf claim is in the future");if(H&&G.issuanceDate&&H!==Math.floor(new Date(G.issuanceDate).getTime()/1e3))throw new Error("Verification failed: nbf claim does not match issuanceDate");if(H&&(G.issuanceDate=getXmlSchema112Timestamp(H)),Q&&!Array.isArray(G.credentialSubject)&&Q!==G.credentialSubject.id)throw new Error("Verification failed: sub claim does not match credentialSubject.id");if(Q&&!Array.isArray(G.credentialSubject)&&(G.credentialSubject.id=Q),z&&z!==G.id)throw new Error("Verification failed: jti claim does not match id");return z&&(G.id=z),validatePayload(G),{issuer:N.iss,subject:N.sub,vc:G}})}static parseJwt({vcJwt:$}){const N=Jwt.parse({jwt:$}).decoded.payload.vc;if(!N)throw Error("Jwt payload missing vc property");return validatePayload(N),new VerifiableCredential(N)}}function validatePayload(T){SsiValidator.validateContext(T["@context"]),SsiValidator.validateVcType(T.type),SsiValidator.validateCredentialSubject(T.credentialSubject),T.issuanceDate&&SsiValidator.validateTimestamp(T.issuanceDate),T.expirationDate&&SsiValidator.validateTimestamp(T.expirationDate)}const DEFAULT_STATUS_LIST_VC_CONTEXT="https://w3id.org/vc/status-list/2021/v1";var StatusPurpose;(function(T){T.revocation="revocation",T.suspension="suspension"})(StatusPurpose||(StatusPurpose={}));var ajv={exports:{}},core$6={},validate$1={},boolSchema$1={},errors$5={},codegen$1={},code$4={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.regexpCode=T.getEsmExportName=T.getProperty=T.safeStringify=T.stringify=T.strConcat=T.addCodeArg=T.str=T._=T.nil=T._Code=T.Name=T.IDENTIFIER=T._CodeOrName=void 0;class ${}T._CodeOrName=$,T.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class I extends ${constructor(Le){if(super(),!T.IDENTIFIER.test(Le))throw new Error("CodeGen: name must be a valid identifier");this.str=Le}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}T.Name=I;class N extends ${constructor(Le){super(),this._items=typeof Le=="string"?[Le]:Le}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Le=this._items[0];return Le===""||Le==='""'}get str(){var Le;return(Le=this._str)!==null&&Le!==void 0?Le:this._str=this._items.reduce((qe,He)=>`${qe}${He}`,"")}get names(){var Le;return(Le=this._names)!==null&&Le!==void 0?Le:this._names=this._items.reduce((qe,He)=>(He instanceof I&&(qe[He.str]=(qe[He.str]||0)+1),qe),{})}}T._Code=N,T.nil=new N("");function L(Ke,...Le){const qe=[Ke[0]];let He=0;for(;He<Le.length;)z(qe,Le[He]),qe.push(Ke[++He]);return new N(qe)}T._=L;const B=new N("+");function H(Ke,...Le){const qe=[$e(Ke[0])];let He=0;for(;He<Le.length;)qe.push(B),z(qe,Le[He]),qe.push(B,$e(Ke[++He]));return Q(qe),new N(qe)}T.str=H;function z(Ke,Le){Le instanceof N?Ke.push(...Le._items):Le instanceof I?Ke.push(Le):Ke.push(ie(Le))}T.addCodeArg=z;function Q(Ke){let Le=1;for(;Le<Ke.length-1;){if(Ke[Le]===B){const qe=te(Ke[Le-1],Ke[Le+1]);if(qe!==void 0){Ke.splice(Le-1,3,qe);continue}Ke[Le++]="+"}Le++}}function te(Ke,Le){if(Le==='""')return Ke;if(Ke==='""')return Le;if(typeof Ke=="string")return Le instanceof I||Ke[Ke.length-1]!=='"'?void 0:typeof Le!="string"?`${Ke.slice(0,-1)}${Le}"`:Le[0]==='"'?Ke.slice(0,-1)+Le.slice(1):void 0;if(typeof Le=="string"&&Le[0]==='"'&&!(Ke instanceof I))return`"${Ke}${Le.slice(1)}`}function G(Ke,Le){return Le.emptyStr()?Ke:Ke.emptyStr()?Le:H`${Ke}${Le}`}T.strConcat=G;function ie(Ke){return typeof Ke=="number"||typeof Ke=="boolean"||Ke===null?Ke:$e(Array.isArray(Ke)?Ke.join(","):Ke)}function Re(Ke){return new N($e(Ke))}T.stringify=Re;function $e(Ke){return JSON.stringify(Ke).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}T.safeStringify=$e;function Pe(Ke){return typeof Ke=="string"&&T.IDENTIFIER.test(Ke)?new N(`.${Ke}`):L`[${Ke}]`}T.getProperty=Pe;function Me(Ke){if(typeof Ke=="string"&&T.IDENTIFIER.test(Ke))return new N(`${Ke}`);throw new Error(`CodeGen: invalid export name: ${Ke}, use explicit $id name mapping`)}T.getEsmExportName=Me;function Be(Ke){return new N(Ke.toString())}T.regexpCode=Be})(code$4);const code$2=getDefaultExportFromCjs$1(code$4),code$3=_mergeNamespaces({__proto__:null,default:code$2},[code$4]);var scope$2={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.ValueScope=T.ValueScopeName=T.Scope=T.varKinds=T.UsedValueState=void 0;const $=code$3;class I extends Error{constructor(te){super(`CodeGen: "code" for ${te} not defined`),this.value=te.value}}var N;(function(Q){Q[Q.Started=0]="Started",Q[Q.Completed=1]="Completed"})(N=T.UsedValueState||(T.UsedValueState={})),T.varKinds={const:new $.Name("const"),let:new $.Name("let"),var:new $.Name("var")};class L{constructor({prefixes:te,parent:G}={}){this._names={},this._prefixes=te,this._parent=G}toName(te){return te instanceof $.Name?te:this.name(te)}name(te){return new $.Name(this._newName(te))}_newName(te){const G=this._names[te]||this._nameGroup(te);return`${te}${G.index++}`}_nameGroup(te){var G,ie;if(!((ie=(G=this._parent)===null||G===void 0?void 0:G._prefixes)===null||ie===void 0)&&ie.has(te)||this._prefixes&&!this._prefixes.has(te))throw new Error(`CodeGen: prefix "${te}" is not allowed in this scope`);return this._names[te]={prefix:te,index:0}}}T.Scope=L;class B extends $.Name{constructor(te,G){super(G),this.prefix=te}setValue(te,{property:G,itemIndex:ie}){this.value=te,this.scopePath=(0,$._)`.${new $.Name(G)}[${ie}]`}}T.ValueScopeName=B;const H=(0,$._)`\n`;class z extends L{constructor(te){super(te),this._values={},this._scope=te.scope,this.opts={...te,_n:te.lines?H:$.nil}}get(){return this._scope}name(te){return new B(te,this._newName(te))}value(te,G){var ie;if(G.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const Re=this.toName(te),{prefix:$e}=Re,Pe=(ie=G.key)!==null&&ie!==void 0?ie:G.ref;let Me=this._values[$e];if(Me){const Le=Me.get(Pe);if(Le)return Le}else Me=this._values[$e]=new Map;Me.set(Pe,Re);const Be=this._scope[$e]||(this._scope[$e]=[]),Ke=Be.length;return Be[Ke]=G.ref,Re.setValue(G,{property:$e,itemIndex:Ke}),Re}getValue(te,G){const ie=this._values[te];if(ie)return ie.get(G)}scopeRefs(te,G=this._values){return this._reduceValues(G,ie=>{if(ie.scopePath===void 0)throw new Error(`CodeGen: name "${ie}" has no value`);return(0,$._)`${te}${ie.scopePath}`})}scopeCode(te=this._values,G,ie){return this._reduceValues(te,Re=>{if(Re.value===void 0)throw new Error(`CodeGen: name "${Re}" has no value`);return Re.value.code},G,ie)}_reduceValues(te,G,ie={},Re){let $e=$.nil;for(const Pe in te){const Me=te[Pe];if(!Me)continue;const Be=ie[Pe]=ie[Pe]||new Map;Me.forEach(Ke=>{if(Be.has(Ke))return;Be.set(Ke,N.Started);let Le=G(Ke);if(Le){const qe=this.opts.es5?T.varKinds.var:T.varKinds.const;$e=(0,$._)`${$e}${qe} ${Ke} = ${Le};${this.opts._n}`}else if(Le=Re==null?void 0:Re(Ke))$e=(0,$._)`${$e}${Le}${this.opts._n}`;else throw new I(Ke);Be.set(Ke,N.Completed)})}return $e}}T.ValueScope=z})(scope$2);const scope=getDefaultExportFromCjs$1(scope$2),scope$1=_mergeNamespaces({__proto__:null,default:scope},[scope$2]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.or=T.and=T.not=T.CodeGen=T.operators=T.varKinds=T.ValueScopeName=T.ValueScope=T.Scope=T.Name=T.regexpCode=T.stringify=T.getProperty=T.nil=T.strConcat=T.str=T._=void 0;const $=code$3,I=scope$1;var N=code$3;Object.defineProperty(T,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(T,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(T,"strConcat",{enumerable:!0,get:function(){return N.strConcat}}),Object.defineProperty(T,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(T,"getProperty",{enumerable:!0,get:function(){return N.getProperty}}),Object.defineProperty(T,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(T,"regexpCode",{enumerable:!0,get:function(){return N.regexpCode}}),Object.defineProperty(T,"Name",{enumerable:!0,get:function(){return N.Name}});var L=scope$1;Object.defineProperty(T,"Scope",{enumerable:!0,get:function(){return L.Scope}}),Object.defineProperty(T,"ValueScope",{enumerable:!0,get:function(){return L.ValueScope}}),Object.defineProperty(T,"ValueScopeName",{enumerable:!0,get:function(){return L.ValueScopeName}}),Object.defineProperty(T,"varKinds",{enumerable:!0,get:function(){return L.varKinds}}),T.operators={GT:new $._Code(">"),GTE:new $._Code(">="),LT:new $._Code("<"),LTE:new $._Code("<="),EQ:new $._Code("==="),NEQ:new $._Code("!=="),NOT:new $._Code("!"),OR:new $._Code("||"),AND:new $._Code("&&"),ADD:new $._Code("+")};class B{optimizeNodes(){return this}optimizeNames(st,dt){return this}}class H extends B{constructor(st,dt,bt){super(),this.varKind=st,this.name=dt,this.rhs=bt}render({es5:st,_n:dt}){const bt=st?I.varKinds.var:this.varKind,vt=this.rhs===void 0?"":` = ${this.rhs}`;return`${bt} ${this.name}${vt};`+dt}optimizeNames(st,dt){if(st[this.name.str])return this.rhs&&(this.rhs=ke(this.rhs,st,dt)),this}get names(){return this.rhs instanceof $._CodeOrName?this.rhs.names:{}}}class z extends B{constructor(st,dt,bt){super(),this.lhs=st,this.rhs=dt,this.sideEffects=bt}render({_n:st}){return`${this.lhs} = ${this.rhs};`+st}optimizeNames(st,dt){if(!(this.lhs instanceof $.Name&&!st[this.lhs.str]&&!this.sideEffects))return this.rhs=ke(this.rhs,st,dt),this}get names(){const st=this.lhs instanceof $.Name?{}:{...this.lhs.names};return Fe(st,this.rhs)}}class Q extends z{constructor(st,dt,bt,vt){super(st,bt,vt),this.op=dt}render({_n:st}){return`${this.lhs} ${this.op}= ${this.rhs};`+st}}class te extends B{constructor(st){super(),this.label=st,this.names={}}render({_n:st}){return`${this.label}:`+st}}class G extends B{constructor(st){super(),this.label=st,this.names={}}render({_n:st}){return`break${this.label?` ${this.label}`:""};`+st}}class ie extends B{constructor(st){super(),this.error=st}render({_n:st}){return`throw ${this.error};`+st}get names(){return this.error.names}}class Re extends B{constructor(st){super(),this.code=st}render({_n:st}){return`${this.code};`+st}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(st,dt){return this.code=ke(this.code,st,dt),this}get names(){return this.code instanceof $._CodeOrName?this.code.names:{}}}class $e extends B{constructor(st=[]){super(),this.nodes=st}render(st){return this.nodes.reduce((dt,bt)=>dt+bt.render(st),"")}optimizeNodes(){const{nodes:st}=this;let dt=st.length;for(;dt--;){const bt=st[dt].optimizeNodes();Array.isArray(bt)?st.splice(dt,1,...bt):bt?st[dt]=bt:st.splice(dt,1)}return st.length>0?this:void 0}optimizeNames(st,dt){const{nodes:bt}=this;let vt=bt.length;for(;vt--;){const St=bt[vt];St.optimizeNames(st,dt)||(Ue(st,St.names),bt.splice(vt,1))}return bt.length>0?this:void 0}get names(){return this.nodes.reduce((st,dt)=>ze(st,dt.names),{})}}class Pe extends $e{render(st){return"{"+st._n+super.render(st)+"}"+st._n}}class Me extends $e{}class Be extends Pe{}Be.kind="else";class Ke extends Pe{constructor(st,dt){super(dt),this.condition=st}render(st){let dt=`if(${this.condition})`+super.render(st);return this.else&&(dt+="else "+this.else.render(st)),dt}optimizeNodes(){super.optimizeNodes();const st=this.condition;if(st===!0)return this.nodes;let dt=this.else;if(dt){const bt=dt.optimizeNodes();dt=this.else=Array.isArray(bt)?new Be(bt):bt}if(dt)return st===!1?dt instanceof Ke?dt:dt.nodes:this.nodes.length?this:new Ke(Je(st),dt instanceof Ke?[dt]:dt.nodes);if(!(st===!1||!this.nodes.length))return this}optimizeNames(st,dt){var bt;if(this.else=(bt=this.else)===null||bt===void 0?void 0:bt.optimizeNames(st,dt),!!(super.optimizeNames(st,dt)||this.else))return this.condition=ke(this.condition,st,dt),this}get names(){const st=super.names;return Fe(st,this.condition),this.else&&ze(st,this.else.names),st}}Ke.kind="if";class Le extends Pe{}Le.kind="for";class qe extends Le{constructor(st){super(),this.iteration=st}render(st){return`for(${this.iteration})`+super.render(st)}optimizeNames(st,dt){if(super.optimizeNames(st,dt))return this.iteration=ke(this.iteration,st,dt),this}get names(){return ze(super.names,this.iteration.names)}}class He extends Le{constructor(st,dt,bt,vt){super(),this.varKind=st,this.name=dt,this.from=bt,this.to=vt}render(st){const dt=st.es5?I.varKinds.var:this.varKind,{name:bt,from:vt,to:St}=this;return`for(${dt} ${bt}=${vt}; ${bt}<${St}; ${bt}++)`+super.render(st)}get names(){const st=Fe(super.names,this.from);return Fe(st,this.to)}}class Ge extends Le{constructor(st,dt,bt,vt){super(),this.loop=st,this.varKind=dt,this.name=bt,this.iterable=vt}render(st){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(st)}optimizeNames(st,dt){if(super.optimizeNames(st,dt))return this.iterable=ke(this.iterable,st,dt),this}get names(){return ze(super.names,this.iterable.names)}}class at extends Pe{constructor(st,dt,bt){super(),this.name=st,this.args=dt,this.async=bt}render(st){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(st)}}at.kind="func";class ot extends $e{render(st){return"return "+super.render(st)}}ot.kind="return";class Ye extends Pe{render(st){let dt="try"+super.render(st);return this.catch&&(dt+=this.catch.render(st)),this.finally&&(dt+=this.finally.render(st)),dt}optimizeNodes(){var st,dt;return super.optimizeNodes(),(st=this.catch)===null||st===void 0||st.optimizeNodes(),(dt=this.finally)===null||dt===void 0||dt.optimizeNodes(),this}optimizeNames(st,dt){var bt,vt;return super.optimizeNames(st,dt),(bt=this.catch)===null||bt===void 0||bt.optimizeNames(st,dt),(vt=this.finally)===null||vt===void 0||vt.optimizeNames(st,dt),this}get names(){const st=super.names;return this.catch&&ze(st,this.catch.names),this.finally&&ze(st,this.finally.names),st}}class nt extends Pe{constructor(st){super(),this.error=st}render(st){return`catch(${this.error})`+super.render(st)}}nt.kind="catch";class Qe extends Pe{render(st){return"finally"+super.render(st)}}Qe.kind="finally";class tt{constructor(st,dt={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...dt,_n:dt.lines?`
`:""},this._extScope=st,this._scope=new I.Scope({parent:st}),this._nodes=[new Me]}toString(){return this._root.render(this.opts)}name(st){return this._scope.name(st)}scopeName(st){return this._extScope.name(st)}scopeValue(st,dt){const bt=this._extScope.value(st,dt);return(this._values[bt.prefix]||(this._values[bt.prefix]=new Set)).add(bt),bt}getScopeValue(st,dt){return this._extScope.getValue(st,dt)}scopeRefs(st){return this._extScope.scopeRefs(st,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(st,dt,bt,vt){const St=this._scope.toName(dt);return bt!==void 0&&vt&&(this._constants[St.str]=bt),this._leafNode(new H(st,St,bt)),St}const(st,dt,bt){return this._def(I.varKinds.const,st,dt,bt)}let(st,dt,bt){return this._def(I.varKinds.let,st,dt,bt)}var(st,dt,bt){return this._def(I.varKinds.var,st,dt,bt)}assign(st,dt,bt){return this._leafNode(new z(st,dt,bt))}add(st,dt){return this._leafNode(new Q(st,T.operators.ADD,dt))}code(st){return typeof st=="function"?st():st!==$.nil&&this._leafNode(new Re(st)),this}object(...st){const dt=["{"];for(const[bt,vt]of st)dt.length>1&&dt.push(","),dt.push(bt),(bt!==vt||this.opts.es5)&&(dt.push(":"),(0,$.addCodeArg)(dt,vt));return dt.push("}"),new $._Code(dt)}if(st,dt,bt){if(this._blockNode(new Ke(st)),dt&&bt)this.code(dt).else().code(bt).endIf();else if(dt)this.code(dt).endIf();else if(bt)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(st){return this._elseNode(new Ke(st))}else(){return this._elseNode(new Be)}endIf(){return this._endBlockNode(Ke,Be)}_for(st,dt){return this._blockNode(st),dt&&this.code(dt).endFor(),this}for(st,dt){return this._for(new qe(st),dt)}forRange(st,dt,bt,vt,St=this.opts.es5?I.varKinds.var:I.varKinds.let){const Bt=this._scope.toName(st);return this._for(new He(St,Bt,dt,bt),()=>vt(Bt))}forOf(st,dt,bt,vt=I.varKinds.const){const St=this._scope.toName(st);if(this.opts.es5){const Bt=dt instanceof $.Name?dt:this.var("_arr",dt);return this.forRange("_i",0,(0,$._)`${Bt}.length`,Gt=>{this.var(St,(0,$._)`${Bt}[${Gt}]`),bt(St)})}return this._for(new Ge("of",vt,St,dt),()=>bt(St))}forIn(st,dt,bt,vt=this.opts.es5?I.varKinds.var:I.varKinds.const){if(this.opts.ownProperties)return this.forOf(st,(0,$._)`Object.keys(${dt})`,bt);const St=this._scope.toName(st);return this._for(new Ge("in",vt,St,dt),()=>bt(St))}endFor(){return this._endBlockNode(Le)}label(st){return this._leafNode(new te(st))}break(st){return this._leafNode(new G(st))}return(st){const dt=new ot;if(this._blockNode(dt),this.code(st),dt.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ot)}try(st,dt,bt){if(!dt&&!bt)throw new Error('CodeGen: "try" without "catch" and "finally"');const vt=new Ye;if(this._blockNode(vt),this.code(st),dt){const St=this.name("e");this._currNode=vt.catch=new nt(St),dt(St)}return bt&&(this._currNode=vt.finally=new Qe,this.code(bt)),this._endBlockNode(nt,Qe)}throw(st){return this._leafNode(new ie(st))}block(st,dt){return this._blockStarts.push(this._nodes.length),st&&this.code(st).endBlock(dt),this}endBlock(st){const dt=this._blockStarts.pop();if(dt===void 0)throw new Error("CodeGen: not in self-balancing block");const bt=this._nodes.length-dt;if(bt<0||st!==void 0&&bt!==st)throw new Error(`CodeGen: wrong number of nodes: ${bt} vs ${st} expected`);return this._nodes.length=dt,this}func(st,dt=$.nil,bt,vt){return this._blockNode(new at(st,dt,bt)),vt&&this.code(vt).endFunc(),this}endFunc(){return this._endBlockNode(at)}optimize(st=1){for(;st-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(st){return this._currNode.nodes.push(st),this}_blockNode(st){this._currNode.nodes.push(st),this._nodes.push(st)}_endBlockNode(st,dt){const bt=this._currNode;if(bt instanceof st||dt&&bt instanceof dt)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${dt?`${st.kind}/${dt.kind}`:st.kind}"`)}_elseNode(st){const dt=this._currNode;if(!(dt instanceof Ke))throw new Error('CodeGen: "else" without "if"');return this._currNode=dt.else=st,this}get _root(){return this._nodes[0]}get _currNode(){const st=this._nodes;return st[st.length-1]}set _currNode(st){const dt=this._nodes;dt[dt.length-1]=st}}T.CodeGen=tt;function ze(Ze,st){for(const dt in st)Ze[dt]=(Ze[dt]||0)+(st[dt]||0);return Ze}function Fe(Ze,st){return st instanceof $._CodeOrName?ze(Ze,st.names):Ze}function ke(Ze,st,dt){if(Ze instanceof $.Name)return bt(Ze);if(!vt(Ze))return Ze;return new $._Code(Ze._items.reduce((St,Bt)=>(Bt instanceof $.Name&&(Bt=bt(Bt)),Bt instanceof $._Code?St.push(...Bt._items):St.push(Bt),St),[]));function bt(St){const Bt=dt[St.str];return Bt===void 0||st[St.str]!==1?St:(delete st[St.str],Bt)}function vt(St){return St instanceof $._Code&&St._items.some(Bt=>Bt instanceof $.Name&&st[Bt.str]===1&&dt[Bt.str]!==void 0)}}function Ue(Ze,st){for(const dt in st)Ze[dt]=(Ze[dt]||0)-(st[dt]||0)}function Je(Ze){return typeof Ze=="boolean"||typeof Ze=="number"||Ze===null?!Ze:(0,$._)`!${je(Ze)}`}T.not=Je;const rt=Ve(T.operators.AND);function Xe(...Ze){return Ze.reduce(rt)}T.and=Xe;const it=Ve(T.operators.OR);function We(...Ze){return Ze.reduce(it)}T.or=We;function Ve(Ze){return(st,dt)=>st===$.nil?dt:dt===$.nil?st:(0,$._)`${je(st)} ${Ze} ${je(dt)}`}function je(Ze){return Ze instanceof $.Name?Ze:(0,$._)`(${Ze})`}})(codegen$1);const index$h=getDefaultExportFromCjs$1(codegen$1),codegen=_mergeNamespaces({__proto__:null,default:index$h},[codegen$1]);var util$9={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.checkStrictMode=T.getErrorPath=T.Type=T.useFunc=T.setEvaluated=T.evaluatedPropsToName=T.mergeEvaluated=T.eachItem=T.unescapeJsonPointer=T.escapeJsonPointer=T.escapeFragment=T.unescapeFragment=T.schemaRefOrVal=T.schemaHasRulesButRef=T.schemaHasRules=T.checkUnknownRules=T.alwaysValidSchema=T.toHash=void 0;const $=codegen,I=code$3;function N(at){const ot={};for(const Ye of at)ot[Ye]=!0;return ot}T.toHash=N;function L(at,ot){return typeof ot=="boolean"?ot:Object.keys(ot).length===0?!0:(B(at,ot),!H(ot,at.self.RULES.all))}T.alwaysValidSchema=L;function B(at,ot=at.schema){const{opts:Ye,self:nt}=at;if(!Ye.strictSchema||typeof ot=="boolean")return;const Qe=nt.RULES.keywords;for(const tt in ot)Qe[tt]||Ge(at,`unknown keyword: "${tt}"`)}T.checkUnknownRules=B;function H(at,ot){if(typeof at=="boolean")return!at;for(const Ye in at)if(ot[Ye])return!0;return!1}T.schemaHasRules=H;function z(at,ot){if(typeof at=="boolean")return!at;for(const Ye in at)if(Ye!=="$ref"&&ot.all[Ye])return!0;return!1}T.schemaHasRulesButRef=z;function Q({topSchemaRef:at,schemaPath:ot},Ye,nt,Qe){if(!Qe){if(typeof Ye=="number"||typeof Ye=="boolean")return Ye;if(typeof Ye=="string")return(0,$._)`${Ye}`}return(0,$._)`${at}${ot}${(0,$.getProperty)(nt)}`}T.schemaRefOrVal=Q;function te(at){return Re(decodeURIComponent(at))}T.unescapeFragment=te;function G(at){return encodeURIComponent(ie(at))}T.escapeFragment=G;function ie(at){return typeof at=="number"?`${at}`:at.replace(/~/g,"~0").replace(/\//g,"~1")}T.escapeJsonPointer=ie;function Re(at){return at.replace(/~1/g,"/").replace(/~0/g,"~")}T.unescapeJsonPointer=Re;function $e(at,ot){if(Array.isArray(at))for(const Ye of at)ot(Ye);else ot(at)}T.eachItem=$e;function Pe({mergeNames:at,mergeToName:ot,mergeValues:Ye,resultToName:nt}){return(Qe,tt,ze,Fe)=>{const ke=ze===void 0?tt:ze instanceof $.Name?(tt instanceof $.Name?at(Qe,tt,ze):ot(Qe,tt,ze),ze):tt instanceof $.Name?(ot(Qe,ze,tt),tt):Ye(tt,ze);return Fe===$.Name&&!(ke instanceof $.Name)?nt(Qe,ke):ke}}T.mergeEvaluated={props:Pe({mergeNames:(at,ot,Ye)=>at.if((0,$._)`${Ye} !== true && ${ot} !== undefined`,()=>{at.if((0,$._)`${ot} === true`,()=>at.assign(Ye,!0),()=>at.assign(Ye,(0,$._)`${Ye} || {}`).code((0,$._)`Object.assign(${Ye}, ${ot})`))}),mergeToName:(at,ot,Ye)=>at.if((0,$._)`${Ye} !== true`,()=>{ot===!0?at.assign(Ye,!0):(at.assign(Ye,(0,$._)`${Ye} || {}`),Be(at,Ye,ot))}),mergeValues:(at,ot)=>at===!0?!0:{...at,...ot},resultToName:Me}),items:Pe({mergeNames:(at,ot,Ye)=>at.if((0,$._)`${Ye} !== true && ${ot} !== undefined`,()=>at.assign(Ye,(0,$._)`${ot} === true ? true : ${Ye} > ${ot} ? ${Ye} : ${ot}`)),mergeToName:(at,ot,Ye)=>at.if((0,$._)`${Ye} !== true`,()=>at.assign(Ye,ot===!0?!0:(0,$._)`${Ye} > ${ot} ? ${Ye} : ${ot}`)),mergeValues:(at,ot)=>at===!0?!0:Math.max(at,ot),resultToName:(at,ot)=>at.var("items",ot)})};function Me(at,ot){if(ot===!0)return at.var("props",!0);const Ye=at.var("props",(0,$._)`{}`);return ot!==void 0&&Be(at,Ye,ot),Ye}T.evaluatedPropsToName=Me;function Be(at,ot,Ye){Object.keys(Ye).forEach(nt=>at.assign((0,$._)`${ot}${(0,$.getProperty)(nt)}`,!0))}T.setEvaluated=Be;const Ke={};function Le(at,ot){return at.scopeValue("func",{ref:ot,code:Ke[ot.code]||(Ke[ot.code]=new I._Code(ot.code))})}T.useFunc=Le;var qe;(function(at){at[at.Num=0]="Num",at[at.Str=1]="Str"})(qe=T.Type||(T.Type={}));function He(at,ot,Ye){if(at instanceof $.Name){const nt=ot===qe.Num;return Ye?nt?(0,$._)`"[" + ${at} + "]"`:(0,$._)`"['" + ${at} + "']"`:nt?(0,$._)`"/" + ${at}`:(0,$._)`"/" + ${at}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Ye?(0,$.getProperty)(at).toString():"/"+ie(at)}T.getErrorPath=He;function Ge(at,ot,Ye=at.opts.strictSchema){if(Ye){if(ot=`strict mode: ${ot}`,Ye===!0)throw new Error(ot);at.self.logger.warn(ot)}}T.checkStrictMode=Ge})(util$9);const util$7=getDefaultExportFromCjs$1(util$9),util$8=_mergeNamespaces({__proto__:null,default:util$7},[util$9]);var names$2={};Object.defineProperty(names$2,"__esModule",{value:!0});const codegen_1$t=codegen,names={data:new codegen_1$t.Name("data"),valCxt:new codegen_1$t.Name("valCxt"),instancePath:new codegen_1$t.Name("instancePath"),parentData:new codegen_1$t.Name("parentData"),parentDataProperty:new codegen_1$t.Name("parentDataProperty"),rootData:new codegen_1$t.Name("rootData"),dynamicAnchors:new codegen_1$t.Name("dynamicAnchors"),vErrors:new codegen_1$t.Name("vErrors"),errors:new codegen_1$t.Name("errors"),this:new codegen_1$t.Name("this"),self:new codegen_1$t.Name("self"),scope:new codegen_1$t.Name("scope"),json:new codegen_1$t.Name("json"),jsonPos:new codegen_1$t.Name("jsonPos"),jsonLen:new codegen_1$t.Name("jsonLen"),jsonPart:new codegen_1$t.Name("jsonPart")};var _default$C=names$2.default=names;const names$1=_mergeNamespaces({__proto__:null,default:_default$C},[names$2]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.extendErrors=T.resetErrorsCount=T.reportExtraError=T.reportError=T.keyword$DataError=T.keywordError=void 0;const $=codegen,I=util$8,N=names$1;T.keywordError={message:({keyword:Be})=>(0,$.str)`must pass "${Be}" keyword validation`},T.keyword$DataError={message:({keyword:Be,schemaType:Ke})=>Ke?(0,$.str)`"${Be}" keyword must be ${Ke} ($data)`:(0,$.str)`"${Be}" keyword is invalid ($data)`};function L(Be,Ke=T.keywordError,Le,qe){const{it:He}=Be,{gen:Ge,compositeRule:at,allErrors:ot}=He,Ye=ie(Be,Ke,Le);qe??(at||ot)?Q(Ge,Ye):te(He,(0,$._)`[${Ye}]`)}T.reportError=L;function B(Be,Ke=T.keywordError,Le){const{it:qe}=Be,{gen:He,compositeRule:Ge,allErrors:at}=qe,ot=ie(Be,Ke,Le);Q(He,ot),Ge||at||te(qe,N.default.vErrors)}T.reportExtraError=B;function H(Be,Ke){Be.assign(N.default.errors,Ke),Be.if((0,$._)`${N.default.vErrors} !== null`,()=>Be.if(Ke,()=>Be.assign((0,$._)`${N.default.vErrors}.length`,Ke),()=>Be.assign(N.default.vErrors,null)))}T.resetErrorsCount=H;function z({gen:Be,keyword:Ke,schemaValue:Le,data:qe,errsCount:He,it:Ge}){if(He===void 0)throw new Error("ajv implementation error");const at=Be.name("err");Be.forRange("i",He,N.default.errors,ot=>{Be.const(at,(0,$._)`${N.default.vErrors}[${ot}]`),Be.if((0,$._)`${at}.instancePath === undefined`,()=>Be.assign((0,$._)`${at}.instancePath`,(0,$.strConcat)(N.default.instancePath,Ge.errorPath))),Be.assign((0,$._)`${at}.schemaPath`,(0,$.str)`${Ge.errSchemaPath}/${Ke}`),Ge.opts.verbose&&(Be.assign((0,$._)`${at}.schema`,Le),Be.assign((0,$._)`${at}.data`,qe))})}T.extendErrors=z;function Q(Be,Ke){const Le=Be.const("err",Ke);Be.if((0,$._)`${N.default.vErrors} === null`,()=>Be.assign(N.default.vErrors,(0,$._)`[${Le}]`),(0,$._)`${N.default.vErrors}.push(${Le})`),Be.code((0,$._)`${N.default.errors}++`)}function te(Be,Ke){const{gen:Le,validateName:qe,schemaEnv:He}=Be;He.$async?Le.throw((0,$._)`new ${Be.ValidationError}(${Ke})`):(Le.assign((0,$._)`${qe}.errors`,Ke),Le.return(!1))}const G={keyword:new $.Name("keyword"),schemaPath:new $.Name("schemaPath"),params:new $.Name("params"),propertyName:new $.Name("propertyName"),message:new $.Name("message"),schema:new $.Name("schema"),parentSchema:new $.Name("parentSchema")};function ie(Be,Ke,Le){const{createErrors:qe}=Be.it;return qe===!1?(0,$._)`{}`:Re(Be,Ke,Le)}function Re(Be,Ke,Le={}){const{gen:qe,it:He}=Be,Ge=[$e(He,Le),Pe(Be,Le)];return Me(Be,Ke,Ge),qe.object(...Ge)}function $e({errorPath:Be},{instancePath:Ke}){const Le=Ke?(0,$.str)`${Be}${(0,I.getErrorPath)(Ke,I.Type.Str)}`:Be;return[N.default.instancePath,(0,$.strConcat)(N.default.instancePath,Le)]}function Pe({keyword:Be,it:{errSchemaPath:Ke}},{schemaPath:Le,parentSchema:qe}){let He=qe?Ke:(0,$.str)`${Ke}/${Be}`;return Le&&(He=(0,$.str)`${He}${(0,I.getErrorPath)(Le,I.Type.Str)}`),[G.schemaPath,He]}function Me(Be,{params:Ke,message:Le},qe){const{keyword:He,data:Ge,schemaValue:at,it:ot}=Be,{opts:Ye,propertyName:nt,topSchemaRef:Qe,schemaPath:tt}=ot;qe.push([G.keyword,He],[G.params,typeof Ke=="function"?Ke(Be):Ke||(0,$._)`{}`]),Ye.messages&&qe.push([G.message,typeof Le=="function"?Le(Be):Le]),Ye.verbose&&qe.push([G.schema,at],[G.parentSchema,(0,$._)`${Qe}${tt}`],[N.default.data,Ge]),nt&&qe.push([G.propertyName,nt])}})(errors$5);const errors$3=getDefaultExportFromCjs$1(errors$5),errors$4=_mergeNamespaces({__proto__:null,default:errors$3},[errors$5]);Object.defineProperty(boolSchema$1,"__esModule",{value:!0});var boolOrEmptySchema_1=boolSchema$1.boolOrEmptySchema=topBoolOrEmptySchema_1=boolSchema$1.topBoolOrEmptySchema=void 0;const errors_1$2=errors$4,codegen_1$s=codegen,names_1$6=names$1,boolError={message:"boolean schema is false"};function topBoolOrEmptySchema(T){const{gen:$,schema:I,validateName:N}=T;I===!1?falseSchemaError(T,!1):typeof I=="object"&&I.$async===!0?$.return(names_1$6.default.data):($.assign((0,codegen_1$s._)`${N}.errors`,null),$.return(!0))}var topBoolOrEmptySchema_1=boolSchema$1.topBoolOrEmptySchema=topBoolOrEmptySchema;function boolOrEmptySchema(T,$){const{gen:I,schema:N}=T;N===!1?(I.var($,!1),falseSchemaError(T)):I.var($,!0)}boolOrEmptySchema_1=boolSchema$1.boolOrEmptySchema=boolOrEmptySchema;function falseSchemaError(T,$){const{gen:I,data:N}=T,L={gen:I,keyword:"false schema",data:N,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:T};(0,errors_1$2.reportError)(L,boolError,void 0,$)}const boolSchema=_mergeNamespaces({__proto__:null,get boolOrEmptySchema(){return boolOrEmptySchema_1},default:boolSchema$1,get topBoolOrEmptySchema(){return topBoolOrEmptySchema_1}},[boolSchema$1]);var dataType$2={},rules$1={};Object.defineProperty(rules$1,"__esModule",{value:!0});var getRules_1=rules$1.getRules=isJSONType_1=rules$1.isJSONType=void 0;const _jsonTypes=["string","number","integer","boolean","null","object","array"],jsonTypes=new Set(_jsonTypes);function isJSONType(T){return typeof T=="string"&&jsonTypes.has(T)}var isJSONType_1=rules$1.isJSONType=isJSONType;function getRules(){const T={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...T,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},T.number,T.string,T.array,T.object],post:{rules:[]},all:{},keywords:{}}}getRules_1=rules$1.getRules=getRules;const rules=_mergeNamespaces({__proto__:null,default:rules$1,get getRules(){return getRules_1},get isJSONType(){return isJSONType_1}},[rules$1]);var applicability$1={};Object.defineProperty(applicability$1,"__esModule",{value:!0});var shouldUseRule_1=applicability$1.shouldUseRule=shouldUseGroup_1=applicability$1.shouldUseGroup=schemaHasRulesForType_1=applicability$1.schemaHasRulesForType=void 0;function schemaHasRulesForType({schema:T,self:$},I){const N=$.RULES.types[I];return N&&N!==!0&&shouldUseGroup(T,N)}var schemaHasRulesForType_1=applicability$1.schemaHasRulesForType=schemaHasRulesForType;function shouldUseGroup(T,$){return $.rules.some(I=>shouldUseRule(T,I))}var shouldUseGroup_1=applicability$1.shouldUseGroup=shouldUseGroup;function shouldUseRule(T,$){var I;return T[$.keyword]!==void 0||((I=$.definition.implements)===null||I===void 0?void 0:I.some(N=>T[N]!==void 0))}shouldUseRule_1=applicability$1.shouldUseRule=shouldUseRule;const applicability=_mergeNamespaces({__proto__:null,default:applicability$1,get schemaHasRulesForType(){return schemaHasRulesForType_1},get shouldUseGroup(){return shouldUseGroup_1},get shouldUseRule(){return shouldUseRule_1}},[applicability$1]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.reportTypeError=T.checkDataTypes=T.checkDataType=T.coerceAndCheckDataType=T.getJSONTypes=T.getSchemaTypes=T.DataType=void 0;const $=rules,I=applicability,N=errors$4,L=codegen,B=util$8;var H;(function(qe){qe[qe.Correct=0]="Correct",qe[qe.Wrong=1]="Wrong"})(H=T.DataType||(T.DataType={}));function z(qe){const He=Q(qe.type);if(He.includes("null")){if(qe.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!He.length&&qe.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');qe.nullable===!0&&He.push("null")}return He}T.getSchemaTypes=z;function Q(qe){const He=Array.isArray(qe)?qe:qe?[qe]:[];if(He.every($.isJSONType))return He;throw new Error("type must be JSONType or JSONType[]: "+He.join(","))}T.getJSONTypes=Q;function te(qe,He){const{gen:Ge,data:at,opts:ot}=qe,Ye=ie(He,ot.coerceTypes),nt=He.length>0&&!(Ye.length===0&&He.length===1&&(0,I.schemaHasRulesForType)(qe,He[0]));if(nt){const Qe=Me(He,at,ot.strictNumbers,H.Wrong);Ge.if(Qe,()=>{Ye.length?Re(qe,He,Ye):Ke(qe)})}return nt}T.coerceAndCheckDataType=te;const G=new Set(["string","number","integer","boolean","null"]);function ie(qe,He){return He?qe.filter(Ge=>G.has(Ge)||He==="array"&&Ge==="array"):[]}function Re(qe,He,Ge){const{gen:at,data:ot,opts:Ye}=qe,nt=at.let("dataType",(0,L._)`typeof ${ot}`),Qe=at.let("coerced",(0,L._)`undefined`);Ye.coerceTypes==="array"&&at.if((0,L._)`${nt} == 'object' && Array.isArray(${ot}) && ${ot}.length == 1`,()=>at.assign(ot,(0,L._)`${ot}[0]`).assign(nt,(0,L._)`typeof ${ot}`).if(Me(He,ot,Ye.strictNumbers),()=>at.assign(Qe,ot))),at.if((0,L._)`${Qe} !== undefined`);for(const ze of Ge)(G.has(ze)||ze==="array"&&Ye.coerceTypes==="array")&&tt(ze);at.else(),Ke(qe),at.endIf(),at.if((0,L._)`${Qe} !== undefined`,()=>{at.assign(ot,Qe),$e(qe,Qe)});function tt(ze){switch(ze){case"string":at.elseIf((0,L._)`${nt} == "number" || ${nt} == "boolean"`).assign(Qe,(0,L._)`"" + ${ot}`).elseIf((0,L._)`${ot} === null`).assign(Qe,(0,L._)`""`);return;case"number":at.elseIf((0,L._)`${nt} == "boolean" || ${ot} === null
              || (${nt} == "string" && ${ot} && ${ot} == +${ot})`).assign(Qe,(0,L._)`+${ot}`);return;case"integer":at.elseIf((0,L._)`${nt} === "boolean" || ${ot} === null
              || (${nt} === "string" && ${ot} && ${ot} == +${ot} && !(${ot} % 1))`).assign(Qe,(0,L._)`+${ot}`);return;case"boolean":at.elseIf((0,L._)`${ot} === "false" || ${ot} === 0 || ${ot} === null`).assign(Qe,!1).elseIf((0,L._)`${ot} === "true" || ${ot} === 1`).assign(Qe,!0);return;case"null":at.elseIf((0,L._)`${ot} === "" || ${ot} === 0 || ${ot} === false`),at.assign(Qe,null);return;case"array":at.elseIf((0,L._)`${nt} === "string" || ${nt} === "number"
              || ${nt} === "boolean" || ${ot} === null`).assign(Qe,(0,L._)`[${ot}]`)}}}function $e({gen:qe,parentData:He,parentDataProperty:Ge},at){qe.if((0,L._)`${He} !== undefined`,()=>qe.assign((0,L._)`${He}[${Ge}]`,at))}function Pe(qe,He,Ge,at=H.Correct){const ot=at===H.Correct?L.operators.EQ:L.operators.NEQ;let Ye;switch(qe){case"null":return(0,L._)`${He} ${ot} null`;case"array":Ye=(0,L._)`Array.isArray(${He})`;break;case"object":Ye=(0,L._)`${He} && typeof ${He} == "object" && !Array.isArray(${He})`;break;case"integer":Ye=nt((0,L._)`!(${He} % 1) && !isNaN(${He})`);break;case"number":Ye=nt();break;default:return(0,L._)`typeof ${He} ${ot} ${qe}`}return at===H.Correct?Ye:(0,L.not)(Ye);function nt(Qe=L.nil){return(0,L.and)((0,L._)`typeof ${He} == "number"`,Qe,Ge?(0,L._)`isFinite(${He})`:L.nil)}}T.checkDataType=Pe;function Me(qe,He,Ge,at){if(qe.length===1)return Pe(qe[0],He,Ge,at);let ot;const Ye=(0,B.toHash)(qe);if(Ye.array&&Ye.object){const nt=(0,L._)`typeof ${He} != "object"`;ot=Ye.null?nt:(0,L._)`!${He} || ${nt}`,delete Ye.null,delete Ye.array,delete Ye.object}else ot=L.nil;Ye.number&&delete Ye.integer;for(const nt in Ye)ot=(0,L.and)(ot,Pe(nt,He,Ge,at));return ot}T.checkDataTypes=Me;const Be={message:({schema:qe})=>`must be ${qe}`,params:({schema:qe,schemaValue:He})=>typeof qe=="string"?(0,L._)`{type: ${qe}}`:(0,L._)`{type: ${He}}`};function Ke(qe){const He=Le(qe);(0,N.reportError)(He,Be)}T.reportTypeError=Ke;function Le(qe){const{gen:He,data:Ge,schema:at}=qe,ot=(0,B.schemaRefOrVal)(qe,at,"type");return{gen:He,keyword:"type",data:Ge,schema:at.type,schemaCode:ot,schemaValue:ot,parentSchema:at,params:{},it:qe}}})(dataType$2);const dataType=getDefaultExportFromCjs$1(dataType$2),dataType$1=_mergeNamespaces({__proto__:null,default:dataType},[dataType$2]);var defaults$1={};Object.defineProperty(defaults$1,"__esModule",{value:!0});var assignDefaults_1=defaults$1.assignDefaults=void 0;const codegen_1$r=codegen,util_1$p=util$8;function assignDefaults(T,$){const{properties:I,items:N}=T.schema;if($==="object"&&I)for(const L in I)assignDefault(T,L,I[L].default);else $==="array"&&Array.isArray(N)&&N.forEach((L,B)=>assignDefault(T,B,L.default))}assignDefaults_1=defaults$1.assignDefaults=assignDefaults;function assignDefault(T,$,I){const{gen:N,compositeRule:L,data:B,opts:H}=T;if(I===void 0)return;const z=(0,codegen_1$r._)`${B}${(0,codegen_1$r.getProperty)($)}`;if(L){(0,util_1$p.checkStrictMode)(T,`default is ignored for: ${z}`);return}let Q=(0,codegen_1$r._)`${z} === undefined`;H.useDefaults==="empty"&&(Q=(0,codegen_1$r._)`${Q} || ${z} === null || ${z} === ""`),N.if(Q,(0,codegen_1$r._)`${z} = ${(0,codegen_1$r.stringify)(I)}`)}const defaults=_mergeNamespaces({__proto__:null,get assignDefaults(){return assignDefaults_1},default:defaults$1},[defaults$1]);var keyword$1={},code$1={};Object.defineProperty(code$1,"__esModule",{value:!0});var validateUnion_1=code$1.validateUnion=validateArray_1=code$1.validateArray=usePattern_1=code$1.usePattern=callValidateCode_1=code$1.callValidateCode=schemaProperties_1=code$1.schemaProperties=allSchemaProperties_1=code$1.allSchemaProperties=noPropertyInData_1=code$1.noPropertyInData=propertyInData_1=code$1.propertyInData=isOwnProperty_1=code$1.isOwnProperty=hasPropFunc_1=code$1.hasPropFunc=reportMissingProp_1=code$1.reportMissingProp=checkMissingProp_1=code$1.checkMissingProp=checkReportMissingProp_1=code$1.checkReportMissingProp=void 0;const codegen_1$q=codegen,util_1$o=util$8,names_1$5=names$1,util_2$1=util$8;function checkReportMissingProp(T,$){const{gen:I,data:N,it:L}=T;I.if(noPropertyInData(I,N,$,L.opts.ownProperties),()=>{T.setParams({missingProperty:(0,codegen_1$q._)`${$}`},!0),T.error()})}var checkReportMissingProp_1=code$1.checkReportMissingProp=checkReportMissingProp;function checkMissingProp({gen:T,data:$,it:{opts:I}},N,L){return(0,codegen_1$q.or)(...N.map(B=>(0,codegen_1$q.and)(noPropertyInData(T,$,B,I.ownProperties),(0,codegen_1$q._)`${L} = ${B}`)))}var checkMissingProp_1=code$1.checkMissingProp=checkMissingProp;function reportMissingProp(T,$){T.setParams({missingProperty:$},!0),T.error()}var reportMissingProp_1=code$1.reportMissingProp=reportMissingProp;function hasPropFunc(T){return T.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,codegen_1$q._)`Object.prototype.hasOwnProperty`})}var hasPropFunc_1=code$1.hasPropFunc=hasPropFunc;function isOwnProperty(T,$,I){return(0,codegen_1$q._)`${hasPropFunc(T)}.call(${$}, ${I})`}var isOwnProperty_1=code$1.isOwnProperty=isOwnProperty;function propertyInData(T,$,I,N){const L=(0,codegen_1$q._)`${$}${(0,codegen_1$q.getProperty)(I)} !== undefined`;return N?(0,codegen_1$q._)`${L} && ${isOwnProperty(T,$,I)}`:L}var propertyInData_1=code$1.propertyInData=propertyInData;function noPropertyInData(T,$,I,N){const L=(0,codegen_1$q._)`${$}${(0,codegen_1$q.getProperty)(I)} === undefined`;return N?(0,codegen_1$q.or)(L,(0,codegen_1$q.not)(isOwnProperty(T,$,I))):L}var noPropertyInData_1=code$1.noPropertyInData=noPropertyInData;function allSchemaProperties(T){return T?Object.keys(T).filter($=>$!=="__proto__"):[]}var allSchemaProperties_1=code$1.allSchemaProperties=allSchemaProperties;function schemaProperties(T,$){return allSchemaProperties($).filter(I=>!(0,util_1$o.alwaysValidSchema)(T,$[I]))}var schemaProperties_1=code$1.schemaProperties=schemaProperties;function callValidateCode({schemaCode:T,data:$,it:{gen:I,topSchemaRef:N,schemaPath:L,errorPath:B},it:H},z,Q,te){const G=te?(0,codegen_1$q._)`${T}, ${$}, ${N}${L}`:$,ie=[[names_1$5.default.instancePath,(0,codegen_1$q.strConcat)(names_1$5.default.instancePath,B)],[names_1$5.default.parentData,H.parentData],[names_1$5.default.parentDataProperty,H.parentDataProperty],[names_1$5.default.rootData,names_1$5.default.rootData]];H.opts.dynamicRef&&ie.push([names_1$5.default.dynamicAnchors,names_1$5.default.dynamicAnchors]);const Re=(0,codegen_1$q._)`${G}, ${I.object(...ie)}`;return Q!==codegen_1$q.nil?(0,codegen_1$q._)`${z}.call(${Q}, ${Re})`:(0,codegen_1$q._)`${z}(${Re})`}var callValidateCode_1=code$1.callValidateCode=callValidateCode;const newRegExp=(0,codegen_1$q._)`new RegExp`;function usePattern({gen:T,it:{opts:$}},I){const N=$.unicodeRegExp?"u":"",{regExp:L}=$.code,B=L(I,N);return T.scopeValue("pattern",{key:B.toString(),ref:B,code:(0,codegen_1$q._)`${L.code==="new RegExp"?newRegExp:(0,util_2$1.useFunc)(T,L)}(${I}, ${N})`})}var usePattern_1=code$1.usePattern=usePattern;function validateArray$1(T){const{gen:$,data:I,keyword:N,it:L}=T,B=$.name("valid");if(L.allErrors){const z=$.let("valid",!0);return H(()=>$.assign(z,!1)),z}return $.var(B,!0),H(()=>$.break()),B;function H(z){const Q=$.const("len",(0,codegen_1$q._)`${I}.length`);$.forRange("i",0,Q,te=>{T.subschema({keyword:N,dataProp:te,dataPropType:util_1$o.Type.Num},B),$.if((0,codegen_1$q.not)(B),z)})}}var validateArray_1=code$1.validateArray=validateArray$1;function validateUnion$1(T){const{gen:$,schema:I,keyword:N,it:L}=T;if(!Array.isArray(I))throw new Error("ajv implementation error");if(I.some(Q=>(0,util_1$o.alwaysValidSchema)(L,Q))&&!L.opts.unevaluated)return;const H=$.let("valid",!1),z=$.name("_valid");$.block(()=>I.forEach((Q,te)=>{const G=T.subschema({keyword:N,schemaProp:te,compositeRule:!0},z);$.assign(H,(0,codegen_1$q._)`${H} || ${z}`),T.mergeValidEvaluated(G,z)||$.if((0,codegen_1$q.not)(H))})),T.result(H,()=>T.reset(),()=>T.error(!0))}validateUnion_1=code$1.validateUnion=validateUnion$1;const code=_mergeNamespaces({__proto__:null,get allSchemaProperties(){return allSchemaProperties_1},get callValidateCode(){return callValidateCode_1},get checkMissingProp(){return checkMissingProp_1},get checkReportMissingProp(){return checkReportMissingProp_1},default:code$1,get hasPropFunc(){return hasPropFunc_1},get isOwnProperty(){return isOwnProperty_1},get noPropertyInData(){return noPropertyInData_1},get propertyInData(){return propertyInData_1},get reportMissingProp(){return reportMissingProp_1},get schemaProperties(){return schemaProperties_1},get usePattern(){return usePattern_1},get validateArray(){return validateArray_1},get validateUnion(){return validateUnion_1}},[code$1]);Object.defineProperty(keyword$1,"__esModule",{value:!0});var validateKeywordUsage_1=keyword$1.validateKeywordUsage=validSchemaType_1=keyword$1.validSchemaType=funcKeywordCode_1=keyword$1.funcKeywordCode=macroKeywordCode_1=keyword$1.macroKeywordCode=void 0;const codegen_1$p=codegen,names_1$4=names$1,code_1$9=code,errors_1$1=errors$4;function macroKeywordCode(T,$){const{gen:I,keyword:N,schema:L,parentSchema:B,it:H}=T,z=$.macro.call(H.self,L,B,H),Q=useKeyword(I,N,z);H.opts.validateSchema!==!1&&H.self.validateSchema(z,!0);const te=I.name("valid");T.subschema({schema:z,schemaPath:codegen_1$p.nil,errSchemaPath:`${H.errSchemaPath}/${N}`,topSchemaRef:Q,compositeRule:!0},te),T.pass(te,()=>T.error(!0))}var macroKeywordCode_1=keyword$1.macroKeywordCode=macroKeywordCode;function funcKeywordCode(T,$){var I;const{gen:N,keyword:L,schema:B,parentSchema:H,$data:z,it:Q}=T;checkAsyncKeyword(Q,$);const te=!z&&$.compile?$.compile.call(Q.self,B,H,Q):$.validate,G=useKeyword(N,L,te),ie=N.let("valid");T.block$data(ie,Re),T.ok((I=$.valid)!==null&&I!==void 0?I:ie);function Re(){if($.errors===!1)Me(),$.modifying&&modifyData(T),Be(()=>T.error());else{const Ke=$.async?$e():Pe();$.modifying&&modifyData(T),Be(()=>addErrs(T,Ke))}}function $e(){const Ke=N.let("ruleErrs",null);return N.try(()=>Me((0,codegen_1$p._)`await `),Le=>N.assign(ie,!1).if((0,codegen_1$p._)`${Le} instanceof ${Q.ValidationError}`,()=>N.assign(Ke,(0,codegen_1$p._)`${Le}.errors`),()=>N.throw(Le))),Ke}function Pe(){const Ke=(0,codegen_1$p._)`${G}.errors`;return N.assign(Ke,null),Me(codegen_1$p.nil),Ke}function Me(Ke=$.async?(0,codegen_1$p._)`await `:codegen_1$p.nil){const Le=Q.opts.passContext?names_1$4.default.this:names_1$4.default.self,qe=!("compile"in $&&!z||$.schema===!1);N.assign(ie,(0,codegen_1$p._)`${Ke}${(0,code_1$9.callValidateCode)(T,G,Le,qe)}`,$.modifying)}function Be(Ke){var Le;N.if((0,codegen_1$p.not)((Le=$.valid)!==null&&Le!==void 0?Le:ie),Ke)}}var funcKeywordCode_1=keyword$1.funcKeywordCode=funcKeywordCode;function modifyData(T){const{gen:$,data:I,it:N}=T;$.if(N.parentData,()=>$.assign(I,(0,codegen_1$p._)`${N.parentData}[${N.parentDataProperty}]`))}function addErrs(T,$){const{gen:I}=T;I.if((0,codegen_1$p._)`Array.isArray(${$})`,()=>{I.assign(names_1$4.default.vErrors,(0,codegen_1$p._)`${names_1$4.default.vErrors} === null ? ${$} : ${names_1$4.default.vErrors}.concat(${$})`).assign(names_1$4.default.errors,(0,codegen_1$p._)`${names_1$4.default.vErrors}.length`),(0,errors_1$1.extendErrors)(T)},()=>T.error())}function checkAsyncKeyword({schemaEnv:T},$){if($.async&&!T.$async)throw new Error("async keyword in sync schema")}function useKeyword(T,$,I){if(I===void 0)throw new Error(`keyword "${$}" failed to compile`);return T.scopeValue("keyword",typeof I=="function"?{ref:I}:{ref:I,code:(0,codegen_1$p.stringify)(I)})}function validSchemaType(T,$,I=!1){return!$.length||$.some(N=>N==="array"?Array.isArray(T):N==="object"?T&&typeof T=="object"&&!Array.isArray(T):typeof T==N||I&&typeof T>"u")}var validSchemaType_1=keyword$1.validSchemaType=validSchemaType;function validateKeywordUsage({schema:T,opts:$,self:I,errSchemaPath:N},L,B){if(Array.isArray(L.keyword)?!L.keyword.includes(B):L.keyword!==B)throw new Error("ajv implementation error");const H=L.dependencies;if(H!=null&&H.some(z=>!Object.prototype.hasOwnProperty.call(T,z)))throw new Error(`parent schema must have dependencies of ${B}: ${H.join(",")}`);if(L.validateSchema&&!L.validateSchema(T[B])){const Q=`keyword "${B}" value is invalid at path "${N}": `+I.errorsText(L.validateSchema.errors);if($.validateSchema==="log")I.logger.error(Q);else throw new Error(Q)}}validateKeywordUsage_1=keyword$1.validateKeywordUsage=validateKeywordUsage;const keyword=_mergeNamespaces({__proto__:null,default:keyword$1,get funcKeywordCode(){return funcKeywordCode_1},get macroKeywordCode(){return macroKeywordCode_1},get validSchemaType(){return validSchemaType_1},get validateKeywordUsage(){return validateKeywordUsage_1}},[keyword$1]);var subschema$1={};Object.defineProperty(subschema$1,"__esModule",{value:!0});var extendSubschemaMode_1=subschema$1.extendSubschemaMode=extendSubschemaData_1=subschema$1.extendSubschemaData=getSubschema_1=subschema$1.getSubschema=void 0;const codegen_1$o=codegen,util_1$n=util$8;function getSubschema(T,{keyword:$,schemaProp:I,schema:N,schemaPath:L,errSchemaPath:B,topSchemaRef:H}){if($!==void 0&&N!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if($!==void 0){const z=T.schema[$];return I===void 0?{schema:z,schemaPath:(0,codegen_1$o._)`${T.schemaPath}${(0,codegen_1$o.getProperty)($)}`,errSchemaPath:`${T.errSchemaPath}/${$}`}:{schema:z[I],schemaPath:(0,codegen_1$o._)`${T.schemaPath}${(0,codegen_1$o.getProperty)($)}${(0,codegen_1$o.getProperty)(I)}`,errSchemaPath:`${T.errSchemaPath}/${$}/${(0,util_1$n.escapeFragment)(I)}`}}if(N!==void 0){if(L===void 0||B===void 0||H===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:N,schemaPath:L,topSchemaRef:H,errSchemaPath:B}}throw new Error('either "keyword" or "schema" must be passed')}var getSubschema_1=subschema$1.getSubschema=getSubschema;function extendSubschemaData(T,$,{dataProp:I,dataPropType:N,data:L,dataTypes:B,propertyName:H}){if(L!==void 0&&I!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:z}=$;if(I!==void 0){const{errorPath:te,dataPathArr:G,opts:ie}=$,Re=z.let("data",(0,codegen_1$o._)`${$.data}${(0,codegen_1$o.getProperty)(I)}`,!0);Q(Re),T.errorPath=(0,codegen_1$o.str)`${te}${(0,util_1$n.getErrorPath)(I,N,ie.jsPropertySyntax)}`,T.parentDataProperty=(0,codegen_1$o._)`${I}`,T.dataPathArr=[...G,T.parentDataProperty]}if(L!==void 0){const te=L instanceof codegen_1$o.Name?L:z.let("data",L,!0);Q(te),H!==void 0&&(T.propertyName=H)}B&&(T.dataTypes=B);function Q(te){T.data=te,T.dataLevel=$.dataLevel+1,T.dataTypes=[],$.definedProperties=new Set,T.parentData=$.data,T.dataNames=[...$.dataNames,te]}}var extendSubschemaData_1=subschema$1.extendSubschemaData=extendSubschemaData;function extendSubschemaMode(T,{jtdDiscriminator:$,jtdMetadata:I,compositeRule:N,createErrors:L,allErrors:B}){N!==void 0&&(T.compositeRule=N),L!==void 0&&(T.createErrors=L),B!==void 0&&(T.allErrors=B),T.jtdDiscriminator=$,T.jtdMetadata=I}extendSubschemaMode_1=subschema$1.extendSubschemaMode=extendSubschemaMode;const subschema=_mergeNamespaces({__proto__:null,default:subschema$1,get extendSubschemaData(){return extendSubschemaData_1},get extendSubschemaMode(){return extendSubschemaMode_1},get getSubschema(){return getSubschema_1}},[subschema$1]);var resolve$2={};Object.defineProperty(resolve$2,"__esModule",{value:!0});var getSchemaRefs_1=resolve$2.getSchemaRefs=resolveUrl_1=resolve$2.resolveUrl=normalizeId_1=resolve$2.normalizeId=_getFullPath_1=resolve$2._getFullPath=getFullPath_1=resolve$2.getFullPath=inlineRef_1=resolve$2.inlineRef=void 0;const util_1$m=util$8,equal=fastDeepEqual$1,traverse=jsonSchemaTraverse,SIMPLE_INLINED=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef(T,$=!0){return typeof T=="boolean"?!0:$===!0?!hasRef(T):$?countKeys(T)<=$:!1}var inlineRef_1=resolve$2.inlineRef=inlineRef;const REF_KEYWORDS=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef(T){for(const $ in T){if(REF_KEYWORDS.has($))return!0;const I=T[$];if(Array.isArray(I)&&I.some(hasRef)||typeof I=="object"&&hasRef(I))return!0}return!1}function countKeys(T){let $=0;for(const I in T){if(I==="$ref")return 1/0;if($++,!SIMPLE_INLINED.has(I)&&(typeof T[I]=="object"&&(0,util_1$m.eachItem)(T[I],N=>$+=countKeys(N)),$===1/0))return 1/0}return $}function getFullPath(T,$="",I){I!==!1&&($=normalizeId($));const N=T.parse($);return _getFullPath(T,N)}var getFullPath_1=resolve$2.getFullPath=getFullPath;function _getFullPath(T,$){return T.serialize($).split("#")[0]+"#"}var _getFullPath_1=resolve$2._getFullPath=_getFullPath;const TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(T){return T?T.replace(TRAILING_SLASH_HASH,""):""}var normalizeId_1=resolve$2.normalizeId=normalizeId;function resolveUrl(T,$,I){return I=normalizeId(I),T.resolve($,I)}var resolveUrl_1=resolve$2.resolveUrl=resolveUrl;const ANCHOR=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs(T,$){if(typeof T=="boolean")return{};const{schemaId:I,uriResolver:N}=this.opts,L=normalizeId(T[I]||$),B={"":L},H=getFullPath(N,L,!1),z={},Q=new Set;return traverse(T,{allKeys:!0},(ie,Re,$e,Pe)=>{if(Pe===void 0)return;const Me=H+Re;let Be=B[Pe];typeof ie[I]=="string"&&(Be=Ke.call(this,ie[I])),Le.call(this,ie.$anchor),Le.call(this,ie.$dynamicAnchor),B[Re]=Be;function Ke(qe){const He=this.opts.uriResolver.resolve;if(qe=normalizeId(Be?He(Be,qe):qe),Q.has(qe))throw G(qe);Q.add(qe);let Ge=this.refs[qe];return typeof Ge=="string"&&(Ge=this.refs[Ge]),typeof Ge=="object"?te(ie,Ge.schema,qe):qe!==normalizeId(Me)&&(qe[0]==="#"?(te(ie,z[qe],qe),z[qe]=ie):this.refs[qe]=Me),qe}function Le(qe){if(typeof qe=="string"){if(!ANCHOR.test(qe))throw new Error(`invalid anchor "${qe}"`);Ke.call(this,`#${qe}`)}}}),z;function te(ie,Re,$e){if(Re!==void 0&&!equal(ie,Re))throw G($e)}function G(ie){return new Error(`reference "${ie}" resolves to more than one schema`)}}getSchemaRefs_1=resolve$2.getSchemaRefs=getSchemaRefs;const resolve$1=_mergeNamespaces({__proto__:null,get _getFullPath(){return _getFullPath_1},default:resolve$2,get getFullPath(){return getFullPath_1},get getSchemaRefs(){return getSchemaRefs_1},get inlineRef(){return inlineRef_1},get normalizeId(){return normalizeId_1},get resolveUrl(){return resolveUrl_1}},[resolve$2]);Object.defineProperty(validate$1,"__esModule",{value:!0});var getData_1=validate$1.getData=KeywordCxt_1=validate$1.KeywordCxt=validateFunctionCode_1=validate$1.validateFunctionCode=void 0;const boolSchema_1=boolSchema,dataType_1$1=dataType$1,applicability_1=applicability,dataType_2=dataType$1,defaults_1=defaults,keyword_1=keyword,subschema_1=subschema,codegen_1$n=codegen,names_1$3=names$1,resolve_1$2=resolve$1,util_1$l=util$8,errors_1=errors$4;function validateFunctionCode(T){if(isSchemaObj(T)&&(checkKeywords(T),schemaCxtHasRules(T))){topSchemaObjCode(T);return}validateFunction$3(T,()=>(0,boolSchema_1.topBoolOrEmptySchema)(T))}var validateFunctionCode_1=validate$1.validateFunctionCode=validateFunctionCode;function validateFunction$3({gen:T,validateName:$,schema:I,schemaEnv:N,opts:L},B){L.code.es5?T.func($,(0,codegen_1$n._)`${names_1$3.default.data}, ${names_1$3.default.valCxt}`,N.$async,()=>{T.code((0,codegen_1$n._)`"use strict"; ${funcSourceUrl(I,L)}`),destructureValCxtES5(T,L),T.code(B)}):T.func($,(0,codegen_1$n._)`${names_1$3.default.data}, ${destructureValCxt(L)}`,N.$async,()=>T.code(funcSourceUrl(I,L)).code(B))}function destructureValCxt(T){return(0,codegen_1$n._)`{${names_1$3.default.instancePath}="", ${names_1$3.default.parentData}, ${names_1$3.default.parentDataProperty}, ${names_1$3.default.rootData}=${names_1$3.default.data}${T.dynamicRef?(0,codegen_1$n._)`, ${names_1$3.default.dynamicAnchors}={}`:codegen_1$n.nil}}={}`}function destructureValCxtES5(T,$){T.if(names_1$3.default.valCxt,()=>{T.var(names_1$3.default.instancePath,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.instancePath}`),T.var(names_1$3.default.parentData,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.parentData}`),T.var(names_1$3.default.parentDataProperty,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.parentDataProperty}`),T.var(names_1$3.default.rootData,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.rootData}`),$.dynamicRef&&T.var(names_1$3.default.dynamicAnchors,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.dynamicAnchors}`)},()=>{T.var(names_1$3.default.instancePath,(0,codegen_1$n._)`""`),T.var(names_1$3.default.parentData,(0,codegen_1$n._)`undefined`),T.var(names_1$3.default.parentDataProperty,(0,codegen_1$n._)`undefined`),T.var(names_1$3.default.rootData,names_1$3.default.data),$.dynamicRef&&T.var(names_1$3.default.dynamicAnchors,(0,codegen_1$n._)`{}`)})}function topSchemaObjCode(T){const{schema:$,opts:I,gen:N}=T;validateFunction$3(T,()=>{I.$comment&&$.$comment&&commentKeyword(T),checkNoDefault(T),N.let(names_1$3.default.vErrors,null),N.let(names_1$3.default.errors,0),I.unevaluated&&resetEvaluated(T),typeAndKeywords(T),returnResults(T)})}function resetEvaluated(T){const{gen:$,validateName:I}=T;T.evaluated=$.const("evaluated",(0,codegen_1$n._)`${I}.evaluated`),$.if((0,codegen_1$n._)`${T.evaluated}.dynamicProps`,()=>$.assign((0,codegen_1$n._)`${T.evaluated}.props`,(0,codegen_1$n._)`undefined`)),$.if((0,codegen_1$n._)`${T.evaluated}.dynamicItems`,()=>$.assign((0,codegen_1$n._)`${T.evaluated}.items`,(0,codegen_1$n._)`undefined`))}function funcSourceUrl(T,$){const I=typeof T=="object"&&T[$.schemaId];return I&&($.code.source||$.code.process)?(0,codegen_1$n._)`/*# sourceURL=${I} */`:codegen_1$n.nil}function subschemaCode(T,$){if(isSchemaObj(T)&&(checkKeywords(T),schemaCxtHasRules(T))){subSchemaObjCode(T,$);return}(0,boolSchema_1.boolOrEmptySchema)(T,$)}function schemaCxtHasRules({schema:T,self:$}){if(typeof T=="boolean")return!T;for(const I in T)if($.RULES.all[I])return!0;return!1}function isSchemaObj(T){return typeof T.schema!="boolean"}function subSchemaObjCode(T,$){const{schema:I,gen:N,opts:L}=T;L.$comment&&I.$comment&&commentKeyword(T),updateContext(T),checkAsyncSchema(T);const B=N.const("_errs",names_1$3.default.errors);typeAndKeywords(T,B),N.var($,(0,codegen_1$n._)`${B} === ${names_1$3.default.errors}`)}function checkKeywords(T){(0,util_1$l.checkUnknownRules)(T),checkRefsAndKeywords(T)}function typeAndKeywords(T,$){if(T.opts.jtd)return schemaKeywords(T,[],!1,$);const I=(0,dataType_1$1.getSchemaTypes)(T.schema),N=(0,dataType_1$1.coerceAndCheckDataType)(T,I);schemaKeywords(T,I,!N,$)}function checkRefsAndKeywords(T){const{schema:$,errSchemaPath:I,opts:N,self:L}=T;$.$ref&&N.ignoreKeywordsWithRef&&(0,util_1$l.schemaHasRulesButRef)($,L.RULES)&&L.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function checkNoDefault(T){const{schema:$,opts:I}=T;$.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,util_1$l.checkStrictMode)(T,"default is ignored in the schema root")}function updateContext(T){const $=T.schema[T.opts.schemaId];$&&(T.baseId=(0,resolve_1$2.resolveUrl)(T.opts.uriResolver,T.baseId,$))}function checkAsyncSchema(T){if(T.schema.$async&&!T.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword({gen:T,schemaEnv:$,schema:I,errSchemaPath:N,opts:L}){const B=I.$comment;if(L.$comment===!0)T.code((0,codegen_1$n._)`${names_1$3.default.self}.logger.log(${B})`);else if(typeof L.$comment=="function"){const H=(0,codegen_1$n.str)`${N}/$comment`,z=T.scopeValue("root",{ref:$.root});T.code((0,codegen_1$n._)`${names_1$3.default.self}.opts.$comment(${B}, ${H}, ${z}.schema)`)}}function returnResults(T){const{gen:$,schemaEnv:I,validateName:N,ValidationError:L,opts:B}=T;I.$async?$.if((0,codegen_1$n._)`${names_1$3.default.errors} === 0`,()=>$.return(names_1$3.default.data),()=>$.throw((0,codegen_1$n._)`new ${L}(${names_1$3.default.vErrors})`)):($.assign((0,codegen_1$n._)`${N}.errors`,names_1$3.default.vErrors),B.unevaluated&&assignEvaluated(T),$.return((0,codegen_1$n._)`${names_1$3.default.errors} === 0`))}function assignEvaluated({gen:T,evaluated:$,props:I,items:N}){I instanceof codegen_1$n.Name&&T.assign((0,codegen_1$n._)`${$}.props`,I),N instanceof codegen_1$n.Name&&T.assign((0,codegen_1$n._)`${$}.items`,N)}function schemaKeywords(T,$,I,N){const{gen:L,schema:B,data:H,allErrors:z,opts:Q,self:te}=T,{RULES:G}=te;if(B.$ref&&(Q.ignoreKeywordsWithRef||!(0,util_1$l.schemaHasRulesButRef)(B,G))){L.block(()=>keywordCode(T,"$ref",G.all.$ref.definition));return}Q.jtd||checkStrictTypes(T,$),L.block(()=>{for(const Re of G.rules)ie(Re);ie(G.post)});function ie(Re){(0,applicability_1.shouldUseGroup)(B,Re)&&(Re.type?(L.if((0,dataType_2.checkDataType)(Re.type,H,Q.strictNumbers)),iterateKeywords(T,Re),$.length===1&&$[0]===Re.type&&I&&(L.else(),(0,dataType_2.reportTypeError)(T)),L.endIf()):iterateKeywords(T,Re),z||L.if((0,codegen_1$n._)`${names_1$3.default.errors} === ${N||0}`))}}function iterateKeywords(T,$){const{gen:I,schema:N,opts:{useDefaults:L}}=T;L&&(0,defaults_1.assignDefaults)(T,$.type),I.block(()=>{for(const B of $.rules)(0,applicability_1.shouldUseRule)(N,B)&&keywordCode(T,B.keyword,B.definition,$.type)})}function checkStrictTypes(T,$){T.schemaEnv.meta||!T.opts.strictTypes||(checkContextTypes(T,$),T.opts.allowUnionTypes||checkMultipleTypes(T,$),checkKeywordTypes(T,T.dataTypes))}function checkContextTypes(T,$){if($.length){if(!T.dataTypes.length){T.dataTypes=$;return}$.forEach(I=>{includesType(T.dataTypes,I)||strictTypesError(T,`type "${I}" not allowed by context "${T.dataTypes.join(",")}"`)}),narrowSchemaTypes(T,$)}}function checkMultipleTypes(T,$){$.length>1&&!($.length===2&&$.includes("null"))&&strictTypesError(T,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes(T,$){const I=T.self.RULES.all;for(const N in I){const L=I[N];if(typeof L=="object"&&(0,applicability_1.shouldUseRule)(T.schema,L)){const{type:B}=L.definition;B.length&&!B.some(H=>hasApplicableType($,H))&&strictTypesError(T,`missing type "${B.join(",")}" for keyword "${N}"`)}}}function hasApplicableType(T,$){return T.includes($)||$==="number"&&T.includes("integer")}function includesType(T,$){return T.includes($)||$==="integer"&&T.includes("number")}function narrowSchemaTypes(T,$){const I=[];for(const N of T.dataTypes)includesType($,N)?I.push(N):$.includes("integer")&&N==="number"&&I.push("integer");T.dataTypes=I}function strictTypesError(T,$){const I=T.schemaEnv.baseId+T.errSchemaPath;$+=` at "${I}" (strictTypes)`,(0,util_1$l.checkStrictMode)(T,$,T.opts.strictTypes)}class KeywordCxt{constructor($,I,N){if((0,keyword_1.validateKeywordUsage)($,I,N),this.gen=$.gen,this.allErrors=$.allErrors,this.keyword=N,this.data=$.data,this.schema=$.schema[N],this.$data=I.$data&&$.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1$l.schemaRefOrVal)($,this.schema,N,this.$data),this.schemaType=I.schemaType,this.parentSchema=$.schema,this.params={},this.it=$,this.def=I,this.$data)this.schemaCode=$.gen.const("vSchema",getData(this.$data,$));else if(this.schemaCode=this.schemaValue,!(0,keyword_1.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${N} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=$.gen.const("_errs",names_1$3.default.errors))}result($,I,N){this.failResult((0,codegen_1$n.not)($),I,N)}failResult($,I,N){this.gen.if($),N?N():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass($,I){this.failResult((0,codegen_1$n.not)($),void 0,I)}fail($){if($===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if($),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data($){if(!this.$data)return this.fail($);const{schemaCode:I}=this;this.fail((0,codegen_1$n._)`${I} !== undefined && (${(0,codegen_1$n.or)(this.invalid$data(),$)})`)}error($,I,N){if(I){this.setParams(I),this._error($,N),this.setParams({});return}this._error($,N)}_error($,I){($?errors_1.reportExtraError:errors_1.reportError)(this,this.def.error,I)}$dataError(){(0,errors_1.reportError)(this,this.def.$dataError||errors_1.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,errors_1.resetErrorsCount)(this.gen,this.errsCount)}ok($){this.allErrors||this.gen.if($)}setParams($,I){I?Object.assign(this.params,$):this.params=$}block$data($,I,N=codegen_1$n.nil){this.gen.block(()=>{this.check$data($,N),I()})}check$data($=codegen_1$n.nil,I=codegen_1$n.nil){if(!this.$data)return;const{gen:N,schemaCode:L,schemaType:B,def:H}=this;N.if((0,codegen_1$n.or)((0,codegen_1$n._)`${L} === undefined`,I)),$!==codegen_1$n.nil&&N.assign($,!0),(B.length||H.validateSchema)&&(N.elseIf(this.invalid$data()),this.$dataError(),$!==codegen_1$n.nil&&N.assign($,!1)),N.else()}invalid$data(){const{gen:$,schemaCode:I,schemaType:N,def:L,it:B}=this;return(0,codegen_1$n.or)(H(),z());function H(){if(N.length){if(!(I instanceof codegen_1$n.Name))throw new Error("ajv implementation error");const Q=Array.isArray(N)?N:[N];return(0,codegen_1$n._)`${(0,dataType_2.checkDataTypes)(Q,I,B.opts.strictNumbers,dataType_2.DataType.Wrong)}`}return codegen_1$n.nil}function z(){if(L.validateSchema){const Q=$.scopeValue("validate$data",{ref:L.validateSchema});return(0,codegen_1$n._)`!${Q}(${I})`}return codegen_1$n.nil}}subschema($,I){const N=(0,subschema_1.getSubschema)(this.it,$);(0,subschema_1.extendSubschemaData)(N,this.it,$),(0,subschema_1.extendSubschemaMode)(N,$);const L={...this.it,...N,items:void 0,props:void 0};return subschemaCode(L,I),L}mergeEvaluated($,I){const{it:N,gen:L}=this;N.opts.unevaluated&&(N.props!==!0&&$.props!==void 0&&(N.props=util_1$l.mergeEvaluated.props(L,$.props,N.props,I)),N.items!==!0&&$.items!==void 0&&(N.items=util_1$l.mergeEvaluated.items(L,$.items,N.items,I)))}mergeValidEvaluated($,I){const{it:N,gen:L}=this;if(N.opts.unevaluated&&(N.props!==!0||N.items!==!0))return L.if(I,()=>this.mergeEvaluated($,codegen_1$n.Name)),!0}}var KeywordCxt_1=validate$1.KeywordCxt=KeywordCxt;function keywordCode(T,$,I,N){const L=new KeywordCxt(T,I,$);"code"in I?I.code(L,N):L.$data&&I.validate?(0,keyword_1.funcKeywordCode)(L,I):"macro"in I?(0,keyword_1.macroKeywordCode)(L,I):(I.compile||I.validate)&&(0,keyword_1.funcKeywordCode)(L,I)}const JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(T,{dataLevel:$,dataNames:I,dataPathArr:N}){let L,B;if(T==="")return names_1$3.default.rootData;if(T[0]==="/"){if(!JSON_POINTER.test(T))throw new Error(`Invalid JSON-pointer: ${T}`);L=T,B=names_1$3.default.rootData}else{const te=RELATIVE_JSON_POINTER.exec(T);if(!te)throw new Error(`Invalid JSON-pointer: ${T}`);const G=+te[1];if(L=te[2],L==="#"){if(G>=$)throw new Error(Q("property/index",G));return N[$-G]}if(G>$)throw new Error(Q("data",G));if(B=I[$-G],!L)return B}let H=B;const z=L.split("/");for(const te of z)te&&(B=(0,codegen_1$n._)`${B}${(0,codegen_1$n.getProperty)((0,util_1$l.unescapeJsonPointer)(te))}`,H=(0,codegen_1$n._)`${H} && ${B}`);return H;function Q(te,G){return`Cannot access ${te} ${G} levels up, current level is ${$}`}}getData_1=validate$1.getData=getData;const validate=_mergeNamespaces({__proto__:null,get KeywordCxt(){return KeywordCxt_1},default:validate$1,get getData(){return getData_1},get validateFunctionCode(){return validateFunctionCode_1}},[validate$1]);var validation_error$1={};Object.defineProperty(validation_error$1,"__esModule",{value:!0});let ValidationError$1=class extends Error{constructor($){super("validation failed"),this.errors=$,this.ajv=this.validation=!0}};var _default$B=validation_error$1.default=ValidationError$1;const validation_error=_mergeNamespaces({__proto__:null,default:_default$B},[validation_error$1]);var ref_error$1={};Object.defineProperty(ref_error$1,"__esModule",{value:!0});const resolve_1$1=resolve$1;class MissingRefError extends Error{constructor($,I,N,L){super(L||`can't resolve reference ${N} from id ${I}`),this.missingRef=(0,resolve_1$1.resolveUrl)($,I,N),this.missingSchema=(0,resolve_1$1.normalizeId)((0,resolve_1$1.getFullPath)($,this.missingRef))}}var _default$A=ref_error$1.default=MissingRefError;const ref_error=_mergeNamespaces({__proto__:null,default:_default$A},[ref_error$1]);var compile$1={};Object.defineProperty(compile$1,"__esModule",{value:!0});var resolveSchema_1=compile$1.resolveSchema=getCompilingSchema_1=compile$1.getCompilingSchema=resolveRef_1=compile$1.resolveRef=compileSchema_1=compile$1.compileSchema=SchemaEnv_1=compile$1.SchemaEnv=void 0;const codegen_1$m=codegen,validation_error_1=validation_error,names_1$2=names$1,resolve_1=resolve$1,util_1$k=util$8,validate_1$1=validate;class SchemaEnv{constructor($){var I;this.refs={},this.dynamicAnchors={};let N;typeof $.schema=="object"&&(N=$.schema),this.schema=$.schema,this.schemaId=$.schemaId,this.root=$.root||this,this.baseId=(I=$.baseId)!==null&&I!==void 0?I:(0,resolve_1.normalizeId)(N==null?void 0:N[$.schemaId||"$id"]),this.schemaPath=$.schemaPath,this.localRefs=$.localRefs,this.meta=$.meta,this.$async=N==null?void 0:N.$async,this.refs={}}}var SchemaEnv_1=compile$1.SchemaEnv=SchemaEnv;function compileSchema(T){const $=getCompilingSchema.call(this,T);if($)return $;const I=(0,resolve_1.getFullPath)(this.opts.uriResolver,T.root.baseId),{es5:N,lines:L}=this.opts.code,{ownProperties:B}=this.opts,H=new codegen_1$m.CodeGen(this.scope,{es5:N,lines:L,ownProperties:B});let z;T.$async&&(z=H.scopeValue("Error",{ref:validation_error_1.default,code:(0,codegen_1$m._)`require("ajv/dist/runtime/validation_error").default`}));const Q=H.scopeName("validate");T.validateName=Q;const te={gen:H,allErrors:this.opts.allErrors,data:names_1$2.default.data,parentData:names_1$2.default.parentData,parentDataProperty:names_1$2.default.parentDataProperty,dataNames:[names_1$2.default.data],dataPathArr:[codegen_1$m.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:H.scopeValue("schema",this.opts.code.source===!0?{ref:T.schema,code:(0,codegen_1$m.stringify)(T.schema)}:{ref:T.schema}),validateName:Q,ValidationError:z,schema:T.schema,schemaEnv:T,rootId:I,baseId:T.baseId||I,schemaPath:codegen_1$m.nil,errSchemaPath:T.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,codegen_1$m._)`""`,opts:this.opts,self:this};let G;try{this._compilations.add(T),(0,validate_1$1.validateFunctionCode)(te),H.optimize(this.opts.code.optimize);const ie=H.toString();G=`${H.scopeRefs(names_1$2.default.scope)}return ${ie}`,this.opts.code.process&&(G=this.opts.code.process(G,T));const $e=new Function(`${names_1$2.default.self}`,`${names_1$2.default.scope}`,G)(this,this.scope.get());if(this.scope.value(Q,{ref:$e}),$e.errors=null,$e.schema=T.schema,$e.schemaEnv=T,T.$async&&($e.$async=!0),this.opts.code.source===!0&&($e.source={validateName:Q,validateCode:ie,scopeValues:H._values}),this.opts.unevaluated){const{props:Pe,items:Me}=te;$e.evaluated={props:Pe instanceof codegen_1$m.Name?void 0:Pe,items:Me instanceof codegen_1$m.Name?void 0:Me,dynamicProps:Pe instanceof codegen_1$m.Name,dynamicItems:Me instanceof codegen_1$m.Name},$e.source&&($e.source.evaluated=(0,codegen_1$m.stringify)($e.evaluated))}return T.validate=$e,T}catch(ie){throw delete T.validate,delete T.validateName,G&&this.logger.error("Error compiling schema, function code:",G),ie}finally{this._compilations.delete(T)}}var compileSchema_1=compile$1.compileSchema=compileSchema;function resolveRef(T,$,I){var N;I=(0,resolve_1.resolveUrl)(this.opts.uriResolver,$,I);const L=T.refs[I];if(L)return L;let B=resolve.call(this,T,I);if(B===void 0){const H=(N=T.localRefs)===null||N===void 0?void 0:N[I],{schemaId:z}=this.opts;H&&(B=new SchemaEnv({schema:H,schemaId:z,root:T,baseId:$}))}if(B!==void 0)return T.refs[I]=inlineOrCompile.call(this,B)}var resolveRef_1=compile$1.resolveRef=resolveRef;function inlineOrCompile(T){return(0,resolve_1.inlineRef)(T.schema,this.opts.inlineRefs)?T.schema:T.validate?T:compileSchema.call(this,T)}function getCompilingSchema(T){for(const $ of this._compilations)if(sameSchemaEnv($,T))return $}var getCompilingSchema_1=compile$1.getCompilingSchema=getCompilingSchema;function sameSchemaEnv(T,$){return T.schema===$.schema&&T.root===$.root&&T.baseId===$.baseId}function resolve(T,$){let I;for(;typeof(I=this.refs[$])=="string";)$=I;return I||this.schemas[$]||resolveSchema.call(this,T,$)}function resolveSchema(T,$){const I=this.opts.uriResolver.parse($),N=(0,resolve_1._getFullPath)(this.opts.uriResolver,I);let L=(0,resolve_1.getFullPath)(this.opts.uriResolver,T.baseId,void 0);if(Object.keys(T.schema).length>0&&N===L)return getJsonPointer.call(this,I,T);const B=(0,resolve_1.normalizeId)(N),H=this.refs[B]||this.schemas[B];if(typeof H=="string"){const z=resolveSchema.call(this,T,H);return typeof(z==null?void 0:z.schema)!="object"?void 0:getJsonPointer.call(this,I,z)}if(typeof(H==null?void 0:H.schema)=="object"){if(H.validate||compileSchema.call(this,H),B===(0,resolve_1.normalizeId)($)){const{schema:z}=H,{schemaId:Q}=this.opts,te=z[Q];return te&&(L=(0,resolve_1.resolveUrl)(this.opts.uriResolver,L,te)),new SchemaEnv({schema:z,schemaId:Q,root:T,baseId:L})}return getJsonPointer.call(this,I,H)}}resolveSchema_1=compile$1.resolveSchema=resolveSchema;const PREVENT_SCOPE_CHANGE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(T,{baseId:$,schema:I,root:N}){var L;if(((L=T.fragment)===null||L===void 0?void 0:L[0])!=="/")return;for(const z of T.fragment.slice(1).split("/")){if(typeof I=="boolean")return;const Q=I[(0,util_1$k.unescapeFragment)(z)];if(Q===void 0)return;I=Q;const te=typeof I=="object"&&I[this.opts.schemaId];!PREVENT_SCOPE_CHANGE.has(z)&&te&&($=(0,resolve_1.resolveUrl)(this.opts.uriResolver,$,te))}let B;if(typeof I!="boolean"&&I.$ref&&!(0,util_1$k.schemaHasRulesButRef)(I,this.RULES)){const z=(0,resolve_1.resolveUrl)(this.opts.uriResolver,$,I.$ref);B=resolveSchema.call(this,N,z)}const{schemaId:H}=this.opts;if(B=B||new SchemaEnv({schema:I,schemaId:H,root:N,baseId:$}),B.schema!==B.root.schema)return B}const compile=_mergeNamespaces({__proto__:null,get SchemaEnv(){return SchemaEnv_1},get compileSchema(){return compileSchema_1},default:compile$1,get getCompilingSchema(){return getCompilingSchema_1},get resolveRef(){return resolveRef_1},get resolveSchema(){return resolveSchema_1}},[compile$1]),$id$1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$1="object",required$2=["$data"],properties$3={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties$2=!1,require$$9={$id:$id$1,description,type:type$1,required:required$2,properties:properties$3,additionalProperties:additionalProperties$2};var uri$2={};Object.defineProperty(uri$2,"__esModule",{value:!0});const uri=uri_all$1;uri.code='require("ajv/dist/runtime/uri").default';var _default$z=uri$2.default=uri;const uri$1=_mergeNamespaces({__proto__:null,default:_default$z},[uri$2]);(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.CodeGen=T.Name=T.nil=T.stringify=T.str=T._=T.KeywordCxt=void 0;var $=validate;Object.defineProperty(T,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var I=codegen;Object.defineProperty(T,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(T,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(T,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(T,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(T,"Name",{enumerable:!0,get:function(){return I.Name}}),Object.defineProperty(T,"CodeGen",{enumerable:!0,get:function(){return I.CodeGen}});const N=validation_error,L=ref_error,B=rules,H=compile,z=codegen,Q=resolve$1,te=dataType$1,G=util$8,ie=require$$9,Re=uri$1,$e=(We,Ve)=>new RegExp(We,Ve);$e.code="new RegExp";const Pe=["removeAdditional","useDefaults","coerceTypes"],Me=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Be={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Ke={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Le=200;function qe(We){var Ve,je,Ze,st,dt,bt,vt,St,Bt,Gt,Dt,Mt,pt,mt,$t,kt,Ft,nr,Yt,yr,gr,br,cr,pr,lt;const ct=We.strict,Nt=(Ve=We.code)===null||Ve===void 0?void 0:Ve.optimize,jt=Nt===!0||Nt===void 0?1:Nt||0,zt=(Ze=(je=We.code)===null||je===void 0?void 0:je.regExp)!==null&&Ze!==void 0?Ze:$e,Ot=(st=We.uriResolver)!==null&&st!==void 0?st:Re.default;return{strictSchema:(bt=(dt=We.strictSchema)!==null&&dt!==void 0?dt:ct)!==null&&bt!==void 0?bt:!0,strictNumbers:(St=(vt=We.strictNumbers)!==null&&vt!==void 0?vt:ct)!==null&&St!==void 0?St:!0,strictTypes:(Gt=(Bt=We.strictTypes)!==null&&Bt!==void 0?Bt:ct)!==null&&Gt!==void 0?Gt:"log",strictTuples:(Mt=(Dt=We.strictTuples)!==null&&Dt!==void 0?Dt:ct)!==null&&Mt!==void 0?Mt:"log",strictRequired:(mt=(pt=We.strictRequired)!==null&&pt!==void 0?pt:ct)!==null&&mt!==void 0?mt:!1,code:We.code?{...We.code,optimize:jt,regExp:zt}:{optimize:jt,regExp:zt},loopRequired:($t=We.loopRequired)!==null&&$t!==void 0?$t:Le,loopEnum:(kt=We.loopEnum)!==null&&kt!==void 0?kt:Le,meta:(Ft=We.meta)!==null&&Ft!==void 0?Ft:!0,messages:(nr=We.messages)!==null&&nr!==void 0?nr:!0,inlineRefs:(Yt=We.inlineRefs)!==null&&Yt!==void 0?Yt:!0,schemaId:(yr=We.schemaId)!==null&&yr!==void 0?yr:"$id",addUsedSchema:(gr=We.addUsedSchema)!==null&&gr!==void 0?gr:!0,validateSchema:(br=We.validateSchema)!==null&&br!==void 0?br:!0,validateFormats:(cr=We.validateFormats)!==null&&cr!==void 0?cr:!0,unicodeRegExp:(pr=We.unicodeRegExp)!==null&&pr!==void 0?pr:!0,int32range:(lt=We.int32range)!==null&&lt!==void 0?lt:!0,uriResolver:Ot}}class He{constructor(Ve={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Ve=this.opts={...Ve,...qe(Ve)};const{es5:je,lines:Ze}=this.opts.code;this.scope=new z.ValueScope({scope:{},prefixes:Me,es5:je,lines:Ze}),this.logger=ze(Ve.logger);const st=Ve.validateFormats;Ve.validateFormats=!1,this.RULES=(0,B.getRules)(),Ge.call(this,Be,Ve,"NOT SUPPORTED"),Ge.call(this,Ke,Ve,"DEPRECATED","warn"),this._metaOpts=Qe.call(this),Ve.formats&&Ye.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Ve.keywords&&nt.call(this,Ve.keywords),typeof Ve.meta=="object"&&this.addMetaSchema(Ve.meta),ot.call(this),Ve.validateFormats=st}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Ve,meta:je,schemaId:Ze}=this.opts;let st=ie;Ze==="id"&&(st={...ie},st.id=st.$id,delete st.$id),je&&Ve&&this.addMetaSchema(st,st[Ze],!1)}defaultMeta(){const{meta:Ve,schemaId:je}=this.opts;return this.opts.defaultMeta=typeof Ve=="object"?Ve[je]||Ve:void 0}validate(Ve,je){let Ze;if(typeof Ve=="string"){if(Ze=this.getSchema(Ve),!Ze)throw new Error(`no schema with key or ref "${Ve}"`)}else Ze=this.compile(Ve);const st=Ze(je);return"$async"in Ze||(this.errors=Ze.errors),st}compile(Ve,je){const Ze=this._addSchema(Ve,je);return Ze.validate||this._compileSchemaEnv(Ze)}compileAsync(Ve,je){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:Ze}=this.opts;return st.call(this,Ve,je);async function st(Gt,Dt){await dt.call(this,Gt.$schema);const Mt=this._addSchema(Gt,Dt);return Mt.validate||bt.call(this,Mt)}async function dt(Gt){Gt&&!this.getSchema(Gt)&&await st.call(this,{$ref:Gt},!0)}async function bt(Gt){try{return this._compileSchemaEnv(Gt)}catch(Dt){if(!(Dt instanceof L.default))throw Dt;return vt.call(this,Dt),await St.call(this,Dt.missingSchema),bt.call(this,Gt)}}function vt({missingSchema:Gt,missingRef:Dt}){if(this.refs[Gt])throw new Error(`AnySchema ${Gt} is loaded but ${Dt} cannot be resolved`)}async function St(Gt){const Dt=await Bt.call(this,Gt);this.refs[Gt]||await dt.call(this,Dt.$schema),this.refs[Gt]||this.addSchema(Dt,Gt,je)}async function Bt(Gt){const Dt=this._loading[Gt];if(Dt)return Dt;try{return await(this._loading[Gt]=Ze(Gt))}finally{delete this._loading[Gt]}}}addSchema(Ve,je,Ze,st=this.opts.validateSchema){if(Array.isArray(Ve)){for(const bt of Ve)this.addSchema(bt,void 0,Ze,st);return this}let dt;if(typeof Ve=="object"){const{schemaId:bt}=this.opts;if(dt=Ve[bt],dt!==void 0&&typeof dt!="string")throw new Error(`schema ${bt} must be string`)}return je=(0,Q.normalizeId)(je||dt),this._checkUnique(je),this.schemas[je]=this._addSchema(Ve,Ze,je,st,!0),this}addMetaSchema(Ve,je,Ze=this.opts.validateSchema){return this.addSchema(Ve,je,!0,Ze),this}validateSchema(Ve,je){if(typeof Ve=="boolean")return!0;let Ze;if(Ze=Ve.$schema,Ze!==void 0&&typeof Ze!="string")throw new Error("$schema must be a string");if(Ze=Ze||this.opts.defaultMeta||this.defaultMeta(),!Ze)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const st=this.validate(Ze,Ve);if(!st&&je){const dt="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(dt);else throw new Error(dt)}return st}getSchema(Ve){let je;for(;typeof(je=at.call(this,Ve))=="string";)Ve=je;if(je===void 0){const{schemaId:Ze}=this.opts,st=new H.SchemaEnv({schema:{},schemaId:Ze});if(je=H.resolveSchema.call(this,st,Ve),!je)return;this.refs[Ve]=je}return je.validate||this._compileSchemaEnv(je)}removeSchema(Ve){if(Ve instanceof RegExp)return this._removeAllSchemas(this.schemas,Ve),this._removeAllSchemas(this.refs,Ve),this;switch(typeof Ve){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const je=at.call(this,Ve);return typeof je=="object"&&this._cache.delete(je.schema),delete this.schemas[Ve],delete this.refs[Ve],this}case"object":{const je=Ve;this._cache.delete(je);let Ze=Ve[this.opts.schemaId];return Ze&&(Ze=(0,Q.normalizeId)(Ze),delete this.schemas[Ze],delete this.refs[Ze]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Ve){for(const je of Ve)this.addKeyword(je);return this}addKeyword(Ve,je){let Ze;if(typeof Ve=="string")Ze=Ve,typeof je=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),je.keyword=Ze);else if(typeof Ve=="object"&&je===void 0){if(je=Ve,Ze=je.keyword,Array.isArray(Ze)&&!Ze.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ke.call(this,Ze,je),!je)return(0,G.eachItem)(Ze,dt=>Ue.call(this,dt)),this;rt.call(this,je);const st={...je,type:(0,te.getJSONTypes)(je.type),schemaType:(0,te.getJSONTypes)(je.schemaType)};return(0,G.eachItem)(Ze,st.type.length===0?dt=>Ue.call(this,dt,st):dt=>st.type.forEach(bt=>Ue.call(this,dt,st,bt))),this}getKeyword(Ve){const je=this.RULES.all[Ve];return typeof je=="object"?je.definition:!!je}removeKeyword(Ve){const{RULES:je}=this;delete je.keywords[Ve],delete je.all[Ve];for(const Ze of je.rules){const st=Ze.rules.findIndex(dt=>dt.keyword===Ve);st>=0&&Ze.rules.splice(st,1)}return this}addFormat(Ve,je){return typeof je=="string"&&(je=new RegExp(je)),this.formats[Ve]=je,this}errorsText(Ve=this.errors,{separator:je=", ",dataVar:Ze="data"}={}){return!Ve||Ve.length===0?"No errors":Ve.map(st=>`${Ze}${st.instancePath} ${st.message}`).reduce((st,dt)=>st+je+dt)}$dataMetaSchema(Ve,je){const Ze=this.RULES.all;Ve=JSON.parse(JSON.stringify(Ve));for(const st of je){const dt=st.split("/").slice(1);let bt=Ve;for(const vt of dt)bt=bt[vt];for(const vt in Ze){const St=Ze[vt];if(typeof St!="object")continue;const{$data:Bt}=St.definition,Gt=bt[vt];Bt&&Gt&&(bt[vt]=it(Gt))}}return Ve}_removeAllSchemas(Ve,je){for(const Ze in Ve){const st=Ve[Ze];(!je||je.test(Ze))&&(typeof st=="string"?delete Ve[Ze]:st&&!st.meta&&(this._cache.delete(st.schema),delete Ve[Ze]))}}_addSchema(Ve,je,Ze,st=this.opts.validateSchema,dt=this.opts.addUsedSchema){let bt;const{schemaId:vt}=this.opts;if(typeof Ve=="object")bt=Ve[vt];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Ve!="boolean")throw new Error("schema must be object or boolean")}let St=this._cache.get(Ve);if(St!==void 0)return St;Ze=(0,Q.normalizeId)(bt||Ze);const Bt=Q.getSchemaRefs.call(this,Ve,Ze);return St=new H.SchemaEnv({schema:Ve,schemaId:vt,meta:je,baseId:Ze,localRefs:Bt}),this._cache.set(St.schema,St),dt&&!Ze.startsWith("#")&&(Ze&&this._checkUnique(Ze),this.refs[Ze]=St),st&&this.validateSchema(Ve,!0),St}_checkUnique(Ve){if(this.schemas[Ve]||this.refs[Ve])throw new Error(`schema with key or id "${Ve}" already exists`)}_compileSchemaEnv(Ve){if(Ve.meta?this._compileMetaSchema(Ve):H.compileSchema.call(this,Ve),!Ve.validate)throw new Error("ajv implementation error");return Ve.validate}_compileMetaSchema(Ve){const je=this.opts;this.opts=this._metaOpts;try{H.compileSchema.call(this,Ve)}finally{this.opts=je}}}T.default=He,He.ValidationError=N.default,He.MissingRefError=L.default;function Ge(We,Ve,je,Ze="error"){for(const st in We){const dt=st;dt in Ve&&this.logger[Ze](`${je}: option ${st}. ${We[dt]}`)}}function at(We){return We=(0,Q.normalizeId)(We),this.schemas[We]||this.refs[We]}function ot(){const We=this.opts.schemas;if(We)if(Array.isArray(We))this.addSchema(We);else for(const Ve in We)this.addSchema(We[Ve],Ve)}function Ye(){for(const We in this.opts.formats){const Ve=this.opts.formats[We];Ve&&this.addFormat(We,Ve)}}function nt(We){if(Array.isArray(We)){this.addVocabulary(We);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Ve in We){const je=We[Ve];je.keyword||(je.keyword=Ve),this.addKeyword(je)}}function Qe(){const We={...this.opts};for(const Ve of Pe)delete We[Ve];return We}const tt={log(){},warn(){},error(){}};function ze(We){if(We===!1)return tt;if(We===void 0)return console;if(We.log&&We.warn&&We.error)return We;throw new Error("logger must implement log, warn and error methods")}const Fe=/^[a-z_$][a-z0-9_$:-]*$/i;function ke(We,Ve){const{RULES:je}=this;if((0,G.eachItem)(We,Ze=>{if(je.keywords[Ze])throw new Error(`Keyword ${Ze} is already defined`);if(!Fe.test(Ze))throw new Error(`Keyword ${Ze} has invalid name`)}),!!Ve&&Ve.$data&&!("code"in Ve||"validate"in Ve))throw new Error('$data keyword must have "code" or "validate" function')}function Ue(We,Ve,je){var Ze;const st=Ve==null?void 0:Ve.post;if(je&&st)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:dt}=this;let bt=st?dt.post:dt.rules.find(({type:St})=>St===je);if(bt||(bt={type:je,rules:[]},dt.rules.push(bt)),dt.keywords[We]=!0,!Ve)return;const vt={keyword:We,definition:{...Ve,type:(0,te.getJSONTypes)(Ve.type),schemaType:(0,te.getJSONTypes)(Ve.schemaType)}};Ve.before?Je.call(this,bt,vt,Ve.before):bt.rules.push(vt),dt.all[We]=vt,(Ze=Ve.implements)===null||Ze===void 0||Ze.forEach(St=>this.addKeyword(St))}function Je(We,Ve,je){const Ze=We.rules.findIndex(st=>st.keyword===je);Ze>=0?We.rules.splice(Ze,0,Ve):(We.rules.push(Ve),this.logger.warn(`rule ${je} is not defined`))}function rt(We){let{metaSchema:Ve}=We;Ve!==void 0&&(We.$data&&this.opts.$data&&(Ve=it(Ve)),We.validateSchema=this.compile(Ve,!0))}const Xe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function it(We){return{anyOf:[We,Xe]}}})(core$6);const core$4=getDefaultExportFromCjs$1(core$6),core$5=_mergeNamespaces({__proto__:null,default:core$4},[core$6]);var draft7$1={},core$3={},id$1={};Object.defineProperty(id$1,"__esModule",{value:!0});const def$s={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};var _default$y=id$1.default=def$s;const id=_mergeNamespaces({__proto__:null,default:_default$y},[id$1]);var ref$1={};Object.defineProperty(ref$1,"__esModule",{value:!0});var callRef_1=ref$1.callRef=getValidate_1=ref$1.getValidate=void 0;const ref_error_1=ref_error,code_1$8=code,codegen_1$l=codegen,names_1$1=names$1,compile_1$1=compile,util_1$j=util$8,def$r={keyword:"$ref",schemaType:"string",code(T){const{gen:$,schema:I,it:N}=T,{baseId:L,schemaEnv:B,validateName:H,opts:z,self:Q}=N,{root:te}=B;if((I==="#"||I==="#/")&&L===te.baseId)return ie();const G=compile_1$1.resolveRef.call(Q,te,L,I);if(G===void 0)throw new ref_error_1.default(N.opts.uriResolver,L,I);if(G instanceof compile_1$1.SchemaEnv)return Re(G);return $e(G);function ie(){if(B===te)return callRef(T,H,B,B.$async);const Pe=$.scopeValue("root",{ref:te});return callRef(T,(0,codegen_1$l._)`${Pe}.validate`,te,te.$async)}function Re(Pe){const Me=getValidate(T,Pe);callRef(T,Me,Pe,Pe.$async)}function $e(Pe){const Me=$.scopeValue("schema",z.code.source===!0?{ref:Pe,code:(0,codegen_1$l.stringify)(Pe)}:{ref:Pe}),Be=$.name("valid"),Ke=T.subschema({schema:Pe,dataTypes:[],schemaPath:codegen_1$l.nil,topSchemaRef:Me,errSchemaPath:I},Be);T.mergeEvaluated(Ke),T.ok(Be)}}};function getValidate(T,$){const{gen:I}=T;return $.validate?I.scopeValue("validate",{ref:$.validate}):(0,codegen_1$l._)`${I.scopeValue("wrapper",{ref:$})}.validate`}var getValidate_1=ref$1.getValidate=getValidate;function callRef(T,$,I,N){const{gen:L,it:B}=T,{allErrors:H,schemaEnv:z,opts:Q}=B,te=Q.passContext?names_1$1.default.this:codegen_1$l.nil;N?G():ie();function G(){if(!z.$async)throw new Error("async schema referenced by sync schema");const Pe=L.let("valid");L.try(()=>{L.code((0,codegen_1$l._)`await ${(0,code_1$8.callValidateCode)(T,$,te)}`),$e($),H||L.assign(Pe,!0)},Me=>{L.if((0,codegen_1$l._)`!(${Me} instanceof ${B.ValidationError})`,()=>L.throw(Me)),Re(Me),H||L.assign(Pe,!1)}),T.ok(Pe)}function ie(){T.result((0,code_1$8.callValidateCode)(T,$,te),()=>$e($),()=>Re($))}function Re(Pe){const Me=(0,codegen_1$l._)`${Pe}.errors`;L.assign(names_1$1.default.vErrors,(0,codegen_1$l._)`${names_1$1.default.vErrors} === null ? ${Me} : ${names_1$1.default.vErrors}.concat(${Me})`),L.assign(names_1$1.default.errors,(0,codegen_1$l._)`${names_1$1.default.vErrors}.length`)}function $e(Pe){var Me;if(!B.opts.unevaluated)return;const Be=(Me=I==null?void 0:I.validate)===null||Me===void 0?void 0:Me.evaluated;if(B.props!==!0)if(Be&&!Be.dynamicProps)Be.props!==void 0&&(B.props=util_1$j.mergeEvaluated.props(L,Be.props,B.props));else{const Ke=L.var("props",(0,codegen_1$l._)`${Pe}.evaluated.props`);B.props=util_1$j.mergeEvaluated.props(L,Ke,B.props,codegen_1$l.Name)}if(B.items!==!0)if(Be&&!Be.dynamicItems)Be.items!==void 0&&(B.items=util_1$j.mergeEvaluated.items(L,Be.items,B.items));else{const Ke=L.var("items",(0,codegen_1$l._)`${Pe}.evaluated.items`);B.items=util_1$j.mergeEvaluated.items(L,Ke,B.items,codegen_1$l.Name)}}}callRef_1=ref$1.callRef=callRef;var _default$x=ref$1.default=def$r;const ref=_mergeNamespaces({__proto__:null,get callRef(){return callRef_1},default:_default$x,get getValidate(){return getValidate_1}},[ref$1]);Object.defineProperty(core$3,"__esModule",{value:!0});const id_1=id,ref_1=ref,core$1=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1.default,ref_1.default];var _default$w=core$3.default=core$1;const core$2=_mergeNamespaces({__proto__:null,default:_default$w},[core$3]);var validation$2={},limitNumber$1={};Object.defineProperty(limitNumber$1,"__esModule",{value:!0});const codegen_1$k=codegen,ops=codegen_1$k.operators,KWDs={maximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},minimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},exclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},exclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error$i={message:({keyword:T,schemaCode:$})=>(0,codegen_1$k.str)`must be ${KWDs[T].okStr} ${$}`,params:({keyword:T,schemaCode:$})=>(0,codegen_1$k._)`{comparison: ${KWDs[T].okStr}, limit: ${$}}`},def$q={keyword:Object.keys(KWDs),type:"number",schemaType:"number",$data:!0,error:error$i,code(T){const{keyword:$,data:I,schemaCode:N}=T;T.fail$data((0,codegen_1$k._)`${I} ${KWDs[$].fail} ${N} || isNaN(${I})`)}};var _default$v=limitNumber$1.default=def$q;const limitNumber=_mergeNamespaces({__proto__:null,default:_default$v},[limitNumber$1]);var multipleOf$1={};Object.defineProperty(multipleOf$1,"__esModule",{value:!0});const codegen_1$j=codegen,error$h={message:({schemaCode:T})=>(0,codegen_1$j.str)`must be multiple of ${T}`,params:({schemaCode:T})=>(0,codegen_1$j._)`{multipleOf: ${T}}`},def$p={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error$h,code(T){const{gen:$,data:I,schemaCode:N,it:L}=T,B=L.opts.multipleOfPrecision,H=$.let("res"),z=B?(0,codegen_1$j._)`Math.abs(Math.round(${H}) - ${H}) > 1e-${B}`:(0,codegen_1$j._)`${H} !== parseInt(${H})`;T.fail$data((0,codegen_1$j._)`(${N} === 0 || (${H} = ${I}/${N}, ${z}))`)}};var _default$u=multipleOf$1.default=def$p;const multipleOf=_mergeNamespaces({__proto__:null,default:_default$u},[multipleOf$1]);var limitLength$1={},ucs2length$2={};Object.defineProperty(ucs2length$2,"__esModule",{value:!0});function ucs2length(T){const $=T.length;let I=0,N=0,L;for(;N<$;)I++,L=T.charCodeAt(N++),L>=55296&&L<=56319&&N<$&&(L=T.charCodeAt(N),(L&64512)===56320&&N++);return I}var _default$t=ucs2length$2.default=ucs2length;ucs2length.code='require("ajv/dist/runtime/ucs2length").default';const ucs2length$1=_mergeNamespaces({__proto__:null,default:_default$t},[ucs2length$2]);Object.defineProperty(limitLength$1,"__esModule",{value:!0});const codegen_1$i=codegen,util_1$i=util$8,ucs2length_1=ucs2length$1,error$g={message({keyword:T,schemaCode:$}){const I=T==="maxLength"?"more":"fewer";return(0,codegen_1$i.str)`must NOT have ${I} than ${$} characters`},params:({schemaCode:T})=>(0,codegen_1$i._)`{limit: ${T}}`},def$o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error$g,code(T){const{keyword:$,data:I,schemaCode:N,it:L}=T,B=$==="maxLength"?codegen_1$i.operators.GT:codegen_1$i.operators.LT,H=L.opts.unicode===!1?(0,codegen_1$i._)`${I}.length`:(0,codegen_1$i._)`${(0,util_1$i.useFunc)(T.gen,ucs2length_1.default)}(${I})`;T.fail$data((0,codegen_1$i._)`${H} ${B} ${N}`)}};var _default$s=limitLength$1.default=def$o;const limitLength=_mergeNamespaces({__proto__:null,default:_default$s},[limitLength$1]);var pattern$1={};Object.defineProperty(pattern$1,"__esModule",{value:!0});const code_1$7=code,codegen_1$h=codegen,error$f={message:({schemaCode:T})=>(0,codegen_1$h.str)`must match pattern "${T}"`,params:({schemaCode:T})=>(0,codegen_1$h._)`{pattern: ${T}}`},def$n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error$f,code(T){const{data:$,$data:I,schema:N,schemaCode:L,it:B}=T,H=B.opts.unicodeRegExp?"u":"",z=I?(0,codegen_1$h._)`(new RegExp(${L}, ${H}))`:(0,code_1$7.usePattern)(T,N);T.fail$data((0,codegen_1$h._)`!${z}.test(${$})`)}};var _default$r=pattern$1.default=def$n;const pattern=_mergeNamespaces({__proto__:null,default:_default$r},[pattern$1]);var limitProperties$1={};Object.defineProperty(limitProperties$1,"__esModule",{value:!0});const codegen_1$g=codegen,error$e={message({keyword:T,schemaCode:$}){const I=T==="maxProperties"?"more":"fewer";return(0,codegen_1$g.str)`must NOT have ${I} than ${$} properties`},params:({schemaCode:T})=>(0,codegen_1$g._)`{limit: ${T}}`},def$m={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error$e,code(T){const{keyword:$,data:I,schemaCode:N}=T,L=$==="maxProperties"?codegen_1$g.operators.GT:codegen_1$g.operators.LT;T.fail$data((0,codegen_1$g._)`Object.keys(${I}).length ${L} ${N}`)}};var _default$q=limitProperties$1.default=def$m;const limitProperties=_mergeNamespaces({__proto__:null,default:_default$q},[limitProperties$1]);var required$1={};Object.defineProperty(required$1,"__esModule",{value:!0});const code_1$6=code,codegen_1$f=codegen,util_1$h=util$8,error$d={message:({params:{missingProperty:T}})=>(0,codegen_1$f.str)`must have required property '${T}'`,params:({params:{missingProperty:T}})=>(0,codegen_1$f._)`{missingProperty: ${T}}`},def$l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error$d,code(T){const{gen:$,schema:I,schemaCode:N,data:L,$data:B,it:H}=T,{opts:z}=H;if(!B&&I.length===0)return;const Q=I.length>=z.loopRequired;if(H.allErrors?te():G(),z.strictRequired){const $e=T.parentSchema.properties,{definedProperties:Pe}=T.it;for(const Me of I)if(($e==null?void 0:$e[Me])===void 0&&!Pe.has(Me)){const Be=H.schemaEnv.baseId+H.errSchemaPath,Ke=`required property "${Me}" is not defined at "${Be}" (strictRequired)`;(0,util_1$h.checkStrictMode)(H,Ke,H.opts.strictRequired)}}function te(){if(Q||B)T.block$data(codegen_1$f.nil,ie);else for(const $e of I)(0,code_1$6.checkReportMissingProp)(T,$e)}function G(){const $e=$.let("missing");if(Q||B){const Pe=$.let("valid",!0);T.block$data(Pe,()=>Re($e,Pe)),T.ok(Pe)}else $.if((0,code_1$6.checkMissingProp)(T,I,$e)),(0,code_1$6.reportMissingProp)(T,$e),$.else()}function ie(){$.forOf("prop",N,$e=>{T.setParams({missingProperty:$e}),$.if((0,code_1$6.noPropertyInData)($,L,$e,z.ownProperties),()=>T.error())})}function Re($e,Pe){T.setParams({missingProperty:$e}),$.forOf($e,N,()=>{$.assign(Pe,(0,code_1$6.propertyInData)($,L,$e,z.ownProperties)),$.if((0,codegen_1$f.not)(Pe),()=>{T.error(),$.break()})},codegen_1$f.nil)}}};var _default$p=required$1.default=def$l;const required=_mergeNamespaces({__proto__:null,default:_default$p},[required$1]);var limitItems$1={};Object.defineProperty(limitItems$1,"__esModule",{value:!0});const codegen_1$e=codegen,error$c={message({keyword:T,schemaCode:$}){const I=T==="maxItems"?"more":"fewer";return(0,codegen_1$e.str)`must NOT have ${I} than ${$} items`},params:({schemaCode:T})=>(0,codegen_1$e._)`{limit: ${T}}`},def$k={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error$c,code(T){const{keyword:$,data:I,schemaCode:N}=T,L=$==="maxItems"?codegen_1$e.operators.GT:codegen_1$e.operators.LT;T.fail$data((0,codegen_1$e._)`${I}.length ${L} ${N}`)}};var _default$o=limitItems$1.default=def$k;const limitItems=_mergeNamespaces({__proto__:null,default:_default$o},[limitItems$1]);var uniqueItems$1={};Object.defineProperty(uniqueItems$1,"__esModule",{value:!0});const dataType_1=dataType$1,codegen_1$d=codegen,util_1$g=util$8,equal_1$2=equal$7,error$b={message:({params:{i:T,j:$}})=>(0,codegen_1$d.str)`must NOT have duplicate items (items ## ${$} and ${T} are identical)`,params:({params:{i:T,j:$}})=>(0,codegen_1$d._)`{i: ${T}, j: ${$}}`},def$j={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error$b,code(T){const{gen:$,data:I,$data:N,schema:L,parentSchema:B,schemaCode:H,it:z}=T;if(!N&&!L)return;const Q=$.let("valid"),te=B.items?(0,dataType_1.getSchemaTypes)(B.items):[];T.block$data(Q,G,(0,codegen_1$d._)`${H} === false`),T.ok(Q);function G(){const Pe=$.let("i",(0,codegen_1$d._)`${I}.length`),Me=$.let("j");T.setParams({i:Pe,j:Me}),$.assign(Q,!0),$.if((0,codegen_1$d._)`${Pe} > 1`,()=>(ie()?Re:$e)(Pe,Me))}function ie(){return te.length>0&&!te.some(Pe=>Pe==="object"||Pe==="array")}function Re(Pe,Me){const Be=$.name("item"),Ke=(0,dataType_1.checkDataTypes)(te,Be,z.opts.strictNumbers,dataType_1.DataType.Wrong),Le=$.const("indices",(0,codegen_1$d._)`{}`);$.for((0,codegen_1$d._)`;${Pe}--;`,()=>{$.let(Be,(0,codegen_1$d._)`${I}[${Pe}]`),$.if(Ke,(0,codegen_1$d._)`continue`),te.length>1&&$.if((0,codegen_1$d._)`typeof ${Be} == "string"`,(0,codegen_1$d._)`${Be} += "_"`),$.if((0,codegen_1$d._)`typeof ${Le}[${Be}] == "number"`,()=>{$.assign(Me,(0,codegen_1$d._)`${Le}[${Be}]`),T.error(),$.assign(Q,!1).break()}).code((0,codegen_1$d._)`${Le}[${Be}] = ${Pe}`)})}function $e(Pe,Me){const Be=(0,util_1$g.useFunc)($,equal_1$2.default),Ke=$.name("outer");$.label(Ke).for((0,codegen_1$d._)`;${Pe}--;`,()=>$.for((0,codegen_1$d._)`${Me} = ${Pe}; ${Me}--;`,()=>$.if((0,codegen_1$d._)`${Be}(${I}[${Pe}], ${I}[${Me}])`,()=>{T.error(),$.assign(Q,!1).break(Ke)})))}}};var _default$n=uniqueItems$1.default=def$j;const uniqueItems=_mergeNamespaces({__proto__:null,default:_default$n},[uniqueItems$1]);var _const$1={};Object.defineProperty(_const$1,"__esModule",{value:!0});const codegen_1$c=codegen,util_1$f=util$8,equal_1$1=equal$7,error$a={message:"must be equal to constant",params:({schemaCode:T})=>(0,codegen_1$c._)`{allowedValue: ${T}}`},def$i={keyword:"const",$data:!0,error:error$a,code(T){const{gen:$,data:I,$data:N,schemaCode:L,schema:B}=T;N||B&&typeof B=="object"?T.fail$data((0,codegen_1$c._)`!${(0,util_1$f.useFunc)($,equal_1$1.default)}(${I}, ${L})`):T.fail((0,codegen_1$c._)`${B} !== ${I}`)}};var _default$m=_const$1.default=def$i;const _const=_mergeNamespaces({__proto__:null,default:_default$m},[_const$1]);var _enum$1={};Object.defineProperty(_enum$1,"__esModule",{value:!0});const codegen_1$b=codegen,util_1$e=util$8,equal_1=equal$7,error$9={message:"must be equal to one of the allowed values",params:({schemaCode:T})=>(0,codegen_1$b._)`{allowedValues: ${T}}`},def$h={keyword:"enum",schemaType:"array",$data:!0,error:error$9,code(T){const{gen:$,data:I,$data:N,schema:L,schemaCode:B,it:H}=T;if(!N&&L.length===0)throw new Error("enum must have non-empty array");const z=L.length>=H.opts.loopEnum;let Q;const te=()=>Q??(Q=(0,util_1$e.useFunc)($,equal_1.default));let G;if(z||N)G=$.let("valid"),T.block$data(G,ie);else{if(!Array.isArray(L))throw new Error("ajv implementation error");const $e=$.const("vSchema",B);G=(0,codegen_1$b.or)(...L.map((Pe,Me)=>Re($e,Me)))}T.pass(G);function ie(){$.assign(G,!1),$.forOf("v",B,$e=>$.if((0,codegen_1$b._)`${te()}(${I}, ${$e})`,()=>$.assign(G,!0).break()))}function Re($e,Pe){const Me=L[Pe];return typeof Me=="object"&&Me!==null?(0,codegen_1$b._)`${te()}(${I}, ${$e}[${Pe}])`:(0,codegen_1$b._)`${I} === ${Me}`}}};var _default$l=_enum$1.default=def$h;const _enum=_mergeNamespaces({__proto__:null,default:_default$l},[_enum$1]);Object.defineProperty(validation$2,"__esModule",{value:!0});const limitNumber_1=limitNumber,multipleOf_1=multipleOf,limitLength_1=limitLength,pattern_1=pattern,limitProperties_1=limitProperties,required_1=required,limitItems_1=limitItems,uniqueItems_1=uniqueItems,const_1=_const,enum_1=_enum,validation=[limitNumber_1.default,multipleOf_1.default,limitLength_1.default,pattern_1.default,limitProperties_1.default,required_1.default,limitItems_1.default,uniqueItems_1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1.default,enum_1.default];var _default$k=validation$2.default=validation;const validation$1=_mergeNamespaces({__proto__:null,default:_default$k},[validation$2]);var applicator$1={},additionalItems$1={};Object.defineProperty(additionalItems$1,"__esModule",{value:!0});var validateAdditionalItems_1=additionalItems$1.validateAdditionalItems=void 0;const codegen_1$a=codegen,util_1$d=util$8,error$8={message:({params:{len:T}})=>(0,codegen_1$a.str)`must NOT have more than ${T} items`,params:({params:{len:T}})=>(0,codegen_1$a._)`{limit: ${T}}`},def$g={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:error$8,code(T){const{parentSchema:$,it:I}=T,{items:N}=$;if(!Array.isArray(N)){(0,util_1$d.checkStrictMode)(I,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems(T,N)}};function validateAdditionalItems(T,$){const{gen:I,schema:N,data:L,keyword:B,it:H}=T;H.items=!0;const z=I.const("len",(0,codegen_1$a._)`${L}.length`);if(N===!1)T.setParams({len:$.length}),T.pass((0,codegen_1$a._)`${z} <= ${$.length}`);else if(typeof N=="object"&&!(0,util_1$d.alwaysValidSchema)(H,N)){const te=I.var("valid",(0,codegen_1$a._)`${z} <= ${$.length}`);I.if((0,codegen_1$a.not)(te),()=>Q(te)),T.ok(te)}function Q(te){I.forRange("i",$.length,z,G=>{T.subschema({keyword:B,dataProp:G,dataPropType:util_1$d.Type.Num},te),H.allErrors||I.if((0,codegen_1$a.not)(te),()=>I.break())})}}validateAdditionalItems_1=additionalItems$1.validateAdditionalItems=validateAdditionalItems;var _default$j=additionalItems$1.default=def$g;const additionalItems=_mergeNamespaces({__proto__:null,default:_default$j,get validateAdditionalItems(){return validateAdditionalItems_1}},[additionalItems$1]);var prefixItems$1={},items$1={};Object.defineProperty(items$1,"__esModule",{value:!0});var validateTuple_1=items$1.validateTuple=void 0;const codegen_1$9=codegen,util_1$c=util$8,code_1$5=code,def$f={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(T){const{schema:$,it:I}=T;if(Array.isArray($))return validateTuple(T,"additionalItems",$);I.items=!0,!(0,util_1$c.alwaysValidSchema)(I,$)&&T.ok((0,code_1$5.validateArray)(T))}};function validateTuple(T,$,I=T.schema){const{gen:N,parentSchema:L,data:B,keyword:H,it:z}=T;G(L),z.opts.unevaluated&&I.length&&z.items!==!0&&(z.items=util_1$c.mergeEvaluated.items(N,I.length,z.items));const Q=N.name("valid"),te=N.const("len",(0,codegen_1$9._)`${B}.length`);I.forEach((ie,Re)=>{(0,util_1$c.alwaysValidSchema)(z,ie)||(N.if((0,codegen_1$9._)`${te} > ${Re}`,()=>T.subschema({keyword:H,schemaProp:Re,dataProp:Re},Q)),T.ok(Q))});function G(ie){const{opts:Re,errSchemaPath:$e}=z,Pe=I.length,Me=Pe===ie.minItems&&(Pe===ie.maxItems||ie[$]===!1);if(Re.strictTuples&&!Me){const Be=`"${H}" is ${Pe}-tuple, but minItems or maxItems/${$} are not specified or different at path "${$e}"`;(0,util_1$c.checkStrictMode)(z,Be,Re.strictTuples)}}}validateTuple_1=items$1.validateTuple=validateTuple;var _default$i=items$1.default=def$f;const items=_mergeNamespaces({__proto__:null,default:_default$i,get validateTuple(){return validateTuple_1}},[items$1]);Object.defineProperty(prefixItems$1,"__esModule",{value:!0});const items_1$1=items,def$e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:T=>(0,items_1$1.validateTuple)(T,"items")};var _default$h=prefixItems$1.default=def$e;const prefixItems=_mergeNamespaces({__proto__:null,default:_default$h},[prefixItems$1]);var items2020$1={};Object.defineProperty(items2020$1,"__esModule",{value:!0});const codegen_1$8=codegen,util_1$b=util$8,code_1$4=code,additionalItems_1$1=additionalItems,error$7={message:({params:{len:T}})=>(0,codegen_1$8.str)`must NOT have more than ${T} items`,params:({params:{len:T}})=>(0,codegen_1$8._)`{limit: ${T}}`},def$d={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error$7,code(T){const{schema:$,parentSchema:I,it:N}=T,{prefixItems:L}=I;N.items=!0,!(0,util_1$b.alwaysValidSchema)(N,$)&&(L?(0,additionalItems_1$1.validateAdditionalItems)(T,L):T.ok((0,code_1$4.validateArray)(T)))}};var _default$g=items2020$1.default=def$d;const items2020=_mergeNamespaces({__proto__:null,default:_default$g},[items2020$1]);var contains$1={};Object.defineProperty(contains$1,"__esModule",{value:!0});const codegen_1$7=codegen,util_1$a=util$8,error$6={message:({params:{min:T,max:$}})=>$===void 0?(0,codegen_1$7.str)`must contain at least ${T} valid item(s)`:(0,codegen_1$7.str)`must contain at least ${T} and no more than ${$} valid item(s)`,params:({params:{min:T,max:$}})=>$===void 0?(0,codegen_1$7._)`{minContains: ${T}}`:(0,codegen_1$7._)`{minContains: ${T}, maxContains: ${$}}`},def$c={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error$6,code(T){const{gen:$,schema:I,parentSchema:N,data:L,it:B}=T;let H,z;const{minContains:Q,maxContains:te}=N;B.opts.next?(H=Q===void 0?1:Q,z=te):H=1;const G=$.const("len",(0,codegen_1$7._)`${L}.length`);if(T.setParams({min:H,max:z}),z===void 0&&H===0){(0,util_1$a.checkStrictMode)(B,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(z!==void 0&&H>z){(0,util_1$a.checkStrictMode)(B,'"minContains" > "maxContains" is always invalid'),T.fail();return}if((0,util_1$a.alwaysValidSchema)(B,I)){let Me=(0,codegen_1$7._)`${G} >= ${H}`;z!==void 0&&(Me=(0,codegen_1$7._)`${Me} && ${G} <= ${z}`),T.pass(Me);return}B.items=!0;const ie=$.name("valid");z===void 0&&H===1?$e(ie,()=>$.if(ie,()=>$.break())):H===0?($.let(ie,!0),z!==void 0&&$.if((0,codegen_1$7._)`${L}.length > 0`,Re)):($.let(ie,!1),Re()),T.result(ie,()=>T.reset());function Re(){const Me=$.name("_valid"),Be=$.let("count",0);$e(Me,()=>$.if(Me,()=>Pe(Be)))}function $e(Me,Be){$.forRange("i",0,G,Ke=>{T.subschema({keyword:"contains",dataProp:Ke,dataPropType:util_1$a.Type.Num,compositeRule:!0},Me),Be()})}function Pe(Me){$.code((0,codegen_1$7._)`${Me}++`),z===void 0?$.if((0,codegen_1$7._)`${Me} >= ${H}`,()=>$.assign(ie,!0).break()):($.if((0,codegen_1$7._)`${Me} > ${z}`,()=>$.assign(ie,!1).break()),H===1?$.assign(ie,!0):$.if((0,codegen_1$7._)`${Me} >= ${H}`,()=>$.assign(ie,!0)))}}};var _default$f=contains$1.default=def$c;const contains=_mergeNamespaces({__proto__:null,default:_default$f},[contains$1]);var dependencies$2={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.validateSchemaDeps=T.validatePropertyDeps=T.error=void 0;const $=codegen,I=util$8,N=code;T.error={message:({params:{property:Q,depsCount:te,deps:G}})=>{const ie=te===1?"property":"properties";return(0,$.str)`must have ${ie} ${G} when property ${Q} is present`},params:({params:{property:Q,depsCount:te,deps:G,missingProperty:ie}})=>(0,$._)`{property: ${Q},
    missingProperty: ${ie},
    depsCount: ${te},
    deps: ${G}}`};const L={keyword:"dependencies",type:"object",schemaType:"object",error:T.error,code(Q){const[te,G]=B(Q);H(Q,te),z(Q,G)}};function B({schema:Q}){const te={},G={};for(const ie in Q){if(ie==="__proto__")continue;const Re=Array.isArray(Q[ie])?te:G;Re[ie]=Q[ie]}return[te,G]}function H(Q,te=Q.schema){const{gen:G,data:ie,it:Re}=Q;if(Object.keys(te).length===0)return;const $e=G.let("missing");for(const Pe in te){const Me=te[Pe];if(Me.length===0)continue;const Be=(0,N.propertyInData)(G,ie,Pe,Re.opts.ownProperties);Q.setParams({property:Pe,depsCount:Me.length,deps:Me.join(", ")}),Re.allErrors?G.if(Be,()=>{for(const Ke of Me)(0,N.checkReportMissingProp)(Q,Ke)}):(G.if((0,$._)`${Be} && (${(0,N.checkMissingProp)(Q,Me,$e)})`),(0,N.reportMissingProp)(Q,$e),G.else())}}T.validatePropertyDeps=H;function z(Q,te=Q.schema){const{gen:G,data:ie,keyword:Re,it:$e}=Q,Pe=G.name("valid");for(const Me in te)(0,I.alwaysValidSchema)($e,te[Me])||(G.if((0,N.propertyInData)(G,ie,Me,$e.opts.ownProperties),()=>{const Be=Q.subschema({keyword:Re,schemaProp:Me},Pe);Q.mergeValidEvaluated(Be,Pe)},()=>G.var(Pe,!0)),Q.ok(Pe))}T.validateSchemaDeps=z,T.default=L})(dependencies$2);const dependencies=getDefaultExportFromCjs$1(dependencies$2),dependencies$1=_mergeNamespaces({__proto__:null,default:dependencies},[dependencies$2]);var propertyNames$1={};Object.defineProperty(propertyNames$1,"__esModule",{value:!0});const codegen_1$6=codegen,util_1$9=util$8,error$5={message:"property name must be valid",params:({params:T})=>(0,codegen_1$6._)`{propertyName: ${T.propertyName}}`},def$b={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error$5,code(T){const{gen:$,schema:I,data:N,it:L}=T;if((0,util_1$9.alwaysValidSchema)(L,I))return;const B=$.name("valid");$.forIn("key",N,H=>{T.setParams({propertyName:H}),T.subschema({keyword:"propertyNames",data:H,dataTypes:["string"],propertyName:H,compositeRule:!0},B),$.if((0,codegen_1$6.not)(B),()=>{T.error(!0),L.allErrors||$.break()})}),T.ok(B)}};var _default$e=propertyNames$1.default=def$b;const propertyNames=_mergeNamespaces({__proto__:null,default:_default$e},[propertyNames$1]);var additionalProperties$1={};Object.defineProperty(additionalProperties$1,"__esModule",{value:!0});const code_1$3=code,codegen_1$5=codegen,names_1=names$1,util_1$8=util$8,error$4={message:"must NOT have additional properties",params:({params:T})=>(0,codegen_1$5._)`{additionalProperty: ${T.additionalProperty}}`},def$a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error$4,code(T){const{gen:$,schema:I,parentSchema:N,data:L,errsCount:B,it:H}=T;if(!B)throw new Error("ajv implementation error");const{allErrors:z,opts:Q}=H;if(H.props=!0,Q.removeAdditional!=="all"&&(0,util_1$8.alwaysValidSchema)(H,I))return;const te=(0,code_1$3.allSchemaProperties)(N.properties),G=(0,code_1$3.allSchemaProperties)(N.patternProperties);ie(),T.ok((0,codegen_1$5._)`${B} === ${names_1.default.errors}`);function ie(){$.forIn("key",L,Be=>{!te.length&&!G.length?Pe(Be):$.if(Re(Be),()=>Pe(Be))})}function Re(Be){let Ke;if(te.length>8){const Le=(0,util_1$8.schemaRefOrVal)(H,N.properties,"properties");Ke=(0,code_1$3.isOwnProperty)($,Le,Be)}else te.length?Ke=(0,codegen_1$5.or)(...te.map(Le=>(0,codegen_1$5._)`${Be} === ${Le}`)):Ke=codegen_1$5.nil;return G.length&&(Ke=(0,codegen_1$5.or)(Ke,...G.map(Le=>(0,codegen_1$5._)`${(0,code_1$3.usePattern)(T,Le)}.test(${Be})`))),(0,codegen_1$5.not)(Ke)}function $e(Be){$.code((0,codegen_1$5._)`delete ${L}[${Be}]`)}function Pe(Be){if(Q.removeAdditional==="all"||Q.removeAdditional&&I===!1){$e(Be);return}if(I===!1){T.setParams({additionalProperty:Be}),T.error(),z||$.break();return}if(typeof I=="object"&&!(0,util_1$8.alwaysValidSchema)(H,I)){const Ke=$.name("valid");Q.removeAdditional==="failing"?(Me(Be,Ke,!1),$.if((0,codegen_1$5.not)(Ke),()=>{T.reset(),$e(Be)})):(Me(Be,Ke),z||$.if((0,codegen_1$5.not)(Ke),()=>$.break()))}}function Me(Be,Ke,Le){const qe={keyword:"additionalProperties",dataProp:Be,dataPropType:util_1$8.Type.Str};Le===!1&&Object.assign(qe,{compositeRule:!0,createErrors:!1,allErrors:!1}),T.subschema(qe,Ke)}}};var _default$d=additionalProperties$1.default=def$a;const additionalProperties=_mergeNamespaces({__proto__:null,default:_default$d},[additionalProperties$1]);var properties$2={};Object.defineProperty(properties$2,"__esModule",{value:!0});const validate_1=validate,code_1$2=code,util_1$7=util$8,additionalProperties_1$1=additionalProperties,def$9={keyword:"properties",type:"object",schemaType:"object",code(T){const{gen:$,schema:I,parentSchema:N,data:L,it:B}=T;B.opts.removeAdditional==="all"&&N.additionalProperties===void 0&&additionalProperties_1$1.default.code(new validate_1.KeywordCxt(B,additionalProperties_1$1.default,"additionalProperties"));const H=(0,code_1$2.allSchemaProperties)(I);for(const ie of H)B.definedProperties.add(ie);B.opts.unevaluated&&H.length&&B.props!==!0&&(B.props=util_1$7.mergeEvaluated.props($,(0,util_1$7.toHash)(H),B.props));const z=H.filter(ie=>!(0,util_1$7.alwaysValidSchema)(B,I[ie]));if(z.length===0)return;const Q=$.name("valid");for(const ie of z)te(ie)?G(ie):($.if((0,code_1$2.propertyInData)($,L,ie,B.opts.ownProperties)),G(ie),B.allErrors||$.else().var(Q,!0),$.endIf()),T.it.definedProperties.add(ie),T.ok(Q);function te(ie){return B.opts.useDefaults&&!B.compositeRule&&I[ie].default!==void 0}function G(ie){T.subschema({keyword:"properties",schemaProp:ie,dataProp:ie},Q)}}};var _default$c=properties$2.default=def$9;const properties$1=_mergeNamespaces({__proto__:null,default:_default$c},[properties$2]);var patternProperties$1={};Object.defineProperty(patternProperties$1,"__esModule",{value:!0});const code_1$1=code,codegen_1$4=codegen,util_1$6=util$8,util_2=util$8,def$8={keyword:"patternProperties",type:"object",schemaType:"object",code(T){const{gen:$,schema:I,data:N,parentSchema:L,it:B}=T,{opts:H}=B,z=(0,code_1$1.allSchemaProperties)(I),Q=z.filter(Me=>(0,util_1$6.alwaysValidSchema)(B,I[Me]));if(z.length===0||Q.length===z.length&&(!B.opts.unevaluated||B.props===!0))return;const te=H.strictSchema&&!H.allowMatchingProperties&&L.properties,G=$.name("valid");B.props!==!0&&!(B.props instanceof codegen_1$4.Name)&&(B.props=(0,util_2.evaluatedPropsToName)($,B.props));const{props:ie}=B;Re();function Re(){for(const Me of z)te&&$e(Me),B.allErrors?Pe(Me):($.var(G,!0),Pe(Me),$.if(G))}function $e(Me){for(const Be in te)new RegExp(Me).test(Be)&&(0,util_1$6.checkStrictMode)(B,`property ${Be} matches pattern ${Me} (use allowMatchingProperties)`)}function Pe(Me){$.forIn("key",N,Be=>{$.if((0,codegen_1$4._)`${(0,code_1$1.usePattern)(T,Me)}.test(${Be})`,()=>{const Ke=Q.includes(Me);Ke||T.subschema({keyword:"patternProperties",schemaProp:Me,dataProp:Be,dataPropType:util_2.Type.Str},G),B.opts.unevaluated&&ie!==!0?$.assign((0,codegen_1$4._)`${ie}[${Be}]`,!0):!Ke&&!B.allErrors&&$.if((0,codegen_1$4.not)(G),()=>$.break())})})}}};var _default$b=patternProperties$1.default=def$8;const patternProperties=_mergeNamespaces({__proto__:null,default:_default$b},[patternProperties$1]);var not$1={};Object.defineProperty(not$1,"__esModule",{value:!0});const util_1$5=util$8,def$7={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(T){const{gen:$,schema:I,it:N}=T;if((0,util_1$5.alwaysValidSchema)(N,I)){T.fail();return}const L=$.name("valid");T.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},L),T.failResult(L,()=>T.reset(),()=>T.error())},error:{message:"must NOT be valid"}};var _default$a=not$1.default=def$7;const not=_mergeNamespaces({__proto__:null,default:_default$a},[not$1]);var anyOf$1={};Object.defineProperty(anyOf$1,"__esModule",{value:!0});const code_1=code,def$6={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1.validateUnion,error:{message:"must match a schema in anyOf"}};var _default$9=anyOf$1.default=def$6;const anyOf=_mergeNamespaces({__proto__:null,default:_default$9},[anyOf$1]);var oneOf$2={};Object.defineProperty(oneOf$2,"__esModule",{value:!0});const codegen_1$3=codegen,util_1$4=util$8,error$3={message:"must match exactly one schema in oneOf",params:({params:T})=>(0,codegen_1$3._)`{passingSchemas: ${T.passing}}`},def$5={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error$3,code(T){const{gen:$,schema:I,parentSchema:N,it:L}=T;if(!Array.isArray(I))throw new Error("ajv implementation error");if(L.opts.discriminator&&N.discriminator)return;const B=I,H=$.let("valid",!1),z=$.let("passing",null),Q=$.name("_valid");T.setParams({passing:z}),$.block(te),T.result(H,()=>T.reset(),()=>T.error(!0));function te(){B.forEach((G,ie)=>{let Re;(0,util_1$4.alwaysValidSchema)(L,G)?$.var(Q,!0):Re=T.subschema({keyword:"oneOf",schemaProp:ie,compositeRule:!0},Q),ie>0&&$.if((0,codegen_1$3._)`${Q} && ${H}`).assign(H,!1).assign(z,(0,codegen_1$3._)`[${z}, ${ie}]`).else(),$.if(Q,()=>{$.assign(H,!0),$.assign(z,ie),Re&&T.mergeEvaluated(Re,codegen_1$3.Name)})})}}};var _default$8=oneOf$2.default=def$5;const oneOf$1=_mergeNamespaces({__proto__:null,default:_default$8},[oneOf$2]);var allOf$1={};Object.defineProperty(allOf$1,"__esModule",{value:!0});const util_1$3=util$8,def$4={keyword:"allOf",schemaType:"array",code(T){const{gen:$,schema:I,it:N}=T;if(!Array.isArray(I))throw new Error("ajv implementation error");const L=$.name("valid");I.forEach((B,H)=>{if((0,util_1$3.alwaysValidSchema)(N,B))return;const z=T.subschema({keyword:"allOf",schemaProp:H},L);T.ok(L),T.mergeEvaluated(z)})}};var _default$7=allOf$1.default=def$4;const allOf=_mergeNamespaces({__proto__:null,default:_default$7},[allOf$1]);var _if$1={};Object.defineProperty(_if$1,"__esModule",{value:!0});const codegen_1$2=codegen,util_1$2=util$8,error$2={message:({params:T})=>(0,codegen_1$2.str)`must match "${T.ifClause}" schema`,params:({params:T})=>(0,codegen_1$2._)`{failingKeyword: ${T.ifClause}}`},def$3={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error$2,code(T){const{gen:$,parentSchema:I,it:N}=T;I.then===void 0&&I.else===void 0&&(0,util_1$2.checkStrictMode)(N,'"if" without "then" and "else" is ignored');const L=hasSchema(N,"then"),B=hasSchema(N,"else");if(!L&&!B)return;const H=$.let("valid",!0),z=$.name("_valid");if(Q(),T.reset(),L&&B){const G=$.let("ifClause");T.setParams({ifClause:G}),$.if(z,te("then",G),te("else",G))}else L?$.if(z,te("then")):$.if((0,codegen_1$2.not)(z),te("else"));T.pass(H,()=>T.error(!0));function Q(){const G=T.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},z);T.mergeEvaluated(G)}function te(G,ie){return()=>{const Re=T.subschema({keyword:G},z);$.assign(H,z),T.mergeValidEvaluated(Re,H),ie?$.assign(ie,(0,codegen_1$2._)`${G}`):T.setParams({ifClause:G})}}}};function hasSchema(T,$){const I=T.schema[$];return I!==void 0&&!(0,util_1$2.alwaysValidSchema)(T,I)}var _default$6=_if$1.default=def$3;const _if=_mergeNamespaces({__proto__:null,default:_default$6},[_if$1]);var thenElse$1={};Object.defineProperty(thenElse$1,"__esModule",{value:!0});const util_1$1=util$8,def$2={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:T,parentSchema:$,it:I}){$.if===void 0&&(0,util_1$1.checkStrictMode)(I,`"${T}" without "if" is ignored`)}};var _default$5=thenElse$1.default=def$2;const thenElse=_mergeNamespaces({__proto__:null,default:_default$5},[thenElse$1]);Object.defineProperty(applicator$1,"__esModule",{value:!0});const additionalItems_1=additionalItems,prefixItems_1=prefixItems,items_1=items,items2020_1=items2020,contains_1=contains,dependencies_1=dependencies$1,propertyNames_1=propertyNames,additionalProperties_1=additionalProperties,properties_1=properties$1,patternProperties_1=patternProperties,not_1=not,anyOf_1=anyOf,oneOf_1=oneOf$1,allOf_1=allOf,if_1=_if,thenElse_1=thenElse;function getApplicator(T=!1){const $=[not_1.default,anyOf_1.default,oneOf_1.default,allOf_1.default,if_1.default,thenElse_1.default,propertyNames_1.default,additionalProperties_1.default,dependencies_1.default,properties_1.default,patternProperties_1.default];return T?$.push(prefixItems_1.default,items2020_1.default):$.push(additionalItems_1.default,items_1.default),$.push(contains_1.default),$}var _default$4=applicator$1.default=getApplicator;const applicator=_mergeNamespaces({__proto__:null,default:_default$4},[applicator$1]);var format$5={},format$4={};Object.defineProperty(format$4,"__esModule",{value:!0});const codegen_1$1=codegen,error$1={message:({schemaCode:T})=>(0,codegen_1$1.str)`must match format "${T}"`,params:({schemaCode:T})=>(0,codegen_1$1._)`{format: ${T}}`},def$1={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error$1,code(T,$){const{gen:I,data:N,$data:L,schema:B,schemaCode:H,it:z}=T,{opts:Q,errSchemaPath:te,schemaEnv:G,self:ie}=z;if(!Q.validateFormats)return;L?Re():$e();function Re(){const Pe=I.scopeValue("formats",{ref:ie.formats,code:Q.code.formats}),Me=I.const("fDef",(0,codegen_1$1._)`${Pe}[${H}]`),Be=I.let("fType"),Ke=I.let("format");I.if((0,codegen_1$1._)`typeof ${Me} == "object" && !(${Me} instanceof RegExp)`,()=>I.assign(Be,(0,codegen_1$1._)`${Me}.type || "string"`).assign(Ke,(0,codegen_1$1._)`${Me}.validate`),()=>I.assign(Be,(0,codegen_1$1._)`"string"`).assign(Ke,Me)),T.fail$data((0,codegen_1$1.or)(Le(),qe()));function Le(){return Q.strictSchema===!1?codegen_1$1.nil:(0,codegen_1$1._)`${H} && !${Ke}`}function qe(){const He=G.$async?(0,codegen_1$1._)`(${Me}.async ? await ${Ke}(${N}) : ${Ke}(${N}))`:(0,codegen_1$1._)`${Ke}(${N})`,Ge=(0,codegen_1$1._)`(typeof ${Ke} == "function" ? ${He} : ${Ke}.test(${N}))`;return(0,codegen_1$1._)`${Ke} && ${Ke} !== true && ${Be} === ${$} && !${Ge}`}}function $e(){const Pe=ie.formats[B];if(!Pe){Le();return}if(Pe===!0)return;const[Me,Be,Ke]=qe(Pe);Me===$&&T.pass(He());function Le(){if(Q.strictSchema===!1){ie.logger.warn(Ge());return}throw new Error(Ge());function Ge(){return`unknown format "${B}" ignored in schema at path "${te}"`}}function qe(Ge){const at=Ge instanceof RegExp?(0,codegen_1$1.regexpCode)(Ge):Q.code.formats?(0,codegen_1$1._)`${Q.code.formats}${(0,codegen_1$1.getProperty)(B)}`:void 0,ot=I.scopeValue("formats",{key:B,ref:Ge,code:at});return typeof Ge=="object"&&!(Ge instanceof RegExp)?[Ge.type||"string",Ge.validate,(0,codegen_1$1._)`${ot}.validate`]:["string",Ge,ot]}function He(){if(typeof Pe=="object"&&!(Pe instanceof RegExp)&&Pe.async){if(!G.$async)throw new Error("async format in sync schema");return(0,codegen_1$1._)`await ${Ke}(${N})`}return typeof Be=="function"?(0,codegen_1$1._)`${Ke}(${N})`:(0,codegen_1$1._)`${Ke}.test(${N})`}}}};var _default$3=format$4.default=def$1;const format$3=_mergeNamespaces({__proto__:null,default:_default$3},[format$4]);Object.defineProperty(format$5,"__esModule",{value:!0});const format_1$1=format$3,format$1=[format_1$1.default];var _default$2=format$5.default=format$1;const format$2=_mergeNamespaces({__proto__:null,default:_default$2},[format$5]);var metadata$1={};Object.defineProperty(metadata$1,"__esModule",{value:!0});var contentVocabulary=metadata$1.contentVocabulary=metadataVocabulary=metadata$1.metadataVocabulary=void 0,metadataVocabulary=metadata$1.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];contentVocabulary=metadata$1.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];const metadata=_mergeNamespaces({__proto__:null,get contentVocabulary(){return contentVocabulary},default:metadata$1,get metadataVocabulary(){return metadataVocabulary}},[metadata$1]);Object.defineProperty(draft7$1,"__esModule",{value:!0});const core_1=core$2,validation_1=validation$1,applicator_1=applicator,format_1=format$2,metadata_1=metadata,draft7Vocabularies=[core_1.default,validation_1.default,(0,applicator_1.default)(),format_1.default,metadata_1.metadataVocabulary,metadata_1.contentVocabulary];var _default$1=draft7$1.default=draft7Vocabularies;const draft7=_mergeNamespaces({__proto__:null,default:_default$1},[draft7$1]);var discriminator$1={},types$5={};(function(T){Object.defineProperty(T,"__esModule",{value:!0}),T.DiscrError=void 0,function($){$.Tag="tag",$.Mapping="mapping"}(T.DiscrError||(T.DiscrError={}))})(types$5);const types$3=getDefaultExportFromCjs$1(types$5),types$4=_mergeNamespaces({__proto__:null,default:types$3},[types$5]);Object.defineProperty(discriminator$1,"__esModule",{value:!0});const codegen_1=codegen,types_1=types$4,compile_1=compile,util_1=util$8,error={message:({params:{discrError:T,tagName:$}})=>T===types_1.DiscrError.Tag?`tag "${$}" must be string`:`value of tag "${$}" must be in oneOf`,params:({params:{discrError:T,tag:$,tagName:I}})=>(0,codegen_1._)`{error: ${T}, tag: ${I}, tagValue: ${$}}`},def={keyword:"discriminator",type:"object",schemaType:"object",error,code(T){const{gen:$,data:I,schema:N,parentSchema:L,it:B}=T,{oneOf:H}=L;if(!B.opts.discriminator)throw new Error("discriminator: requires discriminator option");const z=N.propertyName;if(typeof z!="string")throw new Error("discriminator: requires propertyName");if(N.mapping)throw new Error("discriminator: mapping is not supported");if(!H)throw new Error("discriminator: requires oneOf keyword");const Q=$.let("valid",!1),te=$.const("tag",(0,codegen_1._)`${I}${(0,codegen_1.getProperty)(z)}`);$.if((0,codegen_1._)`typeof ${te} == "string"`,()=>G(),()=>T.error(!1,{discrError:types_1.DiscrError.Tag,tag:te,tagName:z})),T.ok(Q);function G(){const $e=Re();$.if(!1);for(const Pe in $e)$.elseIf((0,codegen_1._)`${te} === ${Pe}`),$.assign(Q,ie($e[Pe]));$.else(),T.error(!1,{discrError:types_1.DiscrError.Mapping,tag:te,tagName:z}),$.endIf()}function ie($e){const Pe=$.name("valid"),Me=T.subschema({keyword:"oneOf",schemaProp:$e},Pe);return T.mergeEvaluated(Me,codegen_1.Name),Pe}function Re(){var $e;const Pe={},Me=Ke(L);let Be=!0;for(let He=0;He<H.length;He++){let Ge=H[He];Ge!=null&&Ge.$ref&&!(0,util_1.schemaHasRulesButRef)(Ge,B.self.RULES)&&(Ge=compile_1.resolveRef.call(B.self,B.schemaEnv.root,B.baseId,Ge==null?void 0:Ge.$ref),Ge instanceof compile_1.SchemaEnv&&(Ge=Ge.schema));const at=($e=Ge==null?void 0:Ge.properties)===null||$e===void 0?void 0:$e[z];if(typeof at!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${z}"`);Be=Be&&(Me||Ke(Ge)),Le(at,He)}if(!Be)throw new Error(`discriminator: "${z}" must be required`);return Pe;function Ke({required:He}){return Array.isArray(He)&&He.includes(z)}function Le(He,Ge){if(He.const)qe(He.const,Ge);else if(He.enum)for(const at of He.enum)qe(at,Ge);else throw new Error(`discriminator: "properties/${z}" must have "const" or "enum"`)}function qe(He,Ge){if(typeof He!="string"||He in Pe)throw new Error(`discriminator: "${z}" values must be unique strings`);Pe[He]=Ge}}}};var _default=discriminator$1.default=def;const discriminator=_mergeNamespaces({__proto__:null,default:_default},[discriminator$1]),$schema="http://json-schema.org/draft-07/schema#",$id="http://json-schema.org/draft-07/schema#",title="Core schema meta-schema",definitions={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type=["object","boolean"],properties={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},require$$3={$schema,$id,title,definitions,type,properties,default:!0};(function(T,$){Object.defineProperty($,"__esModule",{value:!0}),$.MissingRefError=$.ValidationError=$.CodeGen=$.Name=$.nil=$.stringify=$.str=$._=$.KeywordCxt=void 0;const I=core$5,N=draft7,L=discriminator,B=require$$3,H=["/properties"],z="http://json-schema.org/draft-07/schema";class Q extends I.default{_addVocabularies(){super._addVocabularies(),N.default.forEach(Pe=>this.addVocabulary(Pe)),this.opts.discriminator&&this.addKeyword(L.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const Pe=this.opts.$data?this.$dataMetaSchema(B,H):B;this.addMetaSchema(Pe,z,!1),this.refs["http://json-schema.org/schema"]=z}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(z)?z:void 0)}}T.exports=$=Q,Object.defineProperty($,"__esModule",{value:!0}),$.default=Q;var te=validate;Object.defineProperty($,"KeywordCxt",{enumerable:!0,get:function(){return te.KeywordCxt}});var G=codegen;Object.defineProperty($,"_",{enumerable:!0,get:function(){return G._}}),Object.defineProperty($,"str",{enumerable:!0,get:function(){return G.str}}),Object.defineProperty($,"stringify",{enumerable:!0,get:function(){return G.stringify}}),Object.defineProperty($,"nil",{enumerable:!0,get:function(){return G.nil}}),Object.defineProperty($,"Name",{enumerable:!0,get:function(){return G.Name}}),Object.defineProperty($,"CodeGen",{enumerable:!0,get:function(){return G.CodeGen}});var ie=validation_error;Object.defineProperty($,"ValidationError",{enumerable:!0,get:function(){return ie.default}});var Re=ref_error;Object.defineProperty($,"MissingRefError",{enumerable:!0,get:function(){return Re.default}})})(ajv,ajv.exports);var ajvExports=ajv.exports;const Ajv=getDefaultExportFromCjs$1(ajvExports);class Rfq extends Message{constructor(I,N,L,B){super(I,N,L);Dr(this,"validNext",new Set(["quote","close"]));Dr(this,"kind","rfq");Dr(this,"metadata");Dr(this,"data");Dr(this,"privateData");this.metadata=I,this.data=N,this.privateData=B}static async parse(I,N){const L=Parser.rawToMessageModel(I),B=new Rfq(L.metadata,L.data,L.signature,L.privateData);return await B.verify(),N!=null&&N.requireAllPrivateData?B.verifyAllPrivateData():B.verifyPresentPrivateData(),B}validate(){super.validate(),this.privateData!==void 0&&validate$5(this.privateData,"rfqPrivate")}static create(I){const N=Message.generateId("rfq"),L={...I.metadata,kind:"rfq",id:N,exchangeId:N,createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},{data:B,privateData:H}=Rfq.hashPrivateData(I.data),z=new Rfq(L,B,void 0,H);return z.validateData(),z}static hashPrivateData(I){const N=Convert$4.uint8Array(randomBytes(16)).toBase64Url(),{claims:L,payin:B,payout:H,...z}=I,{paymentDetails:Q,...te}=B,{paymentDetails:G,...ie}=H,Re={...z,payin:te,payout:ie};return Q!==void 0&&(Re.payin.paymentDetailsHash=Rfq.digestPrivateData(N,Q)),G!==void 0&&(Re.payout.paymentDetailsHash=Rfq.digestPrivateData(N,G)),L!==void 0&&(L==null?void 0:L.length)>0&&(Re.claimsHash=Rfq.digestPrivateData(N,L)),{data:Re,privateData:{salt:N,payin:{paymentDetails:Q},payout:{paymentDetails:G},claims:L}}}verifyAllPrivateData(){if(this.privateData===void 0)throw new Error("Could not verify all privateData because privateData property is missing");this.data.payin.paymentDetailsHash!==void 0&&this.verifyPayinDetailsHash(),this.data.payout.paymentDetailsHash!==void 0&&this.verifyPayoutDetailsHash(),this.data.claimsHash!==void 0&&this.verifyClaimsHash()}verifyPresentPrivateData(){var I,N,L,B,H;this.data.payin.paymentDetailsHash!==void 0&&((N=(I=this.privateData)==null?void 0:I.payin)==null?void 0:N.paymentDetails)!==void 0&&this.verifyPayinDetailsHash(),this.data.payout.paymentDetailsHash!==void 0&&((B=(L=this.privateData)==null?void 0:L.payout)==null?void 0:B.paymentDetails)!==void 0&&this.verifyPayoutDetailsHash(),this.data.claimsHash!==void 0&&((H=this.privateData)==null?void 0:H.claims)!==void 0&&this.verifyClaimsHash()}verifyPayinDetailsHash(){var N,L;if(Rfq.digestPrivateData(this.privateData.salt,(L=(N=this.privateData)==null?void 0:N.payin)==null?void 0:L.paymentDetails)!==this.data.payin.paymentDetailsHash)throw new Error("Private data integrity check failed: data.payin.paymentDetailsHash does not match digest of privateData.payin.paymentDetails")}verifyPayoutDetailsHash(){var N,L;if(Rfq.digestPrivateData(this.privateData.salt,(L=(N=this.privateData)==null?void 0:N.payout)==null?void 0:L.paymentDetails)!==this.data.payout.paymentDetailsHash)throw new Error("Private data integrity check failed: data.payout.paymentDetailsHash does not match digest of privateData.payout.paymentDetails")}verifyClaimsHash(){var B;const I=this.data.claimsHash,N=(B=this.privateData)==null?void 0:B.claims;if(Rfq.digestPrivateData(this.privateData.salt,N)!==I)throw new Error("Private data integrity check failed: data.claimsHash does not match digest of privateData.claims")}static digestPrivateData(I,N){const L=[I,N],B=Crypto.digest(L);return Convert$4.uint8Array(B).toBase64Url()}async verifyOfferingRequirements(I){var L,B,H,z;if(I.metadata.protocol!==this.metadata.protocol)throw new Error(`protocol version mismatch. (rfq) ${this.metadata.protocol} !== ${I.metadata.protocol} (offering)`);if(I.metadata.id!==this.data.offeringId)throw new Error(`offering id mismatch. (rfq) ${this.data.offeringId} !== ${I.metadata.id} (offering)`);let N;if(I.data.payin.max){N=BigNumber(this.data.payin.amount);const Q=BigNumber(I.data.payin.max);if(N.isGreaterThan(Q))throw new Error(`rfq payinAmount exceeds offering's maxAmount. (rfq) ${this.data.payin.amount} > ${I.data.payin.max} (offering)`)}if(I.data.payin.min){N??(N=BigNumber(this.data.payin.amount));const Q=BigNumber(I.data.payin.min);if(N.isLessThan(Q))throw new Error(`rfq payinAmount is below offering's minAmount. (rfq) ${this.data.payin.amount} > ${I.data.payin.min} (offering)`)}this.verifyPaymentMethod(this.data.payin.kind,this.data.payin.paymentDetailsHash,(B=(L=this.privateData)==null?void 0:L.payin)==null?void 0:B.paymentDetails,I.data.payin.methods,"payin"),this.verifyPaymentMethod(this.data.payout.kind,this.data.payout.paymentDetailsHash,(z=(H=this.privateData)==null?void 0:H.payout)==null?void 0:z.paymentDetails,I.data.payout.methods,"payout"),await this.verifyClaims(I)}verifyPaymentMethod(I,N,L,B,H){const z=B.filter(G=>G.kind===I);if(!z.length){const G=B.map(ie=>ie.kind).join(", ");throw new Error(`offering does not support rfq's ${H}Method kind. (rfq) ${I} was not found in: [${G}] (offering)`)}const Q=new Ajv.default,te=new Set;for(const G of z)if(G.requiredPaymentDetails){const ie=Q.compile(G.requiredPaymentDetails);if(ie(L))return;te.add(ie.errors)}else{if(N===void 0)return;te.add(new Error("paymentDetails must be omitted when requiredPaymentDetails is omitted"))}throw new Error(`rfq ${H}Method paymentDetails could not be validated against offering requiredPaymentDetails. Schema validation errors: ${Array.from(te).join()}`)}async verifyClaims(I){var L;if(!I.data.requiredClaims)return;const N=PresentationExchange.selectCredentials({vcJwts:((L=this.privateData)==null?void 0:L.claims)??[],presentationDefinition:I.data.requiredClaims});if(N.length===0)throw new Error("claims do not fulfill the offering's requirements");for(let B of N)await VerifiableCredential.verify({vcJwt:B})}toJSON(){const I=super.toJSON();return this.privateData!==void 0&&(I.privateData=this.privateData),I}}class Quote extends Message{constructor(I,N,L){super(I,N,L);Dr(this,"validNext",new Set(["order","close"]));Dr(this,"kind","quote");Dr(this,"metadata");Dr(this,"data");this.metadata=I,this.data=N}static async parse(I){const N=Parser.rawToMessageModel(I),L=new Quote(N.metadata,N.data,N.signature);return await L.verify(),L}static create(I){const N={...I.metadata,kind:"quote",id:Message.generateId("quote"),createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},L=new Quote(N,I.data);return L.validateData(),L}}class Order extends Message{constructor(I,N,L){super(I,N,L);Dr(this,"validNext",new Set(["orderstatus"]));Dr(this,"kind","order");Dr(this,"metadata");Dr(this,"data");this.metadata=I,this.data=N}static async parse(I){const N=Parser.rawToMessageModel(I),L=new Order(N.metadata,N.data,N.signature);return await L.verify(),L}static create(I){const N={...I.metadata,kind:"order",id:Message.generateId("order"),createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},L=new Order(N,{});return L.validateData(),L}}class OrderStatus extends Message{constructor(I,N,L){super(I,N,L);Dr(this,"validNext",new Set(["orderstatus","close"]));Dr(this,"kind","orderstatus");Dr(this,"metadata");Dr(this,"data");this.metadata=I,this.data=N}static async parse(I){const N=Parser.rawToMessageModel(I),L=new OrderStatus(N.metadata,N.data,N.signature);return await L.verify(),L}static create(I){const N={...I.metadata,kind:"orderstatus",id:Message.generateId("orderstatus"),createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},L=new OrderStatus(N,I.data);return L.validateData(),L}get orderStatus(){return this.data.orderStatus}}let Close$1=class wu extends Message{constructor(I,N,L){super(I,N,L);Dr(this,"validNext",new Set([]));Dr(this,"kind","close");Dr(this,"metadata");Dr(this,"data");this.metadata=I,this.data=N}static async parse(I){const N=Parser.rawToMessageModel(I),L=new wu(N.metadata,N.data,N.signature);return await L.verify(),L}static create(I){const N={...I.metadata,kind:"close",id:Message.generateId("close"),createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},L=new wu(N,I.data);return L.validateData(),L}get reason(){return this.data.reason}};class Parser{constructor(){}static async parseMessage($){const I=Parser.rawToMessageModel($);let N;switch(I.metadata.kind){case"rfq":N=new Rfq(I.metadata,I.data,I.signature,I.privateData);break;case"quote":N=new Quote(I.metadata,I.data,I.signature);break;case"order":N=new Order(I.metadata,I.data,I.signature);break;case"orderstatus":N=new OrderStatus(I.metadata,I.data,I.signature);break;case"close":N=new Close$1(I.metadata,I.data,I.signature);break;default:throw new Error(`Unrecognized message kind (${I.metadata.kind})`)}return await N.verify(),N}static async parseResource($){const I=Parser.rawToResourceModel($);let N;switch(I.metadata.kind){case"offering":N=new Offering(I.metadata,I.data,I.signature);break;case"balance":N=new Balance(I.metadata,I.data,I.signature);break;default:throw new Error(`Unrecognized resource kind (${I.metadata.kind})`)}return await N.verify(),N}static rawToMessageModel($){try{return typeof $=="string"?JSON.parse($):$}catch(I){const N=I instanceof Error?I.message:I;throw new Error(`parse: Failed to parse message. Error: ${N}`)}}static rawToResourceModel($){try{return typeof $=="string"?JSON.parse($):$}catch(I){const N=I instanceof Error?I.message:I;throw new Error(`parse: Failed to parse resource. Error: ${N}`)}}}class Offering extends Resource{constructor(I,N,L){super(I,N,L);Dr(this,"kind","offering");Dr(this,"metadata");Dr(this,"data");this.metadata=I,this.data=N}static async parse(I){const N=Parser.rawToResourceModel(I),L=new Offering(N.metadata,N.data,N.signature);return await L.verify(),L}static create(I){const N={...I.metadata,kind:"offering",id:Resource.generateId("offering"),createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},L=new Offering(N,I.data);return L.validateData(),L}}class Balance extends Resource{constructor(I,N,L){super(I,N,L);Dr(this,"kind","balance");Dr(this,"metadata");Dr(this,"data");this.metadata=I,this.data=N}static async parse(I){const N=Parser.rawToResourceModel(I),L=new Balance(N.metadata,N.data,N.signature);return await L.verify(),L}static create(I){const N={...I.metadata,kind:"balance",id:Resource.generateId("balance"),createdAt:new Date().toISOString(),protocol:I.metadata.protocol??"1.0"},L=new Balance(N,I.data);return L.validateData(),L}}class RequestError extends Error{constructor(I){super(I.message,{cause:I.cause});Dr(this,"recipientDid");Dr(this,"url");this.name=this.constructor.name,this.recipientDid=I.recipientDid,this.url=I.url}}class ResponseError extends Error{constructor(I){super();Dr(this,"statusCode");Dr(this,"details");Dr(this,"recipientDid");Dr(this,"url");this.name=this.constructor.name,this.statusCode=I.statusCode,this.details=I.details,this.recipientDid=I.recipientDid,this.url=I.url}}class ValidationError extends Error{constructor($){super($),this.name=this.constructor.name}}class InvalidDidError extends ValidationError{}class MissingServiceEndpointError extends ValidationError{}class RequestTokenError extends Error{constructor($){super($.message,{cause:$.cause}),this.name=this.constructor.name}}class RequestTokenSigningError extends RequestTokenError{}class RequestTokenVerificationError extends RequestTokenError{}class RequestTokenMissingClaimsError extends RequestTokenError{}class RequestTokenAudienceMismatchError extends RequestTokenError{}class RequestTokenIssuerSignerMismatchError extends RequestTokenError{}var DidVerificationRelationship;(function(T){T.authentication="authentication",T.assertionMethod="assertionMethod",T.keyAgreement="keyAgreement",T.capabilityInvocation="capabilityInvocation",T.capabilityDelegation="capabilityDelegation"})(DidVerificationRelationship||(DidVerificationRelationship={}));var DidErrorCode;(function(T){T.InvalidDid="invalidDid",T.MethodNotSupported="methodNotSupported",T.InternalError="internalError",T.InvalidDidDocument="invalidDidDocument",T.InvalidDidDocumentLength="invalidDidDocumentLength",T.InvalidDidUrl="invalidDidUrl",T.InvalidPreviousDidProof="invalidPreviousDidProof",T.InvalidPublicKey="invalidPublicKey",T.InvalidPublicKeyLength="invalidPublicKeyLength",T.InvalidPublicKeyType="invalidPublicKeyType",T.InvalidSignature="invalidSignature",T.NotFound="notFound",T.RepresentationNotSupported="representationNotSupported",T.UnsupportedPublicKeyType="unsupportedPublicKeyType"})(DidErrorCode||(DidErrorCode={}));function base$4(T,$){if(T.length>=255)throw new TypeError("Alphabet too long");for(var I=new Uint8Array(256),N=0;N<I.length;N++)I[N]=255;for(var L=0;L<T.length;L++){var B=T.charAt(L),H=B.charCodeAt(0);if(I[H]!==255)throw new TypeError(B+" is ambiguous");I[H]=L}var z=T.length,Q=T.charAt(0),te=Math.log(z)/Math.log(256),G=Math.log(256)/Math.log(z);function ie(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Pe.length===0)return"";for(var Me=0,Be=0,Ke=0,Le=Pe.length;Ke!==Le&&Pe[Ke]===0;)Ke++,Me++;for(var qe=(Le-Ke)*G+1>>>0,He=new Uint8Array(qe);Ke!==Le;){for(var Ge=Pe[Ke],at=0,ot=qe-1;(Ge!==0||at<Be)&&ot!==-1;ot--,at++)Ge+=256*He[ot]>>>0,He[ot]=Ge%z>>>0,Ge=Ge/z>>>0;if(Ge!==0)throw new Error("Non-zero carry");Be=at,Ke++}for(var Ye=qe-Be;Ye!==qe&&He[Ye]===0;)Ye++;for(var nt=Q.repeat(Me);Ye<qe;++Ye)nt+=T.charAt(He[Ye]);return nt}function Re(Pe){if(typeof Pe!="string")throw new TypeError("Expected String");if(Pe.length===0)return new Uint8Array;var Me=0;if(Pe[Me]!==" "){for(var Be=0,Ke=0;Pe[Me]===Q;)Be++,Me++;for(var Le=(Pe.length-Me)*te+1>>>0,qe=new Uint8Array(Le);Pe[Me];){var He=I[Pe.charCodeAt(Me)];if(He===255)return;for(var Ge=0,at=Le-1;(He!==0||Ge<Ke)&&at!==-1;at--,Ge++)He+=z*qe[at]>>>0,qe[at]=He%256>>>0,He=He/256>>>0;if(He!==0)throw new Error("Non-zero carry");Ke=Ge,Me++}if(Pe[Me]!==" "){for(var ot=Le-Ke;ot!==Le&&qe[ot]===0;)ot++;for(var Ye=new Uint8Array(Be+(Le-ot)),nt=Be;ot!==Le;)Ye[nt++]=qe[ot++];return Ye}}}function $e(Pe){var Me=Re(Pe);if(Me)return Me;throw new Error(`Non-${$} character`)}return{encode:ie,decodeUnsafe:Re,decode:$e}}var src=base$4,_brrp__multiformats_scope_baseX=src;const coerce=T=>{if(T instanceof Uint8Array&&T.constructor.name==="Uint8Array")return T;if(T instanceof ArrayBuffer)return new Uint8Array(T);if(ArrayBuffer.isView(T))return new Uint8Array(T.buffer,T.byteOffset,T.byteLength);throw new Error("Unknown type, must be binary type")};class Encoder{constructor($,I,N){this.name=$,this.prefix=I,this.baseEncode=N}encode($){if($ instanceof Uint8Array)return`${this.prefix}${this.baseEncode($)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor($,I,N){if(this.name=$,this.prefix=I,I.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=I.codePointAt(0),this.baseDecode=N}decode($){if(typeof $=="string"){if($.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify($)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode($.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or($){return or(this,$)}}class ComposedDecoder{constructor($){this.decoders=$}or($){return or(this,$)}decode($){const I=$[0],N=this.decoders[I];if(N)return N.decode($);throw RangeError(`Unable to decode multibase string ${JSON.stringify($)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(T,$)=>new ComposedDecoder({...T.decoders||{[T.prefix]:T},...$.decoders||{[$.prefix]:$}});class Codec{constructor($,I,N,L){this.name=$,this.prefix=I,this.baseEncode=N,this.baseDecode=L,this.encoder=new Encoder($,I,N),this.decoder=new Decoder($,I,L)}encode($){return this.encoder.encode($)}decode($){return this.decoder.decode($)}}const from$3=({name:T,prefix:$,encode:I,decode:N})=>new Codec(T,$,I,N),baseX=({prefix:T,name:$,alphabet:I})=>{const{encode:N,decode:L}=_brrp__multiformats_scope_baseX(I,$);return from$3({prefix:T,name:$,encode:N,decode:B=>coerce(L(B))})},decode$4=(T,$,I,N)=>{const L={};for(let G=0;G<$.length;++G)L[$[G]]=G;let B=T.length;for(;T[B-1]==="=";)--B;const H=new Uint8Array(B*I/8|0);let z=0,Q=0,te=0;for(let G=0;G<B;++G){const ie=L[T[G]];if(ie===void 0)throw new SyntaxError(`Non-${N} character`);Q=Q<<I|ie,z+=I,z>=8&&(z-=8,H[te++]=255&Q>>z)}if(z>=I||255&Q<<8-z)throw new SyntaxError("Unexpected end of data");return H},encode$2=(T,$,I)=>{const N=$[$.length-1]==="=",L=(1<<I)-1;let B="",H=0,z=0;for(let Q=0;Q<T.length;++Q)for(z=z<<8|T[Q],H+=8;H>I;)H-=I,B+=$[L&z>>H];if(H&&(B+=$[L&z<<I-H]),N)for(;B.length*I&7;)B+="=";return B},rfc4648=({name:T,prefix:$,bitsPerChar:I,alphabet:N})=>from$3({prefix:$,name:T,encode(L){return encode$2(L,N,I)},decode(L){return decode$4(L,N,I,T)}});rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});new TextEncoder;new TextDecoder;var encode_1=encode$1,MSB=128,MSBALL=-128,INT=Math.pow(2,31);function encode$1(T,$,I){$=$||[],I=I||0;for(var N=I;T>=INT;)$[I++]=T&255|MSB,T/=128;for(;T&MSBALL;)$[I++]=T&255|MSB,T>>>=7;return $[I]=T|0,encode$1.bytes=I-N+1,$}var decode$3=read,MSB$1=128,REST$1=127;function read(T,N){var I=0,N=N||0,L=0,B=N,H,z=T.length;do{if(B>=z)throw read.bytes=0,new RangeError("Could not decode varint");H=T[B++],I+=L<28?(H&REST$1)<<L:(H&REST$1)*Math.pow(2,L),L+=7}while(H>=MSB$1);return read.bytes=B-N,I}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(T){return T<N1?1:T<N2?2:T<N3?3:T<N4?4:T<N5?5:T<N6?6:T<N7?7:T<N8?8:T<N9?9:10},varint={encode:encode_1,decode:decode$3,encodingLength:length},_brrp_varint=varint;const decode$2=(T,$=0)=>[_brrp_varint.decode(T,$),_brrp_varint.decode.bytes],encodeTo=(T,$,I=0)=>(_brrp_varint.encode(T,$,I),$),encodingLength=T=>_brrp_varint.encodingLength(T);class Multicodec{static addPrefix($){var I;let{code:N,data:L,name:B}=$;if(!(B?!N:N))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(N=Multicodec.codeToName.has(N)?N:Multicodec.nameToCode.get(B),N===void 0)throw new Error(`Unsupported multicodec: ${(I=$.name)!==null&&I!==void 0?I:$.code}`);const H=encodingLength(N),z=new Uint8Array(H+L.byteLength);return z.set(L,H),encodeTo(N,z),z}static getCodeFromData($){const{prefixedData:I}=$,[N,L]=decode$2(I);return N}static getCodeFromName($){const{name:I}=$,N=Multicodec.nameToCode.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static getNameFromCode($){const{code:I}=$,N=Multicodec.codeToName.get(I);if(N===void 0)throw new Error(`Unsupported multicodec: ${I}`);return N}static registerCodec($){Multicodec.codeToName.set($.code,$.name),Multicodec.nameToCode.set($.name,$.code)}static removePrefix($){const{prefixedData:I}=$,[N,L]=decode$2(I),B=Multicodec.codeToName.get(N);if(B===void 0)throw new Error(`Unsupported multicodec: ${N}`);return{code:N,data:I.slice(L),name:B}}}Multicodec.codeToName=new Map;Multicodec.nameToCode=new Map;Multicodec.registerCodec({code:237,name:"ed25519-pub"});Multicodec.registerCodec({code:4864,name:"ed25519-priv"});Multicodec.registerCodec({code:236,name:"x25519-pub"});Multicodec.registerCodec({code:4866,name:"x25519-priv"});Multicodec.registerCodec({code:231,name:"secp256k1-pub"});Multicodec.registerCodec({code:4865,name:"secp256k1-priv"});var browser$h={exports:{}},stream={exports:{}},primordials={ArrayIsArray(T){return Array.isArray(T)},ArrayPrototypeIncludes(T,$){return T.includes($)},ArrayPrototypeIndexOf(T,$){return T.indexOf($)},ArrayPrototypeJoin(T,$){return T.join($)},ArrayPrototypeMap(T,$){return T.map($)},ArrayPrototypePop(T,$){return T.pop($)},ArrayPrototypePush(T,$){return T.push($)},ArrayPrototypeSlice(T,$,I){return T.slice($,I)},Error,FunctionPrototypeCall(T,$,...I){return T.call($,...I)},FunctionPrototypeSymbolHasInstance(T,$){return Function.prototype[Symbol.hasInstance].call(T,$)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(T,$){return Object.defineProperties(T,$)},ObjectDefineProperty(T,$,I){return Object.defineProperty(T,$,I)},ObjectGetOwnPropertyDescriptor(T,$){return Object.getOwnPropertyDescriptor(T,$)},ObjectKeys(T){return Object.keys(T)},ObjectSetPrototypeOf(T,$){return Object.setPrototypeOf(T,$)},Promise,PromisePrototypeCatch(T,$){return T.catch($)},PromisePrototypeThen(T,$,I){return T.then($,I)},PromiseReject(T){return Promise.reject(T)},ReflectApply:Reflect.apply,RegExpPrototypeTest(T,$){return T.test($)},SafeSet:Set,String,StringPrototypeSlice(T,$,I){return T.slice($,I)},StringPrototypeToLowerCase(T){return T.toLowerCase()},StringPrototypeToUpperCase(T){return T.toUpperCase()},StringPrototypeTrim(T){return T.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(T,$,I){return T.set($,I)},Uint8Array};const primordials$1=getDefaultExportFromCjs$1(primordials),primordials$2=_mergeNamespaces({__proto__:null,default:primordials$1},[primordials]);var util$6={exports:{}};(function(T){const $=dist$5,I=Object.getPrototypeOf(async function(){}).constructor,N=globalThis.Blob||$.Blob,L=typeof N<"u"?function(z){return z instanceof N}:function(z){return!1};class B extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError(`Expected input to be an Array, got ${typeof z}`);let Q="";for(let te=0;te<z.length;te++)Q+=`    ${z[te].stack}
`;super(Q),this.name="AggregateError",this.errors=z}}T.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(H){let z=!1;return function(...Q){z||(z=!0,H.apply(this,Q))}},createDeferredPromise:function(){let H,z;return{promise:new Promise((te,G)=>{H=te,z=G}),resolve:H,reject:z}},promisify(H){return new Promise((z,Q)=>{H((te,...G)=>te?Q(te):z(...G))})},debuglog(){return function(){}},format(H,...z){return H.replace(/%([sdifj])/g,function(...[Q,te]){const G=z.shift();return te==="f"?G.toFixed(6):te==="j"?JSON.stringify(G):te==="s"&&typeof G=="object"?`${G.constructor!==Object?G.constructor.name:""} {}`.trim():G.toString()})},inspect(H){switch(typeof H){case"string":if(H.includes("'"))if(H.includes('"')){if(!H.includes("`")&&!H.includes("${"))return`\`${H}\``}else return`"${H}"`;return`'${H}'`;case"number":return isNaN(H)?"NaN":Object.is(H,-0)?String(H):H;case"bigint":return`${String(H)}n`;case"boolean":case"undefined":return String(H);case"object":return"{}"}},types:{isAsyncFunction(H){return H instanceof I},isArrayBufferView(H){return ArrayBuffer.isView(H)}},isBlob:L},T.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$6);var utilExports=util$6.exports;const util$4=getDefaultExportFromCjs$1(utilExports),util$5=_mergeNamespaces({__proto__:null,default:util$4},[utilExports]);var operators$1={};const{format,inspect:inspect$1,AggregateError:CustomAggregateError}=util$5,AggregateError$1=globalThis.AggregateError||CustomAggregateError,kIsNodeError=Symbol("kIsNodeError"),kTypes=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix="__node_internal_",codes$2={};function assert$f(T,$){if(!T)throw new codes$2.ERR_INTERNAL_ASSERTION($)}function addNumericalSeparator(T){let $="",I=T.length;const N=T[0]==="-"?1:0;for(;I>=N+4;I-=3)$=`_${T.slice(I-3,I)}${$}`;return`${T.slice(0,I)}${$}`}function getMessage(T,$,I){if(typeof $=="function")return assert$f($.length<=I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${$.length}).`),$(...I);const N=($.match(/%[dfijoOs]/g)||[]).length;return assert$f(N===I.length,`Code: ${T}; The provided arguments length (${I.length}) does not match the required ones (${N}).`),I.length===0?$:format($,...I)}function E(T,$,I){I||(I=Error);class N extends I{constructor(...B){super(getMessage(T,$,B))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=T,N.prototype[kIsNodeError]=!0,codes$2[T]=N}function hideStackFrames$1(T){const $=nodeInternalPrefix+T.name;return Object.defineProperty(T,"name",{value:$}),T}function aggregateTwoErrors$2(T,$){if(T&&$&&T!==$){if(Array.isArray($.errors))return $.errors.push(T),$;const I=new AggregateError$1([$,T],$.message);return I.code=$.code,I}return T||$}let AbortError$6=class extends Error{constructor($="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new codes$2.ERR_INVALID_ARG_TYPE("options","Object",I);super($,I),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error);E("ERR_INVALID_ARG_TYPE",(T,$,I)=>{assert$f(typeof T=="string","'name' must be a string"),Array.isArray($)||($=[$]);let N="The ";T.endsWith(" argument")?N+=`${T} `:N+=`"${T}" ${T.includes(".")?"property":"argument"} `,N+="must be ";const L=[],B=[],H=[];for(const Q of $)assert$f(typeof Q=="string","All expected entries have to be of type string"),kTypes.includes(Q)?L.push(Q.toLowerCase()):classRegExp.test(Q)?B.push(Q):(assert$f(Q!=="object",'The value "object" should be written as "Object"'),H.push(Q));if(B.length>0){const Q=L.indexOf("object");Q!==-1&&(L.splice(L,Q,1),B.push("Object"))}if(L.length>0){switch(L.length){case 1:N+=`of type ${L[0]}`;break;case 2:N+=`one of type ${L[0]} or ${L[1]}`;break;default:{const Q=L.pop();N+=`one of type ${L.join(", ")}, or ${Q}`}}(B.length>0||H.length>0)&&(N+=" or ")}if(B.length>0){switch(B.length){case 1:N+=`an instance of ${B[0]}`;break;case 2:N+=`an instance of ${B[0]} or ${B[1]}`;break;default:{const Q=B.pop();N+=`an instance of ${B.join(", ")}, or ${Q}`}}H.length>0&&(N+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(N+="an "),N+=`${H[0]}`;break;case 2:N+=`one of ${H[0]} or ${H[1]}`;break;default:{const Q=H.pop();N+=`one of ${H.join(", ")}, or ${Q}`}}if(I==null)N+=`. Received ${I}`;else if(typeof I=="function"&&I.name)N+=`. Received function ${I.name}`;else if(typeof I=="object"){var z;if((z=I.constructor)!==null&&z!==void 0&&z.name)N+=`. Received an instance of ${I.constructor.name}`;else{const Q=inspect$1(I,{depth:-1});N+=`. Received ${Q}`}}else{let Q=inspect$1(I,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),N+=`. Received type ${typeof I} (${Q})`}return N},TypeError);E("ERR_INVALID_ARG_VALUE",(T,$,I="is invalid")=>{let N=inspect$1($);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${I}. Received ${N}`},TypeError);E("ERR_INVALID_RETURN_VALUE",(T,$,I)=>{var N;const L=I!=null&&(N=I.constructor)!==null&&N!==void 0&&N.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${T} to be returned from the "${$}" function but got ${L}.`},TypeError);E("ERR_MISSING_ARGS",(...T)=>{assert$f(T.length>0,"At least one arg needs to be specified");let $;const I=T.length;switch(T=(Array.isArray(T)?T:[T]).map(N=>`"${N}"`).join(" or "),I){case 1:$+=`The ${T[0]} argument`;break;case 2:$+=`The ${T[0]} and ${T[1]} arguments`;break;default:{const N=T.pop();$+=`The ${T.join(", ")}, and ${N} arguments`}break}return`${$} must be specified`},TypeError);E("ERR_OUT_OF_RANGE",(T,$,I)=>{assert$f($,'Missing "range" argument');let N;return Number.isInteger(I)&&Math.abs(I)>2**32?N=addNumericalSeparator(String(I)):typeof I=="bigint"?(N=String(I),(I>2n**32n||I<-(2n**32n))&&(N=addNumericalSeparator(N)),N+="n"):N=inspect$1(I),`The value of "${T}" is out of range. It must be ${$}. Received ${N}`},RangeError);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors={AbortError:AbortError$6,aggregateTwoErrors:hideStackFrames$1(aggregateTwoErrors$2),hideStackFrames:hideStackFrames$1,codes:codes$2};const errors$1=getDefaultExportFromCjs$1(errors),errors$2=_mergeNamespaces({__proto__:null,default:errors$1},[errors]),{ArrayIsArray:ArrayIsArray$2,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,NumberIsInteger:NumberIsInteger$1,NumberIsNaN:NumberIsNaN$1,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,NumberParseInt,ObjectPrototypeHasOwnProperty,RegExpPrototypeExec,String:String$1,StringPrototypeToUpperCase,StringPrototypeTrim}=primordials$2,{hideStackFrames,codes:{ERR_SOCKET_BAD_PORT,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$5,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$3,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$1,ERR_UNKNOWN_SIGNAL}}=errors$2,{normalizeEncoding}=util$5,{isAsyncFunction,isArrayBufferView}=util$5.types,signals={};function isInt32(T){return T===(T|0)}function isUint32(T){return T===T>>>0}const octalReg=/^[0-7]+$/,modeDesc="must be a 32-bit unsigned integer or an octal string";function parseFileMode(T,$,I){if(typeof T>"u"&&(T=I),typeof T=="string"){if(RegExpPrototypeExec(octalReg,T)===null)throw new ERR_INVALID_ARG_VALUE$3($,T,modeDesc);T=NumberParseInt(T,8)}return validateUint32(T,$),T}const validateInteger$1=hideStackFrames((T,$,I=NumberMIN_SAFE_INTEGER,N=NumberMAX_SAFE_INTEGER)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$5($,"number",T);if(!NumberIsInteger$1(T))throw new ERR_OUT_OF_RANGE$1($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$1($,`>= ${I} && <= ${N}`,T)}),validateInt32=hideStackFrames((T,$,I=-2147483648,N=2147483647)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$5($,"number",T);if(!NumberIsInteger$1(T))throw new ERR_OUT_OF_RANGE$1($,"an integer",T);if(T<I||T>N)throw new ERR_OUT_OF_RANGE$1($,`>= ${I} && <= ${N}`,T)}),validateUint32=hideStackFrames((T,$,I=!1)=>{if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$5($,"number",T);if(!NumberIsInteger$1(T))throw new ERR_OUT_OF_RANGE$1($,"an integer",T);const N=I?1:0,L=4294967295;if(T<N||T>L)throw new ERR_OUT_OF_RANGE$1($,`>= ${N} && <= ${L}`,T)});function validateString(T,$){if(typeof T!="string")throw new ERR_INVALID_ARG_TYPE$5($,"string",T)}function validateNumber(T,$,I=void 0,N){if(typeof T!="number")throw new ERR_INVALID_ARG_TYPE$5($,"number",T);if(I!=null&&T<I||N!=null&&T>N||(I!=null||N!=null)&&NumberIsNaN$1(T))throw new ERR_OUT_OF_RANGE$1($,`${I!=null?`>= ${I}`:""}${I!=null&&N!=null?" && ":""}${N!=null?`<= ${N}`:""}`,T)}const validateOneOf=hideStackFrames((T,$,I)=>{if(!ArrayPrototypeIncludes(I,T)){const L="must be one of: "+ArrayPrototypeJoin(ArrayPrototypeMap(I,B=>typeof B=="string"?`'${B}'`:String$1(B)),", ");throw new ERR_INVALID_ARG_VALUE$3($,T,L)}});function validateBoolean$1(T,$){if(typeof T!="boolean")throw new ERR_INVALID_ARG_TYPE$5($,"boolean",T)}function getOwnPropertyValueOrDefault(T,$,I){return T==null||!ObjectPrototypeHasOwnProperty(T,$)?I:T[$]}const validateObject$2=hideStackFrames((T,$,I=null)=>{const N=getOwnPropertyValueOrDefault(I,"allowArray",!1),L=getOwnPropertyValueOrDefault(I,"allowFunction",!1);if(!getOwnPropertyValueOrDefault(I,"nullable",!1)&&T===null||!N&&ArrayIsArray$2(T)||typeof T!="object"&&(!L||typeof T!="function"))throw new ERR_INVALID_ARG_TYPE$5($,"Object",T)}),validateDictionary=hideStackFrames((T,$)=>{if(T!=null&&typeof T!="object"&&typeof T!="function")throw new ERR_INVALID_ARG_TYPE$5($,"a dictionary",T)}),validateArray=hideStackFrames((T,$,I=0)=>{if(!ArrayIsArray$2(T))throw new ERR_INVALID_ARG_TYPE$5($,"Array",T);if(T.length<I){const N=`must be longer than ${I}`;throw new ERR_INVALID_ARG_VALUE$3($,T,N)}});function validateStringArray(T,$){validateArray(T,$);for(let I=0;I<T.length;I++)validateString(T[I],`${$}[${I}]`)}function validateBooleanArray(T,$){validateArray(T,$);for(let I=0;I<T.length;I++)validateBoolean$1(T[I],`${$}[${I}]`)}function validateSignalName(T,$="signal"){if(validateString(T,$),signals[T]===void 0)throw signals[StringPrototypeToUpperCase(T)]!==void 0?new ERR_UNKNOWN_SIGNAL(T+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL(T)}const validateBuffer=hideStackFrames((T,$="buffer")=>{if(!isArrayBufferView(T))throw new ERR_INVALID_ARG_TYPE$5($,["Buffer","TypedArray","DataView"],T)});function validateEncoding(T,$){const I=normalizeEncoding($),N=T.length;if(I==="hex"&&N%2!==0)throw new ERR_INVALID_ARG_VALUE$3("encoding",$,`is invalid for data of length ${N}`)}function validatePort(T,$="Port",I=!0){if(typeof T!="number"&&typeof T!="string"||typeof T=="string"&&StringPrototypeTrim(T).length===0||+T!==+T>>>0||T>65535||T===0&&!I)throw new ERR_SOCKET_BAD_PORT($,T,I);return T|0}const validateAbortSignal$3=hideStackFrames((T,$)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new ERR_INVALID_ARG_TYPE$5($,"AbortSignal",T)}),validateFunction$2=hideStackFrames((T,$)=>{if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$5($,"Function",T)}),validatePlainFunction=hideStackFrames((T,$)=>{if(typeof T!="function"||isAsyncFunction(T))throw new ERR_INVALID_ARG_TYPE$5($,"Function",T)}),validateUndefined=hideStackFrames((T,$)=>{if(T!==void 0)throw new ERR_INVALID_ARG_TYPE$5($,"undefined",T)});function validateUnion(T,$,I){if(!ArrayPrototypeIncludes(I,T))throw new ERR_INVALID_ARG_TYPE$5($,`('${ArrayPrototypeJoin(I,"|")}')`,T)}const linkValueRegExp=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat(T,$){if(typeof T>"u"||!RegExpPrototypeExec(linkValueRegExp,T))throw new ERR_INVALID_ARG_VALUE$3($,T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue(T){if(typeof T=="string")return validateLinkHeaderFormat(T,"hints"),T;if(ArrayIsArray$2(T)){const $=T.length;let I="";if($===0)return I;for(let N=0;N<$;N++){const L=T[N];validateLinkHeaderFormat(L,"hints"),I+=L,N!==$-1&&(I+=", ")}return I}throw new ERR_INVALID_ARG_VALUE$3("hints",T,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators={isInt32,isUint32,parseFileMode,validateArray,validateStringArray,validateBooleanArray,validateBoolean:validateBoolean$1,validateBuffer,validateDictionary,validateEncoding,validateFunction:validateFunction$2,validateInt32,validateInteger:validateInteger$1,validateNumber,validateObject:validateObject$2,validateOneOf,validatePlainFunction,validatePort,validateSignalName,validateString,validateUint32,validateUndefined,validateUnion,validateAbortSignal:validateAbortSignal$3,validateLinkHeaderValue};const validators$1=getDefaultExportFromCjs$1(validators),validators$2=_mergeNamespaces({__proto__:null,default:validators$1},[validators]);var endOfStream$5={exports:{}};const{Symbol:Symbol$4,SymbolAsyncIterator:SymbolAsyncIterator$2,SymbolIterator:SymbolIterator$2,SymbolFor}=primordials$2,kDestroyed$1=Symbol$4("kDestroyed"),kIsErrored=Symbol$4("kIsErrored"),kIsReadable=Symbol$4("kIsReadable"),kIsDisturbed=Symbol$4("kIsDisturbed"),kIsClosedPromise$1=SymbolFor("nodejs.webstream.isClosedPromise"),kControllerErrorFunction=SymbolFor("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$2(T,$=!1){var I;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!$||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((I=T._readableState)===null||I===void 0?void 0:I.readable)!==!1)&&(!T._writableState||T._readableState))}function isWritableNodeStream$1(T){var $;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||(($=T._writableState)===null||$===void 0?void 0:$.writable)!==!1))}function isDuplexNodeStream(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function isNodeStream$4(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function isReadableStream$3(T){return!!(T&&!isNodeStream$4(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function isWritableStream$2(T){return!!(T&&!isNodeStream$4(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function isTransformStream$2(T){return!!(T&&!isNodeStream$4(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function isWebStream$2(T){return isReadableStream$3(T)||isWritableStream$2(T)||isTransformStream$2(T)}function isIterable$1(T,$){return T==null?!1:$===!0?typeof T[SymbolAsyncIterator$2]=="function":$===!1?typeof T[SymbolIterator$2]=="function":typeof T[SymbolAsyncIterator$2]=="function"||typeof T[SymbolIterator$2]=="function"}function isDestroyed$1(T){if(!isNodeStream$4(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!!(T.destroyed||T[kDestroyed$1]||N!=null&&N.destroyed)}function isWritableEnded(T){if(!isWritableNodeStream$1(T))return null;if(T.writableEnded===!0)return!0;const $=T._writableState;return $!=null&&$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isWritableFinished$1(T,$){if(!isWritableNodeStream$1(T))return null;if(T.writableFinished===!0)return!0;const I=T._writableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.finished)!="boolean"?null:!!(I.finished||$===!1&&I.ended===!0&&I.length===0)}function isReadableEnded$1(T){if(!isReadableNodeStream$2(T))return null;if(T.readableEnded===!0)return!0;const $=T._readableState;return!$||$.errored?!1:typeof($==null?void 0:$.ended)!="boolean"?null:$.ended}function isReadableFinished$1(T,$){if(!isReadableNodeStream$2(T))return null;const I=T._readableState;return I!=null&&I.errored?!1:typeof(I==null?void 0:I.endEmitted)!="boolean"?null:!!(I.endEmitted||$===!1&&I.ended===!0&&I.length===0)}function isReadable$3(T){return T&&T[kIsReadable]!=null?T[kIsReadable]:typeof(T==null?void 0:T.readable)!="boolean"?null:isDestroyed$1(T)?!1:isReadableNodeStream$2(T)&&T.readable&&!isReadableFinished$1(T)}function isWritable$3(T){return typeof(T==null?void 0:T.writable)!="boolean"?null:isDestroyed$1(T)?!1:isWritableNodeStream$1(T)&&T.writable&&!isWritableEnded(T)}function isFinished$1(T,$){return isNodeStream$4(T)?isDestroyed$1(T)?!0:!(($==null?void 0:$.readable)!==!1&&isReadable$3(T)||($==null?void 0:$.writable)!==!1&&isWritable$3(T)):null}function isWritableErrored$1(T){var $,I;return isNodeStream$4(T)?T.writableErrored?T.writableErrored:($=(I=T._writableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isReadableErrored$1(T){var $,I;return isNodeStream$4(T)?T.readableErrored?T.readableErrored:($=(I=T._readableState)===null||I===void 0?void 0:I.errored)!==null&&$!==void 0?$:null:null}function isClosed$1(T){if(!isNodeStream$4(T))return null;if(typeof T.closed=="boolean")return T.closed;const $=T._writableState,I=T._readableState;return typeof($==null?void 0:$.closed)=="boolean"||typeof(I==null?void 0:I.closed)=="boolean"?($==null?void 0:$.closed)||(I==null?void 0:I.closed):typeof T._closed=="boolean"&&isOutgoingMessage(T)?T._closed:null}function isOutgoingMessage(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function isServerResponse(T){return typeof T._sent100=="boolean"&&isOutgoingMessage(T)}function isServerRequest$1(T){var $;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&(($=T.req)===null||$===void 0?void 0:$.upgradeOrConnect)===void 0}function willEmitClose(T){if(!isNodeStream$4(T))return null;const $=T._writableState,I=T._readableState,N=$||I;return!N&&isServerResponse(T)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function isDisturbed(T){var $;return!!(T&&(($=T[kIsDisturbed])!==null&&$!==void 0?$:T.readableDidRead||T.readableAborted))}function isErrored(T){var $,I,N,L,B,H,z,Q,te,G;return!!(T&&(($=(I=(N=(L=(B=(H=T[kIsErrored])!==null&&H!==void 0?H:T.readableErrored)!==null&&B!==void 0?B:T.writableErrored)!==null&&L!==void 0?L:(z=T._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&N!==void 0?N:(Q=T._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&I!==void 0?I:(te=T._readableState)===null||te===void 0?void 0:te.errored)!==null&&$!==void 0?$:!((G=T._writableState)===null||G===void 0)&&G.errored))}var utils$s={kDestroyed:kDestroyed$1,isDisturbed,kIsDisturbed,isErrored,kIsErrored,isReadable:isReadable$3,kIsReadable,kIsClosedPromise:kIsClosedPromise$1,kControllerErrorFunction,isClosed:isClosed$1,isDestroyed:isDestroyed$1,isDuplexNodeStream,isFinished:isFinished$1,isIterable:isIterable$1,isReadableNodeStream:isReadableNodeStream$2,isReadableStream:isReadableStream$3,isReadableEnded:isReadableEnded$1,isReadableFinished:isReadableFinished$1,isReadableErrored:isReadableErrored$1,isNodeStream:isNodeStream$4,isWebStream:isWebStream$2,isWritable:isWritable$3,isWritableNodeStream:isWritableNodeStream$1,isWritableStream:isWritableStream$2,isWritableEnded,isWritableFinished:isWritableFinished$1,isWritableErrored:isWritableErrored$1,isServerRequest:isServerRequest$1,isServerResponse,willEmitClose,isTransformStream:isTransformStream$2};const utils$t=getDefaultExportFromCjs$1(utils$s),utils$u=_mergeNamespaces({__proto__:null,default:utils$t},[utils$s]),process$3=dist$3,{AbortError:AbortError$5,codes:codes$1}=errors$2,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$4,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$2}=codes$1,{kEmptyObject,once:once$3}=util$5,{validateAbortSignal:validateAbortSignal$2,validateFunction:validateFunction$1,validateObject:validateObject$1,validateBoolean}=validators$2,{Promise:Promise$3,PromisePrototypeThen:PromisePrototypeThen$2}=primordials$2,{isClosed,isReadable:isReadable$2,isReadableNodeStream:isReadableNodeStream$1,isReadableStream:isReadableStream$2,isReadableFinished,isReadableErrored,isWritable:isWritable$2,isWritableNodeStream,isWritableStream:isWritableStream$1,isWritableFinished,isWritableErrored,isNodeStream:isNodeStream$3,willEmitClose:_willEmitClose,kIsClosedPromise}=utils$u;function isRequest$3(T){return T.setHeader&&typeof T.abort=="function"}const nop=()=>{};function eos$4(T,$,I){var N,L;if(arguments.length===2?(I=$,$=kEmptyObject):$==null?$=kEmptyObject:validateObject$1($,"options"),validateFunction$1(I,"callback"),validateAbortSignal$2($.signal,"options.signal"),I=once$3(I),isReadableStream$2(T)||isWritableStream$1(T))return eosWeb(T,$,I);if(!isNodeStream$3(T))throw new ERR_INVALID_ARG_TYPE$4("stream",["ReadableStream","WritableStream","Stream"],T);const B=(N=$.readable)!==null&&N!==void 0?N:isReadableNodeStream$1(T),H=(L=$.writable)!==null&&L!==void 0?L:isWritableNodeStream(T),z=T._writableState,Q=T._readableState,te=()=>{T.writable||Re()};let G=_willEmitClose(T)&&isReadableNodeStream$1(T)===B&&isWritableNodeStream(T)===H,ie=isWritableFinished(T,!1);const Re=()=>{ie=!0,T.destroyed&&(G=!1),!(G&&(!T.readable||B))&&(!B||$e)&&I.call(T)};let $e=isReadableFinished(T,!1);const Pe=()=>{$e=!0,T.destroyed&&(G=!1),!(G&&(!T.writable||H))&&(!H||ie)&&I.call(T)},Me=Ge=>{I.call(T,Ge)};let Be=isClosed(T);const Ke=()=>{Be=!0;const Ge=isWritableErrored(T)||isReadableErrored(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);if(B&&!$e&&isReadableNodeStream$1(T,!0)&&!isReadableFinished(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$2);if(H&&!ie&&!isWritableFinished(T,!1))return I.call(T,new ERR_STREAM_PREMATURE_CLOSE$2);I.call(T)},Le=()=>{Be=!0;const Ge=isWritableErrored(T)||isReadableErrored(T);if(Ge&&typeof Ge!="boolean")return I.call(T,Ge);I.call(T)},qe=()=>{T.req.on("finish",Re)};isRequest$3(T)?(T.on("complete",Re),G||T.on("abort",Ke),T.req?qe():T.on("request",qe)):H&&!z&&(T.on("end",te),T.on("close",te)),!G&&typeof T.aborted=="boolean"&&T.on("aborted",Ke),T.on("end",Pe),T.on("finish",Re),$.error!==!1&&T.on("error",Me),T.on("close",Ke),Be?process$3.nextTick(Ke):z!=null&&z.errorEmitted||Q!=null&&Q.errorEmitted?G||process$3.nextTick(Le):(!B&&(!G||isReadable$2(T))&&(ie||isWritable$2(T)===!1)||!H&&(!G||isWritable$2(T))&&($e||isReadable$2(T)===!1)||Q&&T.req&&T.aborted)&&process$3.nextTick(Le);const He=()=>{I=nop,T.removeListener("aborted",Ke),T.removeListener("complete",Re),T.removeListener("abort",Ke),T.removeListener("request",qe),T.req&&T.req.removeListener("finish",Re),T.removeListener("end",te),T.removeListener("close",te),T.removeListener("finish",Re),T.removeListener("end",Pe),T.removeListener("error",Me),T.removeListener("close",Ke)};if($.signal&&!Be){const Ge=()=>{const at=I;He(),at.call(T,new AbortError$5(void 0,{cause:$.signal.reason}))};if($.signal.aborted)process$3.nextTick(Ge);else{const at=I;I=once$3((...ot)=>{$.signal.removeEventListener("abort",Ge),at.apply(T,ot)}),$.signal.addEventListener("abort",Ge)}}return He}function eosWeb(T,$,I){let N=!1,L=nop;if($.signal)if(L=()=>{N=!0,I.call(T,new AbortError$5(void 0,{cause:$.signal.reason}))},$.signal.aborted)process$3.nextTick(L);else{const H=I;I=once$3((...z)=>{$.signal.removeEventListener("abort",L),H.apply(T,z)}),$.signal.addEventListener("abort",L)}const B=(...H)=>{N||process$3.nextTick(()=>I.apply(T,H))};return PromisePrototypeThen$2(T[kIsClosedPromise].promise,B,B),nop}function finished$1(T,$){var I;let N=!1;return $===null&&($=kEmptyObject),(I=$)!==null&&I!==void 0&&I.cleanup&&(validateBoolean($.cleanup,"cleanup"),N=$.cleanup),new Promise$3((L,B)=>{const H=eos$4(T,$,z=>{N&&H(),z?B(z):L()})})}endOfStream$5.exports=eos$4;var finished_1=endOfStream$5.exports.finished=finished$1,endOfStreamExports=endOfStream$5.exports;const endOfStream$3=getDefaultExportFromCjs$1(endOfStreamExports),endOfStream$4=_mergeNamespaces({__proto__:null,default:endOfStream$3,finished:finished_1},[endOfStreamExports]),process$2=dist$3,{aggregateTwoErrors:aggregateTwoErrors$1,codes:{ERR_MULTIPLE_CALLBACK:ERR_MULTIPLE_CALLBACK$1},AbortError:AbortError$4}=errors$2,{Symbol:Symbol$3}=primordials$2,{kDestroyed,isDestroyed,isFinished,isServerRequest}=utils$u,kDestroy=Symbol$3("kDestroy"),kConstruct=Symbol$3("kConstruct");function checkError(T,$,I){T&&(T.stack,$&&!$.errored&&($.errored=T),I&&!I.errored&&(I.errored=T))}function destroy$3(T,$){const I=this._readableState,N=this._writableState,L=N||I;return N!=null&&N.destroyed||I!=null&&I.destroyed?(typeof $=="function"&&$(),this):(checkError(T,N,I),N&&(N.destroyed=!0),I&&(I.destroyed=!0),L.constructed?_destroy(this,T,$):this.once(kDestroy,function(B){_destroy(this,aggregateTwoErrors$1(B,T),$)}),this)}function _destroy(T,$,I){let N=!1;function L(B){if(N)return;N=!0;const H=T._readableState,z=T._writableState;checkError(B,z,H),z&&(z.closed=!0),H&&(H.closed=!0),typeof I=="function"&&I(B),B?process$2.nextTick(emitErrorCloseNT,T,B):process$2.nextTick(emitCloseNT$1,T)}try{T._destroy($||null,L)}catch(B){L(B)}}function emitErrorCloseNT(T,$){emitErrorNT$1(T,$),emitCloseNT$1(T)}function emitCloseNT$1(T){const $=T._readableState,I=T._writableState;I&&(I.closeEmitted=!0),$&&($.closeEmitted=!0),(I!=null&&I.emitClose||$!=null&&$.emitClose)&&T.emit("close")}function emitErrorNT$1(T,$){const I=T._readableState,N=T._writableState;N!=null&&N.errorEmitted||I!=null&&I.errorEmitted||(N&&(N.errorEmitted=!0),I&&(I.errorEmitted=!0),T.emit("error",$))}function undestroy$1(){const T=this._readableState,$=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function errorOrDestroy$1(T,$,I){const N=T._readableState,L=T._writableState;if(L!=null&&L.destroyed||N!=null&&N.destroyed)return this;N!=null&&N.autoDestroy||L!=null&&L.autoDestroy?T.destroy($):$&&($.stack,L&&!L.errored&&(L.errored=$),N&&!N.errored&&(N.errored=$),I?process$2.nextTick(emitErrorNT$1,T,$):emitErrorNT$1(T,$))}function construct(T,$){if(typeof T._construct!="function")return;const I=T._readableState,N=T._writableState;I&&(I.constructed=!1),N&&(N.constructed=!1),T.once(kConstruct,$),!(T.listenerCount(kConstruct)>1)&&process$2.nextTick(constructNT,T)}function constructNT(T){let $=!1;function I(N){if($){errorOrDestroy$1(T,N??new ERR_MULTIPLE_CALLBACK$1);return}$=!0;const L=T._readableState,B=T._writableState,H=B||L;L&&(L.constructed=!0),B&&(B.constructed=!0),H.destroyed?T.emit(kDestroy,N):N?errorOrDestroy$1(T,N,!0):process$2.nextTick(emitConstructNT,T)}try{T._construct(N=>{process$2.nextTick(I,N)})}catch(N){process$2.nextTick(I,N)}}function emitConstructNT(T){T.emit(kConstruct)}function isRequest$2(T){return(T==null?void 0:T.setHeader)&&typeof T.abort=="function"}function emitCloseLegacy(T){T.emit("close")}function emitErrorCloseLegacy(T,$){T.emit("error",$),process$2.nextTick(emitCloseLegacy,T)}function destroyer$3(T,$){!T||isDestroyed(T)||(!$&&!isFinished(T)&&($=new AbortError$4),isServerRequest(T)?(T.socket=null,T.destroy($)):isRequest$2(T)?T.abort():isRequest$2(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy($):typeof T.close=="function"?T.close():$?process$2.nextTick(emitErrorCloseLegacy,T,$):process$2.nextTick(emitCloseLegacy,T),T.destroyed||(T[kDestroyed]=!0))}var destroy_1$2={construct,destroyer:destroyer$3,destroy:destroy$3,undestroy:undestroy$1,errorOrDestroy:errorOrDestroy$1};const destroy$4=getDefaultExportFromCjs$1(destroy_1$2),destroy$5=_mergeNamespaces({__proto__:null,default:destroy$4},[destroy_1$2]),{ArrayIsArray:ArrayIsArray$1,ObjectSetPrototypeOf:ObjectSetPrototypeOf$2}=primordials$2,{EventEmitter:EE$1}=events$1;function Stream$1(T){EE$1.call(this,T)}ObjectSetPrototypeOf$2(Stream$1.prototype,EE$1.prototype);ObjectSetPrototypeOf$2(Stream$1,EE$1);Stream$1.prototype.pipe=function(T,$){const I=this;function N(G){T.writable&&T.write(G)===!1&&I.pause&&I.pause()}I.on("data",N);function L(){I.readable&&I.resume&&I.resume()}T.on("drain",L),!T._isStdio&&(!$||$.end!==!1)&&(I.on("end",H),I.on("close",z));let B=!1;function H(){B||(B=!0,T.end())}function z(){B||(B=!0,typeof T.destroy=="function"&&T.destroy())}function Q(G){te(),EE$1.listenerCount(this,"error")===0&&this.emit("error",G)}prependListener(I,"error",Q),prependListener(T,"error",Q);function te(){I.removeListener("data",N),T.removeListener("drain",L),I.removeListener("end",H),I.removeListener("close",z),I.removeListener("error",Q),T.removeListener("error",Q),I.removeListener("end",te),I.removeListener("close",te),T.removeListener("close",te)}return I.on("end",te),I.on("close",te),T.on("close",te),T.emit("pipe",I),T};function prependListener(T,$,I){if(typeof T.prependListener=="function")return T.prependListener($,I);!T._events||!T._events[$]?T.on($,I):ArrayIsArray$1(T._events[$])?T._events[$].unshift(I):T._events[$]=[I,T._events[$]]}var legacy$1={Stream:Stream$1,prependListener};const legacy$2=getDefaultExportFromCjs$1(legacy$1),legacy$3=_mergeNamespaces({__proto__:null,default:legacy$2},[legacy$1]);var addAbortSignal$2={exports:{}};(function(T){const{AbortError:$,codes:I}=errors$2,{isNodeStream:N,isWebStream:L,kControllerErrorFunction:B}=utils$u,H=endOfStream$4,{ERR_INVALID_ARG_TYPE:z}=I,Q=(te,G)=>{if(typeof te!="object"||!("aborted"in te))throw new z(G,"AbortSignal",te)};T.exports.addAbortSignal=function(G,ie){if(Q(G,"signal"),!N(ie)&&!L(ie))throw new z("stream",["ReadableStream","WritableStream","Stream"],ie);return T.exports.addAbortSignalNoValidate(G,ie)},T.exports.addAbortSignalNoValidate=function(te,G){if(typeof te!="object"||!("aborted"in te))return G;const ie=N(G)?()=>{G.destroy(new $(void 0,{cause:te.reason}))}:()=>{G[B](new $(void 0,{cause:te.reason}))};return te.aborted?ie():(te.addEventListener("abort",ie),H(G,()=>te.removeEventListener("abort",ie))),G}})(addAbortSignal$2);var addAbortSignalExports=addAbortSignal$2.exports;const addAbortSignal=getDefaultExportFromCjs$1(addAbortSignalExports),addAbortSignal$1=_mergeNamespaces({__proto__:null,default:addAbortSignal},[addAbortSignalExports]),{StringPrototypeSlice,SymbolIterator:SymbolIterator$1,TypedArrayPrototypeSet,Uint8Array:Uint8Array$1}=primordials$2,{Buffer:Buffer$d}=dist$5,{inspect}=util$5;var buffer_list$1=class{constructor(){this.head=null,this.tail=null,this.length=0}push($){const I={data:$,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}unshift($){const I={data:$,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}shift(){if(this.length===0)return;const $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}clear(){this.head=this.tail=null,this.length=0}join($){if(this.length===0)return"";let I=this.head,N=""+I.data;for(;(I=I.next)!==null;)N+=$+I.data;return N}concat($){if(this.length===0)return Buffer$d.alloc(0);const I=Buffer$d.allocUnsafe($>>>0);let N=this.head,L=0;for(;N;)TypedArrayPrototypeSet(I,N.data,L),L+=N.data.length,N=N.next;return I}consume($,I){const N=this.head.data;if($<N.length){const L=N.slice(0,$);return this.head.data=N.slice($),L}return $===N.length?this.shift():I?this._getString($):this._getBuffer($)}first(){return this.head.data}*[SymbolIterator$1](){for(let $=this.head;$;$=$.next)yield $.data}_getString($){let I="",N=this.head,L=0;do{const B=N.data;if($>B.length)I+=B,$-=B.length;else{$===B.length?(I+=B,++L,N.next?this.head=N.next:this.head=this.tail=null):(I+=StringPrototypeSlice(B,0,$),this.head=N,N.data=StringPrototypeSlice(B,$));break}++L}while((N=N.next)!==null);return this.length-=L,I}_getBuffer($){const I=Buffer$d.allocUnsafe($),N=$;let L=this.head,B=0;do{const H=L.data;if($>H.length)TypedArrayPrototypeSet(I,H,N-$),$-=H.length;else{$===H.length?(TypedArrayPrototypeSet(I,H,N-$),++B,L.next?this.head=L.next:this.head=this.tail=null):(TypedArrayPrototypeSet(I,new Uint8Array$1(H.buffer,H.byteOffset,$),N-$),this.head=L,L.data=H.slice($));break}++B}while((L=L.next)!==null);return this.length-=B,I}[Symbol.for("nodejs.util.inspect.custom")]($,I){return inspect(this,{...I,depth:0,customInspect:!1})}};const buffer_list$2=getDefaultExportFromCjs$1(buffer_list$1),buffer_list$3=_mergeNamespaces({__proto__:null,default:buffer_list$2},[buffer_list$1]),{MathFloor:MathFloor$1,NumberIsInteger}=primordials$2,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$2}=errors$2.codes;function highWaterMarkFrom$1(T,$,I){return T.highWaterMark!=null?T.highWaterMark:$?T[I]:null}function getDefaultHighWaterMark(T){return T?16:16*1024}function getHighWaterMark$2(T,$,I,N){const L=highWaterMarkFrom$1($,N,I);if(L!=null){if(!NumberIsInteger(L)||L<0){const B=N?`options.${I}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$2(B,L)}return MathFloor$1(L)}return getDefaultHighWaterMark(T.objectMode)}var state$3={getHighWaterMark:getHighWaterMark$2,getDefaultHighWaterMark};const state$4=getDefaultExportFromCjs$1(state$3),state$5=_mergeNamespaces({__proto__:null,default:state$4},[state$3]),process$1=dist$3,{PromisePrototypeThen:PromisePrototypeThen$1,SymbolAsyncIterator:SymbolAsyncIterator$1,SymbolIterator}=primordials$2,{Buffer:Buffer$c}=dist$5,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$3,ERR_STREAM_NULL_VALUES}=errors$2.codes;function from(T,$,I){let N;if(typeof $=="string"||$ instanceof Buffer$c)return new T({objectMode:!0,...I,read(){this.push($),this.push(null)}});let L;if($&&$[SymbolAsyncIterator$1])L=!0,N=$[SymbolAsyncIterator$1]();else if($&&$[SymbolIterator])L=!1,N=$[SymbolIterator]();else throw new ERR_INVALID_ARG_TYPE$3("iterable",["Iterable"],$);const B=new T({objectMode:!0,highWaterMark:1,...I});let H=!1;B._read=function(){H||(H=!0,Q())},B._destroy=function(te,G){PromisePrototypeThen$1(z(te),()=>process$1.nextTick(G,te),ie=>process$1.nextTick(G,ie||te))};async function z(te){const G=te!=null,ie=typeof N.throw=="function";if(G&&ie){const{value:Re,done:$e}=await N.throw(te);if(await Re,$e)return}if(typeof N.return=="function"){const{value:Re}=await N.return();await Re}}async function Q(){for(;;){try{const{value:te,done:G}=L?await N.next():N.next();if(G)B.push(null);else{const ie=te&&typeof te.then=="function"?await te:te;if(ie===null)throw H=!1,new ERR_STREAM_NULL_VALUES;if(B.push(ie))continue;H=!1}}catch(te){B.destroy(te)}break}}return B}var from_1=from;const from$1=getDefaultExportFromCjs$1(from_1),from$2=_mergeNamespaces({__proto__:null,default:from$1},[from_1]);var readable,hasRequiredReadable;function requireReadable(){if(hasRequiredReadable)return readable;hasRequiredReadable=1;const T=dist$3,{ArrayPrototypeIndexOf:$,NumberIsInteger:I,NumberIsNaN:N,NumberParseInt:L,ObjectDefineProperties:B,ObjectKeys:H,ObjectSetPrototypeOf:z,Promise:Q,SafeSet:te,SymbolAsyncIterator:G,Symbol:ie}=primordials$2;readable=We,We.ReadableState=it;const{EventEmitter:Re}=events$1,{Stream:$e,prependListener:Pe}=legacy$3,{Buffer:Me}=dist$5,{addAbortSignal:Be}=addAbortSignal$1,Ke=endOfStream$4;let Le=util$5.debuglog("stream",lt=>{Le=lt});const qe=buffer_list$3,He=destroy$5,{getHighWaterMark:Ge,getDefaultHighWaterMark:at}=state$5,{aggregateTwoErrors:ot,codes:{ERR_INVALID_ARG_TYPE:Ye,ERR_METHOD_NOT_IMPLEMENTED:nt,ERR_OUT_OF_RANGE:Qe,ERR_STREAM_PUSH_AFTER_EOF:tt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ze}}=errors$2,{validateObject:Fe}=validators$2,ke=ie("kPaused"),{StringDecoder:Ue}=string_decoder,Je=from$2;z(We.prototype,$e.prototype),z(We,$e);const rt=()=>{},{errorOrDestroy:Xe}=He;function it(lt,ct,Nt){typeof Nt!="boolean"&&(Nt=ct instanceof requireDuplex()),this.objectMode=!!(lt&&lt.objectMode),Nt&&(this.objectMode=this.objectMode||!!(lt&&lt.readableObjectMode)),this.highWaterMark=lt?Ge(this,lt,"readableHighWaterMark",Nt):at(!1),this.buffer=new qe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ke]=null,this.errorEmitted=!1,this.emitClose=!lt||lt.emitClose!==!1,this.autoDestroy=!lt||lt.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=lt&&lt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,lt&&lt.encoding&&(this.decoder=new Ue(lt.encoding),this.encoding=lt.encoding)}function We(lt){if(!(this instanceof We))return new We(lt);const ct=this instanceof requireDuplex();this._readableState=new it(lt,this,ct),lt&&(typeof lt.read=="function"&&(this._read=lt.read),typeof lt.destroy=="function"&&(this._destroy=lt.destroy),typeof lt.construct=="function"&&(this._construct=lt.construct),lt.signal&&!ct&&Be(lt.signal,this)),$e.call(this,lt),He.construct(this,()=>{this._readableState.needReadable&&Bt(this,this._readableState)})}We.prototype.destroy=He.destroy,We.prototype._undestroy=He.undestroy,We.prototype._destroy=function(lt,ct){ct(lt)},We.prototype[Re.captureRejectionSymbol]=function(lt){this.destroy(lt)},We.prototype.push=function(lt,ct){return Ve(this,lt,ct,!1)},We.prototype.unshift=function(lt,ct){return Ve(this,lt,ct,!0)};function Ve(lt,ct,Nt,jt){Le("readableAddChunk",ct);const zt=lt._readableState;let Ot;if(zt.objectMode||(typeof ct=="string"?(Nt=Nt||zt.defaultEncoding,zt.encoding!==Nt&&(jt&&zt.encoding?ct=Me.from(ct,Nt).toString(zt.encoding):(ct=Me.from(ct,Nt),Nt=""))):ct instanceof Me?Nt="":$e._isUint8Array(ct)?(ct=$e._uint8ArrayToBuffer(ct),Nt=""):ct!=null&&(Ot=new Ye("chunk",["string","Buffer","Uint8Array"],ct))),Ot)Xe(lt,Ot);else if(ct===null)zt.reading=!1,bt(lt,zt);else if(zt.objectMode||ct&&ct.length>0)if(jt)if(zt.endEmitted)Xe(lt,new ze);else{if(zt.destroyed||zt.errored)return!1;je(lt,zt,ct,!0)}else if(zt.ended)Xe(lt,new tt);else{if(zt.destroyed||zt.errored)return!1;zt.reading=!1,zt.decoder&&!Nt?(ct=zt.decoder.write(ct),zt.objectMode||ct.length!==0?je(lt,zt,ct,!1):Bt(lt,zt)):je(lt,zt,ct,!1)}else jt||(zt.reading=!1,Bt(lt,zt));return!zt.ended&&(zt.length<zt.highWaterMark||zt.length===0)}function je(lt,ct,Nt,jt){ct.flowing&&ct.length===0&&!ct.sync&&lt.listenerCount("data")>0?(ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null,ct.dataEmitted=!0,lt.emit("data",Nt)):(ct.length+=ct.objectMode?1:Nt.length,jt?ct.buffer.unshift(Nt):ct.buffer.push(Nt),ct.needReadable&&vt(lt)),Bt(lt,ct)}We.prototype.isPaused=function(){const lt=this._readableState;return lt[ke]===!0||lt.flowing===!1},We.prototype.setEncoding=function(lt){const ct=new Ue(lt);this._readableState.decoder=ct,this._readableState.encoding=this._readableState.decoder.encoding;const Nt=this._readableState.buffer;let jt="";for(const zt of Nt)jt+=ct.write(zt);return Nt.clear(),jt!==""&&Nt.push(jt),this._readableState.length=jt.length,this};const Ze=1073741824;function st(lt){if(lt>Ze)throw new Qe("size","<= 1GiB",lt);return lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++,lt}function dt(lt,ct){return lt<=0||ct.length===0&&ct.ended?0:ct.objectMode?1:N(lt)?ct.flowing&&ct.length?ct.buffer.first().length:ct.length:lt<=ct.length?lt:ct.ended?ct.length:0}We.prototype.read=function(lt){Le("read",lt),lt===void 0?lt=NaN:I(lt)||(lt=L(lt,10));const ct=this._readableState,Nt=lt;if(lt>ct.highWaterMark&&(ct.highWaterMark=st(lt)),lt!==0&&(ct.emittedReadable=!1),lt===0&&ct.needReadable&&((ct.highWaterMark!==0?ct.length>=ct.highWaterMark:ct.length>0)||ct.ended))return Le("read: emitReadable",ct.length,ct.ended),ct.length===0&&ct.ended?yr(this):vt(this),null;if(lt=dt(lt,ct),lt===0&&ct.ended)return ct.length===0&&yr(this),null;let jt=ct.needReadable;if(Le("need readable",jt),(ct.length===0||ct.length-lt<ct.highWaterMark)&&(jt=!0,Le("length less than watermark",jt)),ct.ended||ct.reading||ct.destroyed||ct.errored||!ct.constructed)jt=!1,Le("reading, ended or constructing",jt);else if(jt){Le("do read"),ct.reading=!0,ct.sync=!0,ct.length===0&&(ct.needReadable=!0);try{this._read(ct.highWaterMark)}catch(Ot){Xe(this,Ot)}ct.sync=!1,ct.reading||(lt=dt(Nt,ct))}let zt;return lt>0?zt=Yt(lt,ct):zt=null,zt===null?(ct.needReadable=ct.length<=ct.highWaterMark,lt=0):(ct.length-=lt,ct.multiAwaitDrain?ct.awaitDrainWriters.clear():ct.awaitDrainWriters=null),ct.length===0&&(ct.ended||(ct.needReadable=!0),Nt!==lt&&ct.ended&&yr(this)),zt!==null&&!ct.errorEmitted&&!ct.closeEmitted&&(ct.dataEmitted=!0,this.emit("data",zt)),zt};function bt(lt,ct){if(Le("onEofChunk"),!ct.ended){if(ct.decoder){const Nt=ct.decoder.end();Nt&&Nt.length&&(ct.buffer.push(Nt),ct.length+=ct.objectMode?1:Nt.length)}ct.ended=!0,ct.sync?vt(lt):(ct.needReadable=!1,ct.emittedReadable=!0,St(lt))}}function vt(lt){const ct=lt._readableState;Le("emitReadable",ct.needReadable,ct.emittedReadable),ct.needReadable=!1,ct.emittedReadable||(Le("emitReadable",ct.flowing),ct.emittedReadable=!0,T.nextTick(St,lt))}function St(lt){const ct=lt._readableState;Le("emitReadable_",ct.destroyed,ct.length,ct.ended),!ct.destroyed&&!ct.errored&&(ct.length||ct.ended)&&(lt.emit("readable"),ct.emittedReadable=!1),ct.needReadable=!ct.flowing&&!ct.ended&&ct.length<=ct.highWaterMark,kt(lt)}function Bt(lt,ct){!ct.readingMore&&ct.constructed&&(ct.readingMore=!0,T.nextTick(Gt,lt,ct))}function Gt(lt,ct){for(;!ct.reading&&!ct.ended&&(ct.length<ct.highWaterMark||ct.flowing&&ct.length===0);){const Nt=ct.length;if(Le("maybeReadMore read 0"),lt.read(0),Nt===ct.length)break}ct.readingMore=!1}We.prototype._read=function(lt){throw new nt("_read()")},We.prototype.pipe=function(lt,ct){const Nt=this,jt=this._readableState;jt.pipes.length===1&&(jt.multiAwaitDrain||(jt.multiAwaitDrain=!0,jt.awaitDrainWriters=new te(jt.awaitDrainWriters?[jt.awaitDrainWriters]:[]))),jt.pipes.push(lt),Le("pipe count=%d opts=%j",jt.pipes.length,ct);const Ot=(!ct||ct.end!==!1)&&lt!==T.stdout&&lt!==T.stderr?It:Wr;jt.endEmitted?T.nextTick(Ot):Nt.once("end",Ot),lt.on("unpipe",Rt);function Rt(Kr,Yr){Le("onunpipe"),Kr===Nt&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,dr())}function It(){Le("onend"),lt.end()}let Kt,tr=!1;function dr(){Le("cleanup"),lt.removeListener("close",Br),lt.removeListener("finish",Qr),Kt&&lt.removeListener("drain",Kt),lt.removeListener("error",qr),lt.removeListener("unpipe",Rt),Nt.removeListener("end",It),Nt.removeListener("end",Wr),Nt.removeListener("data",Nr),tr=!0,Kt&&jt.awaitDrainWriters&&(!lt._writableState||lt._writableState.needDrain)&&Kt()}function _r(){tr||(jt.pipes.length===1&&jt.pipes[0]===lt?(Le("false write response, pause",0),jt.awaitDrainWriters=lt,jt.multiAwaitDrain=!1):jt.pipes.length>1&&jt.pipes.includes(lt)&&(Le("false write response, pause",jt.awaitDrainWriters.size),jt.awaitDrainWriters.add(lt)),Nt.pause()),Kt||(Kt=Dt(Nt,lt),lt.on("drain",Kt))}Nt.on("data",Nr);function Nr(Kr){Le("ondata");const Yr=lt.write(Kr);Le("dest.write",Yr),Yr===!1&&_r()}function qr(Kr){if(Le("onerror",Kr),Wr(),lt.removeListener("error",qr),lt.listenerCount("error")===0){const Yr=lt._writableState||lt._readableState;Yr&&!Yr.errorEmitted?Xe(lt,Kr):lt.emit("error",Kr)}}Pe(lt,"error",qr);function Br(){lt.removeListener("finish",Qr),Wr()}lt.once("close",Br);function Qr(){Le("onfinish"),lt.removeListener("close",Br),Wr()}lt.once("finish",Qr);function Wr(){Le("unpipe"),Nt.unpipe(lt)}return lt.emit("pipe",Nt),lt.writableNeedDrain===!0?jt.flowing&&_r():jt.flowing||(Le("pipe resume"),Nt.resume()),lt};function Dt(lt,ct){return function(){const jt=lt._readableState;jt.awaitDrainWriters===ct?(Le("pipeOnDrain",1),jt.awaitDrainWriters=null):jt.multiAwaitDrain&&(Le("pipeOnDrain",jt.awaitDrainWriters.size),jt.awaitDrainWriters.delete(ct)),(!jt.awaitDrainWriters||jt.awaitDrainWriters.size===0)&&lt.listenerCount("data")&&lt.resume()}}We.prototype.unpipe=function(lt){const ct=this._readableState,Nt={hasUnpiped:!1};if(ct.pipes.length===0)return this;if(!lt){const zt=ct.pipes;ct.pipes=[],this.pause();for(let Ot=0;Ot<zt.length;Ot++)zt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}const jt=$(ct.pipes,lt);return jt===-1?this:(ct.pipes.splice(jt,1),ct.pipes.length===0&&this.pause(),lt.emit("unpipe",this,Nt),this)},We.prototype.on=function(lt,ct){const Nt=$e.prototype.on.call(this,lt,ct),jt=this._readableState;return lt==="data"?(jt.readableListening=this.listenerCount("readable")>0,jt.flowing!==!1&&this.resume()):lt==="readable"&&!jt.endEmitted&&!jt.readableListening&&(jt.readableListening=jt.needReadable=!0,jt.flowing=!1,jt.emittedReadable=!1,Le("on readable",jt.length,jt.reading),jt.length?vt(this):jt.reading||T.nextTick(pt,this)),Nt},We.prototype.addListener=We.prototype.on,We.prototype.removeListener=function(lt,ct){const Nt=$e.prototype.removeListener.call(this,lt,ct);return lt==="readable"&&T.nextTick(Mt,this),Nt},We.prototype.off=We.prototype.removeListener,We.prototype.removeAllListeners=function(lt){const ct=$e.prototype.removeAllListeners.apply(this,arguments);return(lt==="readable"||lt===void 0)&&T.nextTick(Mt,this),ct};function Mt(lt){const ct=lt._readableState;ct.readableListening=lt.listenerCount("readable")>0,ct.resumeScheduled&&ct[ke]===!1?ct.flowing=!0:lt.listenerCount("data")>0?lt.resume():ct.readableListening||(ct.flowing=null)}function pt(lt){Le("readable nexttick read 0"),lt.read(0)}We.prototype.resume=function(){const lt=this._readableState;return lt.flowing||(Le("resume"),lt.flowing=!lt.readableListening,mt(this,lt)),lt[ke]=!1,this};function mt(lt,ct){ct.resumeScheduled||(ct.resumeScheduled=!0,T.nextTick($t,lt,ct))}function $t(lt,ct){Le("resume",ct.reading),ct.reading||lt.read(0),ct.resumeScheduled=!1,lt.emit("resume"),kt(lt),ct.flowing&&!ct.reading&&lt.read(0)}We.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ke]=!0,this};function kt(lt){const ct=lt._readableState;for(Le("flow",ct.flowing);ct.flowing&&lt.read()!==null;);}We.prototype.wrap=function(lt){let ct=!1;lt.on("data",jt=>{!this.push(jt)&&lt.pause&&(ct=!0,lt.pause())}),lt.on("end",()=>{this.push(null)}),lt.on("error",jt=>{Xe(this,jt)}),lt.on("close",()=>{this.destroy()}),lt.on("destroy",()=>{this.destroy()}),this._read=()=>{ct&&lt.resume&&(ct=!1,lt.resume())};const Nt=H(lt);for(let jt=1;jt<Nt.length;jt++){const zt=Nt[jt];this[zt]===void 0&&typeof lt[zt]=="function"&&(this[zt]=lt[zt].bind(lt))}return this},We.prototype[G]=function(){return Ft(this)},We.prototype.iterator=function(lt){return lt!==void 0&&Fe(lt,"options"),Ft(this,lt)};function Ft(lt,ct){typeof lt.read!="function"&&(lt=We.wrap(lt,{objectMode:!0}));const Nt=nr(lt,ct);return Nt.stream=lt,Nt}async function*nr(lt,ct){let Nt=rt;function jt(Rt){this===lt?(Nt(),Nt=rt):Nt=Rt}lt.on("readable",jt);let zt;const Ot=Ke(lt,{writable:!1},Rt=>{zt=Rt?ot(zt,Rt):null,Nt(),Nt=rt});try{for(;;){const Rt=lt.destroyed?null:lt.read();if(Rt!==null)yield Rt;else{if(zt)throw zt;if(zt===null)return;await new Q(jt)}}}catch(Rt){throw zt=ot(zt,Rt),zt}finally{(zt||(ct==null?void 0:ct.destroyOnReturn)!==!1)&&(zt===void 0||lt._readableState.autoDestroy)?He.destroyer(lt,null):(lt.off("readable",jt),Ot())}}B(We.prototype,{readable:{__proto__:null,get(){const lt=this._readableState;return!!lt&&lt.readable!==!1&&!lt.destroyed&&!lt.errorEmitted&&!lt.endEmitted},set(lt){this._readableState&&(this._readableState.readable=!!lt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(lt){this._readableState&&(this._readableState.flowing=lt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(lt){this._readableState&&(this._readableState.destroyed=lt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(it.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ke]!==!1},set(lt){this[ke]=!!lt}}}),We._fromList=Yt;function Yt(lt,ct){if(ct.length===0)return null;let Nt;return ct.objectMode?Nt=ct.buffer.shift():!lt||lt>=ct.length?(ct.decoder?Nt=ct.buffer.join(""):ct.buffer.length===1?Nt=ct.buffer.first():Nt=ct.buffer.concat(ct.length),ct.buffer.clear()):Nt=ct.buffer.consume(lt,ct.decoder),Nt}function yr(lt){const ct=lt._readableState;Le("endReadable",ct.endEmitted),ct.endEmitted||(ct.ended=!0,T.nextTick(gr,ct,lt))}function gr(lt,ct){if(Le("endReadableNT",lt.endEmitted,lt.length),!lt.errored&&!lt.closeEmitted&&!lt.endEmitted&&lt.length===0){if(lt.endEmitted=!0,ct.emit("end"),ct.writable&&ct.allowHalfOpen===!1)T.nextTick(br,ct);else if(lt.autoDestroy){const Nt=ct._writableState;(!Nt||Nt.autoDestroy&&(Nt.finished||Nt.writable===!1))&&ct.destroy()}}}function br(lt){lt.writable&&!lt.writableEnded&&!lt.destroyed&&lt.end()}We.from=function(lt,ct){return Je(We,lt,ct)};let cr;function pr(){return cr===void 0&&(cr={}),cr}return We.fromWeb=function(lt,ct){return pr().newStreamReadableFromReadableStream(lt,ct)},We.toWeb=function(lt,ct){return pr().newReadableStreamFromStreamReadable(lt,ct)},We.wrap=function(lt,ct){var Nt,jt;return new We({objectMode:(Nt=(jt=lt.readableObjectMode)!==null&&jt!==void 0?jt:lt.objectMode)!==null&&Nt!==void 0?Nt:!0,...ct,destroy(zt,Ot){He.destroyer(lt,zt),Ot(zt)}}).wrap(lt)},readable}var writable,hasRequiredWritable;function requireWritable(){if(hasRequiredWritable)return writable;hasRequiredWritable=1;const T=dist$3,{ArrayPrototypeSlice:$,Error:I,FunctionPrototypeSymbolHasInstance:N,ObjectDefineProperty:L,ObjectDefineProperties:B,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:z,Symbol:Q,SymbolHasInstance:te}=primordials$2;writable=Ue,Ue.WritableState=Fe;const{EventEmitter:G}=events$1,ie=legacy$3.Stream,{Buffer:Re}=dist$5,$e=destroy$5,{addAbortSignal:Pe}=addAbortSignal$1,{getHighWaterMark:Me,getDefaultHighWaterMark:Be}=state$5,{ERR_INVALID_ARG_TYPE:Ke,ERR_METHOD_NOT_IMPLEMENTED:Le,ERR_MULTIPLE_CALLBACK:qe,ERR_STREAM_CANNOT_PIPE:He,ERR_STREAM_DESTROYED:Ge,ERR_STREAM_ALREADY_FINISHED:at,ERR_STREAM_NULL_VALUES:ot,ERR_STREAM_WRITE_AFTER_END:Ye,ERR_UNKNOWN_ENCODING:nt}=errors$2.codes,{errorOrDestroy:Qe}=$e;H(Ue.prototype,ie.prototype),H(Ue,ie);function tt(){}const ze=Q("kOnFinished");function Fe(pt,mt,$t){typeof $t!="boolean"&&($t=mt instanceof requireDuplex()),this.objectMode=!!(pt&&pt.objectMode),$t&&(this.objectMode=this.objectMode||!!(pt&&pt.writableObjectMode)),this.highWaterMark=pt?Me(this,pt,"writableHighWaterMark",$t):Be(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const kt=!!(pt&&pt.decodeStrings===!1);this.decodeStrings=!kt,this.defaultEncoding=pt&&pt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=We.bind(void 0,mt),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ke(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pt||pt.emitClose!==!1,this.autoDestroy=!pt||pt.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ze]=[]}function ke(pt){pt.buffered=[],pt.bufferedIndex=0,pt.allBuffers=!0,pt.allNoop=!0}Fe.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},L(Fe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ue(pt){const mt=this instanceof requireDuplex();if(!mt&&!N(Ue,this))return new Ue(pt);this._writableState=new Fe(pt,this,mt),pt&&(typeof pt.write=="function"&&(this._write=pt.write),typeof pt.writev=="function"&&(this._writev=pt.writev),typeof pt.destroy=="function"&&(this._destroy=pt.destroy),typeof pt.final=="function"&&(this._final=pt.final),typeof pt.construct=="function"&&(this._construct=pt.construct),pt.signal&&Pe(pt.signal,this)),ie.call(this,pt),$e.construct(this,()=>{const $t=this._writableState;$t.writing||st(this,$t),St(this,$t)})}L(Ue,te,{__proto__:null,value:function(pt){return N(this,pt)?!0:this!==Ue?!1:pt&&pt._writableState instanceof Fe}}),Ue.prototype.pipe=function(){Qe(this,new He)};function Je(pt,mt,$t,kt){const Ft=pt._writableState;if(typeof $t=="function")kt=$t,$t=Ft.defaultEncoding;else{if(!$t)$t=Ft.defaultEncoding;else if($t!=="buffer"&&!Re.isEncoding($t))throw new nt($t);typeof kt!="function"&&(kt=tt)}if(mt===null)throw new ot;if(!Ft.objectMode)if(typeof mt=="string")Ft.decodeStrings!==!1&&(mt=Re.from(mt,$t),$t="buffer");else if(mt instanceof Re)$t="buffer";else if(ie._isUint8Array(mt))mt=ie._uint8ArrayToBuffer(mt),$t="buffer";else throw new Ke("chunk",["string","Buffer","Uint8Array"],mt);let nr;return Ft.ending?nr=new Ye:Ft.destroyed&&(nr=new Ge("write")),nr?(T.nextTick(kt,nr),Qe(pt,nr,!0),nr):(Ft.pendingcb++,rt(pt,Ft,mt,$t,kt))}Ue.prototype.write=function(pt,mt,$t){return Je(this,pt,mt,$t)===!0},Ue.prototype.cork=function(){this._writableState.corked++},Ue.prototype.uncork=function(){const pt=this._writableState;pt.corked&&(pt.corked--,pt.writing||st(this,pt))},Ue.prototype.setDefaultEncoding=function(mt){if(typeof mt=="string"&&(mt=z(mt)),!Re.isEncoding(mt))throw new nt(mt);return this._writableState.defaultEncoding=mt,this};function rt(pt,mt,$t,kt,Ft){const nr=mt.objectMode?1:$t.length;mt.length+=nr;const Yt=mt.length<mt.highWaterMark;return Yt||(mt.needDrain=!0),mt.writing||mt.corked||mt.errored||!mt.constructed?(mt.buffered.push({chunk:$t,encoding:kt,callback:Ft}),mt.allBuffers&&kt!=="buffer"&&(mt.allBuffers=!1),mt.allNoop&&Ft!==tt&&(mt.allNoop=!1)):(mt.writelen=nr,mt.writecb=Ft,mt.writing=!0,mt.sync=!0,pt._write($t,kt,mt.onwrite),mt.sync=!1),Yt&&!mt.errored&&!mt.destroyed}function Xe(pt,mt,$t,kt,Ft,nr,Yt){mt.writelen=kt,mt.writecb=Yt,mt.writing=!0,mt.sync=!0,mt.destroyed?mt.onwrite(new Ge("write")):$t?pt._writev(Ft,mt.onwrite):pt._write(Ft,nr,mt.onwrite),mt.sync=!1}function it(pt,mt,$t,kt){--mt.pendingcb,kt($t),Ze(mt),Qe(pt,$t)}function We(pt,mt){const $t=pt._writableState,kt=$t.sync,Ft=$t.writecb;if(typeof Ft!="function"){Qe(pt,new qe);return}$t.writing=!1,$t.writecb=null,$t.length-=$t.writelen,$t.writelen=0,mt?(mt.stack,$t.errored||($t.errored=mt),pt._readableState&&!pt._readableState.errored&&(pt._readableState.errored=mt),kt?T.nextTick(it,pt,$t,mt,Ft):it(pt,$t,mt,Ft)):($t.buffered.length>$t.bufferedIndex&&st(pt,$t),kt?$t.afterWriteTickInfo!==null&&$t.afterWriteTickInfo.cb===Ft?$t.afterWriteTickInfo.count++:($t.afterWriteTickInfo={count:1,cb:Ft,stream:pt,state:$t},T.nextTick(Ve,$t.afterWriteTickInfo)):je(pt,$t,1,Ft))}function Ve({stream:pt,state:mt,count:$t,cb:kt}){return mt.afterWriteTickInfo=null,je(pt,mt,$t,kt)}function je(pt,mt,$t,kt){for(!mt.ending&&!pt.destroyed&&mt.length===0&&mt.needDrain&&(mt.needDrain=!1,pt.emit("drain"));$t-- >0;)mt.pendingcb--,kt();mt.destroyed&&Ze(mt),St(pt,mt)}function Ze(pt){if(pt.writing)return;for(let Ft=pt.bufferedIndex;Ft<pt.buffered.length;++Ft){var mt;const{chunk:nr,callback:Yt}=pt.buffered[Ft],yr=pt.objectMode?1:nr.length;pt.length-=yr,Yt((mt=pt.errored)!==null&&mt!==void 0?mt:new Ge("write"))}const $t=pt[ze].splice(0);for(let Ft=0;Ft<$t.length;Ft++){var kt;$t[Ft]((kt=pt.errored)!==null&&kt!==void 0?kt:new Ge("end"))}ke(pt)}function st(pt,mt){if(mt.corked||mt.bufferProcessing||mt.destroyed||!mt.constructed)return;const{buffered:$t,bufferedIndex:kt,objectMode:Ft}=mt,nr=$t.length-kt;if(!nr)return;let Yt=kt;if(mt.bufferProcessing=!0,nr>1&&pt._writev){mt.pendingcb-=nr-1;const yr=mt.allNoop?tt:br=>{for(let cr=Yt;cr<$t.length;++cr)$t[cr].callback(br)},gr=mt.allNoop&&Yt===0?$t:$($t,Yt);gr.allBuffers=mt.allBuffers,Xe(pt,mt,!0,mt.length,gr,"",yr),ke(mt)}else{do{const{chunk:yr,encoding:gr,callback:br}=$t[Yt];$t[Yt++]=null;const cr=Ft?1:yr.length;Xe(pt,mt,!1,cr,yr,gr,br)}while(Yt<$t.length&&!mt.writing);Yt===$t.length?ke(mt):Yt>256?($t.splice(0,Yt),mt.bufferedIndex=0):mt.bufferedIndex=Yt}mt.bufferProcessing=!1}Ue.prototype._write=function(pt,mt,$t){if(this._writev)this._writev([{chunk:pt,encoding:mt}],$t);else throw new Le("_write()")},Ue.prototype._writev=null,Ue.prototype.end=function(pt,mt,$t){const kt=this._writableState;typeof pt=="function"?($t=pt,pt=null,mt=null):typeof mt=="function"&&($t=mt,mt=null);let Ft;if(pt!=null){const nr=Je(this,pt,mt);nr instanceof I&&(Ft=nr)}return kt.corked&&(kt.corked=1,this.uncork()),Ft||(!kt.errored&&!kt.ending?(kt.ending=!0,St(this,kt,!0),kt.ended=!0):kt.finished?Ft=new at("end"):kt.destroyed&&(Ft=new Ge("end"))),typeof $t=="function"&&(Ft||kt.finished?T.nextTick($t,Ft):kt[ze].push($t)),this};function dt(pt){return pt.ending&&!pt.destroyed&&pt.constructed&&pt.length===0&&!pt.errored&&pt.buffered.length===0&&!pt.finished&&!pt.writing&&!pt.errorEmitted&&!pt.closeEmitted}function bt(pt,mt){let $t=!1;function kt(Ft){if($t){Qe(pt,Ft??qe());return}if($t=!0,mt.pendingcb--,Ft){const nr=mt[ze].splice(0);for(let Yt=0;Yt<nr.length;Yt++)nr[Yt](Ft);Qe(pt,Ft,mt.sync)}else dt(mt)&&(mt.prefinished=!0,pt.emit("prefinish"),mt.pendingcb++,T.nextTick(Bt,pt,mt))}mt.sync=!0,mt.pendingcb++;try{pt._final(kt)}catch(Ft){kt(Ft)}mt.sync=!1}function vt(pt,mt){!mt.prefinished&&!mt.finalCalled&&(typeof pt._final=="function"&&!mt.destroyed?(mt.finalCalled=!0,bt(pt,mt)):(mt.prefinished=!0,pt.emit("prefinish")))}function St(pt,mt,$t){dt(mt)&&(vt(pt,mt),mt.pendingcb===0&&($t?(mt.pendingcb++,T.nextTick((kt,Ft)=>{dt(Ft)?Bt(kt,Ft):Ft.pendingcb--},pt,mt)):dt(mt)&&(mt.pendingcb++,Bt(pt,mt))))}function Bt(pt,mt){mt.pendingcb--,mt.finished=!0;const $t=mt[ze].splice(0);for(let kt=0;kt<$t.length;kt++)$t[kt]();if(pt.emit("finish"),mt.autoDestroy){const kt=pt._readableState;(!kt||kt.autoDestroy&&(kt.endEmitted||kt.readable===!1))&&pt.destroy()}}B(Ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pt){this._writableState&&(this._writableState.destroyed=pt)}},writable:{__proto__:null,get(){const pt=this._writableState;return!!pt&&pt.writable!==!1&&!pt.destroyed&&!pt.errored&&!pt.ending&&!pt.ended},set(pt){this._writableState&&(this._writableState.writable=!!pt)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const pt=this._writableState;return pt?!pt.destroyed&&!pt.ending&&pt.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Gt=$e.destroy;Ue.prototype.destroy=function(pt,mt){const $t=this._writableState;return!$t.destroyed&&($t.bufferedIndex<$t.buffered.length||$t[ze].length)&&T.nextTick(Ze,$t),Gt.call(this,pt,mt),this},Ue.prototype._undestroy=$e.undestroy,Ue.prototype._destroy=function(pt,mt){mt(pt)},Ue.prototype[G.captureRejectionSymbol]=function(pt){this.destroy(pt)};let Dt;function Mt(){return Dt===void 0&&(Dt={}),Dt}return Ue.fromWeb=function(pt,mt){return Mt().newStreamWritableFromWritableStream(pt,mt)},Ue.toWeb=function(pt){return Mt().newWritableStreamFromStreamWritable(pt)},writable}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;const T=dist$3,$=dist$5,{isReadable:I,isWritable:N,isIterable:L,isNodeStream:B,isReadableNodeStream:H,isWritableNodeStream:z,isDuplexNodeStream:Q}=utils$u,te=endOfStream$4,{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:ie,ERR_INVALID_RETURN_VALUE:Re}}=errors$2,{destroyer:$e}=destroy$5,Pe=requireDuplex(),Me=requireReadable(),{createDeferredPromise:Be}=util$5,Ke=from$2,Le=globalThis.Blob||$.Blob,qe=typeof Le<"u"?function(Qe){return Qe instanceof Le}:function(Qe){return!1},He=globalThis.AbortController||requireBrowser$a().AbortController,{FunctionPrototypeCall:Ge}=primordials$2;class at extends Pe{constructor(Qe){super(Qe),(Qe==null?void 0:Qe.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Qe==null?void 0:Qe.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify=function nt(Qe,tt){if(Q(Qe))return Qe;if(H(Qe))return Ye({readable:Qe});if(z(Qe))return Ye({writable:Qe});if(B(Qe))return Ye({writable:!1,readable:!1});if(typeof Qe=="function"){const{value:Fe,write:ke,final:Ue,destroy:Je}=ot(Qe);if(L(Fe))return Ke(at,Fe,{objectMode:!0,write:ke,final:Ue,destroy:Je});const rt=Fe==null?void 0:Fe.then;if(typeof rt=="function"){let Xe;const it=Ge(rt,Fe,We=>{if(We!=null)throw new Re("nully","body",We)},We=>{$e(Xe,We)});return Xe=new at({objectMode:!0,readable:!1,write:ke,final(We){Ue(async()=>{try{await it,T.nextTick(We,null)}catch(Ve){T.nextTick(We,Ve)}})},destroy:Je})}throw new Re("Iterable, AsyncIterable or AsyncFunction",tt,Fe)}if(qe(Qe))return nt(Qe.arrayBuffer());if(L(Qe))return Ke(at,Qe,{objectMode:!0,writable:!1});if(typeof(Qe==null?void 0:Qe.writable)=="object"||typeof(Qe==null?void 0:Qe.readable)=="object"){const Fe=Qe!=null&&Qe.readable?H(Qe==null?void 0:Qe.readable)?Qe==null?void 0:Qe.readable:nt(Qe.readable):void 0,ke=Qe!=null&&Qe.writable?z(Qe==null?void 0:Qe.writable)?Qe==null?void 0:Qe.writable:nt(Qe.writable):void 0;return Ye({readable:Fe,writable:ke})}const ze=Qe==null?void 0:Qe.then;if(typeof ze=="function"){let Fe;return Ge(ze,Qe,ke=>{ke!=null&&Fe.push(ke),Fe.push(null)},ke=>{$e(Fe,ke)}),Fe=new at({objectMode:!0,writable:!1,read(){}})}throw new ie(tt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Qe)};function ot(nt){let{promise:Qe,resolve:tt}=Be();const ze=new He,Fe=ze.signal;return{value:nt(async function*(){for(;;){const Ue=Qe;Qe=null;const{chunk:Je,done:rt,cb:Xe}=await Ue;if(T.nextTick(Xe),rt)return;if(Fe.aborted)throw new G(void 0,{cause:Fe.reason});({promise:Qe,resolve:tt}=Be()),yield Je}}(),{signal:Fe}),write(Ue,Je,rt){const Xe=tt;tt=null,Xe({chunk:Ue,done:!1,cb:rt})},final(Ue){const Je=tt;tt=null,Je({done:!0,cb:Ue})},destroy(Ue,Je){ze.abort(),Je(Ue)}}}function Ye(nt){const Qe=nt.readable&&typeof nt.readable.read!="function"?Me.wrap(nt.readable):nt.readable,tt=nt.writable;let ze=!!I(Qe),Fe=!!N(tt),ke,Ue,Je,rt,Xe;function it(We){const Ve=rt;rt=null,Ve?Ve(We):We&&Xe.destroy(We)}return Xe=new at({readableObjectMode:!!(Qe!=null&&Qe.readableObjectMode),writableObjectMode:!!(tt!=null&&tt.writableObjectMode),readable:ze,writable:Fe}),Fe&&(te(tt,We=>{Fe=!1,We&&$e(Qe,We),it(We)}),Xe._write=function(We,Ve,je){tt.write(We,Ve)?je():ke=je},Xe._final=function(We){tt.end(),Ue=We},tt.on("drain",function(){if(ke){const We=ke;ke=null,We()}}),tt.on("finish",function(){if(Ue){const We=Ue;Ue=null,We()}})),ze&&(te(Qe,We=>{ze=!1,We&&$e(Qe,We),it(We)}),Qe.on("readable",function(){if(Je){const We=Je;Je=null,We()}}),Qe.on("end",function(){Xe.push(null)}),Xe._read=function(){for(;;){const We=Qe.read();if(We===null){Je=Xe._read;return}if(!Xe.push(We))return}}),Xe._destroy=function(We,Ve){!We&&rt!==null&&(We=new G),Je=null,ke=null,Ue=null,rt===null?Ve(We):(rt=Ve,$e(tt,We),$e(Qe,We))},Xe}return duplexify}var duplex,hasRequiredDuplex;function requireDuplex(){if(hasRequiredDuplex)return duplex;hasRequiredDuplex=1;const{ObjectDefineProperties:T,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:I,ObjectSetPrototypeOf:N}=primordials$2;duplex=H;const L=requireReadable(),B=requireWritable();N(H.prototype,L.prototype),N(H,L);{const G=I(B.prototype);for(let ie=0;ie<G.length;ie++){const Re=G[ie];H.prototype[Re]||(H.prototype[Re]=B.prototype[Re])}}function H(G){if(!(this instanceof H))return new H(G);L.call(this,G),B.call(this,G),G?(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}T(H.prototype,{writable:{__proto__:null,...$(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(B.prototype,"writableLength")},writableFinished:{__proto__:null,...$(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(G){this._readableState&&this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}});let z;function Q(){return z===void 0&&(z={}),z}H.fromWeb=function(G,ie){return Q().newStreamDuplexFromReadableWritablePair(G,ie)},H.toWeb=function(G){return Q().newReadableWritablePairFromDuplex(G)};let te;return H.from=function(G){return te||(te=requireDuplexify()),te(G,"body")},duplex}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$1,Symbol:Symbol$2}=primordials$2;var transform=Transform$6;const{ERR_METHOD_NOT_IMPLEMENTED:ERR_METHOD_NOT_IMPLEMENTED$1}=errors$2.codes,Duplex$3=requireDuplex(),{getHighWaterMark:getHighWaterMark$1}=state$5;ObjectSetPrototypeOf$1(Transform$6.prototype,Duplex$3.prototype);ObjectSetPrototypeOf$1(Transform$6,Duplex$3);const kCallback=Symbol$2("kCallback");function Transform$6(T){if(!(this instanceof Transform$6))return new Transform$6(T);const $=T?getHighWaterMark$1(this,T,"readableHighWaterMark",!0):null;$===0&&(T={...T,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:T.writableHighWaterMark||0}),Duplex$3.call(this,T),this._readableState.sync=!1,this[kCallback]=null,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",prefinish$1)}function final(T){typeof this._flush=="function"&&!this.destroyed?this._flush(($,I)=>{if($){T?T($):this.destroy($);return}I!=null&&this.push(I),this.push(null),T&&T()}):(this.push(null),T&&T())}function prefinish$1(){this._final!==final&&final.call(this)}Transform$6.prototype._final=final;Transform$6.prototype._transform=function(T,$,I){throw new ERR_METHOD_NOT_IMPLEMENTED$1("_transform()")};Transform$6.prototype._write=function(T,$,I){const N=this._readableState,L=this._writableState,B=N.length;this._transform(T,$,(H,z)=>{if(H){I(H);return}z!=null&&this.push(z),L.ended||B===N.length||N.length<N.highWaterMark?I():this[kCallback]=I})};Transform$6.prototype._read=function(){if(this[kCallback]){const T=this[kCallback];this[kCallback]=null,T()}};const transform$1=getDefaultExportFromCjs$1(transform),transform$2=_mergeNamespaces({__proto__:null,default:transform$1},[transform]),{ObjectSetPrototypeOf}=primordials$2;var passthrough=PassThrough$2;const Transform$5=transform$2;ObjectSetPrototypeOf(PassThrough$2.prototype,Transform$5.prototype);ObjectSetPrototypeOf(PassThrough$2,Transform$5);function PassThrough$2(T){if(!(this instanceof PassThrough$2))return new PassThrough$2(T);Transform$5.call(this,T)}PassThrough$2.prototype._transform=function(T,$,I){I(null,T)};const passthrough$1=getDefaultExportFromCjs$1(passthrough),passthrough$2=_mergeNamespaces({__proto__:null,default:passthrough$1},[passthrough]),process=dist$3,{ArrayIsArray,Promise:Promise$2,SymbolAsyncIterator}=primordials$2,eos$3=endOfStream$4,{once:once$2}=util$5,destroyImpl=destroy$5,Duplex$2=requireDuplex(),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$2,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS:ERR_MISSING_ARGS$3,ERR_STREAM_DESTROYED:ERR_STREAM_DESTROYED$1,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$1},AbortError:AbortError$3}=errors$2,{validateFunction,validateAbortSignal:validateAbortSignal$1}=validators$2,{isIterable,isReadable:isReadable$1,isReadableNodeStream,isNodeStream:isNodeStream$2,isTransformStream:isTransformStream$1,isWebStream:isWebStream$1,isReadableStream:isReadableStream$1,isReadableEnded}=utils$u,AbortController$2=globalThis.AbortController||requireBrowser$a().AbortController;let PassThrough$1,Readable;function destroyer$2(T,$,I){let N=!1;T.on("close",()=>{N=!0});const L=eos$3(T,{readable:$,writable:I},B=>{N=!B});return{destroy:B=>{N||(N=!0,destroyImpl.destroyer(T,B||new ERR_STREAM_DESTROYED$1("pipe")))},cleanup:L}}function popCallback$1(T){return validateFunction(T[T.length-1],"streams[stream.length - 1]"),T.pop()}function makeAsyncIterable(T){if(isIterable(T))return T;if(isReadableNodeStream(T))return fromReadable(T);throw new ERR_INVALID_ARG_TYPE$2("val",["Readable","Iterable","AsyncIterable"],T)}async function*fromReadable(T){Readable||(Readable=requireReadable()),yield*Readable.prototype[SymbolAsyncIterator].call(T)}async function pumpToNode(T,$,I,{end:N}){let L,B=null;const H=te=>{if(te&&(L=te),B){const G=B;B=null,G()}},z=()=>new Promise$2((te,G)=>{L?G(L):B=()=>{L?G(L):te()}});$.on("drain",H);const Q=eos$3($,{readable:!1},H);try{$.writableNeedDrain&&await z();for await(const te of T)$.write(te)||await z();N&&$.end(),await z(),I()}catch(te){I(L!==te?aggregateTwoErrors(L,te):te)}finally{Q(),$.off("drain",H)}}async function pumpToWeb(T,$,I,{end:N}){isTransformStream$1($)&&($=$.writable);const L=$.getWriter();try{for await(const B of T)await L.ready,L.write(B).catch(()=>{});await L.ready,N&&await L.close(),I()}catch(B){try{await L.abort(B),I(B)}catch(H){I(H)}}}function pipeline$4(...T){return pipelineImpl(T,once$2(popCallback$1(T)))}function pipelineImpl(T,$,I){if(T.length===1&&ArrayIsArray(T[0])&&(T=T[0]),T.length<2)throw new ERR_MISSING_ARGS$3("streams");const N=new AbortController$2,L=N.signal,B=I==null?void 0:I.signal,H=[];validateAbortSignal$1(B,"options.signal");function z(){$e(new AbortError$3)}B==null||B.addEventListener("abort",z);let Q,te;const G=[];let ie=0;function Re(Ke){$e(Ke,--ie===0)}function $e(Ke,Le){if(Ke&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=Ke),!(!Q&&!Le)){for(;G.length;)G.shift()(Q);B==null||B.removeEventListener("abort",z),N.abort(),Le&&(Q||H.forEach(qe=>qe()),process.nextTick($,Q,te))}}let Pe;for(let Ke=0;Ke<T.length;Ke++){const Le=T[Ke],qe=Ke<T.length-1,He=Ke>0,Ge=qe||(I==null?void 0:I.end)!==!1,at=Ke===T.length-1;if(isNodeStream$2(Le)){let ot=function(Ye){Ye&&Ye.name!=="AbortError"&&Ye.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Re(Ye)};if(Ge){const{destroy:Ye,cleanup:nt}=destroyer$2(Le,qe,He);G.push(Ye),isReadable$1(Le)&&at&&H.push(nt)}Le.on("error",ot),isReadable$1(Le)&&at&&H.push(()=>{Le.removeListener("error",ot)})}if(Ke===0)if(typeof Le=="function"){if(Pe=Le({signal:L}),!isIterable(Pe))throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or Stream","source",Pe)}else isIterable(Le)||isReadableNodeStream(Le)||isTransformStream$1(Le)?Pe=Le:Pe=Duplex$2.from(Le);else if(typeof Le=="function"){if(isTransformStream$1(Pe)){var Me;Pe=makeAsyncIterable((Me=Pe)===null||Me===void 0?void 0:Me.readable)}else Pe=makeAsyncIterable(Pe);if(Pe=Le(Pe,{signal:L}),qe){if(!isIterable(Pe,!0))throw new ERR_INVALID_RETURN_VALUE("AsyncIterable",`transform[${Ke-1}]`,Pe)}else{var Be;PassThrough$1||(PassThrough$1=passthrough$2);const ot=new PassThrough$1({objectMode:!0}),Ye=(Be=Pe)===null||Be===void 0?void 0:Be.then;if(typeof Ye=="function")ie++,Ye.call(Pe,tt=>{te=tt,tt!=null&&ot.write(tt),Ge&&ot.end(),process.nextTick(Re)},tt=>{ot.destroy(tt),process.nextTick(Re,tt)});else if(isIterable(Pe,!0))ie++,pumpToNode(Pe,ot,Re,{end:Ge});else if(isReadableStream$1(Pe)||isTransformStream$1(Pe)){const tt=Pe.readable||Pe;ie++,pumpToNode(tt,ot,Re,{end:Ge})}else throw new ERR_INVALID_RETURN_VALUE("AsyncIterable or Promise","destination",Pe);Pe=ot;const{destroy:nt,cleanup:Qe}=destroyer$2(Pe,!1,!0);G.push(nt),at&&H.push(Qe)}}else if(isNodeStream$2(Le)){if(isReadableNodeStream(Pe)){ie+=2;const ot=pipe$1(Pe,Le,Re,{end:Ge});isReadable$1(Le)&&at&&H.push(ot)}else if(isTransformStream$1(Pe)||isReadableStream$1(Pe)){const ot=Pe.readable||Pe;ie++,pumpToNode(ot,Le,Re,{end:Ge})}else if(isIterable(Pe))ie++,pumpToNode(Pe,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else if(isWebStream$1(Le)){if(isReadableNodeStream(Pe))ie++,pumpToWeb(makeAsyncIterable(Pe),Le,Re,{end:Ge});else if(isReadableStream$1(Pe)||isIterable(Pe))ie++,pumpToWeb(Pe,Le,Re,{end:Ge});else if(isTransformStream$1(Pe))ie++,pumpToWeb(Pe.readable,Le,Re,{end:Ge});else throw new ERR_INVALID_ARG_TYPE$2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=Le}else Pe=Duplex$2.from(Le)}return(L!=null&&L.aborted||B!=null&&B.aborted)&&process.nextTick(z),Pe}function pipe$1(T,$,I,{end:N}){let L=!1;if($.on("close",()=>{L||I(new ERR_STREAM_PREMATURE_CLOSE$1)}),T.pipe($,{end:!1}),N){let B=function(){L=!0,$.end()};isReadableEnded(T)?process.nextTick(B):T.once("end",B)}else I();return eos$3(T,{readable:!0,writable:!1},B=>{const H=T._readableState;B&&B.code==="ERR_STREAM_PREMATURE_CLOSE"&&H&&H.ended&&!H.errored&&!H.errorEmitted?T.once("end",I).once("error",I):I(B)}),eos$3($,{readable:!1,writable:!0},I)}var pipeline_1$1={pipelineImpl,pipeline:pipeline$4};const pipeline$5=getDefaultExportFromCjs$1(pipeline_1$1),pipeline$6=_mergeNamespaces({__proto__:null,default:pipeline$5},[pipeline_1$1]),{pipeline:pipeline$3}=pipeline$6,Duplex$1=requireDuplex(),{destroyer:destroyer$1}=destroy$5,{isNodeStream:isNodeStream$1,isReadable,isWritable:isWritable$1,isWebStream,isTransformStream,isWritableStream,isReadableStream}=utils$u,{AbortError:AbortError$2,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$2}}=errors$2,eos$2=endOfStream$4;var compose$1=function(...$){if($.length===0)throw new ERR_MISSING_ARGS$2("streams");if($.length===1)return Duplex$1.from($[0]);const I=[...$];if(typeof $[0]=="function"&&($[0]=Duplex$1.from($[0])),typeof $[$.length-1]=="function"){const $e=$.length-1;$[$e]=Duplex$1.from($[$e])}for(let $e=0;$e<$.length;++$e)if(!(!isNodeStream$1($[$e])&&!isWebStream($[$e]))){if($e<$.length-1&&!(isReadable($[$e])||isReadableStream($[$e])||isTransformStream($[$e])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${$e}]`,I[$e],"must be readable");if($e>0&&!(isWritable$1($[$e])||isWritableStream($[$e])||isTransformStream($[$e])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${$e}]`,I[$e],"must be writable")}let N,L,B,H,z;function Q($e){const Pe=H;H=null,Pe?Pe($e):$e?z.destroy($e):!Re&&!ie&&z.destroy()}const te=$[0],G=pipeline$3($,Q),ie=!!(isWritable$1(te)||isWritableStream(te)||isTransformStream(te)),Re=!!(isReadable(G)||isReadableStream(G)||isTransformStream(G));if(z=new Duplex$1({writableObjectMode:!!(te!=null&&te.writableObjectMode),readableObjectMode:!!(G!=null&&G.writableObjectMode),writable:ie,readable:Re}),ie){if(isNodeStream$1(te))z._write=function(Pe,Me,Be){te.write(Pe,Me)?Be():N=Be},z._final=function(Pe){te.end(),L=Pe},te.on("drain",function(){if(N){const Pe=N;N=null,Pe()}});else if(isWebStream(te)){const Me=(isTransformStream(te)?te.writable:te).getWriter();z._write=async function(Be,Ke,Le){try{await Me.ready,Me.write(Be).catch(()=>{}),Le()}catch(qe){Le(qe)}},z._final=async function(Be){try{await Me.ready,Me.close().catch(()=>{}),L=Be}catch(Ke){Be(Ke)}}}const $e=isTransformStream(G)?G.readable:G;eos$2($e,()=>{if(L){const Pe=L;L=null,Pe()}})}if(Re){if(isNodeStream$1(G))G.on("readable",function(){if(B){const $e=B;B=null,$e()}}),G.on("end",function(){z.push(null)}),z._read=function(){for(;;){const $e=G.read();if($e===null){B=z._read;return}if(!z.push($e))return}};else if(isWebStream(G)){const Pe=(isTransformStream(G)?G.readable:G).getReader();z._read=async function(){for(;;)try{const{value:Me,done:Be}=await Pe.read();if(!z.push(Me))return;if(Be){z.push(null);return}}catch{return}}}}return z._destroy=function($e,Pe){!$e&&H!==null&&($e=new AbortError$2),B=null,N=null,L=null,H===null?Pe($e):(H=Pe,isNodeStream$1(G)&&destroyer$1(G,$e))},z};const compose$2=getDefaultExportFromCjs$1(compose$1),compose$3=_mergeNamespaces({__proto__:null,default:compose$2},[compose$1]),AbortController$1=globalThis.AbortController||requireBrowser$a().AbortController,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$1,ERR_OUT_OF_RANGE},AbortError:AbortError$1}=errors$2,{validateAbortSignal,validateInteger,validateObject}=validators$2,kWeakHandler=primordials$2.Symbol("kWeak"),{finished}=endOfStream$4,staticCompose=compose$3,{addAbortSignalNoValidate}=addAbortSignal$1,{isWritable,isNodeStream}=utils$u,{ArrayPrototypePush,MathFloor,Number:Number$1,NumberIsNaN,Promise:Promise$1,PromiseReject,PromisePrototypeThen,Symbol:Symbol$1}=primordials$2,kEmpty=Symbol$1("kEmpty"),kEof=Symbol$1("kEof");function compose(T,$){if($!=null&&validateObject($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal($.signal,"options.signal"),isNodeStream(T)&&!isWritable(T))throw new ERR_INVALID_ARG_VALUE("stream",T,"must be writable");const I=staticCompose(this,T);return $!=null&&$.signal&&addAbortSignalNoValidate($.signal,I),I}function map(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],T);$!=null&&validateObject($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal($.signal,"options.signal");let I=1;return($==null?void 0:$.concurrency)!=null&&(I=MathFloor($.concurrency)),validateInteger(I,"concurrency",1),(async function*(){var L,B;const H=new AbortController$1,z=this,Q=[],te=H.signal,G={signal:te},ie=()=>H.abort();$!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted&&ie(),$==null||(B=$.signal)===null||B===void 0||B.addEventListener("abort",ie);let Re,$e,Pe=!1;function Me(){Pe=!0}async function Be(){try{for await(let qe of z){var Ke;if(Pe)return;if(te.aborted)throw new AbortError$1;try{qe=T(qe,G)}catch(He){qe=PromiseReject(He)}qe!==kEmpty&&(typeof((Ke=qe)===null||Ke===void 0?void 0:Ke.catch)=="function"&&qe.catch(Me),Q.push(qe),Re&&(Re(),Re=null),!Pe&&Q.length&&Q.length>=I&&await new Promise$1(He=>{$e=He}))}Q.push(kEof)}catch(qe){const He=PromiseReject(qe);PromisePrototypeThen(He,void 0,Me),Q.push(He)}finally{var Le;Pe=!0,Re&&(Re(),Re=null),$==null||(Le=$.signal)===null||Le===void 0||Le.removeEventListener("abort",ie)}}Be();try{for(;;){for(;Q.length>0;){const Ke=await Q[0];if(Ke===kEof)return;if(te.aborted)throw new AbortError$1;Ke!==kEmpty&&(yield Ke),Q.shift(),$e&&($e(),$e=null)}await new Promise$1(Ke=>{Re=Ke})}}finally{H.abort(),Pe=!0,$e&&($e(),$e=null)}}).call(this)}function asIndexedPairs(T=void 0){return T!=null&&validateObject(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal(T.signal,"options.signal"),(async function*(){let I=0;for await(const L of this){var N;if(T!=null&&(N=T.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$1({cause:T.signal.reason});yield[I++,L]}}).call(this)}async function some(T,$=void 0){for await(const I of filter.call(this,T,$))return!0;return!1}async function every(T,$=void 0){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],T);return!await some.call(this,async(...I)=>!await T(...I),$)}async function find(T,$){for await(const I of filter.call(this,T,$))return I}async function forEach$3(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L),kEmpty}for await(const N of map.call(this,I,$));}function filter(T,$){if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],T);async function I(N,L){return await T(N,L)?N:kEmpty}return map.call(this,I,$)}class ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS$1{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function reduce(T,$,I){var N;if(typeof T!="function")throw new ERR_INVALID_ARG_TYPE$1("reducer",["Function","AsyncFunction"],T);I!=null&&validateObject(I,"options"),(I==null?void 0:I.signal)!=null&&validateAbortSignal(I.signal,"options.signal");let L=arguments.length>1;if(I!=null&&(N=I.signal)!==null&&N!==void 0&&N.aborted){const te=new AbortError$1(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await finished(this.destroy(te)),te}const B=new AbortController$1,H=B.signal;if(I!=null&&I.signal){const te={once:!0,[kWeakHandler]:this};I.signal.addEventListener("abort",()=>B.abort(),te)}let z=!1;try{for await(const te of this){var Q;if(z=!0,I!=null&&(Q=I.signal)!==null&&Q!==void 0&&Q.aborted)throw new AbortError$1;L?$=await T($,te,{signal:H}):($=te,L=!0)}if(!z&&!L)throw new ReduceAwareErrMissingArgs}finally{B.abort()}return $}async function toArray$1(T){T!=null&&validateObject(T,"options"),(T==null?void 0:T.signal)!=null&&validateAbortSignal(T.signal,"options.signal");const $=[];for await(const N of this){var I;if(T!=null&&(I=T.signal)!==null&&I!==void 0&&I.aborted)throw new AbortError$1(void 0,{cause:T.signal.reason});ArrayPrototypePush($,N)}return $}function flatMap(T,$){const I=map.call(this,T,$);return(async function*(){for await(const L of I)yield*L}).call(this)}function toIntegerOrInfinity(T){if(T=Number$1(T),NumberIsNaN(T))return 0;if(T<0)throw new ERR_OUT_OF_RANGE("number",">= 0",T);return T}function drop(T,$=void 0){return $!=null&&validateObject($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal($.signal,"options.signal"),T=toIntegerOrInfinity(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$1;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$1;T--<=0&&(yield B)}}).call(this)}function take(T,$=void 0){return $!=null&&validateObject($,"options"),($==null?void 0:$.signal)!=null&&validateAbortSignal($.signal,"options.signal"),T=toIntegerOrInfinity(T),(async function*(){var N;if($!=null&&(N=$.signal)!==null&&N!==void 0&&N.aborted)throw new AbortError$1;for await(const B of this){var L;if($!=null&&(L=$.signal)!==null&&L!==void 0&&L.aborted)throw new AbortError$1;if(T-- >0)yield B;else return}}).call(this)}var streamReturningOperators=operators$1.streamReturningOperators={asIndexedPairs,drop,filter,flatMap,map,take,compose},promiseReturningOperators=operators$1.promiseReturningOperators={every,forEach:forEach$3,reduce,toArray:toArray$1,some,find};const operators=_mergeNamespaces({__proto__:null,default:operators$1,promiseReturningOperators,streamReturningOperators},[operators$1]);var promises,hasRequiredPromises;function requirePromises(){if(hasRequiredPromises)return promises;hasRequiredPromises=1;const{ArrayPrototypePop:T,Promise:$}=primordials$2,{isIterable:I,isNodeStream:N,isWebStream:L}=utils$u,{pipelineImpl:B}=pipeline$6,{finished:H}=endOfStream$4;requireStream();function z(...Q){return new $((te,G)=>{let ie,Re;const $e=Q[Q.length-1];if($e&&typeof $e=="object"&&!N($e)&&!I($e)&&!L($e)){const Pe=T(Q);ie=Pe.signal,Re=Pe.end}B(Q,(Pe,Me)=>{Pe?G(Pe):te(Me)},{signal:ie,end:Re})})}return promises={finished:H,pipeline:z},promises}var hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream.exports;hasRequiredStream=1;const{Buffer:T}=dist$5,{ObjectDefineProperty:$,ObjectKeys:I,ReflectApply:N}=primordials$2,{promisify:{custom:L}}=util$5,{streamReturningOperators:B,promiseReturningOperators:H}=operators,{codes:{ERR_ILLEGAL_CONSTRUCTOR:z}}=errors$2,Q=compose$3,{pipeline:te}=pipeline$6,{destroyer:G}=destroy$5,ie=endOfStream$4,Re=requirePromises(),$e=utils$u,Pe=stream.exports=legacy$3.Stream;Pe.isDisturbed=$e.isDisturbed,Pe.isErrored=$e.isErrored,Pe.isReadable=$e.isReadable,Pe.Readable=requireReadable();for(const Be of I(B)){let Ke=function(...qe){if(new.target)throw z();return Pe.Readable.from(N(Le,this,qe))};const Le=B[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}for(const Be of I(H)){let Ke=function(...qe){if(new.target)throw z();return N(Le,this,qe)};const Le=H[Be];$(Ke,"name",{__proto__:null,value:Le.name}),$(Ke,"length",{__proto__:null,value:Le.length}),$(Pe.Readable.prototype,Be,{__proto__:null,value:Ke,enumerable:!1,configurable:!0,writable:!0})}Pe.Writable=requireWritable(),Pe.Duplex=requireDuplex(),Pe.Transform=transform$2,Pe.PassThrough=passthrough$2,Pe.pipeline=te;const{addAbortSignal:Me}=addAbortSignal$1;return Pe.addAbortSignal=Me,Pe.finished=ie,Pe.destroy=G,Pe.compose=Q,$(Pe,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Re}}),$(te,L,{__proto__:null,enumerable:!0,get(){return Re.pipeline}}),$(ie,L,{__proto__:null,enumerable:!0,get(){return Re.finished}}),Pe.Stream=Pe,Pe._isUint8Array=function(Ke){return Ke instanceof Uint8Array},Pe._uint8ArrayToBuffer=function(Ke){return T.from(Ke.buffer,Ke.byteOffset,Ke.byteLength)},stream.exports}(function(T){const $=requireStream(),I=requirePromises(),N=$.Readable.destroy;T.exports=$.Readable,T.exports._uint8ArrayToBuffer=$._uint8ArrayToBuffer,T.exports._isUint8Array=$._isUint8Array,T.exports.isDisturbed=$.isDisturbed,T.exports.isErrored=$.isErrored,T.exports.isReadable=$.isReadable,T.exports.Readable=$.Readable,T.exports.Writable=$.Writable,T.exports.Duplex=$.Duplex,T.exports.Transform=$.Transform,T.exports.PassThrough=$.PassThrough,T.exports.addAbortSignal=$.addAbortSignal,T.exports.finished=$.finished,T.exports.destroy=$.destroy,T.exports.destroy=N,T.exports.pipeline=$.pipeline,T.exports.compose=$.compose,Object.defineProperty($,"promises",{configurable:!0,enumerable:!0,get(){return I}}),T.exports.Stream=$.Stream,T.exports.default=T.exports})(browser$h);function getServices({didDocument:T,id:$,type:I}){var N,L;return(L=(N=T==null?void 0:T.service)===null||N===void 0?void 0:N.filter(B=>!($&&B.id!==$||B.type!==I)))!==null&&L!==void 0?L:[]}var DidDhtRegisteredDidType;(function(T){T[T.Discoverable=0]="Discoverable",T[T.Organization=1]="Organization",T[T.Government=2]="Government",T[T.Corporation=3]="Corporation",T[T.LocalBusiness=4]="LocalBusiness",T[T.SoftwarePackage=5]="SoftwarePackage",T[T.WebApp=6]="WebApp",T[T.FinancialInstitution=7]="FinancialInstitution"})(DidDhtRegisteredDidType||(DidDhtRegisteredDidType={}));var DidDhtRegisteredKeyType;(function(T){T[T.Ed25519=0]="Ed25519",T[T.secp256k1=1]="secp256k1",T[T.secp256r1=2]="secp256r1",T[T.X25519=3]="X25519"})(DidDhtRegisteredKeyType||(DidDhtRegisteredKeyType={}));var DidDhtVerificationRelationship;(function(T){T.authentication="auth",T.assertionMethod="asm",T.capabilityDelegation="del",T.capabilityInvocation="inv",T.keyAgreement="agm"})(DidDhtVerificationRelationship||(DidDhtVerificationRelationship={}));DidDhtRegisteredKeyType.Ed25519,DidDhtRegisteredKeyType.secp256k1,DidDhtRegisteredKeyType.secp256r1,DidDhtRegisteredKeyType.secp256r1,DidDhtRegisteredKeyType.secp256k1,DidDhtRegisteredKeyType.secp256r1,DidDhtRegisteredKeyType.X25519;DidDhtRegisteredKeyType.Ed25519+"",DidDhtRegisteredKeyType.secp256k1+"",DidDhtRegisteredKeyType.secp256r1+"",DidDhtRegisteredKeyType.X25519+"";var DidIonRegisteredKeyType;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidIonRegisteredKeyType||(DidIonRegisteredKeyType={}));DidIonRegisteredKeyType.Ed25519,DidIonRegisteredKeyType.secp256k1,DidIonRegisteredKeyType.secp256r1,DidIonRegisteredKeyType.secp256r1,DidIonRegisteredKeyType.secp256k1,DidIonRegisteredKeyType.secp256r1;var DidKeyRegisteredKeyType;(function(T){T.Ed25519="Ed25519",T.secp256k1="secp256k1",T.secp256r1="secp256r1",T.X25519="X25519"})(DidKeyRegisteredKeyType||(DidKeyRegisteredKeyType={}));DidKeyRegisteredKeyType.Ed25519,DidKeyRegisteredKeyType.secp256k1,DidKeyRegisteredKeyType.secp256r1,DidKeyRegisteredKeyType.secp256r1,DidKeyRegisteredKeyType.secp256k1,DidKeyRegisteredKeyType.secp256r1,DidKeyRegisteredKeyType.X25519;const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(T,$){try{return[decodeURIComponent(T.join(""))]}catch{}if(T.length===1)return T;$=$||1;const I=T.slice(0,$),N=T.slice($);return Array.prototype.concat.call([],decodeComponents(I),decodeComponents(N))}function decode$1(T){try{return decodeURIComponent(T)}catch{let $=T.match(singleMatcher)||[];for(let I=1;I<$.length;I++)T=decodeComponents($,I).join(""),$=T.match(singleMatcher)||[];return T}}function customDecodeURIComponent(T){const $={"%FE%FF":"��","%FF%FE":"��"};let I=multiMatcher.exec(T);for(;I;){try{$[I[0]]=decodeURIComponent(I[0])}catch{const L=decode$1(I[0]);L!==I[0]&&($[I[0]]=L)}I=multiMatcher.exec(T)}$["%C2"]="�";const N=Object.keys($);for(const L of N)T=T.replace(new RegExp(L,"g"),$[L]);return T}function decodeUriComponent(T){if(typeof T!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof T+"`");try{return decodeURIComponent(T)}catch{return customDecodeURIComponent(T)}}function splitOnFirst(T,$){if(!(typeof T=="string"&&typeof $=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(T===""||$==="")return[];const I=T.indexOf($);return I===-1?[]:[T.slice(0,I),T.slice(I+$.length)]}function includeKeys(T,$){const I={};if(Array.isArray($))for(const N of $){const L=Object.getOwnPropertyDescriptor(T,N);L!=null&&L.enumerable&&Object.defineProperty(I,N,L)}else for(const N of Reflect.ownKeys(T)){const L=Object.getOwnPropertyDescriptor(T,N);if(L.enumerable){const B=T[N];$(N,B,T)&&Object.defineProperty(I,N,L)}}return I}const isNullOrUndefined=T=>T==null,strictUriEncode=T=>encodeURIComponent(T).replace(/[!'()*]/g,$=>`%${$.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(T){switch(T.arrayFormat){case"index":return $=>(I,N)=>{const L=I.length;return N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,[encode($,T),"[",L,"]"].join("")]:[...I,[encode($,T),"[",encode(L,T),"]=",encode(N,T)].join("")]};case"bracket":return $=>(I,N)=>N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,[encode($,T),"[]"].join("")]:[...I,[encode($,T),"[]=",encode(N,T)].join("")];case"colon-list-separator":return $=>(I,N)=>N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,[encode($,T),":list="].join("")]:[...I,[encode($,T),":list=",encode(N,T)].join("")];case"comma":case"separator":case"bracket-separator":{const $=T.arrayFormat==="bracket-separator"?"[]=":"=";return I=>(N,L)=>L===void 0||T.skipNull&&L===null||T.skipEmptyString&&L===""?N:(L=L===null?"":L,N.length===0?[[encode(I,T),$,encode(L,T)].join("")]:[[N,encode(L,T)].join(T.arrayFormatSeparator)])}default:return $=>(I,N)=>N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,encode($,T)]:[...I,[encode($,T),"=",encode(N,T)].join("")]}}function parserForArrayFormat(T){let $;switch(T.arrayFormat){case"index":return(I,N,L)=>{if($=/\[(\d*)]$/.exec(I),I=I.replace(/\[\d*]$/,""),!$){L[I]=N;return}L[I]===void 0&&(L[I]={}),L[I][$[1]]=N};case"bracket":return(I,N,L)=>{if($=/(\[])$/.exec(I),I=I.replace(/\[]$/,""),!$){L[I]=N;return}if(L[I]===void 0){L[I]=[N];return}L[I]=[...L[I],N]};case"colon-list-separator":return(I,N,L)=>{if($=/(:list)$/.exec(I),I=I.replace(/:list$/,""),!$){L[I]=N;return}if(L[I]===void 0){L[I]=[N];return}L[I]=[...L[I],N]};case"comma":case"separator":return(I,N,L)=>{const B=typeof N=="string"&&N.includes(T.arrayFormatSeparator),H=typeof N=="string"&&!B&&decode(N,T).includes(T.arrayFormatSeparator);N=H?decode(N,T):N;const z=B||H?N.split(T.arrayFormatSeparator).map(Q=>decode(Q,T)):N===null?N:decode(N,T);L[I]=z};case"bracket-separator":return(I,N,L)=>{const B=/(\[])$/.test(I);if(I=I.replace(/\[]$/,""),!B){L[I]=N&&decode(N,T);return}const H=N===null?[]:N.split(T.arrayFormatSeparator).map(z=>decode(z,T));if(L[I]===void 0){L[I]=H;return}L[I]=[...L[I],...H]};default:return(I,N,L)=>{if(L[I]===void 0){L[I]=N;return}L[I]=[...[L[I]].flat(),N]}}}function validateArrayFormatSeparator(T){if(typeof T!="string"||T.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(T,$){return $.encode?$.strict?strictUriEncode(T):encodeURIComponent(T):T}function decode(T,$){return $.decode?decodeUriComponent(T):T}function keysSorter(T){return Array.isArray(T)?T.sort():typeof T=="object"?keysSorter(Object.keys(T)).sort(($,I)=>Number($)-Number(I)).map($=>T[$]):T}function removeHash(T){const $=T.indexOf("#");return $!==-1&&(T=T.slice(0,$)),T}function getHash(T){let $="";const I=T.indexOf("#");return I!==-1&&($=T.slice(I)),$}function parseValue(T,$){return $.parseNumbers&&!Number.isNaN(Number(T))&&typeof T=="string"&&T.trim()!==""?T=Number(T):$.parseBooleans&&T!==null&&(T.toLowerCase()==="true"||T.toLowerCase()==="false")&&(T=T.toLowerCase()==="true"),T}function extract(T){T=removeHash(T);const $=T.indexOf("?");return $===-1?"":T.slice($+1)}function parse(T,$){$={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...$},validateArrayFormatSeparator($.arrayFormatSeparator);const I=parserForArrayFormat($),N=Object.create(null);if(typeof T!="string"||(T=T.trim().replace(/^[?#&]/,""),!T))return N;for(const L of T.split("&")){if(L==="")continue;const B=$.decode?L.replace(/\+/g," "):L;let[H,z]=splitOnFirst(B,"=");H===void 0&&(H=B),z=z===void 0?null:["comma","separator","bracket-separator"].includes($.arrayFormat)?z:decode(z,$),I(decode(H,$),z,N)}for(const[L,B]of Object.entries(N))if(typeof B=="object"&&B!==null)for(const[H,z]of Object.entries(B))B[H]=parseValue(z,$);else N[L]=parseValue(B,$);return $.sort===!1?N:($.sort===!0?Object.keys(N).sort():Object.keys(N).sort($.sort)).reduce((L,B)=>{const H=N[B];return L[B]=H&&typeof H=="object"&&!Array.isArray(H)?keysSorter(H):H,L},Object.create(null))}function stringify(T,$){if(!T)return"";$={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...$},validateArrayFormatSeparator($.arrayFormatSeparator);const I=H=>$.skipNull&&isNullOrUndefined(T[H])||$.skipEmptyString&&T[H]==="",N=encoderForArrayFormat($),L={};for(const[H,z]of Object.entries(T))I(H)||(L[H]=z);const B=Object.keys(L);return $.sort!==!1&&B.sort($.sort),B.map(H=>{const z=T[H];return z===void 0?"":z===null?encode(H,$):Array.isArray(z)?z.length===0&&$.arrayFormat==="bracket-separator"?encode(H,$)+"[]":z.reduce(N(H),[]).join("&"):encode(H,$)+"="+encode(z,$)}).filter(H=>H.length>0).join("&")}function parseUrl(T,$){var L;$={decode:!0,...$};let[I,N]=splitOnFirst(T,"#");return I===void 0&&(I=T),{url:((L=I==null?void 0:I.split("?"))==null?void 0:L[0])??"",query:parse(extract(T),$),...$&&$.parseFragmentIdentifier&&N?{fragmentIdentifier:decode(N,$)}:{}}}function stringifyUrl(T,$){$={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...$};const I=removeHash(T.url).split("?")[0]||"",N=extract(T.url),L={...parse(N,{sort:!1}),...T.query};let B=stringify(L,$);B&&(B=`?${B}`);let H=getHash(T.url);if(T.fragmentIdentifier){const z=new URL(I);z.hash=T.fragmentIdentifier,H=$[encodeFragmentIdentifier]?z.hash:`#${T.fragmentIdentifier}`}return`${I}${B}${H}`}function pick(T,$,I){I={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...I};const{url:N,query:L,fragmentIdentifier:B}=parseUrl(T,I);return stringifyUrl({url:N,query:includeKeys(L,$),fragmentIdentifier:B},I)}function exclude(T,$,I){const N=Array.isArray($)?L=>!$.includes(L):(L,B)=>!$(L,B);return pick(T,N,I)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl,pick,stringify,stringifyUrl},Symbol.toStringTag,{value:"Module"})),requestTokenRequiredClaims=["aud","iss","exp","iat","jti"];class TbdexHttpClient{static async createExchange($,I){await $.verify();const{to:N}=$.metadata,L=JSON.stringify({rfq:$,replyTo:I==null?void 0:I.replyTo});await TbdexHttpClient.sendMessage(N,"POST","/exchanges",L)}static async submitOrder($){await $.verify();const{to:I,exchangeId:N}=$.metadata,L=JSON.stringify($);await TbdexHttpClient.sendMessage(I,"PUT",`/exchanges/${N}`,L)}static async submitClose($){await $.verify();const{to:I,exchangeId:N}=$.metadata,L=JSON.stringify($);await TbdexHttpClient.sendMessage(I,"PUT",`/exchanges/${N}`,L)}static async sendMessage($,I,N,L){const H=`${await TbdexHttpClient.getPfiServiceEndpoint($)}${N}`;let z;try{z=await fetch(H,{method:I,headers:{"content-type":"application/json"},body:L})}catch(Q){throw new RequestError({message:`Failed to send message to ${$}`,recipientDid:$,url:H,cause:Q})}if(!z.ok){const Q=await z.json();throw new ResponseError({statusCode:z.status,details:Q,recipientDid:$,url:H})}}static async getOfferings($){const{pfiDid:I}=$,L=`${await TbdexHttpClient.getPfiServiceEndpoint(I)}/offerings`;let B;try{B=await fetch(L)}catch(te){throw new RequestError({message:`Failed to get offerings from ${I}`,recipientDid:I,url:L,cause:te})}const H=[];if(!B.ok){const te=await B.json();throw new ResponseError({statusCode:B.status,details:te,recipientDid:I,url:L})}const Q=(await B.json()).data;for(let te of Q){const G=await Offering.parse(te);H.push(G)}return H}static async getBalances($){const{pfiDid:I,did:N}=$,B=`${await TbdexHttpClient.getPfiServiceEndpoint(I)}/balances`,H=await TbdexHttpClient.generateRequestToken({requesterDid:N,pfiDid:I});let z;try{z=await fetch(B,{headers:{authorization:`Bearer ${H}`}})}catch(G){throw new RequestError({message:`Failed to get balances from ${I}`,recipientDid:I,url:B,cause:G})}if(!z.ok){const G=await z.json();throw new ResponseError({statusCode:z.status,details:G,recipientDid:I,url:B})}return(await z.json()).data}static async getExchange($){const{pfiDid:I,exchangeId:N,did:L}=$,H=`${await TbdexHttpClient.getPfiServiceEndpoint(I)}/exchanges/${N}`,z=await TbdexHttpClient.generateRequestToken({requesterDid:L,pfiDid:I});let Q;try{Q=await fetch(H,{headers:{authorization:`Bearer ${z}`}})}catch(ie){throw new RequestError({message:`Failed to get exchange from ${I}`,recipientDid:I,url:H,cause:ie})}const te=[];if(!Q.ok){const ie=await Q.json();throw new ResponseError({statusCode:Q.status,details:ie,recipientDid:I,url:H})}const G=await Q.json();for(let ie of G.data){const Re=await Parser.parseMessage(ie);te.push(Re)}return te}static async getExchanges($){const{pfiDid:I,filter:N,did:L}=$,B=await TbdexHttpClient.getPfiServiceEndpoint(I),H=N?`?${queryString.stringify(N)}`:"",z=`${B}/exchanges${H}`,Q=await TbdexHttpClient.generateRequestToken({requesterDid:L,pfiDid:I});let te;try{te=await fetch(z,{headers:{authorization:`Bearer ${Q}`}})}catch(Re){throw new RequestError({message:`Failed to get exchanges from ${I}`,recipientDid:I,url:z,cause:Re})}const G=[];if(!te.ok){const Re=await te.json();throw new ResponseError({statusCode:te.status,details:Re,recipientDid:I,url:z})}const ie=await te.json();for(let Re of ie.data){const $e=[];for(let Pe of Re){const Me=await Parser.parseMessage(Pe);$e.push(Me)}G.push($e)}return G}static async getPfiServiceEndpoint($){let I;try{I=await resolveDid($)}catch(L){throw new InvalidDidError(L.message)}const[N]=getServices({didDocument:I,type:"PFI"});if(!(N!=null&&N.serviceEndpoint))throw new MissingServiceEndpointError(`${$} has no PFI service entry`);return N.serviceEndpoint}static async generateRequestToken($){const{pfiDid:I,requesterDid:N}=$,L=Date.now(),B=L+ms$1("1m"),H={aud:I,iss:N.uri,exp:Math.floor(B/1e3),iat:Math.floor(L/1e3),jti:typeid().getSuffix()};try{return await Jwt.sign({signerDid:N,payload:H})}catch(z){throw new RequestTokenSigningError({message:z.message,cause:z})}}static async verifyRequestToken($){let I;try{I=await Jwt.verify({jwt:$.requestToken})}catch(z){throw new RequestTokenVerificationError({message:z.message,cause:z})}const{header:N,payload:L}=I;for(let z of requestTokenRequiredClaims)if(!L[z])throw new RequestTokenMissingClaimsError({message:`Request token missing ${z} claim. Expected ${requestTokenRequiredClaims}.`});if(L.aud!==$.pfiDid)throw new RequestTokenAudienceMismatchError({message:"Request token contains invalid audience. Expected aud property to be PFI DID."});const B=N.kid,H=L.iss;if(!B.includes(H))throw new RequestTokenIssuerSignerMismatchError({message:"Request token issuer does not match signer"});return H}}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(T,$){(function(I){T.exports=I()})(function(){return function I(N,L,B){function H(te,G){if(!L[te]){if(!N[te]){var ie=typeof commonjsRequire=="function"&&commonjsRequire;if(!G&&ie)return ie(te,!0);if(z)return z(te,!0);var Re=new Error("Cannot find module '"+te+"'");throw Re.code="MODULE_NOT_FOUND",Re}var $e=L[te]={exports:{}};N[te][0].call($e.exports,function(Pe){var Me=N[te][1][Pe];return H(Me||Pe)},$e,$e.exports,I,N,L,B)}return L[te].exports}for(var z=typeof commonjsRequire=="function"&&commonjsRequire,Q=0;Q<B.length;Q++)H(B[Q]);return H}({1:[function(I,N,L){(function(B){var H=B.MutationObserver||B.WebKitMutationObserver,z;if(H){var Q=0,te=new H(Pe),G=B.document.createTextNode("");te.observe(G,{characterData:!0}),z=function(){G.data=Q=++Q%2}}else if(!B.setImmediate&&typeof B.MessageChannel<"u"){var ie=new B.MessageChannel;ie.port1.onmessage=Pe,z=function(){ie.port2.postMessage(0)}}else"document"in B&&"onreadystatechange"in B.document.createElement("script")?z=function(){var Be=B.document.createElement("script");Be.onreadystatechange=function(){Pe(),Be.onreadystatechange=null,Be.parentNode.removeChild(Be),Be=null},B.document.documentElement.appendChild(Be)}:z=function(){setTimeout(Pe,0)};var Re,$e=[];function Pe(){Re=!0;for(var Be,Ke,Le=$e.length;Le;){for(Ke=$e,$e=[],Be=-1;++Be<Le;)Ke[Be]();Le=$e.length}Re=!1}N.exports=Me;function Me(Be){$e.push(Be)===1&&!Re&&z()}}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(I,N,L){var B=I(1);function H(){}var z={},Q=["REJECTED"],te=["FULFILLED"],G=["PENDING"];N.exports=ie;function ie(Ge){if(typeof Ge!="function")throw new TypeError("resolver must be a function");this.state=G,this.queue=[],this.outcome=void 0,Ge!==H&&Me(this,Ge)}ie.prototype.catch=function(Ge){return this.then(null,Ge)},ie.prototype.then=function(Ge,at){if(typeof Ge!="function"&&this.state===te||typeof at!="function"&&this.state===Q)return this;var ot=new this.constructor(H);if(this.state!==G){var Ye=this.state===te?Ge:at;$e(ot,Ye,this.outcome)}else this.queue.push(new Re(ot,Ge,at));return ot};function Re(Ge,at,ot){this.promise=Ge,typeof at=="function"&&(this.onFulfilled=at,this.callFulfilled=this.otherCallFulfilled),typeof ot=="function"&&(this.onRejected=ot,this.callRejected=this.otherCallRejected)}Re.prototype.callFulfilled=function(Ge){z.resolve(this.promise,Ge)},Re.prototype.otherCallFulfilled=function(Ge){$e(this.promise,this.onFulfilled,Ge)},Re.prototype.callRejected=function(Ge){z.reject(this.promise,Ge)},Re.prototype.otherCallRejected=function(Ge){$e(this.promise,this.onRejected,Ge)};function $e(Ge,at,ot){B(function(){var Ye;try{Ye=at(ot)}catch(nt){return z.reject(Ge,nt)}Ye===Ge?z.reject(Ge,new TypeError("Cannot resolve promise with itself")):z.resolve(Ge,Ye)})}z.resolve=function(Ge,at){var ot=Be(Pe,at);if(ot.status==="error")return z.reject(Ge,ot.value);var Ye=ot.value;if(Ye)Me(Ge,Ye);else{Ge.state=te,Ge.outcome=at;for(var nt=-1,Qe=Ge.queue.length;++nt<Qe;)Ge.queue[nt].callFulfilled(at)}return Ge},z.reject=function(Ge,at){Ge.state=Q,Ge.outcome=at;for(var ot=-1,Ye=Ge.queue.length;++ot<Ye;)Ge.queue[ot].callRejected(at);return Ge};function Pe(Ge){var at=Ge&&Ge.then;if(Ge&&(typeof Ge=="object"||typeof Ge=="function")&&typeof at=="function")return function(){at.apply(Ge,arguments)}}function Me(Ge,at){var ot=!1;function Ye(ze){ot||(ot=!0,z.reject(Ge,ze))}function nt(ze){ot||(ot=!0,z.resolve(Ge,ze))}function Qe(){at(nt,Ye)}var tt=Be(Qe);tt.status==="error"&&Ye(tt.value)}function Be(Ge,at){var ot={};try{ot.value=Ge(at),ot.status="success"}catch(Ye){ot.status="error",ot.value=Ye}return ot}ie.resolve=Ke;function Ke(Ge){return Ge instanceof this?Ge:z.resolve(new this(H),Ge)}ie.reject=Le;function Le(Ge){var at=new this(H);return z.reject(at,Ge)}ie.all=qe;function qe(Ge){var at=this;if(Object.prototype.toString.call(Ge)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ot=Ge.length,Ye=!1;if(!ot)return this.resolve([]);for(var nt=new Array(ot),Qe=0,tt=-1,ze=new this(H);++tt<ot;)Fe(Ge[tt],tt);return ze;function Fe(ke,Ue){at.resolve(ke).then(Je,function(rt){Ye||(Ye=!0,z.reject(ze,rt))});function Je(rt){nt[Ue]=rt,++Qe===ot&&!Ye&&(Ye=!0,z.resolve(ze,nt))}}}ie.race=He;function He(Ge){var at=this;if(Object.prototype.toString.call(Ge)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ot=Ge.length,Ye=!1;if(!ot)return this.resolve([]);for(var nt=-1,Qe=new this(H);++nt<ot;)tt(Ge[nt]);return Qe;function tt(ze){at.resolve(ze).then(function(Fe){Ye||(Ye=!0,z.resolve(Qe,Fe))},function(Fe){Ye||(Ye=!0,z.reject(Qe,Fe))})}}},{1:1}],3:[function(I,N,L){(function(B){typeof B.Promise!="function"&&(B.Promise=I(2))}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(I,N,L){var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt};function H(Qt,vr){if(!(Qt instanceof vr))throw new TypeError("Cannot call a class as a function")}function z(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var Q=z();function te(){try{if(!Q||!Q.open)return!1;var Qt=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),vr=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Qt||vr)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function G(Qt,vr){Qt=Qt||[],vr=vr||{};try{return new Blob(Qt,vr)}catch(wr){if(wr.name!=="TypeError")throw wr;for(var ar=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Sr=new ar,Tr=0;Tr<Qt.length;Tr+=1)Sr.append(Qt[Tr]);return Sr.getBlob(vr.type)}}typeof Promise>"u"&&I(3);var ie=Promise;function Re(Qt,vr){vr&&Qt.then(function(ar){vr(null,ar)},function(ar){vr(ar)})}function $e(Qt,vr,ar){typeof vr=="function"&&Qt.then(vr),typeof ar=="function"&&Qt.catch(ar)}function Pe(Qt){return typeof Qt!="string"&&(console.warn(Qt+" used as a key, but it is not a string."),Qt=String(Qt)),Qt}function Me(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Be="local-forage-detect-blob-support",Ke=void 0,Le={},qe=Object.prototype.toString,He="readonly",Ge="readwrite";function at(Qt){for(var vr=Qt.length,ar=new ArrayBuffer(vr),Sr=new Uint8Array(ar),Tr=0;Tr<vr;Tr++)Sr[Tr]=Qt.charCodeAt(Tr);return ar}function ot(Qt){return new ie(function(vr){var ar=Qt.transaction(Be,Ge),Sr=G([""]);ar.objectStore(Be).put(Sr,"key"),ar.onabort=function(Tr){Tr.preventDefault(),Tr.stopPropagation(),vr(!1)},ar.oncomplete=function(){var Tr=navigator.userAgent.match(/Chrome\/(\d+)/),wr=navigator.userAgent.match(/Edge\//);vr(wr||!Tr||parseInt(Tr[1],10)>=43)}}).catch(function(){return!1})}function Ye(Qt){return typeof Ke=="boolean"?ie.resolve(Ke):ot(Qt).then(function(vr){return Ke=vr,Ke})}function nt(Qt){var vr=Le[Qt.name],ar={};ar.promise=new ie(function(Sr,Tr){ar.resolve=Sr,ar.reject=Tr}),vr.deferredOperations.push(ar),vr.dbReady?vr.dbReady=vr.dbReady.then(function(){return ar.promise}):vr.dbReady=ar.promise}function Qe(Qt){var vr=Le[Qt.name],ar=vr.deferredOperations.pop();if(ar)return ar.resolve(),ar.promise}function tt(Qt,vr){var ar=Le[Qt.name],Sr=ar.deferredOperations.pop();if(Sr)return Sr.reject(vr),Sr.promise}function ze(Qt,vr){return new ie(function(ar,Sr){if(Le[Qt.name]=Le[Qt.name]||je(),Qt.db)if(vr)nt(Qt),Qt.db.close();else return ar(Qt.db);var Tr=[Qt.name];vr&&Tr.push(Qt.version);var wr=Q.open.apply(Q,Tr);vr&&(wr.onupgradeneeded=function(jr){var Ur=wr.result;try{Ur.createObjectStore(Qt.storeName),jr.oldVersion<=1&&Ur.createObjectStore(Be)}catch(Vr){if(Vr.name==="ConstraintError")console.warn('The database "'+Qt.name+'" has been upgraded from version '+jr.oldVersion+" to version "+jr.newVersion+', but the storage "'+Qt.storeName+'" already exists.');else throw Vr}}),wr.onerror=function(jr){jr.preventDefault(),Sr(wr.error)},wr.onsuccess=function(){var jr=wr.result;jr.onversionchange=function(Ur){Ur.target.close()},ar(jr),Qe(Qt)}})}function Fe(Qt){return ze(Qt,!1)}function ke(Qt){return ze(Qt,!0)}function Ue(Qt,vr){if(!Qt.db)return!0;var ar=!Qt.db.objectStoreNames.contains(Qt.storeName),Sr=Qt.version<Qt.db.version,Tr=Qt.version>Qt.db.version;if(Sr&&(Qt.version!==vr&&console.warn('The database "'+Qt.name+`" can't be downgraded from version `+Qt.db.version+" to version "+Qt.version+"."),Qt.version=Qt.db.version),Tr||ar){if(ar){var wr=Qt.db.version+1;wr>Qt.version&&(Qt.version=wr)}return!0}return!1}function Je(Qt){return new ie(function(vr,ar){var Sr=new FileReader;Sr.onerror=ar,Sr.onloadend=function(Tr){var wr=btoa(Tr.target.result||"");vr({__local_forage_encoded_blob:!0,data:wr,type:Qt.type})},Sr.readAsBinaryString(Qt)})}function rt(Qt){var vr=at(atob(Qt.data));return G([vr],{type:Qt.type})}function Xe(Qt){return Qt&&Qt.__local_forage_encoded_blob}function it(Qt){var vr=this,ar=vr._initReady().then(function(){var Sr=Le[vr._dbInfo.name];if(Sr&&Sr.dbReady)return Sr.dbReady});return $e(ar,Qt,Qt),ar}function We(Qt){nt(Qt);for(var vr=Le[Qt.name],ar=vr.forages,Sr=0;Sr<ar.length;Sr++){var Tr=ar[Sr];Tr._dbInfo.db&&(Tr._dbInfo.db.close(),Tr._dbInfo.db=null)}return Qt.db=null,Fe(Qt).then(function(wr){return Qt.db=wr,Ue(Qt)?ke(Qt):wr}).then(function(wr){Qt.db=vr.db=wr;for(var jr=0;jr<ar.length;jr++)ar[jr]._dbInfo.db=wr}).catch(function(wr){throw tt(Qt,wr),wr})}function Ve(Qt,vr,ar,Sr){Sr===void 0&&(Sr=1);try{var Tr=Qt.db.transaction(Qt.storeName,vr);ar(null,Tr)}catch(wr){if(Sr>0&&(!Qt.db||wr.name==="InvalidStateError"||wr.name==="NotFoundError"))return ie.resolve().then(function(){if(!Qt.db||wr.name==="NotFoundError"&&!Qt.db.objectStoreNames.contains(Qt.storeName)&&Qt.version<=Qt.db.version)return Qt.db&&(Qt.version=Qt.db.version+1),ke(Qt)}).then(function(){return We(Qt).then(function(){Ve(Qt,vr,ar,Sr-1)})}).catch(ar);ar(wr)}}function je(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ze(Qt){var vr=this,ar={db:null};if(Qt)for(var Sr in Qt)ar[Sr]=Qt[Sr];var Tr=Le[ar.name];Tr||(Tr=je(),Le[ar.name]=Tr),Tr.forages.push(vr),vr._initReady||(vr._initReady=vr.ready,vr.ready=it);var wr=[];function jr(){return ie.resolve()}for(var Ur=0;Ur<Tr.forages.length;Ur++){var Vr=Tr.forages[Ur];Vr!==vr&&wr.push(Vr._initReady().catch(jr))}var Gr=Tr.forages.slice(0);return ie.all(wr).then(function(){return ar.db=Tr.db,Fe(ar)}).then(function(Zr){return ar.db=Zr,Ue(ar,vr._defaultConfig.version)?ke(ar):Zr}).then(function(Zr){ar.db=Tr.db=Zr,vr._dbInfo=ar;for(var un=0;un<Gr.length;un++){var wn=Gr[un];wn!==vr&&(wn._dbInfo.db=ar.db,wn._dbInfo.version=ar.version)}})}function st(Qt,vr){var ar=this;Qt=Pe(Qt);var Sr=new ie(function(Tr,wr){ar.ready().then(function(){Ve(ar._dbInfo,He,function(jr,Ur){if(jr)return wr(jr);try{var Vr=Ur.objectStore(ar._dbInfo.storeName),Gr=Vr.get(Qt);Gr.onsuccess=function(){var Zr=Gr.result;Zr===void 0&&(Zr=null),Xe(Zr)&&(Zr=rt(Zr)),Tr(Zr)},Gr.onerror=function(){wr(Gr.error)}}catch(Zr){wr(Zr)}})}).catch(wr)});return Re(Sr,vr),Sr}function dt(Qt,vr){var ar=this,Sr=new ie(function(Tr,wr){ar.ready().then(function(){Ve(ar._dbInfo,He,function(jr,Ur){if(jr)return wr(jr);try{var Vr=Ur.objectStore(ar._dbInfo.storeName),Gr=Vr.openCursor(),Zr=1;Gr.onsuccess=function(){var un=Gr.result;if(un){var wn=un.value;Xe(wn)&&(wn=rt(wn));var fn=Qt(wn,un.key,Zr++);fn!==void 0?Tr(fn):un.continue()}else Tr()},Gr.onerror=function(){wr(Gr.error)}}catch(un){wr(un)}})}).catch(wr)});return Re(Sr,vr),Sr}function bt(Qt,vr,ar){var Sr=this;Qt=Pe(Qt);var Tr=new ie(function(wr,jr){var Ur;Sr.ready().then(function(){return Ur=Sr._dbInfo,qe.call(vr)==="[object Blob]"?Ye(Ur.db).then(function(Vr){return Vr?vr:Je(vr)}):vr}).then(function(Vr){Ve(Sr._dbInfo,Ge,function(Gr,Zr){if(Gr)return jr(Gr);try{var un=Zr.objectStore(Sr._dbInfo.storeName);Vr===null&&(Vr=void 0);var wn=un.put(Vr,Qt);Zr.oncomplete=function(){Vr===void 0&&(Vr=null),wr(Vr)},Zr.onabort=Zr.onerror=function(){var fn=wn.error?wn.error:wn.transaction.error;jr(fn)}}catch(fn){jr(fn)}})}).catch(jr)});return Re(Tr,ar),Tr}function vt(Qt,vr){var ar=this;Qt=Pe(Qt);var Sr=new ie(function(Tr,wr){ar.ready().then(function(){Ve(ar._dbInfo,Ge,function(jr,Ur){if(jr)return wr(jr);try{var Vr=Ur.objectStore(ar._dbInfo.storeName),Gr=Vr.delete(Qt);Ur.oncomplete=function(){Tr()},Ur.onerror=function(){wr(Gr.error)},Ur.onabort=function(){var Zr=Gr.error?Gr.error:Gr.transaction.error;wr(Zr)}}catch(Zr){wr(Zr)}})}).catch(wr)});return Re(Sr,vr),Sr}function St(Qt){var vr=this,ar=new ie(function(Sr,Tr){vr.ready().then(function(){Ve(vr._dbInfo,Ge,function(wr,jr){if(wr)return Tr(wr);try{var Ur=jr.objectStore(vr._dbInfo.storeName),Vr=Ur.clear();jr.oncomplete=function(){Sr()},jr.onabort=jr.onerror=function(){var Gr=Vr.error?Vr.error:Vr.transaction.error;Tr(Gr)}}catch(Gr){Tr(Gr)}})}).catch(Tr)});return Re(ar,Qt),ar}function Bt(Qt){var vr=this,ar=new ie(function(Sr,Tr){vr.ready().then(function(){Ve(vr._dbInfo,He,function(wr,jr){if(wr)return Tr(wr);try{var Ur=jr.objectStore(vr._dbInfo.storeName),Vr=Ur.count();Vr.onsuccess=function(){Sr(Vr.result)},Vr.onerror=function(){Tr(Vr.error)}}catch(Gr){Tr(Gr)}})}).catch(Tr)});return Re(ar,Qt),ar}function Gt(Qt,vr){var ar=this,Sr=new ie(function(Tr,wr){if(Qt<0){Tr(null);return}ar.ready().then(function(){Ve(ar._dbInfo,He,function(jr,Ur){if(jr)return wr(jr);try{var Vr=Ur.objectStore(ar._dbInfo.storeName),Gr=!1,Zr=Vr.openKeyCursor();Zr.onsuccess=function(){var un=Zr.result;if(!un){Tr(null);return}Qt===0||Gr?Tr(un.key):(Gr=!0,un.advance(Qt))},Zr.onerror=function(){wr(Zr.error)}}catch(un){wr(un)}})}).catch(wr)});return Re(Sr,vr),Sr}function Dt(Qt){var vr=this,ar=new ie(function(Sr,Tr){vr.ready().then(function(){Ve(vr._dbInfo,He,function(wr,jr){if(wr)return Tr(wr);try{var Ur=jr.objectStore(vr._dbInfo.storeName),Vr=Ur.openKeyCursor(),Gr=[];Vr.onsuccess=function(){var Zr=Vr.result;if(!Zr){Sr(Gr);return}Gr.push(Zr.key),Zr.continue()},Vr.onerror=function(){Tr(Vr.error)}}catch(Zr){Tr(Zr)}})}).catch(Tr)});return Re(ar,Qt),ar}function Mt(Qt,vr){vr=Me.apply(this,arguments);var ar=this.config();Qt=typeof Qt!="function"&&Qt||{},Qt.name||(Qt.name=Qt.name||ar.name,Qt.storeName=Qt.storeName||ar.storeName);var Sr=this,Tr;if(!Qt.name)Tr=ie.reject("Invalid arguments");else{var wr=Qt.name===ar.name&&Sr._dbInfo.db,jr=wr?ie.resolve(Sr._dbInfo.db):Fe(Qt).then(function(Ur){var Vr=Le[Qt.name],Gr=Vr.forages;Vr.db=Ur;for(var Zr=0;Zr<Gr.length;Zr++)Gr[Zr]._dbInfo.db=Ur;return Ur});Qt.storeName?Tr=jr.then(function(Ur){if(Ur.objectStoreNames.contains(Qt.storeName)){var Vr=Ur.version+1;nt(Qt);var Gr=Le[Qt.name],Zr=Gr.forages;Ur.close();for(var un=0;un<Zr.length;un++){var wn=Zr[un];wn._dbInfo.db=null,wn._dbInfo.version=Vr}var fn=new ie(function(xn,$n){var On=Q.open(Qt.name,Vr);On.onerror=function(Vn){var Jn=On.result;Jn.close(),$n(Vn)},On.onupgradeneeded=function(){var Vn=On.result;Vn.deleteObjectStore(Qt.storeName)},On.onsuccess=function(){var Vn=On.result;Vn.close(),xn(Vn)}});return fn.then(function(xn){Gr.db=xn;for(var $n=0;$n<Zr.length;$n++){var On=Zr[$n];On._dbInfo.db=xn,Qe(On._dbInfo)}}).catch(function(xn){throw(tt(Qt,xn)||ie.resolve()).catch(function(){}),xn})}}):Tr=jr.then(function(Ur){nt(Qt);var Vr=Le[Qt.name],Gr=Vr.forages;Ur.close();for(var Zr=0;Zr<Gr.length;Zr++){var un=Gr[Zr];un._dbInfo.db=null}var wn=new ie(function(fn,xn){var $n=Q.deleteDatabase(Qt.name);$n.onerror=function(){var On=$n.result;On&&On.close(),xn($n.error)},$n.onblocked=function(){console.warn('dropInstance blocked for database "'+Qt.name+'" until all open connections are closed')},$n.onsuccess=function(){var On=$n.result;On&&On.close(),fn(On)}});return wn.then(function(fn){Vr.db=fn;for(var xn=0;xn<Gr.length;xn++){var $n=Gr[xn];Qe($n._dbInfo)}}).catch(function(fn){throw(tt(Qt,fn)||ie.resolve()).catch(function(){}),fn})})}return Re(Tr,vr),Tr}var pt={_driver:"asyncStorage",_initStorage:Ze,_support:te(),iterate:dt,getItem:st,setItem:bt,removeItem:vt,clear:St,length:Bt,key:Gt,keys:Dt,dropInstance:Mt};function mt(){return typeof openDatabase=="function"}var $t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kt="~~local_forage_type~",Ft=/^~~local_forage_type~([^~]+)~/,nr="__lfsc__:",Yt=nr.length,yr="arbf",gr="blob",br="si08",cr="ui08",pr="uic8",lt="si16",ct="si32",Nt="ur16",jt="ui32",zt="fl32",Ot="fl64",Rt=Yt+yr.length,It=Object.prototype.toString;function Kt(Qt){var vr=Qt.length*.75,ar=Qt.length,Sr,Tr=0,wr,jr,Ur,Vr;Qt[Qt.length-1]==="="&&(vr--,Qt[Qt.length-2]==="="&&vr--);var Gr=new ArrayBuffer(vr),Zr=new Uint8Array(Gr);for(Sr=0;Sr<ar;Sr+=4)wr=$t.indexOf(Qt[Sr]),jr=$t.indexOf(Qt[Sr+1]),Ur=$t.indexOf(Qt[Sr+2]),Vr=$t.indexOf(Qt[Sr+3]),Zr[Tr++]=wr<<2|jr>>4,Zr[Tr++]=(jr&15)<<4|Ur>>2,Zr[Tr++]=(Ur&3)<<6|Vr&63;return Gr}function tr(Qt){var vr=new Uint8Array(Qt),ar="",Sr;for(Sr=0;Sr<vr.length;Sr+=3)ar+=$t[vr[Sr]>>2],ar+=$t[(vr[Sr]&3)<<4|vr[Sr+1]>>4],ar+=$t[(vr[Sr+1]&15)<<2|vr[Sr+2]>>6],ar+=$t[vr[Sr+2]&63];return vr.length%3===2?ar=ar.substring(0,ar.length-1)+"=":vr.length%3===1&&(ar=ar.substring(0,ar.length-2)+"=="),ar}function dr(Qt,vr){var ar="";if(Qt&&(ar=It.call(Qt)),Qt&&(ar==="[object ArrayBuffer]"||Qt.buffer&&It.call(Qt.buffer)==="[object ArrayBuffer]")){var Sr,Tr=nr;Qt instanceof ArrayBuffer?(Sr=Qt,Tr+=yr):(Sr=Qt.buffer,ar==="[object Int8Array]"?Tr+=br:ar==="[object Uint8Array]"?Tr+=cr:ar==="[object Uint8ClampedArray]"?Tr+=pr:ar==="[object Int16Array]"?Tr+=lt:ar==="[object Uint16Array]"?Tr+=Nt:ar==="[object Int32Array]"?Tr+=ct:ar==="[object Uint32Array]"?Tr+=jt:ar==="[object Float32Array]"?Tr+=zt:ar==="[object Float64Array]"?Tr+=Ot:vr(new Error("Failed to get type for BinaryArray"))),vr(Tr+tr(Sr))}else if(ar==="[object Blob]"){var wr=new FileReader;wr.onload=function(){var jr=kt+Qt.type+"~"+tr(this.result);vr(nr+gr+jr)},wr.readAsArrayBuffer(Qt)}else try{vr(JSON.stringify(Qt))}catch(jr){console.error("Couldn't convert value into a JSON string: ",Qt),vr(null,jr)}}function _r(Qt){if(Qt.substring(0,Yt)!==nr)return JSON.parse(Qt);var vr=Qt.substring(Rt),ar=Qt.substring(Yt,Rt),Sr;if(ar===gr&&Ft.test(vr)){var Tr=vr.match(Ft);Sr=Tr[1],vr=vr.substring(Tr[0].length)}var wr=Kt(vr);switch(ar){case yr:return wr;case gr:return G([wr],{type:Sr});case br:return new Int8Array(wr);case cr:return new Uint8Array(wr);case pr:return new Uint8ClampedArray(wr);case lt:return new Int16Array(wr);case Nt:return new Uint16Array(wr);case ct:return new Int32Array(wr);case jt:return new Uint32Array(wr);case zt:return new Float32Array(wr);case Ot:return new Float64Array(wr);default:throw new Error("Unkown type: "+ar)}}var Nr={serialize:dr,deserialize:_r,stringToBuffer:Kt,bufferToString:tr};function qr(Qt,vr,ar,Sr){Qt.executeSql("CREATE TABLE IF NOT EXISTS "+vr.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ar,Sr)}function Br(Qt){var vr=this,ar={db:null};if(Qt)for(var Sr in Qt)ar[Sr]=typeof Qt[Sr]!="string"?Qt[Sr].toString():Qt[Sr];var Tr=new ie(function(wr,jr){try{ar.db=openDatabase(ar.name,String(ar.version),ar.description,ar.size)}catch(Ur){return jr(Ur)}ar.db.transaction(function(Ur){qr(Ur,ar,function(){vr._dbInfo=ar,wr()},function(Vr,Gr){jr(Gr)})},jr)});return ar.serializer=Nr,Tr}function Qr(Qt,vr,ar,Sr,Tr,wr){Qt.executeSql(ar,Sr,Tr,function(jr,Ur){Ur.code===Ur.SYNTAX_ERR?jr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[vr.storeName],function(Vr,Gr){Gr.rows.length?wr(Vr,Ur):qr(Vr,vr,function(){Vr.executeSql(ar,Sr,Tr,wr)},wr)},wr):wr(jr,Ur)},wr)}function Wr(Qt,vr){var ar=this;Qt=Pe(Qt);var Sr=new ie(function(Tr,wr){ar.ready().then(function(){var jr=ar._dbInfo;jr.db.transaction(function(Ur){Qr(Ur,jr,"SELECT * FROM "+jr.storeName+" WHERE key = ? LIMIT 1",[Qt],function(Vr,Gr){var Zr=Gr.rows.length?Gr.rows.item(0).value:null;Zr&&(Zr=jr.serializer.deserialize(Zr)),Tr(Zr)},function(Vr,Gr){wr(Gr)})})}).catch(wr)});return Re(Sr,vr),Sr}function Kr(Qt,vr){var ar=this,Sr=new ie(function(Tr,wr){ar.ready().then(function(){var jr=ar._dbInfo;jr.db.transaction(function(Ur){Qr(Ur,jr,"SELECT * FROM "+jr.storeName,[],function(Vr,Gr){for(var Zr=Gr.rows,un=Zr.length,wn=0;wn<un;wn++){var fn=Zr.item(wn),xn=fn.value;if(xn&&(xn=jr.serializer.deserialize(xn)),xn=Qt(xn,fn.key,wn+1),xn!==void 0){Tr(xn);return}}Tr()},function(Vr,Gr){wr(Gr)})})}).catch(wr)});return Re(Sr,vr),Sr}function Yr(Qt,vr,ar,Sr){var Tr=this;Qt=Pe(Qt);var wr=new ie(function(jr,Ur){Tr.ready().then(function(){vr===void 0&&(vr=null);var Vr=vr,Gr=Tr._dbInfo;Gr.serializer.serialize(vr,function(Zr,un){un?Ur(un):Gr.db.transaction(function(wn){Qr(wn,Gr,"INSERT OR REPLACE INTO "+Gr.storeName+" (key, value) VALUES (?, ?)",[Qt,Zr],function(){jr(Vr)},function(fn,xn){Ur(xn)})},function(wn){if(wn.code===wn.QUOTA_ERR){if(Sr>0){jr(Yr.apply(Tr,[Qt,Vr,ar,Sr-1]));return}Ur(wn)}})})}).catch(Ur)});return Re(wr,ar),wr}function Pt(Qt,vr,ar){return Yr.apply(this,[Qt,vr,ar,1])}function Wt(Qt,vr){var ar=this;Qt=Pe(Qt);var Sr=new ie(function(Tr,wr){ar.ready().then(function(){var jr=ar._dbInfo;jr.db.transaction(function(Ur){Qr(Ur,jr,"DELETE FROM "+jr.storeName+" WHERE key = ?",[Qt],function(){Tr()},function(Vr,Gr){wr(Gr)})})}).catch(wr)});return Re(Sr,vr),Sr}function qt(Qt){var vr=this,ar=new ie(function(Sr,Tr){vr.ready().then(function(){var wr=vr._dbInfo;wr.db.transaction(function(jr){Qr(jr,wr,"DELETE FROM "+wr.storeName,[],function(){Sr()},function(Ur,Vr){Tr(Vr)})})}).catch(Tr)});return Re(ar,Qt),ar}function Tt(Qt){var vr=this,ar=new ie(function(Sr,Tr){vr.ready().then(function(){var wr=vr._dbInfo;wr.db.transaction(function(jr){Qr(jr,wr,"SELECT COUNT(key) as c FROM "+wr.storeName,[],function(Ur,Vr){var Gr=Vr.rows.item(0).c;Sr(Gr)},function(Ur,Vr){Tr(Vr)})})}).catch(Tr)});return Re(ar,Qt),ar}function gt(Qt,vr){var ar=this,Sr=new ie(function(Tr,wr){ar.ready().then(function(){var jr=ar._dbInfo;jr.db.transaction(function(Ur){Qr(Ur,jr,"SELECT key FROM "+jr.storeName+" WHERE id = ? LIMIT 1",[Qt+1],function(Vr,Gr){var Zr=Gr.rows.length?Gr.rows.item(0).key:null;Tr(Zr)},function(Vr,Gr){wr(Gr)})})}).catch(wr)});return Re(Sr,vr),Sr}function Et(Qt){var vr=this,ar=new ie(function(Sr,Tr){vr.ready().then(function(){var wr=vr._dbInfo;wr.db.transaction(function(jr){Qr(jr,wr,"SELECT key FROM "+wr.storeName,[],function(Ur,Vr){for(var Gr=[],Zr=0;Zr<Vr.rows.length;Zr++)Gr.push(Vr.rows.item(Zr).key);Sr(Gr)},function(Ur,Vr){Tr(Vr)})})}).catch(Tr)});return Re(ar,Qt),ar}function wt(Qt){return new ie(function(vr,ar){Qt.transaction(function(Sr){Sr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Tr,wr){for(var jr=[],Ur=0;Ur<wr.rows.length;Ur++)jr.push(wr.rows.item(Ur).name);vr({db:Qt,storeNames:jr})},function(Tr,wr){ar(wr)})},function(Sr){ar(Sr)})})}function Lt(Qt,vr){vr=Me.apply(this,arguments);var ar=this.config();Qt=typeof Qt!="function"&&Qt||{},Qt.name||(Qt.name=Qt.name||ar.name,Qt.storeName=Qt.storeName||ar.storeName);var Sr=this,Tr;return Qt.name?Tr=new ie(function(wr){var jr;Qt.name===ar.name?jr=Sr._dbInfo.db:jr=openDatabase(Qt.name,"","",0),Qt.storeName?wr({db:jr,storeNames:[Qt.storeName]}):wr(wt(jr))}).then(function(wr){return new ie(function(jr,Ur){wr.db.transaction(function(Vr){function Gr(fn){return new ie(function(xn,$n){Vr.executeSql("DROP TABLE IF EXISTS "+fn,[],function(){xn()},function(On,Vn){$n(Vn)})})}for(var Zr=[],un=0,wn=wr.storeNames.length;un<wn;un++)Zr.push(Gr(wr.storeNames[un]));ie.all(Zr).then(function(){jr()}).catch(function(fn){Ur(fn)})},function(Vr){Ur(Vr)})})}):Tr=ie.reject("Invalid arguments"),Re(Tr,vr),Tr}var Zt={_driver:"webSQLStorage",_initStorage:Br,_support:mt(),iterate:Kr,getItem:Wr,setItem:Pt,removeItem:Wt,clear:qt,length:Tt,key:gt,keys:Et,dropInstance:Lt};function lr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ht(Qt,vr){var ar=Qt.name+"/";return Qt.storeName!==vr.storeName&&(ar+=Qt.storeName+"/"),ar}function Xt(){var Qt="_localforage_support_test";try{return localStorage.setItem(Qt,!0),localStorage.removeItem(Qt),!1}catch{return!0}}function ir(){return!Xt()||localStorage.length>0}function ur(Qt){var vr=this,ar={};if(Qt)for(var Sr in Qt)ar[Sr]=Qt[Sr];return ar.keyPrefix=Ht(Qt,vr._defaultConfig),ir()?(vr._dbInfo=ar,ar.serializer=Nr,ie.resolve()):ie.reject()}function $r(Qt){var vr=this,ar=vr.ready().then(function(){for(var Sr=vr._dbInfo.keyPrefix,Tr=localStorage.length-1;Tr>=0;Tr--){var wr=localStorage.key(Tr);wr.indexOf(Sr)===0&&localStorage.removeItem(wr)}});return Re(ar,Qt),ar}function xr(Qt,vr){var ar=this;Qt=Pe(Qt);var Sr=ar.ready().then(function(){var Tr=ar._dbInfo,wr=localStorage.getItem(Tr.keyPrefix+Qt);return wr&&(wr=Tr.serializer.deserialize(wr)),wr});return Re(Sr,vr),Sr}function Lr(Qt,vr){var ar=this,Sr=ar.ready().then(function(){for(var Tr=ar._dbInfo,wr=Tr.keyPrefix,jr=wr.length,Ur=localStorage.length,Vr=1,Gr=0;Gr<Ur;Gr++){var Zr=localStorage.key(Gr);if(Zr.indexOf(wr)===0){var un=localStorage.getItem(Zr);if(un&&(un=Tr.serializer.deserialize(un)),un=Qt(un,Zr.substring(jr),Vr++),un!==void 0)return un}}});return Re(Sr,vr),Sr}function on(Qt,vr){var ar=this,Sr=ar.ready().then(function(){var Tr=ar._dbInfo,wr;try{wr=localStorage.key(Qt)}catch{wr=null}return wr&&(wr=wr.substring(Tr.keyPrefix.length)),wr});return Re(Sr,vr),Sr}function rn(Qt){var vr=this,ar=vr.ready().then(function(){for(var Sr=vr._dbInfo,Tr=localStorage.length,wr=[],jr=0;jr<Tr;jr++){var Ur=localStorage.key(jr);Ur.indexOf(Sr.keyPrefix)===0&&wr.push(Ur.substring(Sr.keyPrefix.length))}return wr});return Re(ar,Qt),ar}function tn(Qt){var vr=this,ar=vr.keys().then(function(Sr){return Sr.length});return Re(ar,Qt),ar}function pn(Qt,vr){var ar=this;Qt=Pe(Qt);var Sr=ar.ready().then(function(){var Tr=ar._dbInfo;localStorage.removeItem(Tr.keyPrefix+Qt)});return Re(Sr,vr),Sr}function yn(Qt,vr,ar){var Sr=this;Qt=Pe(Qt);var Tr=Sr.ready().then(function(){vr===void 0&&(vr=null);var wr=vr;return new ie(function(jr,Ur){var Vr=Sr._dbInfo;Vr.serializer.serialize(vr,function(Gr,Zr){if(Zr)Ur(Zr);else try{localStorage.setItem(Vr.keyPrefix+Qt,Gr),jr(wr)}catch(un){(un.name==="QuotaExceededError"||un.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ur(un),Ur(un)}})})});return Re(Tr,ar),Tr}function ln(Qt,vr){if(vr=Me.apply(this,arguments),Qt=typeof Qt!="function"&&Qt||{},!Qt.name){var ar=this.config();Qt.name=Qt.name||ar.name,Qt.storeName=Qt.storeName||ar.storeName}var Sr=this,Tr;return Qt.name?Tr=new ie(function(wr){Qt.storeName?wr(Ht(Qt,Sr._defaultConfig)):wr(Qt.name+"/")}).then(function(wr){for(var jr=localStorage.length-1;jr>=0;jr--){var Ur=localStorage.key(jr);Ur.indexOf(wr)===0&&localStorage.removeItem(Ur)}}):Tr=ie.reject("Invalid arguments"),Re(Tr,vr),Tr}var er={_driver:"localStorageWrapper",_initStorage:ur,_support:lr(),iterate:Lr,getItem:xr,setItem:yn,removeItem:pn,clear:$r,length:tn,key:on,keys:rn,dropInstance:ln},Rr=function(vr,ar){return vr===ar||typeof vr=="number"&&typeof ar=="number"&&isNaN(vr)&&isNaN(ar)},Or=function(vr,ar){for(var Sr=vr.length,Tr=0;Tr<Sr;){if(Rr(vr[Tr],ar))return!0;Tr++}return!1},Fr=Array.isArray||function(Qt){return Object.prototype.toString.call(Qt)==="[object Array]"},Hr={},an={},cn={INDEXEDDB:pt,WEBSQL:Zt,LOCALSTORAGE:er},Rn=[cn.INDEXEDDB._driver,cn.WEBSQL._driver,cn.LOCALSTORAGE._driver],gn=["dropInstance"],vn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gn),_n={description:"",driver:Rn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kn(Qt,vr){Qt[vr]=function(){var ar=arguments;return Qt.ready().then(function(){return Qt[vr].apply(Qt,ar)})}}function An(){for(var Qt=1;Qt<arguments.length;Qt++){var vr=arguments[Qt];if(vr)for(var ar in vr)vr.hasOwnProperty(ar)&&(Fr(vr[ar])?arguments[0][ar]=vr[ar].slice():arguments[0][ar]=vr[ar])}return arguments[0]}var Dn=function(){function Qt(vr){H(this,Qt);for(var ar in cn)if(cn.hasOwnProperty(ar)){var Sr=cn[ar],Tr=Sr._driver;this[ar]=Tr,Hr[Tr]||this.defineDriver(Sr)}this._defaultConfig=An({},_n),this._config=An({},this._defaultConfig,vr),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Qt.prototype.config=function(ar){if((typeof ar>"u"?"undefined":B(ar))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Sr in ar){if(Sr==="storeName"&&(ar[Sr]=ar[Sr].replace(/\W/g,"_")),Sr==="version"&&typeof ar[Sr]!="number")return new Error("Database version must be a number.");this._config[Sr]=ar[Sr]}return"driver"in ar&&ar.driver?this.setDriver(this._config.driver):!0}else return typeof ar=="string"?this._config[ar]:this._config},Qt.prototype.defineDriver=function(ar,Sr,Tr){var wr=new ie(function(jr,Ur){try{var Vr=ar._driver,Gr=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ar._driver){Ur(Gr);return}for(var Zr=vn.concat("_initStorage"),un=0,wn=Zr.length;un<wn;un++){var fn=Zr[un],xn=!Or(gn,fn);if((xn||ar[fn])&&typeof ar[fn]!="function"){Ur(Gr);return}}var $n=function(){for(var Jn=function(si){return function(){var zn=new Error("Method "+si+" is not implemented by the current driver"),Zn=ie.reject(zn);return Re(Zn,arguments[arguments.length-1]),Zn}},Wi=0,Hi=gn.length;Wi<Hi;Wi++){var Ni=gn[Wi];ar[Ni]||(ar[Ni]=Jn(Ni))}};$n();var On=function(Jn){Hr[Vr]&&console.info("Redefining LocalForage driver: "+Vr),Hr[Vr]=ar,an[Vr]=Jn,jr()};"_support"in ar?ar._support&&typeof ar._support=="function"?ar._support().then(On,Ur):On(!!ar._support):On(!0)}catch(Vn){Ur(Vn)}});return $e(wr,Sr,Tr),wr},Qt.prototype.driver=function(){return this._driver||null},Qt.prototype.getDriver=function(ar,Sr,Tr){var wr=Hr[ar]?ie.resolve(Hr[ar]):ie.reject(new Error("Driver not found."));return $e(wr,Sr,Tr),wr},Qt.prototype.getSerializer=function(ar){var Sr=ie.resolve(Nr);return $e(Sr,ar),Sr},Qt.prototype.ready=function(ar){var Sr=this,Tr=Sr._driverSet.then(function(){return Sr._ready===null&&(Sr._ready=Sr._initDriver()),Sr._ready});return $e(Tr,ar,ar),Tr},Qt.prototype.setDriver=function(ar,Sr,Tr){var wr=this;Fr(ar)||(ar=[ar]);var jr=this._getSupportedDrivers(ar);function Ur(){wr._config.driver=wr.driver()}function Vr(un){return wr._extend(un),Ur(),wr._ready=wr._initStorage(wr._config),wr._ready}function Gr(un){return function(){var wn=0;function fn(){for(;wn<un.length;){var xn=un[wn];return wn++,wr._dbInfo=null,wr._ready=null,wr.getDriver(xn).then(Vr).catch(fn)}Ur();var $n=new Error("No available storage method found.");return wr._driverSet=ie.reject($n),wr._driverSet}return fn()}}var Zr=this._driverSet!==null?this._driverSet.catch(function(){return ie.resolve()}):ie.resolve();return this._driverSet=Zr.then(function(){var un=jr[0];return wr._dbInfo=null,wr._ready=null,wr.getDriver(un).then(function(wn){wr._driver=wn._driver,Ur(),wr._wrapLibraryMethodsWithReady(),wr._initDriver=Gr(jr)})}).catch(function(){Ur();var un=new Error("No available storage method found.");return wr._driverSet=ie.reject(un),wr._driverSet}),$e(this._driverSet,Sr,Tr),this._driverSet},Qt.prototype.supports=function(ar){return!!an[ar]},Qt.prototype._extend=function(ar){An(this,ar)},Qt.prototype._getSupportedDrivers=function(ar){for(var Sr=[],Tr=0,wr=ar.length;Tr<wr;Tr++){var jr=ar[Tr];this.supports(jr)&&Sr.push(jr)}return Sr},Qt.prototype._wrapLibraryMethodsWithReady=function(){for(var ar=0,Sr=vn.length;ar<Sr;ar++)kn(this,vn[ar])},Qt.prototype.createInstance=function(ar){return new Qt(ar)},Qt}(),In=new Dn;N.exports=In},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs$1(localforageExports),AuthContext=reactExports.createContext({user:null,userDetails:null,loading:!0}),useAuth=()=>reactExports.useContext(AuthContext),AuthProvider=({children:T})=>{const[$,I]=reactExports.useState(null),[N,L]=reactExports.useState(null),[B,H]=reactExports.useState(!0);reactExports.useEffect(()=>auth.onAuthStateChanged(async te=>{if(I(te),te&&navigator.onLine)try{const G=await getDoc(doc(db,"users",te.uid));G.exists()&&L(G.data())}catch(G){Vt.error(`Error fetching user details: ${G.message}`)}else L(null);H(!1)}),[]);const z={user:$,userDetails:N,loading:B};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:z,children:T})};var rngBrowser$2={exports:{}},getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);rngBrowser$2.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);rngBrowser$2.exports=function(){for(var $=0,I;$<16;$++)($&3)===0&&(I=Math.random()*4294967296),rnds[$]=I>>>(($&3)<<3)&255;return rnds}}var rngBrowserExports=rngBrowser$2.exports;const rngBrowser=getDefaultExportFromCjs$1(rngBrowserExports),rngBrowser$1=_mergeNamespaces({__proto__:null,default:rngBrowser},[rngBrowserExports]);var byteToHex=[];for(var i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid$2(T,$){var I=$||0,N=byteToHex;return[N[T[I++]],N[T[I++]],N[T[I++]],N[T[I++]],"-",N[T[I++]],N[T[I++]],"-",N[T[I++]],N[T[I++]],"-",N[T[I++]],N[T[I++]],"-",N[T[I++]],N[T[I++]],N[T[I++]],N[T[I++]],N[T[I++]],N[T[I++]]].join("")}var bytesToUuid_1=bytesToUuid$2;const bytesToUuid$3=getDefaultExportFromCjs$1(bytesToUuid_1),bytesToUuid$4=_mergeNamespaces({__proto__:null,default:bytesToUuid$3},[bytesToUuid_1]);var rng$1=rngBrowser$1,bytesToUuid$1=bytesToUuid$4,_nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1$1(T,$,I){var N=$&&I||0,L=$||[];T=T||{};var B=T.node||_nodeId,H=T.clockseq!==void 0?T.clockseq:_clockseq;if(B==null||H==null){var z=rng$1();B==null&&(B=_nodeId=[z[0]|1,z[1],z[2],z[3],z[4],z[5]]),H==null&&(H=_clockseq=(z[6]<<8|z[7])&16383)}var Q=T.msecs!==void 0?T.msecs:new Date().getTime(),te=T.nsecs!==void 0?T.nsecs:_lastNSecs+1,G=Q-_lastMSecs+(te-_lastNSecs)/1e4;if(G<0&&T.clockseq===void 0&&(H=H+1&16383),(G<0||Q>_lastMSecs)&&T.nsecs===void 0&&(te=0),te>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=Q,_lastNSecs=te,_clockseq=H,Q+=122192928e5;var ie=((Q&268435455)*1e4+te)%4294967296;L[N++]=ie>>>24&255,L[N++]=ie>>>16&255,L[N++]=ie>>>8&255,L[N++]=ie&255;var Re=Q/4294967296*1e4&268435455;L[N++]=Re>>>8&255,L[N++]=Re&255,L[N++]=Re>>>24&15|16,L[N++]=Re>>>16&255,L[N++]=H>>>8|128,L[N++]=H&255;for(var $e=0;$e<6;++$e)L[N+$e]=B[$e];return $||bytesToUuid$1(L)}var v1_1=v1$1;const v1$2=getDefaultExportFromCjs$1(v1_1),v1$3=_mergeNamespaces({__proto__:null,default:v1$2},[v1_1]);var rng=rngBrowser$1,bytesToUuid=bytesToUuid$4;function v4$1(T,$,I){var N=$&&I||0;typeof T=="string"&&($=T==="binary"?new Array(16):null,T=null),T=T||{};var L=T.random||(T.rng||rng)();if(L[6]=L[6]&15|64,L[8]=L[8]&63|128,$)for(var B=0;B<16;++B)$[N+B]=L[B];return $||bytesToUuid(L)}var v4_1=v4$1;const v4$2=getDefaultExportFromCjs$1(v4_1),v4$3=_mergeNamespaces({__proto__:null,default:v4$2},[v4_1]);var v1=v1$3,v4=v4$3,uuid=v4;uuid.v1=v1;uuid.v4=v4;var uuid_1=uuid,cryptoJs={exports:{}},core={exports:{}},cryptoBrowserify={},browser$g={exports:{}},hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$g.exports;hasRequiredBrowser$9=1;var T=65536,$=4294967295;function I(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var N=safeBuffer$1.Buffer,L=commonjsGlobal$2.crypto||commonjsGlobal$2.msCrypto;L&&L.getRandomValues?browser$g.exports=B:browser$g.exports=I;function B(H,z){if(H>$)throw new RangeError("requested too many random bytes");var Q=N.allocUnsafe(H);if(H>0)if(H>T)for(var te=0;te<H;te+=T)L.getRandomValues(Q.slice(te,te+T));else L.getRandomValues(Q);return typeof z=="function"?process$1$1.nextTick(function(){z(null,Q)}):Q}return browser$g.exports}var inherits_browser$2={exports:{}};typeof Object.create=="function"?inherits_browser$2.exports=function($,I){I&&($.super_=I,$.prototype=Object.create(I.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$2.exports=function($,I){if(I){$.super_=I;var N=function(){};N.prototype=I.prototype,$.prototype=new N,$.prototype.constructor=$}};var inherits_browserExports=inherits_browser$2.exports;const inherits_browser=getDefaultExportFromCjs$1(inherits_browserExports),inherits_browser$1=_mergeNamespaces({__proto__:null,default:inherits_browser},[inherits_browserExports]);var readableBrowser$3={exports:{}},streamBrowser$1=events$1.EventEmitter;const streamBrowser$2=getDefaultExportFromCjs$1(streamBrowser$1),streamBrowser$3=_mergeNamespaces({__proto__:null,default:streamBrowser$2},[streamBrowser$1]);var util$3={},types$2={},hasToStringTag$2=requireShams()(),callBound$2=callBound$7,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function($){return hasToStringTag$2&&$&&typeof $=="object"&&Symbol.toStringTag in $?!1:$toString$1($)==="[object Arguments]"},isLegacyArguments=function($){return isStandardArguments($)?!0:$!==null&&typeof $=="object"&&"length"in $&&typeof $.length=="number"&&$.length>=0&&$toString$1($)!=="[object Array]"&&"callee"in $&&$toString$1($.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments3=supportsStandardArguments?isStandardArguments:isLegacyArguments;const index$g=getDefaultExportFromCjs$1(isArguments3),isArguments=_mergeNamespaces({__proto__:null,default:index$g},[isArguments3]);var callBound$1=callBound$7,safeRegexTest=requireSafeRegexTest(),isFnRegex=safeRegexTest(/^\s*(?:function)?\*/),hasToStringTag$1=requireShams()(),getProto$1=getProto$5,toStr$1=callBound$1("Object.prototype.toString"),fnToStr=callBound$1("Function.prototype.toString"),getGeneratorFunc=function(){if(!hasToStringTag$1)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function($){if(typeof $!="function")return!1;if(isFnRegex(fnToStr($)))return!0;if(!hasToStringTag$1){var I=toStr$1($);return I==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction>"u"){var N=getGeneratorFunc();GeneratorFunction=N?getProto$1(N):!1}return getProto$1($)===GeneratorFunction};const index$f=getDefaultExportFromCjs$1(isGeneratorFunction),isGeneratorFunction$1=_mergeNamespaces({__proto__:null,default:index$f},[isGeneratorFunction]);var isCallable=isCallable$2,toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function($,I,N){for(var L=0,B=$.length;L<B;L++)hasOwnProperty.call($,L)&&(N==null?I($[L],L,$):I.call(N,$[L],L,$))},forEachString=function($,I,N){for(var L=0,B=$.length;L<B;L++)N==null?I($.charAt(L),L,$):I.call(N,$.charAt(L),L,$)},forEachObject=function($,I,N){for(var L in $)hasOwnProperty.call($,L)&&(N==null?I($[L],L,$):I.call(N,$[L],L,$))};function isArray(T){return toStr.call(T)==="[object Array]"}var forEach$1=function($,I,N){if(!isCallable(I))throw new TypeError("iterator must be a function");var L;arguments.length>=3&&(L=N),isArray($)?forEachArray($,I,L):typeof $=="string"?forEachString($,I,L):forEachObject($,I,L)};const index$e=getDefaultExportFromCjs$1(forEach$1),forEach$2=_mergeNamespaces({__proto__:null,default:index$e},[forEach$1]);var possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"];const index$d=getDefaultExportFromCjs$1(possibleTypedArrayNames),possibleTypedArrayNames$1=_mergeNamespaces({__proto__:null,default:index$d},[possibleTypedArrayNames]);var possibleNames=possibleTypedArrayNames$1,g$1=typeof globalThis>"u"?commonjsGlobal$2:globalThis,availableTypedArrays$1=function(){for(var $=[],I=0;I<possibleNames.length;I++)typeof g$1[possibleNames[I]]=="function"&&($[$.length]=possibleNames[I]);return $};const index$c=getDefaultExportFromCjs$1(availableTypedArrays$1),availableTypedArrays$2=_mergeNamespaces({__proto__:null,default:index$c},[availableTypedArrays$1]);var forEach=forEach$2,availableTypedArrays=availableTypedArrays$2,callBind=callBind$3,callBound=callBound$7,gOPD=gopd$2,getProto=getProto$5,$toString=callBound("Object.prototype.toString"),hasToStringTag=requireShams()(),g=typeof globalThis>"u"?commonjsGlobal$2:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf",!0)||function($,I){for(var N=0;N<$.length;N+=1)if($[N]===I)return N;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getProto?forEach(typedArrays,function(T){var $=new g[T];if(Symbol.toStringTag in $&&getProto){var I=getProto($),N=gOPD(I,Symbol.toStringTag);if(!N&&I){var L=getProto(I);N=gOPD(L,Symbol.toStringTag)}cache["$"+T]=callBind(N.get)}}):forEach(typedArrays,function(T){var $=new g[T],I=$.slice||$.set;I&&(cache["$"+T]=callBind(I))});var tryTypedArrays=function($){var I=!1;return forEach(cache,function(N,L){if(!I)try{"$"+N($)===L&&(I=$slice(L,1))}catch{}}),I},trySlices=function($){var I=!1;return forEach(cache,function(N,L){if(!I)try{N($),I=$slice(L,1)}catch{}}),I},whichTypedArray$1=function($){if(!$||typeof $!="object")return!1;if(!hasToStringTag){var I=$slice($toString($),8,-1);return $indexOf(typedArrays,I)>-1?I:I!=="Object"?!1:trySlices($)}return gOPD?tryTypedArrays($):null};const index$b=getDefaultExportFromCjs$1(whichTypedArray$1),whichTypedArray$2=_mergeNamespaces({__proto__:null,default:index$b},[whichTypedArray$1]);var whichTypedArray=whichTypedArray$2,isTypedArray=function($){return!!whichTypedArray($)};const index$a=getDefaultExportFromCjs$1(isTypedArray),isTypedArray$1=_mergeNamespaces({__proto__:null,default:index$a},[isTypedArray]);(function(T){var $=isArguments,I=isGeneratorFunction$1,N=whichTypedArray$2,L=isTypedArray$1;function B(Yt){return Yt.call.bind(Yt)}var H=typeof BigInt<"u",z=typeof Symbol<"u",Q=B(Object.prototype.toString),te=B(Number.prototype.valueOf),G=B(String.prototype.valueOf),ie=B(Boolean.prototype.valueOf);if(H)var Re=B(BigInt.prototype.valueOf);if(z)var $e=B(Symbol.prototype.valueOf);function Pe(Yt,yr){if(typeof Yt!="object")return!1;try{return yr(Yt),!0}catch{return!1}}T.isArgumentsObject=$,T.isGeneratorFunction=I,T.isTypedArray=L;function Me(Yt){return typeof Promise<"u"&&Yt instanceof Promise||Yt!==null&&typeof Yt=="object"&&typeof Yt.then=="function"&&typeof Yt.catch=="function"}T.isPromise=Me;function Be(Yt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Yt):L(Yt)||Ze(Yt)}T.isArrayBufferView=Be;function Ke(Yt){return N(Yt)==="Uint8Array"}T.isUint8Array=Ke;function Le(Yt){return N(Yt)==="Uint8ClampedArray"}T.isUint8ClampedArray=Le;function qe(Yt){return N(Yt)==="Uint16Array"}T.isUint16Array=qe;function He(Yt){return N(Yt)==="Uint32Array"}T.isUint32Array=He;function Ge(Yt){return N(Yt)==="Int8Array"}T.isInt8Array=Ge;function at(Yt){return N(Yt)==="Int16Array"}T.isInt16Array=at;function ot(Yt){return N(Yt)==="Int32Array"}T.isInt32Array=ot;function Ye(Yt){return N(Yt)==="Float32Array"}T.isFloat32Array=Ye;function nt(Yt){return N(Yt)==="Float64Array"}T.isFloat64Array=nt;function Qe(Yt){return N(Yt)==="BigInt64Array"}T.isBigInt64Array=Qe;function tt(Yt){return N(Yt)==="BigUint64Array"}T.isBigUint64Array=tt;function ze(Yt){return Q(Yt)==="[object Map]"}ze.working=typeof Map<"u"&&ze(new Map);function Fe(Yt){return typeof Map>"u"?!1:ze.working?ze(Yt):Yt instanceof Map}T.isMap=Fe;function ke(Yt){return Q(Yt)==="[object Set]"}ke.working=typeof Set<"u"&&ke(new Set);function Ue(Yt){return typeof Set>"u"?!1:ke.working?ke(Yt):Yt instanceof Set}T.isSet=Ue;function Je(Yt){return Q(Yt)==="[object WeakMap]"}Je.working=typeof WeakMap<"u"&&Je(new WeakMap);function rt(Yt){return typeof WeakMap>"u"?!1:Je.working?Je(Yt):Yt instanceof WeakMap}T.isWeakMap=rt;function Xe(Yt){return Q(Yt)==="[object WeakSet]"}Xe.working=typeof WeakSet<"u"&&Xe(new WeakSet);function it(Yt){return Xe(Yt)}T.isWeakSet=it;function We(Yt){return Q(Yt)==="[object ArrayBuffer]"}We.working=typeof ArrayBuffer<"u"&&We(new ArrayBuffer);function Ve(Yt){return typeof ArrayBuffer>"u"?!1:We.working?We(Yt):Yt instanceof ArrayBuffer}T.isArrayBuffer=Ve;function je(Yt){return Q(Yt)==="[object DataView]"}je.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&je(new DataView(new ArrayBuffer(1),0,1));function Ze(Yt){return typeof DataView>"u"?!1:je.working?je(Yt):Yt instanceof DataView}T.isDataView=Ze;var st=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function dt(Yt){return Q(Yt)==="[object SharedArrayBuffer]"}function bt(Yt){return typeof st>"u"?!1:(typeof dt.working>"u"&&(dt.working=dt(new st)),dt.working?dt(Yt):Yt instanceof st)}T.isSharedArrayBuffer=bt;function vt(Yt){return Q(Yt)==="[object AsyncFunction]"}T.isAsyncFunction=vt;function St(Yt){return Q(Yt)==="[object Map Iterator]"}T.isMapIterator=St;function Bt(Yt){return Q(Yt)==="[object Set Iterator]"}T.isSetIterator=Bt;function Gt(Yt){return Q(Yt)==="[object Generator]"}T.isGeneratorObject=Gt;function Dt(Yt){return Q(Yt)==="[object WebAssembly.Module]"}T.isWebAssemblyCompiledModule=Dt;function Mt(Yt){return Pe(Yt,te)}T.isNumberObject=Mt;function pt(Yt){return Pe(Yt,G)}T.isStringObject=pt;function mt(Yt){return Pe(Yt,ie)}T.isBooleanObject=mt;function $t(Yt){return H&&Pe(Yt,Re)}T.isBigIntObject=$t;function kt(Yt){return z&&Pe(Yt,$e)}T.isSymbolObject=kt;function Ft(Yt){return Mt(Yt)||pt(Yt)||mt(Yt)||$t(Yt)||kt(Yt)}T.isBoxedPrimitive=Ft;function nr(Yt){return typeof Uint8Array<"u"&&(Ve(Yt)||bt(Yt))}T.isAnyArrayBuffer=nr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Yt){Object.defineProperty(T,Yt,{enumerable:!1,value:function(){throw new Error(Yt+" is not supported in userland")}})})})(types$2);const types=getDefaultExportFromCjs$1(types$2),types$1=_mergeNamespaces({__proto__:null,default:types},[types$2]);var isBufferBrowser=function($){return $&&typeof $=="object"&&typeof $.copy=="function"&&typeof $.fill=="function"&&typeof $.readUInt8=="function"};const isBufferBrowser$1=getDefaultExportFromCjs$1(isBufferBrowser),isBufferBrowser$2=_mergeNamespaces({__proto__:null,default:isBufferBrowser$1},[isBufferBrowser]);var define_process_env_default={};(function(T){var $=Object.getOwnPropertyDescriptors||function(Ze){for(var st=Object.keys(Ze),dt={},bt=0;bt<st.length;bt++)dt[st[bt]]=Object.getOwnPropertyDescriptor(Ze,st[bt]);return dt},I=/%[sdj%]/g;T.format=function(je){if(!Ge(je)){for(var Ze=[],st=0;st<arguments.length;st++)Ze.push(H(arguments[st]));return Ze.join(" ")}for(var st=1,dt=arguments,bt=dt.length,vt=String(je).replace(I,function(Bt){if(Bt==="%%")return"%";if(st>=bt)return Bt;switch(Bt){case"%s":return String(dt[st++]);case"%d":return Number(dt[st++]);case"%j":try{return JSON.stringify(dt[st++])}catch{return"[Circular]"}default:return Bt}}),St=dt[st];st<bt;St=dt[++st])Le(St)||!nt(St)?vt+=" "+St:vt+=" "+H(St);return vt},T.deprecate=function(je,Ze){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return je;if(typeof process$1$1>"u")return function(){return T.deprecate(je,Ze).apply(this,arguments)};var st=!1;function dt(){if(!st){if(process$1$1.throwDeprecation)throw new Error(Ze);process$1$1.traceDeprecation?console.trace(Ze):console.error(Ze),st=!0}return je.apply(this,arguments)}return dt};var N={},L=/^$/;if(define_process_env_default.NODE_DEBUG){var B=define_process_env_default.NODE_DEBUG;B=B.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),L=new RegExp("^"+B+"$","i")}T.debuglog=function(je){if(je=je.toUpperCase(),!N[je])if(L.test(je)){var Ze=process$1$1.pid;N[je]=function(){var st=T.format.apply(T,arguments);console.error("%s %d: %s",je,Ze,st)}}else N[je]=function(){};return N[je]};function H(je,Ze){var st={seen:[],stylize:Q};return arguments.length>=3&&(st.depth=arguments[2]),arguments.length>=4&&(st.colors=arguments[3]),Ke(Ze)?st.showHidden=Ze:Ze&&T._extend(st,Ze),ot(st.showHidden)&&(st.showHidden=!1),ot(st.depth)&&(st.depth=2),ot(st.colors)&&(st.colors=!1),ot(st.customInspect)&&(st.customInspect=!0),st.colors&&(st.stylize=z),G(st,je,st.depth)}T.inspect=H,H.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},H.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function z(je,Ze){var st=H.styles[Ze];return st?"\x1B["+H.colors[st][0]+"m"+je+"\x1B["+H.colors[st][1]+"m":je}function Q(je,Ze){return je}function te(je){var Ze={};return je.forEach(function(st,dt){Ze[st]=!0}),Ze}function G(je,Ze,st){if(je.customInspect&&Ze&&ze(Ze.inspect)&&Ze.inspect!==T.inspect&&!(Ze.constructor&&Ze.constructor.prototype===Ze)){var dt=Ze.inspect(st,je);return Ge(dt)||(dt=G(je,dt,st)),dt}var bt=ie(je,Ze);if(bt)return bt;var vt=Object.keys(Ze),St=te(vt);if(je.showHidden&&(vt=Object.getOwnPropertyNames(Ze)),tt(Ze)&&(vt.indexOf("message")>=0||vt.indexOf("description")>=0))return Re(Ze);if(vt.length===0){if(ze(Ze)){var Bt=Ze.name?": "+Ze.name:"";return je.stylize("[Function"+Bt+"]","special")}if(Ye(Ze))return je.stylize(RegExp.prototype.toString.call(Ze),"regexp");if(Qe(Ze))return je.stylize(Date.prototype.toString.call(Ze),"date");if(tt(Ze))return Re(Ze)}var Gt="",Dt=!1,Mt=["{","}"];if(Be(Ze)&&(Dt=!0,Mt=["[","]"]),ze(Ze)){var pt=Ze.name?": "+Ze.name:"";Gt=" [Function"+pt+"]"}if(Ye(Ze)&&(Gt=" "+RegExp.prototype.toString.call(Ze)),Qe(Ze)&&(Gt=" "+Date.prototype.toUTCString.call(Ze)),tt(Ze)&&(Gt=" "+Re(Ze)),vt.length===0&&(!Dt||Ze.length==0))return Mt[0]+Gt+Mt[1];if(st<0)return Ye(Ze)?je.stylize(RegExp.prototype.toString.call(Ze),"regexp"):je.stylize("[Object]","special");je.seen.push(Ze);var mt;return Dt?mt=$e(je,Ze,st,St,vt):mt=vt.map(function($t){return Pe(je,Ze,st,St,$t,Dt)}),je.seen.pop(),Me(mt,Gt,Mt)}function ie(je,Ze){if(ot(Ze))return je.stylize("undefined","undefined");if(Ge(Ze)){var st="'"+JSON.stringify(Ze).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return je.stylize(st,"string")}if(He(Ze))return je.stylize(""+Ze,"number");if(Ke(Ze))return je.stylize(""+Ze,"boolean");if(Le(Ze))return je.stylize("null","null")}function Re(je){return"["+Error.prototype.toString.call(je)+"]"}function $e(je,Ze,st,dt,bt){for(var vt=[],St=0,Bt=Ze.length;St<Bt;++St)Xe(Ze,String(St))?vt.push(Pe(je,Ze,st,dt,String(St),!0)):vt.push("");return bt.forEach(function(Gt){Gt.match(/^\d+$/)||vt.push(Pe(je,Ze,st,dt,Gt,!0))}),vt}function Pe(je,Ze,st,dt,bt,vt){var St,Bt,Gt;if(Gt=Object.getOwnPropertyDescriptor(Ze,bt)||{value:Ze[bt]},Gt.get?Gt.set?Bt=je.stylize("[Getter/Setter]","special"):Bt=je.stylize("[Getter]","special"):Gt.set&&(Bt=je.stylize("[Setter]","special")),Xe(dt,bt)||(St="["+bt+"]"),Bt||(je.seen.indexOf(Gt.value)<0?(Le(st)?Bt=G(je,Gt.value,null):Bt=G(je,Gt.value,st-1),Bt.indexOf(`
`)>-1&&(vt?Bt=Bt.split(`
`).map(function(Dt){return"  "+Dt}).join(`
`).slice(2):Bt=`
`+Bt.split(`
`).map(function(Dt){return"   "+Dt}).join(`
`))):Bt=je.stylize("[Circular]","special")),ot(St)){if(vt&&bt.match(/^\d+$/))return Bt;St=JSON.stringify(""+bt),St.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(St=St.slice(1,-1),St=je.stylize(St,"name")):(St=St.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),St=je.stylize(St,"string"))}return St+": "+Bt}function Me(je,Ze,st){var dt=je.reduce(function(bt,vt){return vt.indexOf(`
`)>=0,bt+vt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return dt>60?st[0]+(Ze===""?"":Ze+`
 `)+" "+je.join(`,
  `)+" "+st[1]:st[0]+Ze+" "+je.join(", ")+" "+st[1]}T.types=types$1;function Be(je){return Array.isArray(je)}T.isArray=Be;function Ke(je){return typeof je=="boolean"}T.isBoolean=Ke;function Le(je){return je===null}T.isNull=Le;function qe(je){return je==null}T.isNullOrUndefined=qe;function He(je){return typeof je=="number"}T.isNumber=He;function Ge(je){return typeof je=="string"}T.isString=Ge;function at(je){return typeof je=="symbol"}T.isSymbol=at;function ot(je){return je===void 0}T.isUndefined=ot;function Ye(je){return nt(je)&&ke(je)==="[object RegExp]"}T.isRegExp=Ye,T.types.isRegExp=Ye;function nt(je){return typeof je=="object"&&je!==null}T.isObject=nt;function Qe(je){return nt(je)&&ke(je)==="[object Date]"}T.isDate=Qe,T.types.isDate=Qe;function tt(je){return nt(je)&&(ke(je)==="[object Error]"||je instanceof Error)}T.isError=tt,T.types.isNativeError=tt;function ze(je){return typeof je=="function"}T.isFunction=ze;function Fe(je){return je===null||typeof je=="boolean"||typeof je=="number"||typeof je=="string"||typeof je=="symbol"||typeof je>"u"}T.isPrimitive=Fe,T.isBuffer=isBufferBrowser$2;function ke(je){return Object.prototype.toString.call(je)}function Ue(je){return je<10?"0"+je.toString(10):je.toString(10)}var Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function rt(){var je=new Date,Ze=[Ue(je.getHours()),Ue(je.getMinutes()),Ue(je.getSeconds())].join(":");return[je.getDate(),Je[je.getMonth()],Ze].join(" ")}T.log=function(){console.log("%s - %s",rt(),T.format.apply(T,arguments))},T.inherits=inherits_browser$1,T._extend=function(je,Ze){if(!Ze||!nt(Ze))return je;for(var st=Object.keys(Ze),dt=st.length;dt--;)je[st[dt]]=Ze[st[dt]];return je};function Xe(je,Ze){return Object.prototype.hasOwnProperty.call(je,Ze)}var it=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;T.promisify=function(Ze){if(typeof Ze!="function")throw new TypeError('The "original" argument must be of type Function');if(it&&Ze[it]){var st=Ze[it];if(typeof st!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(st,it,{value:st,enumerable:!1,writable:!1,configurable:!0}),st}function st(){for(var dt,bt,vt=new Promise(function(Gt,Dt){dt=Gt,bt=Dt}),St=[],Bt=0;Bt<arguments.length;Bt++)St.push(arguments[Bt]);St.push(function(Gt,Dt){Gt?bt(Gt):dt(Dt)});try{Ze.apply(this,St)}catch(Gt){bt(Gt)}return vt}return Object.setPrototypeOf(st,Object.getPrototypeOf(Ze)),it&&Object.defineProperty(st,it,{value:st,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(st,$(Ze))},T.promisify.custom=it;function We(je,Ze){if(!je){var st=new Error("Promise was rejected with a falsy value");st.reason=je,je=st}return Ze(je)}function Ve(je){if(typeof je!="function")throw new TypeError('The "original" argument must be of type Function');function Ze(){for(var st=[],dt=0;dt<arguments.length;dt++)st.push(arguments[dt]);var bt=st.pop();if(typeof bt!="function")throw new TypeError("The last argument must be of type Function");var vt=this,St=function(){return bt.apply(vt,arguments)};je.apply(this,st).then(function(Bt){process$1$1.nextTick(St.bind(null,null,Bt))},function(Bt){process$1$1.nextTick(We.bind(null,Bt,St))})}return Object.setPrototypeOf(Ze,Object.getPrototypeOf(je)),Object.defineProperties(Ze,$(je)),Ze}T.callbackify=Ve})(util$3);const util$1=getDefaultExportFromCjs$1(util$3),util$2=_mergeNamespaces({__proto__:null,default:util$1},[util$3]);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function T(Pe,Me){var Be=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Ke=Object.getOwnPropertySymbols(Pe);Me&&(Ke=Ke.filter(function(Le){return Object.getOwnPropertyDescriptor(Pe,Le).enumerable})),Be.push.apply(Be,Ke)}return Be}function $(Pe){for(var Me=1;Me<arguments.length;Me++){var Be=arguments[Me]!=null?arguments[Me]:{};Me%2?T(Object(Be),!0).forEach(function(Ke){I(Pe,Ke,Be[Ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Be)):T(Object(Be)).forEach(function(Ke){Object.defineProperty(Pe,Ke,Object.getOwnPropertyDescriptor(Be,Ke))})}return Pe}function I(Pe,Me,Be){return Me=H(Me),Me in Pe?Object.defineProperty(Pe,Me,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Pe[Me]=Be,Pe}function N(Pe,Me){if(!(Pe instanceof Me))throw new TypeError("Cannot call a class as a function")}function L(Pe,Me){for(var Be=0;Be<Me.length;Be++){var Ke=Me[Be];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(Pe,H(Ke.key),Ke)}}function B(Pe,Me,Be){return Me&&L(Pe.prototype,Me),Object.defineProperty(Pe,"prototype",{writable:!1}),Pe}function H(Pe){var Me=z(Pe,"string");return typeof Me=="symbol"?Me:String(Me)}function z(Pe,Me){if(typeof Pe!="object"||Pe===null)return Pe;var Be=Pe[Symbol.toPrimitive];if(Be!==void 0){var Ke=Be.call(Pe,Me);if(typeof Ke!="object")return Ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Pe)}var Q=dist$5,te=Q.Buffer,G=util$2,ie=G.inspect,Re=ie&&ie.custom||"inspect";function $e(Pe,Me,Be){te.prototype.copy.call(Pe,Me,Be)}return buffer_list=function(){function Pe(){N(this,Pe),this.head=null,this.tail=null,this.length=0}return B(Pe,[{key:"push",value:function(Be){var Ke={data:Be,next:null};this.length>0?this.tail.next=Ke:this.head=Ke,this.tail=Ke,++this.length}},{key:"unshift",value:function(Be){var Ke={data:Be,next:this.head};this.length===0&&(this.tail=Ke),this.head=Ke,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Be=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Be}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Be){if(this.length===0)return"";for(var Ke=this.head,Le=""+Ke.data;Ke=Ke.next;)Le+=Be+Ke.data;return Le}},{key:"concat",value:function(Be){if(this.length===0)return te.alloc(0);for(var Ke=te.allocUnsafe(Be>>>0),Le=this.head,qe=0;Le;)$e(Le.data,Ke,qe),qe+=Le.data.length,Le=Le.next;return Ke}},{key:"consume",value:function(Be,Ke){var Le;return Be<this.head.data.length?(Le=this.head.data.slice(0,Be),this.head.data=this.head.data.slice(Be)):Be===this.head.data.length?Le=this.shift():Le=Ke?this._getString(Be):this._getBuffer(Be),Le}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Be){var Ke=this.head,Le=1,qe=Ke.data;for(Be-=qe.length;Ke=Ke.next;){var He=Ke.data,Ge=Be>He.length?He.length:Be;if(Ge===He.length?qe+=He:qe+=He.slice(0,Be),Be-=Ge,Be===0){Ge===He.length?(++Le,Ke.next?this.head=Ke.next:this.head=this.tail=null):(this.head=Ke,Ke.data=He.slice(Ge));break}++Le}return this.length-=Le,qe}},{key:"_getBuffer",value:function(Be){var Ke=te.allocUnsafe(Be),Le=this.head,qe=1;for(Le.data.copy(Ke),Be-=Le.data.length;Le=Le.next;){var He=Le.data,Ge=Be>He.length?He.length:Be;if(He.copy(Ke,Ke.length-Be,0,Ge),Be-=Ge,Be===0){Ge===He.length?(++qe,Le.next?this.head=Le.next:this.head=this.tail=null):(this.head=Le,Le.data=He.slice(Ge));break}++qe}return this.length-=qe,Ke}},{key:Re,value:function(Be,Ke){return ie(this,$($({},Ke),{},{depth:0,customInspect:!1}))}}]),Pe}(),buffer_list}function destroy(T,$){var I=this,N=this._readableState&&this._readableState.destroyed,L=this._writableState&&this._writableState.destroyed;return N||L?($?$(T):T&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorNT,this,T)):process$1$1.nextTick(emitErrorNT,this,T)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(T||null,function(B){!$&&B?I._writableState?I._writableState.errorEmitted?process$1$1.nextTick(emitCloseNT,I):(I._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorAndCloseNT,I,B)):process$1$1.nextTick(emitErrorAndCloseNT,I,B):$?(process$1$1.nextTick(emitCloseNT,I),$(B)):process$1$1.nextTick(emitCloseNT,I)}),this)}function emitErrorAndCloseNT(T,$){emitErrorNT(T,$),emitCloseNT(T)}function emitCloseNT(T){T._writableState&&!T._writableState.emitClose||T._readableState&&!T._readableState.emitClose||T.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(T,$){T.emit("error",$)}function errorOrDestroy(T,$){var I=T._readableState,N=T._writableState;I&&I.autoDestroy||N&&N.autoDestroy?T.destroy($):T.emit("error",$)}var destroy_1$1={destroy,undestroy,errorOrDestroy};const destroy$1=getDefaultExportFromCjs$1(destroy_1$1),destroy$2=_mergeNamespaces({__proto__:null,default:destroy$1},[destroy_1$1]);var errorsBrowser$1={};function _inheritsLoose(T,$){T.prototype=Object.create($.prototype),T.prototype.constructor=T,T.__proto__=$}var codes={};function createErrorType(T,$,I){I||(I=Error);function N(B,H,z){return typeof $=="string"?$:$(B,H,z)}var L=function(B){_inheritsLoose(H,B);function H(z,Q,te){return B.call(this,N(z,Q,te))||this}return H}(I);L.prototype.name=I.name,L.prototype.code=T,codes[T]=L}function oneOf(T,$){if(Array.isArray(T)){var I=T.length;return T=T.map(function(N){return String(N)}),I>2?"one of ".concat($," ").concat(T.slice(0,I-1).join(", "),", or ")+T[I-1]:I===2?"one of ".concat($," ").concat(T[0]," or ").concat(T[1]):"of ".concat($," ").concat(T[0])}else return"of ".concat($," ").concat(String(T))}function startsWith(T,$,I){return T.substr(0,$.length)===$}function endsWith(T,$,I){return(I===void 0||I>T.length)&&(I=T.length),T.substring(I-$.length,I)===$}function includes(T,$,I){return typeof I!="number"&&(I=0),I+$.length>T.length?!1:T.indexOf($,I)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(T,$){return'The value "'+$+'" is invalid for option "'+T+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(T,$,I){var N;typeof $=="string"&&startsWith($,"not ")?(N="must not be",$=$.replace(/^not /,"")):N="must be";var L;if(endsWith(T," argument"))L="The ".concat(T," ").concat(N," ").concat(oneOf($,"type"));else{var B=includes(T,".")?"property":"argument";L='The "'.concat(T,'" ').concat(B," ").concat(N," ").concat(oneOf($,"type"))}return L+=". Received type ".concat(typeof I),L},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(T){return"The "+T+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(T){return"Cannot call "+T+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(T){return"Unknown encoding: "+T},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var codes_1=errorsBrowser$1.codes=codes;const errorsBrowser=_mergeNamespaces({__proto__:null,codes:codes_1,default:errorsBrowser$1},[errorsBrowser$1]);var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(T,$,I){return T.highWaterMark!=null?T.highWaterMark:$?T[I]:null}function getHighWaterMark(T,$,I,N){var L=highWaterMarkFrom($,N,I);if(L!=null){if(!(isFinite(L)&&Math.floor(L)===L)||L<0){var B=N?I:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(B,L)}return Math.floor(L)}return T.objectMode?16:16*1024}var state={getHighWaterMark};const state$1=getDefaultExportFromCjs$1(state),state$2=_mergeNamespaces({__proto__:null,default:state$1},[state]);var browser$d=deprecate;function deprecate(T,$){if(config("noDeprecation"))return T;var I=!1;function N(){if(!I){if(config("throwDeprecation"))throw new Error($);config("traceDeprecation")?console.trace($):console.warn($),I=!0}return T.apply(this,arguments)}return N}function config(T){try{if(!commonjsGlobal$2.localStorage)return!1}catch{return!1}var $=commonjsGlobal$2.localStorage[T];return $==null?!1:String($).toLowerCase()==="true"}const browser$e=getDefaultExportFromCjs$1(browser$d),browser$f=_mergeNamespaces({__proto__:null,default:browser$e},[browser$d]);var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Ye;function T(bt){var vt=this;this.next=null,this.entry=null,this.finish=function(){dt(vt,bt)}}var $;Ye.WritableState=at;var I={deprecate:browser$f},N=streamBrowser$3,L=dist$5.Buffer,B=(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function H(bt){return L.from(bt)}function z(bt){return L.isBuffer(bt)||bt instanceof B}var Q=destroy$2,te=state$2,G=te.getHighWaterMark,ie=errorsBrowser.codes,Re=ie.ERR_INVALID_ARG_TYPE,$e=ie.ERR_METHOD_NOT_IMPLEMENTED,Pe=ie.ERR_MULTIPLE_CALLBACK,Me=ie.ERR_STREAM_CANNOT_PIPE,Be=ie.ERR_STREAM_DESTROYED,Ke=ie.ERR_STREAM_NULL_VALUES,Le=ie.ERR_STREAM_WRITE_AFTER_END,qe=ie.ERR_UNKNOWN_ENCODING,He=Q.errorOrDestroy;inherits_browser$1(Ye,N);function Ge(){}function at(bt,vt,St){$=$||require_stream_duplex$1(),bt=bt||{},typeof St!="boolean"&&(St=vt instanceof $),this.objectMode=!!bt.objectMode,St&&(this.objectMode=this.objectMode||!!bt.writableObjectMode),this.highWaterMark=G(this,bt,"writableHighWaterMark",St),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Bt=bt.decodeStrings===!1;this.decodeStrings=!Bt,this.defaultEncoding=bt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Gt){Je(vt,Gt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=bt.emitClose!==!1,this.autoDestroy=!!bt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new T(this)}at.prototype.getBuffer=function(){for(var vt=this.bufferedRequest,St=[];vt;)St.push(vt),vt=vt.next;return St},function(){try{Object.defineProperty(at.prototype,"buffer",{get:I.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ot;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ot=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ye,Symbol.hasInstance,{value:function(vt){return ot.call(this,vt)?!0:this!==Ye?!1:vt&&vt._writableState instanceof at}})):ot=function(vt){return vt instanceof this};function Ye(bt){$=$||require_stream_duplex$1();var vt=this instanceof $;if(!vt&&!ot.call(Ye,this))return new Ye(bt);this._writableState=new at(bt,this,vt),this.writable=!0,bt&&(typeof bt.write=="function"&&(this._write=bt.write),typeof bt.writev=="function"&&(this._writev=bt.writev),typeof bt.destroy=="function"&&(this._destroy=bt.destroy),typeof bt.final=="function"&&(this._final=bt.final)),N.call(this)}Ye.prototype.pipe=function(){He(this,new Me)};function nt(bt,vt){var St=new Le;He(bt,St),process$1$1.nextTick(vt,St)}function Qe(bt,vt,St,Bt){var Gt;return St===null?Gt=new Ke:typeof St!="string"&&!vt.objectMode&&(Gt=new Re("chunk",["string","Buffer"],St)),Gt?(He(bt,Gt),process$1$1.nextTick(Bt,Gt),!1):!0}Ye.prototype.write=function(bt,vt,St){var Bt=this._writableState,Gt=!1,Dt=!Bt.objectMode&&z(bt);return Dt&&!L.isBuffer(bt)&&(bt=H(bt)),typeof vt=="function"&&(St=vt,vt=null),Dt?vt="buffer":vt||(vt=Bt.defaultEncoding),typeof St!="function"&&(St=Ge),Bt.ending?nt(this,St):(Dt||Qe(this,Bt,bt,St))&&(Bt.pendingcb++,Gt=ze(this,Bt,Dt,bt,vt,St)),Gt},Ye.prototype.cork=function(){this._writableState.corked++},Ye.prototype.uncork=function(){var bt=this._writableState;bt.corked&&(bt.corked--,!bt.writing&&!bt.corked&&!bt.bufferProcessing&&bt.bufferedRequest&&it(this,bt))},Ye.prototype.setDefaultEncoding=function(vt){if(typeof vt=="string"&&(vt=vt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((vt+"").toLowerCase())>-1))throw new qe(vt);return this._writableState.defaultEncoding=vt,this},Object.defineProperty(Ye.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function tt(bt,vt,St){return!bt.objectMode&&bt.decodeStrings!==!1&&typeof vt=="string"&&(vt=L.from(vt,St)),vt}Object.defineProperty(Ye.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ze(bt,vt,St,Bt,Gt,Dt){if(!St){var Mt=tt(vt,Bt,Gt);Bt!==Mt&&(St=!0,Gt="buffer",Bt=Mt)}var pt=vt.objectMode?1:Bt.length;vt.length+=pt;var mt=vt.length<vt.highWaterMark;if(mt||(vt.needDrain=!0),vt.writing||vt.corked){var $t=vt.lastBufferedRequest;vt.lastBufferedRequest={chunk:Bt,encoding:Gt,isBuf:St,callback:Dt,next:null},$t?$t.next=vt.lastBufferedRequest:vt.bufferedRequest=vt.lastBufferedRequest,vt.bufferedRequestCount+=1}else Fe(bt,vt,!1,pt,Bt,Gt,Dt);return mt}function Fe(bt,vt,St,Bt,Gt,Dt,Mt){vt.writelen=Bt,vt.writecb=Mt,vt.writing=!0,vt.sync=!0,vt.destroyed?vt.onwrite(new Be("write")):St?bt._writev(Gt,vt.onwrite):bt._write(Gt,Dt,vt.onwrite),vt.sync=!1}function ke(bt,vt,St,Bt,Gt){--vt.pendingcb,St?(process$1$1.nextTick(Gt,Bt),process$1$1.nextTick(Ze,bt,vt),bt._writableState.errorEmitted=!0,He(bt,Bt)):(Gt(Bt),bt._writableState.errorEmitted=!0,He(bt,Bt),Ze(bt,vt))}function Ue(bt){bt.writing=!1,bt.writecb=null,bt.length-=bt.writelen,bt.writelen=0}function Je(bt,vt){var St=bt._writableState,Bt=St.sync,Gt=St.writecb;if(typeof Gt!="function")throw new Pe;if(Ue(St),vt)ke(bt,St,Bt,vt,Gt);else{var Dt=We(St)||bt.destroyed;!Dt&&!St.corked&&!St.bufferProcessing&&St.bufferedRequest&&it(bt,St),Bt?process$1$1.nextTick(rt,bt,St,Dt,Gt):rt(bt,St,Dt,Gt)}}function rt(bt,vt,St,Bt){St||Xe(bt,vt),vt.pendingcb--,Bt(),Ze(bt,vt)}function Xe(bt,vt){vt.length===0&&vt.needDrain&&(vt.needDrain=!1,bt.emit("drain"))}function it(bt,vt){vt.bufferProcessing=!0;var St=vt.bufferedRequest;if(bt._writev&&St&&St.next){var Bt=vt.bufferedRequestCount,Gt=new Array(Bt),Dt=vt.corkedRequestsFree;Dt.entry=St;for(var Mt=0,pt=!0;St;)Gt[Mt]=St,St.isBuf||(pt=!1),St=St.next,Mt+=1;Gt.allBuffers=pt,Fe(bt,vt,!0,vt.length,Gt,"",Dt.finish),vt.pendingcb++,vt.lastBufferedRequest=null,Dt.next?(vt.corkedRequestsFree=Dt.next,Dt.next=null):vt.corkedRequestsFree=new T(vt),vt.bufferedRequestCount=0}else{for(;St;){var mt=St.chunk,$t=St.encoding,kt=St.callback,Ft=vt.objectMode?1:mt.length;if(Fe(bt,vt,!1,Ft,mt,$t,kt),St=St.next,vt.bufferedRequestCount--,vt.writing)break}St===null&&(vt.lastBufferedRequest=null)}vt.bufferedRequest=St,vt.bufferProcessing=!1}Ye.prototype._write=function(bt,vt,St){St(new $e("_write()"))},Ye.prototype._writev=null,Ye.prototype.end=function(bt,vt,St){var Bt=this._writableState;return typeof bt=="function"?(St=bt,bt=null,vt=null):typeof vt=="function"&&(St=vt,vt=null),bt!=null&&this.write(bt,vt),Bt.corked&&(Bt.corked=1,this.uncork()),Bt.ending||st(this,Bt,St),this},Object.defineProperty(Ye.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function We(bt){return bt.ending&&bt.length===0&&bt.bufferedRequest===null&&!bt.finished&&!bt.writing}function Ve(bt,vt){bt._final(function(St){vt.pendingcb--,St&&He(bt,St),vt.prefinished=!0,bt.emit("prefinish"),Ze(bt,vt)})}function je(bt,vt){!vt.prefinished&&!vt.finalCalled&&(typeof bt._final=="function"&&!vt.destroyed?(vt.pendingcb++,vt.finalCalled=!0,process$1$1.nextTick(Ve,bt,vt)):(vt.prefinished=!0,bt.emit("prefinish")))}function Ze(bt,vt){var St=We(vt);if(St&&(je(bt,vt),vt.pendingcb===0&&(vt.finished=!0,bt.emit("finish"),vt.autoDestroy))){var Bt=bt._readableState;(!Bt||Bt.autoDestroy&&Bt.endEmitted)&&bt.destroy()}return St}function st(bt,vt,St){vt.ending=!0,Ze(bt,vt),St&&(vt.finished?process$1$1.nextTick(St):bt.once("finish",St)),vt.ended=!0,bt.writable=!1}function dt(bt,vt,St){var Bt=bt.entry;for(bt.entry=null;Bt;){var Gt=Bt.callback;vt.pendingcb--,Gt(St),Bt=Bt.next}vt.corkedRequestsFree.next=bt}return Object.defineProperty(Ye.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(vt){this._writableState&&(this._writableState.destroyed=vt)}}),Ye.prototype.destroy=Q.destroy,Ye.prototype._undestroy=Q.undestroy,Ye.prototype._destroy=function(bt,vt){vt(bt)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var T=Object.keys||function(te){var G=[];for(var ie in te)G.push(ie);return G};_stream_duplex$1=H;var $=require_stream_readable$1(),I=require_stream_writable$1();inherits_browser$1(H,$);for(var N=T(I.prototype),L=0;L<N.length;L++){var B=N[L];H.prototype[B]||(H.prototype[B]=I.prototype[B])}function H(te){if(!(this instanceof H))return new H(te);$.call(this,te),I.call(this,te),this.allowHalfOpen=!0,te&&(te.readable===!1&&(this.readable=!1),te.writable===!1&&(this.writable=!1),te.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",z)))}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function z(){this._writableState.ended||process$1$1.nextTick(Q,this)}function Q(te){te.end()}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(G){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=G,this._writableState.destroyed=G)}}),_stream_duplex$1}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(T){var $=!1;return function(){if(!$){$=!0;for(var I=arguments.length,N=new Array(I),L=0;L<I;L++)N[L]=arguments[L];T.apply(this,N)}}}function noop$1(){}function isRequest$1(T){return T.setHeader&&typeof T.abort=="function"}function eos$1(T,$,I){if(typeof $=="function")return eos$1(T,null,$);$||($={}),I=once$1(I||noop$1);var N=$.readable||$.readable!==!1&&T.readable,L=$.writable||$.writable!==!1&&T.writable,B=function(){T.writable||z()},H=T._writableState&&T._writableState.finished,z=function(){L=!1,H=!0,N||I.call(T)},Q=T._readableState&&T._readableState.endEmitted,te=function(){N=!1,Q=!0,L||I.call(T)},G=function(Pe){I.call(T,Pe)},ie=function(){var Pe;if(N&&!Q)return(!T._readableState||!T._readableState.ended)&&(Pe=new ERR_STREAM_PREMATURE_CLOSE),I.call(T,Pe);if(L&&!H)return(!T._writableState||!T._writableState.ended)&&(Pe=new ERR_STREAM_PREMATURE_CLOSE),I.call(T,Pe)},Re=function(){T.req.on("finish",z)};return isRequest$1(T)?(T.on("complete",z),T.on("abort",ie),T.req?Re():T.on("request",Re)):L&&!T._writableState&&(T.on("end",B),T.on("close",B)),T.on("end",te),T.on("finish",z),$.error!==!1&&T.on("error",G),T.on("close",ie),function(){T.removeListener("complete",z),T.removeListener("abort",ie),T.removeListener("request",Re),T.req&&T.req.removeListener("finish",z),T.removeListener("end",B),T.removeListener("close",B),T.removeListener("finish",z),T.removeListener("end",te),T.removeListener("error",G),T.removeListener("close",ie)}}var endOfStream=eos$1;const endOfStream$1=getDefaultExportFromCjs$1(endOfStream),endOfStream$2=_mergeNamespaces({__proto__:null,default:endOfStream$1},[endOfStream]);var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var T;function $(qe,He,Ge){return He=I(He),He in qe?Object.defineProperty(qe,He,{value:Ge,enumerable:!0,configurable:!0,writable:!0}):qe[He]=Ge,qe}function I(qe){var He=N(qe,"string");return typeof He=="symbol"?He:String(He)}function N(qe,He){if(typeof qe!="object"||qe===null)return qe;var Ge=qe[Symbol.toPrimitive];if(Ge!==void 0){var at=Ge.call(qe,He);if(typeof at!="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(He==="string"?String:Number)(qe)}var L=endOfStream$2,B=Symbol("lastResolve"),H=Symbol("lastReject"),z=Symbol("error"),Q=Symbol("ended"),te=Symbol("lastPromise"),G=Symbol("handlePromise"),ie=Symbol("stream");function Re(qe,He){return{value:qe,done:He}}function $e(qe){var He=qe[B];if(He!==null){var Ge=qe[ie].read();Ge!==null&&(qe[te]=null,qe[B]=null,qe[H]=null,He(Re(Ge,!1)))}}function Pe(qe){process$1$1.nextTick($e,qe)}function Me(qe,He){return function(Ge,at){qe.then(function(){if(He[Q]){Ge(Re(void 0,!0));return}He[G](Ge,at)},at)}}var Be=Object.getPrototypeOf(function(){}),Ke=Object.setPrototypeOf((T={get stream(){return this[ie]},next:function(){var He=this,Ge=this[z];if(Ge!==null)return Promise.reject(Ge);if(this[Q])return Promise.resolve(Re(void 0,!0));if(this[ie].destroyed)return new Promise(function(nt,Qe){process$1$1.nextTick(function(){He[z]?Qe(He[z]):nt(Re(void 0,!0))})});var at=this[te],ot;if(at)ot=new Promise(Me(at,this));else{var Ye=this[ie].read();if(Ye!==null)return Promise.resolve(Re(Ye,!1));ot=new Promise(this[G])}return this[te]=ot,ot}},$(T,Symbol.asyncIterator,function(){return this}),$(T,"return",function(){var He=this;return new Promise(function(Ge,at){He[ie].destroy(null,function(ot){if(ot){at(ot);return}Ge(Re(void 0,!0))})})}),T),Be),Le=function(He){var Ge,at=Object.create(Ke,(Ge={},$(Ge,ie,{value:He,writable:!0}),$(Ge,B,{value:null,writable:!0}),$(Ge,H,{value:null,writable:!0}),$(Ge,z,{value:null,writable:!0}),$(Ge,Q,{value:He._readableState.endEmitted,writable:!0}),$(Ge,G,{value:function(Ye,nt){var Qe=at[ie].read();Qe?(at[te]=null,at[B]=null,at[H]=null,Ye(Re(Qe,!1))):(at[B]=Ye,at[H]=nt)},writable:!0}),Ge));return at[te]=null,L(He,function(ot){if(ot&&ot.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Ye=at[H];Ye!==null&&(at[te]=null,at[B]=null,at[H]=null,Ye(ot)),at[z]=ot;return}var nt=at[B];nt!==null&&(at[te]=null,at[B]=null,at[H]=null,nt(Re(void 0,!0))),at[Q]=!0}),He.on("readable",Pe.bind(null,at)),at};return async_iterator=Le,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=nt;var T;nt.ReadableState=Ye;var $=function(Mt,pt){return Mt.listeners(pt).length},I=streamBrowser$3,N=dist$5.Buffer,L=(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function B(Dt){return N.from(Dt)}function H(Dt){return N.isBuffer(Dt)||Dt instanceof L}var z=util$2,Q;z&&z.debuglog?Q=z.debuglog("stream"):Q=function(){};var te=requireBuffer_list(),G=destroy$2,ie=state$2,Re=ie.getHighWaterMark,$e=errorsBrowser.codes,Pe=$e.ERR_INVALID_ARG_TYPE,Me=$e.ERR_STREAM_PUSH_AFTER_EOF,Be=$e.ERR_METHOD_NOT_IMPLEMENTED,Ke=$e.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Le,qe,He;inherits_browser$1(nt,I);var Ge=G.errorOrDestroy,at=["error","close","destroy","pause","resume"];function ot(Dt,Mt,pt){if(typeof Dt.prependListener=="function")return Dt.prependListener(Mt,pt);!Dt._events||!Dt._events[Mt]?Dt.on(Mt,pt):Array.isArray(Dt._events[Mt])?Dt._events[Mt].unshift(pt):Dt._events[Mt]=[pt,Dt._events[Mt]]}function Ye(Dt,Mt,pt){T=T||require_stream_duplex$1(),Dt=Dt||{},typeof pt!="boolean"&&(pt=Mt instanceof T),this.objectMode=!!Dt.objectMode,pt&&(this.objectMode=this.objectMode||!!Dt.readableObjectMode),this.highWaterMark=Re(this,Dt,"readableHighWaterMark",pt),this.buffer=new te,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Dt.emitClose!==!1,this.autoDestroy=!!Dt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Dt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Dt.encoding&&(Le||(Le=string_decoder.StringDecoder),this.decoder=new Le(Dt.encoding),this.encoding=Dt.encoding)}function nt(Dt){if(T=T||require_stream_duplex$1(),!(this instanceof nt))return new nt(Dt);var Mt=this instanceof T;this._readableState=new Ye(Dt,this,Mt),this.readable=!0,Dt&&(typeof Dt.read=="function"&&(this._read=Dt.read),typeof Dt.destroy=="function"&&(this._destroy=Dt.destroy)),I.call(this)}Object.defineProperty(nt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Mt){this._readableState&&(this._readableState.destroyed=Mt)}}),nt.prototype.destroy=G.destroy,nt.prototype._undestroy=G.undestroy,nt.prototype._destroy=function(Dt,Mt){Mt(Dt)},nt.prototype.push=function(Dt,Mt){var pt=this._readableState,mt;return pt.objectMode?mt=!0:typeof Dt=="string"&&(Mt=Mt||pt.defaultEncoding,Mt!==pt.encoding&&(Dt=N.from(Dt,Mt),Mt=""),mt=!0),Qe(this,Dt,Mt,!1,mt)},nt.prototype.unshift=function(Dt){return Qe(this,Dt,null,!0,!1)};function Qe(Dt,Mt,pt,mt,$t){Q("readableAddChunk",Mt);var kt=Dt._readableState;if(Mt===null)kt.reading=!1,Je(Dt,kt);else{var Ft;if($t||(Ft=ze(kt,Mt)),Ft)Ge(Dt,Ft);else if(kt.objectMode||Mt&&Mt.length>0)if(typeof Mt!="string"&&!kt.objectMode&&Object.getPrototypeOf(Mt)!==N.prototype&&(Mt=B(Mt)),mt)kt.endEmitted?Ge(Dt,new Ke):tt(Dt,kt,Mt,!0);else if(kt.ended)Ge(Dt,new Me);else{if(kt.destroyed)return!1;kt.reading=!1,kt.decoder&&!pt?(Mt=kt.decoder.write(Mt),kt.objectMode||Mt.length!==0?tt(Dt,kt,Mt,!1):it(Dt,kt)):tt(Dt,kt,Mt,!1)}else mt||(kt.reading=!1,it(Dt,kt))}return!kt.ended&&(kt.length<kt.highWaterMark||kt.length===0)}function tt(Dt,Mt,pt,mt){Mt.flowing&&Mt.length===0&&!Mt.sync?(Mt.awaitDrain=0,Dt.emit("data",pt)):(Mt.length+=Mt.objectMode?1:pt.length,mt?Mt.buffer.unshift(pt):Mt.buffer.push(pt),Mt.needReadable&&rt(Dt)),it(Dt,Mt)}function ze(Dt,Mt){var pt;return!H(Mt)&&typeof Mt!="string"&&Mt!==void 0&&!Dt.objectMode&&(pt=new Pe("chunk",["string","Buffer","Uint8Array"],Mt)),pt}nt.prototype.isPaused=function(){return this._readableState.flowing===!1},nt.prototype.setEncoding=function(Dt){Le||(Le=string_decoder.StringDecoder);var Mt=new Le(Dt);this._readableState.decoder=Mt,this._readableState.encoding=this._readableState.decoder.encoding;for(var pt=this._readableState.buffer.head,mt="";pt!==null;)mt+=Mt.write(pt.data),pt=pt.next;return this._readableState.buffer.clear(),mt!==""&&this._readableState.buffer.push(mt),this._readableState.length=mt.length,this};var Fe=1073741824;function ke(Dt){return Dt>=Fe?Dt=Fe:(Dt--,Dt|=Dt>>>1,Dt|=Dt>>>2,Dt|=Dt>>>4,Dt|=Dt>>>8,Dt|=Dt>>>16,Dt++),Dt}function Ue(Dt,Mt){return Dt<=0||Mt.length===0&&Mt.ended?0:Mt.objectMode?1:Dt!==Dt?Mt.flowing&&Mt.length?Mt.buffer.head.data.length:Mt.length:(Dt>Mt.highWaterMark&&(Mt.highWaterMark=ke(Dt)),Dt<=Mt.length?Dt:Mt.ended?Mt.length:(Mt.needReadable=!0,0))}nt.prototype.read=function(Dt){Q("read",Dt),Dt=parseInt(Dt,10);var Mt=this._readableState,pt=Dt;if(Dt!==0&&(Mt.emittedReadable=!1),Dt===0&&Mt.needReadable&&((Mt.highWaterMark!==0?Mt.length>=Mt.highWaterMark:Mt.length>0)||Mt.ended))return Q("read: emitReadable",Mt.length,Mt.ended),Mt.length===0&&Mt.ended?St(this):rt(this),null;if(Dt=Ue(Dt,Mt),Dt===0&&Mt.ended)return Mt.length===0&&St(this),null;var mt=Mt.needReadable;Q("need readable",mt),(Mt.length===0||Mt.length-Dt<Mt.highWaterMark)&&(mt=!0,Q("length less than watermark",mt)),Mt.ended||Mt.reading?(mt=!1,Q("reading or ended",mt)):mt&&(Q("do read"),Mt.reading=!0,Mt.sync=!0,Mt.length===0&&(Mt.needReadable=!0),this._read(Mt.highWaterMark),Mt.sync=!1,Mt.reading||(Dt=Ue(pt,Mt)));var $t;return Dt>0?$t=vt(Dt,Mt):$t=null,$t===null?(Mt.needReadable=Mt.length<=Mt.highWaterMark,Dt=0):(Mt.length-=Dt,Mt.awaitDrain=0),Mt.length===0&&(Mt.ended||(Mt.needReadable=!0),pt!==Dt&&Mt.ended&&St(this)),$t!==null&&this.emit("data",$t),$t};function Je(Dt,Mt){if(Q("onEofChunk"),!Mt.ended){if(Mt.decoder){var pt=Mt.decoder.end();pt&&pt.length&&(Mt.buffer.push(pt),Mt.length+=Mt.objectMode?1:pt.length)}Mt.ended=!0,Mt.sync?rt(Dt):(Mt.needReadable=!1,Mt.emittedReadable||(Mt.emittedReadable=!0,Xe(Dt)))}}function rt(Dt){var Mt=Dt._readableState;Q("emitReadable",Mt.needReadable,Mt.emittedReadable),Mt.needReadable=!1,Mt.emittedReadable||(Q("emitReadable",Mt.flowing),Mt.emittedReadable=!0,process$1$1.nextTick(Xe,Dt))}function Xe(Dt){var Mt=Dt._readableState;Q("emitReadable_",Mt.destroyed,Mt.length,Mt.ended),!Mt.destroyed&&(Mt.length||Mt.ended)&&(Dt.emit("readable"),Mt.emittedReadable=!1),Mt.needReadable=!Mt.flowing&&!Mt.ended&&Mt.length<=Mt.highWaterMark,bt(Dt)}function it(Dt,Mt){Mt.readingMore||(Mt.readingMore=!0,process$1$1.nextTick(We,Dt,Mt))}function We(Dt,Mt){for(;!Mt.reading&&!Mt.ended&&(Mt.length<Mt.highWaterMark||Mt.flowing&&Mt.length===0);){var pt=Mt.length;if(Q("maybeReadMore read 0"),Dt.read(0),pt===Mt.length)break}Mt.readingMore=!1}nt.prototype._read=function(Dt){Ge(this,new Be("_read()"))},nt.prototype.pipe=function(Dt,Mt){var pt=this,mt=this._readableState;switch(mt.pipesCount){case 0:mt.pipes=Dt;break;case 1:mt.pipes=[mt.pipes,Dt];break;default:mt.pipes.push(Dt);break}mt.pipesCount+=1,Q("pipe count=%d opts=%j",mt.pipesCount,Mt);var $t=(!Mt||Mt.end!==!1)&&Dt!==process$1$1.stdout&&Dt!==process$1$1.stderr,kt=$t?nr:ct;mt.endEmitted?process$1$1.nextTick(kt):pt.once("end",kt),Dt.on("unpipe",Ft);function Ft(Nt,jt){Q("onunpipe"),Nt===pt&&jt&&jt.hasUnpiped===!1&&(jt.hasUnpiped=!0,gr())}function nr(){Q("onend"),Dt.end()}var Yt=Ve(pt);Dt.on("drain",Yt);var yr=!1;function gr(){Q("cleanup"),Dt.removeListener("close",pr),Dt.removeListener("finish",lt),Dt.removeListener("drain",Yt),Dt.removeListener("error",cr),Dt.removeListener("unpipe",Ft),pt.removeListener("end",nr),pt.removeListener("end",ct),pt.removeListener("data",br),yr=!0,mt.awaitDrain&&(!Dt._writableState||Dt._writableState.needDrain)&&Yt()}pt.on("data",br);function br(Nt){Q("ondata");var jt=Dt.write(Nt);Q("dest.write",jt),jt===!1&&((mt.pipesCount===1&&mt.pipes===Dt||mt.pipesCount>1&&Gt(mt.pipes,Dt)!==-1)&&!yr&&(Q("false write response, pause",mt.awaitDrain),mt.awaitDrain++),pt.pause())}function cr(Nt){Q("onerror",Nt),ct(),Dt.removeListener("error",cr),$(Dt,"error")===0&&Ge(Dt,Nt)}ot(Dt,"error",cr);function pr(){Dt.removeListener("finish",lt),ct()}Dt.once("close",pr);function lt(){Q("onfinish"),Dt.removeListener("close",pr),ct()}Dt.once("finish",lt);function ct(){Q("unpipe"),pt.unpipe(Dt)}return Dt.emit("pipe",pt),mt.flowing||(Q("pipe resume"),pt.resume()),Dt};function Ve(Dt){return function(){var pt=Dt._readableState;Q("pipeOnDrain",pt.awaitDrain),pt.awaitDrain&&pt.awaitDrain--,pt.awaitDrain===0&&$(Dt,"data")&&(pt.flowing=!0,bt(Dt))}}nt.prototype.unpipe=function(Dt){var Mt=this._readableState,pt={hasUnpiped:!1};if(Mt.pipesCount===0)return this;if(Mt.pipesCount===1)return Dt&&Dt!==Mt.pipes?this:(Dt||(Dt=Mt.pipes),Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1,Dt&&Dt.emit("unpipe",this,pt),this);if(!Dt){var mt=Mt.pipes,$t=Mt.pipesCount;Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1;for(var kt=0;kt<$t;kt++)mt[kt].emit("unpipe",this,{hasUnpiped:!1});return this}var Ft=Gt(Mt.pipes,Dt);return Ft===-1?this:(Mt.pipes.splice(Ft,1),Mt.pipesCount-=1,Mt.pipesCount===1&&(Mt.pipes=Mt.pipes[0]),Dt.emit("unpipe",this,pt),this)},nt.prototype.on=function(Dt,Mt){var pt=I.prototype.on.call(this,Dt,Mt),mt=this._readableState;return Dt==="data"?(mt.readableListening=this.listenerCount("readable")>0,mt.flowing!==!1&&this.resume()):Dt==="readable"&&!mt.endEmitted&&!mt.readableListening&&(mt.readableListening=mt.needReadable=!0,mt.flowing=!1,mt.emittedReadable=!1,Q("on readable",mt.length,mt.reading),mt.length?rt(this):mt.reading||process$1$1.nextTick(Ze,this)),pt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Dt,Mt){var pt=I.prototype.removeListener.call(this,Dt,Mt);return Dt==="readable"&&process$1$1.nextTick(je,this),pt},nt.prototype.removeAllListeners=function(Dt){var Mt=I.prototype.removeAllListeners.apply(this,arguments);return(Dt==="readable"||Dt===void 0)&&process$1$1.nextTick(je,this),Mt};function je(Dt){var Mt=Dt._readableState;Mt.readableListening=Dt.listenerCount("readable")>0,Mt.resumeScheduled&&!Mt.paused?Mt.flowing=!0:Dt.listenerCount("data")>0&&Dt.resume()}function Ze(Dt){Q("readable nexttick read 0"),Dt.read(0)}nt.prototype.resume=function(){var Dt=this._readableState;return Dt.flowing||(Q("resume"),Dt.flowing=!Dt.readableListening,st(this,Dt)),Dt.paused=!1,this};function st(Dt,Mt){Mt.resumeScheduled||(Mt.resumeScheduled=!0,process$1$1.nextTick(dt,Dt,Mt))}function dt(Dt,Mt){Q("resume",Mt.reading),Mt.reading||Dt.read(0),Mt.resumeScheduled=!1,Dt.emit("resume"),bt(Dt),Mt.flowing&&!Mt.reading&&Dt.read(0)}nt.prototype.pause=function(){return Q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function bt(Dt){var Mt=Dt._readableState;for(Q("flow",Mt.flowing);Mt.flowing&&Dt.read()!==null;);}nt.prototype.wrap=function(Dt){var Mt=this,pt=this._readableState,mt=!1;Dt.on("end",function(){if(Q("wrapped end"),pt.decoder&&!pt.ended){var Ft=pt.decoder.end();Ft&&Ft.length&&Mt.push(Ft)}Mt.push(null)}),Dt.on("data",function(Ft){if(Q("wrapped data"),pt.decoder&&(Ft=pt.decoder.write(Ft)),!(pt.objectMode&&Ft==null)&&!(!pt.objectMode&&(!Ft||!Ft.length))){var nr=Mt.push(Ft);nr||(mt=!0,Dt.pause())}});for(var $t in Dt)this[$t]===void 0&&typeof Dt[$t]=="function"&&(this[$t]=function(nr){return function(){return Dt[nr].apply(Dt,arguments)}}($t));for(var kt=0;kt<at.length;kt++)Dt.on(at[kt],this.emit.bind(this,at[kt]));return this._read=function(Ft){Q("wrapped _read",Ft),mt&&(mt=!1,Dt.resume())},this},typeof Symbol=="function"&&(nt.prototype[Symbol.asyncIterator]=function(){return qe===void 0&&(qe=requireAsync_iterator()),qe(this)}),Object.defineProperty(nt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(nt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(nt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Mt){this._readableState&&(this._readableState.flowing=Mt)}}),nt._fromList=vt,Object.defineProperty(nt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function vt(Dt,Mt){if(Mt.length===0)return null;var pt;return Mt.objectMode?pt=Mt.buffer.shift():!Dt||Dt>=Mt.length?(Mt.decoder?pt=Mt.buffer.join(""):Mt.buffer.length===1?pt=Mt.buffer.first():pt=Mt.buffer.concat(Mt.length),Mt.buffer.clear()):pt=Mt.buffer.consume(Dt,Mt.decoder),pt}function St(Dt){var Mt=Dt._readableState;Q("endReadable",Mt.endEmitted),Mt.endEmitted||(Mt.ended=!0,process$1$1.nextTick(Bt,Mt,Dt))}function Bt(Dt,Mt){if(Q("endReadableNT",Dt.endEmitted,Dt.length),!Dt.endEmitted&&Dt.length===0&&(Dt.endEmitted=!0,Mt.readable=!1,Mt.emit("end"),Dt.autoDestroy)){var pt=Mt._writableState;(!pt||pt.autoDestroy&&pt.finished)&&Mt.destroy()}}typeof Symbol=="function"&&(nt.from=function(Dt,Mt){return He===void 0&&(He=requireFromBrowser()),He(nt,Dt,Mt)});function Gt(Dt,Mt){for(var pt=0,mt=Dt.length;pt<mt;pt++)if(Dt[pt]===Mt)return pt;return-1}return _stream_readable$1}var _stream_transform$1=Transform$4,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex$1();inherits_browser$1(Transform$4,Duplex);function afterTransform(T,$){var I=this._transformState;I.transforming=!1;var N=I.writecb;if(N===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);I.writechunk=null,I.writecb=null,$!=null&&this.push($),N(T);var L=this._readableState;L.reading=!1,(L.needReadable||L.length<L.highWaterMark)&&this._read(L.highWaterMark)}function Transform$4(T){if(!(this instanceof Transform$4))return new Transform$4(T);Duplex.call(this,T),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",prefinish)}function prefinish(){var T=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function($,I){done(T,$,I)}):done(this,null,null)}Transform$4.prototype.push=function(T,$){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,T,$)};Transform$4.prototype._transform=function(T,$,I){I(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$4.prototype._write=function(T,$,I){var N=this._transformState;if(N.writecb=I,N.writechunk=T,N.writeencoding=$,!N.transforming){var L=this._readableState;(N.needTransform||L.needReadable||L.length<L.highWaterMark)&&this._read(L.highWaterMark)}};Transform$4.prototype._read=function(T){var $=this._transformState;$.writechunk!==null&&!$.transforming?($.transforming=!0,this._transform($.writechunk,$.writeencoding,$.afterTransform)):$.needTransform=!0};Transform$4.prototype._destroy=function(T,$){Duplex.prototype._destroy.call(this,T,function(I){$(I)})};function done(T,$,I){if($)return T.emit("error",$);if(I!=null&&T.push(I),T._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(T._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return T.push(null)}const _stream_transform$2=getDefaultExportFromCjs$1(_stream_transform$1),_stream_transform$3=_mergeNamespaces({__proto__:null,default:_stream_transform$2},[_stream_transform$1]);var _stream_passthrough$1=PassThrough,Transform$3=_stream_transform$3;inherits_browser$1(PassThrough,Transform$3);function PassThrough(T){if(!(this instanceof PassThrough))return new PassThrough(T);Transform$3.call(this,T)}PassThrough.prototype._transform=function(T,$,I){I(null,T)};const _stream_passthrough$2=getDefaultExportFromCjs$1(_stream_passthrough$1),_stream_passthrough$3=_mergeNamespaces({__proto__:null,default:_stream_passthrough$2},[_stream_passthrough$1]);var eos;function once(T){var $=!1;return function(){$||($=!0,T.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(T){if(T)throw T}function isRequest(T){return T.setHeader&&typeof T.abort=="function"}function destroyer(T,$,I,N){N=once(N);var L=!1;T.on("close",function(){L=!0}),eos===void 0&&(eos=endOfStream$2),eos(T,{readable:$,writable:I},function(H){if(H)return N(H);L=!0,N()});var B=!1;return function(H){if(!L&&!B){if(B=!0,isRequest(T))return T.abort();if(typeof T.destroy=="function")return T.destroy();N(H||new ERR_STREAM_DESTROYED("pipe"))}}}function call(T){T()}function pipe(T,$){return T.pipe($)}function popCallback(T){return!T.length||typeof T[T.length-1]!="function"?noop:T.pop()}function pipeline(){for(var T=arguments.length,$=new Array(T),I=0;I<T;I++)$[I]=arguments[I];var N=popCallback($);if(Array.isArray($[0])&&($=$[0]),$.length<2)throw new ERR_MISSING_ARGS("streams");var L,B=$.map(function(H,z){var Q=z<$.length-1,te=z>0;return destroyer(H,Q,te,function(G){L||(L=G),G&&B.forEach(call),!Q&&(B.forEach(call),N(L))})});return $.reduce(pipe)}var pipeline_1=pipeline;const pipeline$1=getDefaultExportFromCjs$1(pipeline_1),pipeline$2=_mergeNamespaces({__proto__:null,default:pipeline$1},[pipeline_1]);(function(T,$){$=T.exports=require_stream_readable$1(),$.Stream=$,$.Readable=$,$.Writable=require_stream_writable$1(),$.Duplex=require_stream_duplex$1(),$.Transform=_stream_transform$3,$.PassThrough=_stream_passthrough$3,$.finished=endOfStream$2,$.pipeline=pipeline$2})(readableBrowser$3,readableBrowser$3.exports);var readableBrowserExports=readableBrowser$3.exports;const readableBrowser$1=getDefaultExportFromCjs$1(readableBrowserExports),readableBrowser$2=_mergeNamespaces({__proto__:null,default:readableBrowser$1},[readableBrowserExports]);var Buffer$b=safeBuffer$1.Buffer,Transform$2=readableBrowser$2.Transform,inherits$g=inherits_browser$1;function throwIfNotStringOrBuffer$1(T,$){if(!Buffer$b.isBuffer(T)&&typeof T!="string")throw new TypeError($+" must be a string or a buffer")}function HashBase$3(T){Transform$2.call(this),this._block=Buffer$b.allocUnsafe(T),this._blockSize=T,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$g(HashBase$3,Transform$2);HashBase$3.prototype._transform=function(T,$,I){var N=null;try{this.update(T,$)}catch(L){N=L}I(N)};HashBase$3.prototype._flush=function(T){var $=null;try{this.push(this.digest())}catch(I){$=I}T($)};HashBase$3.prototype.update=function(T,$){if(throwIfNotStringOrBuffer$1(T,"Data"),this._finalized)throw new Error("Digest already called");Buffer$b.isBuffer(T)||(T=Buffer$b.from(T,$));for(var I=this._block,N=0;this._blockOffset+T.length-N>=this._blockSize;){for(var L=this._blockOffset;L<this._blockSize;)I[L++]=T[N++];this._update(),this._blockOffset=0}for(;N<T.length;)I[this._blockOffset++]=T[N++];for(var B=0,H=T.length*8;H>0;++B)this._length[B]+=H,H=this._length[B]/4294967296|0,H>0&&(this._length[B]-=4294967296*H);return this};HashBase$3.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$3.prototype.digest=function(T){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var $=this._digest();T!==void 0&&($=$.toString(T)),this._block.fill(0),this._blockOffset=0;for(var I=0;I<4;++I)this._length[I]=0;return $};HashBase$3.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase$2=HashBase$3;const index$9=getDefaultExportFromCjs$1(hashBase$2),hashBase$3=_mergeNamespaces({__proto__:null,default:index$9},[hashBase$2]);var inherits$f=inherits_browser$1,HashBase$2=hashBase$3,Buffer$a=safeBuffer$1.Buffer,ARRAY16$1=new Array(16);function MD5$1(){HashBase$2.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$f(MD5$1,HashBase$2);MD5$1.prototype._update=function(){for(var T=ARRAY16$1,$=0;$<16;++$)T[$]=this._block.readInt32LE($*4);var I=this._a,N=this._b,L=this._c,B=this._d;I=fnF(I,N,L,B,T[0],3614090360,7),B=fnF(B,I,N,L,T[1],3905402710,12),L=fnF(L,B,I,N,T[2],606105819,17),N=fnF(N,L,B,I,T[3],3250441966,22),I=fnF(I,N,L,B,T[4],4118548399,7),B=fnF(B,I,N,L,T[5],1200080426,12),L=fnF(L,B,I,N,T[6],2821735955,17),N=fnF(N,L,B,I,T[7],4249261313,22),I=fnF(I,N,L,B,T[8],1770035416,7),B=fnF(B,I,N,L,T[9],2336552879,12),L=fnF(L,B,I,N,T[10],4294925233,17),N=fnF(N,L,B,I,T[11],2304563134,22),I=fnF(I,N,L,B,T[12],1804603682,7),B=fnF(B,I,N,L,T[13],4254626195,12),L=fnF(L,B,I,N,T[14],2792965006,17),N=fnF(N,L,B,I,T[15],1236535329,22),I=fnG(I,N,L,B,T[1],4129170786,5),B=fnG(B,I,N,L,T[6],3225465664,9),L=fnG(L,B,I,N,T[11],643717713,14),N=fnG(N,L,B,I,T[0],3921069994,20),I=fnG(I,N,L,B,T[5],3593408605,5),B=fnG(B,I,N,L,T[10],38016083,9),L=fnG(L,B,I,N,T[15],3634488961,14),N=fnG(N,L,B,I,T[4],3889429448,20),I=fnG(I,N,L,B,T[9],568446438,5),B=fnG(B,I,N,L,T[14],3275163606,9),L=fnG(L,B,I,N,T[3],4107603335,14),N=fnG(N,L,B,I,T[8],1163531501,20),I=fnG(I,N,L,B,T[13],2850285829,5),B=fnG(B,I,N,L,T[2],4243563512,9),L=fnG(L,B,I,N,T[7],1735328473,14),N=fnG(N,L,B,I,T[12],2368359562,20),I=fnH(I,N,L,B,T[5],4294588738,4),B=fnH(B,I,N,L,T[8],2272392833,11),L=fnH(L,B,I,N,T[11],1839030562,16),N=fnH(N,L,B,I,T[14],4259657740,23),I=fnH(I,N,L,B,T[1],2763975236,4),B=fnH(B,I,N,L,T[4],1272893353,11),L=fnH(L,B,I,N,T[7],4139469664,16),N=fnH(N,L,B,I,T[10],3200236656,23),I=fnH(I,N,L,B,T[13],681279174,4),B=fnH(B,I,N,L,T[0],3936430074,11),L=fnH(L,B,I,N,T[3],3572445317,16),N=fnH(N,L,B,I,T[6],76029189,23),I=fnH(I,N,L,B,T[9],3654602809,4),B=fnH(B,I,N,L,T[12],3873151461,11),L=fnH(L,B,I,N,T[15],530742520,16),N=fnH(N,L,B,I,T[2],3299628645,23),I=fnI(I,N,L,B,T[0],4096336452,6),B=fnI(B,I,N,L,T[7],1126891415,10),L=fnI(L,B,I,N,T[14],2878612391,15),N=fnI(N,L,B,I,T[5],4237533241,21),I=fnI(I,N,L,B,T[12],1700485571,6),B=fnI(B,I,N,L,T[3],2399980690,10),L=fnI(L,B,I,N,T[10],4293915773,15),N=fnI(N,L,B,I,T[1],2240044497,21),I=fnI(I,N,L,B,T[8],1873313359,6),B=fnI(B,I,N,L,T[15],4264355552,10),L=fnI(L,B,I,N,T[6],2734768916,15),N=fnI(N,L,B,I,T[13],1309151649,21),I=fnI(I,N,L,B,T[4],4149444226,6),B=fnI(B,I,N,L,T[11],3174756917,10),L=fnI(L,B,I,N,T[2],718787259,15),N=fnI(N,L,B,I,T[9],3951481745,21),this._a=this._a+I|0,this._b=this._b+N|0,this._c=this._c+L|0,this._d=this._d+B|0};MD5$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=Buffer$a.allocUnsafe(16);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T};function rotl$1(T,$){return T<<$|T>>>32-$}function fnF(T,$,I,N,L,B,H){return rotl$1(T+($&I|~$&N)+L+B|0,H)+$|0}function fnG(T,$,I,N,L,B,H){return rotl$1(T+($&N|I&~N)+L+B|0,H)+$|0}function fnH(T,$,I,N,L,B,H){return rotl$1(T+($^I^N)+L+B|0,H)+$|0}function fnI(T,$,I,N,L,B,H){return rotl$1(T+(I^($|~N))+L+B|0,H)+$|0}var md5_js=MD5$1;const index$8=getDefaultExportFromCjs$1(md5_js),md5_js$1=_mergeNamespaces({__proto__:null,default:index$8},[md5_js]);var Buffer$9=safeBuffer$1.Buffer,Transform$1=readableBrowser$2.Transform,inherits$e=inherits_browser$1;function throwIfNotStringOrBuffer(T,$){if(!Buffer$9.isBuffer(T)&&typeof T!="string")throw new TypeError($+" must be a string or a buffer")}function HashBase$1(T){Transform$1.call(this),this._block=Buffer$9.allocUnsafe(T),this._blockSize=T,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$e(HashBase$1,Transform$1);HashBase$1.prototype._transform=function(T,$,I){var N=null;try{this.update(T,$)}catch(L){N=L}I(N)};HashBase$1.prototype._flush=function(T){var $=null;try{this.push(this.digest())}catch(I){$=I}T($)};HashBase$1.prototype.update=function(T,$){if(throwIfNotStringOrBuffer(T,"Data"),this._finalized)throw new Error("Digest already called");Buffer$9.isBuffer(T)||(T=Buffer$9.from(T,$));for(var I=this._block,N=0;this._blockOffset+T.length-N>=this._blockSize;){for(var L=this._blockOffset;L<this._blockSize;)I[L++]=T[N++];this._update(),this._blockOffset=0}for(;N<T.length;)I[this._blockOffset++]=T[N++];for(var B=0,H=T.length*8;H>0;++B)this._length[B]+=H,H=this._length[B]/4294967296|0,H>0&&(this._length[B]-=4294967296*H);return this};HashBase$1.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$1.prototype.digest=function(T){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var $=this._digest();T!==void 0&&($=$.toString(T)),this._block.fill(0),this._blockOffset=0;for(var I=0;I<4;++I)this._length[I]=0;return $};HashBase$1.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$1;const index$7=getDefaultExportFromCjs$1(hashBase),hashBase$1=_mergeNamespaces({__proto__:null,default:index$7},[hashBase]);var Buffer$8=dist$5.Buffer,inherits$d=inherits_browser$1,HashBase=hashBase$1,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$2(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$d(RIPEMD160$2,HashBase);RIPEMD160$2.prototype._update=function(){for(var T=ARRAY16,$=0;$<16;++$)T[$]=this._block.readInt32LE($*4);for(var I=this._a|0,N=this._b|0,L=this._c|0,B=this._d|0,H=this._e|0,z=this._a|0,Q=this._b|0,te=this._c|0,G=this._d|0,ie=this._e|0,Re=0;Re<80;Re+=1){var $e,Pe;Re<16?($e=fn1(I,N,L,B,H,T[zl[Re]],hl[0],sl[Re]),Pe=fn5(z,Q,te,G,ie,T[zr[Re]],hr[0],sr[Re])):Re<32?($e=fn2(I,N,L,B,H,T[zl[Re]],hl[1],sl[Re]),Pe=fn4(z,Q,te,G,ie,T[zr[Re]],hr[1],sr[Re])):Re<48?($e=fn3(I,N,L,B,H,T[zl[Re]],hl[2],sl[Re]),Pe=fn3(z,Q,te,G,ie,T[zr[Re]],hr[2],sr[Re])):Re<64?($e=fn4(I,N,L,B,H,T[zl[Re]],hl[3],sl[Re]),Pe=fn2(z,Q,te,G,ie,T[zr[Re]],hr[3],sr[Re])):($e=fn5(I,N,L,B,H,T[zl[Re]],hl[4],sl[Re]),Pe=fn1(z,Q,te,G,ie,T[zr[Re]],hr[4],sr[Re])),I=H,H=B,B=rotl(L,10),L=N,N=$e,z=ie,ie=G,G=rotl(te,10),te=Q,Q=Pe}var Me=this._b+L+G|0;this._b=this._c+B+ie|0,this._c=this._d+H+z|0,this._d=this._e+I+Q|0,this._e=this._a+N+te|0,this._a=Me};RIPEMD160$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=Buffer$8.alloc?Buffer$8.alloc(20):new Buffer$8(20);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T.writeInt32LE(this._e,16),T};function rotl(T,$){return T<<$|T>>>32-$}function fn1(T,$,I,N,L,B,H,z){return rotl(T+($^I^N)+B+H|0,z)+L|0}function fn2(T,$,I,N,L,B,H,z){return rotl(T+($&I|~$&N)+B+H|0,z)+L|0}function fn3(T,$,I,N,L,B,H,z){return rotl(T+(($|~I)^N)+B+H|0,z)+L|0}function fn4(T,$,I,N,L,B,H,z){return rotl(T+($&N|I&~N)+B+H|0,z)+L|0}function fn5(T,$,I,N,L,B,H,z){return rotl(T+($^(I|~N))+B+H|0,z)+L|0}var ripemd160$2=RIPEMD160$2;const index$6=getDefaultExportFromCjs$1(ripemd160$2),ripemd160$3=_mergeNamespaces({__proto__:null,default:index$6},[ripemd160$2]);var sha_js$1={exports:{}},Buffer$7=safeBuffer$1.Buffer;function Hash$7(T,$){this._block=Buffer$7.alloc(T),this._finalSize=$,this._blockSize=T,this._len=0}Hash$7.prototype.update=function(T,$){typeof T=="string"&&($=$||"utf8",T=Buffer$7.from(T,$));for(var I=this._block,N=this._blockSize,L=T.length,B=this._len,H=0;H<L;){for(var z=B%N,Q=Math.min(L-H,N-z),te=0;te<Q;te++)I[z+te]=T[H+te];B+=Q,H+=Q,B%N===0&&this._update(I)}return this._len+=L,this};Hash$7.prototype.digest=function(T){var $=this._len%this._blockSize;this._block[$]=128,this._block.fill(0,$+1),$>=this._finalSize&&(this._update(this._block),this._block.fill(0));var I=this._len*8;if(I<=4294967295)this._block.writeUInt32BE(I,this._blockSize-4);else{var N=(I&4294967295)>>>0,L=(I-N)/4294967296;this._block.writeUInt32BE(L,this._blockSize-8),this._block.writeUInt32BE(N,this._blockSize-4)}this._update(this._block);var B=this._hash();return T?B.toString(T):B};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$5=Hash$7;const hash$6=getDefaultExportFromCjs$1(hash$5),hash$7=_mergeNamespaces({__proto__:null,default:hash$6},[hash$5]);var inherits$c=inherits_browser$1,Hash$6=hash$7,Buffer$6=safeBuffer$1.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}inherits$c(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(T){return T<<5|T>>>27}function rotl30$1(T){return T<<30|T>>>2}function ft$1(T,$,I,N){return T===0?$&I|~$&N:T===2?$&I|$&N|I&N:$^I^N}Sha.prototype._update=function(T){for(var $=this._w,I=this._a|0,N=this._b|0,L=this._c|0,B=this._d|0,H=this._e|0,z=0;z<16;++z)$[z]=T.readInt32BE(z*4);for(;z<80;++z)$[z]=$[z-3]^$[z-8]^$[z-14]^$[z-16];for(var Q=0;Q<80;++Q){var te=~~(Q/20),G=rotl5$1(I)+ft$1(te,N,L,B)+H+$[Q]+K$4[te]|0;H=B,B=L,L=rotl30$1(N),N=I,I=G}this._a=I+this._a|0,this._b=N+this._b|0,this._c=L+this._c|0,this._d=B+this._d|0,this._e=H+this._e|0};Sha.prototype._hash=function(){var T=Buffer$6.allocUnsafe(20);return T.writeInt32BE(this._a|0,0),T.writeInt32BE(this._b|0,4),T.writeInt32BE(this._c|0,8),T.writeInt32BE(this._d|0,12),T.writeInt32BE(this._e|0,16),T};var sha$3=Sha;const sha$4=getDefaultExportFromCjs$1(sha$3),sha$5=_mergeNamespaces({__proto__:null,default:sha$4},[sha$3]);var inherits$b=inherits_browser$1,Hash$5=hash$7,Buffer$5=safeBuffer$1.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}inherits$b(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(T){return T<<1|T>>>31}function rotl5(T){return T<<5|T>>>27}function rotl30(T){return T<<30|T>>>2}function ft(T,$,I,N){return T===0?$&I|~$&N:T===2?$&I|$&N|I&N:$^I^N}Sha1.prototype._update=function(T){for(var $=this._w,I=this._a|0,N=this._b|0,L=this._c|0,B=this._d|0,H=this._e|0,z=0;z<16;++z)$[z]=T.readInt32BE(z*4);for(;z<80;++z)$[z]=rotl1($[z-3]^$[z-8]^$[z-14]^$[z-16]);for(var Q=0;Q<80;++Q){var te=~~(Q/20),G=rotl5(I)+ft(te,N,L,B)+H+$[Q]+K$3[te]|0;H=B,B=L,L=rotl30(N),N=I,I=G}this._a=I+this._a|0,this._b=N+this._b|0,this._c=L+this._c|0,this._d=B+this._d|0,this._e=H+this._e|0};Sha1.prototype._hash=function(){var T=Buffer$5.allocUnsafe(20);return T.writeInt32BE(this._a|0,0),T.writeInt32BE(this._b|0,4),T.writeInt32BE(this._c|0,8),T.writeInt32BE(this._d|0,12),T.writeInt32BE(this._e|0,16),T};var sha1$2=Sha1;const sha1$3=getDefaultExportFromCjs$1(sha1$2),sha1$4=_mergeNamespaces({__proto__:null,default:sha1$3},[sha1$2]);var inherits$a=inherits_browser$1,Hash$4=hash$7,Buffer$4=safeBuffer$1.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}inherits$a(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(T,$,I){return I^T&($^I)}function maj$1(T,$,I){return T&$|I&(T|$)}function sigma0$1(T){return(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10)}function sigma1$1(T){return(T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7)}function gamma0(T){return(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3}function gamma1(T){return(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10}Sha256$1.prototype._update=function(T){for(var $=this._w,I=this._a|0,N=this._b|0,L=this._c|0,B=this._d|0,H=this._e|0,z=this._f|0,Q=this._g|0,te=this._h|0,G=0;G<16;++G)$[G]=T.readInt32BE(G*4);for(;G<64;++G)$[G]=gamma1($[G-2])+$[G-7]+gamma0($[G-15])+$[G-16]|0;for(var ie=0;ie<64;++ie){var Re=te+sigma1$1(H)+ch(H,z,Q)+K$2[ie]+$[ie]|0,$e=sigma0$1(I)+maj$1(I,N,L)|0;te=Q,Q=z,z=H,H=B+Re|0,B=L,L=N,N=I,I=Re+$e|0}this._a=I+this._a|0,this._b=N+this._b|0,this._c=L+this._c|0,this._d=B+this._d|0,this._e=H+this._e|0,this._f=z+this._f|0,this._g=Q+this._g|0,this._h=te+this._h|0};Sha256$1.prototype._hash=function(){var T=Buffer$4.allocUnsafe(32);return T.writeInt32BE(this._a,0),T.writeInt32BE(this._b,4),T.writeInt32BE(this._c,8),T.writeInt32BE(this._d,12),T.writeInt32BE(this._e,16),T.writeInt32BE(this._f,20),T.writeInt32BE(this._g,24),T.writeInt32BE(this._h,28),T};var sha256$3=Sha256$1;const sha256$4=getDefaultExportFromCjs$1(sha256$3),sha256$5=_mergeNamespaces({__proto__:null,default:sha256$4},[sha256$3]);var inherits$9=inherits_browser$1,Sha256=sha256$5,Hash$3=hash$7,Buffer$3=safeBuffer$1.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$9(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var T=Buffer$3.allocUnsafe(28);return T.writeInt32BE(this._a,0),T.writeInt32BE(this._b,4),T.writeInt32BE(this._c,8),T.writeInt32BE(this._d,12),T.writeInt32BE(this._e,16),T.writeInt32BE(this._f,20),T.writeInt32BE(this._g,24),T};var sha224$3=Sha224;const sha224$4=getDefaultExportFromCjs$1(sha224$3),sha224$5=_mergeNamespaces({__proto__:null,default:sha224$4},[sha224$3]);var inherits$8=inherits_browser$1,Hash$2=hash$7,Buffer$2=safeBuffer$1.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}inherits$8(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(T,$,I){return I^T&($^I)}function maj(T,$,I){return T&$|I&(T|$)}function sigma0(T,$){return(T>>>28|$<<4)^($>>>2|T<<30)^($>>>7|T<<25)}function sigma1(T,$){return(T>>>14|$<<18)^(T>>>18|$<<14)^($>>>9|T<<23)}function Gamma0(T,$){return(T>>>1|$<<31)^(T>>>8|$<<24)^T>>>7}function Gamma0l(T,$){return(T>>>1|$<<31)^(T>>>8|$<<24)^(T>>>7|$<<25)}function Gamma1(T,$){return(T>>>19|$<<13)^($>>>29|T<<3)^T>>>6}function Gamma1l(T,$){return(T>>>19|$<<13)^($>>>29|T<<3)^(T>>>6|$<<26)}function getCarry(T,$){return T>>>0<$>>>0?1:0}Sha512.prototype._update=function(T){for(var $=this._w,I=this._ah|0,N=this._bh|0,L=this._ch|0,B=this._dh|0,H=this._eh|0,z=this._fh|0,Q=this._gh|0,te=this._hh|0,G=this._al|0,ie=this._bl|0,Re=this._cl|0,$e=this._dl|0,Pe=this._el|0,Me=this._fl|0,Be=this._gl|0,Ke=this._hl|0,Le=0;Le<32;Le+=2)$[Le]=T.readInt32BE(Le*4),$[Le+1]=T.readInt32BE(Le*4+4);for(;Le<160;Le+=2){var qe=$[Le-30],He=$[Le-15*2+1],Ge=Gamma0(qe,He),at=Gamma0l(He,qe);qe=$[Le-2*2],He=$[Le-2*2+1];var ot=Gamma1(qe,He),Ye=Gamma1l(He,qe),nt=$[Le-7*2],Qe=$[Le-7*2+1],tt=$[Le-16*2],ze=$[Le-16*2+1],Fe=at+Qe|0,ke=Ge+nt+getCarry(Fe,at)|0;Fe=Fe+Ye|0,ke=ke+ot+getCarry(Fe,Ye)|0,Fe=Fe+ze|0,ke=ke+tt+getCarry(Fe,ze)|0,$[Le]=ke,$[Le+1]=Fe}for(var Ue=0;Ue<160;Ue+=2){ke=$[Ue],Fe=$[Ue+1];var Je=maj(I,N,L),rt=maj(G,ie,Re),Xe=sigma0(I,G),it=sigma0(G,I),We=sigma1(H,Pe),Ve=sigma1(Pe,H),je=K$1[Ue],Ze=K$1[Ue+1],st=Ch(H,z,Q),dt=Ch(Pe,Me,Be),bt=Ke+Ve|0,vt=te+We+getCarry(bt,Ke)|0;bt=bt+dt|0,vt=vt+st+getCarry(bt,dt)|0,bt=bt+Ze|0,vt=vt+je+getCarry(bt,Ze)|0,bt=bt+Fe|0,vt=vt+ke+getCarry(bt,Fe)|0;var St=it+rt|0,Bt=Xe+Je+getCarry(St,it)|0;te=Q,Ke=Be,Q=z,Be=Me,z=H,Me=Pe,Pe=$e+bt|0,H=B+vt+getCarry(Pe,$e)|0,B=L,$e=Re,L=N,Re=ie,N=I,ie=G,G=bt+St|0,I=vt+Bt+getCarry(G,bt)|0}this._al=this._al+G|0,this._bl=this._bl+ie|0,this._cl=this._cl+Re|0,this._dl=this._dl+$e|0,this._el=this._el+Pe|0,this._fl=this._fl+Me|0,this._gl=this._gl+Be|0,this._hl=this._hl+Ke|0,this._ah=this._ah+I+getCarry(this._al,G)|0,this._bh=this._bh+N+getCarry(this._bl,ie)|0,this._ch=this._ch+L+getCarry(this._cl,Re)|0,this._dh=this._dh+B+getCarry(this._dl,$e)|0,this._eh=this._eh+H+getCarry(this._el,Pe)|0,this._fh=this._fh+z+getCarry(this._fl,Me)|0,this._gh=this._gh+Q+getCarry(this._gl,Be)|0,this._hh=this._hh+te+getCarry(this._hl,Ke)|0};Sha512.prototype._hash=function(){var T=Buffer$2.allocUnsafe(64);function $(I,N,L){T.writeInt32BE(I,L),T.writeInt32BE(N,L+4)}return $(this._ah,this._al,0),$(this._bh,this._bl,8),$(this._ch,this._cl,16),$(this._dh,this._dl,24),$(this._eh,this._el,32),$(this._fh,this._fl,40),$(this._gh,this._gl,48),$(this._hh,this._hl,56),T};var sha512$3=Sha512;const sha512$4=getDefaultExportFromCjs$1(sha512$3),sha512$5=_mergeNamespaces({__proto__:null,default:sha512$4},[sha512$3]);var inherits$7=inherits_browser$1,SHA512$2=sha512$5,Hash$1=hash$7,Buffer$1=safeBuffer$1.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$7(Sha384,SHA512$2);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var T=Buffer$1.allocUnsafe(48);function $(I,N,L){T.writeInt32BE(I,L),T.writeInt32BE(N,L+4)}return $(this._ah,this._al,0),$(this._bh,this._bl,8),$(this._ch,this._cl,16),$(this._dh,this._dl,24),$(this._eh,this._el,32),$(this._fh,this._fl,40),T};var sha384$3=Sha384;const sha384$4=getDefaultExportFromCjs$1(sha384$3),sha384$5=_mergeNamespaces({__proto__:null,default:sha384$4},[sha384$3]);var exports=sha_js$1.exports=function($){$=$.toLowerCase();var I=exports[$];if(!I)throw new Error($+" is not supported (we accept pull requests)");return new I};exports.sha=sha$5;exports.sha1=sha1$4;exports.sha224=sha224$5;exports.sha256=sha256$5;exports.sha384=sha384$5;exports.sha512=sha512$5;var sha_jsExports=sha_js$1.exports;const index$5=getDefaultExportFromCjs$1(sha_jsExports),sha_js=_mergeNamespaces({__proto__:null,default:index$5},[sha_jsExports]);var streamBrowserify=Stream,EE=events$1.EventEmitter,inherits$6=inherits_browser$1;inherits$6(Stream,EE);Stream.Readable=require_stream_readable$1();Stream.Writable=require_stream_writable$1();Stream.Duplex=require_stream_duplex$1();Stream.Transform=_stream_transform$3;Stream.PassThrough=_stream_passthrough$3;Stream.finished=endOfStream$2;Stream.pipeline=pipeline$2;Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(T,$){var I=this;function N(G){T.writable&&T.write(G)===!1&&I.pause&&I.pause()}I.on("data",N);function L(){I.readable&&I.resume&&I.resume()}T.on("drain",L),!T._isStdio&&(!$||$.end!==!1)&&(I.on("end",H),I.on("close",z));var B=!1;function H(){B||(B=!0,T.end())}function z(){B||(B=!0,typeof T.destroy=="function"&&T.destroy())}function Q(G){if(te(),EE.listenerCount(this,"error")===0)throw G}I.on("error",Q),T.on("error",Q);function te(){I.removeListener("data",N),T.removeListener("drain",L),I.removeListener("end",H),I.removeListener("close",z),I.removeListener("error",Q),T.removeListener("error",Q),I.removeListener("end",te),I.removeListener("close",te),T.removeListener("close",te)}return I.on("end",te),I.on("close",te),T.on("close",te),T.emit("pipe",I),T};const index$4=getDefaultExportFromCjs$1(streamBrowserify),streamBrowserify$1=_mergeNamespaces({__proto__:null,default:index$4},[streamBrowserify]);var Buffer=safeBuffer$1.Buffer,Transform=streamBrowserify$1.Transform,StringDecoder=string_decoder.StringDecoder,inherits$5=inherits_browser$1;function CipherBase(T){Transform.call(this),this.hashMode=typeof T=="string",this.hashMode?this[T]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$5(CipherBase,Transform);var useUint8Array=typeof Uint8Array<"u",useArrayBuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Buffer.prototype instanceof Uint8Array||Buffer.TYPED_ARRAY_SUPPORT);function toBuffer$1(T,$){if(T instanceof Buffer)return T;if(typeof T=="string")return Buffer.from(T,$);if(useArrayBuffer&&ArrayBuffer.isView(T)){if(T.byteLength===0)return Buffer.alloc(0);var I=Buffer.from(T.buffer,T.byteOffset,T.byteLength);if(I.byteLength===T.byteLength)return I}if(useUint8Array&&T instanceof Uint8Array||Buffer.isBuffer(T)&&T.constructor&&typeof T.constructor.isBuffer=="function"&&T.constructor.isBuffer(T))return Buffer.from(T);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}CipherBase.prototype.update=function(T,$,I){var N=toBuffer$1(T,$),L=this._update(N);return this.hashMode?this:(I&&(L=this._toString(L,I)),L)};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(T,$,I){var N;try{this.hashMode?this._update(T):this.push(this._update(T))}catch(L){N=L}finally{I(N)}};CipherBase.prototype._flush=function(T){var $;try{this.push(this.__final())}catch(I){$=I}T($)};CipherBase.prototype._finalOrDigest=function(T){var $=this.__final()||Buffer.alloc(0);return T&&($=this._toString($,T,!0)),$};CipherBase.prototype._toString=function(T,$,I){if(this._decoder||(this._decoder=new StringDecoder($),this._encoding=$),this._encoding!==$)throw new Error("can’t switch encodings");var N=this._decoder.write(T);return I&&(N+=this._decoder.end()),N};var cipherBase=CipherBase;const index$3=getDefaultExportFromCjs$1(cipherBase),cipherBase$1=_mergeNamespaces({__proto__:null,default:index$3},[cipherBase]);var inherits$4=inherits_browser$1,MD5=md5_js$1,RIPEMD160$1=ripemd160$3,sha$2=sha_js,Base$3=cipherBase$1;function Hash(T){Base$3.call(this,"digest"),this._hash=T}inherits$4(Hash,Base$3);Hash.prototype._update=function(T){this._hash.update(T)};Hash.prototype._final=function(){return this._hash.digest()};var browser$a=function($){return $=$.toLowerCase(),$==="md5"?new MD5:$==="rmd160"||$==="ripemd160"?new RIPEMD160$1:new Hash(sha$2($))};const browser$b=getDefaultExportFromCjs$1(browser$a),browser$c=_mergeNamespaces({__proto__:null,default:browser$b},[browser$a]);var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var T=inherits_browser$1,$=safeBuffer$1.Buffer,I=cipherBase$1,N=$.alloc(128),L=64;function B(H,z){I.call(this,"digest"),typeof z=="string"&&(z=$.from(z)),this._alg=H,this._key=z,z.length>L?z=H(z):z.length<L&&(z=$.concat([z,N],L));for(var Q=this._ipad=$.allocUnsafe(L),te=this._opad=$.allocUnsafe(L),G=0;G<L;G++)Q[G]=z[G]^54,te[G]=z[G]^92;this._hash=[Q]}return T(B,I),B.prototype._update=function(H){this._hash.push(H)},B.prototype._final=function(){var H=this._alg($.concat(this._hash));return this._alg($.concat([this._opad,H]))},legacy=B,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var T=md5_js$1;return md5$1=function($){return new T().update($).digest()},md5$1}var browser$9,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9;hasRequiredBrowser$8=1;var T=inherits_browser$1,$=requireLegacy(),I=cipherBase$1,N=safeBuffer$1.Buffer,L=requireMd5$1(),B=ripemd160$3,H=sha_js,z=N.alloc(128);function Q(te,G){I.call(this,"digest"),typeof G=="string"&&(G=N.from(G));var ie=te==="sha512"||te==="sha384"?128:64;if(this._alg=te,this._key=G,G.length>ie){var Re=te==="rmd160"?new B:H(te);G=Re.update(G).digest()}else G.length<ie&&(G=N.concat([G,z],ie));for(var $e=this._ipad=N.allocUnsafe(ie),Pe=this._opad=N.allocUnsafe(ie),Me=0;Me<ie;Me++)$e[Me]=G[Me]^54,Pe[Me]=G[Me]^92;this._hash=te==="rmd160"?new B:H(te),this._hash.update($e)}return T(Q,I),Q.prototype._update=function(te){this._hash.update(te)},Q.prototype._final=function(){var te=this._hash.digest(),G=this._alg==="rmd160"?new B:H(this._alg);return G.update(this._opad).update(te).digest()},browser$9=function(G,ie){return G=G.toLowerCase(),G==="rmd160"||G==="ripemd160"?new Q("rmd160",ie):G==="md5"?new $(L,ie):new Q(G,ie)},browser$9}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$2={sign:"ecdsa",hash:"sha256",id:""},sha224$2={sign:"ecdsa",hash:"sha224",id:""},sha384$2={sign:"ecdsa",hash:"sha384",id:""},sha512$2={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$2,sha224:sha224$2,sha384:sha384$2,sha512:sha512$2,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$8={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var T=Math.pow(2,30)-1;return precondition=function($,I){if(typeof $!="number")throw new TypeError("Iterations not a number");if($<0)throw new TypeError("Bad iterations");if(typeof I!="number")throw new TypeError("Key length not a number");if(I<0||I>T||I!==I)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var T;if(commonjsGlobal$2.process&&commonjsGlobal$2.process.browser)T="utf-8";else if(commonjsGlobal$2.process&&commonjsGlobal$2.process.version){var $=parseInt(process$1$1.version.split(".")[0].slice(1),10);T=$>=6?"utf-8":"binary"}else T="utf-8";return defaultEncoding_1=T,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var T=safeBuffer$1.Buffer;return toBuffer=function($,I,N){if(T.isBuffer($))return $;if(typeof $=="string")return T.from($,I);if(ArrayBuffer.isView($))return T.from($.buffer);throw new TypeError(N+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var T=requireMd5$1(),$=ripemd160$3,I=sha_js,N=safeBuffer$1.Buffer,L=requirePrecondition(),B=requireDefaultEncoding(),H=requireToBuffer(),z=N.alloc(128),Q={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function te(Re,$e,Pe){var Me=G(Re),Be=Re==="sha512"||Re==="sha384"?128:64;$e.length>Be?$e=Me($e):$e.length<Be&&($e=N.concat([$e,z],Be));for(var Ke=N.allocUnsafe(Be+Q[Re]),Le=N.allocUnsafe(Be+Q[Re]),qe=0;qe<Be;qe++)Ke[qe]=$e[qe]^54,Le[qe]=$e[qe]^92;var He=N.allocUnsafe(Be+Pe+4);Ke.copy(He,0,0,Be),this.ipad1=He,this.ipad2=Ke,this.opad=Le,this.alg=Re,this.blocksize=Be,this.hash=Me,this.size=Q[Re]}te.prototype.run=function(Re,$e){Re.copy($e,this.blocksize);var Pe=this.hash($e);return Pe.copy(this.opad,this.blocksize),this.hash(this.opad)};function G(Re){function $e(Me){return I(Re).update(Me).digest()}function Pe(Me){return new $().update(Me).digest()}return Re==="rmd160"||Re==="ripemd160"?Pe:Re==="md5"?T:$e}function ie(Re,$e,Pe,Me,Be){L(Pe,Me),Re=H(Re,B,"Password"),$e=H($e,B,"Salt"),Be=Be||"sha1";var Ke=new te(Be,Re,$e.length),Le=N.allocUnsafe(Me),qe=N.allocUnsafe($e.length+4);$e.copy(qe,0,0,$e.length);for(var He=0,Ge=Q[Be],at=Math.ceil(Me/Ge),ot=1;ot<=at;ot++){qe.writeUInt32BE(ot,$e.length);for(var Ye=Ke.run(qe,Ke.ipad1),nt=Ye,Qe=1;Qe<Pe;Qe++){nt=Ke.run(nt,Ke.ipad2);for(var tt=0;tt<Ge;tt++)Ye[tt]^=nt[tt]}Ye.copy(Le,He),He+=Ge}return Le}return syncBrowser=ie,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var T=safeBuffer$1.Buffer,$=requirePrecondition(),I=requireDefaultEncoding(),N=requireSyncBrowser(),L=requireToBuffer(),B,H=commonjsGlobal$2.crypto&&commonjsGlobal$2.crypto.subtle,z={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Q=[];function te(Pe){if(commonjsGlobal$2.process&&!commonjsGlobal$2.process.browser||!H||!H.importKey||!H.deriveBits)return Promise.resolve(!1);if(Q[Pe]!==void 0)return Q[Pe];B=B||T.alloc(8);var Me=Re(B,B,10,128,Pe).then(function(){return!0}).catch(function(){return!1});return Q[Pe]=Me,Me}var G;function ie(){return G||(commonjsGlobal$2.process&&commonjsGlobal$2.process.nextTick?G=commonjsGlobal$2.process.nextTick:commonjsGlobal$2.queueMicrotask?G=commonjsGlobal$2.queueMicrotask:commonjsGlobal$2.setImmediate?G=commonjsGlobal$2.setImmediate:G=commonjsGlobal$2.setTimeout,G)}function Re(Pe,Me,Be,Ke,Le){return H.importKey("raw",Pe,{name:"PBKDF2"},!1,["deriveBits"]).then(function(qe){return H.deriveBits({name:"PBKDF2",salt:Me,iterations:Be,hash:{name:Le}},qe,Ke<<3)}).then(function(qe){return T.from(qe)})}function $e(Pe,Me){Pe.then(function(Be){ie()(function(){Me(null,Be)})},function(Be){ie()(function(){Me(Be)})})}return async=function(Pe,Me,Be,Ke,Le,qe){typeof Le=="function"&&(qe=Le,Le=void 0),Le=Le||"sha1";var He=z[Le.toLowerCase()];if(!He||typeof commonjsGlobal$2.Promise!="function"){ie()(function(){var Ge;try{Ge=N(Pe,Me,Be,Ke,Le)}catch(at){return qe(at)}qe(null,Ge)});return}if($(Be,Ke),Pe=L(Pe,I,"Password"),Me=L(Me,I,"Salt"),typeof qe!="function")throw new Error("No callback provided to pbkdf2");$e(te(He).then(function(Ge){return Ge?Re(Pe,Me,Be,Ke,He):N(Pe,Me,Be,Ke,Le)}),qe)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$8.pbkdf2=requireAsync(),browser$8.pbkdf2Sync=requireSyncBrowser()),browser$8}var browser$7={},des$1={},utils$r={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$r;hasRequiredUtils=1,utils$r.readUInt32BE=function(L,B){var H=L[0+B]<<24|L[1+B]<<16|L[2+B]<<8|L[3+B];return H>>>0},utils$r.writeUInt32BE=function(L,B,H){L[0+H]=B>>>24,L[1+H]=B>>>16&255,L[2+H]=B>>>8&255,L[3+H]=B&255},utils$r.ip=function(L,B,H,z){for(var Q=0,te=0,G=6;G>=0;G-=2){for(var ie=0;ie<=24;ie+=8)Q<<=1,Q|=B>>>ie+G&1;for(var ie=0;ie<=24;ie+=8)Q<<=1,Q|=L>>>ie+G&1}for(var G=6;G>=0;G-=2){for(var ie=1;ie<=25;ie+=8)te<<=1,te|=B>>>ie+G&1;for(var ie=1;ie<=25;ie+=8)te<<=1,te|=L>>>ie+G&1}H[z+0]=Q>>>0,H[z+1]=te>>>0},utils$r.rip=function(L,B,H,z){for(var Q=0,te=0,G=0;G<4;G++)for(var ie=24;ie>=0;ie-=8)Q<<=1,Q|=B>>>ie+G&1,Q<<=1,Q|=L>>>ie+G&1;for(var G=4;G<8;G++)for(var ie=24;ie>=0;ie-=8)te<<=1,te|=B>>>ie+G&1,te<<=1,te|=L>>>ie+G&1;H[z+0]=Q>>>0,H[z+1]=te>>>0},utils$r.pc1=function(L,B,H,z){for(var Q=0,te=0,G=7;G>=5;G--){for(var ie=0;ie<=24;ie+=8)Q<<=1,Q|=B>>ie+G&1;for(var ie=0;ie<=24;ie+=8)Q<<=1,Q|=L>>ie+G&1}for(var ie=0;ie<=24;ie+=8)Q<<=1,Q|=B>>ie+G&1;for(var G=1;G<=3;G++){for(var ie=0;ie<=24;ie+=8)te<<=1,te|=B>>ie+G&1;for(var ie=0;ie<=24;ie+=8)te<<=1,te|=L>>ie+G&1}for(var ie=0;ie<=24;ie+=8)te<<=1,te|=L>>ie+G&1;H[z+0]=Q>>>0,H[z+1]=te>>>0},utils$r.r28shl=function(L,B){return L<<B&268435455|L>>>28-B};var T=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$r.pc2=function(L,B,H,z){for(var Q=0,te=0,G=T.length>>>1,ie=0;ie<G;ie++)Q<<=1,Q|=L>>>T[ie]&1;for(var ie=G;ie<T.length;ie++)te<<=1,te|=B>>>T[ie]&1;H[z+0]=Q>>>0,H[z+1]=te>>>0},utils$r.expand=function(L,B,H){var z=0,Q=0;z=(L&1)<<5|L>>>27;for(var te=23;te>=15;te-=4)z<<=6,z|=L>>>te&63;for(var te=11;te>=3;te-=4)Q|=L>>>te&63,Q<<=6;Q|=(L&31)<<1|L>>>31,B[H+0]=z>>>0,B[H+1]=Q>>>0};var $=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$r.substitute=function(L,B){for(var H=0,z=0;z<4;z++){var Q=L>>>18-z*6&63,te=$[z*64+Q];H<<=4,H|=te}for(var z=0;z<4;z++){var Q=B>>>18-z*6&63,te=$[4*64+z*64+Q];H<<=4,H|=te}return H>>>0};var I=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$r.permute=function(L){for(var B=0,H=0;H<I.length;H++)B<<=1,B|=L>>>I[H]&1;return B>>>0},utils$r.padSplit=function(L,B,H){for(var z=L.toString(2);z.length<B;)z="0"+z;for(var Q=[],te=0;te<B;te+=H)Q.push(z.slice(te,te+H));return Q.join(" ")},utils$r}var minimalisticAssert=assert$e;function assert$e(T,$){if(!T)throw new Error($||"Assertion failed")}assert$e.equal=function($,I,N){if($!=I)throw new Error(N||"Assertion failed: "+$+" != "+I)};const index$2=getDefaultExportFromCjs$1(minimalisticAssert),minimalisticAssert$1=_mergeNamespaces({__proto__:null,default:index$2},[minimalisticAssert]);var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var T=minimalisticAssert$1;function $(I){this.options=I,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=I.padding!==!1}return cipher=$,$.prototype._init=function(){},$.prototype.update=function(N){return N.length===0?[]:this.type==="decrypt"?this._updateDecrypt(N):this._updateEncrypt(N)},$.prototype._buffer=function(N,L){for(var B=Math.min(this.buffer.length-this.bufferOff,N.length-L),H=0;H<B;H++)this.buffer[this.bufferOff+H]=N[L+H];return this.bufferOff+=B,B},$.prototype._flushBuffer=function(N,L){return this._update(this.buffer,0,N,L),this.bufferOff=0,this.blockSize},$.prototype._updateEncrypt=function(N){var L=0,B=0,H=(this.bufferOff+N.length)/this.blockSize|0,z=new Array(H*this.blockSize);this.bufferOff!==0&&(L+=this._buffer(N,L),this.bufferOff===this.buffer.length&&(B+=this._flushBuffer(z,B)));for(var Q=N.length-(N.length-L)%this.blockSize;L<Q;L+=this.blockSize)this._update(N,L,z,B),B+=this.blockSize;for(;L<N.length;L++,this.bufferOff++)this.buffer[this.bufferOff]=N[L];return z},$.prototype._updateDecrypt=function(N){for(var L=0,B=0,H=Math.ceil((this.bufferOff+N.length)/this.blockSize)-1,z=new Array(H*this.blockSize);H>0;H--)L+=this._buffer(N,L),B+=this._flushBuffer(z,B);return L+=this._buffer(N,L),z},$.prototype.final=function(N){var L;N&&(L=this.update(N));var B;return this.type==="encrypt"?B=this._finalEncrypt():B=this._finalDecrypt(),L?L.concat(B):B},$.prototype._pad=function(N,L){if(L===0)return!1;for(;L<N.length;)N[L++]=0;return!0},$.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var N=new Array(this.blockSize);return this._update(this.buffer,0,N,0),N},$.prototype._unpad=function(N){return N},$.prototype._finalDecrypt=function(){T.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var N=new Array(this.blockSize);return this._flushBuffer(N,0),this._unpad(N)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var T=minimalisticAssert$1,$=inherits_browser$1,I=requireUtils(),N=requireCipher();function L(){this.tmp=new Array(2),this.keys=null}function B(z){N.call(this,z);var Q=new L;this._desState=Q,this.deriveKeys(Q,z.key)}$(B,N),des=B,B.create=function(Q){return new B(Q)};var H=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return B.prototype.deriveKeys=function(Q,te){Q.keys=new Array(16*2),T.equal(te.length,this.blockSize,"Invalid key length");var G=I.readUInt32BE(te,0),ie=I.readUInt32BE(te,4);I.pc1(G,ie,Q.tmp,0),G=Q.tmp[0],ie=Q.tmp[1];for(var Re=0;Re<Q.keys.length;Re+=2){var $e=H[Re>>>1];G=I.r28shl(G,$e),ie=I.r28shl(ie,$e),I.pc2(G,ie,Q.keys,Re)}},B.prototype._update=function(Q,te,G,ie){var Re=this._desState,$e=I.readUInt32BE(Q,te),Pe=I.readUInt32BE(Q,te+4);I.ip($e,Pe,Re.tmp,0),$e=Re.tmp[0],Pe=Re.tmp[1],this.type==="encrypt"?this._encrypt(Re,$e,Pe,Re.tmp,0):this._decrypt(Re,$e,Pe,Re.tmp,0),$e=Re.tmp[0],Pe=Re.tmp[1],I.writeUInt32BE(G,$e,ie),I.writeUInt32BE(G,Pe,ie+4)},B.prototype._pad=function(Q,te){if(this.padding===!1)return!1;for(var G=Q.length-te,ie=te;ie<Q.length;ie++)Q[ie]=G;return!0},B.prototype._unpad=function(Q){if(this.padding===!1)return Q;for(var te=Q[Q.length-1],G=Q.length-te;G<Q.length;G++)T.equal(Q[G],te);return Q.slice(0,Q.length-te)},B.prototype._encrypt=function(Q,te,G,ie,Re){for(var $e=te,Pe=G,Me=0;Me<Q.keys.length;Me+=2){var Be=Q.keys[Me],Ke=Q.keys[Me+1];I.expand(Pe,Q.tmp,0),Be^=Q.tmp[0],Ke^=Q.tmp[1];var Le=I.substitute(Be,Ke),qe=I.permute(Le),He=Pe;Pe=($e^qe)>>>0,$e=He}I.rip(Pe,$e,ie,Re)},B.prototype._decrypt=function(Q,te,G,ie,Re){for(var $e=G,Pe=te,Me=Q.keys.length-2;Me>=0;Me-=2){var Be=Q.keys[Me],Ke=Q.keys[Me+1];I.expand($e,Q.tmp,0),Be^=Q.tmp[0],Ke^=Q.tmp[1];var Le=I.substitute(Be,Ke),qe=I.permute(Le),He=$e;$e=(Pe^qe)>>>0,Pe=He}I.rip($e,Pe,ie,Re)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var T=minimalisticAssert$1,$=inherits_browser$1,I={};function N(B){T.equal(B.length,8,"Invalid IV length"),this.iv=new Array(8);for(var H=0;H<this.iv.length;H++)this.iv[H]=B[H]}function L(B){function H(G){B.call(this,G),this._cbcInit()}$(H,B);for(var z=Object.keys(I),Q=0;Q<z.length;Q++){var te=z[Q];H.prototype[te]=I[te]}return H.create=function(ie){return new H(ie)},H}return cbc$1.instantiate=L,I._cbcInit=function(){var H=new N(this.options.iv);this._cbcState=H},I._update=function(H,z,Q,te){var G=this._cbcState,ie=this.constructor.super_.prototype,Re=G.iv;if(this.type==="encrypt"){for(var $e=0;$e<this.blockSize;$e++)Re[$e]^=H[z+$e];ie._update.call(this,Re,0,Q,te);for(var $e=0;$e<this.blockSize;$e++)Re[$e]=Q[te+$e]}else{ie._update.call(this,H,z,Q,te);for(var $e=0;$e<this.blockSize;$e++)Q[te+$e]^=Re[$e];for(var $e=0;$e<this.blockSize;$e++)Re[$e]=H[z+$e]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var T=minimalisticAssert$1,$=inherits_browser$1,I=requireCipher(),N=requireDes$1();function L(H,z){T.equal(z.length,24,"Invalid key length");var Q=z.slice(0,8),te=z.slice(8,16),G=z.slice(16,24);H==="encrypt"?this.ciphers=[N.create({type:"encrypt",key:Q}),N.create({type:"decrypt",key:te}),N.create({type:"encrypt",key:G})]:this.ciphers=[N.create({type:"decrypt",key:G}),N.create({type:"encrypt",key:te}),N.create({type:"decrypt",key:Q})]}function B(H){I.call(this,H);var z=new L(this.type,this.options.key);this._edeState=z}return $(B,I),ede=B,B.create=function(z){return new B(z)},B.prototype._update=function(z,Q,te,G){var ie=this._edeState;ie.ciphers[0]._update(z,Q,te,G),ie.ciphers[1]._update(te,G,te,G),ie.ciphers[2]._update(te,G,te,G)},B.prototype._pad=N.prototype._pad,B.prototype._unpad=N.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var T=cipherBase$1,$=requireDes(),I=inherits_browser$1,N=safeBuffer$1.Buffer,L={"des-ede3-cbc":$.CBC.instantiate($.EDE),"des-ede3":$.EDE,"des-ede-cbc":$.CBC.instantiate($.EDE),"des-ede":$.EDE,"des-cbc":$.CBC.instantiate($.DES),"des-ecb":$.DES};L.des=L["des-cbc"],L.des3=L["des-ede3-cbc"],browserifyDes=B,I(B,T);function B(H){T.call(this);var z=H.mode.toLowerCase(),Q=L[z],te;H.decrypt?te="decrypt":te="encrypt";var G=H.key;N.isBuffer(G)||(G=N.from(G)),(z==="des-ede"||z==="des-ede-cbc")&&(G=N.concat([G,G.slice(0,8)]));var ie=H.iv;N.isBuffer(ie)||(ie=N.from(ie)),this._des=Q.create({key:G,iv:ie,type:te})}return B.prototype._update=function(H){return N.from(this._des.update(H))},B.prototype._final=function(){return N.from(this._des.final())},browserifyDes}var browser$6={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(T,$){return T._cipher.encryptBlock($)},ecb.decrypt=function(T,$){return T._cipher.decryptBlock($)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function($,I){for(var N=Math.min($.length,I.length),L=new Buffer$p(N),B=0;B<N;++B)L[B]=$[B]^I[B];return L}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var T=requireBufferXor();return cbc.encrypt=function($,I){var N=T(I,$._prev);return $._prev=$._cipher.encryptBlock(N),$._prev},cbc.decrypt=function($,I){var N=$._prev;$._prev=I;var L=$._cipher.decryptBlock(I);return T(L,N)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var T=safeBuffer$1.Buffer,$=requireBufferXor();function I(N,L,B){var H=L.length,z=$(L,N._cache);return N._cache=N._cache.slice(H),N._prev=T.concat([N._prev,B?L:z]),z}return cfb.encrypt=function(N,L,B){for(var H=T.allocUnsafe(0),z;L.length;)if(N._cache.length===0&&(N._cache=N._cipher.encryptBlock(N._prev),N._prev=T.allocUnsafe(0)),N._cache.length<=L.length)z=N._cache.length,H=T.concat([H,I(N,L.slice(0,z),B)]),L=L.slice(z);else{H=T.concat([H,I(N,L,B)]);break}return H},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var T=safeBuffer$1.Buffer;function $(I,N,L){var B=I._cipher.encryptBlock(I._prev),H=B[0]^N;return I._prev=T.concat([I._prev.slice(1),T.from([L?N:H])]),H}return cfb8.encrypt=function(I,N,L){for(var B=N.length,H=T.allocUnsafe(B),z=-1;++z<B;)H[z]=$(I,N[z],L);return H},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var T=safeBuffer$1.Buffer;function $(N,L,B){for(var H,z=-1,Q=8,te=0,G,ie;++z<Q;)H=N._cipher.encryptBlock(N._prev),G=L&1<<7-z?128:0,ie=H[0]^G,te+=(ie&128)>>z%8,N._prev=I(N._prev,B?G:ie);return te}function I(N,L){var B=N.length,H=-1,z=T.allocUnsafe(N.length);for(N=T.concat([N,T.from([L])]);++H<B;)z[H]=N[H]<<1|N[H+1]>>7;return z}return cfb1.encrypt=function(N,L,B){for(var H=L.length,z=T.allocUnsafe(H),Q=-1;++Q<H;)z[Q]=$(N,L[Q],B);return z},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var T=requireBufferXor();function $(I){return I._prev=I._cipher.encryptBlock(I._prev),I._prev}return ofb.encrypt=function(I,N){for(;I._cache.length<N.length;)I._cache=Buffer$p.concat([I._cache,$(I)]);var L=I._cache.slice(0,N.length);return I._cache=I._cache.slice(N.length),T(N,L)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function T($){for(var I=$.length,N;I--;)if(N=$.readUInt8(I),N===255)$.writeUInt8(0,I);else{N++,$.writeUInt8(N,I);break}}return incr32_1=T,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var T=requireBufferXor(),$=safeBuffer$1.Buffer,I=requireIncr32();function N(B){var H=B._cipher.encryptBlockRaw(B._prev);return I(B._prev),H}var L=16;return ctr.encrypt=function(B,H){var z=Math.ceil(H.length/L),Q=B._cache.length;B._cache=$.concat([B._cache,$.allocUnsafe(z*L)]);for(var te=0;te<z;te++){var G=N(B),ie=Q+te*L;B._cache.writeUInt32BE(G[0],ie+0),B._cache.writeUInt32BE(G[1],ie+4),B._cache.writeUInt32BE(G[2],ie+8),B._cache.writeUInt32BE(G[3],ie+12)}var Re=B._cache.slice(0,H.length);return B._cache=B._cache.slice(H.length),T(H,Re)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var T={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},$=require$$2;for(var I in $)$[I].module=T[$[I].mode];return modes_1=$,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var T=safeBuffer$1.Buffer;function $(z){T.isBuffer(z)||(z=T.from(z));for(var Q=z.length/4|0,te=new Array(Q),G=0;G<Q;G++)te[G]=z.readUInt32BE(G*4);return te}function I(z){for(var Q=0;Q<z.length;z++)z[Q]=0}function N(z,Q,te,G,ie){for(var Re=te[0],$e=te[1],Pe=te[2],Me=te[3],Be=z[0]^Q[0],Ke=z[1]^Q[1],Le=z[2]^Q[2],qe=z[3]^Q[3],He,Ge,at,ot,Ye=4,nt=1;nt<ie;nt++)He=Re[Be>>>24]^$e[Ke>>>16&255]^Pe[Le>>>8&255]^Me[qe&255]^Q[Ye++],Ge=Re[Ke>>>24]^$e[Le>>>16&255]^Pe[qe>>>8&255]^Me[Be&255]^Q[Ye++],at=Re[Le>>>24]^$e[qe>>>16&255]^Pe[Be>>>8&255]^Me[Ke&255]^Q[Ye++],ot=Re[qe>>>24]^$e[Be>>>16&255]^Pe[Ke>>>8&255]^Me[Le&255]^Q[Ye++],Be=He,Ke=Ge,Le=at,qe=ot;return He=(G[Be>>>24]<<24|G[Ke>>>16&255]<<16|G[Le>>>8&255]<<8|G[qe&255])^Q[Ye++],Ge=(G[Ke>>>24]<<24|G[Le>>>16&255]<<16|G[qe>>>8&255]<<8|G[Be&255])^Q[Ye++],at=(G[Le>>>24]<<24|G[qe>>>16&255]<<16|G[Be>>>8&255]<<8|G[Ke&255])^Q[Ye++],ot=(G[qe>>>24]<<24|G[Be>>>16&255]<<16|G[Ke>>>8&255]<<8|G[Le&255])^Q[Ye++],He=He>>>0,Ge=Ge>>>0,at=at>>>0,ot=ot>>>0,[He,Ge,at,ot]}var L=[0,1,2,4,8,16,32,64,128,27,54],B=function(){for(var z=new Array(256),Q=0;Q<256;Q++)Q<128?z[Q]=Q<<1:z[Q]=Q<<1^283;for(var te=[],G=[],ie=[[],[],[],[]],Re=[[],[],[],[]],$e=0,Pe=0,Me=0;Me<256;++Me){var Be=Pe^Pe<<1^Pe<<2^Pe<<3^Pe<<4;Be=Be>>>8^Be&255^99,te[$e]=Be,G[Be]=$e;var Ke=z[$e],Le=z[Ke],qe=z[Le],He=z[Be]*257^Be*16843008;ie[0][$e]=He<<24|He>>>8,ie[1][$e]=He<<16|He>>>16,ie[2][$e]=He<<8|He>>>24,ie[3][$e]=He,He=qe*16843009^Le*65537^Ke*257^$e*16843008,Re[0][Be]=He<<24|He>>>8,Re[1][Be]=He<<16|He>>>16,Re[2][Be]=He<<8|He>>>24,Re[3][Be]=He,$e===0?$e=Pe=1:($e=Ke^z[z[z[qe^Ke]]],Pe^=z[z[Pe]])}return{SBOX:te,INV_SBOX:G,SUB_MIX:ie,INV_SUB_MIX:Re}}();function H(z){this._key=$(z),this._reset()}return H.blockSize=4*4,H.keySize=256/8,H.prototype.blockSize=H.blockSize,H.prototype.keySize=H.keySize,H.prototype._reset=function(){for(var z=this._key,Q=z.length,te=Q+6,G=(te+1)*4,ie=[],Re=0;Re<Q;Re++)ie[Re]=z[Re];for(Re=Q;Re<G;Re++){var $e=ie[Re-1];Re%Q===0?($e=$e<<8|$e>>>24,$e=B.SBOX[$e>>>24]<<24|B.SBOX[$e>>>16&255]<<16|B.SBOX[$e>>>8&255]<<8|B.SBOX[$e&255],$e^=L[Re/Q|0]<<24):Q>6&&Re%Q===4&&($e=B.SBOX[$e>>>24]<<24|B.SBOX[$e>>>16&255]<<16|B.SBOX[$e>>>8&255]<<8|B.SBOX[$e&255]),ie[Re]=ie[Re-Q]^$e}for(var Pe=[],Me=0;Me<G;Me++){var Be=G-Me,Ke=ie[Be-(Me%4?0:4)];Me<4||Be<=4?Pe[Me]=Ke:Pe[Me]=B.INV_SUB_MIX[0][B.SBOX[Ke>>>24]]^B.INV_SUB_MIX[1][B.SBOX[Ke>>>16&255]]^B.INV_SUB_MIX[2][B.SBOX[Ke>>>8&255]]^B.INV_SUB_MIX[3][B.SBOX[Ke&255]]}this._nRounds=te,this._keySchedule=ie,this._invKeySchedule=Pe},H.prototype.encryptBlockRaw=function(z){return z=$(z),N(z,this._keySchedule,B.SUB_MIX,B.SBOX,this._nRounds)},H.prototype.encryptBlock=function(z){var Q=this.encryptBlockRaw(z),te=T.allocUnsafe(16);return te.writeUInt32BE(Q[0],0),te.writeUInt32BE(Q[1],4),te.writeUInt32BE(Q[2],8),te.writeUInt32BE(Q[3],12),te},H.prototype.decryptBlock=function(z){z=$(z);var Q=z[1];z[1]=z[3],z[3]=Q;var te=N(z,this._invKeySchedule,B.INV_SUB_MIX,B.INV_SBOX,this._nRounds),G=T.allocUnsafe(16);return G.writeUInt32BE(te[0],0),G.writeUInt32BE(te[3],4),G.writeUInt32BE(te[2],8),G.writeUInt32BE(te[1],12),G},H.prototype.scrub=function(){I(this._keySchedule),I(this._invKeySchedule),I(this._key)},aes$1.AES=H,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var T=safeBuffer$1.Buffer,$=T.alloc(16,0);function I(B){return[B.readUInt32BE(0),B.readUInt32BE(4),B.readUInt32BE(8),B.readUInt32BE(12)]}function N(B){var H=T.allocUnsafe(16);return H.writeUInt32BE(B[0]>>>0,0),H.writeUInt32BE(B[1]>>>0,4),H.writeUInt32BE(B[2]>>>0,8),H.writeUInt32BE(B[3]>>>0,12),H}function L(B){this.h=B,this.state=T.alloc(16,0),this.cache=T.allocUnsafe(0)}return L.prototype.ghash=function(B){for(var H=-1;++H<B.length;)this.state[H]^=B[H];this._multiply()},L.prototype._multiply=function(){for(var B=I(this.h),H=[0,0,0,0],z,Q,te,G=-1;++G<128;){for(Q=(this.state[~~(G/8)]&1<<7-G%8)!==0,Q&&(H[0]^=B[0],H[1]^=B[1],H[2]^=B[2],H[3]^=B[3]),te=(B[3]&1)!==0,z=3;z>0;z--)B[z]=B[z]>>>1|(B[z-1]&1)<<31;B[0]=B[0]>>>1,te&&(B[0]=B[0]^225<<24)}this.state=N(H)},L.prototype.update=function(B){this.cache=T.concat([this.cache,B]);for(var H;this.cache.length>=16;)H=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(H)},L.prototype.final=function(B,H){return this.cache.length&&this.ghash(T.concat([this.cache,$],16)),this.ghash(N([0,B,0,H])),this.state},ghash=L,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var T=requireAes$1(),$=safeBuffer$1.Buffer,I=cipherBase$1,N=inherits_browser$1,L=requireGhash(),B=requireBufferXor(),H=requireIncr32();function z(G,ie){var Re=0;G.length!==ie.length&&Re++;for(var $e=Math.min(G.length,ie.length),Pe=0;Pe<$e;++Pe)Re+=G[Pe]^ie[Pe];return Re}function Q(G,ie,Re){if(ie.length===12)return G._finID=$.concat([ie,$.from([0,0,0,1])]),$.concat([ie,$.from([0,0,0,2])]);var $e=new L(Re),Pe=ie.length,Me=Pe%16;$e.update(ie),Me&&(Me=16-Me,$e.update($.alloc(Me,0))),$e.update($.alloc(8,0));var Be=Pe*8,Ke=$.alloc(8);Ke.writeUIntBE(Be,0,8),$e.update(Ke),G._finID=$e.state;var Le=$.from(G._finID);return H(Le),Le}function te(G,ie,Re,$e){I.call(this);var Pe=$.alloc(4,0);this._cipher=new T.AES(ie);var Me=this._cipher.encryptBlock(Pe);this._ghash=new L(Me),Re=Q(this,Re,Me),this._prev=$.from(Re),this._cache=$.allocUnsafe(0),this._secCache=$.allocUnsafe(0),this._decrypt=$e,this._alen=0,this._len=0,this._mode=G,this._authTag=null,this._called=!1}return N(te,I),te.prototype._update=function(G){if(!this._called&&this._alen){var ie=16-this._alen%16;ie<16&&(ie=$.alloc(ie,0),this._ghash.update(ie))}this._called=!0;var Re=this._mode.encrypt(this,G);return this._decrypt?this._ghash.update(G):this._ghash.update(Re),this._len+=G.length,Re},te.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var G=B(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&z(G,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=G,this._cipher.scrub()},te.prototype.getAuthTag=function(){if(this._decrypt||!$.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},te.prototype.setAuthTag=function(ie){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=ie},te.prototype.setAAD=function(ie){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(ie),this._alen+=ie.length},authCipher=te,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var T=requireAes$1(),$=safeBuffer$1.Buffer,I=cipherBase$1,N=inherits_browser$1;function L(B,H,z,Q){I.call(this),this._cipher=new T.AES(H),this._prev=$.from(z),this._cache=$.allocUnsafe(0),this._secCache=$.allocUnsafe(0),this._decrypt=Q,this._mode=B}return N(L,I),L.prototype._update=function(B){return this._mode.encrypt(this,B,this._decrypt)},L.prototype._final=function(){this._cipher.scrub()},streamCipher=L,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var T=safeBuffer$1.Buffer,$=md5_js$1;function I(N,L,B,H){if(T.isBuffer(N)||(N=T.from(N,"binary")),L&&(T.isBuffer(L)||(L=T.from(L,"binary")),L.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var z=B/8,Q=T.alloc(z),te=T.alloc(H||0),G=T.alloc(0);z>0||H>0;){var ie=new $;ie.update(G),ie.update(N),L&&ie.update(L),G=ie.digest();var Re=0;if(z>0){var $e=Q.length-z;Re=Math.min(z,G.length),G.copy(Q,$e,0,Re),z-=Re}if(Re<G.length&&H>0){var Pe=te.length-H,Me=Math.min(H,G.length-Re);G.copy(te,Pe,Re,Re+Me),H-=Me}}return G.fill(0),{key:Q,iv:te}}return evp_bytestokey=I,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var T=requireModes$1(),$=requireAuthCipher(),I=safeBuffer$1.Buffer,N=requireStreamCipher(),L=cipherBase$1,B=requireAes$1(),H=requireEvp_bytestokey(),z=inherits_browser$1;function Q($e,Pe,Me){L.call(this),this._cache=new G,this._cipher=new B.AES(Pe),this._prev=I.from(Me),this._mode=$e,this._autopadding=!0}z(Q,L),Q.prototype._update=function($e){this._cache.add($e);for(var Pe,Me,Be=[];Pe=this._cache.get();)Me=this._mode.encrypt(this,Pe),Be.push(Me);return I.concat(Be)};var te=I.alloc(16,16);Q.prototype._final=function(){var $e=this._cache.flush();if(this._autopadding)return $e=this._mode.encrypt(this,$e),this._cipher.scrub(),$e;if(!$e.equals(te))throw this._cipher.scrub(),new Error("data not multiple of block length")},Q.prototype.setAutoPadding=function($e){return this._autopadding=!!$e,this};function G(){this.cache=I.allocUnsafe(0)}G.prototype.add=function($e){this.cache=I.concat([this.cache,$e])},G.prototype.get=function(){if(this.cache.length>15){var $e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),$e}return null},G.prototype.flush=function(){for(var $e=16-this.cache.length,Pe=I.allocUnsafe($e),Me=-1;++Me<$e;)Pe.writeUInt8($e,Me);return I.concat([this.cache,Pe])};function ie($e,Pe,Me){var Be=T[$e.toLowerCase()];if(!Be)throw new TypeError("invalid suite type");if(typeof Pe=="string"&&(Pe=I.from(Pe)),Pe.length!==Be.key/8)throw new TypeError("invalid key length "+Pe.length);if(typeof Me=="string"&&(Me=I.from(Me)),Be.mode!=="GCM"&&Me.length!==Be.iv)throw new TypeError("invalid iv length "+Me.length);return Be.type==="stream"?new N(Be.module,Pe,Me):Be.type==="auth"?new $(Be.module,Pe,Me):new Q(Be.module,Pe,Me)}function Re($e,Pe){var Me=T[$e.toLowerCase()];if(!Me)throw new TypeError("invalid suite type");var Be=H(Pe,!1,Me.key,Me.iv);return ie($e,Be.key,Be.iv)}return encrypter.createCipheriv=ie,encrypter.createCipher=Re,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var T=requireAuthCipher(),$=safeBuffer$1.Buffer,I=requireModes$1(),N=requireStreamCipher(),L=cipherBase$1,B=requireAes$1(),H=requireEvp_bytestokey(),z=inherits_browser$1;function Q($e,Pe,Me){L.call(this),this._cache=new te,this._last=void 0,this._cipher=new B.AES(Pe),this._prev=$.from(Me),this._mode=$e,this._autopadding=!0}z(Q,L),Q.prototype._update=function($e){this._cache.add($e);for(var Pe,Me,Be=[];Pe=this._cache.get(this._autopadding);)Me=this._mode.decrypt(this,Pe),Be.push(Me);return $.concat(Be)},Q.prototype._final=function(){var $e=this._cache.flush();if(this._autopadding)return G(this._mode.decrypt(this,$e));if($e)throw new Error("data not multiple of block length")},Q.prototype.setAutoPadding=function($e){return this._autopadding=!!$e,this};function te(){this.cache=$.allocUnsafe(0)}te.prototype.add=function($e){this.cache=$.concat([this.cache,$e])},te.prototype.get=function($e){var Pe;if($e){if(this.cache.length>16)return Pe=this.cache.slice(0,16),this.cache=this.cache.slice(16),Pe}else if(this.cache.length>=16)return Pe=this.cache.slice(0,16),this.cache=this.cache.slice(16),Pe;return null},te.prototype.flush=function(){if(this.cache.length)return this.cache};function G($e){var Pe=$e[15];if(Pe<1||Pe>16)throw new Error("unable to decrypt data");for(var Me=-1;++Me<Pe;)if($e[Me+(16-Pe)]!==Pe)throw new Error("unable to decrypt data");if(Pe!==16)return $e.slice(0,16-Pe)}function ie($e,Pe,Me){var Be=I[$e.toLowerCase()];if(!Be)throw new TypeError("invalid suite type");if(typeof Me=="string"&&(Me=$.from(Me)),Be.mode!=="GCM"&&Me.length!==Be.iv)throw new TypeError("invalid iv length "+Me.length);if(typeof Pe=="string"&&(Pe=$.from(Pe)),Pe.length!==Be.key/8)throw new TypeError("invalid key length "+Pe.length);return Be.type==="stream"?new N(Be.module,Pe,Me,!0):Be.type==="auth"?new T(Be.module,Pe,Me,!0):new Q(Be.module,Pe,Me)}function Re($e,Pe){var Me=I[$e.toLowerCase()];if(!Me)throw new TypeError("invalid suite type");var Be=H(Pe,!1,Me.key,Me.iv);return ie($e,Be.key,Be.iv)}return decrypter.createDecipher=Re,decrypter.createDecipheriv=ie,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var T=requireEncrypter(),$=requireDecrypter(),I=require$$2;function N(){return Object.keys(I)}return browser$6.createCipher=browser$6.Cipher=T.createCipher,browser$6.createCipheriv=browser$6.Cipheriv=T.createCipheriv,browser$6.createDecipher=browser$6.Decipher=$.createDecipher,browser$6.createDecipheriv=browser$6.Decipheriv=$.createDecipheriv,browser$6.listCiphers=browser$6.getCiphers=N,browser$6}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(T){T["des-ecb"]={key:8,iv:0},T["des-cbc"]=T.des={key:8,iv:8},T["des-ede3-cbc"]=T.des3={key:24,iv:8},T["des-ede3"]={key:24,iv:0},T["des-ede-cbc"]={key:16,iv:8},T["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$7;hasRequiredBrowser$5=1;var T=requireBrowserifyDes(),$=requireBrowser$6(),I=requireModes$1(),N=requireModes(),L=requireEvp_bytestokey();function B(G,ie){G=G.toLowerCase();var Re,$e;if(I[G])Re=I[G].key,$e=I[G].iv;else if(N[G])Re=N[G].key*8,$e=N[G].iv;else throw new TypeError("invalid suite type");var Pe=L(ie,!1,Re,$e);return z(G,Pe.key,Pe.iv)}function H(G,ie){G=G.toLowerCase();var Re,$e;if(I[G])Re=I[G].key,$e=I[G].iv;else if(N[G])Re=N[G].key*8,$e=N[G].iv;else throw new TypeError("invalid suite type");var Pe=L(ie,!1,Re,$e);return Q(G,Pe.key,Pe.iv)}function z(G,ie,Re){if(G=G.toLowerCase(),I[G])return $.createCipheriv(G,ie,Re);if(N[G])return new T({key:ie,iv:Re,mode:G});throw new TypeError("invalid suite type")}function Q(G,ie,Re){if(G=G.toLowerCase(),I[G])return $.createDecipheriv(G,ie,Re);if(N[G])return new T({key:ie,iv:Re,mode:G,decrypt:!0});throw new TypeError("invalid suite type")}function te(){return Object.keys(N).concat($.getCiphers())}return browser$7.createCipher=browser$7.Cipher=B,browser$7.createCipheriv=browser$7.Cipheriv=z,browser$7.createDecipher=browser$7.Decipher=H,browser$7.createDecipheriv=browser$7.Decipheriv=Q,browser$7.listCiphers=browser$7.getCiphers=te,browser$7}var browser$5={},bn$4={exports:{}};(function(T){(function($,I){function N(tt,ze){if(!tt)throw new Error(ze||"Assertion failed")}function L(tt,ze){tt.super_=ze;var Fe=function(){};Fe.prototype=ze.prototype,tt.prototype=new Fe,tt.prototype.constructor=tt}function B(tt,ze,Fe){if(B.isBN(tt))return tt;this.negative=0,this.words=null,this.length=0,this.red=null,tt!==null&&((ze==="le"||ze==="be")&&(Fe=ze,ze=10),this._init(tt||0,ze||10,Fe||"be"))}typeof $=="object"?$.exports=B:I.BN=B,B.BN=B,B.wordSize=26;var H;try{typeof window<"u"&&typeof window.Buffer<"u"?H=window.Buffer:H=dist$5.Buffer}catch{}B.isBN=function(ze){return ze instanceof B?!0:ze!==null&&typeof ze=="object"&&ze.constructor.wordSize===B.wordSize&&Array.isArray(ze.words)},B.max=function(ze,Fe){return ze.cmp(Fe)>0?ze:Fe},B.min=function(ze,Fe){return ze.cmp(Fe)<0?ze:Fe},B.prototype._init=function(ze,Fe,ke){if(typeof ze=="number")return this._initNumber(ze,Fe,ke);if(typeof ze=="object")return this._initArray(ze,Fe,ke);Fe==="hex"&&(Fe=16),N(Fe===(Fe|0)&&Fe>=2&&Fe<=36),ze=ze.toString().replace(/\s+/g,"");var Ue=0;ze[0]==="-"&&(Ue++,this.negative=1),Ue<ze.length&&(Fe===16?this._parseHex(ze,Ue,ke):(this._parseBase(ze,Fe,Ue),ke==="le"&&this._initArray(this.toArray(),Fe,ke)))},B.prototype._initNumber=function(ze,Fe,ke){ze<0&&(this.negative=1,ze=-ze),ze<67108864?(this.words=[ze&67108863],this.length=1):ze<4503599627370496?(this.words=[ze&67108863,ze/67108864&67108863],this.length=2):(N(ze<9007199254740992),this.words=[ze&67108863,ze/67108864&67108863,1],this.length=3),ke==="le"&&this._initArray(this.toArray(),Fe,ke)},B.prototype._initArray=function(ze,Fe,ke){if(N(typeof ze.length=="number"),ze.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ze.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Je,rt,Xe=0;if(ke==="be")for(Ue=ze.length-1,Je=0;Ue>=0;Ue-=3)rt=ze[Ue]|ze[Ue-1]<<8|ze[Ue-2]<<16,this.words[Je]|=rt<<Xe&67108863,this.words[Je+1]=rt>>>26-Xe&67108863,Xe+=24,Xe>=26&&(Xe-=26,Je++);else if(ke==="le")for(Ue=0,Je=0;Ue<ze.length;Ue+=3)rt=ze[Ue]|ze[Ue+1]<<8|ze[Ue+2]<<16,this.words[Je]|=rt<<Xe&67108863,this.words[Je+1]=rt>>>26-Xe&67108863,Xe+=24,Xe>=26&&(Xe-=26,Je++);return this.strip()};function z(tt,ze){var Fe=tt.charCodeAt(ze);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function Q(tt,ze,Fe){var ke=z(tt,Fe);return Fe-1>=ze&&(ke|=z(tt,Fe-1)<<4),ke}B.prototype._parseHex=function(ze,Fe,ke){this.length=Math.ceil((ze.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Je=0,rt=0,Xe;if(ke==="be")for(Ue=ze.length-1;Ue>=Fe;Ue-=2)Xe=Q(ze,Fe,Ue)<<Je,this.words[rt]|=Xe&67108863,Je>=18?(Je-=18,rt+=1,this.words[rt]|=Xe>>>26):Je+=8;else{var it=ze.length-Fe;for(Ue=it%2===0?Fe+1:Fe;Ue<ze.length;Ue+=2)Xe=Q(ze,Fe,Ue)<<Je,this.words[rt]|=Xe&67108863,Je>=18?(Je-=18,rt+=1,this.words[rt]|=Xe>>>26):Je+=8}this.strip()};function te(tt,ze,Fe,ke){for(var Ue=0,Je=Math.min(tt.length,Fe),rt=ze;rt<Je;rt++){var Xe=tt.charCodeAt(rt)-48;Ue*=ke,Xe>=49?Ue+=Xe-49+10:Xe>=17?Ue+=Xe-17+10:Ue+=Xe}return Ue}B.prototype._parseBase=function(ze,Fe,ke){this.words=[0],this.length=1;for(var Ue=0,Je=1;Je<=67108863;Je*=Fe)Ue++;Ue--,Je=Je/Fe|0;for(var rt=ze.length-ke,Xe=rt%Ue,it=Math.min(rt,rt-Xe)+ke,We=0,Ve=ke;Ve<it;Ve+=Ue)We=te(ze,Ve,Ve+Ue,Fe),this.imuln(Je),this.words[0]+We<67108864?this.words[0]+=We:this._iaddn(We);if(Xe!==0){var je=1;for(We=te(ze,Ve,ze.length,Fe),Ve=0;Ve<Xe;Ve++)je*=Fe;this.imuln(je),this.words[0]+We<67108864?this.words[0]+=We:this._iaddn(We)}this.strip()},B.prototype.copy=function(ze){ze.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)ze.words[Fe]=this.words[Fe];ze.length=this.length,ze.negative=this.negative,ze.red=this.red},B.prototype.clone=function(){var ze=new B(null);return this.copy(ze),ze},B.prototype._expand=function(ze){for(;this.length<ze;)this.words[this.length++]=0;return this},B.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},B.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},B.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var G=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ie=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Re=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];B.prototype.toString=function(ze,Fe){ze=ze||10,Fe=Fe|0||1;var ke;if(ze===16||ze==="hex"){ke="";for(var Ue=0,Je=0,rt=0;rt<this.length;rt++){var Xe=this.words[rt],it=((Xe<<Ue|Je)&16777215).toString(16);Je=Xe>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,rt--),Je!==0||rt!==this.length-1?ke=G[6-it.length]+it+ke:ke=it+ke}for(Je!==0&&(ke=Je.toString(16)+ke);ke.length%Fe!==0;)ke="0"+ke;return this.negative!==0&&(ke="-"+ke),ke}if(ze===(ze|0)&&ze>=2&&ze<=36){var We=ie[ze],Ve=Re[ze];ke="";var je=this.clone();for(je.negative=0;!je.isZero();){var Ze=je.modn(Ve).toString(ze);je=je.idivn(Ve),je.isZero()?ke=Ze+ke:ke=G[We-Ze.length]+Ze+ke}for(this.isZero()&&(ke="0"+ke);ke.length%Fe!==0;)ke="0"+ke;return this.negative!==0&&(ke="-"+ke),ke}N(!1,"Base should be between 2 and 36")},B.prototype.toNumber=function(){var ze=this.words[0];return this.length===2?ze+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ze+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ze:ze},B.prototype.toJSON=function(){return this.toString(16)},B.prototype.toBuffer=function(ze,Fe){return N(typeof H<"u"),this.toArrayLike(H,ze,Fe)},B.prototype.toArray=function(ze,Fe){return this.toArrayLike(Array,ze,Fe)},B.prototype.toArrayLike=function(ze,Fe,ke){var Ue=this.byteLength(),Je=ke||Math.max(1,Ue);N(Ue<=Je,"byte array longer than desired length"),N(Je>0,"Requested array length <= 0"),this.strip();var rt=Fe==="le",Xe=new ze(Je),it,We,Ve=this.clone();if(rt){for(We=0;!Ve.isZero();We++)it=Ve.andln(255),Ve.iushrn(8),Xe[We]=it;for(;We<Je;We++)Xe[We]=0}else{for(We=0;We<Je-Ue;We++)Xe[We]=0;for(We=0;!Ve.isZero();We++)it=Ve.andln(255),Ve.iushrn(8),Xe[Je-We-1]=it}return Xe},Math.clz32?B.prototype._countBits=function(ze){return 32-Math.clz32(ze)}:B.prototype._countBits=function(ze){var Fe=ze,ke=0;return Fe>=4096&&(ke+=13,Fe>>>=13),Fe>=64&&(ke+=7,Fe>>>=7),Fe>=8&&(ke+=4,Fe>>>=4),Fe>=2&&(ke+=2,Fe>>>=2),ke+Fe},B.prototype._zeroBits=function(ze){if(ze===0)return 26;var Fe=ze,ke=0;return(Fe&8191)===0&&(ke+=13,Fe>>>=13),(Fe&127)===0&&(ke+=7,Fe>>>=7),(Fe&15)===0&&(ke+=4,Fe>>>=4),(Fe&3)===0&&(ke+=2,Fe>>>=2),(Fe&1)===0&&ke++,ke},B.prototype.bitLength=function(){var ze=this.words[this.length-1],Fe=this._countBits(ze);return(this.length-1)*26+Fe};function $e(tt){for(var ze=new Array(tt.bitLength()),Fe=0;Fe<ze.length;Fe++){var ke=Fe/26|0,Ue=Fe%26;ze[Fe]=(tt.words[ke]&1<<Ue)>>>Ue}return ze}B.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ze=0,Fe=0;Fe<this.length;Fe++){var ke=this._zeroBits(this.words[Fe]);if(ze+=ke,ke!==26)break}return ze},B.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},B.prototype.toTwos=function(ze){return this.negative!==0?this.abs().inotn(ze).iaddn(1):this.clone()},B.prototype.fromTwos=function(ze){return this.testn(ze-1)?this.notn(ze).iaddn(1).ineg():this.clone()},B.prototype.isNeg=function(){return this.negative!==0},B.prototype.neg=function(){return this.clone().ineg()},B.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},B.prototype.iuor=function(ze){for(;this.length<ze.length;)this.words[this.length++]=0;for(var Fe=0;Fe<ze.length;Fe++)this.words[Fe]=this.words[Fe]|ze.words[Fe];return this.strip()},B.prototype.ior=function(ze){return N((this.negative|ze.negative)===0),this.iuor(ze)},B.prototype.or=function(ze){return this.length>ze.length?this.clone().ior(ze):ze.clone().ior(this)},B.prototype.uor=function(ze){return this.length>ze.length?this.clone().iuor(ze):ze.clone().iuor(this)},B.prototype.iuand=function(ze){var Fe;this.length>ze.length?Fe=ze:Fe=this;for(var ke=0;ke<Fe.length;ke++)this.words[ke]=this.words[ke]&ze.words[ke];return this.length=Fe.length,this.strip()},B.prototype.iand=function(ze){return N((this.negative|ze.negative)===0),this.iuand(ze)},B.prototype.and=function(ze){return this.length>ze.length?this.clone().iand(ze):ze.clone().iand(this)},B.prototype.uand=function(ze){return this.length>ze.length?this.clone().iuand(ze):ze.clone().iuand(this)},B.prototype.iuxor=function(ze){var Fe,ke;this.length>ze.length?(Fe=this,ke=ze):(Fe=ze,ke=this);for(var Ue=0;Ue<ke.length;Ue++)this.words[Ue]=Fe.words[Ue]^ke.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},B.prototype.ixor=function(ze){return N((this.negative|ze.negative)===0),this.iuxor(ze)},B.prototype.xor=function(ze){return this.length>ze.length?this.clone().ixor(ze):ze.clone().ixor(this)},B.prototype.uxor=function(ze){return this.length>ze.length?this.clone().iuxor(ze):ze.clone().iuxor(this)},B.prototype.inotn=function(ze){N(typeof ze=="number"&&ze>=0);var Fe=Math.ceil(ze/26)|0,ke=ze%26;this._expand(Fe),ke>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ke>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ke),this.strip()},B.prototype.notn=function(ze){return this.clone().inotn(ze)},B.prototype.setn=function(ze,Fe){N(typeof ze=="number"&&ze>=0);var ke=ze/26|0,Ue=ze%26;return this._expand(ke+1),Fe?this.words[ke]=this.words[ke]|1<<Ue:this.words[ke]=this.words[ke]&~(1<<Ue),this.strip()},B.prototype.iadd=function(ze){var Fe;if(this.negative!==0&&ze.negative===0)return this.negative=0,Fe=this.isub(ze),this.negative^=1,this._normSign();if(this.negative===0&&ze.negative!==0)return ze.negative=0,Fe=this.isub(ze),ze.negative=1,Fe._normSign();var ke,Ue;this.length>ze.length?(ke=this,Ue=ze):(ke=ze,Ue=this);for(var Je=0,rt=0;rt<Ue.length;rt++)Fe=(ke.words[rt]|0)+(Ue.words[rt]|0)+Je,this.words[rt]=Fe&67108863,Je=Fe>>>26;for(;Je!==0&&rt<ke.length;rt++)Fe=(ke.words[rt]|0)+Je,this.words[rt]=Fe&67108863,Je=Fe>>>26;if(this.length=ke.length,Je!==0)this.words[this.length]=Je,this.length++;else if(ke!==this)for(;rt<ke.length;rt++)this.words[rt]=ke.words[rt];return this},B.prototype.add=function(ze){var Fe;return ze.negative!==0&&this.negative===0?(ze.negative=0,Fe=this.sub(ze),ze.negative^=1,Fe):ze.negative===0&&this.negative!==0?(this.negative=0,Fe=ze.sub(this),this.negative=1,Fe):this.length>ze.length?this.clone().iadd(ze):ze.clone().iadd(this)},B.prototype.isub=function(ze){if(ze.negative!==0){ze.negative=0;var Fe=this.iadd(ze);return ze.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ze),this.negative=1,this._normSign();var ke=this.cmp(ze);if(ke===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Je;ke>0?(Ue=this,Je=ze):(Ue=ze,Je=this);for(var rt=0,Xe=0;Xe<Je.length;Xe++)Fe=(Ue.words[Xe]|0)-(Je.words[Xe]|0)+rt,rt=Fe>>26,this.words[Xe]=Fe&67108863;for(;rt!==0&&Xe<Ue.length;Xe++)Fe=(Ue.words[Xe]|0)+rt,rt=Fe>>26,this.words[Xe]=Fe&67108863;if(rt===0&&Xe<Ue.length&&Ue!==this)for(;Xe<Ue.length;Xe++)this.words[Xe]=Ue.words[Xe];return this.length=Math.max(this.length,Xe),Ue!==this&&(this.negative=1),this.strip()},B.prototype.sub=function(ze){return this.clone().isub(ze)};function Pe(tt,ze,Fe){Fe.negative=ze.negative^tt.negative;var ke=tt.length+ze.length|0;Fe.length=ke,ke=ke-1|0;var Ue=tt.words[0]|0,Je=ze.words[0]|0,rt=Ue*Je,Xe=rt&67108863,it=rt/67108864|0;Fe.words[0]=Xe;for(var We=1;We<ke;We++){for(var Ve=it>>>26,je=it&67108863,Ze=Math.min(We,ze.length-1),st=Math.max(0,We-tt.length+1);st<=Ze;st++){var dt=We-st|0;Ue=tt.words[dt]|0,Je=ze.words[st]|0,rt=Ue*Je+je,Ve+=rt/67108864|0,je=rt&67108863}Fe.words[We]=je|0,it=Ve|0}return it!==0?Fe.words[We]=it|0:Fe.length--,Fe.strip()}var Me=function(ze,Fe,ke){var Ue=ze.words,Je=Fe.words,rt=ke.words,Xe=0,it,We,Ve,je=Ue[0]|0,Ze=je&8191,st=je>>>13,dt=Ue[1]|0,bt=dt&8191,vt=dt>>>13,St=Ue[2]|0,Bt=St&8191,Gt=St>>>13,Dt=Ue[3]|0,Mt=Dt&8191,pt=Dt>>>13,mt=Ue[4]|0,$t=mt&8191,kt=mt>>>13,Ft=Ue[5]|0,nr=Ft&8191,Yt=Ft>>>13,yr=Ue[6]|0,gr=yr&8191,br=yr>>>13,cr=Ue[7]|0,pr=cr&8191,lt=cr>>>13,ct=Ue[8]|0,Nt=ct&8191,jt=ct>>>13,zt=Ue[9]|0,Ot=zt&8191,Rt=zt>>>13,It=Je[0]|0,Kt=It&8191,tr=It>>>13,dr=Je[1]|0,_r=dr&8191,Nr=dr>>>13,qr=Je[2]|0,Br=qr&8191,Qr=qr>>>13,Wr=Je[3]|0,Kr=Wr&8191,Yr=Wr>>>13,Pt=Je[4]|0,Wt=Pt&8191,qt=Pt>>>13,Tt=Je[5]|0,gt=Tt&8191,Et=Tt>>>13,wt=Je[6]|0,Lt=wt&8191,Zt=wt>>>13,lr=Je[7]|0,Ht=lr&8191,Xt=lr>>>13,ir=Je[8]|0,ur=ir&8191,$r=ir>>>13,xr=Je[9]|0,Lr=xr&8191,on=xr>>>13;ke.negative=ze.negative^Fe.negative,ke.length=19,it=Math.imul(Ze,Kt),We=Math.imul(Ze,tr),We=We+Math.imul(st,Kt)|0,Ve=Math.imul(st,tr);var rn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(rn>>>26)|0,rn&=67108863,it=Math.imul(bt,Kt),We=Math.imul(bt,tr),We=We+Math.imul(vt,Kt)|0,Ve=Math.imul(vt,tr),it=it+Math.imul(Ze,_r)|0,We=We+Math.imul(Ze,Nr)|0,We=We+Math.imul(st,_r)|0,Ve=Ve+Math.imul(st,Nr)|0;var tn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(tn>>>26)|0,tn&=67108863,it=Math.imul(Bt,Kt),We=Math.imul(Bt,tr),We=We+Math.imul(Gt,Kt)|0,Ve=Math.imul(Gt,tr),it=it+Math.imul(bt,_r)|0,We=We+Math.imul(bt,Nr)|0,We=We+Math.imul(vt,_r)|0,Ve=Ve+Math.imul(vt,Nr)|0,it=it+Math.imul(Ze,Br)|0,We=We+Math.imul(Ze,Qr)|0,We=We+Math.imul(st,Br)|0,Ve=Ve+Math.imul(st,Qr)|0;var pn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(pn>>>26)|0,pn&=67108863,it=Math.imul(Mt,Kt),We=Math.imul(Mt,tr),We=We+Math.imul(pt,Kt)|0,Ve=Math.imul(pt,tr),it=it+Math.imul(Bt,_r)|0,We=We+Math.imul(Bt,Nr)|0,We=We+Math.imul(Gt,_r)|0,Ve=Ve+Math.imul(Gt,Nr)|0,it=it+Math.imul(bt,Br)|0,We=We+Math.imul(bt,Qr)|0,We=We+Math.imul(vt,Br)|0,Ve=Ve+Math.imul(vt,Qr)|0,it=it+Math.imul(Ze,Kr)|0,We=We+Math.imul(Ze,Yr)|0,We=We+Math.imul(st,Kr)|0,Ve=Ve+Math.imul(st,Yr)|0;var yn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(yn>>>26)|0,yn&=67108863,it=Math.imul($t,Kt),We=Math.imul($t,tr),We=We+Math.imul(kt,Kt)|0,Ve=Math.imul(kt,tr),it=it+Math.imul(Mt,_r)|0,We=We+Math.imul(Mt,Nr)|0,We=We+Math.imul(pt,_r)|0,Ve=Ve+Math.imul(pt,Nr)|0,it=it+Math.imul(Bt,Br)|0,We=We+Math.imul(Bt,Qr)|0,We=We+Math.imul(Gt,Br)|0,Ve=Ve+Math.imul(Gt,Qr)|0,it=it+Math.imul(bt,Kr)|0,We=We+Math.imul(bt,Yr)|0,We=We+Math.imul(vt,Kr)|0,Ve=Ve+Math.imul(vt,Yr)|0,it=it+Math.imul(Ze,Wt)|0,We=We+Math.imul(Ze,qt)|0,We=We+Math.imul(st,Wt)|0,Ve=Ve+Math.imul(st,qt)|0;var ln=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(ln>>>26)|0,ln&=67108863,it=Math.imul(nr,Kt),We=Math.imul(nr,tr),We=We+Math.imul(Yt,Kt)|0,Ve=Math.imul(Yt,tr),it=it+Math.imul($t,_r)|0,We=We+Math.imul($t,Nr)|0,We=We+Math.imul(kt,_r)|0,Ve=Ve+Math.imul(kt,Nr)|0,it=it+Math.imul(Mt,Br)|0,We=We+Math.imul(Mt,Qr)|0,We=We+Math.imul(pt,Br)|0,Ve=Ve+Math.imul(pt,Qr)|0,it=it+Math.imul(Bt,Kr)|0,We=We+Math.imul(Bt,Yr)|0,We=We+Math.imul(Gt,Kr)|0,Ve=Ve+Math.imul(Gt,Yr)|0,it=it+Math.imul(bt,Wt)|0,We=We+Math.imul(bt,qt)|0,We=We+Math.imul(vt,Wt)|0,Ve=Ve+Math.imul(vt,qt)|0,it=it+Math.imul(Ze,gt)|0,We=We+Math.imul(Ze,Et)|0,We=We+Math.imul(st,gt)|0,Ve=Ve+Math.imul(st,Et)|0;var er=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(er>>>26)|0,er&=67108863,it=Math.imul(gr,Kt),We=Math.imul(gr,tr),We=We+Math.imul(br,Kt)|0,Ve=Math.imul(br,tr),it=it+Math.imul(nr,_r)|0,We=We+Math.imul(nr,Nr)|0,We=We+Math.imul(Yt,_r)|0,Ve=Ve+Math.imul(Yt,Nr)|0,it=it+Math.imul($t,Br)|0,We=We+Math.imul($t,Qr)|0,We=We+Math.imul(kt,Br)|0,Ve=Ve+Math.imul(kt,Qr)|0,it=it+Math.imul(Mt,Kr)|0,We=We+Math.imul(Mt,Yr)|0,We=We+Math.imul(pt,Kr)|0,Ve=Ve+Math.imul(pt,Yr)|0,it=it+Math.imul(Bt,Wt)|0,We=We+Math.imul(Bt,qt)|0,We=We+Math.imul(Gt,Wt)|0,Ve=Ve+Math.imul(Gt,qt)|0,it=it+Math.imul(bt,gt)|0,We=We+Math.imul(bt,Et)|0,We=We+Math.imul(vt,gt)|0,Ve=Ve+Math.imul(vt,Et)|0,it=it+Math.imul(Ze,Lt)|0,We=We+Math.imul(Ze,Zt)|0,We=We+Math.imul(st,Lt)|0,Ve=Ve+Math.imul(st,Zt)|0;var Rr=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,it=Math.imul(pr,Kt),We=Math.imul(pr,tr),We=We+Math.imul(lt,Kt)|0,Ve=Math.imul(lt,tr),it=it+Math.imul(gr,_r)|0,We=We+Math.imul(gr,Nr)|0,We=We+Math.imul(br,_r)|0,Ve=Ve+Math.imul(br,Nr)|0,it=it+Math.imul(nr,Br)|0,We=We+Math.imul(nr,Qr)|0,We=We+Math.imul(Yt,Br)|0,Ve=Ve+Math.imul(Yt,Qr)|0,it=it+Math.imul($t,Kr)|0,We=We+Math.imul($t,Yr)|0,We=We+Math.imul(kt,Kr)|0,Ve=Ve+Math.imul(kt,Yr)|0,it=it+Math.imul(Mt,Wt)|0,We=We+Math.imul(Mt,qt)|0,We=We+Math.imul(pt,Wt)|0,Ve=Ve+Math.imul(pt,qt)|0,it=it+Math.imul(Bt,gt)|0,We=We+Math.imul(Bt,Et)|0,We=We+Math.imul(Gt,gt)|0,Ve=Ve+Math.imul(Gt,Et)|0,it=it+Math.imul(bt,Lt)|0,We=We+Math.imul(bt,Zt)|0,We=We+Math.imul(vt,Lt)|0,Ve=Ve+Math.imul(vt,Zt)|0,it=it+Math.imul(Ze,Ht)|0,We=We+Math.imul(Ze,Xt)|0,We=We+Math.imul(st,Ht)|0,Ve=Ve+Math.imul(st,Xt)|0;var Or=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(Or>>>26)|0,Or&=67108863,it=Math.imul(Nt,Kt),We=Math.imul(Nt,tr),We=We+Math.imul(jt,Kt)|0,Ve=Math.imul(jt,tr),it=it+Math.imul(pr,_r)|0,We=We+Math.imul(pr,Nr)|0,We=We+Math.imul(lt,_r)|0,Ve=Ve+Math.imul(lt,Nr)|0,it=it+Math.imul(gr,Br)|0,We=We+Math.imul(gr,Qr)|0,We=We+Math.imul(br,Br)|0,Ve=Ve+Math.imul(br,Qr)|0,it=it+Math.imul(nr,Kr)|0,We=We+Math.imul(nr,Yr)|0,We=We+Math.imul(Yt,Kr)|0,Ve=Ve+Math.imul(Yt,Yr)|0,it=it+Math.imul($t,Wt)|0,We=We+Math.imul($t,qt)|0,We=We+Math.imul(kt,Wt)|0,Ve=Ve+Math.imul(kt,qt)|0,it=it+Math.imul(Mt,gt)|0,We=We+Math.imul(Mt,Et)|0,We=We+Math.imul(pt,gt)|0,Ve=Ve+Math.imul(pt,Et)|0,it=it+Math.imul(Bt,Lt)|0,We=We+Math.imul(Bt,Zt)|0,We=We+Math.imul(Gt,Lt)|0,Ve=Ve+Math.imul(Gt,Zt)|0,it=it+Math.imul(bt,Ht)|0,We=We+Math.imul(bt,Xt)|0,We=We+Math.imul(vt,Ht)|0,Ve=Ve+Math.imul(vt,Xt)|0,it=it+Math.imul(Ze,ur)|0,We=We+Math.imul(Ze,$r)|0,We=We+Math.imul(st,ur)|0,Ve=Ve+Math.imul(st,$r)|0;var Fr=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,it=Math.imul(Ot,Kt),We=Math.imul(Ot,tr),We=We+Math.imul(Rt,Kt)|0,Ve=Math.imul(Rt,tr),it=it+Math.imul(Nt,_r)|0,We=We+Math.imul(Nt,Nr)|0,We=We+Math.imul(jt,_r)|0,Ve=Ve+Math.imul(jt,Nr)|0,it=it+Math.imul(pr,Br)|0,We=We+Math.imul(pr,Qr)|0,We=We+Math.imul(lt,Br)|0,Ve=Ve+Math.imul(lt,Qr)|0,it=it+Math.imul(gr,Kr)|0,We=We+Math.imul(gr,Yr)|0,We=We+Math.imul(br,Kr)|0,Ve=Ve+Math.imul(br,Yr)|0,it=it+Math.imul(nr,Wt)|0,We=We+Math.imul(nr,qt)|0,We=We+Math.imul(Yt,Wt)|0,Ve=Ve+Math.imul(Yt,qt)|0,it=it+Math.imul($t,gt)|0,We=We+Math.imul($t,Et)|0,We=We+Math.imul(kt,gt)|0,Ve=Ve+Math.imul(kt,Et)|0,it=it+Math.imul(Mt,Lt)|0,We=We+Math.imul(Mt,Zt)|0,We=We+Math.imul(pt,Lt)|0,Ve=Ve+Math.imul(pt,Zt)|0,it=it+Math.imul(Bt,Ht)|0,We=We+Math.imul(Bt,Xt)|0,We=We+Math.imul(Gt,Ht)|0,Ve=Ve+Math.imul(Gt,Xt)|0,it=it+Math.imul(bt,ur)|0,We=We+Math.imul(bt,$r)|0,We=We+Math.imul(vt,ur)|0,Ve=Ve+Math.imul(vt,$r)|0,it=it+Math.imul(Ze,Lr)|0,We=We+Math.imul(Ze,on)|0,We=We+Math.imul(st,Lr)|0,Ve=Ve+Math.imul(st,on)|0;var Hr=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,it=Math.imul(Ot,_r),We=Math.imul(Ot,Nr),We=We+Math.imul(Rt,_r)|0,Ve=Math.imul(Rt,Nr),it=it+Math.imul(Nt,Br)|0,We=We+Math.imul(Nt,Qr)|0,We=We+Math.imul(jt,Br)|0,Ve=Ve+Math.imul(jt,Qr)|0,it=it+Math.imul(pr,Kr)|0,We=We+Math.imul(pr,Yr)|0,We=We+Math.imul(lt,Kr)|0,Ve=Ve+Math.imul(lt,Yr)|0,it=it+Math.imul(gr,Wt)|0,We=We+Math.imul(gr,qt)|0,We=We+Math.imul(br,Wt)|0,Ve=Ve+Math.imul(br,qt)|0,it=it+Math.imul(nr,gt)|0,We=We+Math.imul(nr,Et)|0,We=We+Math.imul(Yt,gt)|0,Ve=Ve+Math.imul(Yt,Et)|0,it=it+Math.imul($t,Lt)|0,We=We+Math.imul($t,Zt)|0,We=We+Math.imul(kt,Lt)|0,Ve=Ve+Math.imul(kt,Zt)|0,it=it+Math.imul(Mt,Ht)|0,We=We+Math.imul(Mt,Xt)|0,We=We+Math.imul(pt,Ht)|0,Ve=Ve+Math.imul(pt,Xt)|0,it=it+Math.imul(Bt,ur)|0,We=We+Math.imul(Bt,$r)|0,We=We+Math.imul(Gt,ur)|0,Ve=Ve+Math.imul(Gt,$r)|0,it=it+Math.imul(bt,Lr)|0,We=We+Math.imul(bt,on)|0,We=We+Math.imul(vt,Lr)|0,Ve=Ve+Math.imul(vt,on)|0;var an=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(an>>>26)|0,an&=67108863,it=Math.imul(Ot,Br),We=Math.imul(Ot,Qr),We=We+Math.imul(Rt,Br)|0,Ve=Math.imul(Rt,Qr),it=it+Math.imul(Nt,Kr)|0,We=We+Math.imul(Nt,Yr)|0,We=We+Math.imul(jt,Kr)|0,Ve=Ve+Math.imul(jt,Yr)|0,it=it+Math.imul(pr,Wt)|0,We=We+Math.imul(pr,qt)|0,We=We+Math.imul(lt,Wt)|0,Ve=Ve+Math.imul(lt,qt)|0,it=it+Math.imul(gr,gt)|0,We=We+Math.imul(gr,Et)|0,We=We+Math.imul(br,gt)|0,Ve=Ve+Math.imul(br,Et)|0,it=it+Math.imul(nr,Lt)|0,We=We+Math.imul(nr,Zt)|0,We=We+Math.imul(Yt,Lt)|0,Ve=Ve+Math.imul(Yt,Zt)|0,it=it+Math.imul($t,Ht)|0,We=We+Math.imul($t,Xt)|0,We=We+Math.imul(kt,Ht)|0,Ve=Ve+Math.imul(kt,Xt)|0,it=it+Math.imul(Mt,ur)|0,We=We+Math.imul(Mt,$r)|0,We=We+Math.imul(pt,ur)|0,Ve=Ve+Math.imul(pt,$r)|0,it=it+Math.imul(Bt,Lr)|0,We=We+Math.imul(Bt,on)|0,We=We+Math.imul(Gt,Lr)|0,Ve=Ve+Math.imul(Gt,on)|0;var cn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(cn>>>26)|0,cn&=67108863,it=Math.imul(Ot,Kr),We=Math.imul(Ot,Yr),We=We+Math.imul(Rt,Kr)|0,Ve=Math.imul(Rt,Yr),it=it+Math.imul(Nt,Wt)|0,We=We+Math.imul(Nt,qt)|0,We=We+Math.imul(jt,Wt)|0,Ve=Ve+Math.imul(jt,qt)|0,it=it+Math.imul(pr,gt)|0,We=We+Math.imul(pr,Et)|0,We=We+Math.imul(lt,gt)|0,Ve=Ve+Math.imul(lt,Et)|0,it=it+Math.imul(gr,Lt)|0,We=We+Math.imul(gr,Zt)|0,We=We+Math.imul(br,Lt)|0,Ve=Ve+Math.imul(br,Zt)|0,it=it+Math.imul(nr,Ht)|0,We=We+Math.imul(nr,Xt)|0,We=We+Math.imul(Yt,Ht)|0,Ve=Ve+Math.imul(Yt,Xt)|0,it=it+Math.imul($t,ur)|0,We=We+Math.imul($t,$r)|0,We=We+Math.imul(kt,ur)|0,Ve=Ve+Math.imul(kt,$r)|0,it=it+Math.imul(Mt,Lr)|0,We=We+Math.imul(Mt,on)|0,We=We+Math.imul(pt,Lr)|0,Ve=Ve+Math.imul(pt,on)|0;var Rn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,it=Math.imul(Ot,Wt),We=Math.imul(Ot,qt),We=We+Math.imul(Rt,Wt)|0,Ve=Math.imul(Rt,qt),it=it+Math.imul(Nt,gt)|0,We=We+Math.imul(Nt,Et)|0,We=We+Math.imul(jt,gt)|0,Ve=Ve+Math.imul(jt,Et)|0,it=it+Math.imul(pr,Lt)|0,We=We+Math.imul(pr,Zt)|0,We=We+Math.imul(lt,Lt)|0,Ve=Ve+Math.imul(lt,Zt)|0,it=it+Math.imul(gr,Ht)|0,We=We+Math.imul(gr,Xt)|0,We=We+Math.imul(br,Ht)|0,Ve=Ve+Math.imul(br,Xt)|0,it=it+Math.imul(nr,ur)|0,We=We+Math.imul(nr,$r)|0,We=We+Math.imul(Yt,ur)|0,Ve=Ve+Math.imul(Yt,$r)|0,it=it+Math.imul($t,Lr)|0,We=We+Math.imul($t,on)|0,We=We+Math.imul(kt,Lr)|0,Ve=Ve+Math.imul(kt,on)|0;var gn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(gn>>>26)|0,gn&=67108863,it=Math.imul(Ot,gt),We=Math.imul(Ot,Et),We=We+Math.imul(Rt,gt)|0,Ve=Math.imul(Rt,Et),it=it+Math.imul(Nt,Lt)|0,We=We+Math.imul(Nt,Zt)|0,We=We+Math.imul(jt,Lt)|0,Ve=Ve+Math.imul(jt,Zt)|0,it=it+Math.imul(pr,Ht)|0,We=We+Math.imul(pr,Xt)|0,We=We+Math.imul(lt,Ht)|0,Ve=Ve+Math.imul(lt,Xt)|0,it=it+Math.imul(gr,ur)|0,We=We+Math.imul(gr,$r)|0,We=We+Math.imul(br,ur)|0,Ve=Ve+Math.imul(br,$r)|0,it=it+Math.imul(nr,Lr)|0,We=We+Math.imul(nr,on)|0,We=We+Math.imul(Yt,Lr)|0,Ve=Ve+Math.imul(Yt,on)|0;var vn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(vn>>>26)|0,vn&=67108863,it=Math.imul(Ot,Lt),We=Math.imul(Ot,Zt),We=We+Math.imul(Rt,Lt)|0,Ve=Math.imul(Rt,Zt),it=it+Math.imul(Nt,Ht)|0,We=We+Math.imul(Nt,Xt)|0,We=We+Math.imul(jt,Ht)|0,Ve=Ve+Math.imul(jt,Xt)|0,it=it+Math.imul(pr,ur)|0,We=We+Math.imul(pr,$r)|0,We=We+Math.imul(lt,ur)|0,Ve=Ve+Math.imul(lt,$r)|0,it=it+Math.imul(gr,Lr)|0,We=We+Math.imul(gr,on)|0,We=We+Math.imul(br,Lr)|0,Ve=Ve+Math.imul(br,on)|0;var _n=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(_n>>>26)|0,_n&=67108863,it=Math.imul(Ot,Ht),We=Math.imul(Ot,Xt),We=We+Math.imul(Rt,Ht)|0,Ve=Math.imul(Rt,Xt),it=it+Math.imul(Nt,ur)|0,We=We+Math.imul(Nt,$r)|0,We=We+Math.imul(jt,ur)|0,Ve=Ve+Math.imul(jt,$r)|0,it=it+Math.imul(pr,Lr)|0,We=We+Math.imul(pr,on)|0,We=We+Math.imul(lt,Lr)|0,Ve=Ve+Math.imul(lt,on)|0;var kn=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(kn>>>26)|0,kn&=67108863,it=Math.imul(Ot,ur),We=Math.imul(Ot,$r),We=We+Math.imul(Rt,ur)|0,Ve=Math.imul(Rt,$r),it=it+Math.imul(Nt,Lr)|0,We=We+Math.imul(Nt,on)|0,We=We+Math.imul(jt,Lr)|0,Ve=Ve+Math.imul(jt,on)|0;var An=(Xe+it|0)+((We&8191)<<13)|0;Xe=(Ve+(We>>>13)|0)+(An>>>26)|0,An&=67108863,it=Math.imul(Ot,Lr),We=Math.imul(Ot,on),We=We+Math.imul(Rt,Lr)|0,Ve=Math.imul(Rt,on);var Dn=(Xe+it|0)+((We&8191)<<13)|0;return Xe=(Ve+(We>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,rt[0]=rn,rt[1]=tn,rt[2]=pn,rt[3]=yn,rt[4]=ln,rt[5]=er,rt[6]=Rr,rt[7]=Or,rt[8]=Fr,rt[9]=Hr,rt[10]=an,rt[11]=cn,rt[12]=Rn,rt[13]=gn,rt[14]=vn,rt[15]=_n,rt[16]=kn,rt[17]=An,rt[18]=Dn,Xe!==0&&(rt[19]=Xe,ke.length++),ke};Math.imul||(Me=Pe);function Be(tt,ze,Fe){Fe.negative=ze.negative^tt.negative,Fe.length=tt.length+ze.length;for(var ke=0,Ue=0,Je=0;Je<Fe.length-1;Je++){var rt=Ue;Ue=0;for(var Xe=ke&67108863,it=Math.min(Je,ze.length-1),We=Math.max(0,Je-tt.length+1);We<=it;We++){var Ve=Je-We,je=tt.words[Ve]|0,Ze=ze.words[We]|0,st=je*Ze,dt=st&67108863;rt=rt+(st/67108864|0)|0,dt=dt+Xe|0,Xe=dt&67108863,rt=rt+(dt>>>26)|0,Ue+=rt>>>26,rt&=67108863}Fe.words[Je]=Xe,ke=rt,rt=Ue}return ke!==0?Fe.words[Je]=ke:Fe.length--,Fe.strip()}function Ke(tt,ze,Fe){var ke=new Le;return ke.mulp(tt,ze,Fe)}B.prototype.mulTo=function(ze,Fe){var ke,Ue=this.length+ze.length;return this.length===10&&ze.length===10?ke=Me(this,ze,Fe):Ue<63?ke=Pe(this,ze,Fe):Ue<1024?ke=Be(this,ze,Fe):ke=Ke(this,ze,Fe),ke};function Le(tt,ze){this.x=tt,this.y=ze}Le.prototype.makeRBT=function(ze){for(var Fe=new Array(ze),ke=B.prototype._countBits(ze)-1,Ue=0;Ue<ze;Ue++)Fe[Ue]=this.revBin(Ue,ke,ze);return Fe},Le.prototype.revBin=function(ze,Fe,ke){if(ze===0||ze===ke-1)return ze;for(var Ue=0,Je=0;Je<Fe;Je++)Ue|=(ze&1)<<Fe-Je-1,ze>>=1;return Ue},Le.prototype.permute=function(ze,Fe,ke,Ue,Je,rt){for(var Xe=0;Xe<rt;Xe++)Ue[Xe]=Fe[ze[Xe]],Je[Xe]=ke[ze[Xe]]},Le.prototype.transform=function(ze,Fe,ke,Ue,Je,rt){this.permute(rt,ze,Fe,ke,Ue,Je);for(var Xe=1;Xe<Je;Xe<<=1)for(var it=Xe<<1,We=Math.cos(2*Math.PI/it),Ve=Math.sin(2*Math.PI/it),je=0;je<Je;je+=it)for(var Ze=We,st=Ve,dt=0;dt<Xe;dt++){var bt=ke[je+dt],vt=Ue[je+dt],St=ke[je+dt+Xe],Bt=Ue[je+dt+Xe],Gt=Ze*St-st*Bt;Bt=Ze*Bt+st*St,St=Gt,ke[je+dt]=bt+St,Ue[je+dt]=vt+Bt,ke[je+dt+Xe]=bt-St,Ue[je+dt+Xe]=vt-Bt,dt!==it&&(Gt=We*Ze-Ve*st,st=We*st+Ve*Ze,Ze=Gt)}},Le.prototype.guessLen13b=function(ze,Fe){var ke=Math.max(Fe,ze)|1,Ue=ke&1,Je=0;for(ke=ke/2|0;ke;ke=ke>>>1)Je++;return 1<<Je+1+Ue},Le.prototype.conjugate=function(ze,Fe,ke){if(!(ke<=1))for(var Ue=0;Ue<ke/2;Ue++){var Je=ze[Ue];ze[Ue]=ze[ke-Ue-1],ze[ke-Ue-1]=Je,Je=Fe[Ue],Fe[Ue]=-Fe[ke-Ue-1],Fe[ke-Ue-1]=-Je}},Le.prototype.normalize13b=function(ze,Fe){for(var ke=0,Ue=0;Ue<Fe/2;Ue++){var Je=Math.round(ze[2*Ue+1]/Fe)*8192+Math.round(ze[2*Ue]/Fe)+ke;ze[Ue]=Je&67108863,Je<67108864?ke=0:ke=Je/67108864|0}return ze},Le.prototype.convert13b=function(ze,Fe,ke,Ue){for(var Je=0,rt=0;rt<Fe;rt++)Je=Je+(ze[rt]|0),ke[2*rt]=Je&8191,Je=Je>>>13,ke[2*rt+1]=Je&8191,Je=Je>>>13;for(rt=2*Fe;rt<Ue;++rt)ke[rt]=0;N(Je===0),N((Je&-8192)===0)},Le.prototype.stub=function(ze){for(var Fe=new Array(ze),ke=0;ke<ze;ke++)Fe[ke]=0;return Fe},Le.prototype.mulp=function(ze,Fe,ke){var Ue=2*this.guessLen13b(ze.length,Fe.length),Je=this.makeRBT(Ue),rt=this.stub(Ue),Xe=new Array(Ue),it=new Array(Ue),We=new Array(Ue),Ve=new Array(Ue),je=new Array(Ue),Ze=new Array(Ue),st=ke.words;st.length=Ue,this.convert13b(ze.words,ze.length,Xe,Ue),this.convert13b(Fe.words,Fe.length,Ve,Ue),this.transform(Xe,rt,it,We,Ue,Je),this.transform(Ve,rt,je,Ze,Ue,Je);for(var dt=0;dt<Ue;dt++){var bt=it[dt]*je[dt]-We[dt]*Ze[dt];We[dt]=it[dt]*Ze[dt]+We[dt]*je[dt],it[dt]=bt}return this.conjugate(it,We,Ue),this.transform(it,We,st,rt,Ue,Je),this.conjugate(st,rt,Ue),this.normalize13b(st,Ue),ke.negative=ze.negative^Fe.negative,ke.length=ze.length+Fe.length,ke.strip()},B.prototype.mul=function(ze){var Fe=new B(null);return Fe.words=new Array(this.length+ze.length),this.mulTo(ze,Fe)},B.prototype.mulf=function(ze){var Fe=new B(null);return Fe.words=new Array(this.length+ze.length),Ke(this,ze,Fe)},B.prototype.imul=function(ze){return this.clone().mulTo(ze,this)},B.prototype.imuln=function(ze){N(typeof ze=="number"),N(ze<67108864);for(var Fe=0,ke=0;ke<this.length;ke++){var Ue=(this.words[ke]|0)*ze,Je=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Je>>>26,this.words[ke]=Je&67108863}return Fe!==0&&(this.words[ke]=Fe,this.length++),this.length=ze===0?1:this.length,this},B.prototype.muln=function(ze){return this.clone().imuln(ze)},B.prototype.sqr=function(){return this.mul(this)},B.prototype.isqr=function(){return this.imul(this.clone())},B.prototype.pow=function(ze){var Fe=$e(ze);if(Fe.length===0)return new B(1);for(var ke=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ke=ke.sqr());if(++Ue<Fe.length)for(var Je=ke.sqr();Ue<Fe.length;Ue++,Je=Je.sqr())Fe[Ue]!==0&&(ke=ke.mul(Je));return ke},B.prototype.iushln=function(ze){N(typeof ze=="number"&&ze>=0);var Fe=ze%26,ke=(ze-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Je;if(Fe!==0){var rt=0;for(Je=0;Je<this.length;Je++){var Xe=this.words[Je]&Ue,it=(this.words[Je]|0)-Xe<<Fe;this.words[Je]=it|rt,rt=Xe>>>26-Fe}rt&&(this.words[Je]=rt,this.length++)}if(ke!==0){for(Je=this.length-1;Je>=0;Je--)this.words[Je+ke]=this.words[Je];for(Je=0;Je<ke;Je++)this.words[Je]=0;this.length+=ke}return this.strip()},B.prototype.ishln=function(ze){return N(this.negative===0),this.iushln(ze)},B.prototype.iushrn=function(ze,Fe,ke){N(typeof ze=="number"&&ze>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Je=ze%26,rt=Math.min((ze-Je)/26,this.length),Xe=67108863^67108863>>>Je<<Je,it=ke;if(Ue-=rt,Ue=Math.max(0,Ue),it){for(var We=0;We<rt;We++)it.words[We]=this.words[We];it.length=rt}if(rt!==0)if(this.length>rt)for(this.length-=rt,We=0;We<this.length;We++)this.words[We]=this.words[We+rt];else this.words[0]=0,this.length=1;var Ve=0;for(We=this.length-1;We>=0&&(Ve!==0||We>=Ue);We--){var je=this.words[We]|0;this.words[We]=Ve<<26-Je|je>>>Je,Ve=je&Xe}return it&&Ve!==0&&(it.words[it.length++]=Ve),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},B.prototype.ishrn=function(ze,Fe,ke){return N(this.negative===0),this.iushrn(ze,Fe,ke)},B.prototype.shln=function(ze){return this.clone().ishln(ze)},B.prototype.ushln=function(ze){return this.clone().iushln(ze)},B.prototype.shrn=function(ze){return this.clone().ishrn(ze)},B.prototype.ushrn=function(ze){return this.clone().iushrn(ze)},B.prototype.testn=function(ze){N(typeof ze=="number"&&ze>=0);var Fe=ze%26,ke=(ze-Fe)/26,Ue=1<<Fe;if(this.length<=ke)return!1;var Je=this.words[ke];return!!(Je&Ue)},B.prototype.imaskn=function(ze){N(typeof ze=="number"&&ze>=0);var Fe=ze%26,ke=(ze-Fe)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=ke)return this;if(Fe!==0&&ke++,this.length=Math.min(ke,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},B.prototype.maskn=function(ze){return this.clone().imaskn(ze)},B.prototype.iaddn=function(ze){return N(typeof ze=="number"),N(ze<67108864),ze<0?this.isubn(-ze):this.negative!==0?this.length===1&&(this.words[0]|0)<ze?(this.words[0]=ze-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ze),this.negative=1,this):this._iaddn(ze)},B.prototype._iaddn=function(ze){this.words[0]+=ze;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},B.prototype.isubn=function(ze){if(N(typeof ze=="number"),N(ze<67108864),ze<0)return this.iaddn(-ze);if(this.negative!==0)return this.negative=0,this.iaddn(ze),this.negative=1,this;if(this.words[0]-=ze,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},B.prototype.addn=function(ze){return this.clone().iaddn(ze)},B.prototype.subn=function(ze){return this.clone().isubn(ze)},B.prototype.iabs=function(){return this.negative=0,this},B.prototype.abs=function(){return this.clone().iabs()},B.prototype._ishlnsubmul=function(ze,Fe,ke){var Ue=ze.length+ke,Je;this._expand(Ue);var rt,Xe=0;for(Je=0;Je<ze.length;Je++){rt=(this.words[Je+ke]|0)+Xe;var it=(ze.words[Je]|0)*Fe;rt-=it&67108863,Xe=(rt>>26)-(it/67108864|0),this.words[Je+ke]=rt&67108863}for(;Je<this.length-ke;Je++)rt=(this.words[Je+ke]|0)+Xe,Xe=rt>>26,this.words[Je+ke]=rt&67108863;if(Xe===0)return this.strip();for(N(Xe===-1),Xe=0,Je=0;Je<this.length;Je++)rt=-(this.words[Je]|0)+Xe,Xe=rt>>26,this.words[Je]=rt&67108863;return this.negative=1,this.strip()},B.prototype._wordDiv=function(ze,Fe){var ke=this.length-ze.length,Ue=this.clone(),Je=ze,rt=Je.words[Je.length-1]|0,Xe=this._countBits(rt);ke=26-Xe,ke!==0&&(Je=Je.ushln(ke),Ue.iushln(ke),rt=Je.words[Je.length-1]|0);var it=Ue.length-Je.length,We;if(Fe!=="mod"){We=new B(null),We.length=it+1,We.words=new Array(We.length);for(var Ve=0;Ve<We.length;Ve++)We.words[Ve]=0}var je=Ue.clone()._ishlnsubmul(Je,1,it);je.negative===0&&(Ue=je,We&&(We.words[it]=1));for(var Ze=it-1;Ze>=0;Ze--){var st=(Ue.words[Je.length+Ze]|0)*67108864+(Ue.words[Je.length+Ze-1]|0);for(st=Math.min(st/rt|0,67108863),Ue._ishlnsubmul(Je,st,Ze);Ue.negative!==0;)st--,Ue.negative=0,Ue._ishlnsubmul(Je,1,Ze),Ue.isZero()||(Ue.negative^=1);We&&(We.words[Ze]=st)}return We&&We.strip(),Ue.strip(),Fe!=="div"&&ke!==0&&Ue.iushrn(ke),{div:We||null,mod:Ue}},B.prototype.divmod=function(ze,Fe,ke){if(N(!ze.isZero()),this.isZero())return{div:new B(0),mod:new B(0)};var Ue,Je,rt;return this.negative!==0&&ze.negative===0?(rt=this.neg().divmod(ze,Fe),Fe!=="mod"&&(Ue=rt.div.neg()),Fe!=="div"&&(Je=rt.mod.neg(),ke&&Je.negative!==0&&Je.iadd(ze)),{div:Ue,mod:Je}):this.negative===0&&ze.negative!==0?(rt=this.divmod(ze.neg(),Fe),Fe!=="mod"&&(Ue=rt.div.neg()),{div:Ue,mod:rt.mod}):(this.negative&ze.negative)!==0?(rt=this.neg().divmod(ze.neg(),Fe),Fe!=="div"&&(Je=rt.mod.neg(),ke&&Je.negative!==0&&Je.isub(ze)),{div:rt.div,mod:Je}):ze.length>this.length||this.cmp(ze)<0?{div:new B(0),mod:this}:ze.length===1?Fe==="div"?{div:this.divn(ze.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new B(this.modn(ze.words[0]))}:{div:this.divn(ze.words[0]),mod:new B(this.modn(ze.words[0]))}:this._wordDiv(ze,Fe)},B.prototype.div=function(ze){return this.divmod(ze,"div",!1).div},B.prototype.mod=function(ze){return this.divmod(ze,"mod",!1).mod},B.prototype.umod=function(ze){return this.divmod(ze,"mod",!0).mod},B.prototype.divRound=function(ze){var Fe=this.divmod(ze);if(Fe.mod.isZero())return Fe.div;var ke=Fe.div.negative!==0?Fe.mod.isub(ze):Fe.mod,Ue=ze.ushrn(1),Je=ze.andln(1),rt=ke.cmp(Ue);return rt<0||Je===1&&rt===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},B.prototype.modn=function(ze){N(ze<=67108863);for(var Fe=(1<<26)%ze,ke=0,Ue=this.length-1;Ue>=0;Ue--)ke=(Fe*ke+(this.words[Ue]|0))%ze;return ke},B.prototype.idivn=function(ze){N(ze<=67108863);for(var Fe=0,ke=this.length-1;ke>=0;ke--){var Ue=(this.words[ke]|0)+Fe*67108864;this.words[ke]=Ue/ze|0,Fe=Ue%ze}return this.strip()},B.prototype.divn=function(ze){return this.clone().idivn(ze)},B.prototype.egcd=function(ze){N(ze.negative===0),N(!ze.isZero());var Fe=this,ke=ze.clone();Fe.negative!==0?Fe=Fe.umod(ze):Fe=Fe.clone();for(var Ue=new B(1),Je=new B(0),rt=new B(0),Xe=new B(1),it=0;Fe.isEven()&&ke.isEven();)Fe.iushrn(1),ke.iushrn(1),++it;for(var We=ke.clone(),Ve=Fe.clone();!Fe.isZero();){for(var je=0,Ze=1;(Fe.words[0]&Ze)===0&&je<26;++je,Ze<<=1);if(je>0)for(Fe.iushrn(je);je-- >0;)(Ue.isOdd()||Je.isOdd())&&(Ue.iadd(We),Je.isub(Ve)),Ue.iushrn(1),Je.iushrn(1);for(var st=0,dt=1;(ke.words[0]&dt)===0&&st<26;++st,dt<<=1);if(st>0)for(ke.iushrn(st);st-- >0;)(rt.isOdd()||Xe.isOdd())&&(rt.iadd(We),Xe.isub(Ve)),rt.iushrn(1),Xe.iushrn(1);Fe.cmp(ke)>=0?(Fe.isub(ke),Ue.isub(rt),Je.isub(Xe)):(ke.isub(Fe),rt.isub(Ue),Xe.isub(Je))}return{a:rt,b:Xe,gcd:ke.iushln(it)}},B.prototype._invmp=function(ze){N(ze.negative===0),N(!ze.isZero());var Fe=this,ke=ze.clone();Fe.negative!==0?Fe=Fe.umod(ze):Fe=Fe.clone();for(var Ue=new B(1),Je=new B(0),rt=ke.clone();Fe.cmpn(1)>0&&ke.cmpn(1)>0;){for(var Xe=0,it=1;(Fe.words[0]&it)===0&&Xe<26;++Xe,it<<=1);if(Xe>0)for(Fe.iushrn(Xe);Xe-- >0;)Ue.isOdd()&&Ue.iadd(rt),Ue.iushrn(1);for(var We=0,Ve=1;(ke.words[0]&Ve)===0&&We<26;++We,Ve<<=1);if(We>0)for(ke.iushrn(We);We-- >0;)Je.isOdd()&&Je.iadd(rt),Je.iushrn(1);Fe.cmp(ke)>=0?(Fe.isub(ke),Ue.isub(Je)):(ke.isub(Fe),Je.isub(Ue))}var je;return Fe.cmpn(1)===0?je=Ue:je=Je,je.cmpn(0)<0&&je.iadd(ze),je},B.prototype.gcd=function(ze){if(this.isZero())return ze.abs();if(ze.isZero())return this.abs();var Fe=this.clone(),ke=ze.clone();Fe.negative=0,ke.negative=0;for(var Ue=0;Fe.isEven()&&ke.isEven();Ue++)Fe.iushrn(1),ke.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ke.isEven();)ke.iushrn(1);var Je=Fe.cmp(ke);if(Je<0){var rt=Fe;Fe=ke,ke=rt}else if(Je===0||ke.cmpn(1)===0)break;Fe.isub(ke)}while(!0);return ke.iushln(Ue)},B.prototype.invm=function(ze){return this.egcd(ze).a.umod(ze)},B.prototype.isEven=function(){return(this.words[0]&1)===0},B.prototype.isOdd=function(){return(this.words[0]&1)===1},B.prototype.andln=function(ze){return this.words[0]&ze},B.prototype.bincn=function(ze){N(typeof ze=="number");var Fe=ze%26,ke=(ze-Fe)/26,Ue=1<<Fe;if(this.length<=ke)return this._expand(ke+1),this.words[ke]|=Ue,this;for(var Je=Ue,rt=ke;Je!==0&&rt<this.length;rt++){var Xe=this.words[rt]|0;Xe+=Je,Je=Xe>>>26,Xe&=67108863,this.words[rt]=Xe}return Je!==0&&(this.words[rt]=Je,this.length++),this},B.prototype.isZero=function(){return this.length===1&&this.words[0]===0},B.prototype.cmpn=function(ze){var Fe=ze<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ke;if(this.length>1)ke=1;else{Fe&&(ze=-ze),N(ze<=67108863,"Number is too big");var Ue=this.words[0]|0;ke=Ue===ze?0:Ue<ze?-1:1}return this.negative!==0?-ke|0:ke},B.prototype.cmp=function(ze){if(this.negative!==0&&ze.negative===0)return-1;if(this.negative===0&&ze.negative!==0)return 1;var Fe=this.ucmp(ze);return this.negative!==0?-Fe|0:Fe},B.prototype.ucmp=function(ze){if(this.length>ze.length)return 1;if(this.length<ze.length)return-1;for(var Fe=0,ke=this.length-1;ke>=0;ke--){var Ue=this.words[ke]|0,Je=ze.words[ke]|0;if(Ue!==Je){Ue<Je?Fe=-1:Ue>Je&&(Fe=1);break}}return Fe},B.prototype.gtn=function(ze){return this.cmpn(ze)===1},B.prototype.gt=function(ze){return this.cmp(ze)===1},B.prototype.gten=function(ze){return this.cmpn(ze)>=0},B.prototype.gte=function(ze){return this.cmp(ze)>=0},B.prototype.ltn=function(ze){return this.cmpn(ze)===-1},B.prototype.lt=function(ze){return this.cmp(ze)===-1},B.prototype.lten=function(ze){return this.cmpn(ze)<=0},B.prototype.lte=function(ze){return this.cmp(ze)<=0},B.prototype.eqn=function(ze){return this.cmpn(ze)===0},B.prototype.eq=function(ze){return this.cmp(ze)===0},B.red=function(ze){return new nt(ze)},B.prototype.toRed=function(ze){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),ze.convertTo(this)._forceRed(ze)},B.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},B.prototype._forceRed=function(ze){return this.red=ze,this},B.prototype.forceRed=function(ze){return N(!this.red,"Already a number in reduction context"),this._forceRed(ze)},B.prototype.redAdd=function(ze){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,ze)},B.prototype.redIAdd=function(ze){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ze)},B.prototype.redSub=function(ze){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,ze)},B.prototype.redISub=function(ze){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,ze)},B.prototype.redShl=function(ze){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,ze)},B.prototype.redMul=function(ze){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,ze),this.red.mul(this,ze)},B.prototype.redIMul=function(ze){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,ze),this.red.imul(this,ze)},B.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},B.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},B.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},B.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},B.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},B.prototype.redPow=function(ze){return N(this.red&&!ze.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ze)};var qe={k256:null,p224:null,p192:null,p25519:null};function He(tt,ze){this.name=tt,this.p=new B(ze,16),this.n=this.p.bitLength(),this.k=new B(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}He.prototype._tmp=function(){var ze=new B(null);return ze.words=new Array(Math.ceil(this.n/13)),ze},He.prototype.ireduce=function(ze){var Fe=ze,ke;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ke=Fe.bitLength();while(ke>this.n);var Ue=ke<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},He.prototype.split=function(ze,Fe){ze.iushrn(this.n,0,Fe)},He.prototype.imulK=function(ze){return ze.imul(this.k)};function Ge(){He.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}L(Ge,He),Ge.prototype.split=function(ze,Fe){for(var ke=4194303,Ue=Math.min(ze.length,9),Je=0;Je<Ue;Je++)Fe.words[Je]=ze.words[Je];if(Fe.length=Ue,ze.length<=9){ze.words[0]=0,ze.length=1;return}var rt=ze.words[9];for(Fe.words[Fe.length++]=rt&ke,Je=10;Je<ze.length;Je++){var Xe=ze.words[Je]|0;ze.words[Je-10]=(Xe&ke)<<4|rt>>>22,rt=Xe}rt>>>=22,ze.words[Je-10]=rt,rt===0&&ze.length>10?ze.length-=10:ze.length-=9},Ge.prototype.imulK=function(ze){ze.words[ze.length]=0,ze.words[ze.length+1]=0,ze.length+=2;for(var Fe=0,ke=0;ke<ze.length;ke++){var Ue=ze.words[ke]|0;Fe+=Ue*977,ze.words[ke]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return ze.words[ze.length-1]===0&&(ze.length--,ze.words[ze.length-1]===0&&ze.length--),ze};function at(){He.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}L(at,He);function ot(){He.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}L(ot,He);function Ye(){He.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}L(Ye,He),Ye.prototype.imulK=function(ze){for(var Fe=0,ke=0;ke<ze.length;ke++){var Ue=(ze.words[ke]|0)*19+Fe,Je=Ue&67108863;Ue>>>=26,ze.words[ke]=Je,Fe=Ue}return Fe!==0&&(ze.words[ze.length++]=Fe),ze},B._prime=function(ze){if(qe[ze])return qe[ze];var Fe;if(ze==="k256")Fe=new Ge;else if(ze==="p224")Fe=new at;else if(ze==="p192")Fe=new ot;else if(ze==="p25519")Fe=new Ye;else throw new Error("Unknown prime "+ze);return qe[ze]=Fe,Fe};function nt(tt){if(typeof tt=="string"){var ze=B._prime(tt);this.m=ze.p,this.prime=ze}else N(tt.gtn(1),"modulus must be greater than 1"),this.m=tt,this.prime=null}nt.prototype._verify1=function(ze){N(ze.negative===0,"red works only with positives"),N(ze.red,"red works only with red numbers")},nt.prototype._verify2=function(ze,Fe){N((ze.negative|Fe.negative)===0,"red works only with positives"),N(ze.red&&ze.red===Fe.red,"red works only with red numbers")},nt.prototype.imod=function(ze){return this.prime?this.prime.ireduce(ze)._forceRed(this):ze.umod(this.m)._forceRed(this)},nt.prototype.neg=function(ze){return ze.isZero()?ze.clone():this.m.sub(ze)._forceRed(this)},nt.prototype.add=function(ze,Fe){this._verify2(ze,Fe);var ke=ze.add(Fe);return ke.cmp(this.m)>=0&&ke.isub(this.m),ke._forceRed(this)},nt.prototype.iadd=function(ze,Fe){this._verify2(ze,Fe);var ke=ze.iadd(Fe);return ke.cmp(this.m)>=0&&ke.isub(this.m),ke},nt.prototype.sub=function(ze,Fe){this._verify2(ze,Fe);var ke=ze.sub(Fe);return ke.cmpn(0)<0&&ke.iadd(this.m),ke._forceRed(this)},nt.prototype.isub=function(ze,Fe){this._verify2(ze,Fe);var ke=ze.isub(Fe);return ke.cmpn(0)<0&&ke.iadd(this.m),ke},nt.prototype.shl=function(ze,Fe){return this._verify1(ze),this.imod(ze.ushln(Fe))},nt.prototype.imul=function(ze,Fe){return this._verify2(ze,Fe),this.imod(ze.imul(Fe))},nt.prototype.mul=function(ze,Fe){return this._verify2(ze,Fe),this.imod(ze.mul(Fe))},nt.prototype.isqr=function(ze){return this.imul(ze,ze.clone())},nt.prototype.sqr=function(ze){return this.mul(ze,ze)},nt.prototype.sqrt=function(ze){if(ze.isZero())return ze.clone();var Fe=this.m.andln(3);if(N(Fe%2===1),Fe===3){var ke=this.m.add(new B(1)).iushrn(2);return this.pow(ze,ke)}for(var Ue=this.m.subn(1),Je=0;!Ue.isZero()&&Ue.andln(1)===0;)Je++,Ue.iushrn(1);N(!Ue.isZero());var rt=new B(1).toRed(this),Xe=rt.redNeg(),it=this.m.subn(1).iushrn(1),We=this.m.bitLength();for(We=new B(2*We*We).toRed(this);this.pow(We,it).cmp(Xe)!==0;)We.redIAdd(Xe);for(var Ve=this.pow(We,Ue),je=this.pow(ze,Ue.addn(1).iushrn(1)),Ze=this.pow(ze,Ue),st=Je;Ze.cmp(rt)!==0;){for(var dt=Ze,bt=0;dt.cmp(rt)!==0;bt++)dt=dt.redSqr();N(bt<st);var vt=this.pow(Ve,new B(1).iushln(st-bt-1));je=je.redMul(vt),Ve=vt.redSqr(),Ze=Ze.redMul(Ve),st=bt}return je},nt.prototype.invm=function(ze){var Fe=ze._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},nt.prototype.pow=function(ze,Fe){if(Fe.isZero())return new B(1).toRed(this);if(Fe.cmpn(1)===0)return ze.clone();var ke=4,Ue=new Array(1<<ke);Ue[0]=new B(1).toRed(this),Ue[1]=ze;for(var Je=2;Je<Ue.length;Je++)Ue[Je]=this.mul(Ue[Je-1],ze);var rt=Ue[0],Xe=0,it=0,We=Fe.bitLength()%26;for(We===0&&(We=26),Je=Fe.length-1;Je>=0;Je--){for(var Ve=Fe.words[Je],je=We-1;je>=0;je--){var Ze=Ve>>je&1;if(rt!==Ue[0]&&(rt=this.sqr(rt)),Ze===0&&Xe===0){it=0;continue}Xe<<=1,Xe|=Ze,it++,!(it!==ke&&(Je!==0||je!==0))&&(rt=this.mul(rt,Ue[Xe]),it=0,Xe=0)}We=26}return rt},nt.prototype.convertTo=function(ze){var Fe=ze.umod(this.m);return Fe===ze?Fe.clone():Fe},nt.prototype.convertFrom=function(ze){var Fe=ze.clone();return Fe.red=null,Fe},B.mont=function(ze){return new Qe(ze)};function Qe(tt){nt.call(this,tt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new B(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L(Qe,nt),Qe.prototype.convertTo=function(ze){return this.imod(ze.ushln(this.shift))},Qe.prototype.convertFrom=function(ze){var Fe=this.imod(ze.mul(this.rinv));return Fe.red=null,Fe},Qe.prototype.imul=function(ze,Fe){if(ze.isZero()||Fe.isZero())return ze.words[0]=0,ze.length=1,ze;var ke=ze.imul(Fe),Ue=ke.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Je=ke.isub(Ue).iushrn(this.shift),rt=Je;return Je.cmp(this.m)>=0?rt=Je.isub(this.m):Je.cmpn(0)<0&&(rt=Je.iadd(this.m)),rt._forceRed(this)},Qe.prototype.mul=function(ze,Fe){if(ze.isZero()||Fe.isZero())return new B(0)._forceRed(this);var ke=ze.mul(Fe),Ue=ke.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Je=ke.isub(Ue).iushrn(this.shift),rt=Je;return Je.cmp(this.m)>=0?rt=Je.isub(this.m):Je.cmpn(0)<0&&(rt=Je.iadd(this.m)),rt._forceRed(this)},Qe.prototype.invm=function(ze){var Fe=this.imod(ze._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(T,commonjsGlobal$2)})(bn$4);var bnExports=bn$4.exports;const bn$2=getDefaultExportFromCjs$1(bnExports),bn$3=_mergeNamespaces({__proto__:null,default:bn$2},[bnExports]);var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var T;brorand.exports=function(L){return T||(T=new $(null)),T.generate(L)};function $(N){this.rand=N}if(brorand.exports.Rand=$,$.prototype.generate=function(L){return this._rand(L)},$.prototype._rand=function(L){if(this.rand.getBytes)return this.rand.getBytes(L);for(var B=new Uint8Array(L),H=0;H<B.length;H++)B[H]=this.rand.getByte();return B},typeof self=="object")self.crypto&&self.crypto.getRandomValues?$.prototype._rand=function(L){var B=new Uint8Array(L);return self.crypto.getRandomValues(B),B}:self.msCrypto&&self.msCrypto.getRandomValues?$.prototype._rand=function(L){var B=new Uint8Array(L);return self.msCrypto.getRandomValues(B),B}:typeof window=="object"&&($.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var I=requireCryptoBrowserify();if(typeof I.randomBytes!="function")throw new Error("Not supported");$.prototype._rand=function(L){return I.randomBytes(L)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var T=bn$3,$=requireBrorand();function I(N){this.rand=N||new $.Rand}return mr=I,I.create=function(L){return new I(L)},I.prototype._randbelow=function(L){var B=L.bitLength(),H=Math.ceil(B/8);do var z=new T(this.rand.generate(H));while(z.cmp(L)>=0);return z},I.prototype._randrange=function(L,B){var H=B.sub(L);return L.add(this._randbelow(H))},I.prototype.test=function(L,B,H){var z=L.bitLength(),Q=T.mont(L),te=new T(1).toRed(Q);B||(B=Math.max(1,z/48|0));for(var G=L.subn(1),ie=0;!G.testn(ie);ie++);for(var Re=L.shrn(ie),$e=G.toRed(Q),Pe=!0;B>0;B--){var Me=this._randrange(new T(2),G);H&&H(Me);var Be=Me.toRed(Q).redPow(Re);if(!(Be.cmp(te)===0||Be.cmp($e)===0)){for(var Ke=1;Ke<ie;Ke++){if(Be=Be.redSqr(),Be.cmp(te)===0)return!1;if(Be.cmp($e)===0)break}if(Ke===ie)return!1}}return Pe},I.prototype.getDivisor=function(L,B){var H=L.bitLength(),z=T.mont(L),Q=new T(1).toRed(z);B||(B=Math.max(1,H/48|0));for(var te=L.subn(1),G=0;!te.testn(G);G++);for(var ie=L.shrn(G),Re=te.toRed(z);B>0;B--){var $e=this._randrange(new T(2),te),Pe=L.gcd($e);if(Pe.cmpn(1)!==0)return Pe;var Me=$e.toRed(z).redPow(ie);if(!(Me.cmp(Q)===0||Me.cmp(Re)===0)){for(var Be=1;Be<G;Be++){if(Me=Me.redSqr(),Me.cmp(Q)===0)return Me.fromRed().subn(1).gcd(L);if(Me.cmp(Re)===0)break}if(Be===G)return Me=Me.redSqr(),Me.fromRed().subn(1).gcd(L)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var T=requireBrowser$9();generatePrime=Be,Be.simpleSieve=Pe,Be.fermatTest=Me;var $=bn$3,I=new $(24),N=requireMr(),L=new N,B=new $(1),H=new $(2),z=new $(5);new $(16),new $(8);var Q=new $(10),te=new $(3);new $(7);var G=new $(11),ie=new $(4);new $(12);var Re=null;function $e(){if(Re!==null)return Re;var Ke=1048576,Le=[];Le[0]=2;for(var qe=1,He=3;He<Ke;He+=2){for(var Ge=Math.ceil(Math.sqrt(He)),at=0;at<qe&&Le[at]<=Ge&&He%Le[at]!==0;at++);qe!==at&&Le[at]<=Ge||(Le[qe++]=He)}return Re=Le,Le}function Pe(Ke){for(var Le=$e(),qe=0;qe<Le.length;qe++)if(Ke.modn(Le[qe])===0)return Ke.cmpn(Le[qe])===0;return!0}function Me(Ke){var Le=$.mont(Ke);return H.toRed(Le).redPow(Ke.subn(1)).fromRed().cmpn(1)===0}function Be(Ke,Le){if(Ke<16)return Le===2||Le===5?new $([140,123]):new $([140,39]);Le=new $(Le);for(var qe,He;;){for(qe=new $(T(Math.ceil(Ke/8)));qe.bitLength()>Ke;)qe.ishrn(1);if(qe.isEven()&&qe.iadd(B),qe.testn(1)||qe.iadd(H),Le.cmp(H)){if(!Le.cmp(z))for(;qe.mod(Q).cmp(te);)qe.iadd(ie)}else for(;qe.mod(I).cmp(G);)qe.iadd(ie);if(He=qe.shrn(1),Pe(He)&&Pe(qe)&&Me(He)&&Me(qe)&&L.test(He)&&L.test(qe))return qe}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var T=bn$3,$=requireMr(),I=new $,N=new T(24),L=new T(11),B=new T(10),H=new T(3),z=new T(7),Q=requireGeneratePrime(),te=requireBrowser$9();dh=Pe;function G(Be,Ke){return Ke=Ke||"utf8",Buffer$p.isBuffer(Be)||(Be=new Buffer$p(Be,Ke)),this._pub=new T(Be),this}function ie(Be,Ke){return Ke=Ke||"utf8",Buffer$p.isBuffer(Be)||(Be=new Buffer$p(Be,Ke)),this._priv=new T(Be),this}var Re={};function $e(Be,Ke){var Le=Ke.toString("hex"),qe=[Le,Be.toString(16)].join("_");if(qe in Re)return Re[qe];var He=0;if(Be.isEven()||!Q.simpleSieve||!Q.fermatTest(Be)||!I.test(Be))return He+=1,Le==="02"||Le==="05"?He+=8:He+=4,Re[qe]=He,He;I.test(Be.shrn(1))||(He+=2);var Ge;switch(Le){case"02":Be.mod(N).cmp(L)&&(He+=8);break;case"05":Ge=Be.mod(B),Ge.cmp(H)&&Ge.cmp(z)&&(He+=8);break;default:He+=4}return Re[qe]=He,He}function Pe(Be,Ke,Le){this.setGenerator(Ke),this.__prime=new T(Be),this._prime=T.mont(this.__prime),this._primeLen=Be.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Le?(this.setPublicKey=G,this.setPrivateKey=ie):this._primeCode=8}Object.defineProperty(Pe.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=$e(this.__prime,this.__gen)),this._primeCode}}),Pe.prototype.generateKeys=function(){return this._priv||(this._priv=new T(te(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Pe.prototype.computeSecret=function(Be){Be=new T(Be),Be=Be.toRed(this._prime);var Ke=Be.redPow(this._priv).fromRed(),Le=new Buffer$p(Ke.toArray()),qe=this.getPrime();if(Le.length<qe.length){var He=new Buffer$p(qe.length-Le.length);He.fill(0),Le=Buffer$p.concat([He,Le])}return Le},Pe.prototype.getPublicKey=function(Ke){return Me(this._pub,Ke)},Pe.prototype.getPrivateKey=function(Ke){return Me(this._priv,Ke)},Pe.prototype.getPrime=function(Be){return Me(this.__prime,Be)},Pe.prototype.getGenerator=function(Be){return Me(this._gen,Be)},Pe.prototype.setGenerator=function(Be,Ke){return Ke=Ke||"utf8",Buffer$p.isBuffer(Be)||(Be=new Buffer$p(Be,Ke)),this.__gen=Be,this._gen=new T(Be),this};function Me(Be,Ke){var Le=new Buffer$p(Be.toArray());return Ke?Le.toString(Ke):Le}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$5;hasRequiredBrowser$4=1;var T=requireGeneratePrime(),$=require$$1$1,I=requireDh();function N(H){var z=new Buffer$p($[H].prime,"hex"),Q=new Buffer$p($[H].gen,"hex");return new I(z,Q)}var L={binary:!0,hex:!0,base64:!0};function B(H,z,Q,te){return Buffer$p.isBuffer(z)||L[z]===void 0?B(H,"binary",z,Q):(z=z||"binary",te=te||"binary",Q=Q||new Buffer$p([2]),Buffer$p.isBuffer(Q)||(Q=new Buffer$p(Q,te)),typeof H=="number"?new I(T(H,Q),Q,!0):(Buffer$p.isBuffer(H)||(H=new Buffer$p(H,z)),new I(H,Q,!0)))}return browser$5.DiffieHellmanGroup=browser$5.createDiffieHellmanGroup=browser$5.getDiffieHellman=N,browser$5.createDiffieHellman=browser$5.DiffieHellman=B,browser$5}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:T}:processNextickArgs.exports=process$1$1;function T($,I,N,L){if(typeof $!="function")throw new TypeError('"callback" argument must be a function');var B=arguments.length,H,z;switch(B){case 0:case 1:return process$1$1.nextTick($);case 2:return process$1$1.nextTick(function(){$.call(null,I)});case 3:return process$1$1.nextTick(function(){$.call(null,I,N)});case 4:return process$1$1.nextTick(function(){$.call(null,I,N,L)});default:for(H=new Array(B-1),z=0;z<H.length;)H[z++]=arguments[z];return process$1$1.nextTick(function(){$.apply(null,H)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var T={}.toString;return isarray=Array.isArray||function($){return T.call($)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=events$1.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(T,$){var I=dist$5,N=I.Buffer;function L(H,z){for(var Q in H)z[Q]=H[Q]}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?T.exports=I:(L(I,$),$.Buffer=B);function B(H,z,Q){return N(H,z,Q)}L(N,B),B.from=function(H,z,Q){if(typeof H=="number")throw new TypeError("Argument must not be a number");return N(H,z,Q)},B.alloc=function(H,z,Q){if(typeof H!="number")throw new TypeError("Argument must be a number");var te=N(H);return z!==void 0?typeof Q=="string"?te.fill(z,Q):te.fill(z):te.fill(0),te},B.allocUnsafe=function(H){if(typeof H!="number")throw new TypeError("Argument must be a number");return N(H)},B.allocUnsafeSlow=function(H){if(typeof H!="number")throw new TypeError("Argument must be a number");return I.SlowBuffer(H)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function T(Me){return Array.isArray?Array.isArray(Me):Pe(Me)==="[object Array]"}util.isArray=T;function $(Me){return typeof Me=="boolean"}util.isBoolean=$;function I(Me){return Me===null}util.isNull=I;function N(Me){return Me==null}util.isNullOrUndefined=N;function L(Me){return typeof Me=="number"}util.isNumber=L;function B(Me){return typeof Me=="string"}util.isString=B;function H(Me){return typeof Me=="symbol"}util.isSymbol=H;function z(Me){return Me===void 0}util.isUndefined=z;function Q(Me){return Pe(Me)==="[object RegExp]"}util.isRegExp=Q;function te(Me){return typeof Me=="object"&&Me!==null}util.isObject=te;function G(Me){return Pe(Me)==="[object Date]"}util.isDate=G;function ie(Me){return Pe(Me)==="[object Error]"||Me instanceof Error}util.isError=ie;function Re(Me){return typeof Me=="function"}util.isFunction=Re;function $e(Me){return Me===null||typeof Me=="boolean"||typeof Me=="number"||typeof Me=="string"||typeof Me=="symbol"||typeof Me>"u"}util.isPrimitive=$e,util.isBuffer=dist$5.Buffer.isBuffer;function Pe(Me){return Object.prototype.toString.call(Me)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(T){function $(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")}var I=requireSafeBuffer().Buffer,N=util$2;function L(B,H,z){B.copy(H,z)}T.exports=function(){function B(){$(this,B),this.head=null,this.tail=null,this.length=0}return B.prototype.push=function(z){var Q={data:z,next:null};this.length>0?this.tail.next=Q:this.head=Q,this.tail=Q,++this.length},B.prototype.unshift=function(z){var Q={data:z,next:this.head};this.length===0&&(this.tail=Q),this.head=Q,++this.length},B.prototype.shift=function(){if(this.length!==0){var z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,z}},B.prototype.clear=function(){this.head=this.tail=null,this.length=0},B.prototype.join=function(z){if(this.length===0)return"";for(var Q=this.head,te=""+Q.data;Q=Q.next;)te+=z+Q.data;return te},B.prototype.concat=function(z){if(this.length===0)return I.alloc(0);for(var Q=I.allocUnsafe(z>>>0),te=this.head,G=0;te;)L(te.data,Q,G),G+=te.data.length,te=te.next;return Q},B}(),N&&N.inspect&&N.inspect.custom&&(T.exports.prototype[N.inspect.custom]=function(){var B=N.inspect({length:this.length});return this.constructor.name+" "+B})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var T=requireProcessNextickArgs();function $(L,B){var H=this,z=this._readableState&&this._readableState.destroyed,Q=this._writableState&&this._writableState.destroyed;return z||Q?(B?B(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,T.nextTick(N,this,L)):T.nextTick(N,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(te){!B&&te?H._writableState?H._writableState.errorEmitted||(H._writableState.errorEmitted=!0,T.nextTick(N,H,te)):T.nextTick(N,H,te):B&&B(te)}),this)}function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function N(L,B){L.emit("error",B)}return destroy_1={destroy:$,undestroy:I},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var T=requireProcessNextickArgs();_stream_writable=Me;function $(rt){var Xe=this;this.next=null,this.entry=null,this.finish=function(){Je(Xe,rt)}}var I=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:T.nextTick,N;Me.WritableState=$e;var L=Object.create(requireUtil());L.inherits=inherits_browser$1;var B={deprecate:browser$f},H=requireStreamBrowser(),z=requireSafeBuffer().Buffer,Q=(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function te(rt){return z.from(rt)}function G(rt){return z.isBuffer(rt)||rt instanceof Q}var ie=requireDestroy();L.inherits(Me,H);function Re(){}function $e(rt,Xe){N=N||require_stream_duplex(),rt=rt||{};var it=Xe instanceof N;this.objectMode=!!rt.objectMode,it&&(this.objectMode=this.objectMode||!!rt.writableObjectMode);var We=rt.highWaterMark,Ve=rt.writableHighWaterMark,je=this.objectMode?16:16*1024;We||We===0?this.highWaterMark=We:it&&(Ve||Ve===0)?this.highWaterMark=Ve:this.highWaterMark=je,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ze=rt.decodeStrings===!1;this.decodeStrings=!Ze,this.defaultEncoding=rt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(st){ot(Xe,st)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new $(this)}$e.prototype.getBuffer=function(){for(var Xe=this.bufferedRequest,it=[];Xe;)it.push(Xe),Xe=Xe.next;return it},function(){try{Object.defineProperty($e.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Pe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Pe=Function.prototype[Symbol.hasInstance],Object.defineProperty(Me,Symbol.hasInstance,{value:function(rt){return Pe.call(this,rt)?!0:this!==Me?!1:rt&&rt._writableState instanceof $e}})):Pe=function(rt){return rt instanceof this};function Me(rt){if(N=N||require_stream_duplex(),!Pe.call(Me,this)&&!(this instanceof N))return new Me(rt);this._writableState=new $e(rt,this),this.writable=!0,rt&&(typeof rt.write=="function"&&(this._write=rt.write),typeof rt.writev=="function"&&(this._writev=rt.writev),typeof rt.destroy=="function"&&(this._destroy=rt.destroy),typeof rt.final=="function"&&(this._final=rt.final)),H.call(this)}Me.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Be(rt,Xe){var it=new Error("write after end");rt.emit("error",it),T.nextTick(Xe,it)}function Ke(rt,Xe,it,We){var Ve=!0,je=!1;return it===null?je=new TypeError("May not write null values to stream"):typeof it!="string"&&it!==void 0&&!Xe.objectMode&&(je=new TypeError("Invalid non-string/buffer chunk")),je&&(rt.emit("error",je),T.nextTick(We,je),Ve=!1),Ve}Me.prototype.write=function(rt,Xe,it){var We=this._writableState,Ve=!1,je=!We.objectMode&&G(rt);return je&&!z.isBuffer(rt)&&(rt=te(rt)),typeof Xe=="function"&&(it=Xe,Xe=null),je?Xe="buffer":Xe||(Xe=We.defaultEncoding),typeof it!="function"&&(it=Re),We.ended?Be(this,it):(je||Ke(this,We,rt,it))&&(We.pendingcb++,Ve=qe(this,We,je,rt,Xe,it)),Ve},Me.prototype.cork=function(){var rt=this._writableState;rt.corked++},Me.prototype.uncork=function(){var rt=this._writableState;rt.corked&&(rt.corked--,!rt.writing&&!rt.corked&&!rt.bufferProcessing&&rt.bufferedRequest&&Qe(this,rt))},Me.prototype.setDefaultEncoding=function(Xe){if(typeof Xe=="string"&&(Xe=Xe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Xe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Xe);return this._writableState.defaultEncoding=Xe,this};function Le(rt,Xe,it){return!rt.objectMode&&rt.decodeStrings!==!1&&typeof Xe=="string"&&(Xe=z.from(Xe,it)),Xe}Object.defineProperty(Me.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function qe(rt,Xe,it,We,Ve,je){if(!it){var Ze=Le(Xe,We,Ve);We!==Ze&&(it=!0,Ve="buffer",We=Ze)}var st=Xe.objectMode?1:We.length;Xe.length+=st;var dt=Xe.length<Xe.highWaterMark;if(dt||(Xe.needDrain=!0),Xe.writing||Xe.corked){var bt=Xe.lastBufferedRequest;Xe.lastBufferedRequest={chunk:We,encoding:Ve,isBuf:it,callback:je,next:null},bt?bt.next=Xe.lastBufferedRequest:Xe.bufferedRequest=Xe.lastBufferedRequest,Xe.bufferedRequestCount+=1}else He(rt,Xe,!1,st,We,Ve,je);return dt}function He(rt,Xe,it,We,Ve,je,Ze){Xe.writelen=We,Xe.writecb=Ze,Xe.writing=!0,Xe.sync=!0,it?rt._writev(Ve,Xe.onwrite):rt._write(Ve,je,Xe.onwrite),Xe.sync=!1}function Ge(rt,Xe,it,We,Ve){--Xe.pendingcb,it?(T.nextTick(Ve,We),T.nextTick(ke,rt,Xe),rt._writableState.errorEmitted=!0,rt.emit("error",We)):(Ve(We),rt._writableState.errorEmitted=!0,rt.emit("error",We),ke(rt,Xe))}function at(rt){rt.writing=!1,rt.writecb=null,rt.length-=rt.writelen,rt.writelen=0}function ot(rt,Xe){var it=rt._writableState,We=it.sync,Ve=it.writecb;if(at(it),Xe)Ge(rt,it,We,Xe,Ve);else{var je=tt(it);!je&&!it.corked&&!it.bufferProcessing&&it.bufferedRequest&&Qe(rt,it),We?I(Ye,rt,it,je,Ve):Ye(rt,it,je,Ve)}}function Ye(rt,Xe,it,We){it||nt(rt,Xe),Xe.pendingcb--,We(),ke(rt,Xe)}function nt(rt,Xe){Xe.length===0&&Xe.needDrain&&(Xe.needDrain=!1,rt.emit("drain"))}function Qe(rt,Xe){Xe.bufferProcessing=!0;var it=Xe.bufferedRequest;if(rt._writev&&it&&it.next){var We=Xe.bufferedRequestCount,Ve=new Array(We),je=Xe.corkedRequestsFree;je.entry=it;for(var Ze=0,st=!0;it;)Ve[Ze]=it,it.isBuf||(st=!1),it=it.next,Ze+=1;Ve.allBuffers=st,He(rt,Xe,!0,Xe.length,Ve,"",je.finish),Xe.pendingcb++,Xe.lastBufferedRequest=null,je.next?(Xe.corkedRequestsFree=je.next,je.next=null):Xe.corkedRequestsFree=new $(Xe),Xe.bufferedRequestCount=0}else{for(;it;){var dt=it.chunk,bt=it.encoding,vt=it.callback,St=Xe.objectMode?1:dt.length;if(He(rt,Xe,!1,St,dt,bt,vt),it=it.next,Xe.bufferedRequestCount--,Xe.writing)break}it===null&&(Xe.lastBufferedRequest=null)}Xe.bufferedRequest=it,Xe.bufferProcessing=!1}Me.prototype._write=function(rt,Xe,it){it(new Error("_write() is not implemented"))},Me.prototype._writev=null,Me.prototype.end=function(rt,Xe,it){var We=this._writableState;typeof rt=="function"?(it=rt,rt=null,Xe=null):typeof Xe=="function"&&(it=Xe,Xe=null),rt!=null&&this.write(rt,Xe),We.corked&&(We.corked=1,this.uncork()),We.ending||Ue(this,We,it)};function tt(rt){return rt.ending&&rt.length===0&&rt.bufferedRequest===null&&!rt.finished&&!rt.writing}function ze(rt,Xe){rt._final(function(it){Xe.pendingcb--,it&&rt.emit("error",it),Xe.prefinished=!0,rt.emit("prefinish"),ke(rt,Xe)})}function Fe(rt,Xe){!Xe.prefinished&&!Xe.finalCalled&&(typeof rt._final=="function"?(Xe.pendingcb++,Xe.finalCalled=!0,T.nextTick(ze,rt,Xe)):(Xe.prefinished=!0,rt.emit("prefinish")))}function ke(rt,Xe){var it=tt(Xe);return it&&(Fe(rt,Xe),Xe.pendingcb===0&&(Xe.finished=!0,rt.emit("finish"))),it}function Ue(rt,Xe,it){Xe.ending=!0,ke(rt,Xe),it&&(Xe.finished?T.nextTick(it):rt.once("finish",it)),Xe.ended=!0,rt.writable=!1}function Je(rt,Xe,it){var We=rt.entry;for(rt.entry=null;We;){var Ve=We.callback;Xe.pendingcb--,Ve(it),We=We.next}Xe.corkedRequestsFree.next=rt}return Object.defineProperty(Me.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(rt){this._writableState&&(this._writableState.destroyed=rt)}}),Me.prototype.destroy=ie.destroy,Me.prototype._undestroy=ie.undestroy,Me.prototype._destroy=function(rt,Xe){this.end(),Xe(rt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var T=requireProcessNextickArgs(),$=Object.keys||function(ie){var Re=[];for(var $e in ie)Re.push($e);return Re};_stream_duplex=Q;var I=Object.create(requireUtil());I.inherits=inherits_browser$1;var N=require_stream_readable(),L=require_stream_writable();I.inherits(Q,N);for(var B=$(L.prototype),H=0;H<B.length;H++){var z=B[H];Q.prototype[z]||(Q.prototype[z]=L.prototype[z])}function Q(ie){if(!(this instanceof Q))return new Q(ie);N.call(this,ie),L.call(this,ie),ie&&ie.readable===!1&&(this.readable=!1),ie&&ie.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ie&&ie.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",te)}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function te(){this.allowHalfOpen||this._writableState.ended||T.nextTick(G,this)}function G(ie){ie.end()}return Object.defineProperty(Q.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ie){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ie,this._writableState.destroyed=ie)}}),Q.prototype._destroy=function(ie,Re){this.push(null),this.end(),T.nextTick(Re,ie)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var T=requireProcessNextickArgs();_stream_readable=Le;var $=requireIsarray(),I;Le.ReadableState=Ke;var N=function(vt,St){return vt.listeners(St).length},L=requireStreamBrowser(),B=requireSafeBuffer().Buffer,H=(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function z(vt){return B.from(vt)}function Q(vt){return B.isBuffer(vt)||vt instanceof H}var te=Object.create(requireUtil());te.inherits=inherits_browser$1;var G=util$2,ie=void 0;G&&G.debuglog?ie=G.debuglog("stream"):ie=function(){};var Re=requireBufferList(),$e=requireDestroy(),Pe;te.inherits(Le,L);var Me=["error","close","destroy","pause","resume"];function Be(vt,St,Bt){if(typeof vt.prependListener=="function")return vt.prependListener(St,Bt);!vt._events||!vt._events[St]?vt.on(St,Bt):$(vt._events[St])?vt._events[St].unshift(Bt):vt._events[St]=[Bt,vt._events[St]]}function Ke(vt,St){I=I||require_stream_duplex(),vt=vt||{};var Bt=St instanceof I;this.objectMode=!!vt.objectMode,Bt&&(this.objectMode=this.objectMode||!!vt.readableObjectMode);var Gt=vt.highWaterMark,Dt=vt.readableHighWaterMark,Mt=this.objectMode?16:16*1024;Gt||Gt===0?this.highWaterMark=Gt:Bt&&(Dt||Dt===0)?this.highWaterMark=Dt:this.highWaterMark=Mt,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=vt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,vt.encoding&&(Pe||(Pe=string_decoder.StringDecoder),this.decoder=new Pe(vt.encoding),this.encoding=vt.encoding)}function Le(vt){if(I=I||require_stream_duplex(),!(this instanceof Le))return new Le(vt);this._readableState=new Ke(vt,this),this.readable=!0,vt&&(typeof vt.read=="function"&&(this._read=vt.read),typeof vt.destroy=="function"&&(this._destroy=vt.destroy)),L.call(this)}Object.defineProperty(Le.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(vt){this._readableState&&(this._readableState.destroyed=vt)}}),Le.prototype.destroy=$e.destroy,Le.prototype._undestroy=$e.undestroy,Le.prototype._destroy=function(vt,St){this.push(null),St(vt)},Le.prototype.push=function(vt,St){var Bt=this._readableState,Gt;return Bt.objectMode?Gt=!0:typeof vt=="string"&&(St=St||Bt.defaultEncoding,St!==Bt.encoding&&(vt=B.from(vt,St),St=""),Gt=!0),qe(this,vt,St,!1,Gt)},Le.prototype.unshift=function(vt){return qe(this,vt,null,!0,!1)};function qe(vt,St,Bt,Gt,Dt){var Mt=vt._readableState;if(St===null)Mt.reading=!1,Qe(vt,Mt);else{var pt;Dt||(pt=Ge(Mt,St)),pt?vt.emit("error",pt):Mt.objectMode||St&&St.length>0?(typeof St!="string"&&!Mt.objectMode&&Object.getPrototypeOf(St)!==B.prototype&&(St=z(St)),Gt?Mt.endEmitted?vt.emit("error",new Error("stream.unshift() after end event")):He(vt,Mt,St,!0):Mt.ended?vt.emit("error",new Error("stream.push() after EOF")):(Mt.reading=!1,Mt.decoder&&!Bt?(St=Mt.decoder.write(St),Mt.objectMode||St.length!==0?He(vt,Mt,St,!1):Fe(vt,Mt)):He(vt,Mt,St,!1))):Gt||(Mt.reading=!1)}return at(Mt)}function He(vt,St,Bt,Gt){St.flowing&&St.length===0&&!St.sync?(vt.emit("data",Bt),vt.read(0)):(St.length+=St.objectMode?1:Bt.length,Gt?St.buffer.unshift(Bt):St.buffer.push(Bt),St.needReadable&&tt(vt)),Fe(vt,St)}function Ge(vt,St){var Bt;return!Q(St)&&typeof St!="string"&&St!==void 0&&!vt.objectMode&&(Bt=new TypeError("Invalid non-string/buffer chunk")),Bt}function at(vt){return!vt.ended&&(vt.needReadable||vt.length<vt.highWaterMark||vt.length===0)}Le.prototype.isPaused=function(){return this._readableState.flowing===!1},Le.prototype.setEncoding=function(vt){return Pe||(Pe=string_decoder.StringDecoder),this._readableState.decoder=new Pe(vt),this._readableState.encoding=vt,this};var ot=8388608;function Ye(vt){return vt>=ot?vt=ot:(vt--,vt|=vt>>>1,vt|=vt>>>2,vt|=vt>>>4,vt|=vt>>>8,vt|=vt>>>16,vt++),vt}function nt(vt,St){return vt<=0||St.length===0&&St.ended?0:St.objectMode?1:vt!==vt?St.flowing&&St.length?St.buffer.head.data.length:St.length:(vt>St.highWaterMark&&(St.highWaterMark=Ye(vt)),vt<=St.length?vt:St.ended?St.length:(St.needReadable=!0,0))}Le.prototype.read=function(vt){ie("read",vt),vt=parseInt(vt,10);var St=this._readableState,Bt=vt;if(vt!==0&&(St.emittedReadable=!1),vt===0&&St.needReadable&&(St.length>=St.highWaterMark||St.ended))return ie("read: emitReadable",St.length,St.ended),St.length===0&&St.ended?st(this):tt(this),null;if(vt=nt(vt,St),vt===0&&St.ended)return St.length===0&&st(this),null;var Gt=St.needReadable;ie("need readable",Gt),(St.length===0||St.length-vt<St.highWaterMark)&&(Gt=!0,ie("length less than watermark",Gt)),St.ended||St.reading?(Gt=!1,ie("reading or ended",Gt)):Gt&&(ie("do read"),St.reading=!0,St.sync=!0,St.length===0&&(St.needReadable=!0),this._read(St.highWaterMark),St.sync=!1,St.reading||(vt=nt(Bt,St)));var Dt;return vt>0?Dt=We(vt,St):Dt=null,Dt===null?(St.needReadable=!0,vt=0):St.length-=vt,St.length===0&&(St.ended||(St.needReadable=!0),Bt!==vt&&St.ended&&st(this)),Dt!==null&&this.emit("data",Dt),Dt};function Qe(vt,St){if(!St.ended){if(St.decoder){var Bt=St.decoder.end();Bt&&Bt.length&&(St.buffer.push(Bt),St.length+=St.objectMode?1:Bt.length)}St.ended=!0,tt(vt)}}function tt(vt){var St=vt._readableState;St.needReadable=!1,St.emittedReadable||(ie("emitReadable",St.flowing),St.emittedReadable=!0,St.sync?T.nextTick(ze,vt):ze(vt))}function ze(vt){ie("emit readable"),vt.emit("readable"),it(vt)}function Fe(vt,St){St.readingMore||(St.readingMore=!0,T.nextTick(ke,vt,St))}function ke(vt,St){for(var Bt=St.length;!St.reading&&!St.flowing&&!St.ended&&St.length<St.highWaterMark&&(ie("maybeReadMore read 0"),vt.read(0),Bt!==St.length);)Bt=St.length;St.readingMore=!1}Le.prototype._read=function(vt){this.emit("error",new Error("_read() is not implemented"))},Le.prototype.pipe=function(vt,St){var Bt=this,Gt=this._readableState;switch(Gt.pipesCount){case 0:Gt.pipes=vt;break;case 1:Gt.pipes=[Gt.pipes,vt];break;default:Gt.pipes.push(vt);break}Gt.pipesCount+=1,ie("pipe count=%d opts=%j",Gt.pipesCount,St);var Dt=(!St||St.end!==!1)&&vt!==process$1$1.stdout&&vt!==process$1$1.stderr,Mt=Dt?mt:cr;Gt.endEmitted?T.nextTick(Mt):Bt.once("end",Mt),vt.on("unpipe",pt);function pt(pr,lt){ie("onunpipe"),pr===Bt&&lt&&lt.hasUnpiped===!1&&(lt.hasUnpiped=!0,Ft())}function mt(){ie("onend"),vt.end()}var $t=Ue(Bt);vt.on("drain",$t);var kt=!1;function Ft(){ie("cleanup"),vt.removeListener("close",gr),vt.removeListener("finish",br),vt.removeListener("drain",$t),vt.removeListener("error",yr),vt.removeListener("unpipe",pt),Bt.removeListener("end",mt),Bt.removeListener("end",cr),Bt.removeListener("data",Yt),kt=!0,Gt.awaitDrain&&(!vt._writableState||vt._writableState.needDrain)&&$t()}var nr=!1;Bt.on("data",Yt);function Yt(pr){ie("ondata"),nr=!1;var lt=vt.write(pr);lt===!1&&!nr&&((Gt.pipesCount===1&&Gt.pipes===vt||Gt.pipesCount>1&&bt(Gt.pipes,vt)!==-1)&&!kt&&(ie("false write response, pause",Gt.awaitDrain),Gt.awaitDrain++,nr=!0),Bt.pause())}function yr(pr){ie("onerror",pr),cr(),vt.removeListener("error",yr),N(vt,"error")===0&&vt.emit("error",pr)}Be(vt,"error",yr);function gr(){vt.removeListener("finish",br),cr()}vt.once("close",gr);function br(){ie("onfinish"),vt.removeListener("close",gr),cr()}vt.once("finish",br);function cr(){ie("unpipe"),Bt.unpipe(vt)}return vt.emit("pipe",Bt),Gt.flowing||(ie("pipe resume"),Bt.resume()),vt};function Ue(vt){return function(){var St=vt._readableState;ie("pipeOnDrain",St.awaitDrain),St.awaitDrain&&St.awaitDrain--,St.awaitDrain===0&&N(vt,"data")&&(St.flowing=!0,it(vt))}}Le.prototype.unpipe=function(vt){var St=this._readableState,Bt={hasUnpiped:!1};if(St.pipesCount===0)return this;if(St.pipesCount===1)return vt&&vt!==St.pipes?this:(vt||(vt=St.pipes),St.pipes=null,St.pipesCount=0,St.flowing=!1,vt&&vt.emit("unpipe",this,Bt),this);if(!vt){var Gt=St.pipes,Dt=St.pipesCount;St.pipes=null,St.pipesCount=0,St.flowing=!1;for(var Mt=0;Mt<Dt;Mt++)Gt[Mt].emit("unpipe",this,{hasUnpiped:!1});return this}var pt=bt(St.pipes,vt);return pt===-1?this:(St.pipes.splice(pt,1),St.pipesCount-=1,St.pipesCount===1&&(St.pipes=St.pipes[0]),vt.emit("unpipe",this,Bt),this)},Le.prototype.on=function(vt,St){var Bt=L.prototype.on.call(this,vt,St);if(vt==="data")this._readableState.flowing!==!1&&this.resume();else if(vt==="readable"){var Gt=this._readableState;!Gt.endEmitted&&!Gt.readableListening&&(Gt.readableListening=Gt.needReadable=!0,Gt.emittedReadable=!1,Gt.reading?Gt.length&&tt(this):T.nextTick(Je,this))}return Bt},Le.prototype.addListener=Le.prototype.on;function Je(vt){ie("readable nexttick read 0"),vt.read(0)}Le.prototype.resume=function(){var vt=this._readableState;return vt.flowing||(ie("resume"),vt.flowing=!0,rt(this,vt)),this};function rt(vt,St){St.resumeScheduled||(St.resumeScheduled=!0,T.nextTick(Xe,vt,St))}function Xe(vt,St){St.reading||(ie("resume read 0"),vt.read(0)),St.resumeScheduled=!1,St.awaitDrain=0,vt.emit("resume"),it(vt),St.flowing&&!St.reading&&vt.read(0)}Le.prototype.pause=function(){return ie("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function it(vt){var St=vt._readableState;for(ie("flow",St.flowing);St.flowing&&vt.read()!==null;);}Le.prototype.wrap=function(vt){var St=this,Bt=this._readableState,Gt=!1;vt.on("end",function(){if(ie("wrapped end"),Bt.decoder&&!Bt.ended){var pt=Bt.decoder.end();pt&&pt.length&&St.push(pt)}St.push(null)}),vt.on("data",function(pt){if(ie("wrapped data"),Bt.decoder&&(pt=Bt.decoder.write(pt)),!(Bt.objectMode&&pt==null)&&!(!Bt.objectMode&&(!pt||!pt.length))){var mt=St.push(pt);mt||(Gt=!0,vt.pause())}});for(var Dt in vt)this[Dt]===void 0&&typeof vt[Dt]=="function"&&(this[Dt]=function(pt){return function(){return vt[pt].apply(vt,arguments)}}(Dt));for(var Mt=0;Mt<Me.length;Mt++)vt.on(Me[Mt],this.emit.bind(this,Me[Mt]));return this._read=function(pt){ie("wrapped _read",pt),Gt&&(Gt=!1,vt.resume())},this},Object.defineProperty(Le.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Le._fromList=We;function We(vt,St){if(St.length===0)return null;var Bt;return St.objectMode?Bt=St.buffer.shift():!vt||vt>=St.length?(St.decoder?Bt=St.buffer.join(""):St.buffer.length===1?Bt=St.buffer.head.data:Bt=St.buffer.concat(St.length),St.buffer.clear()):Bt=Ve(vt,St.buffer,St.decoder),Bt}function Ve(vt,St,Bt){var Gt;return vt<St.head.data.length?(Gt=St.head.data.slice(0,vt),St.head.data=St.head.data.slice(vt)):vt===St.head.data.length?Gt=St.shift():Gt=Bt?je(vt,St):Ze(vt,St),Gt}function je(vt,St){var Bt=St.head,Gt=1,Dt=Bt.data;for(vt-=Dt.length;Bt=Bt.next;){var Mt=Bt.data,pt=vt>Mt.length?Mt.length:vt;if(pt===Mt.length?Dt+=Mt:Dt+=Mt.slice(0,vt),vt-=pt,vt===0){pt===Mt.length?(++Gt,Bt.next?St.head=Bt.next:St.head=St.tail=null):(St.head=Bt,Bt.data=Mt.slice(pt));break}++Gt}return St.length-=Gt,Dt}function Ze(vt,St){var Bt=B.allocUnsafe(vt),Gt=St.head,Dt=1;for(Gt.data.copy(Bt),vt-=Gt.data.length;Gt=Gt.next;){var Mt=Gt.data,pt=vt>Mt.length?Mt.length:vt;if(Mt.copy(Bt,Bt.length-vt,0,pt),vt-=pt,vt===0){pt===Mt.length?(++Dt,Gt.next?St.head=Gt.next:St.head=St.tail=null):(St.head=Gt,Gt.data=Mt.slice(pt));break}++Dt}return St.length-=Dt,Bt}function st(vt){var St=vt._readableState;if(St.length>0)throw new Error('"endReadable()" called on non-empty stream');St.endEmitted||(St.ended=!0,T.nextTick(dt,St,vt))}function dt(vt,St){!vt.endEmitted&&vt.length===0&&(vt.endEmitted=!0,St.readable=!1,St.emit("end"))}function bt(vt,St){for(var Bt=0,Gt=vt.length;Bt<Gt;Bt++)if(vt[Bt]===St)return Bt;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=N;var T=require_stream_duplex(),$=Object.create(requireUtil());$.inherits=inherits_browser$1,$.inherits(N,T);function I(H,z){var Q=this._transformState;Q.transforming=!1;var te=Q.writecb;if(!te)return this.emit("error",new Error("write callback called multiple times"));Q.writechunk=null,Q.writecb=null,z!=null&&this.push(z),te(H);var G=this._readableState;G.reading=!1,(G.needReadable||G.length<G.highWaterMark)&&this._read(G.highWaterMark)}function N(H){if(!(this instanceof N))return new N(H);T.call(this,H),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,H&&(typeof H.transform=="function"&&(this._transform=H.transform),typeof H.flush=="function"&&(this._flush=H.flush)),this.on("prefinish",L)}function L(){var H=this;typeof this._flush=="function"?this._flush(function(z,Q){B(H,z,Q)}):B(this,null,null)}N.prototype.push=function(H,z){return this._transformState.needTransform=!1,T.prototype.push.call(this,H,z)},N.prototype._transform=function(H,z,Q){throw new Error("_transform() is not implemented")},N.prototype._write=function(H,z,Q){var te=this._transformState;if(te.writecb=Q,te.writechunk=H,te.writeencoding=z,!te.transforming){var G=this._readableState;(te.needTransform||G.needReadable||G.length<G.highWaterMark)&&this._read(G.highWaterMark)}},N.prototype._read=function(H){var z=this._transformState;z.writechunk!==null&&z.writecb&&!z.transforming?(z.transforming=!0,this._transform(z.writechunk,z.writeencoding,z.afterTransform)):z.needTransform=!0},N.prototype._destroy=function(H,z){var Q=this;T.prototype._destroy.call(this,H,function(te){z(te),Q.emit("close")})};function B(H,z,Q){if(z)return H.emit("error",z);if(Q!=null&&H.push(Q),H._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(H._transformState.transforming)throw new Error("Calling transform done when still transforming");return H.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=I;var T=require_stream_transform(),$=Object.create(requireUtil());$.inherits=inherits_browser$1,$.inherits(I,T);function I(N){if(!(this instanceof I))return new I(N);T.call(this,N)}return I.prototype._transform=function(N,L,B){B(null,N)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(T,$){$=T.exports=require_stream_readable(),$.Stream=$,$.Readable=$,$.Writable=require_stream_writable(),$.Duplex=require_stream_duplex(),$.Transform=require_stream_transform(),$.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$1={exports:{}},hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(T){(function($,I){function N(Fe,ke){if(!Fe)throw new Error(ke||"Assertion failed")}function L(Fe,ke){Fe.super_=ke;var Ue=function(){};Ue.prototype=ke.prototype,Fe.prototype=new Ue,Fe.prototype.constructor=Fe}function B(Fe,ke,Ue){if(B.isBN(Fe))return Fe;this.negative=0,this.words=null,this.length=0,this.red=null,Fe!==null&&((ke==="le"||ke==="be")&&(Ue=ke,ke=10),this._init(Fe||0,ke||10,Ue||"be"))}typeof $=="object"?$.exports=B:I.BN=B,B.BN=B,B.wordSize=26;var H;try{typeof window<"u"&&typeof window.Buffer<"u"?H=window.Buffer:H=dist$5.Buffer}catch{}B.isBN=function(ke){return ke instanceof B?!0:ke!==null&&typeof ke=="object"&&ke.constructor.wordSize===B.wordSize&&Array.isArray(ke.words)},B.max=function(ke,Ue){return ke.cmp(Ue)>0?ke:Ue},B.min=function(ke,Ue){return ke.cmp(Ue)<0?ke:Ue},B.prototype._init=function(ke,Ue,Je){if(typeof ke=="number")return this._initNumber(ke,Ue,Je);if(typeof ke=="object")return this._initArray(ke,Ue,Je);Ue==="hex"&&(Ue=16),N(Ue===(Ue|0)&&Ue>=2&&Ue<=36),ke=ke.toString().replace(/\s+/g,"");var rt=0;ke[0]==="-"&&(rt++,this.negative=1),rt<ke.length&&(Ue===16?this._parseHex(ke,rt,Je):(this._parseBase(ke,Ue,rt),Je==="le"&&this._initArray(this.toArray(),Ue,Je)))},B.prototype._initNumber=function(ke,Ue,Je){ke<0&&(this.negative=1,ke=-ke),ke<67108864?(this.words=[ke&67108863],this.length=1):ke<4503599627370496?(this.words=[ke&67108863,ke/67108864&67108863],this.length=2):(N(ke<9007199254740992),this.words=[ke&67108863,ke/67108864&67108863,1],this.length=3),Je==="le"&&this._initArray(this.toArray(),Ue,Je)},B.prototype._initArray=function(ke,Ue,Je){if(N(typeof ke.length=="number"),ke.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ke.length/3),this.words=new Array(this.length);for(var rt=0;rt<this.length;rt++)this.words[rt]=0;var Xe,it,We=0;if(Je==="be")for(rt=ke.length-1,Xe=0;rt>=0;rt-=3)it=ke[rt]|ke[rt-1]<<8|ke[rt-2]<<16,this.words[Xe]|=it<<We&67108863,this.words[Xe+1]=it>>>26-We&67108863,We+=24,We>=26&&(We-=26,Xe++);else if(Je==="le")for(rt=0,Xe=0;rt<ke.length;rt+=3)it=ke[rt]|ke[rt+1]<<8|ke[rt+2]<<16,this.words[Xe]|=it<<We&67108863,this.words[Xe+1]=it>>>26-We&67108863,We+=24,We>=26&&(We-=26,Xe++);return this._strip()};function z(Fe,ke){var Ue=Fe.charCodeAt(ke);if(Ue>=48&&Ue<=57)return Ue-48;if(Ue>=65&&Ue<=70)return Ue-55;if(Ue>=97&&Ue<=102)return Ue-87;N(!1,"Invalid character in "+Fe)}function Q(Fe,ke,Ue){var Je=z(Fe,Ue);return Ue-1>=ke&&(Je|=z(Fe,Ue-1)<<4),Je}B.prototype._parseHex=function(ke,Ue,Je){this.length=Math.ceil((ke.length-Ue)/6),this.words=new Array(this.length);for(var rt=0;rt<this.length;rt++)this.words[rt]=0;var Xe=0,it=0,We;if(Je==="be")for(rt=ke.length-1;rt>=Ue;rt-=2)We=Q(ke,Ue,rt)<<Xe,this.words[it]|=We&67108863,Xe>=18?(Xe-=18,it+=1,this.words[it]|=We>>>26):Xe+=8;else{var Ve=ke.length-Ue;for(rt=Ve%2===0?Ue+1:Ue;rt<ke.length;rt+=2)We=Q(ke,Ue,rt)<<Xe,this.words[it]|=We&67108863,Xe>=18?(Xe-=18,it+=1,this.words[it]|=We>>>26):Xe+=8}this._strip()};function te(Fe,ke,Ue,Je){for(var rt=0,Xe=0,it=Math.min(Fe.length,Ue),We=ke;We<it;We++){var Ve=Fe.charCodeAt(We)-48;rt*=Je,Ve>=49?Xe=Ve-49+10:Ve>=17?Xe=Ve-17+10:Xe=Ve,N(Ve>=0&&Xe<Je,"Invalid character"),rt+=Xe}return rt}B.prototype._parseBase=function(ke,Ue,Je){this.words=[0],this.length=1;for(var rt=0,Xe=1;Xe<=67108863;Xe*=Ue)rt++;rt--,Xe=Xe/Ue|0;for(var it=ke.length-Je,We=it%rt,Ve=Math.min(it,it-We)+Je,je=0,Ze=Je;Ze<Ve;Ze+=rt)je=te(ke,Ze,Ze+rt,Ue),this.imuln(Xe),this.words[0]+je<67108864?this.words[0]+=je:this._iaddn(je);if(We!==0){var st=1;for(je=te(ke,Ze,ke.length,Ue),Ze=0;Ze<We;Ze++)st*=Ue;this.imuln(st),this.words[0]+je<67108864?this.words[0]+=je:this._iaddn(je)}this._strip()},B.prototype.copy=function(ke){ke.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)ke.words[Ue]=this.words[Ue];ke.length=this.length,ke.negative=this.negative,ke.red=this.red};function G(Fe,ke){Fe.words=ke.words,Fe.length=ke.length,Fe.negative=ke.negative,Fe.red=ke.red}if(B.prototype._move=function(ke){G(ke,this)},B.prototype.clone=function(){var ke=new B(null);return this.copy(ke),ke},B.prototype._expand=function(ke){for(;this.length<ke;)this.words[this.length++]=0;return this},B.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},B.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{B.prototype[Symbol.for("nodejs.util.inspect.custom")]=ie}catch{B.prototype.inspect=ie}else B.prototype.inspect=ie;function ie(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Re=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$e=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Pe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];B.prototype.toString=function(ke,Ue){ke=ke||10,Ue=Ue|0||1;var Je;if(ke===16||ke==="hex"){Je="";for(var rt=0,Xe=0,it=0;it<this.length;it++){var We=this.words[it],Ve=((We<<rt|Xe)&16777215).toString(16);Xe=We>>>24-rt&16777215,rt+=2,rt>=26&&(rt-=26,it--),Xe!==0||it!==this.length-1?Je=Re[6-Ve.length]+Ve+Je:Je=Ve+Je}for(Xe!==0&&(Je=Xe.toString(16)+Je);Je.length%Ue!==0;)Je="0"+Je;return this.negative!==0&&(Je="-"+Je),Je}if(ke===(ke|0)&&ke>=2&&ke<=36){var je=$e[ke],Ze=Pe[ke];Je="";var st=this.clone();for(st.negative=0;!st.isZero();){var dt=st.modrn(Ze).toString(ke);st=st.idivn(Ze),st.isZero()?Je=dt+Je:Je=Re[je-dt.length]+dt+Je}for(this.isZero()&&(Je="0"+Je);Je.length%Ue!==0;)Je="0"+Je;return this.negative!==0&&(Je="-"+Je),Je}N(!1,"Base should be between 2 and 36")},B.prototype.toNumber=function(){var ke=this.words[0];return this.length===2?ke+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ke+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ke:ke},B.prototype.toJSON=function(){return this.toString(16,2)},H&&(B.prototype.toBuffer=function(ke,Ue){return this.toArrayLike(H,ke,Ue)}),B.prototype.toArray=function(ke,Ue){return this.toArrayLike(Array,ke,Ue)};var Me=function(ke,Ue){return ke.allocUnsafe?ke.allocUnsafe(Ue):new ke(Ue)};B.prototype.toArrayLike=function(ke,Ue,Je){this._strip();var rt=this.byteLength(),Xe=Je||Math.max(1,rt);N(rt<=Xe,"byte array longer than desired length"),N(Xe>0,"Requested array length <= 0");var it=Me(ke,Xe),We=Ue==="le"?"LE":"BE";return this["_toArrayLike"+We](it,rt),it},B.prototype._toArrayLikeLE=function(ke,Ue){for(var Je=0,rt=0,Xe=0,it=0;Xe<this.length;Xe++){var We=this.words[Xe]<<it|rt;ke[Je++]=We&255,Je<ke.length&&(ke[Je++]=We>>8&255),Je<ke.length&&(ke[Je++]=We>>16&255),it===6?(Je<ke.length&&(ke[Je++]=We>>24&255),rt=0,it=0):(rt=We>>>24,it+=2)}if(Je<ke.length)for(ke[Je++]=rt;Je<ke.length;)ke[Je++]=0},B.prototype._toArrayLikeBE=function(ke,Ue){for(var Je=ke.length-1,rt=0,Xe=0,it=0;Xe<this.length;Xe++){var We=this.words[Xe]<<it|rt;ke[Je--]=We&255,Je>=0&&(ke[Je--]=We>>8&255),Je>=0&&(ke[Je--]=We>>16&255),it===6?(Je>=0&&(ke[Je--]=We>>24&255),rt=0,it=0):(rt=We>>>24,it+=2)}if(Je>=0)for(ke[Je--]=rt;Je>=0;)ke[Je--]=0},Math.clz32?B.prototype._countBits=function(ke){return 32-Math.clz32(ke)}:B.prototype._countBits=function(ke){var Ue=ke,Je=0;return Ue>=4096&&(Je+=13,Ue>>>=13),Ue>=64&&(Je+=7,Ue>>>=7),Ue>=8&&(Je+=4,Ue>>>=4),Ue>=2&&(Je+=2,Ue>>>=2),Je+Ue},B.prototype._zeroBits=function(ke){if(ke===0)return 26;var Ue=ke,Je=0;return(Ue&8191)===0&&(Je+=13,Ue>>>=13),(Ue&127)===0&&(Je+=7,Ue>>>=7),(Ue&15)===0&&(Je+=4,Ue>>>=4),(Ue&3)===0&&(Je+=2,Ue>>>=2),(Ue&1)===0&&Je++,Je},B.prototype.bitLength=function(){var ke=this.words[this.length-1],Ue=this._countBits(ke);return(this.length-1)*26+Ue};function Be(Fe){for(var ke=new Array(Fe.bitLength()),Ue=0;Ue<ke.length;Ue++){var Je=Ue/26|0,rt=Ue%26;ke[Ue]=Fe.words[Je]>>>rt&1}return ke}B.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ke=0,Ue=0;Ue<this.length;Ue++){var Je=this._zeroBits(this.words[Ue]);if(ke+=Je,Je!==26)break}return ke},B.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},B.prototype.toTwos=function(ke){return this.negative!==0?this.abs().inotn(ke).iaddn(1):this.clone()},B.prototype.fromTwos=function(ke){return this.testn(ke-1)?this.notn(ke).iaddn(1).ineg():this.clone()},B.prototype.isNeg=function(){return this.negative!==0},B.prototype.neg=function(){return this.clone().ineg()},B.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},B.prototype.iuor=function(ke){for(;this.length<ke.length;)this.words[this.length++]=0;for(var Ue=0;Ue<ke.length;Ue++)this.words[Ue]=this.words[Ue]|ke.words[Ue];return this._strip()},B.prototype.ior=function(ke){return N((this.negative|ke.negative)===0),this.iuor(ke)},B.prototype.or=function(ke){return this.length>ke.length?this.clone().ior(ke):ke.clone().ior(this)},B.prototype.uor=function(ke){return this.length>ke.length?this.clone().iuor(ke):ke.clone().iuor(this)},B.prototype.iuand=function(ke){var Ue;this.length>ke.length?Ue=ke:Ue=this;for(var Je=0;Je<Ue.length;Je++)this.words[Je]=this.words[Je]&ke.words[Je];return this.length=Ue.length,this._strip()},B.prototype.iand=function(ke){return N((this.negative|ke.negative)===0),this.iuand(ke)},B.prototype.and=function(ke){return this.length>ke.length?this.clone().iand(ke):ke.clone().iand(this)},B.prototype.uand=function(ke){return this.length>ke.length?this.clone().iuand(ke):ke.clone().iuand(this)},B.prototype.iuxor=function(ke){var Ue,Je;this.length>ke.length?(Ue=this,Je=ke):(Ue=ke,Je=this);for(var rt=0;rt<Je.length;rt++)this.words[rt]=Ue.words[rt]^Je.words[rt];if(this!==Ue)for(;rt<Ue.length;rt++)this.words[rt]=Ue.words[rt];return this.length=Ue.length,this._strip()},B.prototype.ixor=function(ke){return N((this.negative|ke.negative)===0),this.iuxor(ke)},B.prototype.xor=function(ke){return this.length>ke.length?this.clone().ixor(ke):ke.clone().ixor(this)},B.prototype.uxor=function(ke){return this.length>ke.length?this.clone().iuxor(ke):ke.clone().iuxor(this)},B.prototype.inotn=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=Math.ceil(ke/26)|0,Je=ke%26;this._expand(Ue),Je>0&&Ue--;for(var rt=0;rt<Ue;rt++)this.words[rt]=~this.words[rt]&67108863;return Je>0&&(this.words[rt]=~this.words[rt]&67108863>>26-Je),this._strip()},B.prototype.notn=function(ke){return this.clone().inotn(ke)},B.prototype.setn=function(ke,Ue){N(typeof ke=="number"&&ke>=0);var Je=ke/26|0,rt=ke%26;return this._expand(Je+1),Ue?this.words[Je]=this.words[Je]|1<<rt:this.words[Je]=this.words[Je]&~(1<<rt),this._strip()},B.prototype.iadd=function(ke){var Ue;if(this.negative!==0&&ke.negative===0)return this.negative=0,Ue=this.isub(ke),this.negative^=1,this._normSign();if(this.negative===0&&ke.negative!==0)return ke.negative=0,Ue=this.isub(ke),ke.negative=1,Ue._normSign();var Je,rt;this.length>ke.length?(Je=this,rt=ke):(Je=ke,rt=this);for(var Xe=0,it=0;it<rt.length;it++)Ue=(Je.words[it]|0)+(rt.words[it]|0)+Xe,this.words[it]=Ue&67108863,Xe=Ue>>>26;for(;Xe!==0&&it<Je.length;it++)Ue=(Je.words[it]|0)+Xe,this.words[it]=Ue&67108863,Xe=Ue>>>26;if(this.length=Je.length,Xe!==0)this.words[this.length]=Xe,this.length++;else if(Je!==this)for(;it<Je.length;it++)this.words[it]=Je.words[it];return this},B.prototype.add=function(ke){var Ue;return ke.negative!==0&&this.negative===0?(ke.negative=0,Ue=this.sub(ke),ke.negative^=1,Ue):ke.negative===0&&this.negative!==0?(this.negative=0,Ue=ke.sub(this),this.negative=1,Ue):this.length>ke.length?this.clone().iadd(ke):ke.clone().iadd(this)},B.prototype.isub=function(ke){if(ke.negative!==0){ke.negative=0;var Ue=this.iadd(ke);return ke.negative=1,Ue._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ke),this.negative=1,this._normSign();var Je=this.cmp(ke);if(Je===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rt,Xe;Je>0?(rt=this,Xe=ke):(rt=ke,Xe=this);for(var it=0,We=0;We<Xe.length;We++)Ue=(rt.words[We]|0)-(Xe.words[We]|0)+it,it=Ue>>26,this.words[We]=Ue&67108863;for(;it!==0&&We<rt.length;We++)Ue=(rt.words[We]|0)+it,it=Ue>>26,this.words[We]=Ue&67108863;if(it===0&&We<rt.length&&rt!==this)for(;We<rt.length;We++)this.words[We]=rt.words[We];return this.length=Math.max(this.length,We),rt!==this&&(this.negative=1),this._strip()},B.prototype.sub=function(ke){return this.clone().isub(ke)};function Ke(Fe,ke,Ue){Ue.negative=ke.negative^Fe.negative;var Je=Fe.length+ke.length|0;Ue.length=Je,Je=Je-1|0;var rt=Fe.words[0]|0,Xe=ke.words[0]|0,it=rt*Xe,We=it&67108863,Ve=it/67108864|0;Ue.words[0]=We;for(var je=1;je<Je;je++){for(var Ze=Ve>>>26,st=Ve&67108863,dt=Math.min(je,ke.length-1),bt=Math.max(0,je-Fe.length+1);bt<=dt;bt++){var vt=je-bt|0;rt=Fe.words[vt]|0,Xe=ke.words[bt]|0,it=rt*Xe+st,Ze+=it/67108864|0,st=it&67108863}Ue.words[je]=st|0,Ve=Ze|0}return Ve!==0?Ue.words[je]=Ve|0:Ue.length--,Ue._strip()}var Le=function(ke,Ue,Je){var rt=ke.words,Xe=Ue.words,it=Je.words,We=0,Ve,je,Ze,st=rt[0]|0,dt=st&8191,bt=st>>>13,vt=rt[1]|0,St=vt&8191,Bt=vt>>>13,Gt=rt[2]|0,Dt=Gt&8191,Mt=Gt>>>13,pt=rt[3]|0,mt=pt&8191,$t=pt>>>13,kt=rt[4]|0,Ft=kt&8191,nr=kt>>>13,Yt=rt[5]|0,yr=Yt&8191,gr=Yt>>>13,br=rt[6]|0,cr=br&8191,pr=br>>>13,lt=rt[7]|0,ct=lt&8191,Nt=lt>>>13,jt=rt[8]|0,zt=jt&8191,Ot=jt>>>13,Rt=rt[9]|0,It=Rt&8191,Kt=Rt>>>13,tr=Xe[0]|0,dr=tr&8191,_r=tr>>>13,Nr=Xe[1]|0,qr=Nr&8191,Br=Nr>>>13,Qr=Xe[2]|0,Wr=Qr&8191,Kr=Qr>>>13,Yr=Xe[3]|0,Pt=Yr&8191,Wt=Yr>>>13,qt=Xe[4]|0,Tt=qt&8191,gt=qt>>>13,Et=Xe[5]|0,wt=Et&8191,Lt=Et>>>13,Zt=Xe[6]|0,lr=Zt&8191,Ht=Zt>>>13,Xt=Xe[7]|0,ir=Xt&8191,ur=Xt>>>13,$r=Xe[8]|0,xr=$r&8191,Lr=$r>>>13,on=Xe[9]|0,rn=on&8191,tn=on>>>13;Je.negative=ke.negative^Ue.negative,Je.length=19,Ve=Math.imul(dt,dr),je=Math.imul(dt,_r),je=je+Math.imul(bt,dr)|0,Ze=Math.imul(bt,_r);var pn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(pn>>>26)|0,pn&=67108863,Ve=Math.imul(St,dr),je=Math.imul(St,_r),je=je+Math.imul(Bt,dr)|0,Ze=Math.imul(Bt,_r),Ve=Ve+Math.imul(dt,qr)|0,je=je+Math.imul(dt,Br)|0,je=je+Math.imul(bt,qr)|0,Ze=Ze+Math.imul(bt,Br)|0;var yn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(yn>>>26)|0,yn&=67108863,Ve=Math.imul(Dt,dr),je=Math.imul(Dt,_r),je=je+Math.imul(Mt,dr)|0,Ze=Math.imul(Mt,_r),Ve=Ve+Math.imul(St,qr)|0,je=je+Math.imul(St,Br)|0,je=je+Math.imul(Bt,qr)|0,Ze=Ze+Math.imul(Bt,Br)|0,Ve=Ve+Math.imul(dt,Wr)|0,je=je+Math.imul(dt,Kr)|0,je=je+Math.imul(bt,Wr)|0,Ze=Ze+Math.imul(bt,Kr)|0;var ln=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(ln>>>26)|0,ln&=67108863,Ve=Math.imul(mt,dr),je=Math.imul(mt,_r),je=je+Math.imul($t,dr)|0,Ze=Math.imul($t,_r),Ve=Ve+Math.imul(Dt,qr)|0,je=je+Math.imul(Dt,Br)|0,je=je+Math.imul(Mt,qr)|0,Ze=Ze+Math.imul(Mt,Br)|0,Ve=Ve+Math.imul(St,Wr)|0,je=je+Math.imul(St,Kr)|0,je=je+Math.imul(Bt,Wr)|0,Ze=Ze+Math.imul(Bt,Kr)|0,Ve=Ve+Math.imul(dt,Pt)|0,je=je+Math.imul(dt,Wt)|0,je=je+Math.imul(bt,Pt)|0,Ze=Ze+Math.imul(bt,Wt)|0;var er=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(er>>>26)|0,er&=67108863,Ve=Math.imul(Ft,dr),je=Math.imul(Ft,_r),je=je+Math.imul(nr,dr)|0,Ze=Math.imul(nr,_r),Ve=Ve+Math.imul(mt,qr)|0,je=je+Math.imul(mt,Br)|0,je=je+Math.imul($t,qr)|0,Ze=Ze+Math.imul($t,Br)|0,Ve=Ve+Math.imul(Dt,Wr)|0,je=je+Math.imul(Dt,Kr)|0,je=je+Math.imul(Mt,Wr)|0,Ze=Ze+Math.imul(Mt,Kr)|0,Ve=Ve+Math.imul(St,Pt)|0,je=je+Math.imul(St,Wt)|0,je=je+Math.imul(Bt,Pt)|0,Ze=Ze+Math.imul(Bt,Wt)|0,Ve=Ve+Math.imul(dt,Tt)|0,je=je+Math.imul(dt,gt)|0,je=je+Math.imul(bt,Tt)|0,Ze=Ze+Math.imul(bt,gt)|0;var Rr=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Ve=Math.imul(yr,dr),je=Math.imul(yr,_r),je=je+Math.imul(gr,dr)|0,Ze=Math.imul(gr,_r),Ve=Ve+Math.imul(Ft,qr)|0,je=je+Math.imul(Ft,Br)|0,je=je+Math.imul(nr,qr)|0,Ze=Ze+Math.imul(nr,Br)|0,Ve=Ve+Math.imul(mt,Wr)|0,je=je+Math.imul(mt,Kr)|0,je=je+Math.imul($t,Wr)|0,Ze=Ze+Math.imul($t,Kr)|0,Ve=Ve+Math.imul(Dt,Pt)|0,je=je+Math.imul(Dt,Wt)|0,je=je+Math.imul(Mt,Pt)|0,Ze=Ze+Math.imul(Mt,Wt)|0,Ve=Ve+Math.imul(St,Tt)|0,je=je+Math.imul(St,gt)|0,je=je+Math.imul(Bt,Tt)|0,Ze=Ze+Math.imul(Bt,gt)|0,Ve=Ve+Math.imul(dt,wt)|0,je=je+Math.imul(dt,Lt)|0,je=je+Math.imul(bt,wt)|0,Ze=Ze+Math.imul(bt,Lt)|0;var Or=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Or>>>26)|0,Or&=67108863,Ve=Math.imul(cr,dr),je=Math.imul(cr,_r),je=je+Math.imul(pr,dr)|0,Ze=Math.imul(pr,_r),Ve=Ve+Math.imul(yr,qr)|0,je=je+Math.imul(yr,Br)|0,je=je+Math.imul(gr,qr)|0,Ze=Ze+Math.imul(gr,Br)|0,Ve=Ve+Math.imul(Ft,Wr)|0,je=je+Math.imul(Ft,Kr)|0,je=je+Math.imul(nr,Wr)|0,Ze=Ze+Math.imul(nr,Kr)|0,Ve=Ve+Math.imul(mt,Pt)|0,je=je+Math.imul(mt,Wt)|0,je=je+Math.imul($t,Pt)|0,Ze=Ze+Math.imul($t,Wt)|0,Ve=Ve+Math.imul(Dt,Tt)|0,je=je+Math.imul(Dt,gt)|0,je=je+Math.imul(Mt,Tt)|0,Ze=Ze+Math.imul(Mt,gt)|0,Ve=Ve+Math.imul(St,wt)|0,je=je+Math.imul(St,Lt)|0,je=je+Math.imul(Bt,wt)|0,Ze=Ze+Math.imul(Bt,Lt)|0,Ve=Ve+Math.imul(dt,lr)|0,je=je+Math.imul(dt,Ht)|0,je=je+Math.imul(bt,lr)|0,Ze=Ze+Math.imul(bt,Ht)|0;var Fr=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,Ve=Math.imul(ct,dr),je=Math.imul(ct,_r),je=je+Math.imul(Nt,dr)|0,Ze=Math.imul(Nt,_r),Ve=Ve+Math.imul(cr,qr)|0,je=je+Math.imul(cr,Br)|0,je=je+Math.imul(pr,qr)|0,Ze=Ze+Math.imul(pr,Br)|0,Ve=Ve+Math.imul(yr,Wr)|0,je=je+Math.imul(yr,Kr)|0,je=je+Math.imul(gr,Wr)|0,Ze=Ze+Math.imul(gr,Kr)|0,Ve=Ve+Math.imul(Ft,Pt)|0,je=je+Math.imul(Ft,Wt)|0,je=je+Math.imul(nr,Pt)|0,Ze=Ze+Math.imul(nr,Wt)|0,Ve=Ve+Math.imul(mt,Tt)|0,je=je+Math.imul(mt,gt)|0,je=je+Math.imul($t,Tt)|0,Ze=Ze+Math.imul($t,gt)|0,Ve=Ve+Math.imul(Dt,wt)|0,je=je+Math.imul(Dt,Lt)|0,je=je+Math.imul(Mt,wt)|0,Ze=Ze+Math.imul(Mt,Lt)|0,Ve=Ve+Math.imul(St,lr)|0,je=je+Math.imul(St,Ht)|0,je=je+Math.imul(Bt,lr)|0,Ze=Ze+Math.imul(Bt,Ht)|0,Ve=Ve+Math.imul(dt,ir)|0,je=je+Math.imul(dt,ur)|0,je=je+Math.imul(bt,ir)|0,Ze=Ze+Math.imul(bt,ur)|0;var Hr=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,Ve=Math.imul(zt,dr),je=Math.imul(zt,_r),je=je+Math.imul(Ot,dr)|0,Ze=Math.imul(Ot,_r),Ve=Ve+Math.imul(ct,qr)|0,je=je+Math.imul(ct,Br)|0,je=je+Math.imul(Nt,qr)|0,Ze=Ze+Math.imul(Nt,Br)|0,Ve=Ve+Math.imul(cr,Wr)|0,je=je+Math.imul(cr,Kr)|0,je=je+Math.imul(pr,Wr)|0,Ze=Ze+Math.imul(pr,Kr)|0,Ve=Ve+Math.imul(yr,Pt)|0,je=je+Math.imul(yr,Wt)|0,je=je+Math.imul(gr,Pt)|0,Ze=Ze+Math.imul(gr,Wt)|0,Ve=Ve+Math.imul(Ft,Tt)|0,je=je+Math.imul(Ft,gt)|0,je=je+Math.imul(nr,Tt)|0,Ze=Ze+Math.imul(nr,gt)|0,Ve=Ve+Math.imul(mt,wt)|0,je=je+Math.imul(mt,Lt)|0,je=je+Math.imul($t,wt)|0,Ze=Ze+Math.imul($t,Lt)|0,Ve=Ve+Math.imul(Dt,lr)|0,je=je+Math.imul(Dt,Ht)|0,je=je+Math.imul(Mt,lr)|0,Ze=Ze+Math.imul(Mt,Ht)|0,Ve=Ve+Math.imul(St,ir)|0,je=je+Math.imul(St,ur)|0,je=je+Math.imul(Bt,ir)|0,Ze=Ze+Math.imul(Bt,ur)|0,Ve=Ve+Math.imul(dt,xr)|0,je=je+Math.imul(dt,Lr)|0,je=je+Math.imul(bt,xr)|0,Ze=Ze+Math.imul(bt,Lr)|0;var an=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(an>>>26)|0,an&=67108863,Ve=Math.imul(It,dr),je=Math.imul(It,_r),je=je+Math.imul(Kt,dr)|0,Ze=Math.imul(Kt,_r),Ve=Ve+Math.imul(zt,qr)|0,je=je+Math.imul(zt,Br)|0,je=je+Math.imul(Ot,qr)|0,Ze=Ze+Math.imul(Ot,Br)|0,Ve=Ve+Math.imul(ct,Wr)|0,je=je+Math.imul(ct,Kr)|0,je=je+Math.imul(Nt,Wr)|0,Ze=Ze+Math.imul(Nt,Kr)|0,Ve=Ve+Math.imul(cr,Pt)|0,je=je+Math.imul(cr,Wt)|0,je=je+Math.imul(pr,Pt)|0,Ze=Ze+Math.imul(pr,Wt)|0,Ve=Ve+Math.imul(yr,Tt)|0,je=je+Math.imul(yr,gt)|0,je=je+Math.imul(gr,Tt)|0,Ze=Ze+Math.imul(gr,gt)|0,Ve=Ve+Math.imul(Ft,wt)|0,je=je+Math.imul(Ft,Lt)|0,je=je+Math.imul(nr,wt)|0,Ze=Ze+Math.imul(nr,Lt)|0,Ve=Ve+Math.imul(mt,lr)|0,je=je+Math.imul(mt,Ht)|0,je=je+Math.imul($t,lr)|0,Ze=Ze+Math.imul($t,Ht)|0,Ve=Ve+Math.imul(Dt,ir)|0,je=je+Math.imul(Dt,ur)|0,je=je+Math.imul(Mt,ir)|0,Ze=Ze+Math.imul(Mt,ur)|0,Ve=Ve+Math.imul(St,xr)|0,je=je+Math.imul(St,Lr)|0,je=je+Math.imul(Bt,xr)|0,Ze=Ze+Math.imul(Bt,Lr)|0,Ve=Ve+Math.imul(dt,rn)|0,je=je+Math.imul(dt,tn)|0,je=je+Math.imul(bt,rn)|0,Ze=Ze+Math.imul(bt,tn)|0;var cn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(cn>>>26)|0,cn&=67108863,Ve=Math.imul(It,qr),je=Math.imul(It,Br),je=je+Math.imul(Kt,qr)|0,Ze=Math.imul(Kt,Br),Ve=Ve+Math.imul(zt,Wr)|0,je=je+Math.imul(zt,Kr)|0,je=je+Math.imul(Ot,Wr)|0,Ze=Ze+Math.imul(Ot,Kr)|0,Ve=Ve+Math.imul(ct,Pt)|0,je=je+Math.imul(ct,Wt)|0,je=je+Math.imul(Nt,Pt)|0,Ze=Ze+Math.imul(Nt,Wt)|0,Ve=Ve+Math.imul(cr,Tt)|0,je=je+Math.imul(cr,gt)|0,je=je+Math.imul(pr,Tt)|0,Ze=Ze+Math.imul(pr,gt)|0,Ve=Ve+Math.imul(yr,wt)|0,je=je+Math.imul(yr,Lt)|0,je=je+Math.imul(gr,wt)|0,Ze=Ze+Math.imul(gr,Lt)|0,Ve=Ve+Math.imul(Ft,lr)|0,je=je+Math.imul(Ft,Ht)|0,je=je+Math.imul(nr,lr)|0,Ze=Ze+Math.imul(nr,Ht)|0,Ve=Ve+Math.imul(mt,ir)|0,je=je+Math.imul(mt,ur)|0,je=je+Math.imul($t,ir)|0,Ze=Ze+Math.imul($t,ur)|0,Ve=Ve+Math.imul(Dt,xr)|0,je=je+Math.imul(Dt,Lr)|0,je=je+Math.imul(Mt,xr)|0,Ze=Ze+Math.imul(Mt,Lr)|0,Ve=Ve+Math.imul(St,rn)|0,je=je+Math.imul(St,tn)|0,je=je+Math.imul(Bt,rn)|0,Ze=Ze+Math.imul(Bt,tn)|0;var Rn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,Ve=Math.imul(It,Wr),je=Math.imul(It,Kr),je=je+Math.imul(Kt,Wr)|0,Ze=Math.imul(Kt,Kr),Ve=Ve+Math.imul(zt,Pt)|0,je=je+Math.imul(zt,Wt)|0,je=je+Math.imul(Ot,Pt)|0,Ze=Ze+Math.imul(Ot,Wt)|0,Ve=Ve+Math.imul(ct,Tt)|0,je=je+Math.imul(ct,gt)|0,je=je+Math.imul(Nt,Tt)|0,Ze=Ze+Math.imul(Nt,gt)|0,Ve=Ve+Math.imul(cr,wt)|0,je=je+Math.imul(cr,Lt)|0,je=je+Math.imul(pr,wt)|0,Ze=Ze+Math.imul(pr,Lt)|0,Ve=Ve+Math.imul(yr,lr)|0,je=je+Math.imul(yr,Ht)|0,je=je+Math.imul(gr,lr)|0,Ze=Ze+Math.imul(gr,Ht)|0,Ve=Ve+Math.imul(Ft,ir)|0,je=je+Math.imul(Ft,ur)|0,je=je+Math.imul(nr,ir)|0,Ze=Ze+Math.imul(nr,ur)|0,Ve=Ve+Math.imul(mt,xr)|0,je=je+Math.imul(mt,Lr)|0,je=je+Math.imul($t,xr)|0,Ze=Ze+Math.imul($t,Lr)|0,Ve=Ve+Math.imul(Dt,rn)|0,je=je+Math.imul(Dt,tn)|0,je=je+Math.imul(Mt,rn)|0,Ze=Ze+Math.imul(Mt,tn)|0;var gn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(gn>>>26)|0,gn&=67108863,Ve=Math.imul(It,Pt),je=Math.imul(It,Wt),je=je+Math.imul(Kt,Pt)|0,Ze=Math.imul(Kt,Wt),Ve=Ve+Math.imul(zt,Tt)|0,je=je+Math.imul(zt,gt)|0,je=je+Math.imul(Ot,Tt)|0,Ze=Ze+Math.imul(Ot,gt)|0,Ve=Ve+Math.imul(ct,wt)|0,je=je+Math.imul(ct,Lt)|0,je=je+Math.imul(Nt,wt)|0,Ze=Ze+Math.imul(Nt,Lt)|0,Ve=Ve+Math.imul(cr,lr)|0,je=je+Math.imul(cr,Ht)|0,je=je+Math.imul(pr,lr)|0,Ze=Ze+Math.imul(pr,Ht)|0,Ve=Ve+Math.imul(yr,ir)|0,je=je+Math.imul(yr,ur)|0,je=je+Math.imul(gr,ir)|0,Ze=Ze+Math.imul(gr,ur)|0,Ve=Ve+Math.imul(Ft,xr)|0,je=je+Math.imul(Ft,Lr)|0,je=je+Math.imul(nr,xr)|0,Ze=Ze+Math.imul(nr,Lr)|0,Ve=Ve+Math.imul(mt,rn)|0,je=je+Math.imul(mt,tn)|0,je=je+Math.imul($t,rn)|0,Ze=Ze+Math.imul($t,tn)|0;var vn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(vn>>>26)|0,vn&=67108863,Ve=Math.imul(It,Tt),je=Math.imul(It,gt),je=je+Math.imul(Kt,Tt)|0,Ze=Math.imul(Kt,gt),Ve=Ve+Math.imul(zt,wt)|0,je=je+Math.imul(zt,Lt)|0,je=je+Math.imul(Ot,wt)|0,Ze=Ze+Math.imul(Ot,Lt)|0,Ve=Ve+Math.imul(ct,lr)|0,je=je+Math.imul(ct,Ht)|0,je=je+Math.imul(Nt,lr)|0,Ze=Ze+Math.imul(Nt,Ht)|0,Ve=Ve+Math.imul(cr,ir)|0,je=je+Math.imul(cr,ur)|0,je=je+Math.imul(pr,ir)|0,Ze=Ze+Math.imul(pr,ur)|0,Ve=Ve+Math.imul(yr,xr)|0,je=je+Math.imul(yr,Lr)|0,je=je+Math.imul(gr,xr)|0,Ze=Ze+Math.imul(gr,Lr)|0,Ve=Ve+Math.imul(Ft,rn)|0,je=je+Math.imul(Ft,tn)|0,je=je+Math.imul(nr,rn)|0,Ze=Ze+Math.imul(nr,tn)|0;var _n=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(_n>>>26)|0,_n&=67108863,Ve=Math.imul(It,wt),je=Math.imul(It,Lt),je=je+Math.imul(Kt,wt)|0,Ze=Math.imul(Kt,Lt),Ve=Ve+Math.imul(zt,lr)|0,je=je+Math.imul(zt,Ht)|0,je=je+Math.imul(Ot,lr)|0,Ze=Ze+Math.imul(Ot,Ht)|0,Ve=Ve+Math.imul(ct,ir)|0,je=je+Math.imul(ct,ur)|0,je=je+Math.imul(Nt,ir)|0,Ze=Ze+Math.imul(Nt,ur)|0,Ve=Ve+Math.imul(cr,xr)|0,je=je+Math.imul(cr,Lr)|0,je=je+Math.imul(pr,xr)|0,Ze=Ze+Math.imul(pr,Lr)|0,Ve=Ve+Math.imul(yr,rn)|0,je=je+Math.imul(yr,tn)|0,je=je+Math.imul(gr,rn)|0,Ze=Ze+Math.imul(gr,tn)|0;var kn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(kn>>>26)|0,kn&=67108863,Ve=Math.imul(It,lr),je=Math.imul(It,Ht),je=je+Math.imul(Kt,lr)|0,Ze=Math.imul(Kt,Ht),Ve=Ve+Math.imul(zt,ir)|0,je=je+Math.imul(zt,ur)|0,je=je+Math.imul(Ot,ir)|0,Ze=Ze+Math.imul(Ot,ur)|0,Ve=Ve+Math.imul(ct,xr)|0,je=je+Math.imul(ct,Lr)|0,je=je+Math.imul(Nt,xr)|0,Ze=Ze+Math.imul(Nt,Lr)|0,Ve=Ve+Math.imul(cr,rn)|0,je=je+Math.imul(cr,tn)|0,je=je+Math.imul(pr,rn)|0,Ze=Ze+Math.imul(pr,tn)|0;var An=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(An>>>26)|0,An&=67108863,Ve=Math.imul(It,ir),je=Math.imul(It,ur),je=je+Math.imul(Kt,ir)|0,Ze=Math.imul(Kt,ur),Ve=Ve+Math.imul(zt,xr)|0,je=je+Math.imul(zt,Lr)|0,je=je+Math.imul(Ot,xr)|0,Ze=Ze+Math.imul(Ot,Lr)|0,Ve=Ve+Math.imul(ct,rn)|0,je=je+Math.imul(ct,tn)|0,je=je+Math.imul(Nt,rn)|0,Ze=Ze+Math.imul(Nt,tn)|0;var Dn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,Ve=Math.imul(It,xr),je=Math.imul(It,Lr),je=je+Math.imul(Kt,xr)|0,Ze=Math.imul(Kt,Lr),Ve=Ve+Math.imul(zt,rn)|0,je=je+Math.imul(zt,tn)|0,je=je+Math.imul(Ot,rn)|0,Ze=Ze+Math.imul(Ot,tn)|0;var In=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(In>>>26)|0,In&=67108863,Ve=Math.imul(It,rn),je=Math.imul(It,tn),je=je+Math.imul(Kt,rn)|0,Ze=Math.imul(Kt,tn);var Qt=(We+Ve|0)+((je&8191)<<13)|0;return We=(Ze+(je>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,it[0]=pn,it[1]=yn,it[2]=ln,it[3]=er,it[4]=Rr,it[5]=Or,it[6]=Fr,it[7]=Hr,it[8]=an,it[9]=cn,it[10]=Rn,it[11]=gn,it[12]=vn,it[13]=_n,it[14]=kn,it[15]=An,it[16]=Dn,it[17]=In,it[18]=Qt,We!==0&&(it[19]=We,Je.length++),Je};Math.imul||(Le=Ke);function qe(Fe,ke,Ue){Ue.negative=ke.negative^Fe.negative,Ue.length=Fe.length+ke.length;for(var Je=0,rt=0,Xe=0;Xe<Ue.length-1;Xe++){var it=rt;rt=0;for(var We=Je&67108863,Ve=Math.min(Xe,ke.length-1),je=Math.max(0,Xe-Fe.length+1);je<=Ve;je++){var Ze=Xe-je,st=Fe.words[Ze]|0,dt=ke.words[je]|0,bt=st*dt,vt=bt&67108863;it=it+(bt/67108864|0)|0,vt=vt+We|0,We=vt&67108863,it=it+(vt>>>26)|0,rt+=it>>>26,it&=67108863}Ue.words[Xe]=We,Je=it,it=rt}return Je!==0?Ue.words[Xe]=Je:Ue.length--,Ue._strip()}function He(Fe,ke,Ue){return qe(Fe,ke,Ue)}B.prototype.mulTo=function(ke,Ue){var Je,rt=this.length+ke.length;return this.length===10&&ke.length===10?Je=Le(this,ke,Ue):rt<63?Je=Ke(this,ke,Ue):rt<1024?Je=qe(this,ke,Ue):Je=He(this,ke,Ue),Je},B.prototype.mul=function(ke){var Ue=new B(null);return Ue.words=new Array(this.length+ke.length),this.mulTo(ke,Ue)},B.prototype.mulf=function(ke){var Ue=new B(null);return Ue.words=new Array(this.length+ke.length),He(this,ke,Ue)},B.prototype.imul=function(ke){return this.clone().mulTo(ke,this)},B.prototype.imuln=function(ke){var Ue=ke<0;Ue&&(ke=-ke),N(typeof ke=="number"),N(ke<67108864);for(var Je=0,rt=0;rt<this.length;rt++){var Xe=(this.words[rt]|0)*ke,it=(Xe&67108863)+(Je&67108863);Je>>=26,Je+=Xe/67108864|0,Je+=it>>>26,this.words[rt]=it&67108863}return Je!==0&&(this.words[rt]=Je,this.length++),this.length=ke===0?1:this.length,Ue?this.ineg():this},B.prototype.muln=function(ke){return this.clone().imuln(ke)},B.prototype.sqr=function(){return this.mul(this)},B.prototype.isqr=function(){return this.imul(this.clone())},B.prototype.pow=function(ke){var Ue=Be(ke);if(Ue.length===0)return new B(1);for(var Je=this,rt=0;rt<Ue.length&&Ue[rt]===0;rt++,Je=Je.sqr());if(++rt<Ue.length)for(var Xe=Je.sqr();rt<Ue.length;rt++,Xe=Xe.sqr())Ue[rt]!==0&&(Je=Je.mul(Xe));return Je},B.prototype.iushln=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=ke%26,Je=(ke-Ue)/26,rt=67108863>>>26-Ue<<26-Ue,Xe;if(Ue!==0){var it=0;for(Xe=0;Xe<this.length;Xe++){var We=this.words[Xe]&rt,Ve=(this.words[Xe]|0)-We<<Ue;this.words[Xe]=Ve|it,it=We>>>26-Ue}it&&(this.words[Xe]=it,this.length++)}if(Je!==0){for(Xe=this.length-1;Xe>=0;Xe--)this.words[Xe+Je]=this.words[Xe];for(Xe=0;Xe<Je;Xe++)this.words[Xe]=0;this.length+=Je}return this._strip()},B.prototype.ishln=function(ke){return N(this.negative===0),this.iushln(ke)},B.prototype.iushrn=function(ke,Ue,Je){N(typeof ke=="number"&&ke>=0);var rt;Ue?rt=(Ue-Ue%26)/26:rt=0;var Xe=ke%26,it=Math.min((ke-Xe)/26,this.length),We=67108863^67108863>>>Xe<<Xe,Ve=Je;if(rt-=it,rt=Math.max(0,rt),Ve){for(var je=0;je<it;je++)Ve.words[je]=this.words[je];Ve.length=it}if(it!==0)if(this.length>it)for(this.length-=it,je=0;je<this.length;je++)this.words[je]=this.words[je+it];else this.words[0]=0,this.length=1;var Ze=0;for(je=this.length-1;je>=0&&(Ze!==0||je>=rt);je--){var st=this.words[je]|0;this.words[je]=Ze<<26-Xe|st>>>Xe,Ze=st&We}return Ve&&Ze!==0&&(Ve.words[Ve.length++]=Ze),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},B.prototype.ishrn=function(ke,Ue,Je){return N(this.negative===0),this.iushrn(ke,Ue,Je)},B.prototype.shln=function(ke){return this.clone().ishln(ke)},B.prototype.ushln=function(ke){return this.clone().iushln(ke)},B.prototype.shrn=function(ke){return this.clone().ishrn(ke)},B.prototype.ushrn=function(ke){return this.clone().iushrn(ke)},B.prototype.testn=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=ke%26,Je=(ke-Ue)/26,rt=1<<Ue;if(this.length<=Je)return!1;var Xe=this.words[Je];return!!(Xe&rt)},B.prototype.imaskn=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=ke%26,Je=(ke-Ue)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=Je)return this;if(Ue!==0&&Je++,this.length=Math.min(Je,this.length),Ue!==0){var rt=67108863^67108863>>>Ue<<Ue;this.words[this.length-1]&=rt}return this._strip()},B.prototype.maskn=function(ke){return this.clone().imaskn(ke)},B.prototype.iaddn=function(ke){return N(typeof ke=="number"),N(ke<67108864),ke<0?this.isubn(-ke):this.negative!==0?this.length===1&&(this.words[0]|0)<=ke?(this.words[0]=ke-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ke),this.negative=1,this):this._iaddn(ke)},B.prototype._iaddn=function(ke){this.words[0]+=ke;for(var Ue=0;Ue<this.length&&this.words[Ue]>=67108864;Ue++)this.words[Ue]-=67108864,Ue===this.length-1?this.words[Ue+1]=1:this.words[Ue+1]++;return this.length=Math.max(this.length,Ue+1),this},B.prototype.isubn=function(ke){if(N(typeof ke=="number"),N(ke<67108864),ke<0)return this.iaddn(-ke);if(this.negative!==0)return this.negative=0,this.iaddn(ke),this.negative=1,this;if(this.words[0]-=ke,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ue=0;Ue<this.length&&this.words[Ue]<0;Ue++)this.words[Ue]+=67108864,this.words[Ue+1]-=1;return this._strip()},B.prototype.addn=function(ke){return this.clone().iaddn(ke)},B.prototype.subn=function(ke){return this.clone().isubn(ke)},B.prototype.iabs=function(){return this.negative=0,this},B.prototype.abs=function(){return this.clone().iabs()},B.prototype._ishlnsubmul=function(ke,Ue,Je){var rt=ke.length+Je,Xe;this._expand(rt);var it,We=0;for(Xe=0;Xe<ke.length;Xe++){it=(this.words[Xe+Je]|0)+We;var Ve=(ke.words[Xe]|0)*Ue;it-=Ve&67108863,We=(it>>26)-(Ve/67108864|0),this.words[Xe+Je]=it&67108863}for(;Xe<this.length-Je;Xe++)it=(this.words[Xe+Je]|0)+We,We=it>>26,this.words[Xe+Je]=it&67108863;if(We===0)return this._strip();for(N(We===-1),We=0,Xe=0;Xe<this.length;Xe++)it=-(this.words[Xe]|0)+We,We=it>>26,this.words[Xe]=it&67108863;return this.negative=1,this._strip()},B.prototype._wordDiv=function(ke,Ue){var Je=this.length-ke.length,rt=this.clone(),Xe=ke,it=Xe.words[Xe.length-1]|0,We=this._countBits(it);Je=26-We,Je!==0&&(Xe=Xe.ushln(Je),rt.iushln(Je),it=Xe.words[Xe.length-1]|0);var Ve=rt.length-Xe.length,je;if(Ue!=="mod"){je=new B(null),je.length=Ve+1,je.words=new Array(je.length);for(var Ze=0;Ze<je.length;Ze++)je.words[Ze]=0}var st=rt.clone()._ishlnsubmul(Xe,1,Ve);st.negative===0&&(rt=st,je&&(je.words[Ve]=1));for(var dt=Ve-1;dt>=0;dt--){var bt=(rt.words[Xe.length+dt]|0)*67108864+(rt.words[Xe.length+dt-1]|0);for(bt=Math.min(bt/it|0,67108863),rt._ishlnsubmul(Xe,bt,dt);rt.negative!==0;)bt--,rt.negative=0,rt._ishlnsubmul(Xe,1,dt),rt.isZero()||(rt.negative^=1);je&&(je.words[dt]=bt)}return je&&je._strip(),rt._strip(),Ue!=="div"&&Je!==0&&rt.iushrn(Je),{div:je||null,mod:rt}},B.prototype.divmod=function(ke,Ue,Je){if(N(!ke.isZero()),this.isZero())return{div:new B(0),mod:new B(0)};var rt,Xe,it;return this.negative!==0&&ke.negative===0?(it=this.neg().divmod(ke,Ue),Ue!=="mod"&&(rt=it.div.neg()),Ue!=="div"&&(Xe=it.mod.neg(),Je&&Xe.negative!==0&&Xe.iadd(ke)),{div:rt,mod:Xe}):this.negative===0&&ke.negative!==0?(it=this.divmod(ke.neg(),Ue),Ue!=="mod"&&(rt=it.div.neg()),{div:rt,mod:it.mod}):(this.negative&ke.negative)!==0?(it=this.neg().divmod(ke.neg(),Ue),Ue!=="div"&&(Xe=it.mod.neg(),Je&&Xe.negative!==0&&Xe.isub(ke)),{div:it.div,mod:Xe}):ke.length>this.length||this.cmp(ke)<0?{div:new B(0),mod:this}:ke.length===1?Ue==="div"?{div:this.divn(ke.words[0]),mod:null}:Ue==="mod"?{div:null,mod:new B(this.modrn(ke.words[0]))}:{div:this.divn(ke.words[0]),mod:new B(this.modrn(ke.words[0]))}:this._wordDiv(ke,Ue)},B.prototype.div=function(ke){return this.divmod(ke,"div",!1).div},B.prototype.mod=function(ke){return this.divmod(ke,"mod",!1).mod},B.prototype.umod=function(ke){return this.divmod(ke,"mod",!0).mod},B.prototype.divRound=function(ke){var Ue=this.divmod(ke);if(Ue.mod.isZero())return Ue.div;var Je=Ue.div.negative!==0?Ue.mod.isub(ke):Ue.mod,rt=ke.ushrn(1),Xe=ke.andln(1),it=Je.cmp(rt);return it<0||Xe===1&&it===0?Ue.div:Ue.div.negative!==0?Ue.div.isubn(1):Ue.div.iaddn(1)},B.prototype.modrn=function(ke){var Ue=ke<0;Ue&&(ke=-ke),N(ke<=67108863);for(var Je=(1<<26)%ke,rt=0,Xe=this.length-1;Xe>=0;Xe--)rt=(Je*rt+(this.words[Xe]|0))%ke;return Ue?-rt:rt},B.prototype.modn=function(ke){return this.modrn(ke)},B.prototype.idivn=function(ke){var Ue=ke<0;Ue&&(ke=-ke),N(ke<=67108863);for(var Je=0,rt=this.length-1;rt>=0;rt--){var Xe=(this.words[rt]|0)+Je*67108864;this.words[rt]=Xe/ke|0,Je=Xe%ke}return this._strip(),Ue?this.ineg():this},B.prototype.divn=function(ke){return this.clone().idivn(ke)},B.prototype.egcd=function(ke){N(ke.negative===0),N(!ke.isZero());var Ue=this,Je=ke.clone();Ue.negative!==0?Ue=Ue.umod(ke):Ue=Ue.clone();for(var rt=new B(1),Xe=new B(0),it=new B(0),We=new B(1),Ve=0;Ue.isEven()&&Je.isEven();)Ue.iushrn(1),Je.iushrn(1),++Ve;for(var je=Je.clone(),Ze=Ue.clone();!Ue.isZero();){for(var st=0,dt=1;(Ue.words[0]&dt)===0&&st<26;++st,dt<<=1);if(st>0)for(Ue.iushrn(st);st-- >0;)(rt.isOdd()||Xe.isOdd())&&(rt.iadd(je),Xe.isub(Ze)),rt.iushrn(1),Xe.iushrn(1);for(var bt=0,vt=1;(Je.words[0]&vt)===0&&bt<26;++bt,vt<<=1);if(bt>0)for(Je.iushrn(bt);bt-- >0;)(it.isOdd()||We.isOdd())&&(it.iadd(je),We.isub(Ze)),it.iushrn(1),We.iushrn(1);Ue.cmp(Je)>=0?(Ue.isub(Je),rt.isub(it),Xe.isub(We)):(Je.isub(Ue),it.isub(rt),We.isub(Xe))}return{a:it,b:We,gcd:Je.iushln(Ve)}},B.prototype._invmp=function(ke){N(ke.negative===0),N(!ke.isZero());var Ue=this,Je=ke.clone();Ue.negative!==0?Ue=Ue.umod(ke):Ue=Ue.clone();for(var rt=new B(1),Xe=new B(0),it=Je.clone();Ue.cmpn(1)>0&&Je.cmpn(1)>0;){for(var We=0,Ve=1;(Ue.words[0]&Ve)===0&&We<26;++We,Ve<<=1);if(We>0)for(Ue.iushrn(We);We-- >0;)rt.isOdd()&&rt.iadd(it),rt.iushrn(1);for(var je=0,Ze=1;(Je.words[0]&Ze)===0&&je<26;++je,Ze<<=1);if(je>0)for(Je.iushrn(je);je-- >0;)Xe.isOdd()&&Xe.iadd(it),Xe.iushrn(1);Ue.cmp(Je)>=0?(Ue.isub(Je),rt.isub(Xe)):(Je.isub(Ue),Xe.isub(rt))}var st;return Ue.cmpn(1)===0?st=rt:st=Xe,st.cmpn(0)<0&&st.iadd(ke),st},B.prototype.gcd=function(ke){if(this.isZero())return ke.abs();if(ke.isZero())return this.abs();var Ue=this.clone(),Je=ke.clone();Ue.negative=0,Je.negative=0;for(var rt=0;Ue.isEven()&&Je.isEven();rt++)Ue.iushrn(1),Je.iushrn(1);do{for(;Ue.isEven();)Ue.iushrn(1);for(;Je.isEven();)Je.iushrn(1);var Xe=Ue.cmp(Je);if(Xe<0){var it=Ue;Ue=Je,Je=it}else if(Xe===0||Je.cmpn(1)===0)break;Ue.isub(Je)}while(!0);return Je.iushln(rt)},B.prototype.invm=function(ke){return this.egcd(ke).a.umod(ke)},B.prototype.isEven=function(){return(this.words[0]&1)===0},B.prototype.isOdd=function(){return(this.words[0]&1)===1},B.prototype.andln=function(ke){return this.words[0]&ke},B.prototype.bincn=function(ke){N(typeof ke=="number");var Ue=ke%26,Je=(ke-Ue)/26,rt=1<<Ue;if(this.length<=Je)return this._expand(Je+1),this.words[Je]|=rt,this;for(var Xe=rt,it=Je;Xe!==0&&it<this.length;it++){var We=this.words[it]|0;We+=Xe,Xe=We>>>26,We&=67108863,this.words[it]=We}return Xe!==0&&(this.words[it]=Xe,this.length++),this},B.prototype.isZero=function(){return this.length===1&&this.words[0]===0},B.prototype.cmpn=function(ke){var Ue=ke<0;if(this.negative!==0&&!Ue)return-1;if(this.negative===0&&Ue)return 1;this._strip();var Je;if(this.length>1)Je=1;else{Ue&&(ke=-ke),N(ke<=67108863,"Number is too big");var rt=this.words[0]|0;Je=rt===ke?0:rt<ke?-1:1}return this.negative!==0?-Je|0:Je},B.prototype.cmp=function(ke){if(this.negative!==0&&ke.negative===0)return-1;if(this.negative===0&&ke.negative!==0)return 1;var Ue=this.ucmp(ke);return this.negative!==0?-Ue|0:Ue},B.prototype.ucmp=function(ke){if(this.length>ke.length)return 1;if(this.length<ke.length)return-1;for(var Ue=0,Je=this.length-1;Je>=0;Je--){var rt=this.words[Je]|0,Xe=ke.words[Je]|0;if(rt!==Xe){rt<Xe?Ue=-1:rt>Xe&&(Ue=1);break}}return Ue},B.prototype.gtn=function(ke){return this.cmpn(ke)===1},B.prototype.gt=function(ke){return this.cmp(ke)===1},B.prototype.gten=function(ke){return this.cmpn(ke)>=0},B.prototype.gte=function(ke){return this.cmp(ke)>=0},B.prototype.ltn=function(ke){return this.cmpn(ke)===-1},B.prototype.lt=function(ke){return this.cmp(ke)===-1},B.prototype.lten=function(ke){return this.cmpn(ke)<=0},B.prototype.lte=function(ke){return this.cmp(ke)<=0},B.prototype.eqn=function(ke){return this.cmpn(ke)===0},B.prototype.eq=function(ke){return this.cmp(ke)===0},B.red=function(ke){return new tt(ke)},B.prototype.toRed=function(ke){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),ke.convertTo(this)._forceRed(ke)},B.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},B.prototype._forceRed=function(ke){return this.red=ke,this},B.prototype.forceRed=function(ke){return N(!this.red,"Already a number in reduction context"),this._forceRed(ke)},B.prototype.redAdd=function(ke){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,ke)},B.prototype.redIAdd=function(ke){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ke)},B.prototype.redSub=function(ke){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,ke)},B.prototype.redISub=function(ke){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,ke)},B.prototype.redShl=function(ke){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,ke)},B.prototype.redMul=function(ke){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,ke),this.red.mul(this,ke)},B.prototype.redIMul=function(ke){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,ke),this.red.imul(this,ke)},B.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},B.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},B.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},B.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},B.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},B.prototype.redPow=function(ke){return N(this.red&&!ke.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ke)};var Ge={k256:null,p224:null,p192:null,p25519:null};function at(Fe,ke){this.name=Fe,this.p=new B(ke,16),this.n=this.p.bitLength(),this.k=new B(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}at.prototype._tmp=function(){var ke=new B(null);return ke.words=new Array(Math.ceil(this.n/13)),ke},at.prototype.ireduce=function(ke){var Ue=ke,Je;do this.split(Ue,this.tmp),Ue=this.imulK(Ue),Ue=Ue.iadd(this.tmp),Je=Ue.bitLength();while(Je>this.n);var rt=Je<this.n?-1:Ue.ucmp(this.p);return rt===0?(Ue.words[0]=0,Ue.length=1):rt>0?Ue.isub(this.p):Ue.strip!==void 0?Ue.strip():Ue._strip(),Ue},at.prototype.split=function(ke,Ue){ke.iushrn(this.n,0,Ue)},at.prototype.imulK=function(ke){return ke.imul(this.k)};function ot(){at.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}L(ot,at),ot.prototype.split=function(ke,Ue){for(var Je=4194303,rt=Math.min(ke.length,9),Xe=0;Xe<rt;Xe++)Ue.words[Xe]=ke.words[Xe];if(Ue.length=rt,ke.length<=9){ke.words[0]=0,ke.length=1;return}var it=ke.words[9];for(Ue.words[Ue.length++]=it&Je,Xe=10;Xe<ke.length;Xe++){var We=ke.words[Xe]|0;ke.words[Xe-10]=(We&Je)<<4|it>>>22,it=We}it>>>=22,ke.words[Xe-10]=it,it===0&&ke.length>10?ke.length-=10:ke.length-=9},ot.prototype.imulK=function(ke){ke.words[ke.length]=0,ke.words[ke.length+1]=0,ke.length+=2;for(var Ue=0,Je=0;Je<ke.length;Je++){var rt=ke.words[Je]|0;Ue+=rt*977,ke.words[Je]=Ue&67108863,Ue=rt*64+(Ue/67108864|0)}return ke.words[ke.length-1]===0&&(ke.length--,ke.words[ke.length-1]===0&&ke.length--),ke};function Ye(){at.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}L(Ye,at);function nt(){at.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}L(nt,at);function Qe(){at.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}L(Qe,at),Qe.prototype.imulK=function(ke){for(var Ue=0,Je=0;Je<ke.length;Je++){var rt=(ke.words[Je]|0)*19+Ue,Xe=rt&67108863;rt>>>=26,ke.words[Je]=Xe,Ue=rt}return Ue!==0&&(ke.words[ke.length++]=Ue),ke},B._prime=function(ke){if(Ge[ke])return Ge[ke];var Ue;if(ke==="k256")Ue=new ot;else if(ke==="p224")Ue=new Ye;else if(ke==="p192")Ue=new nt;else if(ke==="p25519")Ue=new Qe;else throw new Error("Unknown prime "+ke);return Ge[ke]=Ue,Ue};function tt(Fe){if(typeof Fe=="string"){var ke=B._prime(Fe);this.m=ke.p,this.prime=ke}else N(Fe.gtn(1),"modulus must be greater than 1"),this.m=Fe,this.prime=null}tt.prototype._verify1=function(ke){N(ke.negative===0,"red works only with positives"),N(ke.red,"red works only with red numbers")},tt.prototype._verify2=function(ke,Ue){N((ke.negative|Ue.negative)===0,"red works only with positives"),N(ke.red&&ke.red===Ue.red,"red works only with red numbers")},tt.prototype.imod=function(ke){return this.prime?this.prime.ireduce(ke)._forceRed(this):(G(ke,ke.umod(this.m)._forceRed(this)),ke)},tt.prototype.neg=function(ke){return ke.isZero()?ke.clone():this.m.sub(ke)._forceRed(this)},tt.prototype.add=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.add(Ue);return Je.cmp(this.m)>=0&&Je.isub(this.m),Je._forceRed(this)},tt.prototype.iadd=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.iadd(Ue);return Je.cmp(this.m)>=0&&Je.isub(this.m),Je},tt.prototype.sub=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.sub(Ue);return Je.cmpn(0)<0&&Je.iadd(this.m),Je._forceRed(this)},tt.prototype.isub=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.isub(Ue);return Je.cmpn(0)<0&&Je.iadd(this.m),Je},tt.prototype.shl=function(ke,Ue){return this._verify1(ke),this.imod(ke.ushln(Ue))},tt.prototype.imul=function(ke,Ue){return this._verify2(ke,Ue),this.imod(ke.imul(Ue))},tt.prototype.mul=function(ke,Ue){return this._verify2(ke,Ue),this.imod(ke.mul(Ue))},tt.prototype.isqr=function(ke){return this.imul(ke,ke.clone())},tt.prototype.sqr=function(ke){return this.mul(ke,ke)},tt.prototype.sqrt=function(ke){if(ke.isZero())return ke.clone();var Ue=this.m.andln(3);if(N(Ue%2===1),Ue===3){var Je=this.m.add(new B(1)).iushrn(2);return this.pow(ke,Je)}for(var rt=this.m.subn(1),Xe=0;!rt.isZero()&&rt.andln(1)===0;)Xe++,rt.iushrn(1);N(!rt.isZero());var it=new B(1).toRed(this),We=it.redNeg(),Ve=this.m.subn(1).iushrn(1),je=this.m.bitLength();for(je=new B(2*je*je).toRed(this);this.pow(je,Ve).cmp(We)!==0;)je.redIAdd(We);for(var Ze=this.pow(je,rt),st=this.pow(ke,rt.addn(1).iushrn(1)),dt=this.pow(ke,rt),bt=Xe;dt.cmp(it)!==0;){for(var vt=dt,St=0;vt.cmp(it)!==0;St++)vt=vt.redSqr();N(St<bt);var Bt=this.pow(Ze,new B(1).iushln(bt-St-1));st=st.redMul(Bt),Ze=Bt.redSqr(),dt=dt.redMul(Ze),bt=St}return st},tt.prototype.invm=function(ke){var Ue=ke._invmp(this.m);return Ue.negative!==0?(Ue.negative=0,this.imod(Ue).redNeg()):this.imod(Ue)},tt.prototype.pow=function(ke,Ue){if(Ue.isZero())return new B(1).toRed(this);if(Ue.cmpn(1)===0)return ke.clone();var Je=4,rt=new Array(1<<Je);rt[0]=new B(1).toRed(this),rt[1]=ke;for(var Xe=2;Xe<rt.length;Xe++)rt[Xe]=this.mul(rt[Xe-1],ke);var it=rt[0],We=0,Ve=0,je=Ue.bitLength()%26;for(je===0&&(je=26),Xe=Ue.length-1;Xe>=0;Xe--){for(var Ze=Ue.words[Xe],st=je-1;st>=0;st--){var dt=Ze>>st&1;if(it!==rt[0]&&(it=this.sqr(it)),dt===0&&We===0){Ve=0;continue}We<<=1,We|=dt,Ve++,!(Ve!==Je&&(Xe!==0||st!==0))&&(it=this.mul(it,rt[We]),Ve=0,We=0)}je=26}return it},tt.prototype.convertTo=function(ke){var Ue=ke.umod(this.m);return Ue===ke?Ue.clone():Ue},tt.prototype.convertFrom=function(ke){var Ue=ke.clone();return Ue.red=null,Ue},B.mont=function(ke){return new ze(ke)};function ze(Fe){tt.call(this,Fe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new B(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L(ze,tt),ze.prototype.convertTo=function(ke){return this.imod(ke.ushln(this.shift))},ze.prototype.convertFrom=function(ke){var Ue=this.imod(ke.mul(this.rinv));return Ue.red=null,Ue},ze.prototype.imul=function(ke,Ue){if(ke.isZero()||Ue.isZero())return ke.words[0]=0,ke.length=1,ke;var Je=ke.imul(Ue),rt=Je.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Xe=Je.isub(rt).iushrn(this.shift),it=Xe;return Xe.cmp(this.m)>=0?it=Xe.isub(this.m):Xe.cmpn(0)<0&&(it=Xe.iadd(this.m)),it._forceRed(this)},ze.prototype.mul=function(ke,Ue){if(ke.isZero()||Ue.isZero())return new B(0)._forceRed(this);var Je=ke.mul(Ue),rt=Je.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Xe=Je.isub(rt).iushrn(this.shift),it=Xe;return Xe.cmp(this.m)>=0?it=Xe.isub(this.m):Xe.cmpn(0)<0&&(it=Xe.iadd(this.m)),it._forceRed(this)},ze.prototype.invm=function(ke){var Ue=this.imod(ke._invmp(this.m).mul(this.r2));return Ue._forceRed(this)}})(T,commonjsGlobal$2)}(bn$1)),bn$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var T=requireBn$1(),$=requireBrowser$9(),I=safeBuffer$1.Buffer;function N(H){var z=H.modulus.byteLength(),Q;do Q=new T($(z));while(Q.cmp(H.modulus)>=0||!Q.umod(H.prime1)||!Q.umod(H.prime2));return Q}function L(H){var z=N(H),Q=z.toRed(T.mont(H.modulus)).redPow(new T(H.publicExponent)).fromRed();return{blinder:Q,unblinder:z.invm(H.modulus)}}function B(H,z){var Q=L(z),te=z.modulus.byteLength(),G=new T(H).mul(Q.blinder).umod(z.modulus),ie=G.toRed(T.mont(z.prime1)),Re=G.toRed(T.mont(z.prime2)),$e=z.coefficient,Pe=z.prime1,Me=z.prime2,Be=ie.redPow(z.exponent1).fromRed(),Ke=Re.redPow(z.exponent2).fromRed(),Le=Be.isub(Ke).imul($e).umod(Pe).imul(Me);return Ke.iadd(Le).imul(Q.unblinder).umod(z.modulus).toArrayLike(I,"be",te)}return B.getr=N,browserifyRsa=B,browserifyRsa}var elliptic={};const version="6.6.1",require$$0={version};var utils$q={},utils$p={};(function(T){var $=T;function I(B,H){if(Array.isArray(B))return B.slice();if(!B)return[];var z=[];if(typeof B!="string"){for(var Q=0;Q<B.length;Q++)z[Q]=B[Q]|0;return z}if(H==="hex"){B=B.replace(/[^a-z0-9]+/ig,""),B.length%2!==0&&(B="0"+B);for(var Q=0;Q<B.length;Q+=2)z.push(parseInt(B[Q]+B[Q+1],16))}else for(var Q=0;Q<B.length;Q++){var te=B.charCodeAt(Q),G=te>>8,ie=te&255;G?z.push(G,ie):z.push(ie)}return z}$.toArray=I;function N(B){return B.length===1?"0"+B:B}$.zero2=N;function L(B){for(var H="",z=0;z<B.length;z++)H+=N(B[z].toString(16));return H}$.toHex=L,$.encode=function(H,z){return z==="hex"?L(H):H}})(utils$p);const utils$n=getDefaultExportFromCjs$1(utils$p),utils$o=_mergeNamespaces({__proto__:null,default:utils$n},[utils$p]);(function(T){var $=T,I=bn$3,N=minimalisticAssert$1,L=utils$o;$.assert=N,$.toArray=L.toArray,$.zero2=L.zero2,$.toHex=L.toHex,$.encode=L.encode;function B(G,ie,Re){var $e=new Array(Math.max(G.bitLength(),Re)+1),Pe;for(Pe=0;Pe<$e.length;Pe+=1)$e[Pe]=0;var Me=1<<ie+1,Be=G.clone();for(Pe=0;Pe<$e.length;Pe++){var Ke,Le=Be.andln(Me-1);Be.isOdd()?(Le>(Me>>1)-1?Ke=(Me>>1)-Le:Ke=Le,Be.isubn(Ke)):Ke=0,$e[Pe]=Ke,Be.iushrn(1)}return $e}$.getNAF=B;function H(G,ie){var Re=[[],[]];G=G.clone(),ie=ie.clone();for(var $e=0,Pe=0,Me;G.cmpn(-$e)>0||ie.cmpn(-Pe)>0;){var Be=G.andln(3)+$e&3,Ke=ie.andln(3)+Pe&3;Be===3&&(Be=-1),Ke===3&&(Ke=-1);var Le;(Be&1)===0?Le=0:(Me=G.andln(7)+$e&7,(Me===3||Me===5)&&Ke===2?Le=-Be:Le=Be),Re[0].push(Le);var qe;(Ke&1)===0?qe=0:(Me=ie.andln(7)+Pe&7,(Me===3||Me===5)&&Be===2?qe=-Ke:qe=Ke),Re[1].push(qe),2*$e===Le+1&&($e=1-$e),2*Pe===qe+1&&(Pe=1-Pe),G.iushrn(1),ie.iushrn(1)}return Re}$.getJSF=H;function z(G,ie,Re){var $e="_"+ie;G.prototype[ie]=function(){return this[$e]!==void 0?this[$e]:this[$e]=Re.call(this)}}$.cachedProperty=z;function Q(G){return typeof G=="string"?$.toArray(G,"hex"):G}$.parseBytes=Q;function te(G){return new I(G,"hex","le")}$.intFromLE=te})(utils$q);const utils$l=getDefaultExportFromCjs$1(utils$q),utils$m=_mergeNamespaces({__proto__:null,default:utils$l},[utils$q]);var curve$1={},BN$6=bn$3,utils$k=utils$m,getNAF=utils$k.getNAF,getJSF=utils$k.getJSF,assert$d=utils$k.assert;function BaseCurve(T,$){this.type=T,this.p=new BN$6($.p,16),this.red=$.prime?BN$6.red($.prime):BN$6.mont(this.p),this.zero=new BN$6(0).toRed(this.red),this.one=new BN$6(1).toRed(this.red),this.two=new BN$6(2).toRed(this.red),this.n=$.n&&new BN$6($.n,16),this.g=$.g&&this.pointFromJSON($.g,$.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var I=this.n&&this.p.div(this.n);!I||I.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function($,I){assert$d($.precomputed);var N=$._getDoubles(),L=getNAF(I,1,this._bitLength),B=(1<<N.step+1)-(N.step%2===0?2:1);B/=3;var H=[],z,Q;for(z=0;z<L.length;z+=N.step){Q=0;for(var te=z+N.step-1;te>=z;te--)Q=(Q<<1)+L[te];H.push(Q)}for(var G=this.jpoint(null,null,null),ie=this.jpoint(null,null,null),Re=B;Re>0;Re--){for(z=0;z<H.length;z++)Q=H[z],Q===Re?ie=ie.mixedAdd(N.points[z]):Q===-Re&&(ie=ie.mixedAdd(N.points[z].neg()));G=G.add(ie)}return G.toP()};BaseCurve.prototype._wnafMul=function($,I){var N=4,L=$._getNAFPoints(N);N=L.wnd;for(var B=L.points,H=getNAF(I,N,this._bitLength),z=this.jpoint(null,null,null),Q=H.length-1;Q>=0;Q--){for(var te=0;Q>=0&&H[Q]===0;Q--)te++;if(Q>=0&&te++,z=z.dblp(te),Q<0)break;var G=H[Q];assert$d(G!==0),$.type==="affine"?G>0?z=z.mixedAdd(B[G-1>>1]):z=z.mixedAdd(B[-G-1>>1].neg()):G>0?z=z.add(B[G-1>>1]):z=z.add(B[-G-1>>1].neg())}return $.type==="affine"?z.toP():z};BaseCurve.prototype._wnafMulAdd=function($,I,N,L,B){var H=this._wnafT1,z=this._wnafT2,Q=this._wnafT3,te=0,G,ie,Re;for(G=0;G<L;G++){Re=I[G];var $e=Re._getNAFPoints($);H[G]=$e.wnd,z[G]=$e.points}for(G=L-1;G>=1;G-=2){var Pe=G-1,Me=G;if(H[Pe]!==1||H[Me]!==1){Q[Pe]=getNAF(N[Pe],H[Pe],this._bitLength),Q[Me]=getNAF(N[Me],H[Me],this._bitLength),te=Math.max(Q[Pe].length,te),te=Math.max(Q[Me].length,te);continue}var Be=[I[Pe],null,null,I[Me]];I[Pe].y.cmp(I[Me].y)===0?(Be[1]=I[Pe].add(I[Me]),Be[2]=I[Pe].toJ().mixedAdd(I[Me].neg())):I[Pe].y.cmp(I[Me].y.redNeg())===0?(Be[1]=I[Pe].toJ().mixedAdd(I[Me]),Be[2]=I[Pe].add(I[Me].neg())):(Be[1]=I[Pe].toJ().mixedAdd(I[Me]),Be[2]=I[Pe].toJ().mixedAdd(I[Me].neg()));var Ke=[-3,-1,-5,-7,0,7,5,1,3],Le=getJSF(N[Pe],N[Me]);for(te=Math.max(Le[0].length,te),Q[Pe]=new Array(te),Q[Me]=new Array(te),ie=0;ie<te;ie++){var qe=Le[0][ie]|0,He=Le[1][ie]|0;Q[Pe][ie]=Ke[(qe+1)*3+(He+1)],Q[Me][ie]=0,z[Pe]=Be}}var Ge=this.jpoint(null,null,null),at=this._wnafT4;for(G=te;G>=0;G--){for(var ot=0;G>=0;){var Ye=!0;for(ie=0;ie<L;ie++)at[ie]=Q[ie][G]|0,at[ie]!==0&&(Ye=!1);if(!Ye)break;ot++,G--}if(G>=0&&ot++,Ge=Ge.dblp(ot),G<0)break;for(ie=0;ie<L;ie++){var nt=at[ie];nt!==0&&(nt>0?Re=z[ie][nt-1>>1]:nt<0&&(Re=z[ie][-nt-1>>1].neg()),Re.type==="affine"?Ge=Ge.mixedAdd(Re):Ge=Ge.add(Re))}}for(G=0;G<L;G++)z[G]=null;return B?Ge:Ge.toP()};function BasePoint(T,$){this.curve=T,this.type=$,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function($,I){$=utils$k.toArray($,I);var N=this.p.byteLength();if(($[0]===4||$[0]===6||$[0]===7)&&$.length-1===2*N){$[0]===6?assert$d($[$.length-1]%2===0):$[0]===7&&assert$d($[$.length-1]%2===1);var L=this.point($.slice(1,1+N),$.slice(1+N,1+2*N));return L}else if(($[0]===2||$[0]===3)&&$.length-1===N)return this.pointFromX($.slice(1,1+N),$[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function($){return this.encode($,!0)};BasePoint.prototype._encode=function($){var I=this.curve.p.byteLength(),N=this.getX().toArray("be",I);return $?[this.getY().isEven()?2:3].concat(N):[4].concat(N,this.getY().toArray("be",I))};BasePoint.prototype.encode=function($,I){return utils$k.encode(this._encode(I),$)};BasePoint.prototype.precompute=function($){if(this.precomputed)return this;var I={doubles:null,naf:null,beta:null};return I.naf=this._getNAFPoints(8),I.doubles=this._getDoubles(4,$),I.beta=this._getBeta(),this.precomputed=I,this};BasePoint.prototype._hasDoubles=function($){if(!this.precomputed)return!1;var I=this.precomputed.doubles;return I?I.points.length>=Math.ceil(($.bitLength()+1)/I.step):!1};BasePoint.prototype._getDoubles=function($,I){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var N=[this],L=this,B=0;B<I;B+=$){for(var H=0;H<$;H++)L=L.dbl();N.push(L)}return{step:$,points:N}};BasePoint.prototype._getNAFPoints=function($){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var I=[this],N=(1<<$)-1,L=N===1?null:this.dbl(),B=1;B<N;B++)I[B]=I[B-1].add(L);return{wnd:$,points:I}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function($){for(var I=this,N=0;N<$;N++)I=I.dbl();return I};const base$2=getDefaultExportFromCjs$1(base$1),base$3=_mergeNamespaces({__proto__:null,default:base$2},[base$1]);var utils$j=utils$m,BN$5=bn$3,inherits$3=inherits_browser$1,Base$2=base$3,assert$c=utils$j.assert;function ShortCurve(T){Base$2.call(this,"short",T),this.a=new BN$5(T.a,16).toRed(this.red),this.b=new BN$5(T.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(T),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$3(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function($){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var I,N;if($.beta)I=new BN$5($.beta,16).toRed(this.red);else{var L=this._getEndoRoots(this.p);I=L[0].cmp(L[1])<0?L[0]:L[1],I=I.toRed(this.red)}if($.lambda)N=new BN$5($.lambda,16);else{var B=this._getEndoRoots(this.n);this.g.mul(B[0]).x.cmp(this.g.x.redMul(I))===0?N=B[0]:(N=B[1],assert$c(this.g.mul(N).x.cmp(this.g.x.redMul(I))===0))}var H;return $.basis?H=$.basis.map(function(z){return{a:new BN$5(z.a,16),b:new BN$5(z.b,16)}}):H=this._getEndoBasis(N),{beta:I,lambda:N,basis:H}}};ShortCurve.prototype._getEndoRoots=function($){var I=$===this.p?this.red:BN$5.mont($),N=new BN$5(2).toRed(I).redInvm(),L=N.redNeg(),B=new BN$5(3).toRed(I).redNeg().redSqrt().redMul(N),H=L.redAdd(B).fromRed(),z=L.redSub(B).fromRed();return[H,z]};ShortCurve.prototype._getEndoBasis=function($){for(var I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),N=$,L=this.n.clone(),B=new BN$5(1),H=new BN$5(0),z=new BN$5(0),Q=new BN$5(1),te,G,ie,Re,$e,Pe,Me,Be=0,Ke,Le;N.cmpn(0)!==0;){var qe=L.div(N);Ke=L.sub(qe.mul(N)),Le=z.sub(qe.mul(B));var He=Q.sub(qe.mul(H));if(!ie&&Ke.cmp(I)<0)te=Me.neg(),G=B,ie=Ke.neg(),Re=Le;else if(ie&&++Be===2)break;Me=Ke,L=N,N=Ke,z=B,B=Le,Q=H,H=He}$e=Ke.neg(),Pe=Le;var Ge=ie.sqr().add(Re.sqr()),at=$e.sqr().add(Pe.sqr());return at.cmp(Ge)>=0&&($e=te,Pe=G),ie.negative&&(ie=ie.neg(),Re=Re.neg()),$e.negative&&($e=$e.neg(),Pe=Pe.neg()),[{a:ie,b:Re},{a:$e,b:Pe}]};ShortCurve.prototype._endoSplit=function($){var I=this.endo.basis,N=I[0],L=I[1],B=L.b.mul($).divRound(this.n),H=N.b.neg().mul($).divRound(this.n),z=B.mul(N.a),Q=H.mul(L.a),te=B.mul(N.b),G=H.mul(L.b),ie=$.sub(z).sub(Q),Re=te.add(G).neg();return{k1:ie,k2:Re}};ShortCurve.prototype.pointFromX=function($,I){$=new BN$5($,16),$.red||($=$.toRed(this.red));var N=$.redSqr().redMul($).redIAdd($.redMul(this.a)).redIAdd(this.b),L=N.redSqrt();if(L.redSqr().redSub(N).cmp(this.zero)!==0)throw new Error("invalid point");var B=L.fromRed().isOdd();return(I&&!B||!I&&B)&&(L=L.redNeg()),this.point($,L)};ShortCurve.prototype.validate=function($){if($.inf)return!0;var I=$.x,N=$.y,L=this.a.redMul(I),B=I.redSqr().redMul(I).redIAdd(L).redIAdd(this.b);return N.redSqr().redISub(B).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function($,I,N){for(var L=this._endoWnafT1,B=this._endoWnafT2,H=0;H<$.length;H++){var z=this._endoSplit(I[H]),Q=$[H],te=Q._getBeta();z.k1.negative&&(z.k1.ineg(),Q=Q.neg(!0)),z.k2.negative&&(z.k2.ineg(),te=te.neg(!0)),L[H*2]=Q,L[H*2+1]=te,B[H*2]=z.k1,B[H*2+1]=z.k2}for(var G=this._wnafMulAdd(1,L,B,H*2,N),ie=0;ie<H*2;ie++)L[ie]=null,B[ie]=null;return G};function Point$2(T,$,I,N){Base$2.BasePoint.call(this,T,"affine"),$===null&&I===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$5($,16),this.y=new BN$5(I,16),N&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$3(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function($,I,N){return new Point$2(this,$,I,N)};ShortCurve.prototype.pointFromJSON=function($,I){return Point$2.fromJSON(this,$,I)};Point$2.prototype._getBeta=function(){if(this.curve.endo){var $=this.precomputed;if($&&$.beta)return $.beta;var I=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if($){var N=this.curve,L=function(B){return N.point(B.x.redMul(N.endo.beta),B.y)};$.beta=I,I.precomputed={beta:null,naf:$.naf&&{wnd:$.naf.wnd,points:$.naf.points.map(L)},doubles:$.doubles&&{step:$.doubles.step,points:$.doubles.points.map(L)}}}return I}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function($,I,N){typeof I=="string"&&(I=JSON.parse(I));var L=$.point(I[0],I[1],N);if(!I[2])return L;function B(z){return $.point(z[0],z[1],N)}var H=I[2];return L.precomputed={beta:null,doubles:H.doubles&&{step:H.doubles.step,points:[L].concat(H.doubles.points.map(B))},naf:H.naf&&{wnd:H.naf.wnd,points:[L].concat(H.naf.points.map(B))}},L};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function($){if(this.inf)return $;if($.inf)return this;if(this.eq($))return this.dbl();if(this.neg().eq($))return this.curve.point(null,null);if(this.x.cmp($.x)===0)return this.curve.point(null,null);var I=this.y.redSub($.y);I.cmpn(0)!==0&&(I=I.redMul(this.x.redSub($.x).redInvm()));var N=I.redSqr().redISub(this.x).redISub($.x),L=I.redMul(this.x.redSub(N)).redISub(this.y);return this.curve.point(N,L)};Point$2.prototype.dbl=function(){if(this.inf)return this;var $=this.y.redAdd(this.y);if($.cmpn(0)===0)return this.curve.point(null,null);var I=this.curve.a,N=this.x.redSqr(),L=$.redInvm(),B=N.redAdd(N).redIAdd(N).redIAdd(I).redMul(L),H=B.redSqr().redISub(this.x.redAdd(this.x)),z=B.redMul(this.x.redSub(H)).redISub(this.y);return this.curve.point(H,z)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function($){return $=new BN$5($,16),this.isInfinity()?this:this._hasDoubles($)?this.curve._fixedNafMul(this,$):this.curve.endo?this.curve._endoWnafMulAdd([this],[$]):this.curve._wnafMul(this,$)};Point$2.prototype.mulAdd=function($,I,N){var L=[this,I],B=[$,N];return this.curve.endo?this.curve._endoWnafMulAdd(L,B):this.curve._wnafMulAdd(1,L,B,2)};Point$2.prototype.jmulAdd=function($,I,N){var L=[this,I],B=[$,N];return this.curve.endo?this.curve._endoWnafMulAdd(L,B,!0):this.curve._wnafMulAdd(1,L,B,2,!0)};Point$2.prototype.eq=function($){return this===$||this.inf===$.inf&&(this.inf||this.x.cmp($.x)===0&&this.y.cmp($.y)===0)};Point$2.prototype.neg=function($){if(this.inf)return this;var I=this.curve.point(this.x,this.y.redNeg());if($&&this.precomputed){var N=this.precomputed,L=function(B){return B.neg()};I.precomputed={naf:N.naf&&{wnd:N.naf.wnd,points:N.naf.points.map(L)},doubles:N.doubles&&{step:N.doubles.step,points:N.doubles.points.map(L)}}}return I};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var $=this.curve.jpoint(this.x,this.y,this.curve.one);return $};function JPoint(T,$,I,N){Base$2.BasePoint.call(this,T,"jacobian"),$===null&&I===null&&N===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$5(0)):(this.x=new BN$5($,16),this.y=new BN$5(I,16),this.z=new BN$5(N,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$3(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function($,I,N){return new JPoint(this,$,I,N)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var $=this.z.redInvm(),I=$.redSqr(),N=this.x.redMul(I),L=this.y.redMul(I).redMul($);return this.curve.point(N,L)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function($){if(this.isInfinity())return $;if($.isInfinity())return this;var I=$.z.redSqr(),N=this.z.redSqr(),L=this.x.redMul(I),B=$.x.redMul(N),H=this.y.redMul(I.redMul($.z)),z=$.y.redMul(N.redMul(this.z)),Q=L.redSub(B),te=H.redSub(z);if(Q.cmpn(0)===0)return te.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var G=Q.redSqr(),ie=G.redMul(Q),Re=L.redMul(G),$e=te.redSqr().redIAdd(ie).redISub(Re).redISub(Re),Pe=te.redMul(Re.redISub($e)).redISub(H.redMul(ie)),Me=this.z.redMul($.z).redMul(Q);return this.curve.jpoint($e,Pe,Me)};JPoint.prototype.mixedAdd=function($){if(this.isInfinity())return $.toJ();if($.isInfinity())return this;var I=this.z.redSqr(),N=this.x,L=$.x.redMul(I),B=this.y,H=$.y.redMul(I).redMul(this.z),z=N.redSub(L),Q=B.redSub(H);if(z.cmpn(0)===0)return Q.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var te=z.redSqr(),G=te.redMul(z),ie=N.redMul(te),Re=Q.redSqr().redIAdd(G).redISub(ie).redISub(ie),$e=Q.redMul(ie.redISub(Re)).redISub(B.redMul(G)),Pe=this.z.redMul(z);return this.curve.jpoint(Re,$e,Pe)};JPoint.prototype.dblp=function($){if($===0)return this;if(this.isInfinity())return this;if(!$)return this.dbl();var I;if(this.curve.zeroA||this.curve.threeA){var N=this;for(I=0;I<$;I++)N=N.dbl();return N}var L=this.curve.a,B=this.curve.tinv,H=this.x,z=this.y,Q=this.z,te=Q.redSqr().redSqr(),G=z.redAdd(z);for(I=0;I<$;I++){var ie=H.redSqr(),Re=G.redSqr(),$e=Re.redSqr(),Pe=ie.redAdd(ie).redIAdd(ie).redIAdd(L.redMul(te)),Me=H.redMul(Re),Be=Pe.redSqr().redISub(Me.redAdd(Me)),Ke=Me.redISub(Be),Le=Pe.redMul(Ke);Le=Le.redIAdd(Le).redISub($e);var qe=G.redMul(Q);I+1<$&&(te=te.redMul($e)),H=Be,Q=qe,G=Le}return this.curve.jpoint(H,G.redMul(B),Q)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var $,I,N;if(this.zOne){var L=this.x.redSqr(),B=this.y.redSqr(),H=B.redSqr(),z=this.x.redAdd(B).redSqr().redISub(L).redISub(H);z=z.redIAdd(z);var Q=L.redAdd(L).redIAdd(L),te=Q.redSqr().redISub(z).redISub(z),G=H.redIAdd(H);G=G.redIAdd(G),G=G.redIAdd(G),$=te,I=Q.redMul(z.redISub(te)).redISub(G),N=this.y.redAdd(this.y)}else{var ie=this.x.redSqr(),Re=this.y.redSqr(),$e=Re.redSqr(),Pe=this.x.redAdd(Re).redSqr().redISub(ie).redISub($e);Pe=Pe.redIAdd(Pe);var Me=ie.redAdd(ie).redIAdd(ie),Be=Me.redSqr(),Ke=$e.redIAdd($e);Ke=Ke.redIAdd(Ke),Ke=Ke.redIAdd(Ke),$=Be.redISub(Pe).redISub(Pe),I=Me.redMul(Pe.redISub($)).redISub(Ke),N=this.y.redMul(this.z),N=N.redIAdd(N)}return this.curve.jpoint($,I,N)};JPoint.prototype._threeDbl=function(){var $,I,N;if(this.zOne){var L=this.x.redSqr(),B=this.y.redSqr(),H=B.redSqr(),z=this.x.redAdd(B).redSqr().redISub(L).redISub(H);z=z.redIAdd(z);var Q=L.redAdd(L).redIAdd(L).redIAdd(this.curve.a),te=Q.redSqr().redISub(z).redISub(z);$=te;var G=H.redIAdd(H);G=G.redIAdd(G),G=G.redIAdd(G),I=Q.redMul(z.redISub(te)).redISub(G),N=this.y.redAdd(this.y)}else{var ie=this.z.redSqr(),Re=this.y.redSqr(),$e=this.x.redMul(Re),Pe=this.x.redSub(ie).redMul(this.x.redAdd(ie));Pe=Pe.redAdd(Pe).redIAdd(Pe);var Me=$e.redIAdd($e);Me=Me.redIAdd(Me);var Be=Me.redAdd(Me);$=Pe.redSqr().redISub(Be),N=this.y.redAdd(this.z).redSqr().redISub(Re).redISub(ie);var Ke=Re.redSqr();Ke=Ke.redIAdd(Ke),Ke=Ke.redIAdd(Ke),Ke=Ke.redIAdd(Ke),I=Pe.redMul(Me.redISub($)).redISub(Ke)}return this.curve.jpoint($,I,N)};JPoint.prototype._dbl=function(){var $=this.curve.a,I=this.x,N=this.y,L=this.z,B=L.redSqr().redSqr(),H=I.redSqr(),z=N.redSqr(),Q=H.redAdd(H).redIAdd(H).redIAdd($.redMul(B)),te=I.redAdd(I);te=te.redIAdd(te);var G=te.redMul(z),ie=Q.redSqr().redISub(G.redAdd(G)),Re=G.redISub(ie),$e=z.redSqr();$e=$e.redIAdd($e),$e=$e.redIAdd($e),$e=$e.redIAdd($e);var Pe=Q.redMul(Re).redISub($e),Me=N.redAdd(N).redMul(L);return this.curve.jpoint(ie,Pe,Me)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var $=this.x.redSqr(),I=this.y.redSqr(),N=this.z.redSqr(),L=I.redSqr(),B=$.redAdd($).redIAdd($),H=B.redSqr(),z=this.x.redAdd(I).redSqr().redISub($).redISub(L);z=z.redIAdd(z),z=z.redAdd(z).redIAdd(z),z=z.redISub(H);var Q=z.redSqr(),te=L.redIAdd(L);te=te.redIAdd(te),te=te.redIAdd(te),te=te.redIAdd(te);var G=B.redIAdd(z).redSqr().redISub(H).redISub(Q).redISub(te),ie=I.redMul(G);ie=ie.redIAdd(ie),ie=ie.redIAdd(ie);var Re=this.x.redMul(Q).redISub(ie);Re=Re.redIAdd(Re),Re=Re.redIAdd(Re);var $e=this.y.redMul(G.redMul(te.redISub(G)).redISub(z.redMul(Q)));$e=$e.redIAdd($e),$e=$e.redIAdd($e),$e=$e.redIAdd($e);var Pe=this.z.redAdd(z).redSqr().redISub(N).redISub(Q);return this.curve.jpoint(Re,$e,Pe)};JPoint.prototype.mul=function($,I){return $=new BN$5($,I),this.curve._wnafMul(this,$)};JPoint.prototype.eq=function($){if($.type==="affine")return this.eq($.toJ());if(this===$)return!0;var I=this.z.redSqr(),N=$.z.redSqr();if(this.x.redMul(N).redISub($.x.redMul(I)).cmpn(0)!==0)return!1;var L=I.redMul(this.z),B=N.redMul($.z);return this.y.redMul(B).redISub($.y.redMul(L)).cmpn(0)===0};JPoint.prototype.eqXToP=function($){var I=this.z.redSqr(),N=$.toRed(this.curve.red).redMul(I);if(this.x.cmp(N)===0)return!0;for(var L=$.clone(),B=this.curve.redN.redMul(I);;){if(L.iadd(this.curve.n),L.cmp(this.curve.p)>=0)return!1;if(N.redIAdd(B),this.x.cmp(N)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};const short$1=getDefaultExportFromCjs$1(short),short$2=_mergeNamespaces({__proto__:null,default:short$1},[short]);var BN$4=bn$3,inherits$2=inherits_browser$1,Base$1=base$3,utils$i=utils$m;function MontCurve(T){Base$1.call(this,"mont",T),this.a=new BN$4(T.a,16).toRed(this.red),this.b=new BN$4(T.b,16).toRed(this.red),this.i4=new BN$4(4).toRed(this.red).redInvm(),this.two=new BN$4(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$2(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function($){var I=$.normalize().x,N=I.redSqr(),L=N.redMul(I).redAdd(N.redMul(this.a)).redAdd(I),B=L.redSqrt();return B.redSqr().cmp(L)===0};function Point$1(T,$,I){Base$1.BasePoint.call(this,T,"projective"),$===null&&I===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$4($,16),this.z=new BN$4(I,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$2(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function($,I){return this.point(utils$i.toArray($,I),1)};MontCurve.prototype.point=function($,I){return new Point$1(this,$,I)};MontCurve.prototype.pointFromJSON=function($){return Point$1.fromJSON(this,$)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function($,I){return new Point$1($,I[0],I[1]||$.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var $=this.x.redAdd(this.z),I=$.redSqr(),N=this.x.redSub(this.z),L=N.redSqr(),B=I.redSub(L),H=I.redMul(L),z=B.redMul(L.redAdd(this.curve.a24.redMul(B)));return this.curve.point(H,z)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function($,I){var N=this.x.redAdd(this.z),L=this.x.redSub(this.z),B=$.x.redAdd($.z),H=$.x.redSub($.z),z=H.redMul(N),Q=B.redMul(L),te=I.z.redMul(z.redAdd(Q).redSqr()),G=I.x.redMul(z.redISub(Q).redSqr());return this.curve.point(te,G)};Point$1.prototype.mul=function($){for(var I=$.clone(),N=this,L=this.curve.point(null,null),B=this,H=[];I.cmpn(0)!==0;I.iushrn(1))H.push(I.andln(1));for(var z=H.length-1;z>=0;z--)H[z]===0?(N=N.diffAdd(L,B),L=L.dbl()):(L=N.diffAdd(L,B),N=N.dbl());return L};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function($){return this.getX().cmp($.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};const mont$1=getDefaultExportFromCjs$1(mont),mont$2=_mergeNamespaces({__proto__:null,default:mont$1},[mont]);var utils$h=utils$m,BN$3=bn$3,inherits$1=inherits_browser$1,Base=base$3,assert$b=utils$h.assert;function EdwardsCurve(T){this.twisted=(T.a|0)!==1,this.mOneA=this.twisted&&(T.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",T),this.a=new BN$3(T.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$3(T.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$3(T.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$b(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(T.c|0)===1}inherits$1(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function($){return this.mOneA?$.redNeg():this.a.redMul($)};EdwardsCurve.prototype._mulC=function($){return this.oneC?$:this.c.redMul($)};EdwardsCurve.prototype.jpoint=function($,I,N,L){return this.point($,I,N,L)};EdwardsCurve.prototype.pointFromX=function($,I){$=new BN$3($,16),$.red||($=$.toRed(this.red));var N=$.redSqr(),L=this.c2.redSub(this.a.redMul(N)),B=this.one.redSub(this.c2.redMul(this.d).redMul(N)),H=L.redMul(B.redInvm()),z=H.redSqrt();if(z.redSqr().redSub(H).cmp(this.zero)!==0)throw new Error("invalid point");var Q=z.fromRed().isOdd();return(I&&!Q||!I&&Q)&&(z=z.redNeg()),this.point($,z)};EdwardsCurve.prototype.pointFromY=function($,I){$=new BN$3($,16),$.red||($=$.toRed(this.red));var N=$.redSqr(),L=N.redSub(this.c2),B=N.redMul(this.d).redMul(this.c2).redSub(this.a),H=L.redMul(B.redInvm());if(H.cmp(this.zero)===0){if(I)throw new Error("invalid point");return this.point(this.zero,$)}var z=H.redSqrt();if(z.redSqr().redSub(H).cmp(this.zero)!==0)throw new Error("invalid point");return z.fromRed().isOdd()!==I&&(z=z.redNeg()),this.point(z,$)};EdwardsCurve.prototype.validate=function($){if($.isInfinity())return!0;$.normalize();var I=$.x.redSqr(),N=$.y.redSqr(),L=I.redMul(this.a).redAdd(N),B=this.c2.redMul(this.one.redAdd(this.d.redMul(I).redMul(N)));return L.cmp(B)===0};function Point(T,$,I,N,L){Base.BasePoint.call(this,T,"projective"),$===null&&I===null&&N===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$3($,16),this.y=new BN$3(I,16),this.z=N?new BN$3(N,16):this.curve.one,this.t=L&&new BN$3(L,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$1(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function($){return Point.fromJSON(this,$)};EdwardsCurve.prototype.point=function($,I,N,L){return new Point(this,$,I,N,L)};Point.fromJSON=function($,I){return new Point($,I[0],I[1],I[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var $=this.x.redSqr(),I=this.y.redSqr(),N=this.z.redSqr();N=N.redIAdd(N);var L=this.curve._mulA($),B=this.x.redAdd(this.y).redSqr().redISub($).redISub(I),H=L.redAdd(I),z=H.redSub(N),Q=L.redSub(I),te=B.redMul(z),G=H.redMul(Q),ie=B.redMul(Q),Re=z.redMul(H);return this.curve.point(te,G,Re,ie)};Point.prototype._projDbl=function(){var $=this.x.redAdd(this.y).redSqr(),I=this.x.redSqr(),N=this.y.redSqr(),L,B,H,z,Q,te;if(this.curve.twisted){z=this.curve._mulA(I);var G=z.redAdd(N);this.zOne?(L=$.redSub(I).redSub(N).redMul(G.redSub(this.curve.two)),B=G.redMul(z.redSub(N)),H=G.redSqr().redSub(G).redSub(G)):(Q=this.z.redSqr(),te=G.redSub(Q).redISub(Q),L=$.redSub(I).redISub(N).redMul(te),B=G.redMul(z.redSub(N)),H=G.redMul(te))}else z=I.redAdd(N),Q=this.curve._mulC(this.z).redSqr(),te=z.redSub(Q).redSub(Q),L=this.curve._mulC($.redISub(z)).redMul(te),B=this.curve._mulC(z).redMul(I.redISub(N)),H=z.redMul(te);return this.curve.point(L,B,H)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function($){var I=this.y.redSub(this.x).redMul($.y.redSub($.x)),N=this.y.redAdd(this.x).redMul($.y.redAdd($.x)),L=this.t.redMul(this.curve.dd).redMul($.t),B=this.z.redMul($.z.redAdd($.z)),H=N.redSub(I),z=B.redSub(L),Q=B.redAdd(L),te=N.redAdd(I),G=H.redMul(z),ie=Q.redMul(te),Re=H.redMul(te),$e=z.redMul(Q);return this.curve.point(G,ie,$e,Re)};Point.prototype._projAdd=function($){var I=this.z.redMul($.z),N=I.redSqr(),L=this.x.redMul($.x),B=this.y.redMul($.y),H=this.curve.d.redMul(L).redMul(B),z=N.redSub(H),Q=N.redAdd(H),te=this.x.redAdd(this.y).redMul($.x.redAdd($.y)).redISub(L).redISub(B),G=I.redMul(z).redMul(te),ie,Re;return this.curve.twisted?(ie=I.redMul(Q).redMul(B.redSub(this.curve._mulA(L))),Re=z.redMul(Q)):(ie=I.redMul(Q).redMul(B.redSub(L)),Re=this.curve._mulC(z).redMul(Q)),this.curve.point(G,ie,Re)};Point.prototype.add=function($){return this.isInfinity()?$:$.isInfinity()?this:this.curve.extended?this._extAdd($):this._projAdd($)};Point.prototype.mul=function($){return this._hasDoubles($)?this.curve._fixedNafMul(this,$):this.curve._wnafMul(this,$)};Point.prototype.mulAdd=function($,I,N){return this.curve._wnafMulAdd(1,[this,I],[$,N],2,!1)};Point.prototype.jmulAdd=function($,I,N){return this.curve._wnafMulAdd(1,[this,I],[$,N],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var $=this.z.redInvm();return this.x=this.x.redMul($),this.y=this.y.redMul($),this.t&&(this.t=this.t.redMul($)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function($){return this===$||this.getX().cmp($.getX())===0&&this.getY().cmp($.getY())===0};Point.prototype.eqXToP=function($){var I=$.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(I)===0)return!0;for(var N=$.clone(),L=this.curve.redN.redMul(this.z);;){if(N.iadd(this.curve.n),N.cmp(this.curve.p)>=0)return!1;if(I.redIAdd(L),this.x.cmp(I)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;const edwards$1=getDefaultExportFromCjs$1(edwards),edwards$2=_mergeNamespaces({__proto__:null,default:edwards$1},[edwards]);(function(T){var $=T;$.base=base$3,$.short=short$2,$.mont=mont$2,$.edwards=edwards$2})(curve$1);const index$1=getDefaultExportFromCjs$1(curve$1),curve=_mergeNamespaces({__proto__:null,default:index$1},[curve$1]);var curves$3={},hash$4={},utils$g={},assert$a=minimalisticAssert$1,inherits=inherits_browser$1,inherits_1=utils$g.inherits=inherits;function isSurrogatePair(T,$){return(T.charCodeAt($)&64512)!==55296||$<0||$+1>=T.length?!1:(T.charCodeAt($+1)&64512)===56320}function toArray(T,$){if(Array.isArray(T))return T.slice();if(!T)return[];var I=[];if(typeof T=="string")if($){if($==="hex")for(T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T),L=0;L<T.length;L+=2)I.push(parseInt(T[L]+T[L+1],16))}else for(var N=0,L=0;L<T.length;L++){var B=T.charCodeAt(L);B<128?I[N++]=B:B<2048?(I[N++]=B>>6|192,I[N++]=B&63|128):isSurrogatePair(T,L)?(B=65536+((B&1023)<<10)+(T.charCodeAt(++L)&1023),I[N++]=B>>18|240,I[N++]=B>>12&63|128,I[N++]=B>>6&63|128,I[N++]=B&63|128):(I[N++]=B>>12|224,I[N++]=B>>6&63|128,I[N++]=B&63|128)}else for(L=0;L<T.length;L++)I[L]=T[L]|0;return I}var toArray_1=utils$g.toArray=toArray;function toHex(T){for(var $="",I=0;I<T.length;I++)$+=zero2(T[I].toString(16));return $}var toHex_1=utils$g.toHex=toHex;function htonl(T){var $=T>>>24|T>>>8&65280|T<<8&16711680|(T&255)<<24;return $>>>0}var htonl_1=utils$g.htonl=htonl;function toHex32(T,$){for(var I="",N=0;N<T.length;N++){var L=T[N];$==="little"&&(L=htonl(L)),I+=zero8(L.toString(16))}return I}var toHex32_1=utils$g.toHex32=toHex32;function zero2(T){return T.length===1?"0"+T:T}var zero2_1=utils$g.zero2=zero2;function zero8(T){return T.length===7?"0"+T:T.length===6?"00"+T:T.length===5?"000"+T:T.length===4?"0000"+T:T.length===3?"00000"+T:T.length===2?"000000"+T:T.length===1?"0000000"+T:T}var zero8_1=utils$g.zero8=zero8;function join32(T,$,I,N){var L=I-$;assert$a(L%4===0);for(var B=new Array(L/4),H=0,z=$;H<B.length;H++,z+=4){var Q;N==="big"?Q=T[z]<<24|T[z+1]<<16|T[z+2]<<8|T[z+3]:Q=T[z+3]<<24|T[z+2]<<16|T[z+1]<<8|T[z],B[H]=Q>>>0}return B}var join32_1=utils$g.join32=join32;function split32(T,$){for(var I=new Array(T.length*4),N=0,L=0;N<T.length;N++,L+=4){var B=T[N];$==="big"?(I[L]=B>>>24,I[L+1]=B>>>16&255,I[L+2]=B>>>8&255,I[L+3]=B&255):(I[L+3]=B>>>24,I[L+2]=B>>>16&255,I[L+1]=B>>>8&255,I[L]=B&255)}return I}var split32_1=utils$g.split32=split32;function rotr32$1(T,$){return T>>>$|T<<32-$}var rotr32_1=utils$g.rotr32=rotr32$1;function rotl32$2(T,$){return T<<$|T>>>32-$}var rotl32_1=utils$g.rotl32=rotl32$2;function sum32$3(T,$){return T+$>>>0}var sum32_1=utils$g.sum32=sum32$3;function sum32_3$1(T,$,I){return T+$+I>>>0}var sum32_3_1=utils$g.sum32_3=sum32_3$1;function sum32_4$2(T,$,I,N){return T+$+I+N>>>0}var sum32_4_1=utils$g.sum32_4=sum32_4$2;function sum32_5$2(T,$,I,N,L){return T+$+I+N+L>>>0}var sum32_5_1=utils$g.sum32_5=sum32_5$2;function sum64$1(T,$,I,N){var L=T[$],B=T[$+1],H=N+B>>>0,z=(H<N?1:0)+I+L;T[$]=z>>>0,T[$+1]=H}var sum64_1=utils$g.sum64=sum64$1;function sum64_hi$1(T,$,I,N){var L=$+N>>>0,B=(L<$?1:0)+T+I;return B>>>0}var sum64_hi_1=utils$g.sum64_hi=sum64_hi$1;function sum64_lo$1(T,$,I,N){var L=$+N;return L>>>0}var sum64_lo_1=utils$g.sum64_lo=sum64_lo$1;function sum64_4_hi$1(T,$,I,N,L,B,H,z){var Q=0,te=$;te=te+N>>>0,Q+=te<$?1:0,te=te+B>>>0,Q+=te<B?1:0,te=te+z>>>0,Q+=te<z?1:0;var G=T+I+L+H+Q;return G>>>0}var sum64_4_hi_1=utils$g.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(T,$,I,N,L,B,H,z){var Q=$+N+B+z;return Q>>>0}var sum64_4_lo_1=utils$g.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(T,$,I,N,L,B,H,z,Q,te){var G=0,ie=$;ie=ie+N>>>0,G+=ie<$?1:0,ie=ie+B>>>0,G+=ie<B?1:0,ie=ie+z>>>0,G+=ie<z?1:0,ie=ie+te>>>0,G+=ie<te?1:0;var Re=T+I+L+H+Q+G;return Re>>>0}var sum64_5_hi_1=utils$g.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(T,$,I,N,L,B,H,z,Q,te){var G=$+N+B+z+te;return G>>>0}var sum64_5_lo_1=utils$g.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(T,$,I){var N=$<<32-I|T>>>I;return N>>>0}var rotr64_hi_1=utils$g.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(T,$,I){var N=T<<32-I|$>>>I;return N>>>0}var rotr64_lo_1=utils$g.rotr64_lo=rotr64_lo$1;function shr64_hi$1(T,$,I){return T>>>I}var shr64_hi_1=utils$g.shr64_hi=shr64_hi$1;function shr64_lo$1(T,$,I){var N=T<<32-I|$>>>I;return N>>>0}var shr64_lo_1=utils$g.shr64_lo=shr64_lo$1;const utils$f=_mergeNamespaces({__proto__:null,default:utils$g,htonl:htonl_1,inherits:inherits_1,join32:join32_1,rotl32:rotl32_1,rotr32:rotr32_1,rotr64_hi:rotr64_hi_1,rotr64_lo:rotr64_lo_1,shr64_hi:shr64_hi_1,shr64_lo:shr64_lo_1,split32:split32_1,sum32:sum32_1,sum32_3:sum32_3_1,sum32_4:sum32_4_1,sum32_5:sum32_5_1,sum64:sum64_1,sum64_4_hi:sum64_4_hi_1,sum64_4_lo:sum64_4_lo_1,sum64_5_hi:sum64_5_hi_1,sum64_5_lo:sum64_5_lo_1,sum64_hi:sum64_hi_1,sum64_lo:sum64_lo_1,toArray:toArray_1,toHex:toHex_1,toHex32:toHex32_1,zero2:zero2_1,zero8:zero8_1},[utils$g]);var common$7={},utils$e=utils$f,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var BlockHash_1=common$7.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function($,I){if($=utils$e.toArray($,I),this.pending?this.pending=this.pending.concat($):this.pending=$,this.pendingTotal+=$.length,this.pending.length>=this._delta8){$=this.pending;var N=$.length%this._delta8;this.pending=$.slice($.length-N,$.length),this.pending.length===0&&(this.pending=null),$=utils$e.join32($,0,$.length-N,this.endian);for(var L=0;L<$.length;L+=this._delta32)this._update($,L,L+this._delta32)}return this};BlockHash$4.prototype.digest=function($){return this.update(this._pad()),assert$9(this.pending===null),this._digest($)};BlockHash$4.prototype._pad=function(){var $=this.pendingTotal,I=this._delta8,N=I-($+this.padLength)%I,L=new Array(N+this.padLength);L[0]=128;for(var B=1;B<N;B++)L[B]=0;if($<<=3,this.endian==="big"){for(var H=8;H<this.padLength;H++)L[B++]=0;L[B++]=0,L[B++]=0,L[B++]=0,L[B++]=0,L[B++]=$>>>24&255,L[B++]=$>>>16&255,L[B++]=$>>>8&255,L[B++]=$&255}else for(L[B++]=$&255,L[B++]=$>>>8&255,L[B++]=$>>>16&255,L[B++]=$>>>24&255,L[B++]=0,L[B++]=0,L[B++]=0,L[B++]=0,H=8;H<this.padLength;H++)L[B++]=0;return L};const common$6=_mergeNamespaces({__proto__:null,BlockHash:BlockHash_1,default:common$7},[common$7]);var sha$1={},common$5={},utils$d=utils$f,rotr32=utils$d.rotr32;function ft_1$1(T,$,I,N){if(T===0)return ch32$1($,I,N);if(T===1||T===3)return p32($,I,N);if(T===2)return maj32$1($,I,N)}var ft_1_1=common$5.ft_1=ft_1$1;function ch32$1(T,$,I){return T&$^~T&I}var ch32_1=common$5.ch32=ch32$1;function maj32$1(T,$,I){return T&$^T&I^$&I}var maj32_1=common$5.maj32=maj32$1;function p32(T,$,I){return T^$^I}var p32_1=common$5.p32=p32;function s0_256$1(T){return rotr32(T,2)^rotr32(T,13)^rotr32(T,22)}var s0_256_1=common$5.s0_256=s0_256$1;function s1_256$1(T){return rotr32(T,6)^rotr32(T,11)^rotr32(T,25)}var s1_256_1=common$5.s1_256=s1_256$1;function g0_256$1(T){return rotr32(T,7)^rotr32(T,18)^T>>>3}var g0_256_1=common$5.g0_256=g0_256$1;function g1_256$1(T){return rotr32(T,17)^rotr32(T,19)^T>>>10}var g1_256_1=common$5.g1_256=g1_256$1;const common$4=_mergeNamespaces({__proto__:null,ch32:ch32_1,default:common$5,ft_1:ft_1_1,g0_256:g0_256_1,g1_256:g1_256_1,maj32:maj32_1,p32:p32_1,s0_256:s0_256_1,s1_256:s1_256_1},[common$5]);var utils$c=utils$f,common$3=common$6,shaCommon$1=common$4,rotl32$1=utils$c.rotl32,sum32$2=utils$c.sum32,sum32_5$1=utils$c.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$c.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function($,I){for(var N=this.W,L=0;L<16;L++)N[L]=$[I+L];for(;L<N.length;L++)N[L]=rotl32$1(N[L-3]^N[L-8]^N[L-14]^N[L-16],1);var B=this.h[0],H=this.h[1],z=this.h[2],Q=this.h[3],te=this.h[4];for(L=0;L<N.length;L++){var G=~~(L/20),ie=sum32_5$1(rotl32$1(B,5),ft_1(G,H,z,Q),te,N[L],sha1_K[G]);te=Q,Q=z,z=rotl32$1(H,30),H=B,B=ie}this.h[0]=sum32$2(this.h[0],B),this.h[1]=sum32$2(this.h[1],H),this.h[2]=sum32$2(this.h[2],z),this.h[3]=sum32$2(this.h[3],Q),this.h[4]=sum32$2(this.h[4],te)};SHA1.prototype._digest=function($){return $==="hex"?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};const _1$1=getDefaultExportFromCjs$1(_1),_1$2=_mergeNamespaces({__proto__:null,default:_1$1},[_1]);var utils$b=utils$f,common$2=common$6,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$b.sum32,sum32_4$1=utils$b.sum32_4,sum32_5=utils$b.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$b.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function($,I){for(var N=this.W,L=0;L<16;L++)N[L]=$[I+L];for(;L<N.length;L++)N[L]=sum32_4$1(g1_256(N[L-2]),N[L-7],g0_256(N[L-15]),N[L-16]);var B=this.h[0],H=this.h[1],z=this.h[2],Q=this.h[3],te=this.h[4],G=this.h[5],ie=this.h[6],Re=this.h[7];for(assert$8(this.k.length===N.length),L=0;L<N.length;L++){var $e=sum32_5(Re,s1_256(te),ch32(te,G,ie),this.k[L],N[L]),Pe=sum32$1(s0_256(B),maj32(B,H,z));Re=ie,ie=G,G=te,te=sum32$1(Q,$e),Q=z,z=H,H=B,B=sum32$1($e,Pe)}this.h[0]=sum32$1(this.h[0],B),this.h[1]=sum32$1(this.h[1],H),this.h[2]=sum32$1(this.h[2],z),this.h[3]=sum32$1(this.h[3],Q),this.h[4]=sum32$1(this.h[4],te),this.h[5]=sum32$1(this.h[5],G),this.h[6]=sum32$1(this.h[6],ie),this.h[7]=sum32$1(this.h[7],Re)};SHA256$1.prototype._digest=function($){return $==="hex"?utils$b.toHex32(this.h,"big"):utils$b.split32(this.h,"big")};const _256$1=getDefaultExportFromCjs$1(_256),_256$2=_mergeNamespaces({__proto__:null,default:_256$1},[_256]);var utils$a=utils$f,SHA256=_256$2;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$a.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function($){return $==="hex"?utils$a.toHex32(this.h.slice(0,7),"big"):utils$a.split32(this.h.slice(0,7),"big")};const _224$1=getDefaultExportFromCjs$1(_224),_224$2=_mergeNamespaces({__proto__:null,default:_224$1},[_224]);var utils$9=utils$f,common$1=common$6,assert$7=minimalisticAssert$1,rotr64_hi=utils$9.rotr64_hi,rotr64_lo=utils$9.rotr64_lo,shr64_hi=utils$9.shr64_hi,shr64_lo=utils$9.shr64_lo,sum64=utils$9.sum64,sum64_hi=utils$9.sum64_hi,sum64_lo=utils$9.sum64_lo,sum64_4_hi=utils$9.sum64_4_hi,sum64_4_lo=utils$9.sum64_4_lo,sum64_5_hi=utils$9.sum64_5_hi,sum64_5_lo=utils$9.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$9.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function($,I){for(var N=this.W,L=0;L<32;L++)N[L]=$[I+L];for(;L<N.length;L+=2){var B=g1_512_hi(N[L-4],N[L-3]),H=g1_512_lo(N[L-4],N[L-3]),z=N[L-14],Q=N[L-13],te=g0_512_hi(N[L-30],N[L-29]),G=g0_512_lo(N[L-30],N[L-29]),ie=N[L-32],Re=N[L-31];N[L]=sum64_4_hi(B,H,z,Q,te,G,ie,Re),N[L+1]=sum64_4_lo(B,H,z,Q,te,G,ie,Re)}};SHA512$1.prototype._update=function($,I){this._prepareBlock($,I);var N=this.W,L=this.h[0],B=this.h[1],H=this.h[2],z=this.h[3],Q=this.h[4],te=this.h[5],G=this.h[6],ie=this.h[7],Re=this.h[8],$e=this.h[9],Pe=this.h[10],Me=this.h[11],Be=this.h[12],Ke=this.h[13],Le=this.h[14],qe=this.h[15];assert$7(this.k.length===N.length);for(var He=0;He<N.length;He+=2){var Ge=Le,at=qe,ot=s1_512_hi(Re,$e),Ye=s1_512_lo(Re,$e),nt=ch64_hi(Re,$e,Pe,Me,Be),Qe=ch64_lo(Re,$e,Pe,Me,Be,Ke),tt=this.k[He],ze=this.k[He+1],Fe=N[He],ke=N[He+1],Ue=sum64_5_hi(Ge,at,ot,Ye,nt,Qe,tt,ze,Fe,ke),Je=sum64_5_lo(Ge,at,ot,Ye,nt,Qe,tt,ze,Fe,ke);Ge=s0_512_hi(L,B),at=s0_512_lo(L,B),ot=maj64_hi(L,B,H,z,Q),Ye=maj64_lo(L,B,H,z,Q,te);var rt=sum64_hi(Ge,at,ot,Ye),Xe=sum64_lo(Ge,at,ot,Ye);Le=Be,qe=Ke,Be=Pe,Ke=Me,Pe=Re,Me=$e,Re=sum64_hi(G,ie,Ue,Je),$e=sum64_lo(ie,ie,Ue,Je),G=Q,ie=te,Q=H,te=z,H=L,z=B,L=sum64_hi(Ue,Je,rt,Xe),B=sum64_lo(Ue,Je,rt,Xe)}sum64(this.h,0,L,B),sum64(this.h,2,H,z),sum64(this.h,4,Q,te),sum64(this.h,6,G,ie),sum64(this.h,8,Re,$e),sum64(this.h,10,Pe,Me),sum64(this.h,12,Be,Ke),sum64(this.h,14,Le,qe)};SHA512$1.prototype._digest=function($){return $==="hex"?utils$9.toHex32(this.h,"big"):utils$9.split32(this.h,"big")};function ch64_hi(T,$,I,N,L){var B=T&I^~T&L;return B<0&&(B+=4294967296),B}function ch64_lo(T,$,I,N,L,B){var H=$&N^~$&B;return H<0&&(H+=4294967296),H}function maj64_hi(T,$,I,N,L){var B=T&I^T&L^I&L;return B<0&&(B+=4294967296),B}function maj64_lo(T,$,I,N,L,B){var H=$&N^$&B^N&B;return H<0&&(H+=4294967296),H}function s0_512_hi(T,$){var I=rotr64_hi(T,$,28),N=rotr64_hi($,T,2),L=rotr64_hi($,T,7),B=I^N^L;return B<0&&(B+=4294967296),B}function s0_512_lo(T,$){var I=rotr64_lo(T,$,28),N=rotr64_lo($,T,2),L=rotr64_lo($,T,7),B=I^N^L;return B<0&&(B+=4294967296),B}function s1_512_hi(T,$){var I=rotr64_hi(T,$,14),N=rotr64_hi(T,$,18),L=rotr64_hi($,T,9),B=I^N^L;return B<0&&(B+=4294967296),B}function s1_512_lo(T,$){var I=rotr64_lo(T,$,14),N=rotr64_lo(T,$,18),L=rotr64_lo($,T,9),B=I^N^L;return B<0&&(B+=4294967296),B}function g0_512_hi(T,$){var I=rotr64_hi(T,$,1),N=rotr64_hi(T,$,8),L=shr64_hi(T,$,7),B=I^N^L;return B<0&&(B+=4294967296),B}function g0_512_lo(T,$){var I=rotr64_lo(T,$,1),N=rotr64_lo(T,$,8),L=shr64_lo(T,$,7),B=I^N^L;return B<0&&(B+=4294967296),B}function g1_512_hi(T,$){var I=rotr64_hi(T,$,19),N=rotr64_hi($,T,29),L=shr64_hi(T,$,6),B=I^N^L;return B<0&&(B+=4294967296),B}function g1_512_lo(T,$){var I=rotr64_lo(T,$,19),N=rotr64_lo($,T,29),L=shr64_lo(T,$,6),B=I^N^L;return B<0&&(B+=4294967296),B}const _512$1=getDefaultExportFromCjs$1(_512),_512$2=_mergeNamespaces({__proto__:null,default:_512$1},[_512]);var utils$8=utils$f,SHA512=_512$2;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$8.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function($){return $==="hex"?utils$8.toHex32(this.h.slice(0,12),"big"):utils$8.split32(this.h.slice(0,12),"big")};const _384$1=getDefaultExportFromCjs$1(_384),_384$2=_mergeNamespaces({__proto__:null,default:_384$1},[_384]);var sha1$1=sha$1.sha1=_1$2,sha224$1=sha$1.sha224=_224$2,sha256$1=sha$1.sha256=_256$2,sha384$1=sha$1.sha384=_384$2,sha512$1=sha$1.sha512=_512$2;const sha=_mergeNamespaces({__proto__:null,default:sha$1,sha1:sha1$1,sha224:sha224$1,sha256:sha256$1,sha384:sha384$1,sha512:sha512$1},[sha$1]);var ripemd$1={},utils$7=utils$f,common=common$6,rotl32=utils$7.rotl32,sum32=utils$7.sum32,sum32_3=utils$7.sum32_3,sum32_4=utils$7.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$7.inherits(RIPEMD160,BlockHash);var ripemd160$1=ripemd$1.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function($,I){for(var N=this.h[0],L=this.h[1],B=this.h[2],H=this.h[3],z=this.h[4],Q=N,te=L,G=B,ie=H,Re=z,$e=0;$e<80;$e++){var Pe=sum32(rotl32(sum32_4(N,f($e,L,B,H),$[r[$e]+I],K($e)),s[$e]),z);N=z,z=H,H=rotl32(B,10),B=L,L=Pe,Pe=sum32(rotl32(sum32_4(Q,f(79-$e,te,G,ie),$[rh[$e]+I],Kh($e)),sh[$e]),Re),Q=Re,Re=ie,ie=rotl32(G,10),G=te,te=Pe}Pe=sum32_3(this.h[1],B,ie),this.h[1]=sum32_3(this.h[2],H,Re),this.h[2]=sum32_3(this.h[3],z,Q),this.h[3]=sum32_3(this.h[4],N,te),this.h[4]=sum32_3(this.h[0],L,G),this.h[0]=Pe};RIPEMD160.prototype._digest=function($){return $==="hex"?utils$7.toHex32(this.h,"little"):utils$7.split32(this.h,"little")};function f(T,$,I,N){return T<=15?$^I^N:T<=31?$&I|~$&N:T<=47?($|~I)^N:T<=63?$&N|I&~N:$^(I|~N)}function K(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function Kh(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];const ripemd=_mergeNamespaces({__proto__:null,default:ripemd$1,ripemd160:ripemd160$1},[ripemd$1]);var utils$6=utils$f,assert$6=minimalisticAssert$1;function Hmac(T,$,I){if(!(this instanceof Hmac))return new Hmac(T,$,I);this.Hash=T,this.blockSize=T.blockSize/8,this.outSize=T.outSize/8,this.inner=null,this.outer=null,this._init(utils$6.toArray($,I))}var hmac$1=Hmac;Hmac.prototype._init=function($){$.length>this.blockSize&&($=new this.Hash().update($).digest()),assert$6($.length<=this.blockSize);for(var I=$.length;I<this.blockSize;I++)$.push(0);for(I=0;I<$.length;I++)$[I]^=54;for(this.inner=new this.Hash().update($),I=0;I<$.length;I++)$[I]^=106;this.outer=new this.Hash().update($)};Hmac.prototype.update=function($,I){return this.inner.update($,I),this};Hmac.prototype.digest=function($){return this.outer.update(this.inner.digest()),this.outer.digest($)};const hmac$2=getDefaultExportFromCjs$1(hmac$1),hmac$3=_mergeNamespaces({__proto__:null,default:hmac$2},[hmac$1]);(function(T){var $=T;$.utils=utils$f,$.common=common$6,$.sha=sha,$.ripemd=ripemd,$.hmac=hmac$3,$.sha1=$.sha.sha1,$.sha256=$.sha.sha256,$.sha224=$.sha.sha224,$.sha384=$.sha.sha384,$.sha512=$.sha.sha512,$.ripemd160=$.ripemd.ripemd160})(hash$4);const hash$2=getDefaultExportFromCjs$1(hash$4),hash$3=_mergeNamespaces({__proto__:null,default:hash$2},[hash$4]);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(T){var $=T,I=hash$3,N=curve,L=utils$m,B=L.assert;function H(te){te.type==="short"?this.curve=new N.short(te):te.type==="edwards"?this.curve=new N.edwards(te):this.curve=new N.mont(te),this.g=this.curve.g,this.n=this.curve.n,this.hash=te.hash,B(this.g.validate(),"Invalid curve"),B(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}$.PresetCurve=H;function z(te,G){Object.defineProperty($,te,{configurable:!0,enumerable:!0,get:function(){var ie=new H(G);return Object.defineProperty($,te,{configurable:!0,enumerable:!0,value:ie}),ie}})}z("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:I.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),z("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:I.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),z("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:I.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),z("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:I.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),z("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:I.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),z("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:I.sha256,gRed:!1,g:["9"]}),z("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:I.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Q;try{Q=requireSecp256k1()}catch{Q=void 0}z("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:I.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Q]})})(curves$3);const curves$1=getDefaultExportFromCjs$1(curves$3),curves$2=_mergeNamespaces({__proto__:null,default:curves$1},[curves$3]);var hash$1=hash$3,utils$5=utils$o,assert$5=minimalisticAssert$1;function HmacDRBG(T){if(!(this instanceof HmacDRBG))return new HmacDRBG(T);this.hash=T.hash,this.predResist=!!T.predResist,this.outLen=this.hash.outSize,this.minEntropy=T.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var $=utils$5.toArray(T.entropy,T.entropyEnc||"hex"),I=utils$5.toArray(T.nonce,T.nonceEnc||"hex"),N=utils$5.toArray(T.pers,T.persEnc||"hex");assert$5($.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init($,I,N)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function($,I,N){var L=$.concat(I).concat(N);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var B=0;B<this.V.length;B++)this.K[B]=0,this.V[B]=1;this._update(L),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function($){var I=this._hmac().update(this.V).update([0]);$&&(I=I.update($)),this.K=I.digest(),this.V=this._hmac().update(this.V).digest(),$&&(this.K=this._hmac().update(this.V).update([1]).update($).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function($,I,N,L){typeof I!="string"&&(L=N,N=I,I=null),$=utils$5.toArray($,I),N=utils$5.toArray(N,L),assert$5($.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update($.concat(N||[])),this._reseed=1};HmacDRBG.prototype.generate=function($,I,N,L){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof I!="string"&&(L=N,N=I,I=null),N&&(N=utils$5.toArray(N,L||"hex"),this._update(N));for(var B=[];B.length<$;)this.V=this._hmac().update(this.V).digest(),B=B.concat(this.V);var H=B.slice(0,$);return this._update(N),this._reseed++,utils$5.encode(H,I)};const hmacDrbg$1=getDefaultExportFromCjs$1(hmacDrbg),hmacDrbg$2=_mergeNamespaces({__proto__:null,default:hmacDrbg$1},[hmacDrbg]);var BN$2=bn$3,utils$4=utils$m,assert$4=utils$4.assert;function KeyPair$2(T,$){this.ec=T,this.priv=null,this.pub=null,$.priv&&this._importPrivate($.priv,$.privEnc),$.pub&&this._importPublic($.pub,$.pubEnc)}var key$3=KeyPair$2;KeyPair$2.fromPublic=function($,I,N){return I instanceof KeyPair$2?I:new KeyPair$2($,{pub:I,pubEnc:N})};KeyPair$2.fromPrivate=function($,I,N){return I instanceof KeyPair$2?I:new KeyPair$2($,{priv:I,privEnc:N})};KeyPair$2.prototype.validate=function(){var $=this.getPublic();return $.isInfinity()?{result:!1,reason:"Invalid public key"}:$.validate()?$.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function($,I){return typeof $=="string"&&(I=$,$=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),I?this.pub.encode(I,$):this.pub};KeyPair$2.prototype.getPrivate=function($){return $==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function($,I){this.priv=new BN$2($,I||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function($,I){if($.x||$.y){this.ec.curve.type==="mont"?assert$4($.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$4($.x&&$.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point($.x,$.y);return}this.pub=this.ec.curve.decodePoint($,I)};KeyPair$2.prototype.derive=function($){return $.validate()||assert$4($.validate(),"public point not validated"),$.mul(this.priv).getX()};KeyPair$2.prototype.sign=function($,I,N){return this.ec.sign($,this,I,N)};KeyPair$2.prototype.verify=function($,I,N){return this.ec.verify($,I,this,void 0,N)};KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};const key$4=getDefaultExportFromCjs$1(key$3),key$5=_mergeNamespaces({__proto__:null,default:key$4},[key$3]);var BN$1=bn$3,utils$3=utils$m,assert$3=utils$3.assert;function Signature$2(T,$){if(T instanceof Signature$2)return T;this._importDER(T,$)||(assert$3(T.r&&T.s,"Signature without r or s"),this.r=new BN$1(T.r,16),this.s=new BN$1(T.s,16),T.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=T.recoveryParam)}var signature$3=Signature$2;function Position(){this.place=0}function getLength(T,$){var I=T[$.place++];if(!(I&128))return I;var N=I&15;if(N===0||N>4||T[$.place]===0)return!1;for(var L=0,B=0,H=$.place;B<N;B++,H++)L<<=8,L|=T[H],L>>>=0;return L<=127?!1:($.place=H,L)}function rmPadding(T){for(var $=0,I=T.length-1;!T[$]&&!(T[$+1]&128)&&$<I;)$++;return $===0?T:T.slice($)}Signature$2.prototype._importDER=function($,I){$=utils$3.toArray($,I);var N=new Position;if($[N.place++]!==48)return!1;var L=getLength($,N);if(L===!1||L+N.place!==$.length||$[N.place++]!==2)return!1;var B=getLength($,N);if(B===!1||($[N.place]&128)!==0)return!1;var H=$.slice(N.place,B+N.place);if(N.place+=B,$[N.place++]!==2)return!1;var z=getLength($,N);if(z===!1||$.length!==z+N.place||($[N.place]&128)!==0)return!1;var Q=$.slice(N.place,z+N.place);if(H[0]===0)if(H[1]&128)H=H.slice(1);else return!1;if(Q[0]===0)if(Q[1]&128)Q=Q.slice(1);else return!1;return this.r=new BN$1(H),this.s=new BN$1(Q),this.recoveryParam=null,!0};function constructLength(T,$){if($<128){T.push($);return}var I=1+(Math.log($)/Math.LN2>>>3);for(T.push(I|128);--I;)T.push($>>>(I<<3)&255);T.push($)}Signature$2.prototype.toDER=function($){var I=this.r.toArray(),N=this.s.toArray();for(I[0]&128&&(I=[0].concat(I)),N[0]&128&&(N=[0].concat(N)),I=rmPadding(I),N=rmPadding(N);!N[0]&&!(N[1]&128);)N=N.slice(1);var L=[2];constructLength(L,I.length),L=L.concat(I),L.push(2),constructLength(L,N.length);var B=L.concat(N),H=[48];return constructLength(H,B.length),H=H.concat(B),utils$3.encode(H,$)};const signature$4=getDefaultExportFromCjs$1(signature$3),signature$5=_mergeNamespaces({__proto__:null,default:signature$4},[signature$3]);var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var T=bn$3,$=hmacDrbg$2,I=utils$m,N=curves$2,L=requireBrorand(),B=I.assert,H=key$5,z=signature$5;function Q(te){if(!(this instanceof Q))return new Q(te);typeof te=="string"&&(B(Object.prototype.hasOwnProperty.call(N,te),"Unknown curve "+te),te=N[te]),te instanceof N.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}return ec=Q,Q.prototype.keyPair=function(G){return new H(this,G)},Q.prototype.keyFromPrivate=function(G,ie){return H.fromPrivate(this,G,ie)},Q.prototype.keyFromPublic=function(G,ie){return H.fromPublic(this,G,ie)},Q.prototype.genKeyPair=function(G){G||(G={});for(var ie=new $({hash:this.hash,pers:G.pers,persEnc:G.persEnc||"utf8",entropy:G.entropy||L(this.hash.hmacStrength),entropyEnc:G.entropy&&G.entropyEnc||"utf8",nonce:this.n.toArray()}),Re=this.n.byteLength(),$e=this.n.sub(new T(2));;){var Pe=new T(ie.generate(Re));if(!(Pe.cmp($e)>0))return Pe.iaddn(1),this.keyFromPrivate(Pe)}},Q.prototype._truncateToN=function(G,ie,Re){var $e;if(T.isBN(G)||typeof G=="number")G=new T(G,16),$e=G.byteLength();else if(typeof G=="object")$e=G.length,G=new T(G,16);else{var Pe=G.toString();$e=Pe.length+1>>>1,G=new T(Pe,16)}typeof Re!="number"&&(Re=$e*8);var Me=Re-this.n.bitLength();return Me>0&&(G=G.ushrn(Me)),!ie&&G.cmp(this.n)>=0?G.sub(this.n):G},Q.prototype.sign=function(G,ie,Re,$e){if(typeof Re=="object"&&($e=Re,Re=null),$e||($e={}),typeof G!="string"&&typeof G!="number"&&!T.isBN(G)){B(typeof G=="object"&&G&&typeof G.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),B(G.length>>>0===G.length);for(var Pe=0;Pe<G.length;Pe++)B((G[Pe]&255)===G[Pe])}ie=this.keyFromPrivate(ie,Re),G=this._truncateToN(G,!1,$e.msgBitLength),B(!G.isNeg(),"Can not sign a negative message");var Me=this.n.byteLength(),Be=ie.getPrivate().toArray("be",Me),Ke=G.toArray("be",Me);B(new T(Ke).eq(G),"Can not sign message");for(var Le=new $({hash:this.hash,entropy:Be,nonce:Ke,pers:$e.pers,persEnc:$e.persEnc||"utf8"}),qe=this.n.sub(new T(1)),He=0;;He++){var Ge=$e.k?$e.k(He):new T(Le.generate(this.n.byteLength()));if(Ge=this._truncateToN(Ge,!0),!(Ge.cmpn(1)<=0||Ge.cmp(qe)>=0)){var at=this.g.mul(Ge);if(!at.isInfinity()){var ot=at.getX(),Ye=ot.umod(this.n);if(Ye.cmpn(0)!==0){var nt=Ge.invm(this.n).mul(Ye.mul(ie.getPrivate()).iadd(G));if(nt=nt.umod(this.n),nt.cmpn(0)!==0){var Qe=(at.getY().isOdd()?1:0)|(ot.cmp(Ye)!==0?2:0);return $e.canonical&&nt.cmp(this.nh)>0&&(nt=this.n.sub(nt),Qe^=1),new z({r:Ye,s:nt,recoveryParam:Qe})}}}}}},Q.prototype.verify=function(G,ie,Re,$e,Pe){Pe||(Pe={}),G=this._truncateToN(G,!1,Pe.msgBitLength),Re=this.keyFromPublic(Re,$e),ie=new z(ie,"hex");var Me=ie.r,Be=ie.s;if(Me.cmpn(1)<0||Me.cmp(this.n)>=0||Be.cmpn(1)<0||Be.cmp(this.n)>=0)return!1;var Ke=Be.invm(this.n),Le=Ke.mul(G).umod(this.n),qe=Ke.mul(Me).umod(this.n),He;return this.curve._maxwellTrick?(He=this.g.jmulAdd(Le,Re.getPublic(),qe),He.isInfinity()?!1:He.eqXToP(Me)):(He=this.g.mulAdd(Le,Re.getPublic(),qe),He.isInfinity()?!1:He.getX().umod(this.n).cmp(Me)===0)},Q.prototype.recoverPubKey=function(te,G,ie,Re){B((3&ie)===ie,"The recovery param is more than two bits"),G=new z(G,Re);var $e=this.n,Pe=new T(te),Me=G.r,Be=G.s,Ke=ie&1,Le=ie>>1;if(Me.cmp(this.curve.p.umod(this.curve.n))>=0&&Le)throw new Error("Unable to find sencond key candinate");Le?Me=this.curve.pointFromX(Me.add(this.curve.n),Ke):Me=this.curve.pointFromX(Me,Ke);var qe=G.r.invm($e),He=$e.sub(Pe).mul(qe).umod($e),Ge=Be.mul(qe).umod($e);return this.g.mulAdd(He,Me,Ge)},Q.prototype.getKeyRecoveryParam=function(te,G,ie,Re){if(G=new z(G,Re),G.recoveryParam!==null)return G.recoveryParam;for(var $e=0;$e<4;$e++){var Pe;try{Pe=this.recoverPubKey(te,G,$e)}catch{continue}if(Pe.eq(ie))return $e}throw new Error("Unable to find valid recovery factor")},ec}var utils$2=utils$m,assert$2=utils$2.assert,parseBytes$2=utils$2.parseBytes,cachedProperty$1=utils$2.cachedProperty;function KeyPair$1(T,$){this.eddsa=T,this._secret=parseBytes$2($.secret),T.isPoint($.pub)?this._pub=$.pub:this._pubBytes=parseBytes$2($.pub)}KeyPair$1.fromPublic=function($,I){return I instanceof KeyPair$1?I:new KeyPair$1($,{pub:I})};KeyPair$1.fromSecret=function($,I){return I instanceof KeyPair$1?I:new KeyPair$1($,{secret:I})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var $=this.eddsa,I=this.hash(),N=$.encodingLength-1,L=I.slice(0,$.encodingLength);return L[0]&=248,L[N]&=127,L[N]|=64,L});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function($){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign($,this)};KeyPair$1.prototype.verify=function($,I){return this.eddsa.verify($,I,this)};KeyPair$1.prototype.getSecret=function($){return assert$2(this._secret,"KeyPair is public only"),utils$2.encode(this.secret(),$)};KeyPair$1.prototype.getPublic=function($){return utils$2.encode(this.pubBytes(),$)};var key=KeyPair$1;const key$1=getDefaultExportFromCjs$1(key),key$2=_mergeNamespaces({__proto__:null,default:key$1},[key]);var BN=bn$3,utils$1=utils$m,assert$1=utils$1.assert,cachedProperty=utils$1.cachedProperty,parseBytes$1=utils$1.parseBytes;function Signature$1(T,$){this.eddsa=T,typeof $!="object"&&($=parseBytes$1($)),Array.isArray($)&&(assert$1($.length===T.encodingLength*2,"Signature has invalid size"),$={R:$.slice(0,T.encodingLength),S:$.slice(T.encodingLength)}),assert$1($.R&&$.S,"Signature without R or S"),T.isPoint($.R)&&(this._R=$.R),$.S instanceof BN&&(this._S=$.S),this._Rencoded=Array.isArray($.R)?$.R:$.Rencoded,this._Sencoded=Array.isArray($.S)?$.S:$.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$1.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1;const signature$1=getDefaultExportFromCjs$1(signature),signature$2=_mergeNamespaces({__proto__:null,default:signature$1},[signature]);var hash=hash$3,curves=curves$2,utils=utils$m,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=key$2,Signature=signature$2;function EDDSA(T){if(assert(T==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(T);T=curves[T].curve,this.curve=T,this.g=T.g,this.g.precompute(T.n.bitLength()+1),this.pointClass=T.point().constructor,this.encodingLength=Math.ceil(T.n.bitLength()/8),this.hash=hash.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function($,I){$=parseBytes($);var N=this.keyFromSecret(I),L=this.hashInt(N.messagePrefix(),$),B=this.g.mul(L),H=this.encodePoint(B),z=this.hashInt(H,N.pubBytes(),$).mul(N.priv()),Q=L.add(z).umod(this.curve.n);return this.makeSignature({R:B,S:Q,Rencoded:H})};EDDSA.prototype.verify=function($,I,N){if($=parseBytes($),I=this.makeSignature(I),I.S().gte(I.eddsa.curve.n)||I.S().isNeg())return!1;var L=this.keyFromPublic(N),B=this.hashInt(I.Rencoded(),L.pubBytes(),$),H=this.g.mul(I.S()),z=I.R().add(L.pub().mul(B));return z.eq(H)};EDDSA.prototype.hashInt=function(){for(var $=this.hash(),I=0;I<arguments.length;I++)$.update(arguments[I]);return utils.intFromLE($.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function($){return KeyPair.fromPublic(this,$)};EDDSA.prototype.keyFromSecret=function($){return KeyPair.fromSecret(this,$)};EDDSA.prototype.makeSignature=function($){return $ instanceof Signature?$:new Signature(this,$)};EDDSA.prototype.encodePoint=function($){var I=$.getY().toArray("le",this.encodingLength);return I[this.encodingLength-1]|=$.getX().isOdd()?128:0,I};EDDSA.prototype.decodePoint=function($){$=utils.parseBytes($);var I=$.length-1,N=$.slice(0,I).concat($[I]&-129),L=($[I]&128)!==0,B=utils.intFromLE(N);return this.curve.pointFromY(B,L)};EDDSA.prototype.encodeInt=function($){return $.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function($){return utils.intFromLE($)};EDDSA.prototype.isPoint=function($){return $ instanceof this.pointClass};const index=getDefaultExportFromCjs$1(eddsa),eddsa$1=_mergeNamespaces({__proto__:null,default:index},[eddsa]);var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(T){var $=T;$.version=require$$0.version,$.utils=utils$m,$.rand=requireBrorand(),$.curve=curve,$.curves=curves$2,$.ec=requireEc(),$.eddsa=eddsa$1}(elliptic)),elliptic}var bn={exports:{}},hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(T){(function($,I){function N(Fe,ke){if(!Fe)throw new Error(ke||"Assertion failed")}function L(Fe,ke){Fe.super_=ke;var Ue=function(){};Ue.prototype=ke.prototype,Fe.prototype=new Ue,Fe.prototype.constructor=Fe}function B(Fe,ke,Ue){if(B.isBN(Fe))return Fe;this.negative=0,this.words=null,this.length=0,this.red=null,Fe!==null&&((ke==="le"||ke==="be")&&(Ue=ke,ke=10),this._init(Fe||0,ke||10,Ue||"be"))}typeof $=="object"?$.exports=B:I.BN=B,B.BN=B,B.wordSize=26;var H;try{typeof window<"u"&&typeof window.Buffer<"u"?H=window.Buffer:H=dist$5.Buffer}catch{}B.isBN=function(ke){return ke instanceof B?!0:ke!==null&&typeof ke=="object"&&ke.constructor.wordSize===B.wordSize&&Array.isArray(ke.words)},B.max=function(ke,Ue){return ke.cmp(Ue)>0?ke:Ue},B.min=function(ke,Ue){return ke.cmp(Ue)<0?ke:Ue},B.prototype._init=function(ke,Ue,Je){if(typeof ke=="number")return this._initNumber(ke,Ue,Je);if(typeof ke=="object")return this._initArray(ke,Ue,Je);Ue==="hex"&&(Ue=16),N(Ue===(Ue|0)&&Ue>=2&&Ue<=36),ke=ke.toString().replace(/\s+/g,"");var rt=0;ke[0]==="-"&&(rt++,this.negative=1),rt<ke.length&&(Ue===16?this._parseHex(ke,rt,Je):(this._parseBase(ke,Ue,rt),Je==="le"&&this._initArray(this.toArray(),Ue,Je)))},B.prototype._initNumber=function(ke,Ue,Je){ke<0&&(this.negative=1,ke=-ke),ke<67108864?(this.words=[ke&67108863],this.length=1):ke<4503599627370496?(this.words=[ke&67108863,ke/67108864&67108863],this.length=2):(N(ke<9007199254740992),this.words=[ke&67108863,ke/67108864&67108863,1],this.length=3),Je==="le"&&this._initArray(this.toArray(),Ue,Je)},B.prototype._initArray=function(ke,Ue,Je){if(N(typeof ke.length=="number"),ke.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ke.length/3),this.words=new Array(this.length);for(var rt=0;rt<this.length;rt++)this.words[rt]=0;var Xe,it,We=0;if(Je==="be")for(rt=ke.length-1,Xe=0;rt>=0;rt-=3)it=ke[rt]|ke[rt-1]<<8|ke[rt-2]<<16,this.words[Xe]|=it<<We&67108863,this.words[Xe+1]=it>>>26-We&67108863,We+=24,We>=26&&(We-=26,Xe++);else if(Je==="le")for(rt=0,Xe=0;rt<ke.length;rt+=3)it=ke[rt]|ke[rt+1]<<8|ke[rt+2]<<16,this.words[Xe]|=it<<We&67108863,this.words[Xe+1]=it>>>26-We&67108863,We+=24,We>=26&&(We-=26,Xe++);return this._strip()};function z(Fe,ke){var Ue=Fe.charCodeAt(ke);if(Ue>=48&&Ue<=57)return Ue-48;if(Ue>=65&&Ue<=70)return Ue-55;if(Ue>=97&&Ue<=102)return Ue-87;N(!1,"Invalid character in "+Fe)}function Q(Fe,ke,Ue){var Je=z(Fe,Ue);return Ue-1>=ke&&(Je|=z(Fe,Ue-1)<<4),Je}B.prototype._parseHex=function(ke,Ue,Je){this.length=Math.ceil((ke.length-Ue)/6),this.words=new Array(this.length);for(var rt=0;rt<this.length;rt++)this.words[rt]=0;var Xe=0,it=0,We;if(Je==="be")for(rt=ke.length-1;rt>=Ue;rt-=2)We=Q(ke,Ue,rt)<<Xe,this.words[it]|=We&67108863,Xe>=18?(Xe-=18,it+=1,this.words[it]|=We>>>26):Xe+=8;else{var Ve=ke.length-Ue;for(rt=Ve%2===0?Ue+1:Ue;rt<ke.length;rt+=2)We=Q(ke,Ue,rt)<<Xe,this.words[it]|=We&67108863,Xe>=18?(Xe-=18,it+=1,this.words[it]|=We>>>26):Xe+=8}this._strip()};function te(Fe,ke,Ue,Je){for(var rt=0,Xe=0,it=Math.min(Fe.length,Ue),We=ke;We<it;We++){var Ve=Fe.charCodeAt(We)-48;rt*=Je,Ve>=49?Xe=Ve-49+10:Ve>=17?Xe=Ve-17+10:Xe=Ve,N(Ve>=0&&Xe<Je,"Invalid character"),rt+=Xe}return rt}B.prototype._parseBase=function(ke,Ue,Je){this.words=[0],this.length=1;for(var rt=0,Xe=1;Xe<=67108863;Xe*=Ue)rt++;rt--,Xe=Xe/Ue|0;for(var it=ke.length-Je,We=it%rt,Ve=Math.min(it,it-We)+Je,je=0,Ze=Je;Ze<Ve;Ze+=rt)je=te(ke,Ze,Ze+rt,Ue),this.imuln(Xe),this.words[0]+je<67108864?this.words[0]+=je:this._iaddn(je);if(We!==0){var st=1;for(je=te(ke,Ze,ke.length,Ue),Ze=0;Ze<We;Ze++)st*=Ue;this.imuln(st),this.words[0]+je<67108864?this.words[0]+=je:this._iaddn(je)}this._strip()},B.prototype.copy=function(ke){ke.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)ke.words[Ue]=this.words[Ue];ke.length=this.length,ke.negative=this.negative,ke.red=this.red};function G(Fe,ke){Fe.words=ke.words,Fe.length=ke.length,Fe.negative=ke.negative,Fe.red=ke.red}if(B.prototype._move=function(ke){G(ke,this)},B.prototype.clone=function(){var ke=new B(null);return this.copy(ke),ke},B.prototype._expand=function(ke){for(;this.length<ke;)this.words[this.length++]=0;return this},B.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},B.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{B.prototype[Symbol.for("nodejs.util.inspect.custom")]=ie}catch{B.prototype.inspect=ie}else B.prototype.inspect=ie;function ie(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Re=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$e=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Pe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];B.prototype.toString=function(ke,Ue){ke=ke||10,Ue=Ue|0||1;var Je;if(ke===16||ke==="hex"){Je="";for(var rt=0,Xe=0,it=0;it<this.length;it++){var We=this.words[it],Ve=((We<<rt|Xe)&16777215).toString(16);Xe=We>>>24-rt&16777215,rt+=2,rt>=26&&(rt-=26,it--),Xe!==0||it!==this.length-1?Je=Re[6-Ve.length]+Ve+Je:Je=Ve+Je}for(Xe!==0&&(Je=Xe.toString(16)+Je);Je.length%Ue!==0;)Je="0"+Je;return this.negative!==0&&(Je="-"+Je),Je}if(ke===(ke|0)&&ke>=2&&ke<=36){var je=$e[ke],Ze=Pe[ke];Je="";var st=this.clone();for(st.negative=0;!st.isZero();){var dt=st.modrn(Ze).toString(ke);st=st.idivn(Ze),st.isZero()?Je=dt+Je:Je=Re[je-dt.length]+dt+Je}for(this.isZero()&&(Je="0"+Je);Je.length%Ue!==0;)Je="0"+Je;return this.negative!==0&&(Je="-"+Je),Je}N(!1,"Base should be between 2 and 36")},B.prototype.toNumber=function(){var ke=this.words[0];return this.length===2?ke+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ke+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ke:ke},B.prototype.toJSON=function(){return this.toString(16,2)},H&&(B.prototype.toBuffer=function(ke,Ue){return this.toArrayLike(H,ke,Ue)}),B.prototype.toArray=function(ke,Ue){return this.toArrayLike(Array,ke,Ue)};var Me=function(ke,Ue){return ke.allocUnsafe?ke.allocUnsafe(Ue):new ke(Ue)};B.prototype.toArrayLike=function(ke,Ue,Je){this._strip();var rt=this.byteLength(),Xe=Je||Math.max(1,rt);N(rt<=Xe,"byte array longer than desired length"),N(Xe>0,"Requested array length <= 0");var it=Me(ke,Xe),We=Ue==="le"?"LE":"BE";return this["_toArrayLike"+We](it,rt),it},B.prototype._toArrayLikeLE=function(ke,Ue){for(var Je=0,rt=0,Xe=0,it=0;Xe<this.length;Xe++){var We=this.words[Xe]<<it|rt;ke[Je++]=We&255,Je<ke.length&&(ke[Je++]=We>>8&255),Je<ke.length&&(ke[Je++]=We>>16&255),it===6?(Je<ke.length&&(ke[Je++]=We>>24&255),rt=0,it=0):(rt=We>>>24,it+=2)}if(Je<ke.length)for(ke[Je++]=rt;Je<ke.length;)ke[Je++]=0},B.prototype._toArrayLikeBE=function(ke,Ue){for(var Je=ke.length-1,rt=0,Xe=0,it=0;Xe<this.length;Xe++){var We=this.words[Xe]<<it|rt;ke[Je--]=We&255,Je>=0&&(ke[Je--]=We>>8&255),Je>=0&&(ke[Je--]=We>>16&255),it===6?(Je>=0&&(ke[Je--]=We>>24&255),rt=0,it=0):(rt=We>>>24,it+=2)}if(Je>=0)for(ke[Je--]=rt;Je>=0;)ke[Je--]=0},Math.clz32?B.prototype._countBits=function(ke){return 32-Math.clz32(ke)}:B.prototype._countBits=function(ke){var Ue=ke,Je=0;return Ue>=4096&&(Je+=13,Ue>>>=13),Ue>=64&&(Je+=7,Ue>>>=7),Ue>=8&&(Je+=4,Ue>>>=4),Ue>=2&&(Je+=2,Ue>>>=2),Je+Ue},B.prototype._zeroBits=function(ke){if(ke===0)return 26;var Ue=ke,Je=0;return(Ue&8191)===0&&(Je+=13,Ue>>>=13),(Ue&127)===0&&(Je+=7,Ue>>>=7),(Ue&15)===0&&(Je+=4,Ue>>>=4),(Ue&3)===0&&(Je+=2,Ue>>>=2),(Ue&1)===0&&Je++,Je},B.prototype.bitLength=function(){var ke=this.words[this.length-1],Ue=this._countBits(ke);return(this.length-1)*26+Ue};function Be(Fe){for(var ke=new Array(Fe.bitLength()),Ue=0;Ue<ke.length;Ue++){var Je=Ue/26|0,rt=Ue%26;ke[Ue]=Fe.words[Je]>>>rt&1}return ke}B.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ke=0,Ue=0;Ue<this.length;Ue++){var Je=this._zeroBits(this.words[Ue]);if(ke+=Je,Je!==26)break}return ke},B.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},B.prototype.toTwos=function(ke){return this.negative!==0?this.abs().inotn(ke).iaddn(1):this.clone()},B.prototype.fromTwos=function(ke){return this.testn(ke-1)?this.notn(ke).iaddn(1).ineg():this.clone()},B.prototype.isNeg=function(){return this.negative!==0},B.prototype.neg=function(){return this.clone().ineg()},B.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},B.prototype.iuor=function(ke){for(;this.length<ke.length;)this.words[this.length++]=0;for(var Ue=0;Ue<ke.length;Ue++)this.words[Ue]=this.words[Ue]|ke.words[Ue];return this._strip()},B.prototype.ior=function(ke){return N((this.negative|ke.negative)===0),this.iuor(ke)},B.prototype.or=function(ke){return this.length>ke.length?this.clone().ior(ke):ke.clone().ior(this)},B.prototype.uor=function(ke){return this.length>ke.length?this.clone().iuor(ke):ke.clone().iuor(this)},B.prototype.iuand=function(ke){var Ue;this.length>ke.length?Ue=ke:Ue=this;for(var Je=0;Je<Ue.length;Je++)this.words[Je]=this.words[Je]&ke.words[Je];return this.length=Ue.length,this._strip()},B.prototype.iand=function(ke){return N((this.negative|ke.negative)===0),this.iuand(ke)},B.prototype.and=function(ke){return this.length>ke.length?this.clone().iand(ke):ke.clone().iand(this)},B.prototype.uand=function(ke){return this.length>ke.length?this.clone().iuand(ke):ke.clone().iuand(this)},B.prototype.iuxor=function(ke){var Ue,Je;this.length>ke.length?(Ue=this,Je=ke):(Ue=ke,Je=this);for(var rt=0;rt<Je.length;rt++)this.words[rt]=Ue.words[rt]^Je.words[rt];if(this!==Ue)for(;rt<Ue.length;rt++)this.words[rt]=Ue.words[rt];return this.length=Ue.length,this._strip()},B.prototype.ixor=function(ke){return N((this.negative|ke.negative)===0),this.iuxor(ke)},B.prototype.xor=function(ke){return this.length>ke.length?this.clone().ixor(ke):ke.clone().ixor(this)},B.prototype.uxor=function(ke){return this.length>ke.length?this.clone().iuxor(ke):ke.clone().iuxor(this)},B.prototype.inotn=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=Math.ceil(ke/26)|0,Je=ke%26;this._expand(Ue),Je>0&&Ue--;for(var rt=0;rt<Ue;rt++)this.words[rt]=~this.words[rt]&67108863;return Je>0&&(this.words[rt]=~this.words[rt]&67108863>>26-Je),this._strip()},B.prototype.notn=function(ke){return this.clone().inotn(ke)},B.prototype.setn=function(ke,Ue){N(typeof ke=="number"&&ke>=0);var Je=ke/26|0,rt=ke%26;return this._expand(Je+1),Ue?this.words[Je]=this.words[Je]|1<<rt:this.words[Je]=this.words[Je]&~(1<<rt),this._strip()},B.prototype.iadd=function(ke){var Ue;if(this.negative!==0&&ke.negative===0)return this.negative=0,Ue=this.isub(ke),this.negative^=1,this._normSign();if(this.negative===0&&ke.negative!==0)return ke.negative=0,Ue=this.isub(ke),ke.negative=1,Ue._normSign();var Je,rt;this.length>ke.length?(Je=this,rt=ke):(Je=ke,rt=this);for(var Xe=0,it=0;it<rt.length;it++)Ue=(Je.words[it]|0)+(rt.words[it]|0)+Xe,this.words[it]=Ue&67108863,Xe=Ue>>>26;for(;Xe!==0&&it<Je.length;it++)Ue=(Je.words[it]|0)+Xe,this.words[it]=Ue&67108863,Xe=Ue>>>26;if(this.length=Je.length,Xe!==0)this.words[this.length]=Xe,this.length++;else if(Je!==this)for(;it<Je.length;it++)this.words[it]=Je.words[it];return this},B.prototype.add=function(ke){var Ue;return ke.negative!==0&&this.negative===0?(ke.negative=0,Ue=this.sub(ke),ke.negative^=1,Ue):ke.negative===0&&this.negative!==0?(this.negative=0,Ue=ke.sub(this),this.negative=1,Ue):this.length>ke.length?this.clone().iadd(ke):ke.clone().iadd(this)},B.prototype.isub=function(ke){if(ke.negative!==0){ke.negative=0;var Ue=this.iadd(ke);return ke.negative=1,Ue._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ke),this.negative=1,this._normSign();var Je=this.cmp(ke);if(Je===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rt,Xe;Je>0?(rt=this,Xe=ke):(rt=ke,Xe=this);for(var it=0,We=0;We<Xe.length;We++)Ue=(rt.words[We]|0)-(Xe.words[We]|0)+it,it=Ue>>26,this.words[We]=Ue&67108863;for(;it!==0&&We<rt.length;We++)Ue=(rt.words[We]|0)+it,it=Ue>>26,this.words[We]=Ue&67108863;if(it===0&&We<rt.length&&rt!==this)for(;We<rt.length;We++)this.words[We]=rt.words[We];return this.length=Math.max(this.length,We),rt!==this&&(this.negative=1),this._strip()},B.prototype.sub=function(ke){return this.clone().isub(ke)};function Ke(Fe,ke,Ue){Ue.negative=ke.negative^Fe.negative;var Je=Fe.length+ke.length|0;Ue.length=Je,Je=Je-1|0;var rt=Fe.words[0]|0,Xe=ke.words[0]|0,it=rt*Xe,We=it&67108863,Ve=it/67108864|0;Ue.words[0]=We;for(var je=1;je<Je;je++){for(var Ze=Ve>>>26,st=Ve&67108863,dt=Math.min(je,ke.length-1),bt=Math.max(0,je-Fe.length+1);bt<=dt;bt++){var vt=je-bt|0;rt=Fe.words[vt]|0,Xe=ke.words[bt]|0,it=rt*Xe+st,Ze+=it/67108864|0,st=it&67108863}Ue.words[je]=st|0,Ve=Ze|0}return Ve!==0?Ue.words[je]=Ve|0:Ue.length--,Ue._strip()}var Le=function(ke,Ue,Je){var rt=ke.words,Xe=Ue.words,it=Je.words,We=0,Ve,je,Ze,st=rt[0]|0,dt=st&8191,bt=st>>>13,vt=rt[1]|0,St=vt&8191,Bt=vt>>>13,Gt=rt[2]|0,Dt=Gt&8191,Mt=Gt>>>13,pt=rt[3]|0,mt=pt&8191,$t=pt>>>13,kt=rt[4]|0,Ft=kt&8191,nr=kt>>>13,Yt=rt[5]|0,yr=Yt&8191,gr=Yt>>>13,br=rt[6]|0,cr=br&8191,pr=br>>>13,lt=rt[7]|0,ct=lt&8191,Nt=lt>>>13,jt=rt[8]|0,zt=jt&8191,Ot=jt>>>13,Rt=rt[9]|0,It=Rt&8191,Kt=Rt>>>13,tr=Xe[0]|0,dr=tr&8191,_r=tr>>>13,Nr=Xe[1]|0,qr=Nr&8191,Br=Nr>>>13,Qr=Xe[2]|0,Wr=Qr&8191,Kr=Qr>>>13,Yr=Xe[3]|0,Pt=Yr&8191,Wt=Yr>>>13,qt=Xe[4]|0,Tt=qt&8191,gt=qt>>>13,Et=Xe[5]|0,wt=Et&8191,Lt=Et>>>13,Zt=Xe[6]|0,lr=Zt&8191,Ht=Zt>>>13,Xt=Xe[7]|0,ir=Xt&8191,ur=Xt>>>13,$r=Xe[8]|0,xr=$r&8191,Lr=$r>>>13,on=Xe[9]|0,rn=on&8191,tn=on>>>13;Je.negative=ke.negative^Ue.negative,Je.length=19,Ve=Math.imul(dt,dr),je=Math.imul(dt,_r),je=je+Math.imul(bt,dr)|0,Ze=Math.imul(bt,_r);var pn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(pn>>>26)|0,pn&=67108863,Ve=Math.imul(St,dr),je=Math.imul(St,_r),je=je+Math.imul(Bt,dr)|0,Ze=Math.imul(Bt,_r),Ve=Ve+Math.imul(dt,qr)|0,je=je+Math.imul(dt,Br)|0,je=je+Math.imul(bt,qr)|0,Ze=Ze+Math.imul(bt,Br)|0;var yn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(yn>>>26)|0,yn&=67108863,Ve=Math.imul(Dt,dr),je=Math.imul(Dt,_r),je=je+Math.imul(Mt,dr)|0,Ze=Math.imul(Mt,_r),Ve=Ve+Math.imul(St,qr)|0,je=je+Math.imul(St,Br)|0,je=je+Math.imul(Bt,qr)|0,Ze=Ze+Math.imul(Bt,Br)|0,Ve=Ve+Math.imul(dt,Wr)|0,je=je+Math.imul(dt,Kr)|0,je=je+Math.imul(bt,Wr)|0,Ze=Ze+Math.imul(bt,Kr)|0;var ln=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(ln>>>26)|0,ln&=67108863,Ve=Math.imul(mt,dr),je=Math.imul(mt,_r),je=je+Math.imul($t,dr)|0,Ze=Math.imul($t,_r),Ve=Ve+Math.imul(Dt,qr)|0,je=je+Math.imul(Dt,Br)|0,je=je+Math.imul(Mt,qr)|0,Ze=Ze+Math.imul(Mt,Br)|0,Ve=Ve+Math.imul(St,Wr)|0,je=je+Math.imul(St,Kr)|0,je=je+Math.imul(Bt,Wr)|0,Ze=Ze+Math.imul(Bt,Kr)|0,Ve=Ve+Math.imul(dt,Pt)|0,je=je+Math.imul(dt,Wt)|0,je=je+Math.imul(bt,Pt)|0,Ze=Ze+Math.imul(bt,Wt)|0;var er=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(er>>>26)|0,er&=67108863,Ve=Math.imul(Ft,dr),je=Math.imul(Ft,_r),je=je+Math.imul(nr,dr)|0,Ze=Math.imul(nr,_r),Ve=Ve+Math.imul(mt,qr)|0,je=je+Math.imul(mt,Br)|0,je=je+Math.imul($t,qr)|0,Ze=Ze+Math.imul($t,Br)|0,Ve=Ve+Math.imul(Dt,Wr)|0,je=je+Math.imul(Dt,Kr)|0,je=je+Math.imul(Mt,Wr)|0,Ze=Ze+Math.imul(Mt,Kr)|0,Ve=Ve+Math.imul(St,Pt)|0,je=je+Math.imul(St,Wt)|0,je=je+Math.imul(Bt,Pt)|0,Ze=Ze+Math.imul(Bt,Wt)|0,Ve=Ve+Math.imul(dt,Tt)|0,je=je+Math.imul(dt,gt)|0,je=je+Math.imul(bt,Tt)|0,Ze=Ze+Math.imul(bt,gt)|0;var Rr=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Ve=Math.imul(yr,dr),je=Math.imul(yr,_r),je=je+Math.imul(gr,dr)|0,Ze=Math.imul(gr,_r),Ve=Ve+Math.imul(Ft,qr)|0,je=je+Math.imul(Ft,Br)|0,je=je+Math.imul(nr,qr)|0,Ze=Ze+Math.imul(nr,Br)|0,Ve=Ve+Math.imul(mt,Wr)|0,je=je+Math.imul(mt,Kr)|0,je=je+Math.imul($t,Wr)|0,Ze=Ze+Math.imul($t,Kr)|0,Ve=Ve+Math.imul(Dt,Pt)|0,je=je+Math.imul(Dt,Wt)|0,je=je+Math.imul(Mt,Pt)|0,Ze=Ze+Math.imul(Mt,Wt)|0,Ve=Ve+Math.imul(St,Tt)|0,je=je+Math.imul(St,gt)|0,je=je+Math.imul(Bt,Tt)|0,Ze=Ze+Math.imul(Bt,gt)|0,Ve=Ve+Math.imul(dt,wt)|0,je=je+Math.imul(dt,Lt)|0,je=je+Math.imul(bt,wt)|0,Ze=Ze+Math.imul(bt,Lt)|0;var Or=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Or>>>26)|0,Or&=67108863,Ve=Math.imul(cr,dr),je=Math.imul(cr,_r),je=je+Math.imul(pr,dr)|0,Ze=Math.imul(pr,_r),Ve=Ve+Math.imul(yr,qr)|0,je=je+Math.imul(yr,Br)|0,je=je+Math.imul(gr,qr)|0,Ze=Ze+Math.imul(gr,Br)|0,Ve=Ve+Math.imul(Ft,Wr)|0,je=je+Math.imul(Ft,Kr)|0,je=je+Math.imul(nr,Wr)|0,Ze=Ze+Math.imul(nr,Kr)|0,Ve=Ve+Math.imul(mt,Pt)|0,je=je+Math.imul(mt,Wt)|0,je=je+Math.imul($t,Pt)|0,Ze=Ze+Math.imul($t,Wt)|0,Ve=Ve+Math.imul(Dt,Tt)|0,je=je+Math.imul(Dt,gt)|0,je=je+Math.imul(Mt,Tt)|0,Ze=Ze+Math.imul(Mt,gt)|0,Ve=Ve+Math.imul(St,wt)|0,je=je+Math.imul(St,Lt)|0,je=je+Math.imul(Bt,wt)|0,Ze=Ze+Math.imul(Bt,Lt)|0,Ve=Ve+Math.imul(dt,lr)|0,je=je+Math.imul(dt,Ht)|0,je=je+Math.imul(bt,lr)|0,Ze=Ze+Math.imul(bt,Ht)|0;var Fr=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,Ve=Math.imul(ct,dr),je=Math.imul(ct,_r),je=je+Math.imul(Nt,dr)|0,Ze=Math.imul(Nt,_r),Ve=Ve+Math.imul(cr,qr)|0,je=je+Math.imul(cr,Br)|0,je=je+Math.imul(pr,qr)|0,Ze=Ze+Math.imul(pr,Br)|0,Ve=Ve+Math.imul(yr,Wr)|0,je=je+Math.imul(yr,Kr)|0,je=je+Math.imul(gr,Wr)|0,Ze=Ze+Math.imul(gr,Kr)|0,Ve=Ve+Math.imul(Ft,Pt)|0,je=je+Math.imul(Ft,Wt)|0,je=je+Math.imul(nr,Pt)|0,Ze=Ze+Math.imul(nr,Wt)|0,Ve=Ve+Math.imul(mt,Tt)|0,je=je+Math.imul(mt,gt)|0,je=je+Math.imul($t,Tt)|0,Ze=Ze+Math.imul($t,gt)|0,Ve=Ve+Math.imul(Dt,wt)|0,je=je+Math.imul(Dt,Lt)|0,je=je+Math.imul(Mt,wt)|0,Ze=Ze+Math.imul(Mt,Lt)|0,Ve=Ve+Math.imul(St,lr)|0,je=je+Math.imul(St,Ht)|0,je=je+Math.imul(Bt,lr)|0,Ze=Ze+Math.imul(Bt,Ht)|0,Ve=Ve+Math.imul(dt,ir)|0,je=je+Math.imul(dt,ur)|0,je=je+Math.imul(bt,ir)|0,Ze=Ze+Math.imul(bt,ur)|0;var Hr=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,Ve=Math.imul(zt,dr),je=Math.imul(zt,_r),je=je+Math.imul(Ot,dr)|0,Ze=Math.imul(Ot,_r),Ve=Ve+Math.imul(ct,qr)|0,je=je+Math.imul(ct,Br)|0,je=je+Math.imul(Nt,qr)|0,Ze=Ze+Math.imul(Nt,Br)|0,Ve=Ve+Math.imul(cr,Wr)|0,je=je+Math.imul(cr,Kr)|0,je=je+Math.imul(pr,Wr)|0,Ze=Ze+Math.imul(pr,Kr)|0,Ve=Ve+Math.imul(yr,Pt)|0,je=je+Math.imul(yr,Wt)|0,je=je+Math.imul(gr,Pt)|0,Ze=Ze+Math.imul(gr,Wt)|0,Ve=Ve+Math.imul(Ft,Tt)|0,je=je+Math.imul(Ft,gt)|0,je=je+Math.imul(nr,Tt)|0,Ze=Ze+Math.imul(nr,gt)|0,Ve=Ve+Math.imul(mt,wt)|0,je=je+Math.imul(mt,Lt)|0,je=je+Math.imul($t,wt)|0,Ze=Ze+Math.imul($t,Lt)|0,Ve=Ve+Math.imul(Dt,lr)|0,je=je+Math.imul(Dt,Ht)|0,je=je+Math.imul(Mt,lr)|0,Ze=Ze+Math.imul(Mt,Ht)|0,Ve=Ve+Math.imul(St,ir)|0,je=je+Math.imul(St,ur)|0,je=je+Math.imul(Bt,ir)|0,Ze=Ze+Math.imul(Bt,ur)|0,Ve=Ve+Math.imul(dt,xr)|0,je=je+Math.imul(dt,Lr)|0,je=je+Math.imul(bt,xr)|0,Ze=Ze+Math.imul(bt,Lr)|0;var an=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(an>>>26)|0,an&=67108863,Ve=Math.imul(It,dr),je=Math.imul(It,_r),je=je+Math.imul(Kt,dr)|0,Ze=Math.imul(Kt,_r),Ve=Ve+Math.imul(zt,qr)|0,je=je+Math.imul(zt,Br)|0,je=je+Math.imul(Ot,qr)|0,Ze=Ze+Math.imul(Ot,Br)|0,Ve=Ve+Math.imul(ct,Wr)|0,je=je+Math.imul(ct,Kr)|0,je=je+Math.imul(Nt,Wr)|0,Ze=Ze+Math.imul(Nt,Kr)|0,Ve=Ve+Math.imul(cr,Pt)|0,je=je+Math.imul(cr,Wt)|0,je=je+Math.imul(pr,Pt)|0,Ze=Ze+Math.imul(pr,Wt)|0,Ve=Ve+Math.imul(yr,Tt)|0,je=je+Math.imul(yr,gt)|0,je=je+Math.imul(gr,Tt)|0,Ze=Ze+Math.imul(gr,gt)|0,Ve=Ve+Math.imul(Ft,wt)|0,je=je+Math.imul(Ft,Lt)|0,je=je+Math.imul(nr,wt)|0,Ze=Ze+Math.imul(nr,Lt)|0,Ve=Ve+Math.imul(mt,lr)|0,je=je+Math.imul(mt,Ht)|0,je=je+Math.imul($t,lr)|0,Ze=Ze+Math.imul($t,Ht)|0,Ve=Ve+Math.imul(Dt,ir)|0,je=je+Math.imul(Dt,ur)|0,je=je+Math.imul(Mt,ir)|0,Ze=Ze+Math.imul(Mt,ur)|0,Ve=Ve+Math.imul(St,xr)|0,je=je+Math.imul(St,Lr)|0,je=je+Math.imul(Bt,xr)|0,Ze=Ze+Math.imul(Bt,Lr)|0,Ve=Ve+Math.imul(dt,rn)|0,je=je+Math.imul(dt,tn)|0,je=je+Math.imul(bt,rn)|0,Ze=Ze+Math.imul(bt,tn)|0;var cn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(cn>>>26)|0,cn&=67108863,Ve=Math.imul(It,qr),je=Math.imul(It,Br),je=je+Math.imul(Kt,qr)|0,Ze=Math.imul(Kt,Br),Ve=Ve+Math.imul(zt,Wr)|0,je=je+Math.imul(zt,Kr)|0,je=je+Math.imul(Ot,Wr)|0,Ze=Ze+Math.imul(Ot,Kr)|0,Ve=Ve+Math.imul(ct,Pt)|0,je=je+Math.imul(ct,Wt)|0,je=je+Math.imul(Nt,Pt)|0,Ze=Ze+Math.imul(Nt,Wt)|0,Ve=Ve+Math.imul(cr,Tt)|0,je=je+Math.imul(cr,gt)|0,je=je+Math.imul(pr,Tt)|0,Ze=Ze+Math.imul(pr,gt)|0,Ve=Ve+Math.imul(yr,wt)|0,je=je+Math.imul(yr,Lt)|0,je=je+Math.imul(gr,wt)|0,Ze=Ze+Math.imul(gr,Lt)|0,Ve=Ve+Math.imul(Ft,lr)|0,je=je+Math.imul(Ft,Ht)|0,je=je+Math.imul(nr,lr)|0,Ze=Ze+Math.imul(nr,Ht)|0,Ve=Ve+Math.imul(mt,ir)|0,je=je+Math.imul(mt,ur)|0,je=je+Math.imul($t,ir)|0,Ze=Ze+Math.imul($t,ur)|0,Ve=Ve+Math.imul(Dt,xr)|0,je=je+Math.imul(Dt,Lr)|0,je=je+Math.imul(Mt,xr)|0,Ze=Ze+Math.imul(Mt,Lr)|0,Ve=Ve+Math.imul(St,rn)|0,je=je+Math.imul(St,tn)|0,je=je+Math.imul(Bt,rn)|0,Ze=Ze+Math.imul(Bt,tn)|0;var Rn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,Ve=Math.imul(It,Wr),je=Math.imul(It,Kr),je=je+Math.imul(Kt,Wr)|0,Ze=Math.imul(Kt,Kr),Ve=Ve+Math.imul(zt,Pt)|0,je=je+Math.imul(zt,Wt)|0,je=je+Math.imul(Ot,Pt)|0,Ze=Ze+Math.imul(Ot,Wt)|0,Ve=Ve+Math.imul(ct,Tt)|0,je=je+Math.imul(ct,gt)|0,je=je+Math.imul(Nt,Tt)|0,Ze=Ze+Math.imul(Nt,gt)|0,Ve=Ve+Math.imul(cr,wt)|0,je=je+Math.imul(cr,Lt)|0,je=je+Math.imul(pr,wt)|0,Ze=Ze+Math.imul(pr,Lt)|0,Ve=Ve+Math.imul(yr,lr)|0,je=je+Math.imul(yr,Ht)|0,je=je+Math.imul(gr,lr)|0,Ze=Ze+Math.imul(gr,Ht)|0,Ve=Ve+Math.imul(Ft,ir)|0,je=je+Math.imul(Ft,ur)|0,je=je+Math.imul(nr,ir)|0,Ze=Ze+Math.imul(nr,ur)|0,Ve=Ve+Math.imul(mt,xr)|0,je=je+Math.imul(mt,Lr)|0,je=je+Math.imul($t,xr)|0,Ze=Ze+Math.imul($t,Lr)|0,Ve=Ve+Math.imul(Dt,rn)|0,je=je+Math.imul(Dt,tn)|0,je=je+Math.imul(Mt,rn)|0,Ze=Ze+Math.imul(Mt,tn)|0;var gn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(gn>>>26)|0,gn&=67108863,Ve=Math.imul(It,Pt),je=Math.imul(It,Wt),je=je+Math.imul(Kt,Pt)|0,Ze=Math.imul(Kt,Wt),Ve=Ve+Math.imul(zt,Tt)|0,je=je+Math.imul(zt,gt)|0,je=je+Math.imul(Ot,Tt)|0,Ze=Ze+Math.imul(Ot,gt)|0,Ve=Ve+Math.imul(ct,wt)|0,je=je+Math.imul(ct,Lt)|0,je=je+Math.imul(Nt,wt)|0,Ze=Ze+Math.imul(Nt,Lt)|0,Ve=Ve+Math.imul(cr,lr)|0,je=je+Math.imul(cr,Ht)|0,je=je+Math.imul(pr,lr)|0,Ze=Ze+Math.imul(pr,Ht)|0,Ve=Ve+Math.imul(yr,ir)|0,je=je+Math.imul(yr,ur)|0,je=je+Math.imul(gr,ir)|0,Ze=Ze+Math.imul(gr,ur)|0,Ve=Ve+Math.imul(Ft,xr)|0,je=je+Math.imul(Ft,Lr)|0,je=je+Math.imul(nr,xr)|0,Ze=Ze+Math.imul(nr,Lr)|0,Ve=Ve+Math.imul(mt,rn)|0,je=je+Math.imul(mt,tn)|0,je=je+Math.imul($t,rn)|0,Ze=Ze+Math.imul($t,tn)|0;var vn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(vn>>>26)|0,vn&=67108863,Ve=Math.imul(It,Tt),je=Math.imul(It,gt),je=je+Math.imul(Kt,Tt)|0,Ze=Math.imul(Kt,gt),Ve=Ve+Math.imul(zt,wt)|0,je=je+Math.imul(zt,Lt)|0,je=je+Math.imul(Ot,wt)|0,Ze=Ze+Math.imul(Ot,Lt)|0,Ve=Ve+Math.imul(ct,lr)|0,je=je+Math.imul(ct,Ht)|0,je=je+Math.imul(Nt,lr)|0,Ze=Ze+Math.imul(Nt,Ht)|0,Ve=Ve+Math.imul(cr,ir)|0,je=je+Math.imul(cr,ur)|0,je=je+Math.imul(pr,ir)|0,Ze=Ze+Math.imul(pr,ur)|0,Ve=Ve+Math.imul(yr,xr)|0,je=je+Math.imul(yr,Lr)|0,je=je+Math.imul(gr,xr)|0,Ze=Ze+Math.imul(gr,Lr)|0,Ve=Ve+Math.imul(Ft,rn)|0,je=je+Math.imul(Ft,tn)|0,je=je+Math.imul(nr,rn)|0,Ze=Ze+Math.imul(nr,tn)|0;var _n=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(_n>>>26)|0,_n&=67108863,Ve=Math.imul(It,wt),je=Math.imul(It,Lt),je=je+Math.imul(Kt,wt)|0,Ze=Math.imul(Kt,Lt),Ve=Ve+Math.imul(zt,lr)|0,je=je+Math.imul(zt,Ht)|0,je=je+Math.imul(Ot,lr)|0,Ze=Ze+Math.imul(Ot,Ht)|0,Ve=Ve+Math.imul(ct,ir)|0,je=je+Math.imul(ct,ur)|0,je=je+Math.imul(Nt,ir)|0,Ze=Ze+Math.imul(Nt,ur)|0,Ve=Ve+Math.imul(cr,xr)|0,je=je+Math.imul(cr,Lr)|0,je=je+Math.imul(pr,xr)|0,Ze=Ze+Math.imul(pr,Lr)|0,Ve=Ve+Math.imul(yr,rn)|0,je=je+Math.imul(yr,tn)|0,je=je+Math.imul(gr,rn)|0,Ze=Ze+Math.imul(gr,tn)|0;var kn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(kn>>>26)|0,kn&=67108863,Ve=Math.imul(It,lr),je=Math.imul(It,Ht),je=je+Math.imul(Kt,lr)|0,Ze=Math.imul(Kt,Ht),Ve=Ve+Math.imul(zt,ir)|0,je=je+Math.imul(zt,ur)|0,je=je+Math.imul(Ot,ir)|0,Ze=Ze+Math.imul(Ot,ur)|0,Ve=Ve+Math.imul(ct,xr)|0,je=je+Math.imul(ct,Lr)|0,je=je+Math.imul(Nt,xr)|0,Ze=Ze+Math.imul(Nt,Lr)|0,Ve=Ve+Math.imul(cr,rn)|0,je=je+Math.imul(cr,tn)|0,je=je+Math.imul(pr,rn)|0,Ze=Ze+Math.imul(pr,tn)|0;var An=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(An>>>26)|0,An&=67108863,Ve=Math.imul(It,ir),je=Math.imul(It,ur),je=je+Math.imul(Kt,ir)|0,Ze=Math.imul(Kt,ur),Ve=Ve+Math.imul(zt,xr)|0,je=je+Math.imul(zt,Lr)|0,je=je+Math.imul(Ot,xr)|0,Ze=Ze+Math.imul(Ot,Lr)|0,Ve=Ve+Math.imul(ct,rn)|0,je=je+Math.imul(ct,tn)|0,je=je+Math.imul(Nt,rn)|0,Ze=Ze+Math.imul(Nt,tn)|0;var Dn=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,Ve=Math.imul(It,xr),je=Math.imul(It,Lr),je=je+Math.imul(Kt,xr)|0,Ze=Math.imul(Kt,Lr),Ve=Ve+Math.imul(zt,rn)|0,je=je+Math.imul(zt,tn)|0,je=je+Math.imul(Ot,rn)|0,Ze=Ze+Math.imul(Ot,tn)|0;var In=(We+Ve|0)+((je&8191)<<13)|0;We=(Ze+(je>>>13)|0)+(In>>>26)|0,In&=67108863,Ve=Math.imul(It,rn),je=Math.imul(It,tn),je=je+Math.imul(Kt,rn)|0,Ze=Math.imul(Kt,tn);var Qt=(We+Ve|0)+((je&8191)<<13)|0;return We=(Ze+(je>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,it[0]=pn,it[1]=yn,it[2]=ln,it[3]=er,it[4]=Rr,it[5]=Or,it[6]=Fr,it[7]=Hr,it[8]=an,it[9]=cn,it[10]=Rn,it[11]=gn,it[12]=vn,it[13]=_n,it[14]=kn,it[15]=An,it[16]=Dn,it[17]=In,it[18]=Qt,We!==0&&(it[19]=We,Je.length++),Je};Math.imul||(Le=Ke);function qe(Fe,ke,Ue){Ue.negative=ke.negative^Fe.negative,Ue.length=Fe.length+ke.length;for(var Je=0,rt=0,Xe=0;Xe<Ue.length-1;Xe++){var it=rt;rt=0;for(var We=Je&67108863,Ve=Math.min(Xe,ke.length-1),je=Math.max(0,Xe-Fe.length+1);je<=Ve;je++){var Ze=Xe-je,st=Fe.words[Ze]|0,dt=ke.words[je]|0,bt=st*dt,vt=bt&67108863;it=it+(bt/67108864|0)|0,vt=vt+We|0,We=vt&67108863,it=it+(vt>>>26)|0,rt+=it>>>26,it&=67108863}Ue.words[Xe]=We,Je=it,it=rt}return Je!==0?Ue.words[Xe]=Je:Ue.length--,Ue._strip()}function He(Fe,ke,Ue){return qe(Fe,ke,Ue)}B.prototype.mulTo=function(ke,Ue){var Je,rt=this.length+ke.length;return this.length===10&&ke.length===10?Je=Le(this,ke,Ue):rt<63?Je=Ke(this,ke,Ue):rt<1024?Je=qe(this,ke,Ue):Je=He(this,ke,Ue),Je},B.prototype.mul=function(ke){var Ue=new B(null);return Ue.words=new Array(this.length+ke.length),this.mulTo(ke,Ue)},B.prototype.mulf=function(ke){var Ue=new B(null);return Ue.words=new Array(this.length+ke.length),He(this,ke,Ue)},B.prototype.imul=function(ke){return this.clone().mulTo(ke,this)},B.prototype.imuln=function(ke){var Ue=ke<0;Ue&&(ke=-ke),N(typeof ke=="number"),N(ke<67108864);for(var Je=0,rt=0;rt<this.length;rt++){var Xe=(this.words[rt]|0)*ke,it=(Xe&67108863)+(Je&67108863);Je>>=26,Je+=Xe/67108864|0,Je+=it>>>26,this.words[rt]=it&67108863}return Je!==0&&(this.words[rt]=Je,this.length++),this.length=ke===0?1:this.length,Ue?this.ineg():this},B.prototype.muln=function(ke){return this.clone().imuln(ke)},B.prototype.sqr=function(){return this.mul(this)},B.prototype.isqr=function(){return this.imul(this.clone())},B.prototype.pow=function(ke){var Ue=Be(ke);if(Ue.length===0)return new B(1);for(var Je=this,rt=0;rt<Ue.length&&Ue[rt]===0;rt++,Je=Je.sqr());if(++rt<Ue.length)for(var Xe=Je.sqr();rt<Ue.length;rt++,Xe=Xe.sqr())Ue[rt]!==0&&(Je=Je.mul(Xe));return Je},B.prototype.iushln=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=ke%26,Je=(ke-Ue)/26,rt=67108863>>>26-Ue<<26-Ue,Xe;if(Ue!==0){var it=0;for(Xe=0;Xe<this.length;Xe++){var We=this.words[Xe]&rt,Ve=(this.words[Xe]|0)-We<<Ue;this.words[Xe]=Ve|it,it=We>>>26-Ue}it&&(this.words[Xe]=it,this.length++)}if(Je!==0){for(Xe=this.length-1;Xe>=0;Xe--)this.words[Xe+Je]=this.words[Xe];for(Xe=0;Xe<Je;Xe++)this.words[Xe]=0;this.length+=Je}return this._strip()},B.prototype.ishln=function(ke){return N(this.negative===0),this.iushln(ke)},B.prototype.iushrn=function(ke,Ue,Je){N(typeof ke=="number"&&ke>=0);var rt;Ue?rt=(Ue-Ue%26)/26:rt=0;var Xe=ke%26,it=Math.min((ke-Xe)/26,this.length),We=67108863^67108863>>>Xe<<Xe,Ve=Je;if(rt-=it,rt=Math.max(0,rt),Ve){for(var je=0;je<it;je++)Ve.words[je]=this.words[je];Ve.length=it}if(it!==0)if(this.length>it)for(this.length-=it,je=0;je<this.length;je++)this.words[je]=this.words[je+it];else this.words[0]=0,this.length=1;var Ze=0;for(je=this.length-1;je>=0&&(Ze!==0||je>=rt);je--){var st=this.words[je]|0;this.words[je]=Ze<<26-Xe|st>>>Xe,Ze=st&We}return Ve&&Ze!==0&&(Ve.words[Ve.length++]=Ze),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},B.prototype.ishrn=function(ke,Ue,Je){return N(this.negative===0),this.iushrn(ke,Ue,Je)},B.prototype.shln=function(ke){return this.clone().ishln(ke)},B.prototype.ushln=function(ke){return this.clone().iushln(ke)},B.prototype.shrn=function(ke){return this.clone().ishrn(ke)},B.prototype.ushrn=function(ke){return this.clone().iushrn(ke)},B.prototype.testn=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=ke%26,Je=(ke-Ue)/26,rt=1<<Ue;if(this.length<=Je)return!1;var Xe=this.words[Je];return!!(Xe&rt)},B.prototype.imaskn=function(ke){N(typeof ke=="number"&&ke>=0);var Ue=ke%26,Je=(ke-Ue)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=Je)return this;if(Ue!==0&&Je++,this.length=Math.min(Je,this.length),Ue!==0){var rt=67108863^67108863>>>Ue<<Ue;this.words[this.length-1]&=rt}return this._strip()},B.prototype.maskn=function(ke){return this.clone().imaskn(ke)},B.prototype.iaddn=function(ke){return N(typeof ke=="number"),N(ke<67108864),ke<0?this.isubn(-ke):this.negative!==0?this.length===1&&(this.words[0]|0)<=ke?(this.words[0]=ke-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ke),this.negative=1,this):this._iaddn(ke)},B.prototype._iaddn=function(ke){this.words[0]+=ke;for(var Ue=0;Ue<this.length&&this.words[Ue]>=67108864;Ue++)this.words[Ue]-=67108864,Ue===this.length-1?this.words[Ue+1]=1:this.words[Ue+1]++;return this.length=Math.max(this.length,Ue+1),this},B.prototype.isubn=function(ke){if(N(typeof ke=="number"),N(ke<67108864),ke<0)return this.iaddn(-ke);if(this.negative!==0)return this.negative=0,this.iaddn(ke),this.negative=1,this;if(this.words[0]-=ke,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ue=0;Ue<this.length&&this.words[Ue]<0;Ue++)this.words[Ue]+=67108864,this.words[Ue+1]-=1;return this._strip()},B.prototype.addn=function(ke){return this.clone().iaddn(ke)},B.prototype.subn=function(ke){return this.clone().isubn(ke)},B.prototype.iabs=function(){return this.negative=0,this},B.prototype.abs=function(){return this.clone().iabs()},B.prototype._ishlnsubmul=function(ke,Ue,Je){var rt=ke.length+Je,Xe;this._expand(rt);var it,We=0;for(Xe=0;Xe<ke.length;Xe++){it=(this.words[Xe+Je]|0)+We;var Ve=(ke.words[Xe]|0)*Ue;it-=Ve&67108863,We=(it>>26)-(Ve/67108864|0),this.words[Xe+Je]=it&67108863}for(;Xe<this.length-Je;Xe++)it=(this.words[Xe+Je]|0)+We,We=it>>26,this.words[Xe+Je]=it&67108863;if(We===0)return this._strip();for(N(We===-1),We=0,Xe=0;Xe<this.length;Xe++)it=-(this.words[Xe]|0)+We,We=it>>26,this.words[Xe]=it&67108863;return this.negative=1,this._strip()},B.prototype._wordDiv=function(ke,Ue){var Je=this.length-ke.length,rt=this.clone(),Xe=ke,it=Xe.words[Xe.length-1]|0,We=this._countBits(it);Je=26-We,Je!==0&&(Xe=Xe.ushln(Je),rt.iushln(Je),it=Xe.words[Xe.length-1]|0);var Ve=rt.length-Xe.length,je;if(Ue!=="mod"){je=new B(null),je.length=Ve+1,je.words=new Array(je.length);for(var Ze=0;Ze<je.length;Ze++)je.words[Ze]=0}var st=rt.clone()._ishlnsubmul(Xe,1,Ve);st.negative===0&&(rt=st,je&&(je.words[Ve]=1));for(var dt=Ve-1;dt>=0;dt--){var bt=(rt.words[Xe.length+dt]|0)*67108864+(rt.words[Xe.length+dt-1]|0);for(bt=Math.min(bt/it|0,67108863),rt._ishlnsubmul(Xe,bt,dt);rt.negative!==0;)bt--,rt.negative=0,rt._ishlnsubmul(Xe,1,dt),rt.isZero()||(rt.negative^=1);je&&(je.words[dt]=bt)}return je&&je._strip(),rt._strip(),Ue!=="div"&&Je!==0&&rt.iushrn(Je),{div:je||null,mod:rt}},B.prototype.divmod=function(ke,Ue,Je){if(N(!ke.isZero()),this.isZero())return{div:new B(0),mod:new B(0)};var rt,Xe,it;return this.negative!==0&&ke.negative===0?(it=this.neg().divmod(ke,Ue),Ue!=="mod"&&(rt=it.div.neg()),Ue!=="div"&&(Xe=it.mod.neg(),Je&&Xe.negative!==0&&Xe.iadd(ke)),{div:rt,mod:Xe}):this.negative===0&&ke.negative!==0?(it=this.divmod(ke.neg(),Ue),Ue!=="mod"&&(rt=it.div.neg()),{div:rt,mod:it.mod}):(this.negative&ke.negative)!==0?(it=this.neg().divmod(ke.neg(),Ue),Ue!=="div"&&(Xe=it.mod.neg(),Je&&Xe.negative!==0&&Xe.isub(ke)),{div:it.div,mod:Xe}):ke.length>this.length||this.cmp(ke)<0?{div:new B(0),mod:this}:ke.length===1?Ue==="div"?{div:this.divn(ke.words[0]),mod:null}:Ue==="mod"?{div:null,mod:new B(this.modrn(ke.words[0]))}:{div:this.divn(ke.words[0]),mod:new B(this.modrn(ke.words[0]))}:this._wordDiv(ke,Ue)},B.prototype.div=function(ke){return this.divmod(ke,"div",!1).div},B.prototype.mod=function(ke){return this.divmod(ke,"mod",!1).mod},B.prototype.umod=function(ke){return this.divmod(ke,"mod",!0).mod},B.prototype.divRound=function(ke){var Ue=this.divmod(ke);if(Ue.mod.isZero())return Ue.div;var Je=Ue.div.negative!==0?Ue.mod.isub(ke):Ue.mod,rt=ke.ushrn(1),Xe=ke.andln(1),it=Je.cmp(rt);return it<0||Xe===1&&it===0?Ue.div:Ue.div.negative!==0?Ue.div.isubn(1):Ue.div.iaddn(1)},B.prototype.modrn=function(ke){var Ue=ke<0;Ue&&(ke=-ke),N(ke<=67108863);for(var Je=(1<<26)%ke,rt=0,Xe=this.length-1;Xe>=0;Xe--)rt=(Je*rt+(this.words[Xe]|0))%ke;return Ue?-rt:rt},B.prototype.modn=function(ke){return this.modrn(ke)},B.prototype.idivn=function(ke){var Ue=ke<0;Ue&&(ke=-ke),N(ke<=67108863);for(var Je=0,rt=this.length-1;rt>=0;rt--){var Xe=(this.words[rt]|0)+Je*67108864;this.words[rt]=Xe/ke|0,Je=Xe%ke}return this._strip(),Ue?this.ineg():this},B.prototype.divn=function(ke){return this.clone().idivn(ke)},B.prototype.egcd=function(ke){N(ke.negative===0),N(!ke.isZero());var Ue=this,Je=ke.clone();Ue.negative!==0?Ue=Ue.umod(ke):Ue=Ue.clone();for(var rt=new B(1),Xe=new B(0),it=new B(0),We=new B(1),Ve=0;Ue.isEven()&&Je.isEven();)Ue.iushrn(1),Je.iushrn(1),++Ve;for(var je=Je.clone(),Ze=Ue.clone();!Ue.isZero();){for(var st=0,dt=1;(Ue.words[0]&dt)===0&&st<26;++st,dt<<=1);if(st>0)for(Ue.iushrn(st);st-- >0;)(rt.isOdd()||Xe.isOdd())&&(rt.iadd(je),Xe.isub(Ze)),rt.iushrn(1),Xe.iushrn(1);for(var bt=0,vt=1;(Je.words[0]&vt)===0&&bt<26;++bt,vt<<=1);if(bt>0)for(Je.iushrn(bt);bt-- >0;)(it.isOdd()||We.isOdd())&&(it.iadd(je),We.isub(Ze)),it.iushrn(1),We.iushrn(1);Ue.cmp(Je)>=0?(Ue.isub(Je),rt.isub(it),Xe.isub(We)):(Je.isub(Ue),it.isub(rt),We.isub(Xe))}return{a:it,b:We,gcd:Je.iushln(Ve)}},B.prototype._invmp=function(ke){N(ke.negative===0),N(!ke.isZero());var Ue=this,Je=ke.clone();Ue.negative!==0?Ue=Ue.umod(ke):Ue=Ue.clone();for(var rt=new B(1),Xe=new B(0),it=Je.clone();Ue.cmpn(1)>0&&Je.cmpn(1)>0;){for(var We=0,Ve=1;(Ue.words[0]&Ve)===0&&We<26;++We,Ve<<=1);if(We>0)for(Ue.iushrn(We);We-- >0;)rt.isOdd()&&rt.iadd(it),rt.iushrn(1);for(var je=0,Ze=1;(Je.words[0]&Ze)===0&&je<26;++je,Ze<<=1);if(je>0)for(Je.iushrn(je);je-- >0;)Xe.isOdd()&&Xe.iadd(it),Xe.iushrn(1);Ue.cmp(Je)>=0?(Ue.isub(Je),rt.isub(Xe)):(Je.isub(Ue),Xe.isub(rt))}var st;return Ue.cmpn(1)===0?st=rt:st=Xe,st.cmpn(0)<0&&st.iadd(ke),st},B.prototype.gcd=function(ke){if(this.isZero())return ke.abs();if(ke.isZero())return this.abs();var Ue=this.clone(),Je=ke.clone();Ue.negative=0,Je.negative=0;for(var rt=0;Ue.isEven()&&Je.isEven();rt++)Ue.iushrn(1),Je.iushrn(1);do{for(;Ue.isEven();)Ue.iushrn(1);for(;Je.isEven();)Je.iushrn(1);var Xe=Ue.cmp(Je);if(Xe<0){var it=Ue;Ue=Je,Je=it}else if(Xe===0||Je.cmpn(1)===0)break;Ue.isub(Je)}while(!0);return Je.iushln(rt)},B.prototype.invm=function(ke){return this.egcd(ke).a.umod(ke)},B.prototype.isEven=function(){return(this.words[0]&1)===0},B.prototype.isOdd=function(){return(this.words[0]&1)===1},B.prototype.andln=function(ke){return this.words[0]&ke},B.prototype.bincn=function(ke){N(typeof ke=="number");var Ue=ke%26,Je=(ke-Ue)/26,rt=1<<Ue;if(this.length<=Je)return this._expand(Je+1),this.words[Je]|=rt,this;for(var Xe=rt,it=Je;Xe!==0&&it<this.length;it++){var We=this.words[it]|0;We+=Xe,Xe=We>>>26,We&=67108863,this.words[it]=We}return Xe!==0&&(this.words[it]=Xe,this.length++),this},B.prototype.isZero=function(){return this.length===1&&this.words[0]===0},B.prototype.cmpn=function(ke){var Ue=ke<0;if(this.negative!==0&&!Ue)return-1;if(this.negative===0&&Ue)return 1;this._strip();var Je;if(this.length>1)Je=1;else{Ue&&(ke=-ke),N(ke<=67108863,"Number is too big");var rt=this.words[0]|0;Je=rt===ke?0:rt<ke?-1:1}return this.negative!==0?-Je|0:Je},B.prototype.cmp=function(ke){if(this.negative!==0&&ke.negative===0)return-1;if(this.negative===0&&ke.negative!==0)return 1;var Ue=this.ucmp(ke);return this.negative!==0?-Ue|0:Ue},B.prototype.ucmp=function(ke){if(this.length>ke.length)return 1;if(this.length<ke.length)return-1;for(var Ue=0,Je=this.length-1;Je>=0;Je--){var rt=this.words[Je]|0,Xe=ke.words[Je]|0;if(rt!==Xe){rt<Xe?Ue=-1:rt>Xe&&(Ue=1);break}}return Ue},B.prototype.gtn=function(ke){return this.cmpn(ke)===1},B.prototype.gt=function(ke){return this.cmp(ke)===1},B.prototype.gten=function(ke){return this.cmpn(ke)>=0},B.prototype.gte=function(ke){return this.cmp(ke)>=0},B.prototype.ltn=function(ke){return this.cmpn(ke)===-1},B.prototype.lt=function(ke){return this.cmp(ke)===-1},B.prototype.lten=function(ke){return this.cmpn(ke)<=0},B.prototype.lte=function(ke){return this.cmp(ke)<=0},B.prototype.eqn=function(ke){return this.cmpn(ke)===0},B.prototype.eq=function(ke){return this.cmp(ke)===0},B.red=function(ke){return new tt(ke)},B.prototype.toRed=function(ke){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),ke.convertTo(this)._forceRed(ke)},B.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},B.prototype._forceRed=function(ke){return this.red=ke,this},B.prototype.forceRed=function(ke){return N(!this.red,"Already a number in reduction context"),this._forceRed(ke)},B.prototype.redAdd=function(ke){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,ke)},B.prototype.redIAdd=function(ke){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ke)},B.prototype.redSub=function(ke){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,ke)},B.prototype.redISub=function(ke){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,ke)},B.prototype.redShl=function(ke){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,ke)},B.prototype.redMul=function(ke){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,ke),this.red.mul(this,ke)},B.prototype.redIMul=function(ke){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,ke),this.red.imul(this,ke)},B.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},B.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},B.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},B.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},B.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},B.prototype.redPow=function(ke){return N(this.red&&!ke.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ke)};var Ge={k256:null,p224:null,p192:null,p25519:null};function at(Fe,ke){this.name=Fe,this.p=new B(ke,16),this.n=this.p.bitLength(),this.k=new B(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}at.prototype._tmp=function(){var ke=new B(null);return ke.words=new Array(Math.ceil(this.n/13)),ke},at.prototype.ireduce=function(ke){var Ue=ke,Je;do this.split(Ue,this.tmp),Ue=this.imulK(Ue),Ue=Ue.iadd(this.tmp),Je=Ue.bitLength();while(Je>this.n);var rt=Je<this.n?-1:Ue.ucmp(this.p);return rt===0?(Ue.words[0]=0,Ue.length=1):rt>0?Ue.isub(this.p):Ue.strip!==void 0?Ue.strip():Ue._strip(),Ue},at.prototype.split=function(ke,Ue){ke.iushrn(this.n,0,Ue)},at.prototype.imulK=function(ke){return ke.imul(this.k)};function ot(){at.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}L(ot,at),ot.prototype.split=function(ke,Ue){for(var Je=4194303,rt=Math.min(ke.length,9),Xe=0;Xe<rt;Xe++)Ue.words[Xe]=ke.words[Xe];if(Ue.length=rt,ke.length<=9){ke.words[0]=0,ke.length=1;return}var it=ke.words[9];for(Ue.words[Ue.length++]=it&Je,Xe=10;Xe<ke.length;Xe++){var We=ke.words[Xe]|0;ke.words[Xe-10]=(We&Je)<<4|it>>>22,it=We}it>>>=22,ke.words[Xe-10]=it,it===0&&ke.length>10?ke.length-=10:ke.length-=9},ot.prototype.imulK=function(ke){ke.words[ke.length]=0,ke.words[ke.length+1]=0,ke.length+=2;for(var Ue=0,Je=0;Je<ke.length;Je++){var rt=ke.words[Je]|0;Ue+=rt*977,ke.words[Je]=Ue&67108863,Ue=rt*64+(Ue/67108864|0)}return ke.words[ke.length-1]===0&&(ke.length--,ke.words[ke.length-1]===0&&ke.length--),ke};function Ye(){at.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}L(Ye,at);function nt(){at.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}L(nt,at);function Qe(){at.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}L(Qe,at),Qe.prototype.imulK=function(ke){for(var Ue=0,Je=0;Je<ke.length;Je++){var rt=(ke.words[Je]|0)*19+Ue,Xe=rt&67108863;rt>>>=26,ke.words[Je]=Xe,Ue=rt}return Ue!==0&&(ke.words[ke.length++]=Ue),ke},B._prime=function(ke){if(Ge[ke])return Ge[ke];var Ue;if(ke==="k256")Ue=new ot;else if(ke==="p224")Ue=new Ye;else if(ke==="p192")Ue=new nt;else if(ke==="p25519")Ue=new Qe;else throw new Error("Unknown prime "+ke);return Ge[ke]=Ue,Ue};function tt(Fe){if(typeof Fe=="string"){var ke=B._prime(Fe);this.m=ke.p,this.prime=ke}else N(Fe.gtn(1),"modulus must be greater than 1"),this.m=Fe,this.prime=null}tt.prototype._verify1=function(ke){N(ke.negative===0,"red works only with positives"),N(ke.red,"red works only with red numbers")},tt.prototype._verify2=function(ke,Ue){N((ke.negative|Ue.negative)===0,"red works only with positives"),N(ke.red&&ke.red===Ue.red,"red works only with red numbers")},tt.prototype.imod=function(ke){return this.prime?this.prime.ireduce(ke)._forceRed(this):(G(ke,ke.umod(this.m)._forceRed(this)),ke)},tt.prototype.neg=function(ke){return ke.isZero()?ke.clone():this.m.sub(ke)._forceRed(this)},tt.prototype.add=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.add(Ue);return Je.cmp(this.m)>=0&&Je.isub(this.m),Je._forceRed(this)},tt.prototype.iadd=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.iadd(Ue);return Je.cmp(this.m)>=0&&Je.isub(this.m),Je},tt.prototype.sub=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.sub(Ue);return Je.cmpn(0)<0&&Je.iadd(this.m),Je._forceRed(this)},tt.prototype.isub=function(ke,Ue){this._verify2(ke,Ue);var Je=ke.isub(Ue);return Je.cmpn(0)<0&&Je.iadd(this.m),Je},tt.prototype.shl=function(ke,Ue){return this._verify1(ke),this.imod(ke.ushln(Ue))},tt.prototype.imul=function(ke,Ue){return this._verify2(ke,Ue),this.imod(ke.imul(Ue))},tt.prototype.mul=function(ke,Ue){return this._verify2(ke,Ue),this.imod(ke.mul(Ue))},tt.prototype.isqr=function(ke){return this.imul(ke,ke.clone())},tt.prototype.sqr=function(ke){return this.mul(ke,ke)},tt.prototype.sqrt=function(ke){if(ke.isZero())return ke.clone();var Ue=this.m.andln(3);if(N(Ue%2===1),Ue===3){var Je=this.m.add(new B(1)).iushrn(2);return this.pow(ke,Je)}for(var rt=this.m.subn(1),Xe=0;!rt.isZero()&&rt.andln(1)===0;)Xe++,rt.iushrn(1);N(!rt.isZero());var it=new B(1).toRed(this),We=it.redNeg(),Ve=this.m.subn(1).iushrn(1),je=this.m.bitLength();for(je=new B(2*je*je).toRed(this);this.pow(je,Ve).cmp(We)!==0;)je.redIAdd(We);for(var Ze=this.pow(je,rt),st=this.pow(ke,rt.addn(1).iushrn(1)),dt=this.pow(ke,rt),bt=Xe;dt.cmp(it)!==0;){for(var vt=dt,St=0;vt.cmp(it)!==0;St++)vt=vt.redSqr();N(St<bt);var Bt=this.pow(Ze,new B(1).iushln(bt-St-1));st=st.redMul(Bt),Ze=Bt.redSqr(),dt=dt.redMul(Ze),bt=St}return st},tt.prototype.invm=function(ke){var Ue=ke._invmp(this.m);return Ue.negative!==0?(Ue.negative=0,this.imod(Ue).redNeg()):this.imod(Ue)},tt.prototype.pow=function(ke,Ue){if(Ue.isZero())return new B(1).toRed(this);if(Ue.cmpn(1)===0)return ke.clone();var Je=4,rt=new Array(1<<Je);rt[0]=new B(1).toRed(this),rt[1]=ke;for(var Xe=2;Xe<rt.length;Xe++)rt[Xe]=this.mul(rt[Xe-1],ke);var it=rt[0],We=0,Ve=0,je=Ue.bitLength()%26;for(je===0&&(je=26),Xe=Ue.length-1;Xe>=0;Xe--){for(var Ze=Ue.words[Xe],st=je-1;st>=0;st--){var dt=Ze>>st&1;if(it!==rt[0]&&(it=this.sqr(it)),dt===0&&We===0){Ve=0;continue}We<<=1,We|=dt,Ve++,!(Ve!==Je&&(Xe!==0||st!==0))&&(it=this.mul(it,rt[We]),Ve=0,We=0)}je=26}return it},tt.prototype.convertTo=function(ke){var Ue=ke.umod(this.m);return Ue===ke?Ue.clone():Ue},tt.prototype.convertFrom=function(ke){var Ue=ke.clone();return Ue.red=null,Ue},B.mont=function(ke){return new ze(ke)};function ze(Fe){tt.call(this,Fe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new B(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L(ze,tt),ze.prototype.convertTo=function(ke){return this.imod(ke.ushln(this.shift))},ze.prototype.convertFrom=function(ke){var Ue=this.imod(ke.mul(this.rinv));return Ue.red=null,Ue},ze.prototype.imul=function(ke,Ue){if(ke.isZero()||Ue.isZero())return ke.words[0]=0,ke.length=1,ke;var Je=ke.imul(Ue),rt=Je.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Xe=Je.isub(rt).iushrn(this.shift),it=Xe;return Xe.cmp(this.m)>=0?it=Xe.isub(this.m):Xe.cmpn(0)<0&&(it=Xe.iadd(this.m)),it._forceRed(this)},ze.prototype.mul=function(ke,Ue){if(ke.isZero()||Ue.isZero())return new B(0)._forceRed(this);var Je=ke.mul(Ue),rt=Je.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Xe=Je.isub(rt).iushrn(this.shift),it=Xe;return Xe.cmp(this.m)>=0?it=Xe.isub(this.m):Xe.cmpn(0)<0&&(it=Xe.iadd(this.m)),it._forceRed(this)},ze.prototype.invm=function(ke){var Ue=this.imod(ke._invmp(this.m).mul(this.r2));return Ue._forceRed(this)}})(T,commonjsGlobal$2)}(bn)),bn.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(T,$){if(T.indexOf)return T.indexOf($);for(var I=0;I<T.length;I++)if(T[I]===$)return I;return-1},Object_keys=function(T){if(Object.keys)return Object.keys(T);var $=[];for(var I in T)$.push(I);return $},forEach=function(T,$){if(T.forEach)return T.forEach($);for(var I=0;I<T.length;I++)$(T[I],I,T)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(T,$,I){Object.defineProperty(T,$,{writable:!0,enumerable:!1,configurable:!0,value:I})}}catch{return function($,I,N){$[I]=N}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function($){if(!(this instanceof Script))return new Script($);this.code=$};Script.prototype.runInContext=function(T){if(!(T instanceof Context))throw new TypeError("needs a 'context' argument.");var $=document.createElement("iframe");$.style||($.style={}),$.style.display="none",document.body.appendChild($);var I=$.contentWindow,N=I.eval,L=I.execScript;!N&&L&&(L.call(I,"null"),N=I.eval),forEach(Object_keys(T),function(z){I[z]=T[z]}),forEach(globals,function(z){T[z]&&(I[z]=T[z])});var B=Object_keys(I),H=N.call(I,this.code);return forEach(Object_keys(I),function(z){(z in T||indexOf(B,z)===-1)&&(T[z]=I[z])}),forEach(globals,function(z){z in T||defineProp(T,z,I[z])}),document.body.removeChild($),H},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(T){var $=Script.createContext(T),I=this.runInContext($);return T&&forEach(Object_keys($),function(N){T[N]=$[N]}),I},forEach(Object_keys(Script.prototype),function(T){exports[T]=Script[T]=function($){var I=Script($);return I[T].apply(I,[].slice.call(arguments,1))}}),exports.isContext=function(T){return T instanceof Context},exports.createScript=function(T){return exports.Script(T)},exports.createContext=Script.createContext=function(T){var $=new Context;return typeof T=="object"&&forEach(Object_keys(T),function(I){$[I]=T[I]}),$}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(T){var $=requireAsn1$1(),I=inherits_browser$1,N=T;N.define=function(H,z){return new L(H,z)};function L(B,H){this.name=B,this.body=H,this.decoders={},this.encoders={}}L.prototype._createNamed=function(H){var z;try{z=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{z=function(te){this._initNamed(te)}}return I(z,H),z.prototype._initNamed=function(te){H.call(this,te)},new z(this)},L.prototype._getDecoder=function(H){return H=H||"der",this.decoders.hasOwnProperty(H)||(this.decoders[H]=this._createNamed($.decoders[H])),this.decoders[H]},L.prototype.decode=function(H,z,Q){return this._getDecoder(z).decode(H,Q)},L.prototype._getEncoder=function(H){return H=H||"der",this.encoders.hasOwnProperty(H)||(this.encoders[H]=this._createNamed($.encoders[H])),this.encoders[H]},L.prototype.encode=function(H,z,Q){return this._getEncoder(z).encode(H,Q)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var T=inherits_browser$1;function $(N){this._reporterState={obj:null,path:[],options:N||{},errors:[]}}reporter.Reporter=$,$.prototype.isError=function(L){return L instanceof I},$.prototype.save=function(){var L=this._reporterState;return{obj:L.obj,pathLen:L.path.length}},$.prototype.restore=function(L){var B=this._reporterState;B.obj=L.obj,B.path=B.path.slice(0,L.pathLen)},$.prototype.enterKey=function(L){return this._reporterState.path.push(L)},$.prototype.exitKey=function(L){var B=this._reporterState;B.path=B.path.slice(0,L-1)},$.prototype.leaveKey=function(L,B,H){var z=this._reporterState;this.exitKey(L),z.obj!==null&&(z.obj[B]=H)},$.prototype.path=function(){return this._reporterState.path.join("/")},$.prototype.enterObject=function(){var L=this._reporterState,B=L.obj;return L.obj={},B},$.prototype.leaveObject=function(L){var B=this._reporterState,H=B.obj;return B.obj=L,H},$.prototype.error=function(L){var B,H=this._reporterState,z=L instanceof I;if(z?B=L:B=new I(H.path.map(function(Q){return"["+JSON.stringify(Q)+"]"}).join(""),L.message||L,L.stack),!H.options.partial)throw B;return z||H.errors.push(B),B},$.prototype.wrapResult=function(L){var B=this._reporterState;return B.options.partial?{result:this.isError(L)?null:L,errors:B.errors}:L};function I(N,L){this.path=N,this.rethrow(L)}return T(I,Error),I.prototype.rethrow=function(L){if(this.message=L+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,I),!this.stack)try{throw new Error(this.message)}catch(B){this.stack=B.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var T=inherits_browser$1,$=requireBase().Reporter,I=dist$5.Buffer;function N(B,H){if($.call(this,H),!I.isBuffer(B)){this.error("Input not Buffer");return}this.base=B,this.offset=0,this.length=B.length}T(N,$),buffer.DecoderBuffer=N,N.prototype.save=function(){return{offset:this.offset,reporter:$.prototype.save.call(this)}},N.prototype.restore=function(H){var z=new N(this.base);return z.offset=H.offset,z.length=this.offset,this.offset=H.offset,$.prototype.restore.call(this,H.reporter),z},N.prototype.isEmpty=function(){return this.offset===this.length},N.prototype.readUInt8=function(H){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(H||"DecoderBuffer overrun")},N.prototype.skip=function(H,z){if(!(this.offset+H<=this.length))return this.error(z||"DecoderBuffer overrun");var Q=new N(this.base);return Q._reporterState=this._reporterState,Q.offset=this.offset,Q.length=this.offset+H,this.offset+=H,Q},N.prototype.raw=function(H){return this.base.slice(H?H.offset:this.offset,this.length)};function L(B,H){if(Array.isArray(B))this.length=0,this.value=B.map(function(z){return z instanceof L||(z=new L(z,H)),this.length+=z.length,z},this);else if(typeof B=="number"){if(!(0<=B&&B<=255))return H.error("non-byte EncoderBuffer value");this.value=B,this.length=1}else if(typeof B=="string")this.value=B,this.length=I.byteLength(B);else if(I.isBuffer(B))this.value=B,this.length=B.length;else return H.error("Unsupported type: "+typeof B)}return buffer.EncoderBuffer=L,L.prototype.join=function(H,z){return H||(H=new I(this.length)),z||(z=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Q){Q.join(H,z),z+=Q.length}):(typeof this.value=="number"?H[z]=this.value:typeof this.value=="string"?H.write(this.value,z):I.isBuffer(this.value)&&this.value.copy(H,z),z+=this.length)),H},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var T=requireBase().Reporter,$=requireBase().EncoderBuffer,I=requireBase().DecoderBuffer,N=minimalisticAssert$1,L=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],B=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(L),H=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function z(te,G){var ie={};this._baseState=ie,ie.enc=te,ie.parent=G||null,ie.children=null,ie.tag=null,ie.args=null,ie.reverseArgs=null,ie.choice=null,ie.optional=!1,ie.any=!1,ie.obj=!1,ie.use=null,ie.useDecoder=null,ie.key=null,ie.default=null,ie.explicit=null,ie.implicit=null,ie.contains=null,ie.parent||(ie.children=[],this._wrap())}node=z;var Q=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return z.prototype.clone=function(){var G=this._baseState,ie={};Q.forEach(function($e){ie[$e]=G[$e]});var Re=new this.constructor(ie.parent);return Re._baseState=ie,Re},z.prototype._wrap=function(){var G=this._baseState;B.forEach(function(ie){this[ie]=function(){var $e=new this.constructor(this);return G.children.push($e),$e[ie].apply($e,arguments)}},this)},z.prototype._init=function(G){var ie=this._baseState;N(ie.parent===null),G.call(this),ie.children=ie.children.filter(function(Re){return Re._baseState.parent===this},this),N.equal(ie.children.length,1,"Root node can have only one child")},z.prototype._useArgs=function(G){var ie=this._baseState,Re=G.filter(function($e){return $e instanceof this.constructor},this);G=G.filter(function($e){return!($e instanceof this.constructor)},this),Re.length!==0&&(N(ie.children===null),ie.children=Re,Re.forEach(function($e){$e._baseState.parent=this},this)),G.length!==0&&(N(ie.args===null),ie.args=G,ie.reverseArgs=G.map(function($e){if(typeof $e!="object"||$e.constructor!==Object)return $e;var Pe={};return Object.keys($e).forEach(function(Me){Me==(Me|0)&&(Me|=0);var Be=$e[Me];Pe[Be]=Me}),Pe}))},H.forEach(function(te){z.prototype[te]=function(){var ie=this._baseState;throw new Error(te+" not implemented for encoding: "+ie.enc)}}),L.forEach(function(te){z.prototype[te]=function(){var ie=this._baseState,Re=Array.prototype.slice.call(arguments);return N(ie.tag===null),ie.tag=te,this._useArgs(Re),this}}),z.prototype.use=function(G){N(G);var ie=this._baseState;return N(ie.use===null),ie.use=G,this},z.prototype.optional=function(){var G=this._baseState;return G.optional=!0,this},z.prototype.def=function(G){var ie=this._baseState;return N(ie.default===null),ie.default=G,ie.optional=!0,this},z.prototype.explicit=function(G){var ie=this._baseState;return N(ie.explicit===null&&ie.implicit===null),ie.explicit=G,this},z.prototype.implicit=function(G){var ie=this._baseState;return N(ie.explicit===null&&ie.implicit===null),ie.implicit=G,this},z.prototype.obj=function(){var G=this._baseState,ie=Array.prototype.slice.call(arguments);return G.obj=!0,ie.length!==0&&this._useArgs(ie),this},z.prototype.key=function(G){var ie=this._baseState;return N(ie.key===null),ie.key=G,this},z.prototype.any=function(){var G=this._baseState;return G.any=!0,this},z.prototype.choice=function(G){var ie=this._baseState;return N(ie.choice===null),ie.choice=G,this._useArgs(Object.keys(G).map(function(Re){return G[Re]})),this},z.prototype.contains=function(G){var ie=this._baseState;return N(ie.use===null),ie.contains=G,this},z.prototype._decode=function(G,ie){var Re=this._baseState;if(Re.parent===null)return G.wrapResult(Re.children[0]._decode(G,ie));var $e=Re.default,Pe=!0,Me=null;if(Re.key!==null&&(Me=G.enterKey(Re.key)),Re.optional){var Be=null;if(Re.explicit!==null?Be=Re.explicit:Re.implicit!==null?Be=Re.implicit:Re.tag!==null&&(Be=Re.tag),Be===null&&!Re.any){var Ke=G.save();try{Re.choice===null?this._decodeGeneric(Re.tag,G,ie):this._decodeChoice(G,ie),Pe=!0}catch{Pe=!1}G.restore(Ke)}else if(Pe=this._peekTag(G,Be,Re.any),G.isError(Pe))return Pe}var Le;if(Re.obj&&Pe&&(Le=G.enterObject()),Pe){if(Re.explicit!==null){var qe=this._decodeTag(G,Re.explicit);if(G.isError(qe))return qe;G=qe}var He=G.offset;if(Re.use===null&&Re.choice===null){if(Re.any)var Ke=G.save();var Ge=this._decodeTag(G,Re.implicit!==null?Re.implicit:Re.tag,Re.any);if(G.isError(Ge))return Ge;Re.any?$e=G.raw(Ke):G=Ge}if(ie&&ie.track&&Re.tag!==null&&ie.track(G.path(),He,G.length,"tagged"),ie&&ie.track&&Re.tag!==null&&ie.track(G.path(),G.offset,G.length,"content"),Re.any?$e=$e:Re.choice===null?$e=this._decodeGeneric(Re.tag,G,ie):$e=this._decodeChoice(G,ie),G.isError($e))return $e;if(!Re.any&&Re.choice===null&&Re.children!==null&&Re.children.forEach(function(Ye){Ye._decode(G,ie)}),Re.contains&&(Re.tag==="octstr"||Re.tag==="bitstr")){var at=new I($e);$e=this._getUse(Re.contains,G._reporterState.obj)._decode(at,ie)}}return Re.obj&&Pe&&($e=G.leaveObject(Le)),Re.key!==null&&($e!==null||Pe===!0)?G.leaveKey(Me,Re.key,$e):Me!==null&&G.exitKey(Me),$e},z.prototype._decodeGeneric=function(G,ie,Re){var $e=this._baseState;return G==="seq"||G==="set"?null:G==="seqof"||G==="setof"?this._decodeList(ie,G,$e.args[0],Re):/str$/.test(G)?this._decodeStr(ie,G,Re):G==="objid"&&$e.args?this._decodeObjid(ie,$e.args[0],$e.args[1],Re):G==="objid"?this._decodeObjid(ie,null,null,Re):G==="gentime"||G==="utctime"?this._decodeTime(ie,G,Re):G==="null_"?this._decodeNull(ie,Re):G==="bool"?this._decodeBool(ie,Re):G==="objDesc"?this._decodeStr(ie,G,Re):G==="int"||G==="enum"?this._decodeInt(ie,$e.args&&$e.args[0],Re):$e.use!==null?this._getUse($e.use,ie._reporterState.obj)._decode(ie,Re):ie.error("unknown tag: "+G)},z.prototype._getUse=function(G,ie){var Re=this._baseState;return Re.useDecoder=this._use(G,ie),N(Re.useDecoder._baseState.parent===null),Re.useDecoder=Re.useDecoder._baseState.children[0],Re.implicit!==Re.useDecoder._baseState.implicit&&(Re.useDecoder=Re.useDecoder.clone(),Re.useDecoder._baseState.implicit=Re.implicit),Re.useDecoder},z.prototype._decodeChoice=function(G,ie){var Re=this._baseState,$e=null,Pe=!1;return Object.keys(Re.choice).some(function(Me){var Be=G.save(),Ke=Re.choice[Me];try{var Le=Ke._decode(G,ie);if(G.isError(Le))return!1;$e={type:Me,value:Le},Pe=!0}catch{return G.restore(Be),!1}return!0},this),Pe?$e:G.error("Choice not matched")},z.prototype._createEncoderBuffer=function(G){return new $(G,this.reporter)},z.prototype._encode=function(G,ie,Re){var $e=this._baseState;if(!($e.default!==null&&$e.default===G)){var Pe=this._encodeValue(G,ie,Re);if(Pe!==void 0&&!this._skipDefault(Pe,ie,Re))return Pe}},z.prototype._encodeValue=function(G,ie,Re){var $e=this._baseState;if($e.parent===null)return $e.children[0]._encode(G,ie||new T);var Ke=null;if(this.reporter=ie,$e.optional&&G===void 0)if($e.default!==null)G=$e.default;else return;var Pe=null,Me=!1;if($e.any)Ke=this._createEncoderBuffer(G);else if($e.choice)Ke=this._encodeChoice(G,ie);else if($e.contains)Pe=this._getUse($e.contains,Re)._encode(G,ie),Me=!0;else if($e.children)Pe=$e.children.map(function(He){if(He._baseState.tag==="null_")return He._encode(null,ie,G);if(He._baseState.key===null)return ie.error("Child should have a key");var Ge=ie.enterKey(He._baseState.key);if(typeof G!="object")return ie.error("Child expected, but input is not object");var at=He._encode(G[He._baseState.key],ie,G);return ie.leaveKey(Ge),at},this).filter(function(He){return He}),Pe=this._createEncoderBuffer(Pe);else if($e.tag==="seqof"||$e.tag==="setof"){if(!($e.args&&$e.args.length===1))return ie.error("Too many args for : "+$e.tag);if(!Array.isArray(G))return ie.error("seqof/setof, but data is not Array");var Be=this.clone();Be._baseState.implicit=null,Pe=this._createEncoderBuffer(G.map(function(He){var Ge=this._baseState;return this._getUse(Ge.args[0],G)._encode(He,ie)},Be))}else $e.use!==null?Ke=this._getUse($e.use,Re)._encode(G,ie):(Pe=this._encodePrimitive($e.tag,G),Me=!0);var Ke;if(!$e.any&&$e.choice===null){var Le=$e.implicit!==null?$e.implicit:$e.tag,qe=$e.implicit===null?"universal":"context";Le===null?$e.use===null&&ie.error("Tag could be omitted only for .use()"):$e.use===null&&(Ke=this._encodeComposite(Le,Me,qe,Pe))}return $e.explicit!==null&&(Ke=this._encodeComposite($e.explicit,!1,"context",Ke)),Ke},z.prototype._encodeChoice=function(G,ie){var Re=this._baseState,$e=Re.choice[G.type];return $e||N(!1,G.type+" not found in "+JSON.stringify(Object.keys(Re.choice))),$e._encode(G.value,ie)},z.prototype._encodePrimitive=function(G,ie){var Re=this._baseState;if(/str$/.test(G))return this._encodeStr(ie,G);if(G==="objid"&&Re.args)return this._encodeObjid(ie,Re.reverseArgs[0],Re.args[1]);if(G==="objid")return this._encodeObjid(ie,null,null);if(G==="gentime"||G==="utctime")return this._encodeTime(ie,G);if(G==="null_")return this._encodeNull();if(G==="int"||G==="enum")return this._encodeInt(ie,Re.args&&Re.reverseArgs[0]);if(G==="bool")return this._encodeBool(ie);if(G==="objDesc")return this._encodeStr(ie,G);throw new Error("Unsupported tag: "+G)},z.prototype._isNumstr=function(G){return/^[0-9 ]*$/.test(G)},z.prototype._isPrintstr=function(G){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(G)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(T){var $=T;$.Reporter=requireReporter().Reporter,$.DecoderBuffer=requireBuffer().DecoderBuffer,$.EncoderBuffer=requireBuffer().EncoderBuffer,$.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(T){var $=requireConstants();T.tagClass={0:"universal",1:"application",2:"context",3:"private"},T.tagClassByName=$._reverse(T.tagClass),T.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},T.tagByName=$._reverse(T.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(T){var $=T;$._reverse=function(N){var L={};return Object.keys(N).forEach(function(B){(B|0)==B&&(B=B|0);var H=N[B];L[H]=B}),L},$.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var T=inherits_browser$1,$=requireAsn1$1(),I=$.base,N=$.bignum,L=$.constants.der;function B(te){this.enc="der",this.name=te.name,this.entity=te,this.tree=new H,this.tree._init(te.body)}der_1$1=B,B.prototype.decode=function(G,ie){return G instanceof I.DecoderBuffer||(G=new I.DecoderBuffer(G,ie)),this.tree._decode(G,ie)};function H(te){I.Node.call(this,"der",te)}T(H,I.Node),H.prototype._peekTag=function(G,ie,Re){if(G.isEmpty())return!1;var $e=G.save(),Pe=z(G,'Failed to peek tag: "'+ie+'"');return G.isError(Pe)?Pe:(G.restore($e),Pe.tag===ie||Pe.tagStr===ie||Pe.tagStr+"of"===ie||Re)},H.prototype._decodeTag=function(G,ie,Re){var $e=z(G,'Failed to decode tag of "'+ie+'"');if(G.isError($e))return $e;var Pe=Q(G,$e.primitive,'Failed to get length of "'+ie+'"');if(G.isError(Pe))return Pe;if(!Re&&$e.tag!==ie&&$e.tagStr!==ie&&$e.tagStr+"of"!==ie)return G.error('Failed to match tag: "'+ie+'"');if($e.primitive||Pe!==null)return G.skip(Pe,'Failed to match body of: "'+ie+'"');var Me=G.save(),Be=this._skipUntilEnd(G,'Failed to skip indefinite length body: "'+this.tag+'"');return G.isError(Be)?Be:(Pe=G.offset-Me.offset,G.restore(Me),G.skip(Pe,'Failed to match body of: "'+ie+'"'))},H.prototype._skipUntilEnd=function(G,ie){for(;;){var Re=z(G,ie);if(G.isError(Re))return Re;var $e=Q(G,Re.primitive,ie);if(G.isError($e))return $e;var Pe;if(Re.primitive||$e!==null?Pe=G.skip($e):Pe=this._skipUntilEnd(G,ie),G.isError(Pe))return Pe;if(Re.tagStr==="end")break}},H.prototype._decodeList=function(G,ie,Re,$e){for(var Pe=[];!G.isEmpty();){var Me=this._peekTag(G,"end");if(G.isError(Me))return Me;var Be=Re.decode(G,"der",$e);if(G.isError(Be)&&Me)break;Pe.push(Be)}return Pe},H.prototype._decodeStr=function(G,ie){if(ie==="bitstr"){var Re=G.readUInt8();return G.isError(Re)?Re:{unused:Re,data:G.raw()}}else if(ie==="bmpstr"){var $e=G.raw();if($e.length%2===1)return G.error("Decoding of string type: bmpstr length mismatch");for(var Pe="",Me=0;Me<$e.length/2;Me++)Pe+=String.fromCharCode($e.readUInt16BE(Me*2));return Pe}else if(ie==="numstr"){var Be=G.raw().toString("ascii");return this._isNumstr(Be)?Be:G.error("Decoding of string type: numstr unsupported characters")}else{if(ie==="octstr")return G.raw();if(ie==="objDesc")return G.raw();if(ie==="printstr"){var Ke=G.raw().toString("ascii");return this._isPrintstr(Ke)?Ke:G.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(ie)?G.raw().toString():G.error("Decoding of string type: "+ie+" unsupported")}},H.prototype._decodeObjid=function(G,ie,Re){for(var $e,Pe=[],Me=0;!G.isEmpty();){var Be=G.readUInt8();Me<<=7,Me|=Be&127,(Be&128)===0&&(Pe.push(Me),Me=0)}Be&128&&Pe.push(Me);var Ke=Pe[0]/40|0,Le=Pe[0]%40;if(Re?$e=Pe:$e=[Ke,Le].concat(Pe.slice(1)),ie){var qe=ie[$e.join(" ")];qe===void 0&&(qe=ie[$e.join(".")]),qe!==void 0&&($e=qe)}return $e},H.prototype._decodeTime=function(G,ie){var Re=G.raw().toString();if(ie==="gentime")var $e=Re.slice(0,4)|0,Pe=Re.slice(4,6)|0,Me=Re.slice(6,8)|0,Be=Re.slice(8,10)|0,Ke=Re.slice(10,12)|0,Le=Re.slice(12,14)|0;else if(ie==="utctime"){var $e=Re.slice(0,2)|0,Pe=Re.slice(2,4)|0,Me=Re.slice(4,6)|0,Be=Re.slice(6,8)|0,Ke=Re.slice(8,10)|0,Le=Re.slice(10,12)|0;$e<70?$e=2e3+$e:$e=1900+$e}else return G.error("Decoding "+ie+" time is not supported yet");return Date.UTC($e,Pe-1,Me,Be,Ke,Le,0)},H.prototype._decodeNull=function(G){return null},H.prototype._decodeBool=function(G){var ie=G.readUInt8();return G.isError(ie)?ie:ie!==0},H.prototype._decodeInt=function(G,ie){var Re=G.raw(),$e=new N(Re);return ie&&($e=ie[$e.toString(10)]||$e),$e},H.prototype._use=function(G,ie){return typeof G=="function"&&(G=G(ie)),G._getDecoder("der").tree};function z(te,G){var ie=te.readUInt8(G);if(te.isError(ie))return ie;var Re=L.tagClass[ie>>6],$e=(ie&32)===0;if((ie&31)===31){var Pe=ie;for(ie=0;(Pe&128)===128;){if(Pe=te.readUInt8(G),te.isError(Pe))return Pe;ie<<=7,ie|=Pe&127}}else ie&=31;var Me=L.tag[ie];return{cls:Re,primitive:$e,tag:ie,tagStr:Me}}function Q(te,G,ie){var Re=te.readUInt8(ie);if(te.isError(Re))return Re;if(!G&&Re===128)return null;if((Re&128)===0)return Re;var $e=Re&127;if($e>4)return te.error("length octect is too long");Re=0;for(var Pe=0;Pe<$e;Pe++){Re<<=8;var Me=te.readUInt8(ie);if(te.isError(Me))return Me;Re|=Me}return Re}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var T=inherits_browser$1,$=dist$5.Buffer,I=requireDer$1();function N(L){I.call(this,L),this.enc="pem"}return T(N,I),pem$1=N,N.prototype.decode=function(B,H){for(var z=B.toString().split(/[\r\n]+/g),Q=H.label.toUpperCase(),te=/^-----(BEGIN|END) ([^-]+)-----$/,G=-1,ie=-1,Re=0;Re<z.length;Re++){var $e=z[Re].match(te);if($e!==null&&$e[2]===Q)if(G===-1){if($e[1]!=="BEGIN")break;G=Re}else{if($e[1]!=="END")break;ie=Re;break}}if(G===-1||ie===-1)throw new Error("PEM section not found for: "+Q);var Pe=z.slice(G+1,ie).join("");Pe.replace(/[^a-z0-9\+\/=]+/gi,"");var Me=new $(Pe,"base64");return I.prototype.decode.call(this,Me,H)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(T){var $=T;$.der=requireDer$1(),$.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var T=inherits_browser$1,$=dist$5.Buffer,I=requireAsn1$1(),N=I.base,L=I.constants.der;function B(te){this.enc="der",this.name=te.name,this.entity=te,this.tree=new H,this.tree._init(te.body)}der_1=B,B.prototype.encode=function(G,ie){return this.tree._encode(G,ie).join()};function H(te){N.Node.call(this,"der",te)}T(H,N.Node),H.prototype._encodeComposite=function(G,ie,Re,$e){var Pe=Q(G,ie,Re,this.reporter);if($e.length<128){var Ke=new $(2);return Ke[0]=Pe,Ke[1]=$e.length,this._createEncoderBuffer([Ke,$e])}for(var Me=1,Be=$e.length;Be>=256;Be>>=8)Me++;var Ke=new $(2+Me);Ke[0]=Pe,Ke[1]=128|Me;for(var Be=1+Me,Le=$e.length;Le>0;Be--,Le>>=8)Ke[Be]=Le&255;return this._createEncoderBuffer([Ke,$e])},H.prototype._encodeStr=function(G,ie){if(ie==="bitstr")return this._createEncoderBuffer([G.unused|0,G.data]);if(ie==="bmpstr"){for(var Re=new $(G.length*2),$e=0;$e<G.length;$e++)Re.writeUInt16BE(G.charCodeAt($e),$e*2);return this._createEncoderBuffer(Re)}else return ie==="numstr"?this._isNumstr(G)?this._createEncoderBuffer(G):this.reporter.error("Encoding of string type: numstr supports only digits and space"):ie==="printstr"?this._isPrintstr(G)?this._createEncoderBuffer(G):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(ie)?this._createEncoderBuffer(G):ie==="objDesc"?this._createEncoderBuffer(G):this.reporter.error("Encoding of string type: "+ie+" unsupported")},H.prototype._encodeObjid=function(G,ie,Re){if(typeof G=="string"){if(!ie)return this.reporter.error("string objid given, but no values map found");if(!ie.hasOwnProperty(G))return this.reporter.error("objid not found in values map");G=ie[G].split(/[\s\.]+/g);for(var $e=0;$e<G.length;$e++)G[$e]|=0}else if(Array.isArray(G)){G=G.slice();for(var $e=0;$e<G.length;$e++)G[$e]|=0}if(!Array.isArray(G))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(G));if(!Re){if(G[1]>=40)return this.reporter.error("Second objid identifier OOB");G.splice(0,2,G[0]*40+G[1])}for(var Pe=0,$e=0;$e<G.length;$e++){var Me=G[$e];for(Pe++;Me>=128;Me>>=7)Pe++}for(var Be=new $(Pe),Ke=Be.length-1,$e=G.length-1;$e>=0;$e--){var Me=G[$e];for(Be[Ke--]=Me&127;(Me>>=7)>0;)Be[Ke--]=128|Me&127}return this._createEncoderBuffer(Be)};function z(te){return te<10?"0"+te:te}H.prototype._encodeTime=function(G,ie){var Re,$e=new Date(G);return ie==="gentime"?Re=[z($e.getFullYear()),z($e.getUTCMonth()+1),z($e.getUTCDate()),z($e.getUTCHours()),z($e.getUTCMinutes()),z($e.getUTCSeconds()),"Z"].join(""):ie==="utctime"?Re=[z($e.getFullYear()%100),z($e.getUTCMonth()+1),z($e.getUTCDate()),z($e.getUTCHours()),z($e.getUTCMinutes()),z($e.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+ie+" time is not supported yet"),this._encodeStr(Re,"octstr")},H.prototype._encodeNull=function(){return this._createEncoderBuffer("")},H.prototype._encodeInt=function(G,ie){if(typeof G=="string"){if(!ie)return this.reporter.error("String int or enum given, but no values map");if(!ie.hasOwnProperty(G))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(G));G=ie[G]}if(typeof G!="number"&&!$.isBuffer(G)){var Re=G.toArray();!G.sign&&Re[0]&128&&Re.unshift(0),G=new $(Re)}if($.isBuffer(G)){var $e=G.length;G.length===0&&$e++;var Me=new $($e);return G.copy(Me),G.length===0&&(Me[0]=0),this._createEncoderBuffer(Me)}if(G<128)return this._createEncoderBuffer(G);if(G<256)return this._createEncoderBuffer([0,G]);for(var $e=1,Pe=G;Pe>=256;Pe>>=8)$e++;for(var Me=new Array($e),Pe=Me.length-1;Pe>=0;Pe--)Me[Pe]=G&255,G>>=8;return Me[0]&128&&Me.unshift(0),this._createEncoderBuffer(new $(Me))},H.prototype._encodeBool=function(G){return this._createEncoderBuffer(G?255:0)},H.prototype._use=function(G,ie){return typeof G=="function"&&(G=G(ie)),G._getEncoder("der").tree},H.prototype._skipDefault=function(G,ie,Re){var $e=this._baseState,Pe;if($e.default===null)return!1;var Me=G.join();if($e.defaultBuffer===void 0&&($e.defaultBuffer=this._encodeValue($e.default,ie,Re).join()),Me.length!==$e.defaultBuffer.length)return!1;for(Pe=0;Pe<Me.length;Pe++)if(Me[Pe]!==$e.defaultBuffer[Pe])return!1;return!0};function Q(te,G,ie,Re){var $e;if(te==="seqof"?te="seq":te==="setof"&&(te="set"),L.tagByName.hasOwnProperty(te))$e=L.tagByName[te];else if(typeof te=="number"&&(te|0)===te)$e=te;else return Re.error("Unknown tag: "+te);return $e>=31?Re.error("Multi-octet tag encoding unsupported"):(G||($e|=32),$e|=L.tagClassByName[ie||"universal"]<<6,$e)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var T=inherits_browser$1,$=requireDer();function I(N){$.call(this,N),this.enc="pem"}return T(I,$),pem=I,I.prototype.encode=function(L,B){for(var H=$.prototype.encode.call(this,L),z=H.toString("base64"),Q=["-----BEGIN "+B.label+"-----"],te=0;te<z.length;te+=64)Q.push(z.slice(te,te+64));return Q.push("-----END "+B.label+"-----"),Q.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(T){var $=T;$.der=requireDer(),$.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(T){var $=T;$.bignum=bn$3,$.define=requireApi().define,$.base=requireBase(),$.constants=requireConstants(),$.decoders=requireDecoders(),$.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var T=requireAsn1$1(),$=T.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),I=T.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),N=T.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),L=T.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(N),this.key("subjectPublicKey").bitstr())}),B=T.define("RelativeDistinguishedName",function(){this.setof(I)}),H=T.define("RDNSequence",function(){this.seqof(B)}),z=T.define("Name",function(){this.choice({rdnSequence:this.use(H)})}),Q=T.define("Validity",function(){this.seq().obj(this.key("notBefore").use($),this.key("notAfter").use($))}),te=T.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),G=T.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(N),this.key("issuer").use(z),this.key("validity").use(Q),this.key("subject").use(z),this.key("subjectPublicKeyInfo").use(L),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(te).optional())}),ie=T.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(G),this.key("signatureAlgorithm").use(N),this.key("signatureValue").bitstr())});return certificate=ie,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var T=requireAsn1$1();asn1$1.certificate=requireCertificate();var $=T.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=$;var I=T.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=I;var N=T.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),L=T.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(N),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=L;var B=T.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(N),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=B;var H=T.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=H;var z=T.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=z,asn1$1.DSAparam=T.define("DSAparam",function(){this.int()});var Q=T.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),te=T.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Q),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=te,asn1$1.signature=T.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var T=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,$=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,I=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,N=requireEvp_bytestokey(),L=requireBrowser$6(),B=safeBuffer$1.Buffer;return fixProc=function(H,z){var Q=H.toString(),te=Q.match(T),G;if(te){var Re="aes"+te[1],$e=B.from(te[2],"hex"),Pe=B.from(te[3].replace(/[\r\n]/g,""),"base64"),Me=N(z,$e.slice(0,8),parseInt(te[1],10)).key,Be=[],Ke=L.createDecipheriv(Re,Me,$e);Be.push(Ke.update(Pe)),Be.push(Ke.final()),G=B.concat(Be)}else{var ie=Q.match(I);G=B.from(ie[2].replace(/[\r\n]/g,""),"base64")}var Le=Q.match($)[1];return{tag:Le,data:G}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var T=requireAsn1(),$=require$$1,I=requireFixProc(),N=requireBrowser$6(),L=requireBrowser$7(),B=safeBuffer$1.Buffer;function H(Q,te){var G=Q.algorithm.decrypt.kde.kdeparams.salt,ie=parseInt(Q.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Re=$[Q.algorithm.decrypt.cipher.algo.join(".")],$e=Q.algorithm.decrypt.cipher.iv,Pe=Q.subjectPrivateKey,Me=parseInt(Re.split("-")[1],10)/8,Be=L.pbkdf2Sync(te,G,ie,Me,"sha1"),Ke=N.createDecipheriv(Re,Be,$e),Le=[];return Le.push(Ke.update(Pe)),Le.push(Ke.final()),B.concat(Le)}function z(Q){var te;typeof Q=="object"&&!B.isBuffer(Q)&&(te=Q.passphrase,Q=Q.key),typeof Q=="string"&&(Q=B.from(Q));var G=I(Q,te),ie=G.tag,Re=G.data,$e,Pe;switch(ie){case"CERTIFICATE":Pe=T.certificate.decode(Re,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Pe||(Pe=T.PublicKey.decode(Re,"der")),$e=Pe.algorithm.algorithm.join("."),$e){case"1.2.840.113549.1.1.1":return T.RSAPublicKey.decode(Pe.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Pe.subjectPrivateKey=Pe.subjectPublicKey,{type:"ec",data:Pe};case"1.2.840.10040.4.1":return Pe.algorithm.params.pub_key=T.DSAparam.decode(Pe.subjectPublicKey.data,"der"),{type:"dsa",data:Pe.algorithm.params};default:throw new Error("unknown key id "+$e)}case"ENCRYPTED PRIVATE KEY":Re=T.EncryptedPrivateKey.decode(Re,"der"),Re=H(Re,te);case"PRIVATE KEY":switch(Pe=T.PrivateKey.decode(Re,"der"),$e=Pe.algorithm.algorithm.join("."),$e){case"1.2.840.113549.1.1.1":return T.RSAPrivateKey.decode(Pe.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Pe.algorithm.curve,privateKey:T.ECPrivateKey.decode(Pe.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Pe.algorithm.params.priv_key=T.DSAparam.decode(Pe.subjectPrivateKey,"der"),{type:"dsa",params:Pe.algorithm.params};default:throw new Error("unknown key id "+$e)}case"RSA PUBLIC KEY":return T.RSAPublicKey.decode(Re,"der");case"RSA PRIVATE KEY":return T.RSAPrivateKey.decode(Re,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:T.DSAPrivateKey.decode(Re,"der")};case"EC PRIVATE KEY":return Re=T.ECPrivateKey.decode(Re,"der"),{curve:Re.parameters.value,privateKey:Re.privateKey};default:throw new Error("unknown key type "+ie)}}return z.signature=T.signature,parseAsn1=z,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var T=safeBuffer$1.Buffer,$=requireBrowser$8(),I=requireBrowserifyRsa(),N=requireElliptic().ec,L=requireBn(),B=requireParseAsn1(),H=require$$4,z=1;function Q(Ke,Le,qe,He,Ge){var at=B(Le);if(at.curve){if(He!=="ecdsa"&&He!=="ecdsa/rsa")throw new Error("wrong private key type");return te(Ke,at)}else if(at.type==="dsa"){if(He!=="dsa")throw new Error("wrong private key type");return G(Ke,at,qe)}if(He!=="rsa"&&He!=="ecdsa/rsa")throw new Error("wrong private key type");if(Le.padding!==void 0&&Le.padding!==z)throw new Error("illegal or unsupported padding mode");Ke=T.concat([Ge,Ke]);for(var ot=at.modulus.byteLength(),Ye=[0,1];Ke.length+Ye.length+1<ot;)Ye.push(255);Ye.push(0);for(var nt=-1;++nt<Ke.length;)Ye.push(Ke[nt]);var Qe=I(Ye,at);return Qe}function te(Ke,Le){var qe=H[Le.curve.join(".")];if(!qe)throw new Error("unknown curve "+Le.curve.join("."));var He=new N(qe),Ge=He.keyFromPrivate(Le.privateKey),at=Ge.sign(Ke);return T.from(at.toDER())}function G(Ke,Le,qe){for(var He=Le.params.priv_key,Ge=Le.params.p,at=Le.params.q,ot=Le.params.g,Ye=new L(0),nt,Qe=$e(Ke,at).mod(at),tt=!1,ze=Re(He,at,Ke,qe);tt===!1;)nt=Me(at,ze,qe),Ye=Be(ot,nt,Ge,at),tt=nt.invm(at).imul(Qe.add(He.mul(Ye))).mod(at),tt.cmpn(0)===0&&(tt=!1,Ye=new L(0));return ie(Ye,tt)}function ie(Ke,Le){Ke=Ke.toArray(),Le=Le.toArray(),Ke[0]&128&&(Ke=[0].concat(Ke)),Le[0]&128&&(Le=[0].concat(Le));var qe=Ke.length+Le.length+4,He=[48,qe,2,Ke.length];return He=He.concat(Ke,[2,Le.length],Le),T.from(He)}function Re(Ke,Le,qe,He){if(Ke=T.from(Ke.toArray()),Ke.length<Le.byteLength()){var Ge=T.alloc(Le.byteLength()-Ke.length);Ke=T.concat([Ge,Ke])}var at=qe.length,ot=Pe(qe,Le),Ye=T.alloc(at);Ye.fill(1);var nt=T.alloc(at);return nt=$(He,nt).update(Ye).update(T.from([0])).update(Ke).update(ot).digest(),Ye=$(He,nt).update(Ye).digest(),nt=$(He,nt).update(Ye).update(T.from([1])).update(Ke).update(ot).digest(),Ye=$(He,nt).update(Ye).digest(),{k:nt,v:Ye}}function $e(Ke,Le){var qe=new L(Ke),He=(Ke.length<<3)-Le.bitLength();return He>0&&qe.ishrn(He),qe}function Pe(Ke,Le){Ke=$e(Ke,Le),Ke=Ke.mod(Le);var qe=T.from(Ke.toArray());if(qe.length<Le.byteLength()){var He=T.alloc(Le.byteLength()-qe.length);qe=T.concat([He,qe])}return qe}function Me(Ke,Le,qe){var He,Ge;do{for(He=T.alloc(0);He.length*8<Ke.bitLength();)Le.v=$(qe,Le.k).update(Le.v).digest(),He=T.concat([He,Le.v]);Ge=$e(He,Ke),Le.k=$(qe,Le.k).update(Le.v).update(T.from([0])).digest(),Le.v=$(qe,Le.k).update(Le.v).digest()}while(Ge.cmp(Ke)!==-1);return Ge}function Be(Ke,Le,qe,He){return Ke.toRed(L.mont(qe)).redPow(Le).fromRed().mod(He)}return sign.exports=Q,sign.exports.getKey=Re,sign.exports.makeKey=Me,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var T=safeBuffer$1.Buffer,$=requireBn(),I=requireElliptic().ec,N=requireParseAsn1(),L=require$$4;function B(te,G,ie,Re,$e){var Pe=N(ie);if(Pe.type==="ec"){if(Re!=="ecdsa"&&Re!=="ecdsa/rsa")throw new Error("wrong public key type");return H(te,G,Pe)}else if(Pe.type==="dsa"){if(Re!=="dsa")throw new Error("wrong public key type");return z(te,G,Pe)}if(Re!=="rsa"&&Re!=="ecdsa/rsa")throw new Error("wrong public key type");G=T.concat([$e,G]);for(var Me=Pe.modulus.byteLength(),Be=[1],Ke=0;G.length+Be.length+2<Me;)Be.push(255),Ke+=1;Be.push(0);for(var Le=-1;++Le<G.length;)Be.push(G[Le]);Be=T.from(Be);var qe=$.mont(Pe.modulus);te=new $(te).toRed(qe),te=te.redPow(new $(Pe.publicExponent)),te=T.from(te.fromRed().toArray());var He=Ke<8?1:0;for(Me=Math.min(te.length,Be.length),te.length!==Be.length&&(He=1),Le=-1;++Le<Me;)He|=te[Le]^Be[Le];return He===0}function H(te,G,ie){var Re=L[ie.data.algorithm.curve.join(".")];if(!Re)throw new Error("unknown curve "+ie.data.algorithm.curve.join("."));var $e=new I(Re),Pe=ie.data.subjectPrivateKey.data;return $e.verify(G,te,Pe)}function z(te,G,ie){var Re=ie.data.p,$e=ie.data.q,Pe=ie.data.g,Me=ie.data.pub_key,Be=N.signature.decode(te,"der"),Ke=Be.s,Le=Be.r;Q(Ke,$e),Q(Le,$e);var qe=$.mont(Re),He=Ke.invm($e),Ge=Pe.toRed(qe).redPow(new $(G).mul(He).mod($e)).fromRed().mul(Me.toRed(qe).redPow(Le.mul(He).mod($e)).fromRed()).mod(Re).mod($e);return Ge.cmp(Le)===0}function Q(te,G){if(te.cmpn(0)<=0)throw new Error("invalid sig");if(te.cmp(G)>=0)throw new Error("invalid sig")}return verify_1=B,verify_1}var browser$4,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$4;hasRequiredBrowser$3=1;var T=safeBuffer$1.Buffer,$=browser$c,I=requireReadableBrowser(),N=inherits_browser$1,L=requireSign(),B=requireVerify(),H=require$$6;Object.keys(H).forEach(function(ie){H[ie].id=T.from(H[ie].id,"hex"),H[ie.toLowerCase()]=H[ie]});function z(ie){I.Writable.call(this);var Re=H[ie];if(!Re)throw new Error("Unknown message digest");this._hashType=Re.hash,this._hash=$(Re.hash),this._tag=Re.id,this._signType=Re.sign}N(z,I.Writable),z.prototype._write=function(Re,$e,Pe){this._hash.update(Re),Pe()},z.prototype.update=function(Re,$e){return this._hash.update(typeof Re=="string"?T.from(Re,$e):Re),this},z.prototype.sign=function(Re,$e){this.end();var Pe=this._hash.digest(),Me=L(Pe,Re,this._hashType,this._signType,this._tag);return $e?Me.toString($e):Me};function Q(ie){I.Writable.call(this);var Re=H[ie];if(!Re)throw new Error("Unknown message digest");this._hash=$(Re.hash),this._tag=Re.id,this._signType=Re.sign}N(Q,I.Writable),Q.prototype._write=function(Re,$e,Pe){this._hash.update(Re),Pe()},Q.prototype.update=function(Re,$e){return this._hash.update(typeof Re=="string"?T.from(Re,$e):Re),this},Q.prototype.verify=function(Re,$e,Pe){var Me=typeof $e=="string"?T.from($e,Pe):$e;this.end();var Be=this._hash.digest();return B(Me,Be,Re,this._signType,this._tag)};function te(ie){return new z(ie)}function G(ie){return new Q(ie)}return browser$4={Sign:te,Verify:G,createSign:te,createVerify:G},browser$4}var browser$3,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$3;hasRequiredBrowser$2=1;var T=requireElliptic(),$=bn$3;browser$3=function(H){return new N(H)};var I={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};I.p224=I.secp224r1,I.p256=I.secp256r1=I.prime256v1,I.p192=I.secp192r1=I.prime192v1,I.p384=I.secp384r1,I.p521=I.secp521r1;function N(B){this.curveType=I[B],this.curveType||(this.curveType={name:B}),this.curve=new T.ec(this.curveType.name),this.keys=void 0}N.prototype.generateKeys=function(B,H){return this.keys=this.curve.genKeyPair(),this.getPublicKey(B,H)},N.prototype.computeSecret=function(B,H,z){H=H||"utf8",Buffer$p.isBuffer(B)||(B=new Buffer$p(B,H));var Q=this.curve.keyFromPublic(B).getPublic(),te=Q.mul(this.keys.getPrivate()).getX();return L(te,z,this.curveType.byteLength)},N.prototype.getPublicKey=function(B,H){var z=this.keys.getPublic(H==="compressed",!0);return H==="hybrid"&&(z[z.length-1]%2?z[0]=7:z[0]=6),L(z,B)},N.prototype.getPrivateKey=function(B){return L(this.keys.getPrivate(),B)},N.prototype.setPublicKey=function(B,H){return H=H||"utf8",Buffer$p.isBuffer(B)||(B=new Buffer$p(B,H)),this.keys._importPublic(B),this},N.prototype.setPrivateKey=function(B,H){H=H||"utf8",Buffer$p.isBuffer(B)||(B=new Buffer$p(B,H));var z=new $(B);return z=z.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(z),this};function L(B,H,z){Array.isArray(B)||(B=B.toArray());var Q=new Buffer$p(B);if(z&&Q.length<z){var te=new Buffer$p(z-Q.length);te.fill(0),Q=Buffer$p.concat([te,Q])}return H?Q.toString(H):Q}return browser$3}var browser$2={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var T=browser$c,$=safeBuffer$1.Buffer;mgf=function(N,L){for(var B=$.alloc(0),H=0,z;B.length<L;)z=I(H++),B=$.concat([B,T("sha1").update(N).update(z).digest()]);return B.slice(0,L)};function I(N){var L=$.allocUnsafe(4);return L.writeUInt32BE(N,0),L}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function($,I){for(var N=$.length,L=-1;++L<N;)$[L]^=I[L];return $}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var T=bn$3,$=safeBuffer$1.Buffer;function I(N,L){return $.from(N.toRed(T.mont(L.modulus)).redPow(new T(L.publicExponent)).fromRed().toArray())}return withPublic_1=I,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var T=requireParseAsn1(),$=requireBrowser$9(),I=browser$c,N=requireMgf(),L=requireXor(),B=bn$3,H=requireWithPublic(),z=requireBrowserifyRsa(),Q=safeBuffer$1.Buffer;publicEncrypt=function($e,Pe,Me){var Be;$e.padding?Be=$e.padding:Me?Be=1:Be=4;var Ke=T($e),Le;if(Be===4)Le=te(Ke,Pe);else if(Be===1)Le=G(Ke,Pe,Me);else if(Be===3){if(Le=new B(Pe),Le.cmp(Ke.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Me?z(Le,Ke):H(Le,Ke)};function te(Re,$e){var Pe=Re.modulus.byteLength(),Me=$e.length,Be=I("sha1").update(Q.alloc(0)).digest(),Ke=Be.length,Le=2*Ke;if(Me>Pe-Le-2)throw new Error("message too long");var qe=Q.alloc(Pe-Me-Le-2),He=Pe-Ke-1,Ge=$(Ke),at=L(Q.concat([Be,qe,Q.alloc(1,1),$e],He),N(Ge,He)),ot=L(Ge,N(at,Ke));return new B(Q.concat([Q.alloc(1),ot,at],Pe))}function G(Re,$e,Pe){var Me=$e.length,Be=Re.modulus.byteLength();if(Me>Be-11)throw new Error("message too long");var Ke;return Pe?Ke=Q.alloc(Be-Me-3,255):Ke=ie(Be-Me-3),new B(Q.concat([Q.from([0,Pe?1:2]),Ke,Q.alloc(1),$e],Be))}function ie(Re){for(var $e=Q.allocUnsafe(Re),Pe=0,Me=$(Re*2),Be=0,Ke;Pe<Re;)Be===Me.length&&(Me=$(Re*2),Be=0),Ke=Me[Be++],Ke&&($e[Pe++]=Ke);return $e}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var T=requireParseAsn1(),$=requireMgf(),I=requireXor(),N=bn$3,L=requireBrowserifyRsa(),B=browser$c,H=requireWithPublic(),z=safeBuffer$1.Buffer;privateDecrypt=function(Re,$e,Pe){var Me;Re.padding?Me=Re.padding:Pe?Me=1:Me=4;var Be=T(Re),Ke=Be.modulus.byteLength();if($e.length>Ke||new N($e).cmp(Be.modulus)>=0)throw new Error("decryption error");var Le;Pe?Le=H(new N($e),Be):Le=L($e,Be);var qe=z.alloc(Ke-Le.length);if(Le=z.concat([qe,Le],Ke),Me===4)return Q(Be,Le);if(Me===1)return te(Be,Le,Pe);if(Me===3)return Le;throw new Error("unknown padding")};function Q(ie,Re){var $e=ie.modulus.byteLength(),Pe=B("sha1").update(z.alloc(0)).digest(),Me=Pe.length;if(Re[0]!==0)throw new Error("decryption error");var Be=Re.slice(1,Me+1),Ke=Re.slice(Me+1),Le=I(Be,$(Ke,Me)),qe=I(Ke,$(Le,$e-Me-1));if(G(Pe,qe.slice(0,Me)))throw new Error("decryption error");for(var He=Me;qe[He]===0;)He++;if(qe[He++]!==1)throw new Error("decryption error");return qe.slice(He)}function te(ie,Re,$e){for(var Pe=Re.slice(0,2),Me=2,Be=0;Re[Me++]!==0;)if(Me>=Re.length){Be++;break}var Ke=Re.slice(2,Me-1);if((Pe.toString("hex")!=="0002"&&!$e||Pe.toString("hex")!=="0001"&&$e)&&Be++,Ke.length<8&&Be++,Be)throw new Error("decryption error");return Re.slice(Me)}function G(ie,Re){ie=z.from(ie),Re=z.from(Re);var $e=0,Pe=ie.length;ie.length!==Re.length&&($e++,Pe=Math.min(ie.length,Re.length));for(var Me=-1;++Me<Pe;)$e+=ie[Me]^Re[Me];return $e}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(T){T.publicEncrypt=requirePublicEncrypt(),T.privateDecrypt=requirePrivateDecrypt(),T.privateEncrypt=function(I,N){return T.publicEncrypt(I,N,!0)},T.publicDecrypt=function(I,N){return T.privateDecrypt(I,N,!0)}}(browser$2)),browser$2}var browser$1={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1;hasRequiredBrowser=1;function T(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var $=safeBuffer$1,I=requireBrowser$9(),N=$.Buffer,L=$.kMaxLength,B=commonjsGlobal$2.crypto||commonjsGlobal$2.msCrypto,H=Math.pow(2,32)-1;function z(Re,$e){if(typeof Re!="number"||Re!==Re)throw new TypeError("offset must be a number");if(Re>H||Re<0)throw new TypeError("offset must be a uint32");if(Re>L||Re>$e)throw new RangeError("offset out of range")}function Q(Re,$e,Pe){if(typeof Re!="number"||Re!==Re)throw new TypeError("size must be a number");if(Re>H||Re<0)throw new TypeError("size must be a uint32");if(Re+$e>Pe||Re>L)throw new RangeError("buffer too small")}B&&B.getRandomValues||!process$1$1.browser?(browser$1.randomFill=te,browser$1.randomFillSync=ie):(browser$1.randomFill=T,browser$1.randomFillSync=T);function te(Re,$e,Pe,Me){if(!N.isBuffer(Re)&&!(Re instanceof commonjsGlobal$2.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof $e=="function")Me=$e,$e=0,Pe=Re.length;else if(typeof Pe=="function")Me=Pe,Pe=Re.length-$e;else if(typeof Me!="function")throw new TypeError('"cb" argument must be a function');return z($e,Re.length),Q(Pe,$e,Re.length),G(Re,$e,Pe,Me)}function G(Re,$e,Pe,Me){if(process$1$1.browser){var Be=Re.buffer,Ke=new Uint8Array(Be,$e,Pe);if(B.getRandomValues(Ke),Me){process$1$1.nextTick(function(){Me(null,Re)});return}return Re}if(Me){I(Pe,function(qe,He){if(qe)return Me(qe);He.copy(Re,$e),Me(null,Re)});return}var Le=I(Pe);return Le.copy(Re,$e),Re}function ie(Re,$e,Pe){if(typeof $e>"u"&&($e=0),!N.isBuffer(Re)&&!(Re instanceof commonjsGlobal$2.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return z($e,Re.length),Pe===void 0&&(Pe=Re.length-$e),Q(Pe,$e,Re.length),G(Re,$e,Pe)}return browser$1}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$9(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$c,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var T=requireAlgos(),$=Object.keys(T),I=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat($);cryptoBrowserify.getHashes=function(){return I};var N=requireBrowser$7();cryptoBrowserify.pbkdf2=N.pbkdf2,cryptoBrowserify.pbkdf2Sync=N.pbkdf2Sync;var L=requireBrowser$5();cryptoBrowserify.Cipher=L.Cipher,cryptoBrowserify.createCipher=L.createCipher,cryptoBrowserify.Cipheriv=L.Cipheriv,cryptoBrowserify.createCipheriv=L.createCipheriv,cryptoBrowserify.Decipher=L.Decipher,cryptoBrowserify.createDecipher=L.createDecipher,cryptoBrowserify.Decipheriv=L.Decipheriv,cryptoBrowserify.createDecipheriv=L.createDecipheriv,cryptoBrowserify.getCiphers=L.getCiphers,cryptoBrowserify.listCiphers=L.listCiphers;var B=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=B.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=B.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=B.getDiffieHellman,cryptoBrowserify.createDiffieHellman=B.createDiffieHellman,cryptoBrowserify.DiffieHellman=B.DiffieHellman;var H=requireBrowser$3();cryptoBrowserify.createSign=H.createSign,cryptoBrowserify.Sign=H.Sign,cryptoBrowserify.createVerify=H.createVerify,cryptoBrowserify.Verify=H.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var z=requireBrowser$1();cryptoBrowserify.publicEncrypt=z.publicEncrypt,cryptoBrowserify.privateEncrypt=z.privateEncrypt,cryptoBrowserify.publicDecrypt=z.publicDecrypt,cryptoBrowserify.privateDecrypt=z.privateDecrypt;var Q=requireBrowser();return cryptoBrowserify.randomFill=Q.randomFill,cryptoBrowserify.randomFillSync=Q.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(T,$){(function(I,N){T.exports=N()})(commonjsGlobal$2,function(){var I=I||function(N,L){var B;if(typeof window<"u"&&window.crypto&&(B=window.crypto),typeof self<"u"&&self.crypto&&(B=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(B=globalThis.crypto),!B&&typeof window<"u"&&window.msCrypto&&(B=window.msCrypto),!B&&typeof commonjsGlobal$2<"u"&&commonjsGlobal$2.crypto&&(B=commonjsGlobal$2.crypto),!B&&typeof commonjsRequire=="function")try{B=requireCryptoBrowserify()}catch{}var H=function(){if(B){if(typeof B.getRandomValues=="function")try{return B.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof B.randomBytes=="function")try{return B.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},z=Object.create||function(){function Le(){}return function(qe){var He;return Le.prototype=qe,He=new Le,Le.prototype=null,He}}(),Q={},te=Q.lib={},G=te.Base=function(){return{extend:function(Le){var qe=z(this);return Le&&qe.mixIn(Le),(!qe.hasOwnProperty("init")||this.init===qe.init)&&(qe.init=function(){qe.$super.init.apply(this,arguments)}),qe.init.prototype=qe,qe.$super=this,qe},create:function(){var Le=this.extend();return Le.init.apply(Le,arguments),Le},init:function(){},mixIn:function(Le){for(var qe in Le)Le.hasOwnProperty(qe)&&(this[qe]=Le[qe]);Le.hasOwnProperty("toString")&&(this.toString=Le.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ie=te.WordArray=G.extend({init:function(Le,qe){Le=this.words=Le||[],qe!=L?this.sigBytes=qe:this.sigBytes=Le.length*4},toString:function(Le){return(Le||$e).stringify(this)},concat:function(Le){var qe=this.words,He=Le.words,Ge=this.sigBytes,at=Le.sigBytes;if(this.clamp(),Ge%4)for(var ot=0;ot<at;ot++){var Ye=He[ot>>>2]>>>24-ot%4*8&255;qe[Ge+ot>>>2]|=Ye<<24-(Ge+ot)%4*8}else for(var nt=0;nt<at;nt+=4)qe[Ge+nt>>>2]=He[nt>>>2];return this.sigBytes+=at,this},clamp:function(){var Le=this.words,qe=this.sigBytes;Le[qe>>>2]&=4294967295<<32-qe%4*8,Le.length=N.ceil(qe/4)},clone:function(){var Le=G.clone.call(this);return Le.words=this.words.slice(0),Le},random:function(Le){for(var qe=[],He=0;He<Le;He+=4)qe.push(H());return new ie.init(qe,Le)}}),Re=Q.enc={},$e=Re.Hex={stringify:function(Le){for(var qe=Le.words,He=Le.sigBytes,Ge=[],at=0;at<He;at++){var ot=qe[at>>>2]>>>24-at%4*8&255;Ge.push((ot>>>4).toString(16)),Ge.push((ot&15).toString(16))}return Ge.join("")},parse:function(Le){for(var qe=Le.length,He=[],Ge=0;Ge<qe;Ge+=2)He[Ge>>>3]|=parseInt(Le.substr(Ge,2),16)<<24-Ge%8*4;return new ie.init(He,qe/2)}},Pe=Re.Latin1={stringify:function(Le){for(var qe=Le.words,He=Le.sigBytes,Ge=[],at=0;at<He;at++){var ot=qe[at>>>2]>>>24-at%4*8&255;Ge.push(String.fromCharCode(ot))}return Ge.join("")},parse:function(Le){for(var qe=Le.length,He=[],Ge=0;Ge<qe;Ge++)He[Ge>>>2]|=(Le.charCodeAt(Ge)&255)<<24-Ge%4*8;return new ie.init(He,qe)}},Me=Re.Utf8={stringify:function(Le){try{return decodeURIComponent(escape(Pe.stringify(Le)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Le){return Pe.parse(unescape(encodeURIComponent(Le)))}},Be=te.BufferedBlockAlgorithm=G.extend({reset:function(){this._data=new ie.init,this._nDataBytes=0},_append:function(Le){typeof Le=="string"&&(Le=Me.parse(Le)),this._data.concat(Le),this._nDataBytes+=Le.sigBytes},_process:function(Le){var qe,He=this._data,Ge=He.words,at=He.sigBytes,ot=this.blockSize,Ye=ot*4,nt=at/Ye;Le?nt=N.ceil(nt):nt=N.max((nt|0)-this._minBufferSize,0);var Qe=nt*ot,tt=N.min(Qe*4,at);if(Qe){for(var ze=0;ze<Qe;ze+=ot)this._doProcessBlock(Ge,ze);qe=Ge.splice(0,Qe),He.sigBytes-=tt}return new ie.init(qe,tt)},clone:function(){var Le=G.clone.call(this);return Le._data=this._data.clone(),Le},_minBufferSize:0});te.Hasher=Be.extend({cfg:G.extend(),init:function(Le){this.cfg=this.cfg.extend(Le),this.reset()},reset:function(){Be.reset.call(this),this._doReset()},update:function(Le){return this._append(Le),this._process(),this},finalize:function(Le){Le&&this._append(Le);var qe=this._doFinalize();return qe},blockSize:16,_createHelper:function(Le){return function(qe,He){return new Le.init(He).finalize(qe)}},_createHmacHelper:function(Le){return function(qe,He){return new Ke.HMAC.init(Le,He).finalize(qe)}}});var Ke=Q.algo={};return Q}(Math);return I})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(N){var L=I,B=L.lib,H=B.Base,z=B.WordArray,Q=L.x64={};Q.Word=H.extend({init:function(te,G){this.high=te,this.low=G}}),Q.WordArray=H.extend({init:function(te,G){te=this.words=te||[],G!=N?this.sigBytes=G:this.sigBytes=te.length*8},toX32:function(){for(var te=this.words,G=te.length,ie=[],Re=0;Re<G;Re++){var $e=te[Re];ie.push($e.high),ie.push($e.low)}return z.create(ie,this.sigBytes)},clone:function(){for(var te=H.clone.call(this),G=te.words=this.words.slice(0),ie=G.length,Re=0;Re<ie;Re++)G[Re]=G[Re].clone();return te}})}(),I})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(){if(typeof ArrayBuffer=="function"){var N=I,L=N.lib,B=L.WordArray,H=B.init,z=B.init=function(Q){if(Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),(Q instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)&&(Q=new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)),Q instanceof Uint8Array){for(var te=Q.byteLength,G=[],ie=0;ie<te;ie++)G[ie>>>2]|=Q[ie]<<24-ie%4*8;H.call(this,G,te)}else H.apply(this,arguments)};z.prototype=B}}(),I.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.WordArray,H=N.enc;H.Utf16=H.Utf16BE={stringify:function(Q){for(var te=Q.words,G=Q.sigBytes,ie=[],Re=0;Re<G;Re+=2){var $e=te[Re>>>2]>>>16-Re%4*8&65535;ie.push(String.fromCharCode($e))}return ie.join("")},parse:function(Q){for(var te=Q.length,G=[],ie=0;ie<te;ie++)G[ie>>>1]|=Q.charCodeAt(ie)<<16-ie%2*16;return B.create(G,te*2)}},H.Utf16LE={stringify:function(Q){for(var te=Q.words,G=Q.sigBytes,ie=[],Re=0;Re<G;Re+=2){var $e=z(te[Re>>>2]>>>16-Re%4*8&65535);ie.push(String.fromCharCode($e))}return ie.join("")},parse:function(Q){for(var te=Q.length,G=[],ie=0;ie<te;ie++)G[ie>>>1]|=z(Q.charCodeAt(ie)<<16-ie%2*16);return B.create(G,te*2)}};function z(Q){return Q<<8&4278255360|Q>>>8&16711935}}(),I.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.WordArray,H=N.enc;H.Base64={stringify:function(Q){var te=Q.words,G=Q.sigBytes,ie=this._map;Q.clamp();for(var Re=[],$e=0;$e<G;$e+=3)for(var Pe=te[$e>>>2]>>>24-$e%4*8&255,Me=te[$e+1>>>2]>>>24-($e+1)%4*8&255,Be=te[$e+2>>>2]>>>24-($e+2)%4*8&255,Ke=Pe<<16|Me<<8|Be,Le=0;Le<4&&$e+Le*.75<G;Le++)Re.push(ie.charAt(Ke>>>6*(3-Le)&63));var qe=ie.charAt(64);if(qe)for(;Re.length%4;)Re.push(qe);return Re.join("")},parse:function(Q){var te=Q.length,G=this._map,ie=this._reverseMap;if(!ie){ie=this._reverseMap=[];for(var Re=0;Re<G.length;Re++)ie[G.charCodeAt(Re)]=Re}var $e=G.charAt(64);if($e){var Pe=Q.indexOf($e);Pe!==-1&&(te=Pe)}return z(Q,te,ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function z(Q,te,G){for(var ie=[],Re=0,$e=0;$e<te;$e++)if($e%4){var Pe=G[Q.charCodeAt($e-1)]<<$e%4*2,Me=G[Q.charCodeAt($e)]>>>6-$e%4*2,Be=Pe|Me;ie[Re>>>2]|=Be<<24-Re%4*8,Re++}return B.create(ie,Re)}}(),I.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.WordArray,H=N.enc;H.Base64url={stringify:function(Q,te){te===void 0&&(te=!0);var G=Q.words,ie=Q.sigBytes,Re=te?this._safe_map:this._map;Q.clamp();for(var $e=[],Pe=0;Pe<ie;Pe+=3)for(var Me=G[Pe>>>2]>>>24-Pe%4*8&255,Be=G[Pe+1>>>2]>>>24-(Pe+1)%4*8&255,Ke=G[Pe+2>>>2]>>>24-(Pe+2)%4*8&255,Le=Me<<16|Be<<8|Ke,qe=0;qe<4&&Pe+qe*.75<ie;qe++)$e.push(Re.charAt(Le>>>6*(3-qe)&63));var He=Re.charAt(64);if(He)for(;$e.length%4;)$e.push(He);return $e.join("")},parse:function(Q,te){te===void 0&&(te=!0);var G=Q.length,ie=te?this._safe_map:this._map,Re=this._reverseMap;if(!Re){Re=this._reverseMap=[];for(var $e=0;$e<ie.length;$e++)Re[ie.charCodeAt($e)]=$e}var Pe=ie.charAt(64);if(Pe){var Me=Q.indexOf(Pe);Me!==-1&&(G=Me)}return z(Q,G,Re)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function z(Q,te,G){for(var ie=[],Re=0,$e=0;$e<te;$e++)if($e%4){var Pe=G[Q.charCodeAt($e-1)]<<$e%4*2,Me=G[Q.charCodeAt($e)]>>>6-$e%4*2,Be=Pe|Me;ie[Re>>>2]|=Be<<24-Re%4*8,Re++}return B.create(ie,Re)}}(),I.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(N){var L=I,B=L.lib,H=B.WordArray,z=B.Hasher,Q=L.algo,te=[];(function(){for(var Me=0;Me<64;Me++)te[Me]=N.abs(N.sin(Me+1))*4294967296|0})();var G=Q.MD5=z.extend({_doReset:function(){this._hash=new H.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Me,Be){for(var Ke=0;Ke<16;Ke++){var Le=Be+Ke,qe=Me[Le];Me[Le]=(qe<<8|qe>>>24)&16711935|(qe<<24|qe>>>8)&4278255360}var He=this._hash.words,Ge=Me[Be+0],at=Me[Be+1],ot=Me[Be+2],Ye=Me[Be+3],nt=Me[Be+4],Qe=Me[Be+5],tt=Me[Be+6],ze=Me[Be+7],Fe=Me[Be+8],ke=Me[Be+9],Ue=Me[Be+10],Je=Me[Be+11],rt=Me[Be+12],Xe=Me[Be+13],it=Me[Be+14],We=Me[Be+15],Ve=He[0],je=He[1],Ze=He[2],st=He[3];Ve=ie(Ve,je,Ze,st,Ge,7,te[0]),st=ie(st,Ve,je,Ze,at,12,te[1]),Ze=ie(Ze,st,Ve,je,ot,17,te[2]),je=ie(je,Ze,st,Ve,Ye,22,te[3]),Ve=ie(Ve,je,Ze,st,nt,7,te[4]),st=ie(st,Ve,je,Ze,Qe,12,te[5]),Ze=ie(Ze,st,Ve,je,tt,17,te[6]),je=ie(je,Ze,st,Ve,ze,22,te[7]),Ve=ie(Ve,je,Ze,st,Fe,7,te[8]),st=ie(st,Ve,je,Ze,ke,12,te[9]),Ze=ie(Ze,st,Ve,je,Ue,17,te[10]),je=ie(je,Ze,st,Ve,Je,22,te[11]),Ve=ie(Ve,je,Ze,st,rt,7,te[12]),st=ie(st,Ve,je,Ze,Xe,12,te[13]),Ze=ie(Ze,st,Ve,je,it,17,te[14]),je=ie(je,Ze,st,Ve,We,22,te[15]),Ve=Re(Ve,je,Ze,st,at,5,te[16]),st=Re(st,Ve,je,Ze,tt,9,te[17]),Ze=Re(Ze,st,Ve,je,Je,14,te[18]),je=Re(je,Ze,st,Ve,Ge,20,te[19]),Ve=Re(Ve,je,Ze,st,Qe,5,te[20]),st=Re(st,Ve,je,Ze,Ue,9,te[21]),Ze=Re(Ze,st,Ve,je,We,14,te[22]),je=Re(je,Ze,st,Ve,nt,20,te[23]),Ve=Re(Ve,je,Ze,st,ke,5,te[24]),st=Re(st,Ve,je,Ze,it,9,te[25]),Ze=Re(Ze,st,Ve,je,Ye,14,te[26]),je=Re(je,Ze,st,Ve,Fe,20,te[27]),Ve=Re(Ve,je,Ze,st,Xe,5,te[28]),st=Re(st,Ve,je,Ze,ot,9,te[29]),Ze=Re(Ze,st,Ve,je,ze,14,te[30]),je=Re(je,Ze,st,Ve,rt,20,te[31]),Ve=$e(Ve,je,Ze,st,Qe,4,te[32]),st=$e(st,Ve,je,Ze,Fe,11,te[33]),Ze=$e(Ze,st,Ve,je,Je,16,te[34]),je=$e(je,Ze,st,Ve,it,23,te[35]),Ve=$e(Ve,je,Ze,st,at,4,te[36]),st=$e(st,Ve,je,Ze,nt,11,te[37]),Ze=$e(Ze,st,Ve,je,ze,16,te[38]),je=$e(je,Ze,st,Ve,Ue,23,te[39]),Ve=$e(Ve,je,Ze,st,Xe,4,te[40]),st=$e(st,Ve,je,Ze,Ge,11,te[41]),Ze=$e(Ze,st,Ve,je,Ye,16,te[42]),je=$e(je,Ze,st,Ve,tt,23,te[43]),Ve=$e(Ve,je,Ze,st,ke,4,te[44]),st=$e(st,Ve,je,Ze,rt,11,te[45]),Ze=$e(Ze,st,Ve,je,We,16,te[46]),je=$e(je,Ze,st,Ve,ot,23,te[47]),Ve=Pe(Ve,je,Ze,st,Ge,6,te[48]),st=Pe(st,Ve,je,Ze,ze,10,te[49]),Ze=Pe(Ze,st,Ve,je,it,15,te[50]),je=Pe(je,Ze,st,Ve,Qe,21,te[51]),Ve=Pe(Ve,je,Ze,st,rt,6,te[52]),st=Pe(st,Ve,je,Ze,Ye,10,te[53]),Ze=Pe(Ze,st,Ve,je,Ue,15,te[54]),je=Pe(je,Ze,st,Ve,at,21,te[55]),Ve=Pe(Ve,je,Ze,st,Fe,6,te[56]),st=Pe(st,Ve,je,Ze,We,10,te[57]),Ze=Pe(Ze,st,Ve,je,tt,15,te[58]),je=Pe(je,Ze,st,Ve,Xe,21,te[59]),Ve=Pe(Ve,je,Ze,st,nt,6,te[60]),st=Pe(st,Ve,je,Ze,Je,10,te[61]),Ze=Pe(Ze,st,Ve,je,ot,15,te[62]),je=Pe(je,Ze,st,Ve,ke,21,te[63]),He[0]=He[0]+Ve|0,He[1]=He[1]+je|0,He[2]=He[2]+Ze|0,He[3]=He[3]+st|0},_doFinalize:function(){var Me=this._data,Be=Me.words,Ke=this._nDataBytes*8,Le=Me.sigBytes*8;Be[Le>>>5]|=128<<24-Le%32;var qe=N.floor(Ke/4294967296),He=Ke;Be[(Le+64>>>9<<4)+15]=(qe<<8|qe>>>24)&16711935|(qe<<24|qe>>>8)&4278255360,Be[(Le+64>>>9<<4)+14]=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Me.sigBytes=(Be.length+1)*4,this._process();for(var Ge=this._hash,at=Ge.words,ot=0;ot<4;ot++){var Ye=at[ot];at[ot]=(Ye<<8|Ye>>>24)&16711935|(Ye<<24|Ye>>>8)&4278255360}return Ge},clone:function(){var Me=z.clone.call(this);return Me._hash=this._hash.clone(),Me}});function ie(Me,Be,Ke,Le,qe,He,Ge){var at=Me+(Be&Ke|~Be&Le)+qe+Ge;return(at<<He|at>>>32-He)+Be}function Re(Me,Be,Ke,Le,qe,He,Ge){var at=Me+(Be&Le|Ke&~Le)+qe+Ge;return(at<<He|at>>>32-He)+Be}function $e(Me,Be,Ke,Le,qe,He,Ge){var at=Me+(Be^Ke^Le)+qe+Ge;return(at<<He|at>>>32-He)+Be}function Pe(Me,Be,Ke,Le,qe,He,Ge){var at=Me+(Ke^(Be|~Le))+qe+Ge;return(at<<He|at>>>32-He)+Be}L.MD5=z._createHelper(G),L.HmacMD5=z._createHmacHelper(G)}(Math),I.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.WordArray,H=L.Hasher,z=N.algo,Q=[],te=z.SHA1=H.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(G,ie){for(var Re=this._hash.words,$e=Re[0],Pe=Re[1],Me=Re[2],Be=Re[3],Ke=Re[4],Le=0;Le<80;Le++){if(Le<16)Q[Le]=G[ie+Le]|0;else{var qe=Q[Le-3]^Q[Le-8]^Q[Le-14]^Q[Le-16];Q[Le]=qe<<1|qe>>>31}var He=($e<<5|$e>>>27)+Ke+Q[Le];Le<20?He+=(Pe&Me|~Pe&Be)+1518500249:Le<40?He+=(Pe^Me^Be)+1859775393:Le<60?He+=(Pe&Me|Pe&Be|Me&Be)-1894007588:He+=(Pe^Me^Be)-899497514,Ke=Be,Be=Me,Me=Pe<<30|Pe>>>2,Pe=$e,$e=He}Re[0]=Re[0]+$e|0,Re[1]=Re[1]+Pe|0,Re[2]=Re[2]+Me|0,Re[3]=Re[3]+Be|0,Re[4]=Re[4]+Ke|0},_doFinalize:function(){var G=this._data,ie=G.words,Re=this._nDataBytes*8,$e=G.sigBytes*8;return ie[$e>>>5]|=128<<24-$e%32,ie[($e+64>>>9<<4)+14]=Math.floor(Re/4294967296),ie[($e+64>>>9<<4)+15]=Re,G.sigBytes=ie.length*4,this._process(),this._hash},clone:function(){var G=H.clone.call(this);return G._hash=this._hash.clone(),G}});N.SHA1=H._createHelper(te),N.HmacSHA1=H._createHmacHelper(te)}(),I.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){return function(N){var L=I,B=L.lib,H=B.WordArray,z=B.Hasher,Q=L.algo,te=[],G=[];(function(){function $e(Ke){for(var Le=N.sqrt(Ke),qe=2;qe<=Le;qe++)if(!(Ke%qe))return!1;return!0}function Pe(Ke){return(Ke-(Ke|0))*4294967296|0}for(var Me=2,Be=0;Be<64;)$e(Me)&&(Be<8&&(te[Be]=Pe(N.pow(Me,1/2))),G[Be]=Pe(N.pow(Me,1/3)),Be++),Me++})();var ie=[],Re=Q.SHA256=z.extend({_doReset:function(){this._hash=new H.init(te.slice(0))},_doProcessBlock:function($e,Pe){for(var Me=this._hash.words,Be=Me[0],Ke=Me[1],Le=Me[2],qe=Me[3],He=Me[4],Ge=Me[5],at=Me[6],ot=Me[7],Ye=0;Ye<64;Ye++){if(Ye<16)ie[Ye]=$e[Pe+Ye]|0;else{var nt=ie[Ye-15],Qe=(nt<<25|nt>>>7)^(nt<<14|nt>>>18)^nt>>>3,tt=ie[Ye-2],ze=(tt<<15|tt>>>17)^(tt<<13|tt>>>19)^tt>>>10;ie[Ye]=Qe+ie[Ye-7]+ze+ie[Ye-16]}var Fe=He&Ge^~He&at,ke=Be&Ke^Be&Le^Ke&Le,Ue=(Be<<30|Be>>>2)^(Be<<19|Be>>>13)^(Be<<10|Be>>>22),Je=(He<<26|He>>>6)^(He<<21|He>>>11)^(He<<7|He>>>25),rt=ot+Je+Fe+G[Ye]+ie[Ye],Xe=Ue+ke;ot=at,at=Ge,Ge=He,He=qe+rt|0,qe=Le,Le=Ke,Ke=Be,Be=rt+Xe|0}Me[0]=Me[0]+Be|0,Me[1]=Me[1]+Ke|0,Me[2]=Me[2]+Le|0,Me[3]=Me[3]+qe|0,Me[4]=Me[4]+He|0,Me[5]=Me[5]+Ge|0,Me[6]=Me[6]+at|0,Me[7]=Me[7]+ot|0},_doFinalize:function(){var $e=this._data,Pe=$e.words,Me=this._nDataBytes*8,Be=$e.sigBytes*8;return Pe[Be>>>5]|=128<<24-Be%32,Pe[(Be+64>>>9<<4)+14]=N.floor(Me/4294967296),Pe[(Be+64>>>9<<4)+15]=Me,$e.sigBytes=Pe.length*4,this._process(),this._hash},clone:function(){var $e=z.clone.call(this);return $e._hash=this._hash.clone(),$e}});L.SHA256=z._createHelper(Re),L.HmacSHA256=z._createHmacHelper(Re)}(Math),I.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireSha256())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.WordArray,H=N.algo,z=H.SHA256,Q=H.SHA224=z.extend({_doReset:function(){this._hash=new B.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var te=z._doFinalize.call(this);return te.sigBytes-=4,te}});N.SHA224=z._createHelper(Q),N.HmacSHA224=z._createHmacHelper(Q)}(),I.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireX64Core())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.Hasher,H=N.x64,z=H.Word,Q=H.WordArray,te=N.algo;function G(){return z.create.apply(z,arguments)}var ie=[G(1116352408,3609767458),G(1899447441,602891725),G(3049323471,3964484399),G(3921009573,2173295548),G(961987163,4081628472),G(1508970993,3053834265),G(2453635748,2937671579),G(2870763221,3664609560),G(3624381080,2734883394),G(310598401,1164996542),G(607225278,1323610764),G(1426881987,3590304994),G(1925078388,4068182383),G(2162078206,991336113),G(2614888103,633803317),G(3248222580,3479774868),G(3835390401,2666613458),G(4022224774,944711139),G(264347078,2341262773),G(604807628,2007800933),G(770255983,1495990901),G(1249150122,1856431235),G(1555081692,3175218132),G(1996064986,2198950837),G(2554220882,3999719339),G(2821834349,766784016),G(2952996808,2566594879),G(3210313671,3203337956),G(3336571891,1034457026),G(3584528711,2466948901),G(113926993,3758326383),G(338241895,168717936),G(666307205,1188179964),G(773529912,1546045734),G(1294757372,1522805485),G(1396182291,2643833823),G(1695183700,2343527390),G(1986661051,1014477480),G(2177026350,1206759142),G(2456956037,344077627),G(2730485921,1290863460),G(2820302411,3158454273),G(3259730800,3505952657),G(3345764771,106217008),G(3516065817,3606008344),G(3600352804,1432725776),G(4094571909,1467031594),G(275423344,851169720),G(430227734,3100823752),G(506948616,1363258195),G(659060556,3750685593),G(883997877,3785050280),G(958139571,3318307427),G(1322822218,3812723403),G(1537002063,2003034995),G(1747873779,3602036899),G(1955562222,1575990012),G(2024104815,1125592928),G(2227730452,2716904306),G(2361852424,442776044),G(2428436474,593698344),G(2756734187,3733110249),G(3204031479,2999351573),G(3329325298,3815920427),G(3391569614,3928383900),G(3515267271,566280711),G(3940187606,3454069534),G(4118630271,4000239992),G(116418474,1914138554),G(174292421,2731055270),G(289380356,3203993006),G(460393269,320620315),G(685471733,587496836),G(852142971,1086792851),G(1017036298,365543100),G(1126000580,2618297676),G(1288033470,3409855158),G(1501505948,4234509866),G(1607167915,987167468),G(1816402316,1246189591)],Re=[];(function(){for(var Pe=0;Pe<80;Pe++)Re[Pe]=G()})();var $e=te.SHA512=B.extend({_doReset:function(){this._hash=new Q.init([new z.init(1779033703,4089235720),new z.init(3144134277,2227873595),new z.init(1013904242,4271175723),new z.init(2773480762,1595750129),new z.init(1359893119,2917565137),new z.init(2600822924,725511199),new z.init(528734635,4215389547),new z.init(1541459225,327033209)])},_doProcessBlock:function(Pe,Me){for(var Be=this._hash.words,Ke=Be[0],Le=Be[1],qe=Be[2],He=Be[3],Ge=Be[4],at=Be[5],ot=Be[6],Ye=Be[7],nt=Ke.high,Qe=Ke.low,tt=Le.high,ze=Le.low,Fe=qe.high,ke=qe.low,Ue=He.high,Je=He.low,rt=Ge.high,Xe=Ge.low,it=at.high,We=at.low,Ve=ot.high,je=ot.low,Ze=Ye.high,st=Ye.low,dt=nt,bt=Qe,vt=tt,St=ze,Bt=Fe,Gt=ke,Dt=Ue,Mt=Je,pt=rt,mt=Xe,$t=it,kt=We,Ft=Ve,nr=je,Yt=Ze,yr=st,gr=0;gr<80;gr++){var br,cr,pr=Re[gr];if(gr<16)cr=pr.high=Pe[Me+gr*2]|0,br=pr.low=Pe[Me+gr*2+1]|0;else{var lt=Re[gr-15],ct=lt.high,Nt=lt.low,jt=(ct>>>1|Nt<<31)^(ct>>>8|Nt<<24)^ct>>>7,zt=(Nt>>>1|ct<<31)^(Nt>>>8|ct<<24)^(Nt>>>7|ct<<25),Ot=Re[gr-2],Rt=Ot.high,It=Ot.low,Kt=(Rt>>>19|It<<13)^(Rt<<3|It>>>29)^Rt>>>6,tr=(It>>>19|Rt<<13)^(It<<3|Rt>>>29)^(It>>>6|Rt<<26),dr=Re[gr-7],_r=dr.high,Nr=dr.low,qr=Re[gr-16],Br=qr.high,Qr=qr.low;br=zt+Nr,cr=jt+_r+(br>>>0<zt>>>0?1:0),br=br+tr,cr=cr+Kt+(br>>>0<tr>>>0?1:0),br=br+Qr,cr=cr+Br+(br>>>0<Qr>>>0?1:0),pr.high=cr,pr.low=br}var Wr=pt&$t^~pt&Ft,Kr=mt&kt^~mt&nr,Yr=dt&vt^dt&Bt^vt&Bt,Pt=bt&St^bt&Gt^St&Gt,Wt=(dt>>>28|bt<<4)^(dt<<30|bt>>>2)^(dt<<25|bt>>>7),qt=(bt>>>28|dt<<4)^(bt<<30|dt>>>2)^(bt<<25|dt>>>7),Tt=(pt>>>14|mt<<18)^(pt>>>18|mt<<14)^(pt<<23|mt>>>9),gt=(mt>>>14|pt<<18)^(mt>>>18|pt<<14)^(mt<<23|pt>>>9),Et=ie[gr],wt=Et.high,Lt=Et.low,Zt=yr+gt,lr=Yt+Tt+(Zt>>>0<yr>>>0?1:0),Zt=Zt+Kr,lr=lr+Wr+(Zt>>>0<Kr>>>0?1:0),Zt=Zt+Lt,lr=lr+wt+(Zt>>>0<Lt>>>0?1:0),Zt=Zt+br,lr=lr+cr+(Zt>>>0<br>>>0?1:0),Ht=qt+Pt,Xt=Wt+Yr+(Ht>>>0<qt>>>0?1:0);Yt=Ft,yr=nr,Ft=$t,nr=kt,$t=pt,kt=mt,mt=Mt+Zt|0,pt=Dt+lr+(mt>>>0<Mt>>>0?1:0)|0,Dt=Bt,Mt=Gt,Bt=vt,Gt=St,vt=dt,St=bt,bt=Zt+Ht|0,dt=lr+Xt+(bt>>>0<Zt>>>0?1:0)|0}Qe=Ke.low=Qe+bt,Ke.high=nt+dt+(Qe>>>0<bt>>>0?1:0),ze=Le.low=ze+St,Le.high=tt+vt+(ze>>>0<St>>>0?1:0),ke=qe.low=ke+Gt,qe.high=Fe+Bt+(ke>>>0<Gt>>>0?1:0),Je=He.low=Je+Mt,He.high=Ue+Dt+(Je>>>0<Mt>>>0?1:0),Xe=Ge.low=Xe+mt,Ge.high=rt+pt+(Xe>>>0<mt>>>0?1:0),We=at.low=We+kt,at.high=it+$t+(We>>>0<kt>>>0?1:0),je=ot.low=je+nr,ot.high=Ve+Ft+(je>>>0<nr>>>0?1:0),st=Ye.low=st+yr,Ye.high=Ze+Yt+(st>>>0<yr>>>0?1:0)},_doFinalize:function(){var Pe=this._data,Me=Pe.words,Be=this._nDataBytes*8,Ke=Pe.sigBytes*8;Me[Ke>>>5]|=128<<24-Ke%32,Me[(Ke+128>>>10<<5)+30]=Math.floor(Be/4294967296),Me[(Ke+128>>>10<<5)+31]=Be,Pe.sigBytes=Me.length*4,this._process();var Le=this._hash.toX32();return Le},clone:function(){var Pe=B.clone.call(this);return Pe._hash=this._hash.clone(),Pe},blockSize:1024/32});N.SHA512=B._createHelper($e),N.HmacSHA512=B._createHmacHelper($e)}(),I.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.x64,B=L.Word,H=L.WordArray,z=N.algo,Q=z.SHA512,te=z.SHA384=Q.extend({_doReset:function(){this._hash=new H.init([new B.init(3418070365,3238371032),new B.init(1654270250,914150663),new B.init(2438529370,812702999),new B.init(355462360,4144912697),new B.init(1731405415,4290775857),new B.init(2394180231,1750603025),new B.init(3675008525,1694076839),new B.init(1203062813,3204075428)])},_doFinalize:function(){var G=Q._doFinalize.call(this);return G.sigBytes-=16,G}});N.SHA384=Q._createHelper(te),N.HmacSHA384=Q._createHmacHelper(te)}(),I.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireX64Core())})(commonjsGlobal$2,function(I){return function(N){var L=I,B=L.lib,H=B.WordArray,z=B.Hasher,Q=L.x64,te=Q.Word,G=L.algo,ie=[],Re=[],$e=[];(function(){for(var Be=1,Ke=0,Le=0;Le<24;Le++){ie[Be+5*Ke]=(Le+1)*(Le+2)/2%64;var qe=Ke%5,He=(2*Be+3*Ke)%5;Be=qe,Ke=He}for(var Be=0;Be<5;Be++)for(var Ke=0;Ke<5;Ke++)Re[Be+5*Ke]=Ke+(2*Be+3*Ke)%5*5;for(var Ge=1,at=0;at<24;at++){for(var ot=0,Ye=0,nt=0;nt<7;nt++){if(Ge&1){var Qe=(1<<nt)-1;Qe<32?Ye^=1<<Qe:ot^=1<<Qe-32}Ge&128?Ge=Ge<<1^113:Ge<<=1}$e[at]=te.create(ot,Ye)}})();var Pe=[];(function(){for(var Be=0;Be<25;Be++)Pe[Be]=te.create()})();var Me=G.SHA3=z.extend({cfg:z.cfg.extend({outputLength:512}),_doReset:function(){for(var Be=this._state=[],Ke=0;Ke<25;Ke++)Be[Ke]=new te.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Be,Ke){for(var Le=this._state,qe=this.blockSize/2,He=0;He<qe;He++){var Ge=Be[Ke+2*He],at=Be[Ke+2*He+1];Ge=(Ge<<8|Ge>>>24)&16711935|(Ge<<24|Ge>>>8)&4278255360,at=(at<<8|at>>>24)&16711935|(at<<24|at>>>8)&4278255360;var ot=Le[He];ot.high^=at,ot.low^=Ge}for(var Ye=0;Ye<24;Ye++){for(var nt=0;nt<5;nt++){for(var Qe=0,tt=0,ze=0;ze<5;ze++){var ot=Le[nt+5*ze];Qe^=ot.high,tt^=ot.low}var Fe=Pe[nt];Fe.high=Qe,Fe.low=tt}for(var nt=0;nt<5;nt++)for(var ke=Pe[(nt+4)%5],Ue=Pe[(nt+1)%5],Je=Ue.high,rt=Ue.low,Qe=ke.high^(Je<<1|rt>>>31),tt=ke.low^(rt<<1|Je>>>31),ze=0;ze<5;ze++){var ot=Le[nt+5*ze];ot.high^=Qe,ot.low^=tt}for(var Xe=1;Xe<25;Xe++){var Qe,tt,ot=Le[Xe],it=ot.high,We=ot.low,Ve=ie[Xe];Ve<32?(Qe=it<<Ve|We>>>32-Ve,tt=We<<Ve|it>>>32-Ve):(Qe=We<<Ve-32|it>>>64-Ve,tt=it<<Ve-32|We>>>64-Ve);var je=Pe[Re[Xe]];je.high=Qe,je.low=tt}var Ze=Pe[0],st=Le[0];Ze.high=st.high,Ze.low=st.low;for(var nt=0;nt<5;nt++)for(var ze=0;ze<5;ze++){var Xe=nt+5*ze,ot=Le[Xe],dt=Pe[Xe],bt=Pe[(nt+1)%5+5*ze],vt=Pe[(nt+2)%5+5*ze];ot.high=dt.high^~bt.high&vt.high,ot.low=dt.low^~bt.low&vt.low}var ot=Le[0],St=$e[Ye];ot.high^=St.high,ot.low^=St.low}},_doFinalize:function(){var Be=this._data,Ke=Be.words;this._nDataBytes*8;var Le=Be.sigBytes*8,qe=this.blockSize*32;Ke[Le>>>5]|=1<<24-Le%32,Ke[(N.ceil((Le+1)/qe)*qe>>>5)-1]|=128,Be.sigBytes=Ke.length*4,this._process();for(var He=this._state,Ge=this.cfg.outputLength/8,at=Ge/8,ot=[],Ye=0;Ye<at;Ye++){var nt=He[Ye],Qe=nt.high,tt=nt.low;Qe=(Qe<<8|Qe>>>24)&16711935|(Qe<<24|Qe>>>8)&4278255360,tt=(tt<<8|tt>>>24)&16711935|(tt<<24|tt>>>8)&4278255360,ot.push(tt),ot.push(Qe)}return new H.init(ot,Ge)},clone:function(){for(var Be=z.clone.call(this),Ke=Be._state=this._state.slice(0),Le=0;Le<25;Le++)Ke[Le]=Ke[Le].clone();return Be}});L.SHA3=z._createHelper(Me),L.HmacSHA3=z._createHmacHelper(Me)}(Math),I.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(N){var L=I,B=L.lib,H=B.WordArray,z=B.Hasher,Q=L.algo,te=H.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),G=H.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ie=H.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Re=H.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),$e=H.create([0,1518500249,1859775393,2400959708,2840853838]),Pe=H.create([1352829926,1548603684,1836072691,2053994217,0]),Me=Q.RIPEMD160=z.extend({_doReset:function(){this._hash=H.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(at,ot){for(var Ye=0;Ye<16;Ye++){var nt=ot+Ye,Qe=at[nt];at[nt]=(Qe<<8|Qe>>>24)&16711935|(Qe<<24|Qe>>>8)&4278255360}var tt=this._hash.words,ze=$e.words,Fe=Pe.words,ke=te.words,Ue=G.words,Je=ie.words,rt=Re.words,Xe,it,We,Ve,je,Ze,st,dt,bt,vt;Ze=Xe=tt[0],st=it=tt[1],dt=We=tt[2],bt=Ve=tt[3],vt=je=tt[4];for(var St,Ye=0;Ye<80;Ye+=1)St=Xe+at[ot+ke[Ye]]|0,Ye<16?St+=Be(it,We,Ve)+ze[0]:Ye<32?St+=Ke(it,We,Ve)+ze[1]:Ye<48?St+=Le(it,We,Ve)+ze[2]:Ye<64?St+=qe(it,We,Ve)+ze[3]:St+=He(it,We,Ve)+ze[4],St=St|0,St=Ge(St,Je[Ye]),St=St+je|0,Xe=je,je=Ve,Ve=Ge(We,10),We=it,it=St,St=Ze+at[ot+Ue[Ye]]|0,Ye<16?St+=He(st,dt,bt)+Fe[0]:Ye<32?St+=qe(st,dt,bt)+Fe[1]:Ye<48?St+=Le(st,dt,bt)+Fe[2]:Ye<64?St+=Ke(st,dt,bt)+Fe[3]:St+=Be(st,dt,bt)+Fe[4],St=St|0,St=Ge(St,rt[Ye]),St=St+vt|0,Ze=vt,vt=bt,bt=Ge(dt,10),dt=st,st=St;St=tt[1]+We+bt|0,tt[1]=tt[2]+Ve+vt|0,tt[2]=tt[3]+je+Ze|0,tt[3]=tt[4]+Xe+st|0,tt[4]=tt[0]+it+dt|0,tt[0]=St},_doFinalize:function(){var at=this._data,ot=at.words,Ye=this._nDataBytes*8,nt=at.sigBytes*8;ot[nt>>>5]|=128<<24-nt%32,ot[(nt+64>>>9<<4)+14]=(Ye<<8|Ye>>>24)&16711935|(Ye<<24|Ye>>>8)&4278255360,at.sigBytes=(ot.length+1)*4,this._process();for(var Qe=this._hash,tt=Qe.words,ze=0;ze<5;ze++){var Fe=tt[ze];tt[ze]=(Fe<<8|Fe>>>24)&16711935|(Fe<<24|Fe>>>8)&4278255360}return Qe},clone:function(){var at=z.clone.call(this);return at._hash=this._hash.clone(),at}});function Be(at,ot,Ye){return at^ot^Ye}function Ke(at,ot,Ye){return at&ot|~at&Ye}function Le(at,ot,Ye){return(at|~ot)^Ye}function qe(at,ot,Ye){return at&Ye|ot&~Ye}function He(at,ot,Ye){return at^(ot|~Ye)}function Ge(at,ot){return at<<ot|at>>>32-ot}L.RIPEMD160=z._createHelper(Me),L.HmacRIPEMD160=z._createHmacHelper(Me)}(),I.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(T,$){(function(I,N){T.exports=N(requireCore())})(commonjsGlobal$2,function(I){(function(){var N=I,L=N.lib,B=L.Base,H=N.enc,z=H.Utf8,Q=N.algo;Q.HMAC=B.extend({init:function(te,G){te=this._hasher=new te.init,typeof G=="string"&&(G=z.parse(G));var ie=te.blockSize,Re=ie*4;G.sigBytes>Re&&(G=te.finalize(G)),G.clamp();for(var $e=this._oKey=G.clone(),Pe=this._iKey=G.clone(),Me=$e.words,Be=Pe.words,Ke=0;Ke<ie;Ke++)Me[Ke]^=1549556828,Be[Ke]^=909522486;$e.sigBytes=Pe.sigBytes=Re,this.reset()},reset:function(){var te=this._hasher;te.reset(),te.update(this._iKey)},update:function(te){return this._hasher.update(te),this},finalize:function(te){var G=this._hasher,ie=G.finalize(te);G.reset();var Re=G.finalize(this._oKey.clone().concat(ie));return Re}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.Base,H=L.WordArray,z=N.algo,Q=z.SHA256,te=z.HMAC,G=z.PBKDF2=B.extend({cfg:B.extend({keySize:128/32,hasher:Q,iterations:25e4}),init:function(ie){this.cfg=this.cfg.extend(ie)},compute:function(ie,Re){for(var $e=this.cfg,Pe=te.create($e.hasher,ie),Me=H.create(),Be=H.create([1]),Ke=Me.words,Le=Be.words,qe=$e.keySize,He=$e.iterations;Ke.length<qe;){var Ge=Pe.update(Re).finalize(Be);Pe.reset();for(var at=Ge.words,ot=at.length,Ye=Ge,nt=1;nt<He;nt++){Ye=Pe.finalize(Ye),Pe.reset();for(var Qe=Ye.words,tt=0;tt<ot;tt++)at[tt]^=Qe[tt]}Me.concat(Ge),Le[0]++}return Me.sigBytes=qe*4,Me}});N.PBKDF2=function(ie,Re,$e){return G.create($e).compute(ie,Re)}}(),I.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.Base,H=L.WordArray,z=N.algo,Q=z.MD5,te=z.EvpKDF=B.extend({cfg:B.extend({keySize:128/32,hasher:Q,iterations:1}),init:function(G){this.cfg=this.cfg.extend(G)},compute:function(G,ie){for(var Re,$e=this.cfg,Pe=$e.hasher.create(),Me=H.create(),Be=Me.words,Ke=$e.keySize,Le=$e.iterations;Be.length<Ke;){Re&&Pe.update(Re),Re=Pe.update(G).finalize(ie),Pe.reset();for(var qe=1;qe<Le;qe++)Re=Pe.finalize(Re),Pe.reset();Me.concat(Re)}return Me.sigBytes=Ke*4,Me}});N.EvpKDF=function(G,ie,Re){return te.create(Re).compute(G,ie)}}(),I.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEvpkdf())})(commonjsGlobal$2,function(I){I.lib.Cipher||function(N){var L=I,B=L.lib,H=B.Base,z=B.WordArray,Q=B.BufferedBlockAlgorithm,te=L.enc;te.Utf8;var G=te.Base64,ie=L.algo,Re=ie.EvpKDF,$e=B.Cipher=Q.extend({cfg:H.extend(),createEncryptor:function(Qe,tt){return this.create(this._ENC_XFORM_MODE,Qe,tt)},createDecryptor:function(Qe,tt){return this.create(this._DEC_XFORM_MODE,Qe,tt)},init:function(Qe,tt,ze){this.cfg=this.cfg.extend(ze),this._xformMode=Qe,this._key=tt,this.reset()},reset:function(){Q.reset.call(this),this._doReset()},process:function(Qe){return this._append(Qe),this._process()},finalize:function(Qe){Qe&&this._append(Qe);var tt=this._doFinalize();return tt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Qe(tt){return typeof tt=="string"?nt:at}return function(tt){return{encrypt:function(ze,Fe,ke){return Qe(Fe).encrypt(tt,ze,Fe,ke)},decrypt:function(ze,Fe,ke){return Qe(Fe).decrypt(tt,ze,Fe,ke)}}}}()});B.StreamCipher=$e.extend({_doFinalize:function(){var Qe=this._process(!0);return Qe},blockSize:1});var Pe=L.mode={},Me=B.BlockCipherMode=H.extend({createEncryptor:function(Qe,tt){return this.Encryptor.create(Qe,tt)},createDecryptor:function(Qe,tt){return this.Decryptor.create(Qe,tt)},init:function(Qe,tt){this._cipher=Qe,this._iv=tt}}),Be=Pe.CBC=function(){var Qe=Me.extend();Qe.Encryptor=Qe.extend({processBlock:function(ze,Fe){var ke=this._cipher,Ue=ke.blockSize;tt.call(this,ze,Fe,Ue),ke.encryptBlock(ze,Fe),this._prevBlock=ze.slice(Fe,Fe+Ue)}}),Qe.Decryptor=Qe.extend({processBlock:function(ze,Fe){var ke=this._cipher,Ue=ke.blockSize,Je=ze.slice(Fe,Fe+Ue);ke.decryptBlock(ze,Fe),tt.call(this,ze,Fe,Ue),this._prevBlock=Je}});function tt(ze,Fe,ke){var Ue,Je=this._iv;Je?(Ue=Je,this._iv=N):Ue=this._prevBlock;for(var rt=0;rt<ke;rt++)ze[Fe+rt]^=Ue[rt]}return Qe}(),Ke=L.pad={},Le=Ke.Pkcs7={pad:function(Qe,tt){for(var ze=tt*4,Fe=ze-Qe.sigBytes%ze,ke=Fe<<24|Fe<<16|Fe<<8|Fe,Ue=[],Je=0;Je<Fe;Je+=4)Ue.push(ke);var rt=z.create(Ue,Fe);Qe.concat(rt)},unpad:function(Qe){var tt=Qe.words[Qe.sigBytes-1>>>2]&255;Qe.sigBytes-=tt}};B.BlockCipher=$e.extend({cfg:$e.cfg.extend({mode:Be,padding:Le}),reset:function(){var Qe;$e.reset.call(this);var tt=this.cfg,ze=tt.iv,Fe=tt.mode;this._xformMode==this._ENC_XFORM_MODE?Qe=Fe.createEncryptor:(Qe=Fe.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Qe?this._mode.init(this,ze&&ze.words):(this._mode=Qe.call(Fe,this,ze&&ze.words),this._mode.__creator=Qe)},_doProcessBlock:function(Qe,tt){this._mode.processBlock(Qe,tt)},_doFinalize:function(){var Qe,tt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(tt.pad(this._data,this.blockSize),Qe=this._process(!0)):(Qe=this._process(!0),tt.unpad(Qe)),Qe},blockSize:128/32});var qe=B.CipherParams=H.extend({init:function(Qe){this.mixIn(Qe)},toString:function(Qe){return(Qe||this.formatter).stringify(this)}}),He=L.format={},Ge=He.OpenSSL={stringify:function(Qe){var tt,ze=Qe.ciphertext,Fe=Qe.salt;return Fe?tt=z.create([1398893684,1701076831]).concat(Fe).concat(ze):tt=ze,tt.toString(G)},parse:function(Qe){var tt,ze=G.parse(Qe),Fe=ze.words;return Fe[0]==1398893684&&Fe[1]==1701076831&&(tt=z.create(Fe.slice(2,4)),Fe.splice(0,4),ze.sigBytes-=16),qe.create({ciphertext:ze,salt:tt})}},at=B.SerializableCipher=H.extend({cfg:H.extend({format:Ge}),encrypt:function(Qe,tt,ze,Fe){Fe=this.cfg.extend(Fe);var ke=Qe.createEncryptor(ze,Fe),Ue=ke.finalize(tt),Je=ke.cfg;return qe.create({ciphertext:Ue,key:ze,iv:Je.iv,algorithm:Qe,mode:Je.mode,padding:Je.padding,blockSize:Qe.blockSize,formatter:Fe.format})},decrypt:function(Qe,tt,ze,Fe){Fe=this.cfg.extend(Fe),tt=this._parse(tt,Fe.format);var ke=Qe.createDecryptor(ze,Fe).finalize(tt.ciphertext);return ke},_parse:function(Qe,tt){return typeof Qe=="string"?tt.parse(Qe,this):Qe}}),ot=L.kdf={},Ye=ot.OpenSSL={execute:function(Qe,tt,ze,Fe,ke){if(Fe||(Fe=z.random(64/8)),ke)var Ue=Re.create({keySize:tt+ze,hasher:ke}).compute(Qe,Fe);else var Ue=Re.create({keySize:tt+ze}).compute(Qe,Fe);var Je=z.create(Ue.words.slice(tt),ze*4);return Ue.sigBytes=tt*4,qe.create({key:Ue,iv:Je,salt:Fe})}},nt=B.PasswordBasedCipher=at.extend({cfg:at.cfg.extend({kdf:Ye}),encrypt:function(Qe,tt,ze,Fe){Fe=this.cfg.extend(Fe);var ke=Fe.kdf.execute(ze,Qe.keySize,Qe.ivSize,Fe.salt,Fe.hasher);Fe.iv=ke.iv;var Ue=at.encrypt.call(this,Qe,tt,ke.key,Fe);return Ue.mixIn(ke),Ue},decrypt:function(Qe,tt,ze,Fe){Fe=this.cfg.extend(Fe),tt=this._parse(tt,Fe.format);var ke=Fe.kdf.execute(ze,Qe.keySize,Qe.ivSize,tt.salt,Fe.hasher);Fe.iv=ke.iv;var Ue=at.decrypt.call(this,Qe,tt,ke.key,Fe);return Ue}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.mode.CFB=function(){var N=I.lib.BlockCipherMode.extend();N.Encryptor=N.extend({processBlock:function(B,H){var z=this._cipher,Q=z.blockSize;L.call(this,B,H,Q,z),this._prevBlock=B.slice(H,H+Q)}}),N.Decryptor=N.extend({processBlock:function(B,H){var z=this._cipher,Q=z.blockSize,te=B.slice(H,H+Q);L.call(this,B,H,Q,z),this._prevBlock=te}});function L(B,H,z,Q){var te,G=this._iv;G?(te=G.slice(0),this._iv=void 0):te=this._prevBlock,Q.encryptBlock(te,0);for(var ie=0;ie<z;ie++)B[H+ie]^=te[ie]}return N}(),I.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.mode.CTR=function(){var N=I.lib.BlockCipherMode.extend(),L=N.Encryptor=N.extend({processBlock:function(B,H){var z=this._cipher,Q=z.blockSize,te=this._iv,G=this._counter;te&&(G=this._counter=te.slice(0),this._iv=void 0);var ie=G.slice(0);z.encryptBlock(ie,0),G[Q-1]=G[Q-1]+1|0;for(var Re=0;Re<Q;Re++)B[H+Re]^=ie[Re]}});return N.Decryptor=L,N}(),I.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return I.mode.CTRGladman=function(){var N=I.lib.BlockCipherMode.extend();function L(z){if((z>>24&255)===255){var Q=z>>16&255,te=z>>8&255,G=z&255;Q===255?(Q=0,te===255?(te=0,G===255?G=0:++G):++te):++Q,z=0,z+=Q<<16,z+=te<<8,z+=G}else z+=1<<24;return z}function B(z){return(z[0]=L(z[0]))===0&&(z[1]=L(z[1])),z}var H=N.Encryptor=N.extend({processBlock:function(z,Q){var te=this._cipher,G=te.blockSize,ie=this._iv,Re=this._counter;ie&&(Re=this._counter=ie.slice(0),this._iv=void 0),B(Re);var $e=Re.slice(0);te.encryptBlock($e,0);for(var Pe=0;Pe<G;Pe++)z[Q+Pe]^=$e[Pe]}});return N.Decryptor=H,N}(),I.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.mode.OFB=function(){var N=I.lib.BlockCipherMode.extend(),L=N.Encryptor=N.extend({processBlock:function(B,H){var z=this._cipher,Q=z.blockSize,te=this._iv,G=this._keystream;te&&(G=this._keystream=te.slice(0),this._iv=void 0),z.encryptBlock(G,0);for(var ie=0;ie<Q;ie++)B[H+ie]^=G[ie]}});return N.Decryptor=L,N}(),I.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.mode.ECB=function(){var N=I.lib.BlockCipherMode.extend();return N.Encryptor=N.extend({processBlock:function(L,B){this._cipher.encryptBlock(L,B)}}),N.Decryptor=N.extend({processBlock:function(L,B){this._cipher.decryptBlock(L,B)}}),N}(),I.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.pad.AnsiX923={pad:function(N,L){var B=N.sigBytes,H=L*4,z=H-B%H,Q=B+z-1;N.clamp(),N.words[Q>>>2]|=z<<24-Q%4*8,N.sigBytes+=z},unpad:function(N){var L=N.words[N.sigBytes-1>>>2]&255;N.sigBytes-=L}},I.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.pad.Iso10126={pad:function(N,L){var B=L*4,H=B-N.sigBytes%B;N.concat(I.lib.WordArray.random(H-1)).concat(I.lib.WordArray.create([H<<24],1))},unpad:function(N){var L=N.words[N.sigBytes-1>>>2]&255;N.sigBytes-=L}},I.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.pad.Iso97971={pad:function(N,L){N.concat(I.lib.WordArray.create([2147483648],1)),I.pad.ZeroPadding.pad(N,L)},unpad:function(N){I.pad.ZeroPadding.unpad(N),N.sigBytes--}},I.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.pad.ZeroPadding={pad:function(N,L){var B=L*4;N.clamp(),N.sigBytes+=B-(N.sigBytes%B||B)},unpad:function(N){for(var L=N.words,B=N.sigBytes-1,B=N.sigBytes-1;B>=0;B--)if(L[B>>>2]>>>24-B%4*8&255){N.sigBytes=B+1;break}}},I.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return I.pad.NoPadding={pad:function(){},unpad:function(){}},I.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(N){var L=I,B=L.lib,H=B.CipherParams,z=L.enc,Q=z.Hex,te=L.format;te.Hex={stringify:function(G){return G.ciphertext.toString(Q)},parse:function(G){var ie=Q.parse(G);return H.create({ciphertext:ie})}}}(),I.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.BlockCipher,H=N.algo,z=[],Q=[],te=[],G=[],ie=[],Re=[],$e=[],Pe=[],Me=[],Be=[];(function(){for(var qe=[],He=0;He<256;He++)He<128?qe[He]=He<<1:qe[He]=He<<1^283;for(var Ge=0,at=0,He=0;He<256;He++){var ot=at^at<<1^at<<2^at<<3^at<<4;ot=ot>>>8^ot&255^99,z[Ge]=ot,Q[ot]=Ge;var Ye=qe[Ge],nt=qe[Ye],Qe=qe[nt],tt=qe[ot]*257^ot*16843008;te[Ge]=tt<<24|tt>>>8,G[Ge]=tt<<16|tt>>>16,ie[Ge]=tt<<8|tt>>>24,Re[Ge]=tt;var tt=Qe*16843009^nt*65537^Ye*257^Ge*16843008;$e[ot]=tt<<24|tt>>>8,Pe[ot]=tt<<16|tt>>>16,Me[ot]=tt<<8|tt>>>24,Be[ot]=tt,Ge?(Ge=Ye^qe[qe[qe[Qe^Ye]]],at^=qe[qe[at]]):Ge=at=1}})();var Ke=[0,1,2,4,8,16,32,64,128,27,54],Le=H.AES=B.extend({_doReset:function(){var qe;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var He=this._keyPriorReset=this._key,Ge=He.words,at=He.sigBytes/4,ot=this._nRounds=at+6,Ye=(ot+1)*4,nt=this._keySchedule=[],Qe=0;Qe<Ye;Qe++)Qe<at?nt[Qe]=Ge[Qe]:(qe=nt[Qe-1],Qe%at?at>6&&Qe%at==4&&(qe=z[qe>>>24]<<24|z[qe>>>16&255]<<16|z[qe>>>8&255]<<8|z[qe&255]):(qe=qe<<8|qe>>>24,qe=z[qe>>>24]<<24|z[qe>>>16&255]<<16|z[qe>>>8&255]<<8|z[qe&255],qe^=Ke[Qe/at|0]<<24),nt[Qe]=nt[Qe-at]^qe);for(var tt=this._invKeySchedule=[],ze=0;ze<Ye;ze++){var Qe=Ye-ze;if(ze%4)var qe=nt[Qe];else var qe=nt[Qe-4];ze<4||Qe<=4?tt[ze]=qe:tt[ze]=$e[z[qe>>>24]]^Pe[z[qe>>>16&255]]^Me[z[qe>>>8&255]]^Be[z[qe&255]]}}},encryptBlock:function(qe,He){this._doCryptBlock(qe,He,this._keySchedule,te,G,ie,Re,z)},decryptBlock:function(qe,He){var Ge=qe[He+1];qe[He+1]=qe[He+3],qe[He+3]=Ge,this._doCryptBlock(qe,He,this._invKeySchedule,$e,Pe,Me,Be,Q);var Ge=qe[He+1];qe[He+1]=qe[He+3],qe[He+3]=Ge},_doCryptBlock:function(qe,He,Ge,at,ot,Ye,nt,Qe){for(var tt=this._nRounds,ze=qe[He]^Ge[0],Fe=qe[He+1]^Ge[1],ke=qe[He+2]^Ge[2],Ue=qe[He+3]^Ge[3],Je=4,rt=1;rt<tt;rt++){var Xe=at[ze>>>24]^ot[Fe>>>16&255]^Ye[ke>>>8&255]^nt[Ue&255]^Ge[Je++],it=at[Fe>>>24]^ot[ke>>>16&255]^Ye[Ue>>>8&255]^nt[ze&255]^Ge[Je++],We=at[ke>>>24]^ot[Ue>>>16&255]^Ye[ze>>>8&255]^nt[Fe&255]^Ge[Je++],Ve=at[Ue>>>24]^ot[ze>>>16&255]^Ye[Fe>>>8&255]^nt[ke&255]^Ge[Je++];ze=Xe,Fe=it,ke=We,Ue=Ve}var Xe=(Qe[ze>>>24]<<24|Qe[Fe>>>16&255]<<16|Qe[ke>>>8&255]<<8|Qe[Ue&255])^Ge[Je++],it=(Qe[Fe>>>24]<<24|Qe[ke>>>16&255]<<16|Qe[Ue>>>8&255]<<8|Qe[ze&255])^Ge[Je++],We=(Qe[ke>>>24]<<24|Qe[Ue>>>16&255]<<16|Qe[ze>>>8&255]<<8|Qe[Fe&255])^Ge[Je++],Ve=(Qe[Ue>>>24]<<24|Qe[ze>>>16&255]<<16|Qe[Fe>>>8&255]<<8|Qe[ke&255])^Ge[Je++];qe[He]=Xe,qe[He+1]=it,qe[He+2]=We,qe[He+3]=Ve},keySize:256/32});N.AES=B._createHelper(Le)}(),I.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.WordArray,H=L.BlockCipher,z=N.algo,Q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],te=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],G=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],ie=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Re=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],$e=z.DES=H.extend({_doReset:function(){for(var Ke=this._key,Le=Ke.words,qe=[],He=0;He<56;He++){var Ge=Q[He]-1;qe[He]=Le[Ge>>>5]>>>31-Ge%32&1}for(var at=this._subKeys=[],ot=0;ot<16;ot++){for(var Ye=at[ot]=[],nt=G[ot],He=0;He<24;He++)Ye[He/6|0]|=qe[(te[He]-1+nt)%28]<<31-He%6,Ye[4+(He/6|0)]|=qe[28+(te[He+24]-1+nt)%28]<<31-He%6;Ye[0]=Ye[0]<<1|Ye[0]>>>31;for(var He=1;He<7;He++)Ye[He]=Ye[He]>>>(He-1)*4+3;Ye[7]=Ye[7]<<5|Ye[7]>>>27}for(var Qe=this._invSubKeys=[],He=0;He<16;He++)Qe[He]=at[15-He]},encryptBlock:function(Ke,Le){this._doCryptBlock(Ke,Le,this._subKeys)},decryptBlock:function(Ke,Le){this._doCryptBlock(Ke,Le,this._invSubKeys)},_doCryptBlock:function(Ke,Le,qe){this._lBlock=Ke[Le],this._rBlock=Ke[Le+1],Pe.call(this,4,252645135),Pe.call(this,16,65535),Me.call(this,2,858993459),Me.call(this,8,16711935),Pe.call(this,1,1431655765);for(var He=0;He<16;He++){for(var Ge=qe[He],at=this._lBlock,ot=this._rBlock,Ye=0,nt=0;nt<8;nt++)Ye|=ie[nt][((ot^Ge[nt])&Re[nt])>>>0];this._lBlock=ot,this._rBlock=at^Ye}var Qe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Qe,Pe.call(this,1,1431655765),Me.call(this,8,16711935),Me.call(this,2,858993459),Pe.call(this,16,65535),Pe.call(this,4,252645135),Ke[Le]=this._lBlock,Ke[Le+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Pe(Ke,Le){var qe=(this._lBlock>>>Ke^this._rBlock)&Le;this._rBlock^=qe,this._lBlock^=qe<<Ke}function Me(Ke,Le){var qe=(this._rBlock>>>Ke^this._lBlock)&Le;this._lBlock^=qe,this._rBlock^=qe<<Ke}N.DES=H._createHelper($e);var Be=z.TripleDES=H.extend({_doReset:function(){var Ke=this._key,Le=Ke.words;if(Le.length!==2&&Le.length!==4&&Le.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var qe=Le.slice(0,2),He=Le.length<4?Le.slice(0,2):Le.slice(2,4),Ge=Le.length<6?Le.slice(0,2):Le.slice(4,6);this._des1=$e.createEncryptor(B.create(qe)),this._des2=$e.createEncryptor(B.create(He)),this._des3=$e.createEncryptor(B.create(Ge))},encryptBlock:function(Ke,Le){this._des1.encryptBlock(Ke,Le),this._des2.decryptBlock(Ke,Le),this._des3.encryptBlock(Ke,Le)},decryptBlock:function(Ke,Le){this._des3.decryptBlock(Ke,Le),this._des2.encryptBlock(Ke,Le),this._des1.decryptBlock(Ke,Le)},keySize:192/32,ivSize:64/32,blockSize:64/32});N.TripleDES=H._createHelper(Be)}(),I.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.StreamCipher,H=N.algo,z=H.RC4=B.extend({_doReset:function(){for(var G=this._key,ie=G.words,Re=G.sigBytes,$e=this._S=[],Pe=0;Pe<256;Pe++)$e[Pe]=Pe;for(var Pe=0,Me=0;Pe<256;Pe++){var Be=Pe%Re,Ke=ie[Be>>>2]>>>24-Be%4*8&255;Me=(Me+$e[Pe]+Ke)%256;var Le=$e[Pe];$e[Pe]=$e[Me],$e[Me]=Le}this._i=this._j=0},_doProcessBlock:function(G,ie){G[ie]^=Q.call(this)},keySize:256/32,ivSize:0});function Q(){for(var G=this._S,ie=this._i,Re=this._j,$e=0,Pe=0;Pe<4;Pe++){ie=(ie+1)%256,Re=(Re+G[ie])%256;var Me=G[ie];G[ie]=G[Re],G[Re]=Me,$e|=G[(G[ie]+G[Re])%256]<<24-Pe*8}return this._i=ie,this._j=Re,$e}N.RC4=B._createHelper(z);var te=H.RC4Drop=z.extend({cfg:z.cfg.extend({drop:192}),_doReset:function(){z._doReset.call(this);for(var G=this.cfg.drop;G>0;G--)Q.call(this)}});N.RC4Drop=B._createHelper(te)}(),I.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.StreamCipher,H=N.algo,z=[],Q=[],te=[],G=H.Rabbit=B.extend({_doReset:function(){for(var Re=this._key.words,$e=this.cfg.iv,Pe=0;Pe<4;Pe++)Re[Pe]=(Re[Pe]<<8|Re[Pe]>>>24)&16711935|(Re[Pe]<<24|Re[Pe]>>>8)&4278255360;var Me=this._X=[Re[0],Re[3]<<16|Re[2]>>>16,Re[1],Re[0]<<16|Re[3]>>>16,Re[2],Re[1]<<16|Re[0]>>>16,Re[3],Re[2]<<16|Re[1]>>>16],Be=this._C=[Re[2]<<16|Re[2]>>>16,Re[0]&4294901760|Re[1]&65535,Re[3]<<16|Re[3]>>>16,Re[1]&4294901760|Re[2]&65535,Re[0]<<16|Re[0]>>>16,Re[2]&4294901760|Re[3]&65535,Re[1]<<16|Re[1]>>>16,Re[3]&4294901760|Re[0]&65535];this._b=0;for(var Pe=0;Pe<4;Pe++)ie.call(this);for(var Pe=0;Pe<8;Pe++)Be[Pe]^=Me[Pe+4&7];if($e){var Ke=$e.words,Le=Ke[0],qe=Ke[1],He=(Le<<8|Le>>>24)&16711935|(Le<<24|Le>>>8)&4278255360,Ge=(qe<<8|qe>>>24)&16711935|(qe<<24|qe>>>8)&4278255360,at=He>>>16|Ge&4294901760,ot=Ge<<16|He&65535;Be[0]^=He,Be[1]^=at,Be[2]^=Ge,Be[3]^=ot,Be[4]^=He,Be[5]^=at,Be[6]^=Ge,Be[7]^=ot;for(var Pe=0;Pe<4;Pe++)ie.call(this)}},_doProcessBlock:function(Re,$e){var Pe=this._X;ie.call(this),z[0]=Pe[0]^Pe[5]>>>16^Pe[3]<<16,z[1]=Pe[2]^Pe[7]>>>16^Pe[5]<<16,z[2]=Pe[4]^Pe[1]>>>16^Pe[7]<<16,z[3]=Pe[6]^Pe[3]>>>16^Pe[1]<<16;for(var Me=0;Me<4;Me++)z[Me]=(z[Me]<<8|z[Me]>>>24)&16711935|(z[Me]<<24|z[Me]>>>8)&4278255360,Re[$e+Me]^=z[Me]},blockSize:128/32,ivSize:64/32});function ie(){for(var Re=this._X,$e=this._C,Pe=0;Pe<8;Pe++)Q[Pe]=$e[Pe];$e[0]=$e[0]+1295307597+this._b|0,$e[1]=$e[1]+3545052371+($e[0]>>>0<Q[0]>>>0?1:0)|0,$e[2]=$e[2]+886263092+($e[1]>>>0<Q[1]>>>0?1:0)|0,$e[3]=$e[3]+1295307597+($e[2]>>>0<Q[2]>>>0?1:0)|0,$e[4]=$e[4]+3545052371+($e[3]>>>0<Q[3]>>>0?1:0)|0,$e[5]=$e[5]+886263092+($e[4]>>>0<Q[4]>>>0?1:0)|0,$e[6]=$e[6]+1295307597+($e[5]>>>0<Q[5]>>>0?1:0)|0,$e[7]=$e[7]+3545052371+($e[6]>>>0<Q[6]>>>0?1:0)|0,this._b=$e[7]>>>0<Q[7]>>>0?1:0;for(var Pe=0;Pe<8;Pe++){var Me=Re[Pe]+$e[Pe],Be=Me&65535,Ke=Me>>>16,Le=((Be*Be>>>17)+Be*Ke>>>15)+Ke*Ke,qe=((Me&4294901760)*Me|0)+((Me&65535)*Me|0);te[Pe]=Le^qe}Re[0]=te[0]+(te[7]<<16|te[7]>>>16)+(te[6]<<16|te[6]>>>16)|0,Re[1]=te[1]+(te[0]<<8|te[0]>>>24)+te[7]|0,Re[2]=te[2]+(te[1]<<16|te[1]>>>16)+(te[0]<<16|te[0]>>>16)|0,Re[3]=te[3]+(te[2]<<8|te[2]>>>24)+te[1]|0,Re[4]=te[4]+(te[3]<<16|te[3]>>>16)+(te[2]<<16|te[2]>>>16)|0,Re[5]=te[5]+(te[4]<<8|te[4]>>>24)+te[3]|0,Re[6]=te[6]+(te[5]<<16|te[5]>>>16)+(te[4]<<16|te[4]>>>16)|0,Re[7]=te[7]+(te[6]<<8|te[6]>>>24)+te[5]|0}N.Rabbit=B._createHelper(G)}(),I.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.StreamCipher,H=N.algo,z=[],Q=[],te=[],G=H.RabbitLegacy=B.extend({_doReset:function(){var Re=this._key.words,$e=this.cfg.iv,Pe=this._X=[Re[0],Re[3]<<16|Re[2]>>>16,Re[1],Re[0]<<16|Re[3]>>>16,Re[2],Re[1]<<16|Re[0]>>>16,Re[3],Re[2]<<16|Re[1]>>>16],Me=this._C=[Re[2]<<16|Re[2]>>>16,Re[0]&4294901760|Re[1]&65535,Re[3]<<16|Re[3]>>>16,Re[1]&4294901760|Re[2]&65535,Re[0]<<16|Re[0]>>>16,Re[2]&4294901760|Re[3]&65535,Re[1]<<16|Re[1]>>>16,Re[3]&4294901760|Re[0]&65535];this._b=0;for(var Be=0;Be<4;Be++)ie.call(this);for(var Be=0;Be<8;Be++)Me[Be]^=Pe[Be+4&7];if($e){var Ke=$e.words,Le=Ke[0],qe=Ke[1],He=(Le<<8|Le>>>24)&16711935|(Le<<24|Le>>>8)&4278255360,Ge=(qe<<8|qe>>>24)&16711935|(qe<<24|qe>>>8)&4278255360,at=He>>>16|Ge&4294901760,ot=Ge<<16|He&65535;Me[0]^=He,Me[1]^=at,Me[2]^=Ge,Me[3]^=ot,Me[4]^=He,Me[5]^=at,Me[6]^=Ge,Me[7]^=ot;for(var Be=0;Be<4;Be++)ie.call(this)}},_doProcessBlock:function(Re,$e){var Pe=this._X;ie.call(this),z[0]=Pe[0]^Pe[5]>>>16^Pe[3]<<16,z[1]=Pe[2]^Pe[7]>>>16^Pe[5]<<16,z[2]=Pe[4]^Pe[1]>>>16^Pe[7]<<16,z[3]=Pe[6]^Pe[3]>>>16^Pe[1]<<16;for(var Me=0;Me<4;Me++)z[Me]=(z[Me]<<8|z[Me]>>>24)&16711935|(z[Me]<<24|z[Me]>>>8)&4278255360,Re[$e+Me]^=z[Me]},blockSize:128/32,ivSize:64/32});function ie(){for(var Re=this._X,$e=this._C,Pe=0;Pe<8;Pe++)Q[Pe]=$e[Pe];$e[0]=$e[0]+1295307597+this._b|0,$e[1]=$e[1]+3545052371+($e[0]>>>0<Q[0]>>>0?1:0)|0,$e[2]=$e[2]+886263092+($e[1]>>>0<Q[1]>>>0?1:0)|0,$e[3]=$e[3]+1295307597+($e[2]>>>0<Q[2]>>>0?1:0)|0,$e[4]=$e[4]+3545052371+($e[3]>>>0<Q[3]>>>0?1:0)|0,$e[5]=$e[5]+886263092+($e[4]>>>0<Q[4]>>>0?1:0)|0,$e[6]=$e[6]+1295307597+($e[5]>>>0<Q[5]>>>0?1:0)|0,$e[7]=$e[7]+3545052371+($e[6]>>>0<Q[6]>>>0?1:0)|0,this._b=$e[7]>>>0<Q[7]>>>0?1:0;for(var Pe=0;Pe<8;Pe++){var Me=Re[Pe]+$e[Pe],Be=Me&65535,Ke=Me>>>16,Le=((Be*Be>>>17)+Be*Ke>>>15)+Ke*Ke,qe=((Me&4294901760)*Me|0)+((Me&65535)*Me|0);te[Pe]=Le^qe}Re[0]=te[0]+(te[7]<<16|te[7]>>>16)+(te[6]<<16|te[6]>>>16)|0,Re[1]=te[1]+(te[0]<<8|te[0]>>>24)+te[7]|0,Re[2]=te[2]+(te[1]<<16|te[1]>>>16)+(te[0]<<16|te[0]>>>16)|0,Re[3]=te[3]+(te[2]<<8|te[2]>>>24)+te[1]|0,Re[4]=te[4]+(te[3]<<16|te[3]>>>16)+(te[2]<<16|te[2]>>>16)|0,Re[5]=te[5]+(te[4]<<8|te[4]>>>24)+te[3]|0,Re[6]=te[6]+(te[5]<<16|te[5]>>>16)+(te[4]<<16|te[4]>>>16)|0,Re[7]=te[7]+(te[6]<<8|te[6]>>>24)+te[5]|0}N.RabbitLegacy=B._createHelper(G)}(),I.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$2,function(I){return function(){var N=I,L=N.lib,B=L.BlockCipher,H=N.algo;const z=16,Q=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],te=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var G={pbox:[],sbox:[]};function ie(Be,Ke){let Le=Ke>>24&255,qe=Ke>>16&255,He=Ke>>8&255,Ge=Ke&255,at=Be.sbox[0][Le]+Be.sbox[1][qe];return at=at^Be.sbox[2][He],at=at+Be.sbox[3][Ge],at}function Re(Be,Ke,Le){let qe=Ke,He=Le,Ge;for(let at=0;at<z;++at)qe=qe^Be.pbox[at],He=ie(Be,qe)^He,Ge=qe,qe=He,He=Ge;return Ge=qe,qe=He,He=Ge,He=He^Be.pbox[z],qe=qe^Be.pbox[z+1],{left:qe,right:He}}function $e(Be,Ke,Le){let qe=Ke,He=Le,Ge;for(let at=z+1;at>1;--at)qe=qe^Be.pbox[at],He=ie(Be,qe)^He,Ge=qe,qe=He,He=Ge;return Ge=qe,qe=He,He=Ge,He=He^Be.pbox[1],qe=qe^Be.pbox[0],{left:qe,right:He}}function Pe(Be,Ke,Le){for(let ot=0;ot<4;ot++){Be.sbox[ot]=[];for(let Ye=0;Ye<256;Ye++)Be.sbox[ot][Ye]=te[ot][Ye]}let qe=0;for(let ot=0;ot<z+2;ot++)Be.pbox[ot]=Q[ot]^Ke[qe],qe++,qe>=Le&&(qe=0);let He=0,Ge=0,at=0;for(let ot=0;ot<z+2;ot+=2)at=Re(Be,He,Ge),He=at.left,Ge=at.right,Be.pbox[ot]=He,Be.pbox[ot+1]=Ge;for(let ot=0;ot<4;ot++)for(let Ye=0;Ye<256;Ye+=2)at=Re(Be,He,Ge),He=at.left,Ge=at.right,Be.sbox[ot][Ye]=He,Be.sbox[ot][Ye+1]=Ge;return!0}var Me=H.Blowfish=B.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Be=this._keyPriorReset=this._key,Ke=Be.words,Le=Be.sigBytes/4;Pe(G,Ke,Le)}},encryptBlock:function(Be,Ke){var Le=Re(G,Be[Ke],Be[Ke+1]);Be[Ke]=Le.left,Be[Ke+1]=Le.right},decryptBlock:function(Be,Ke){var Le=$e(G,Be[Ke],Be[Ke+1]);Be[Ke]=Le.left,Be[Ke+1]=Le.right},blockSize:64/32,keySize:128/32,ivSize:64/32});N.Blowfish=B._createHelper(Me)}(),I.Blowfish})}(blowfish)),blowfish.exports}(function(T,$){(function(I,N,L){T.exports=N(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$2,function(I){return I})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const CryptoJS=getDefaultExportFromCjs$1(cryptoJsExports);function generateAddress(){const T=uuid_1.v4();return`0x${CryptoJS.SHA256(T).toString(CryptoJS.enc.Hex).slice(0,40)}`}const holdings=[{id:uuid_1.v4(),name:"US Dollar",symbol:"USD",amount:0,type:"Fiat",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"Euro",symbol:"EUR",amount:0,type:"Fiat",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"British Pound",symbol:"GBP",amount:0,type:"Fiat",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"Bitcoin",symbol:"BTC",amount:0,type:"Crypto",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"MIZ Token",symbol:"MIZ",amount:0,type:"Crypto",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"Binance",symbol:"BSC",amount:0,type:"Crypto",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"Ghanaian Cedi",symbol:"GHS",amount:0,type:"Fiat",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"Nigerian Naira",symbol:"NGN",amount:0,type:"Fiat",value:0,address:generateAddress()},{id:uuid_1.v4(),name:"Kenyan Shilling",symbol:"KES",amount:0,type:"Fiat",value:0,address:generateAddress()}],formatSettlementTime=T=>{if(!T)return 0;const $=Math.floor(T/60);if($<60)return`${$} minute(s)`;{const I=Math.floor($/60),N=$%60;return`${I} hour(s), ${N} minute(s)`}},getExchangeAmount=(T,$)=>(parseFloat(T)*parseFloat($==null?void 0:$.data.payoutUnitsPerPayinUnit)).toFixed(2),getLiquidityProviderRating=async T=>{try{const $=doc(db,"liquidityProviders",T),I=await getDoc($);if(I.exists()){const N=I.data();return N.averageRating!==void 0&&N.totalRatings!==void 0?N.averageRating:0}return 0}catch($){throw console.error("Error getting liquidity provider rating:",$),$}};class TransactionFeeCalculator{constructor($){Dr(this,"feeStructure");this.feeStructure=$}validateParams($){const{transactionAmount:I,exchangeRate:N}=$,L=new BigNumber(I);if(L.isNaN()||L.lte(0))throw new Error("Invalid transaction amount: Must be a positive number");if(Number(N)<=0)throw new Error("Invalid exchange rate: Must be greater than zero");return L}calculateTransactionFee($){const{payin:I,payout:N,exchangeRate:L}=$,B=this.validateParams($),H=B.multipliedBy(this.feeStructure.percentageFee),z=B.plus(this.feeStructure.fixedFee).plus(H);let Q=z;if(I!==N){const te=Number(L)*(1-this.feeStructure.exchangeRateMargin);Q=z.multipliedBy(te)}return Q}}const feeStructure={fixedFee:0,percentageFee:0,exchangeRateMargin:0},transactionFeeCalculator=new TransactionFeeCalculator(feeStructure);var retry$4={};function RetryOperation(T,$){typeof $=="boolean"&&($={forever:$}),this._originalTimeouts=JSON.parse(JSON.stringify(T)),this._timeouts=T,this._options=$||{},this._maxRetryTime=$&&$.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(T){if(this._timeout&&clearTimeout(this._timeout),!T)return!1;var $=new Date().getTime();if(T&&$-this._operationStart>=this._maxRetryTime)return this._errors.push(T),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(T);var I=this._timeouts.shift();if(I===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),I=this._cachedTimeouts.slice(-1);else return!1;var N=this;return this._timer=setTimeout(function(){N._attempts++,N._operationTimeoutCb&&(N._timeout=setTimeout(function(){N._operationTimeoutCb(N._attempts)},N._operationTimeout),N._options.unref&&N._timeout.unref()),N._fn(N._attempts)},I),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(T,$){this._fn=T,$&&($.timeout&&(this._operationTimeout=$.timeout),$.cb&&(this._operationTimeoutCb=$.cb));var I=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){I._operationTimeoutCb()},I._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(T){console.log("Using RetryOperation.try() is deprecated"),this.attempt(T)};RetryOperation.prototype.start=function(T){console.log("Using RetryOperation.start() is deprecated"),this.attempt(T)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var T={},$=null,I=0,N=0;N<this._errors.length;N++){var L=this._errors[N],B=L.message,H=(T[B]||0)+1;T[B]=H,H>=I&&($=L,I=H)}return $};const retry_operation$1=getDefaultExportFromCjs$1(retry_operation),retry_operation$2=_mergeNamespaces({__proto__:null,default:retry_operation$1},[retry_operation]);(function(T){var $=retry_operation$2;T.operation=function(I){var N=T.timeouts(I);return new $(N,{forever:I&&(I.forever||I.retries===1/0),unref:I&&I.unref,maxRetryTime:I&&I.maxRetryTime})},T.timeouts=function(I){if(I instanceof Array)return[].concat(I);var N={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var L in I)N[L]=I[L];if(N.minTimeout>N.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var B=[],H=0;H<N.retries;H++)B.push(this.createTimeout(H,N));return I&&I.forever&&!B.length&&B.push(this.createTimeout(H,N)),B.sort(function(z,Q){return z-Q}),B},T.createTimeout=function(I,N){var L=N.randomize?Math.random()+1:1,B=Math.round(L*Math.max(N.minTimeout,1)*Math.pow(N.factor,I));return B=Math.min(B,N.maxTimeout),B},T.wrap=function(I,N,L){if(N instanceof Array&&(L=N,N=null),!L){L=[];for(var B in I)typeof I[B]=="function"&&L.push(B)}for(var H=0;H<L.length;H++){var z=L[H],Q=I[z];I[z]=(function(G){var ie=T.operation(N),Re=Array.prototype.slice.call(arguments,1),$e=Re.pop();Re.push(function(Pe){ie.retry(Pe)||(Pe&&(arguments[0]=ie.mainError()),$e.apply(this,arguments))}),ie.attempt(function(){G.apply(I,Re)})}).bind(I,Q),I[z].options=N}}})(retry$4);const retry$2=getDefaultExportFromCjs$1(retry$4),retry$3=_mergeNamespaces({__proto__:null,default:retry$2},[retry$4]);var retry=retry$3;const retry$1=getDefaultExportFromCjs$1(retry),objectToString=Object.prototype.toString,isError=T=>objectToString.call(T)==="[object Error]",errorMessages=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function isNetworkError(T){return T&&isError(T)&&T.name==="TypeError"&&typeof T.message=="string"?T.message==="Load failed"?T.stack===void 0:errorMessages.has(T.message):!1}class AbortError extends Error{constructor($){super(),$ instanceof Error?(this.originalError=$,{message:$}=$):(this.originalError=new Error($),this.originalError.stack=this.stack),this.name="AbortError",this.message=$}}const decorateErrorWithCounts=(T,$,I)=>{const N=I.retries-($-1);return T.attemptNumber=$,T.retriesLeft=N,T};async function pRetry(T,$){return new Promise((I,N)=>{$={...$},$.onFailedAttempt??($.onFailedAttempt=()=>{}),$.shouldRetry??($.shouldRetry=()=>!0),$.retries??($.retries=10);const L=retry$1.operation($),B=()=>{var z;L.stop(),N((z=$.signal)==null?void 0:z.reason)};$.signal&&!$.signal.aborted&&$.signal.addEventListener("abort",B,{once:!0});const H=()=>{var z;(z=$.signal)==null||z.removeEventListener("abort",B),L.stop()};L.attempt(async z=>{try{const Q=await T(z);H(),I(Q)}catch(Q){try{if(!(Q instanceof Error))throw new TypeError(`Non-error was thrown: "${Q}". You should only throw errors.`);if(Q instanceof AbortError)throw Q.originalError;if(Q instanceof TypeError&&!isNetworkError(Q))throw Q;if(decorateErrorWithCounts(Q,z,$),await $.shouldRetry(Q)||(L.stop(),N(Q)),await $.onFailedAttempt(Q),!L.retry(Q))throw L.mainError()}catch(te){decorateErrorWithCounts(te,z,$),H(),N(te)}}})})}const useUserActions=()=>{const{state:T,dispatch:$}=reactExports.useContext(UserContext),{userDetails:I,user:N}=useAuth(),L=()=>$({type:"TOGGLE_THEME"}),B=()=>$({type:"DISABLE_NOTIFICATION"}),H=it=>{new BroadcastChannel("EVENTS").postMessage({type:it.type,message:it})},z=async(it,We)=>{var Ve;try{const je=doc(db,"users",it);if((((Ve=(await getDoc(je)).data())==null?void 0:Ve.holdings)||[]).length>0)return;We.length>0&&(await updateDoc(je,{holdings:arrayUnion(...We)}),$({type:"CREATE_HOLDINGS",payload:We}))}catch(je){Vt.error(`Error creating holdings: ${je.message}`)}},Q=async it=>{try{const We=doc(db,"users",it),je=(await getDoc(We)).data(),Ze=(je==null?void 0:je.holdings)||[];let st=0,dt=0;Ze.forEach(vt=>{vt.type==="Crypto"?st+=vt.value??0:vt.type==="Fiat"&&(dt+=vt.value??0)});const bt=st+dt;$({type:"GET_PORTFOLIO_SUMMARY",payload:{totalCryptoValue:st,totalFiatValue:dt,totalValue:bt}})}catch(We){Vt.error(`Error fetching portfolio summary: ${We.message}`)}},te=async it=>{try{const We=doc(db,"users",it),je=(await getDoc(We)).data();return(je==null?void 0:je.transactionHistory)||[]}catch(We){Vt.error(`Error getting transactions history:  ${We.message}`)}},G=async it=>{const We=doc(db,"users",N==null?void 0:N.uid),je=(await getDoc(We)).data();((je==null?void 0:je.transactionHistory)||[]).length>0?await updateDoc(We,{transactionHistory:arrayUnion(it)}):await updateDoc(We,{transactionHistory:[it]})},ie=async(it,We)=>{const Ve=doc(db,"users",N==null?void 0:N.uid),je=await getDoc(Ve);if(je.exists()){const Ze=je.data(),dt=((Ze==null?void 0:Ze.transactionHistory)||[]).map(bt=>bt.reference===it?{...bt,status:We,updatedAt:new Date}:bt);await updateDoc(Ve,{transactionHistory:dt})}else throw Vt.error("User document not found!"),new Error("User document not found!")},Re=async()=>{try{const it=collection(db,"articles"),Ve=(await getDocs(it)).docs.map(je=>({...je.data()}));$({type:"GET_ARTICLES",payload:Ve})}catch(it){Vt.error(`Error getting articles: ${it.message}`)}},$e=async it=>{try{const We=doc(db,"users",it),je=(await getDoc(We)).data(),Ze=(je==null?void 0:je.holdings)||[];$({type:"GET_HOLDINGS",payload:Ze})}catch(We){Vt.error(`Error getting holdings:  ${We.message}`)}},Pe=async it=>{try{const We=collection(db,"articles");await addDoc(We,it),Vt.success("Article successfully published!"),await Re()}catch(We){Vt.error(`Error publishing article: ${We.message}`)}},Me=async it=>{var We;try{const Ve=doc(db,"users",it);if((We=(await getDoc(Ve)).data())!=null&&We.did)return;const st=await(await DidDht$2.create({options:{publish:!0}})).export(),dt=JSON.stringify(st);await updateDoc(Ve,{did:dt}),console.log("DID successfully created and saved!")}catch(Ve){Vt.error(`Error creating DID: ${Ve.message}`)}},Be=async it=>{try{const We=doc(db,"users",it),je=(await getDoc(We)).data();return await DidDht$2.import({portableDid:JSON.parse(je==null?void 0:je.did)})}catch(We){return Vt.error(`Error fetching DID: ${We.message}`),null}},Ke=async it=>liquidityProviders.find(We=>We.did===it),Le=async it=>{try{const{data:We}=await axios.get(`https://mock-idv.tbddev.org/kcc?name=${it.customerName}&country=${it.countryCode}&did=${it.customerDID}`);return We}catch(We){Vt.error(`Error getting credentials: ${We.message}`)}},qe=async(it,We,Ve)=>it.filter(je=>je.data.payin.currencyCode===We&&je.data.payout.currencyCode===Ve).map(je=>({metadata:je.metadata,payoutUnitsPerPayinUnit:je.data.payoutUnitsPerPayinUnit,payoutCurrency:je.data.payout.currencyCode,payoutMethods:je.data.payout.methods,payinCurrency:je.data.payin.currencyCode,payinMethods:je.data.payin.methods,requiredClaims:je.data.requiredClaims,kind:je.metadata.kind})),He=async()=>{try{for(const it of liquidityProviders){const{did:We}=it,Ve=await TbdexHttpClient.getOfferings({pfiDid:We});await localforage.setItem(We,JSON.stringify(Ve))}}catch(it){throw it}},Ge=async it=>{try{const We=await localforage.getItem(it);if(We)return JSON.parse(We);{const Ve=await TbdexHttpClient.getOfferings({pfiDid:it});return await localforage.setItem(it,JSON.stringify(Ve)),Ve}}catch(We){return Vt.error(`Error retrieving offerings: ${We.message}`),null}},at=async it=>{try{await localforage.removeItem(it)}catch(We){console.error(`Error deleting offerings: ${We.message}`)}},ot=async()=>{try{const it=liquidityProviders.map(Ve=>Ge(Ve.did));return await Promise.all(it)}catch(it){throw console.error(`Error getting all offerings: ${it.message}`),it}},Ye=async()=>{try{const it=await localforage.keys(),We=/^did:dht:/,Ve=it.filter(je=>We.test(je));await Promise.all(Ve.map(je=>localforage.removeItem(je))),console.log("All offerings with DID keys have been removed.")}catch(it){console.error(`Error removing all offerings with DID keys: ${it.message}`)}},nt=2e3,Qe=300,tt=async(it,We,Ve)=>{let je=null,Ze=null,st=0,dt=nt;for(;!je&&st<Qe;)try{const bt=await TbdexHttpClient.getExchange({pfiDid:it,did:We,exchangeId:Ve});if(je=bt.find(vt=>vt instanceof Quote),!je){if(Ze=bt.find(vt=>vt instanceof Close$1),Ze)break;await new Promise(vt=>setTimeout(vt,dt)),dt*=1.5,st++}}catch(bt){console.error(`Error fetching exchange: ${bt.message}`)}return je},ze=async(it,We)=>{try{const Ve=Close$1.create({metadata:{from:I==null?void 0:I.did,to:it.metadata.from,exchangeId:it.metadata.exchangeId,protocol:"1.0"},data:{reason:We}});await Ve.sign(I==null?void 0:I.did),await TbdexHttpClient.submitClose(Ve)}catch(Ve){console.error(`Error creating and submitting close: ${Ve.message}`)}},Fe=async it=>{try{const We=Order.create({metadata:{from:I==null?void 0:I.did,to:it.metadata.from,exchangeId:it.metadata.exchangeId,protocol:"1.0"}});return await We.sign(I==null?void 0:I.did),await TbdexHttpClient.submitOrder(We),We}catch(We){throw console.error(`Error placing order: ${We.message}`),We}},ke=async(it,We)=>{const Ze=async()=>await TbdexHttpClient.getExchange({pfiDid:it.metadata.to,did:We,exchangeId:it.metadata.exchangeId}),st=async()=>{const dt=await Ze();for(const bt of dt){if(bt instanceof Close$1)return null;if(bt instanceof OrderStatus)return bt}throw new Error("Order status not found")};try{return await pRetry(st,{retries:30,minTimeout:2e3,factor:1,randomize:!1,onFailedAttempt:bt=>{console.warn(`Attempt ${bt.attemptNumber} failed. ${bt.retriesLeft} retries left.`)}})}catch(dt){return console.error("Failed to poll order status:",dt),null}},Ue=it=>{const We=it.data.success,Ve=it.data.reason;We?Vt.success("Order fulfilled successfully"):Vt.error(`Order failed: ${Ve}`)};return{state:T,createExchange:async it=>{const We=PresentationExchange.selectCredentials({vcJwts:it.credentials,presentationDefinition:it.selectedOffering.data.requiredClaims}),Ve=Rfq.create({metadata:{to:it.selectedOffering.metadata.from,from:I==null?void 0:I.did,protocol:"1.0"},data:{offeringId:it.selectedOffering.metadata.id,payin:{kind:it.selectedOffering.data.payin.kind,amount:it.txPayload.amount,paymentDetails:{}},payout:{kind:it.selectedOffering.data.payout.kind,paymentDetails:{}},claims:We}});await Ve.verifyOfferingRequirements(it.selectedOffering),await Ve.sign(I==null?void 0:I.did),await TbdexHttpClient.createExchange(Ve)},toggleTheme:L,processTx:async(it,We)=>{try{const Ve=await Fe(We),je=await ke(Ve,it);je&&Vt.custom("Order Status Update:",je);const Ze=await ke(Ve,it);Ze instanceof Close$1&&Ue(Ze)}catch(Ve){Vt.error("Error processing order:",Ve.message)}},fetchQuoteFromExchange:tt,handleCloseMessage:Ue,fetchAndCacheOfferings:He,getLiquidityProviders:async()=>{try{return await Promise.all(liquidityProviders.map(async We=>({did:We.did,name:We.name,rating:await getLiquidityProviderRating(We.did),offerings:await Ge(We.did)})))}catch(it){return Vt.error("Error getting liquidity providers:",it.message),null}},pollOrderStatus:ke,placeOrder:Fe,createAndSubmitClose:ze,getOfferingsByDID:Ge,getAllOfferings:ot,removeAllOfferings:Ye,unCacheOfferings:at,getDID:Be,getPFIByDID:Ke,disableNotification:B,getCredentials:Le,notifyUser:H,getHoldings:$e,createTxRecord:G,updateTxStatus:ie,createHoldings:z,createDID:Me,publishArticle:Pe,findMatchingPairs:qe,getTxHistory:te,getPortfolioSummary:Q,getArticles:Re}};var InfoOutlined={},_interopRequireDefault$3=interopRequireDefault$1;Object.defineProperty(InfoOutlined,"__esModule",{value:!0});var default_1$3=InfoOutlined.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntime$1;default_1$3=InfoOutlined.default=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var Close={},_interopRequireDefault$2=interopRequireDefault$1;Object.defineProperty(Close,"__esModule",{value:!0});var default_1$2=Close.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntime$1;default_1$2=Close.default=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var NoificationType=(T=>(T.SIGN_UP_SUCCESS="Sign up success",T.LOG_IN_SUCCESS="Log in success",T.TX_SUCCESS="Transaction success",T.TX_FAIL="Transaction fail",T.EXCHANGE_SUCCESS="Exchange success",T.EXCHANGE_FAIL="Exchange fail",T))(NoificationType||{});const africanCountries=[{name:"Algeria",code:"DZ",flag:"🇩🇿",phoneCode:"213"},{name:"Angola",code:"AO",flag:"🇦🇴",phoneCode:"244"},{name:"Benin",code:"BJ",flag:"🇧🇯",phoneCode:"229"},{name:"Botswana",code:"BW",flag:"🇧🇼",phoneCode:"267"},{name:"Burkina Faso",code:"BF",flag:"🇧🇫",phoneCode:"226"},{name:"Burundi",code:"BI",flag:"🇧🇮",phoneCode:"257"},{name:"Cabo Verde",code:"CV",flag:"🇨🇻",phoneCode:"238"},{name:"Cameroon",code:"CM",flag:"🇨🇲",phoneCode:"237"},{name:"Central African Republic",code:"CF",flag:"🇨🇫",phoneCode:"236"},{name:"Chad",code:"TD",flag:"🇹🇩",phoneCode:"235"},{name:"Comoros",code:"KM",flag:"🇰🇲",phoneCode:"269"},{name:"Democratic Republic of the Congo",code:"CD",flag:"🇨🇩",phoneCode:"243"},{name:"Republic of the Congo",code:"CG",flag:"🇨🇬",phoneCode:"242"},{name:"Djibouti",code:"DJ",flag:"🇩🇯",phoneCode:"253"},{name:"Egypt",code:"EG",flag:"🇪🇬",phoneCode:"20"},{name:"Equatorial Guinea",code:"GQ",flag:"🇬🇶",phoneCode:"240"},{name:"Eritrea",code:"ER",flag:"🇪🇷",phoneCode:"291"},{name:"Eswatini",code:"SZ",flag:"🇸🇿",phoneCode:"268"},{name:"Ethiopia",code:"ET",flag:"🇪🇹",phoneCode:"251"},{name:"Gabon",code:"GA",flag:"🇬🇦",phoneCode:"241"},{name:"Gambia",code:"GM",flag:"🇬🇲",phoneCode:"220"},{name:"Ghana",code:"GH",flag:"🇬🇭",phoneCode:"233"},{name:"Guinea",code:"GN",flag:"🇬🇳",phoneCode:"224"},{name:"Guinea-Bissau",code:"GW",flag:"🇬🇼",phoneCode:"245"},{name:"Ivory Coast",code:"CI",flag:"🇨🇮",phoneCode:"225"},{name:"Kenya",code:"KE",flag:"🇰🇪",phoneCode:"254"},{name:"Lesotho",code:"LS",flag:"🇱🇸",phoneCode:"266"},{name:"Liberia",code:"LR",flag:"🇱🇷",phoneCode:"231"},{name:"Libya",code:"LY",flag:"🇱🇾",phoneCode:"218"},{name:"Madagascar",code:"MG",flag:"🇲🇬",phoneCode:"261"},{name:"Malawi",code:"MW",flag:"🇲🇼",phoneCode:"265"},{name:"Mali",code:"ML",flag:"🇲🇱",phoneCode:"223"},{name:"Mauritania",code:"MR",flag:"🇲🇷",phoneCode:"222"},{name:"Mauritius",code:"MU",flag:"🇲🇺",phoneCode:"230"},{name:"Morocco",code:"MA",flag:"🇲🇦",phoneCode:"212"},{name:"Mozambique",code:"MZ",flag:"🇲🇿",phoneCode:"258"},{name:"Namibia",code:"NA",flag:"🇳🇦",phoneCode:"264"},{name:"Niger",code:"NE",flag:"🇳🇪",phoneCode:"227"},{name:"Nigeria",code:"NG",flag:"🇳🇬",phoneCode:"234"},{name:"Rwanda",code:"RW",flag:"🇷🇼",phoneCode:"250"},{name:"São Tomé and Príncipe",code:"ST",flag:"🇸🇹",phoneCode:"239"},{name:"Senegal",code:"SN",flag:"🇸🇳",phoneCode:"221"},{name:"Seychelles",code:"SC",flag:"🇸🇨",phoneCode:"248"},{name:"Sierra Leone",code:"SL",flag:"🇸🇱",phoneCode:"232"},{name:"Somalia",code:"SO",flag:"🇸🇴",phoneCode:"252"},{name:"South Africa",code:"ZA",flag:"🇿🇦",phoneCode:"27"},{name:"South Sudan",code:"SS",flag:"🇸🇸",phoneCode:"211"},{name:"Sudan",code:"SD",flag:"🇸🇩",phoneCode:"249"},{name:"Tanzania",code:"TZ",flag:"🇹🇿",phoneCode:"255"},{name:"Togo",code:"TG",flag:"🇹🇬",phoneCode:"228"},{name:"Tunisia",code:"TN",flag:"🇹🇳",phoneCode:"216"},{name:"Uganda",code:"UG",flag:"🇺🇬",phoneCode:"256"},{name:"Zambia",code:"ZM",flag:"🇿🇲",phoneCode:"260"},{name:"Zimbabwe",code:"ZW",flag:"🇿🇼",phoneCode:"263"}],RatingModal=({open:T,onClose:$,onSubmitRating:I,liquidityProvider:N})=>{const[L,B]=reactExports.useState(null),{getPFIByDID:H}=useUserActions(),[z,Q]=reactExports.useState("");reactExports.useEffect(()=>{N&&H(N).then(G=>Q(G==null?void 0:G.name))},[N]);const te=()=>{L!==null&&I(L),$()};return jsxRuntimeExports.jsxs(Dialog,{open:T,onClose:$,children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Rate Your Experience"}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(Typography,{variant:"body1",gutterBottom:!0,children:["How would you rate your experience with ",z,"?"]}),jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",my:2,children:jsxRuntimeExports.jsx(Rating,{name:"liquidity-provider-rating",value:L,onChange:(G,ie)=>B(ie),size:"large"})})]}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:$,color:"primary",children:"Maybe Later"}),jsxRuntimeExports.jsx(Button,{onClick:te,color:"primary",variant:"contained",disabled:L===null,children:"Submit Rating"})]})]})},fadeIn=keyframes`
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,DrawerContent=styled(Box)(({theme:T})=>({width:"100%",maxWidth:500,margin:"0 auto",padding:T.spacing(3),animation:`${fadeIn} 0.3s ease-out`})),StyledTypography=styled(Typography)(({theme:T})=>({marginBottom:T.spacing(2)})),AnimatedDivider=styled(Divider)(({theme:T})=>({margin:T.spacing(2,0),animation:`${fadeIn} 0.5s ease-out`})),StyledIconButton=styled(IconButton)(({theme:T})=>({position:"absolute",right:T.spacing(2),top:T.spacing(2)})),ConfirmationDrawer=({open:T,offering:$,txType:I,amount:N,narration:L,recipientAddress:B,fromAddress:H,currencyCode:z,onClose:Q})=>{var Ye,nt,Qe,tt,ze,Fe,ke,Ue,Je,rt,Xe,it,We,Ve,je,Ze;const[te,G]=reactExports.useState(!1),[ie,Re]=reactExports.useState(0),[$e,Pe]=reactExports.useState(!1),[Me,Be]=reactExports.useState(!1),{notifyUser:Ke,createTxRecord:Le,updateTxStatus:qe}=useUserActions(),{user:He}=useAuth();reactExports.useEffect(()=>{T&&(Re(0),Pe(!1))},[T]);const Ge=async()=>{var st;try{G(!0),Re(1);const dt=uuid_1.v4(),bt={reference:dt,from:H||"YOU",to:B,type:I,amount:N,currencyCode:z,timestamp:new Date,status:"processing",narration:L,data:"",metadata:"",liquidityProvider:$==null?void 0:$.metadata.from};await Le(bt),Re(2),await qe(dt,"completed"),Ke({id:uuid_1.v4(),type:NoificationType.TX_SUCCESS,title:NoificationType.TX_SUCCESS,content:"Your Transaction has been completed"}),G(!1),Q(),Vt.success("Transaction completed successfully!");const vt=doc(db,"users",He==null?void 0:He.uid);(((st=(await getDoc(vt)).data())==null?void 0:st.ratings)||[]).some(Dt=>Dt.liquidityProvider===($==null?void 0:$.metadata.from))||Be(!0)}catch(dt){Vt.error(dt.message),G(!1)}},at=async st=>{try{const dt=doc(db,"users",He==null?void 0:He.uid);await updateDoc(dt,{ratings:arrayUnion({liquidityProvider:$==null?void 0:$.metadata.from,rating:st,timestamp:new Date})});const bt=doc(db,"liquidityProviders",$==null?void 0:$.metadata.from);await runTransaction(db,async vt=>{const St=await vt.get(bt);if(!St.exists())vt.set(bt,{ratings:[st],totalRatings:1,averageRating:st,createdAt:serverTimestamp()});else{const Bt=St.data(),Gt=(Bt.totalRatings||0)+1,Dt=((Bt.averageRating||0)*(Gt-1)+st)/Gt;vt.update(bt,{ratings:arrayUnion(st),totalRatings:Gt,averageRating:Dt,updatedAt:serverTimestamp()})}}),Vt.success("Thank you for your feedback!")}catch{Vt.error("Failed to submit rating. Please try again later.")}},ot=["Confirm","Processing","Complete"];return $?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Drawer,{anchor:"bottom",open:T,onClose:Q,children:jsxRuntimeExports.jsxs(DrawerContent,{children:[jsxRuntimeExports.jsx(StyledIconButton,{onClick:Q,children:jsxRuntimeExports.jsx(default_1$2,{})}),jsxRuntimeExports.jsx(Fade,{in:!0,timeout:500,children:jsxRuntimeExports.jsx(StyledTypography,{variant:"h5",align:"center",children:I==="CONVERT"?"Confirm Exchange":"Confirm Transaction"})}),jsxRuntimeExports.jsx(AnimatedDivider,{}),jsxRuntimeExports.jsx(Stepper,{activeStep:ie,alternativeLabel:!0,children:ot.map(st=>jsxRuntimeExports.jsx(Step,{children:jsxRuntimeExports.jsx(StepLabel,{children:st})},st))}),jsxRuntimeExports.jsx(AnimatedDivider,{}),jsxRuntimeExports.jsxs(Box,{mb:2,children:[jsxRuntimeExports.jsxs(Grid,{container:!0,alignItems:"center",spacing:2,justifyContent:"center",children:[jsxRuntimeExports.jsx(Grid,{item:!0,children:jsxRuntimeExports.jsx(Typography,{variant:"h5",children:(Ye=$==null?void 0:$.data.payin)==null?void 0:Ye.currencyCode})}),jsxRuntimeExports.jsx(Grid,{item:!0,children:jsxRuntimeExports.jsx(Fade,{in:!0,timeout:800,children:I!=="CONVERT"?jsxRuntimeExports.jsx(default_1$4,{fontSize:"large"}):jsxRuntimeExports.jsx(default_1$8,{fontSize:"large"})})}),jsxRuntimeExports.jsx(Grid,{item:!0,children:jsxRuntimeExports.jsx(Typography,{variant:"h5",children:(Qe=(nt=$==null?void 0:$.data)==null?void 0:nt.payout)==null?void 0:Qe.currencyCode})})]}),jsxRuntimeExports.jsx(Typography,{variant:"body1",align:"center",mt:2,children:I==="CONVERT"?`Exchange ${N} ${(ze=(tt=$==null?void 0:$.data)==null?void 0:tt.payin)==null?void 0:ze.currencyCode} for ${getExchangeAmount(N,$)} ${(ke=(Fe=$==null?void 0:$.data)==null?void 0:Fe.payout)==null?void 0:ke.currencyCode}`:`Send ${N} ${(Je=(Ue=$==null?void 0:$.data)==null?void 0:Ue.payout)==null?void 0:Je.currencyCode} to ${B}`})]}),jsxRuntimeExports.jsx(Collapse,{in:$e,children:jsxRuntimeExports.jsxs(Box,{p:2,bgcolor:"rgba(0, 0, 0, 0.03)",borderRadius:1,children:[jsxRuntimeExports.jsxs(Typography,{variant:"body2",gutterBottom:!0,children:["Exchange Rate: ",$.data.payoutUnitsPerPayinUnit]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",gutterBottom:!0,children:["Fee:"," ",N&&`${transactionFeeCalculator.calculateTransactionFee({transactionAmount:N,payin:(Xe=(rt=$==null?void 0:$.data)==null?void 0:rt.payin)==null?void 0:Xe.currencyCode,payout:(We=(it=$==null?void 0:$.data)==null?void 0:it.payout)==null?void 0:We.currencyCode,exchangeRate:(Ve=$==null?void 0:$.data)==null?void 0:Ve.payoutUnitsPerPayinUnit}).toString()} ${(Ze=(je=$==null?void 0:$.data)==null?void 0:je.payin)==null?void 0:Ze.currencyCode}`]})]})}),jsxRuntimeExports.jsx(Box,{mt:2,display:"flex",justifyContent:"center",children:jsxRuntimeExports.jsx(Tooltip,{title:$e?"Hide details":"Show details",children:jsxRuntimeExports.jsx(Button,{variant:"outlined",startIcon:jsxRuntimeExports.jsx(default_1$3,{}),onClick:()=>Pe(!$e),size:"small",children:$e?"Hide Details":"Show Details"})})}),jsxRuntimeExports.jsx(Box,{mt:3,children:jsxRuntimeExports.jsx(Button,{variant:"contained",color:"primary",onClick:Ge,fullWidth:!0,disabled:te,size:"large",children:te?jsxRuntimeExports.jsx(CircularProgress,{size:24,color:"inherit"}):"Confirm Transaction"})})]})}),jsxRuntimeExports.jsx(RatingModal,{open:Me,onClose:()=>Be(!1),onSubmitRating:at,liquidityProvider:$.metadata.from})]}):null},PageContainer=styled(Container)(({theme:T})=>({padding:T.spacing(2),backgroundColor:T.palette.background.default,minHeight:"100vh",[T.breakpoints.up("md")]:{padding:T.spacing(4)}})),SearchBar=styled(TextField)(({theme:T})=>({marginBottom:T.spacing(2),"& .MuiOutlinedInput-root":{borderRadius:20,height:"50px"}})),OfferingListItem=styled(ListItem)(({theme:T})=>({borderBottom:`1px solid ${T.palette.divider}`,"&:last-child":{borderBottom:"none"}})),StyledModal=styled(Modal)(()=>({display:"flex",alignItems:"center",justifyContent:"center"})),ModalContent=styled(Box)(({theme:T})=>({backgroundColor:T.palette.background.paper,boxShadow:T.shadows[5],padding:T.spacing(4),borderRadius:T.spacing(2),maxWidth:"90vw",width:"600px",[T.breakpoints.down("sm")]:{padding:T.spacing(2),width:"100%"}})),Xender=()=>{var Ue,Je,rt,Xe,it,We,Ve;const T=useLocation(),$=useTheme$1(),I=useMediaQuery($.breakpoints.down("sm")),[N,L]=reactExports.useState(""),[B,H]=reactExports.useState(null),[z,Q]=reactExports.useState(!1),[te,G]=reactExports.useState(""),[ie,Re]=reactExports.useState(""),[$e,Pe]=reactExports.useState(""),{getLiquidityProviders:Me}=useUserActions(),[Be,Ke]=reactExports.useState(null),[Le,qe]=reactExports.useState(!1),[He,Ge]=reactExports.useState(!1),[at,ot]=reactExports.useState(null),Ye=reactExports.useMemo(()=>$e&&B?getExchangeAmount($e,B):"",[$e,B]);reactExports.useEffect(()=>{(async()=>{Ge(!0);try{const Ze=await Me();Ge(!1),Ke(Ze)}catch(Ze){Ge(!1),Vt.error("Error fetching providers:",Ze.message)}})()},[]),reactExports.useEffect(()=>{T.state&&T.state.offering&&(H(T.state.offering),Q(!0))},[T.state]);const nt=je=>{L(je.target.value)},Qe=je=>{H(je),Q(!0)},tt=()=>{Q(!1),G(""),Pe("")},ze=()=>{qe(!1),ot(null),Re(""),G(""),Pe("")},Fe=()=>{if(!B){Vt.error("No offering selected");return}try{ot({amount:$e,recipientAddress:te,offering:B,narration:ie}),qe(!0)}catch(je){je instanceof Error?Vt.error(je.message):Vt.error("An unknown error occurred")}tt()},ke=reactExports.useMemo(()=>(Be==null?void 0:Be.flatMap(je=>{var Ze;return(Ze=je.offerings)==null?void 0:Ze.filter(st=>{var dt;return(dt=st.data.payin)==null?void 0:dt.currencyCode.toLowerCase().includes(N.toLowerCase())})}))||[],[Be,N]);return jsxRuntimeExports.jsxs(PageContainer,{maxWidth:"md",style:{paddingBottom:"65px"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h2",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",children:"Send Funds"}),jsxRuntimeExports.jsx(SearchBar,{fullWidth:!0,placeholder:"Search currencies...",variant:"outlined",value:N,onChange:nt,InputProps:{startAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"start",children:jsxRuntimeExports.jsx(default_1$7,{color:"primary"})})}}),He?jsxRuntimeExports.jsx(Box,{sx:{display:"flex",justifyContent:"center",width:"100%",marginTop:"50px"},children:jsxRuntimeExports.jsx(CircularProgress,{})}):jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{borderRadius:2,overflow:"hidden"},children:[jsxRuntimeExports.jsx(List,{disablePadding:!0,children:ke.map((je,Ze)=>{var st,dt,bt,vt,St,Bt;return jsxRuntimeExports.jsxs(OfferingListItem,{onClick:()=>Qe(je),sx:{backgroundColor:Ze%2===0?$.palette.background.default:$.palette.background.paper},children:[jsxRuntimeExports.jsx(ListItemText,{primary:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{fontWeight:"bold"},children:[(st=je.data.payin)==null?void 0:st.currencyCode," ",jsxRuntimeExports.jsx(default_1$4,{})," ",(dt=je.data.payout)==null?void 0:dt.currencyCode]}),secondary:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"textSecondary",children:(bt=je.data.description)==null?void 0:bt.replace(/Exchange/g,"Send").replace(/for/g,"to")}),jsxRuntimeExports.jsxs(Box,{display:"flex",alignItems:"center",mt:.5,children:[jsxRuntimeExports.jsx(Chip,{icon:jsxRuntimeExports.jsx(default_1$5,{sx:{color:$.palette.warning.main}}),label:(St=(vt=Be==null?void 0:Be.find(Gt=>{var Dt;return(Dt=Gt.offerings)==null?void 0:Dt.some(Mt=>Mt.signature===je.signature)}))==null?void 0:vt.rating)==null?void 0:St.toFixed(1),size:"small",sx:{mr:1,backgroundColor:$.palette.warning.light}}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"textSecondary",children:(Bt=Be==null?void 0:Be.find(Gt=>{var Dt;return(Dt=Gt.offerings)==null?void 0:Dt.some(Mt=>Mt.signature===je.signature)}))==null?void 0:Bt.name})]})]})}),!I&&jsxRuntimeExports.jsx(ListItemSecondaryAction,{children:jsxRuntimeExports.jsx(IconButton,{edge:"end","aria-label":"send",onClick:()=>Qe(je),children:jsxRuntimeExports.jsx(default_1$6,{color:"primary"})})})]},je.metadata.id)})}),ke.length<1&&jsxRuntimeExports.jsx(Box,{sx:{width:"100%",textAlign:"center",marginTop:"50px"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"textSecondary",children:"No providers available at this time :("})})]}),jsxRuntimeExports.jsx(StyledModal,{open:z,onClose:tt,"aria-labelledby":"send-transaction-modal-title",children:jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(Typography,{variant:"h5",id:"send-transaction-modal-title",gutterBottom:!0,sx:{fontWeight:"bold"},children:["Send ",(Ue=B==null?void 0:B.data.payin)==null?void 0:Ue.currencyCode]}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(TextField,{label:"Recipient Address/Account Number",variant:"outlined",fullWidth:!0,value:te,onChange:je=>G(je.target.value),sx:{mb:2}}),jsxRuntimeExports.jsx(TextField,{label:`Amount in ${(Je=B==null?void 0:B.data.payin)==null?void 0:Je.currencyCode}`,variant:"outlined",fullWidth:!0,value:$e,onChange:je=>Pe(je.target.value),InputProps:{endAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"end",children:(rt=B==null?void 0:B.data.payin)==null?void 0:rt.currencyCode})},sx:{mb:2}}),jsxRuntimeExports.jsx(TextField,{label:`Receiving Amount in ${(Xe=B==null?void 0:B.data.payout)==null?void 0:Xe.currencyCode}`,variant:"outlined",fullWidth:!0,value:Ye,disabled:!0,InputProps:{endAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"end",children:(it=B==null?void 0:B.data.payout)==null?void 0:it.currencyCode})},sx:{mb:2}}),jsxRuntimeExports.jsx(TextField,{label:"Narration",variant:"outlined",fullWidth:!0,onChange:je=>Re(je.target.value),value:ie}),jsxRuntimeExports.jsx(Box,{mt:2,children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"textSecondary",children:["Settlement Time:"," ",formatSettlementTime(B==null?void 0:B.data.payout.methods[0].estimatedSettlementTime)]})}),jsxRuntimeExports.jsxs(Box,{mt:4,display:"flex",justifyContent:"flex-end",children:[jsxRuntimeExports.jsx(Button,{variant:"outlined",color:"primary",onClick:tt,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{variant:"contained",color:"primary",onClick:Fe,sx:{ml:2},disabled:!te||!$e,children:"Send"})]})]})}),jsxRuntimeExports.jsx(ConfirmationDrawer,{open:Le,txType:"SEND",amount:(at==null?void 0:at.amount)||"",recipientAddress:(at==null?void 0:at.recipientAddress)||"",offering:(at==null?void 0:at.offering)||null,narration:at==null?void 0:at.narration,currencyCode:`${(We=at==null?void 0:at.offering)==null?void 0:We.data.payin.currencyCode}/${(Ve=at==null?void 0:at.offering)==null?void 0:Ve.data.payout.currencyCode}`,onClose:ze})]})},FormContainer=styled(Paper)(({theme:T})=>({padding:T.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",backgroundColor:"paper",maxWidth:500,margin:"40px auto",[T.breakpoints.down("sm")]:{padding:T.spacing(3),margin:"20px auto"}})),StyledTextField=styled(TextField)(({theme:T})=>({marginBottom:T.spacing(2)})),StyledButton$1=styled(Button)(({theme:T})=>({marginTop:T.spacing(2)})),Logo$1=styled("img")({width:80,marginBottom:20});styled(Button)(({theme:T})=>({maxWidth:"300px",width:"100%",marginTop:T.spacing(2),display:"flex",alignItems:"center",gap:T.spacing(2)}));const logoImg="/assets/logo-CnPvy80D.png";var lib=function(T){var $={};function I(N){if($[N])return $[N].exports;var L=$[N]={i:N,l:!1,exports:{}};return T[N].call(L.exports,L,L.exports,I),L.l=!0,L.exports}return I.m=T,I.c=$,I.d=function(N,L,B){I.o(N,L)||Object.defineProperty(N,L,{enumerable:!0,get:B})},I.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},I.t=function(N,L){if(1&L&&(N=I(N)),8&L||4&L&&typeof N=="object"&&N&&N.__esModule)return N;var B=Object.create(null);if(I.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:N}),2&L&&typeof N!="string")for(var H in N)I.d(B,H,(function(z){return N[z]}).bind(null,H));return B},I.n=function(N){var L=N&&N.__esModule?function(){return N.default}:function(){return N};return I.d(L,"a",L),L},I.o=function(N,L){return Object.prototype.hasOwnProperty.call(N,L)},I.p="",I(I.s=9)}([function(T,$){T.exports=React$2},function(T,$,I){var N;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var L={}.hasOwnProperty;function B(){for(var H=[],z=0;z<arguments.length;z++){var Q=arguments[z];if(Q){var te=typeof Q;if(te==="string"||te==="number")H.push(Q);else if(Array.isArray(Q)&&Q.length){var G=B.apply(null,Q);G&&H.push(G)}else if(te==="object")for(var ie in Q)L.call(Q,ie)&&Q[ie]&&H.push(ie)}}return H.join(" ")}T.exports?(B.default=B,T.exports=B):(N=(function(){return B}).apply($,[]))===void 0||(T.exports=N)})()},function(T,$,I){(function(N){var L=/^\s+|\s+$/g,B=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,z=/^0o[0-7]+$/i,Q=parseInt,te=typeof N=="object"&&N&&N.Object===Object&&N,G=typeof self=="object"&&self&&self.Object===Object&&self,ie=te||G||Function("return this")(),Re=Object.prototype.toString,$e=ie.Symbol,Pe=$e?$e.prototype:void 0,Me=Pe?Pe.toString:void 0;function Be(He){if(typeof He=="string")return He;if(Le(He))return Me?Me.call(He):"";var Ge=He+"";return Ge=="0"&&1/He==-1/0?"-0":Ge}function Ke(He){var Ge=typeof He;return!!He&&(Ge=="object"||Ge=="function")}function Le(He){return typeof He=="symbol"||function(Ge){return!!Ge&&typeof Ge=="object"}(He)&&Re.call(He)=="[object Symbol]"}function qe(He){return He?(He=function(Ge){if(typeof Ge=="number")return Ge;if(Le(Ge))return NaN;if(Ke(Ge)){var at=typeof Ge.valueOf=="function"?Ge.valueOf():Ge;Ge=Ke(at)?at+"":at}if(typeof Ge!="string")return Ge===0?Ge:+Ge;Ge=Ge.replace(L,"");var ot=H.test(Ge);return ot||z.test(Ge)?Q(Ge.slice(2),ot?2:8):B.test(Ge)?NaN:+Ge}(He))===1/0||He===-1/0?17976931348623157e292*(He<0?-1:1):He==He?He:0:He===0?He:0}T.exports=function(He,Ge,at){var ot,Ye,nt,Qe;return He=(ot=He)==null?"":Be(ot),Ye=function(tt){var ze=qe(tt),Fe=ze%1;return ze==ze?Fe?ze-Fe:ze:0}(at),nt=0,Qe=He.length,Ye==Ye&&(Qe!==void 0&&(Ye=Ye<=Qe?Ye:Qe),nt!==void 0&&(Ye=Ye>=nt?Ye:nt)),at=Ye,Ge=Be(Ge),He.slice(at,at+Ge.length)==Ge}}).call(this,I(3))},function(T,$){var I;I=function(){return this}();try{I=I||new Function("return this")()}catch{typeof window=="object"&&(I=window)}T.exports=I},function(T,$,I){(function(N){var L=/^\[object .+?Constructor\]$/,B=typeof N=="object"&&N&&N.Object===Object&&N,H=typeof self=="object"&&self&&self.Object===Object&&self,z=B||H||Function("return this")(),Q,te=Array.prototype,G=Function.prototype,ie=Object.prototype,Re=z["__core-js_shared__"],$e=(Q=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",Pe=G.toString,Me=ie.hasOwnProperty,Be=ie.toString,Ke=RegExp("^"+Pe.call(Me).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=te.splice,qe=tt(z,"Map"),He=tt(Object,"create");function Ge(ke){var Ue=-1,Je=ke?ke.length:0;for(this.clear();++Ue<Je;){var rt=ke[Ue];this.set(rt[0],rt[1])}}function at(ke){var Ue=-1,Je=ke?ke.length:0;for(this.clear();++Ue<Je;){var rt=ke[Ue];this.set(rt[0],rt[1])}}function ot(ke){var Ue=-1,Je=ke?ke.length:0;for(this.clear();++Ue<Je;){var rt=ke[Ue];this.set(rt[0],rt[1])}}function Ye(ke,Ue){for(var Je,rt,Xe=ke.length;Xe--;)if((Je=ke[Xe][0])===(rt=Ue)||Je!=Je&&rt!=rt)return Xe;return-1}function nt(ke){return!(!Fe(ke)||(Ue=ke,$e&&$e in Ue))&&(function(Je){var rt=Fe(Je)?Be.call(Je):"";return rt=="[object Function]"||rt=="[object GeneratorFunction]"}(ke)||function(Je){var rt=!1;if(Je!=null&&typeof Je.toString!="function")try{rt=!!(Je+"")}catch{}return rt}(ke)?Ke:L).test(function(Je){if(Je!=null){try{return Pe.call(Je)}catch{}try{return Je+""}catch{}}return""}(ke));var Ue}function Qe(ke,Ue){var Je,rt,Xe=ke.__data__;return((rt=typeof(Je=Ue))=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?Je!=="__proto__":Je===null)?Xe[typeof Ue=="string"?"string":"hash"]:Xe.map}function tt(ke,Ue){var Je=function(rt,Xe){return rt==null?void 0:rt[Xe]}(ke,Ue);return nt(Je)?Je:void 0}function ze(ke,Ue){if(typeof ke!="function"||Ue&&typeof Ue!="function")throw new TypeError("Expected a function");var Je=function(){var rt=arguments,Xe=Ue?Ue.apply(this,rt):rt[0],it=Je.cache;if(it.has(Xe))return it.get(Xe);var We=ke.apply(this,rt);return Je.cache=it.set(Xe,We),We};return Je.cache=new(ze.Cache||ot),Je}function Fe(ke){var Ue=typeof ke;return!!ke&&(Ue=="object"||Ue=="function")}Ge.prototype.clear=function(){this.__data__=He?He(null):{}},Ge.prototype.delete=function(ke){return this.has(ke)&&delete this.__data__[ke]},Ge.prototype.get=function(ke){var Ue=this.__data__;if(He){var Je=Ue[ke];return Je==="__lodash_hash_undefined__"?void 0:Je}return Me.call(Ue,ke)?Ue[ke]:void 0},Ge.prototype.has=function(ke){var Ue=this.__data__;return He?Ue[ke]!==void 0:Me.call(Ue,ke)},Ge.prototype.set=function(ke,Ue){return this.__data__[ke]=He&&Ue===void 0?"__lodash_hash_undefined__":Ue,this},at.prototype.clear=function(){this.__data__=[]},at.prototype.delete=function(ke){var Ue=this.__data__,Je=Ye(Ue,ke);return!(Je<0)&&(Je==Ue.length-1?Ue.pop():Le.call(Ue,Je,1),!0)},at.prototype.get=function(ke){var Ue=this.__data__,Je=Ye(Ue,ke);return Je<0?void 0:Ue[Je][1]},at.prototype.has=function(ke){return Ye(this.__data__,ke)>-1},at.prototype.set=function(ke,Ue){var Je=this.__data__,rt=Ye(Je,ke);return rt<0?Je.push([ke,Ue]):Je[rt][1]=Ue,this},ot.prototype.clear=function(){this.__data__={hash:new Ge,map:new(qe||at),string:new Ge}},ot.prototype.delete=function(ke){return Qe(this,ke).delete(ke)},ot.prototype.get=function(ke){return Qe(this,ke).get(ke)},ot.prototype.has=function(ke){return Qe(this,ke).has(ke)},ot.prototype.set=function(ke,Ue){return Qe(this,ke).set(ke,Ue),this},ze.Cache=ot,T.exports=ze}).call(this,I(3))},function(T,$,I){(function(N){var L=/^\s+|\s+$/g,B=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,z=/^0o[0-7]+$/i,Q=parseInt,te=typeof N=="object"&&N&&N.Object===Object&&N,G=typeof self=="object"&&self&&self.Object===Object&&self,ie=te||G||Function("return this")(),Re=Object.prototype.toString,$e=Math.max,Pe=Math.min,Me=function(){return ie.Date.now()};function Be(Le){var qe=typeof Le;return!!Le&&(qe=="object"||qe=="function")}function Ke(Le){if(typeof Le=="number")return Le;if(function(Ge){return typeof Ge=="symbol"||function(at){return!!at&&typeof at=="object"}(Ge)&&Re.call(Ge)=="[object Symbol]"}(Le))return NaN;if(Be(Le)){var qe=typeof Le.valueOf=="function"?Le.valueOf():Le;Le=Be(qe)?qe+"":qe}if(typeof Le!="string")return Le===0?Le:+Le;Le=Le.replace(L,"");var He=H.test(Le);return He||z.test(Le)?Q(Le.slice(2),He?2:8):B.test(Le)?NaN:+Le}T.exports=function(Le,qe,He){var Ge,at,ot,Ye,nt,Qe,tt=0,ze=!1,Fe=!1,ke=!0;if(typeof Le!="function")throw new TypeError("Expected a function");function Ue(Ve){var je=Ge,Ze=at;return Ge=at=void 0,tt=Ve,Ye=Le.apply(Ze,je)}function Je(Ve){return tt=Ve,nt=setTimeout(Xe,qe),ze?Ue(Ve):Ye}function rt(Ve){var je=Ve-Qe;return Qe===void 0||je>=qe||je<0||Fe&&Ve-tt>=ot}function Xe(){var Ve=Me();if(rt(Ve))return it(Ve);nt=setTimeout(Xe,function(je){var Ze=qe-(je-Qe);return Fe?Pe(Ze,ot-(je-tt)):Ze}(Ve))}function it(Ve){return nt=void 0,ke&&Ge?Ue(Ve):(Ge=at=void 0,Ye)}function We(){var Ve=Me(),je=rt(Ve);if(Ge=arguments,at=this,Qe=Ve,je){if(nt===void 0)return Je(Qe);if(Fe)return nt=setTimeout(Xe,qe),Ue(Qe)}return nt===void 0&&(nt=setTimeout(Xe,qe)),Ye}return qe=Ke(qe)||0,Be(He)&&(ze=!!He.leading,ot=(Fe="maxWait"in He)?$e(Ke(He.maxWait)||0,qe):ot,ke="trailing"in He?!!He.trailing:ke),We.cancel=function(){nt!==void 0&&clearTimeout(nt),tt=0,Ge=Qe=at=nt=void 0},We.flush=function(){return nt===void 0?Ye:it(Me())},We}}).call(this,I(3))},function(T,$,I){(function(N,L){var B="[object Arguments]",H="[object Map]",z="[object Object]",Q="[object Set]",te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,ie=/^\./,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$e=/\\(\\)?/g,Pe=/^\[object .+?Constructor\]$/,Me=/^(?:0|[1-9]\d*)$/,Be={};Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be[B]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object DataView]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be[H]=Be["[object Number]"]=Be[z]=Be["[object RegExp]"]=Be[Q]=Be["[object String]"]=Be["[object WeakMap]"]=!1;var Ke=typeof N=="object"&&N&&N.Object===Object&&N,Le=typeof self=="object"&&self&&self.Object===Object&&self,qe=Ke||Le||Function("return this")(),He=$&&!$.nodeType&&$,Ge=He&&typeof L=="object"&&L&&!L.nodeType&&L,at=Ge&&Ge.exports===He&&Ke.process,ot=function(){try{return at&&at.binding("util")}catch{}}(),Ye=ot&&ot.isTypedArray;function nt(er,Rr,Or,Fr){var Hr=-1,an=er?er.length:0;for(Fr&&an&&(Or=er[++Hr]);++Hr<an;)Or=Rr(Or,er[Hr],Hr,er);return Or}function Qe(er,Rr){for(var Or=-1,Fr=er?er.length:0;++Or<Fr;)if(Rr(er[Or],Or,er))return!0;return!1}function tt(er,Rr,Or,Fr,Hr){return Hr(er,function(an,cn,Rn){Or=Fr?(Fr=!1,an):Rr(Or,an,cn,Rn)}),Or}function ze(er){var Rr=!1;if(er!=null&&typeof er.toString!="function")try{Rr=!!(er+"")}catch{}return Rr}function Fe(er){var Rr=-1,Or=Array(er.size);return er.forEach(function(Fr,Hr){Or[++Rr]=[Hr,Fr]}),Or}function ke(er){var Rr=-1,Or=Array(er.size);return er.forEach(function(Fr){Or[++Rr]=Fr}),Or}var Ue,Je,rt,Xe=Array.prototype,it=Function.prototype,We=Object.prototype,Ve=qe["__core-js_shared__"],je=(Ue=/[^.]+$/.exec(Ve&&Ve.keys&&Ve.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",Ze=it.toString,st=We.hasOwnProperty,dt=We.toString,bt=RegExp("^"+Ze.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=qe.Symbol,St=qe.Uint8Array,Bt=We.propertyIsEnumerable,Gt=Xe.splice,Dt=(Je=Object.keys,rt=Object,function(er){return Je(rt(er))}),Mt=Wt(qe,"DataView"),pt=Wt(qe,"Map"),mt=Wt(qe,"Promise"),$t=Wt(qe,"Set"),kt=Wt(qe,"WeakMap"),Ft=Wt(Object,"create"),nr=lr(Mt),Yt=lr(pt),yr=lr(mt),gr=lr($t),br=lr(kt),cr=vt?vt.prototype:void 0,pr=cr?cr.valueOf:void 0,lt=cr?cr.toString:void 0;function ct(er){var Rr=-1,Or=er?er.length:0;for(this.clear();++Rr<Or;){var Fr=er[Rr];this.set(Fr[0],Fr[1])}}function Nt(er){var Rr=-1,Or=er?er.length:0;for(this.clear();++Rr<Or;){var Fr=er[Rr];this.set(Fr[0],Fr[1])}}function jt(er){var Rr=-1,Or=er?er.length:0;for(this.clear();++Rr<Or;){var Fr=er[Rr];this.set(Fr[0],Fr[1])}}function zt(er){var Rr=-1,Or=er?er.length:0;for(this.__data__=new jt;++Rr<Or;)this.add(er[Rr])}function Ot(er){this.__data__=new Nt(er)}function Rt(er,Rr){var Or=ur(er)||ir(er)?function(cn,Rn){for(var gn=-1,vn=Array(cn);++gn<cn;)vn[gn]=Rn(gn);return vn}(er.length,String):[],Fr=Or.length,Hr=!!Fr;for(var an in er)!st.call(er,an)||Hr&&(an=="length"||Tt(an,Fr))||Or.push(an);return Or}function It(er,Rr){for(var Or=er.length;Or--;)if(Xt(er[Or][0],Rr))return Or;return-1}ct.prototype.clear=function(){this.__data__=Ft?Ft(null):{}},ct.prototype.delete=function(er){return this.has(er)&&delete this.__data__[er]},ct.prototype.get=function(er){var Rr=this.__data__;if(Ft){var Or=Rr[er];return Or==="__lodash_hash_undefined__"?void 0:Or}return st.call(Rr,er)?Rr[er]:void 0},ct.prototype.has=function(er){var Rr=this.__data__;return Ft?Rr[er]!==void 0:st.call(Rr,er)},ct.prototype.set=function(er,Rr){return this.__data__[er]=Ft&&Rr===void 0?"__lodash_hash_undefined__":Rr,this},Nt.prototype.clear=function(){this.__data__=[]},Nt.prototype.delete=function(er){var Rr=this.__data__,Or=It(Rr,er);return!(Or<0)&&(Or==Rr.length-1?Rr.pop():Gt.call(Rr,Or,1),!0)},Nt.prototype.get=function(er){var Rr=this.__data__,Or=It(Rr,er);return Or<0?void 0:Rr[Or][1]},Nt.prototype.has=function(er){return It(this.__data__,er)>-1},Nt.prototype.set=function(er,Rr){var Or=this.__data__,Fr=It(Or,er);return Fr<0?Or.push([er,Rr]):Or[Fr][1]=Rr,this},jt.prototype.clear=function(){this.__data__={hash:new ct,map:new(pt||Nt),string:new ct}},jt.prototype.delete=function(er){return Pt(this,er).delete(er)},jt.prototype.get=function(er){return Pt(this,er).get(er)},jt.prototype.has=function(er){return Pt(this,er).has(er)},jt.prototype.set=function(er,Rr){return Pt(this,er).set(er,Rr),this},zt.prototype.add=zt.prototype.push=function(er){return this.__data__.set(er,"__lodash_hash_undefined__"),this},zt.prototype.has=function(er){return this.__data__.has(er)},Ot.prototype.clear=function(){this.__data__=new Nt},Ot.prototype.delete=function(er){return this.__data__.delete(er)},Ot.prototype.get=function(er){return this.__data__.get(er)},Ot.prototype.has=function(er){return this.__data__.has(er)},Ot.prototype.set=function(er,Rr){var Or=this.__data__;if(Or instanceof Nt){var Fr=Or.__data__;if(!pt||Fr.length<199)return Fr.push([er,Rr]),this;Or=this.__data__=new jt(Fr)}return Or.set(er,Rr),this};var Kt,tr=(Kt=function(er,Rr){return er&&dr(er,Rr,yn)},function(er,Rr){if(er==null)return er;if(!$r(er))return Kt(er,Rr);for(var Or=er.length,Fr=-1,Hr=Object(er);++Fr<Or&&Rr(Hr[Fr],Fr,Hr)!==!1;);return er}),dr=function(er){return function(Rr,Or,Fr){for(var Hr=-1,an=Object(Rr),cn=Fr(Rr),Rn=cn.length;Rn--;){var gn=cn[++Hr];if(Or(an[gn],gn,an)===!1)break}return Rr}}();function _r(er,Rr){for(var Or=0,Fr=(Rr=gt(Rr,er)?[Rr]:Kr(Rr)).length;er!=null&&Or<Fr;)er=er[Zt(Rr[Or++])];return Or&&Or==Fr?er:void 0}function Nr(er,Rr){return er!=null&&Rr in Object(er)}function qr(er,Rr,Or,Fr,Hr){return er===Rr||(er==null||Rr==null||!on(er)&&!rn(Rr)?er!=er&&Rr!=Rr:function(an,cn,Rn,gn,vn,_n){var kn=ur(an),An=ur(cn),Dn="[object Array]",In="[object Array]";kn||(Dn=(Dn=qt(an))==B?z:Dn),An||(In=(In=qt(cn))==B?z:In);var Qt=Dn==z&&!ze(an),vr=In==z&&!ze(cn),ar=Dn==In;if(ar&&!Qt)return _n||(_n=new Ot),kn||pn(an)?Yr(an,cn,Rn,gn,vn,_n):function(Ur,Vr,Gr,Zr,un,wn,fn){switch(Gr){case"[object DataView]":if(Ur.byteLength!=Vr.byteLength||Ur.byteOffset!=Vr.byteOffset)return!1;Ur=Ur.buffer,Vr=Vr.buffer;case"[object ArrayBuffer]":return!(Ur.byteLength!=Vr.byteLength||!Zr(new St(Ur),new St(Vr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xt(+Ur,+Vr);case"[object Error]":return Ur.name==Vr.name&&Ur.message==Vr.message;case"[object RegExp]":case"[object String]":return Ur==Vr+"";case H:var xn=Fe;case Q:var $n=2&wn;if(xn||(xn=ke),Ur.size!=Vr.size&&!$n)return!1;var On=fn.get(Ur);if(On)return On==Vr;wn|=1,fn.set(Ur,Vr);var Vn=Yr(xn(Ur),xn(Vr),Zr,un,wn,fn);return fn.delete(Ur),Vn;case"[object Symbol]":if(pr)return pr.call(Ur)==pr.call(Vr)}return!1}(an,cn,Dn,Rn,gn,vn,_n);if(!(2&vn)){var Sr=Qt&&st.call(an,"__wrapped__"),Tr=vr&&st.call(cn,"__wrapped__");if(Sr||Tr){var wr=Sr?an.value():an,jr=Tr?cn.value():cn;return _n||(_n=new Ot),Rn(wr,jr,gn,vn,_n)}}return ar?(_n||(_n=new Ot),function(Ur,Vr,Gr,Zr,un,wn){var fn=2&un,xn=yn(Ur),$n=xn.length,On=yn(Vr).length;if($n!=On&&!fn)return!1;for(var Vn=$n;Vn--;){var Jn=xn[Vn];if(!(fn?Jn in Vr:st.call(Vr,Jn)))return!1}var Wi=wn.get(Ur);if(Wi&&wn.get(Vr))return Wi==Vr;var Hi=!0;wn.set(Ur,Vr),wn.set(Vr,Ur);for(var Ni=fn;++Vn<$n;){Jn=xn[Vn];var zi=Ur[Jn],si=Vr[Jn];if(Zr)var zn=fn?Zr(si,zi,Jn,Vr,Ur,wn):Zr(zi,si,Jn,Ur,Vr,wn);if(!(zn===void 0?zi===si||Gr(zi,si,Zr,un,wn):zn)){Hi=!1;break}Ni||(Ni=Jn=="constructor")}if(Hi&&!Ni){var Zn=Ur.constructor,di=Vr.constructor;Zn==di||!("constructor"in Ur)||!("constructor"in Vr)||typeof Zn=="function"&&Zn instanceof Zn&&typeof di=="function"&&di instanceof di||(Hi=!1)}return wn.delete(Ur),wn.delete(Vr),Hi}(an,cn,Rn,gn,vn,_n)):!1}(er,Rr,qr,Or,Fr,Hr))}function Br(er){return!(!on(er)||function(Rr){return!!je&&je in Rr}(er))&&(xr(er)||ze(er)?bt:Pe).test(lr(er))}function Qr(er){return typeof er=="function"?er:er==null?ln:typeof er=="object"?ur(er)?function(Fr,Hr){return gt(Fr)&&Et(Hr)?wt(Zt(Fr),Hr):function(an){var cn=function(Rn,gn,vn){var _n=Rn==null?void 0:_r(Rn,gn);return _n===void 0?vn:_n}(an,Fr);return cn===void 0&&cn===Hr?function(Rn,gn){return Rn!=null&&function(vn,_n,kn){_n=gt(_n,vn)?[_n]:Kr(_n);for(var An,Dn=-1,In=_n.length;++Dn<In;){var Qt=Zt(_n[Dn]);if(!(An=vn!=null&&kn(vn,Qt)))break;vn=vn[Qt]}return An||!!(In=vn?vn.length:0)&&Lr(In)&&Tt(Qt,In)&&(ur(vn)||ir(vn))}(Rn,gn,Nr)}(an,Fr):qr(Hr,cn,void 0,3)}}(er[0],er[1]):function(Fr){var Hr=function(an){for(var cn=yn(an),Rn=cn.length;Rn--;){var gn=cn[Rn],vn=an[gn];cn[Rn]=[gn,vn,Et(vn)]}return cn}(Fr);return Hr.length==1&&Hr[0][2]?wt(Hr[0][0],Hr[0][1]):function(an){return an===Fr||function(cn,Rn,gn,vn){var _n=gn.length,kn=_n;if(cn==null)return!kn;for(cn=Object(cn);_n--;){var An=gn[_n];if(An[2]?An[1]!==cn[An[0]]:!(An[0]in cn))return!1}for(;++_n<kn;){var Dn=(An=gn[_n])[0],In=cn[Dn],Qt=An[1];if(An[2]){if(In===void 0&&!(Dn in cn))return!1}else{var vr=new Ot,ar;if(!(ar===void 0?qr(Qt,In,vn,3,vr):ar))return!1}}return!0}(an,Fr,Hr)}}(er):gt(Rr=er)?(Or=Zt(Rr),function(Fr){return Fr==null?void 0:Fr[Or]}):function(Fr){return function(Hr){return _r(Hr,Fr)}}(Rr);var Rr,Or}function Wr(er){if(Or=(Rr=er)&&Rr.constructor,Fr=typeof Or=="function"&&Or.prototype||We,Rr!==Fr)return Dt(er);var Rr,Or,Fr,Hr=[];for(var an in Object(er))st.call(er,an)&&an!="constructor"&&Hr.push(an);return Hr}function Kr(er){return ur(er)?er:Lt(er)}function Yr(er,Rr,Or,Fr,Hr,an){var cn=2&Hr,Rn=er.length,gn=Rr.length;if(Rn!=gn&&!(cn&&gn>Rn))return!1;var vn=an.get(er);if(vn&&an.get(Rr))return vn==Rr;var _n=-1,kn=!0,An=1&Hr?new zt:void 0;for(an.set(er,Rr),an.set(Rr,er);++_n<Rn;){var Dn=er[_n],In=Rr[_n];if(Fr)var Qt=cn?Fr(In,Dn,_n,Rr,er,an):Fr(Dn,In,_n,er,Rr,an);if(Qt!==void 0){if(Qt)continue;kn=!1;break}if(An){if(!Qe(Rr,function(vr,ar){if(!An.has(ar)&&(Dn===vr||Or(Dn,vr,Fr,Hr,an)))return An.add(ar)})){kn=!1;break}}else if(Dn!==In&&!Or(Dn,In,Fr,Hr,an)){kn=!1;break}}return an.delete(er),an.delete(Rr),kn}function Pt(er,Rr){var Or,Fr,Hr=er.__data__;return((Fr=typeof(Or=Rr))=="string"||Fr=="number"||Fr=="symbol"||Fr=="boolean"?Or!=="__proto__":Or===null)?Hr[typeof Rr=="string"?"string":"hash"]:Hr.map}function Wt(er,Rr){var Or=function(Fr,Hr){return Fr==null?void 0:Fr[Hr]}(er,Rr);return Br(Or)?Or:void 0}var qt=function(er){return dt.call(er)};function Tt(er,Rr){return!!(Rr=Rr??9007199254740991)&&(typeof er=="number"||Me.test(er))&&er>-1&&er%1==0&&er<Rr}function gt(er,Rr){if(ur(er))return!1;var Or=typeof er;return!(Or!="number"&&Or!="symbol"&&Or!="boolean"&&er!=null&&!tn(er))||G.test(er)||!te.test(er)||Rr!=null&&er in Object(Rr)}function Et(er){return er==er&&!on(er)}function wt(er,Rr){return function(Or){return Or!=null&&Or[er]===Rr&&(Rr!==void 0||er in Object(Or))}}(Mt&&qt(new Mt(new ArrayBuffer(1)))!="[object DataView]"||pt&&qt(new pt)!=H||mt&&qt(mt.resolve())!="[object Promise]"||$t&&qt(new $t)!=Q||kt&&qt(new kt)!="[object WeakMap]")&&(qt=function(er){var Rr=dt.call(er),Or=Rr==z?er.constructor:void 0,Fr=Or?lr(Or):void 0;if(Fr)switch(Fr){case nr:return"[object DataView]";case Yt:return H;case yr:return"[object Promise]";case gr:return Q;case br:return"[object WeakMap]"}return Rr});var Lt=Ht(function(er){var Rr;er=(Rr=er)==null?"":function(Fr){if(typeof Fr=="string")return Fr;if(tn(Fr))return lt?lt.call(Fr):"";var Hr=Fr+"";return Hr=="0"&&1/Fr==-1/0?"-0":Hr}(Rr);var Or=[];return ie.test(er)&&Or.push(""),er.replace(Re,function(Fr,Hr,an,cn){Or.push(an?cn.replace($e,"$1"):Hr||Fr)}),Or});function Zt(er){if(typeof er=="string"||tn(er))return er;var Rr=er+"";return Rr=="0"&&1/er==-1/0?"-0":Rr}function lr(er){if(er!=null){try{return Ze.call(er)}catch{}try{return er+""}catch{}}return""}function Ht(er,Rr){if(typeof er!="function"||Rr&&typeof Rr!="function")throw new TypeError("Expected a function");var Or=function(){var Fr=arguments,Hr=Rr?Rr.apply(this,Fr):Fr[0],an=Or.cache;if(an.has(Hr))return an.get(Hr);var cn=er.apply(this,Fr);return Or.cache=an.set(Hr,cn),cn};return Or.cache=new(Ht.Cache||jt),Or}function Xt(er,Rr){return er===Rr||er!=er&&Rr!=Rr}function ir(er){return function(Rr){return rn(Rr)&&$r(Rr)}(er)&&st.call(er,"callee")&&(!Bt.call(er,"callee")||dt.call(er)==B)}Ht.Cache=jt;var ur=Array.isArray;function $r(er){return er!=null&&Lr(er.length)&&!xr(er)}function xr(er){var Rr=on(er)?dt.call(er):"";return Rr=="[object Function]"||Rr=="[object GeneratorFunction]"}function Lr(er){return typeof er=="number"&&er>-1&&er%1==0&&er<=9007199254740991}function on(er){var Rr=typeof er;return!!er&&(Rr=="object"||Rr=="function")}function rn(er){return!!er&&typeof er=="object"}function tn(er){return typeof er=="symbol"||rn(er)&&dt.call(er)=="[object Symbol]"}var pn=Ye?function(er){return function(Rr){return er(Rr)}}(Ye):function(er){return rn(er)&&Lr(er.length)&&!!Be[dt.call(er)]};function yn(er){return $r(er)?Rt(er):Wr(er)}function ln(er){return er}L.exports=function(er,Rr,Or){var Fr=ur(er)?nt:tt,Hr=arguments.length<3;return Fr(er,Qr(Rr),Or,Hr,tr)}}).call(this,I(3),I(7)(T))},function(T,$){T.exports=function(I){return I.webpackPolyfill||(I.deprecate=function(){},I.paths=[],I.children||(I.children=[]),Object.defineProperty(I,"loaded",{enumerable:!0,get:function(){return I.l}}),Object.defineProperty(I,"id",{enumerable:!0,get:function(){return I.i}}),I.webpackPolyfill=1),I}},function(T,$){String.prototype.padEnd||(String.prototype.padEnd=function(I,N){return I>>=0,N=String(N!==void 0?N:" "),this.length>I?String(this):((I-=this.length)>N.length&&(N+=N.repeat(I/N.length)),String(this)+N.slice(0,I))})},function(T,$,I){function N(We,Ve,je){return Ve in We?Object.defineProperty(We,Ve,{value:je,enumerable:!0,configurable:!0,writable:!0}):We[Ve]=je,We}function L(We){if(Symbol.iterator in Object(We)||Object.prototype.toString.call(We)==="[object Arguments]")return Array.from(We)}function B(We){return function(Ve){if(Array.isArray(Ve)){for(var je=0,Ze=new Array(Ve.length);je<Ve.length;je++)Ze[je]=Ve[je];return Ze}}(We)||L(We)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(We){if(Array.isArray(We))return We}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Q(We,Ve){if(!(We instanceof Ve))throw new TypeError("Cannot call a class as a function")}function te(We,Ve){for(var je=0;je<Ve.length;je++){var Ze=Ve[je];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(We,Ze.key,Ze)}}function G(We){return(G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ve){return typeof Ve}:function(Ve){return Ve&&typeof Symbol=="function"&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve})(We)}function ie(We){return(ie=typeof Symbol=="function"&&G(Symbol.iterator)==="symbol"?function(Ve){return G(Ve)}:function(Ve){return Ve&&typeof Symbol=="function"&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":G(Ve)})(We)}function Re(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We}function $e(We){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(Ve){return Ve.__proto__||Object.getPrototypeOf(Ve)})(We)}function Pe(We,Ve){return(Pe=Object.setPrototypeOf||function(je,Ze){return je.__proto__=Ze,je})(We,Ve)}I.r($);var Me=I(0),Be=I.n(Me),Ke=I(5),Le=I.n(Ke),qe=I(4),He=I.n(qe),Ge=I(6),at=I.n(Ge),ot=I(2),Ye=I.n(ot),nt=I(1),Qe=I.n(nt);I(8);function tt(We,Ve){return H(We)||function(je,Ze){var st=[],dt=!0,bt=!1,vt=void 0;try{for(var St,Bt=je[Symbol.iterator]();!(dt=(St=Bt.next()).done)&&(st.push(St.value),!Ze||st.length!==Ze);dt=!0);}catch(Gt){bt=!0,vt=Gt}finally{try{dt||Bt.return==null||Bt.return()}finally{if(bt)throw vt}}return st}(We,Ve)||z()}var ze=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],Fe=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthélemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function ke(We,Ve,je,Ze,st){return!je||st?We+"".padEnd(Ve.length,".")+" "+Ze:We+"".padEnd(Ve.length,".")+" "+je}function Ue(We,Ve,je,Ze,st){var dt,bt,vt=[];return bt=Ve===!0,[(dt=[]).concat.apply(dt,B(We.map(function(St){var Bt={name:St[0],regions:St[1],iso2:St[2],countryCode:St[3],dialCode:St[3],format:ke(je,St[3],St[4],Ze,st),priority:St[5]||0},Gt=[];return St[6]&&St[6].map(function(Dt){var Mt=function(pt){for(var mt=1;mt<arguments.length;mt++){var $t=arguments[mt]!=null?arguments[mt]:{},kt=Object.keys($t);typeof Object.getOwnPropertySymbols=="function"&&(kt=kt.concat(Object.getOwnPropertySymbols($t).filter(function(Ft){return Object.getOwnPropertyDescriptor($t,Ft).enumerable}))),kt.forEach(function(Ft){N(pt,Ft,$t[Ft])})}return pt}({},Bt);Mt.dialCode=St[3]+Dt,Mt.isAreaCode=!0,Mt.areaCodeLength=Dt.length,Gt.push(Mt)}),Gt.length>0?(Bt.mainCode=!0,bt||Ve.constructor.name==="Array"&&Ve.includes(St[2])?(Bt.hasAreaCodes=!0,[Bt].concat(Gt)):(vt=vt.concat(Gt),[Bt])):[Bt]}))),vt]}function Je(We,Ve,je,Ze){if(je!==null){var st=Object.keys(je),dt=Object.values(je);st.forEach(function(bt,vt){if(Ze)return We.push([bt,dt[vt]]);var St=We.findIndex(function(Gt){return Gt[0]===bt});if(St===-1){var Bt=[bt];Bt[Ve]=dt[vt],We.push(Bt)}else We[St][Ve]=dt[vt]})}}function rt(We,Ve){return Ve.length===0?We:We.map(function(je){var Ze=Ve.findIndex(function(dt){return dt[0]===je[2]});if(Ze===-1)return je;var st=Ve[Ze];return st[1]&&(je[4]=st[1]),st[3]&&(je[5]=st[3]),st[2]&&(je[6]=st[2]),je})}var Xe=function We(Ve,je,Ze,st,dt,bt,vt,St,Bt,Gt,Dt,Mt,pt,mt){Q(this,We),this.filterRegions=function(cr,pr){if(typeof cr=="string"){var lt=cr;return pr.filter(function(ct){return ct.regions.some(function(Nt){return Nt===lt})})}return pr.filter(function(ct){return cr.map(function(Nt){return ct.regions.some(function(jt){return jt===Nt})}).some(function(Nt){return Nt})})},this.sortTerritories=function(cr,pr){var lt=[].concat(B(cr),B(pr));return lt.sort(function(ct,Nt){return ct.name<Nt.name?-1:ct.name>Nt.name?1:0}),lt},this.getFilteredCountryList=function(cr,pr,lt){return cr.length===0?pr:lt?cr.map(function(ct){var Nt=pr.find(function(jt){return jt.iso2===ct});if(Nt)return Nt}).filter(function(ct){return ct}):pr.filter(function(ct){return cr.some(function(Nt){return Nt===ct.iso2})})},this.localizeCountries=function(cr,pr,lt){for(var ct=0;ct<cr.length;ct++)pr[cr[ct].iso2]!==void 0?cr[ct].localName=pr[cr[ct].iso2]:pr[cr[ct].name]!==void 0&&(cr[ct].localName=pr[cr[ct].name]);return lt||cr.sort(function(Nt,jt){return Nt.localName<jt.localName?-1:Nt.localName>jt.localName?1:0}),cr},this.getCustomAreas=function(cr,pr){for(var lt=[],ct=0;ct<pr.length;ct++){var Nt=JSON.parse(JSON.stringify(cr));Nt.dialCode+=pr[ct],lt.push(Nt)}return lt},this.excludeCountries=function(cr,pr){return pr.length===0?cr:cr.filter(function(lt){return!pr.includes(lt.iso2)})};var $t=function(cr,pr,lt){var ct=[];return Je(ct,1,cr,!0),Je(ct,3,pr),Je(ct,2,lt),ct}(St,Bt,Gt),kt=rt(JSON.parse(JSON.stringify(ze)),$t),Ft=rt(JSON.parse(JSON.stringify(Fe)),$t),nr=tt(Ue(kt,Ve,Mt,pt,mt),2),Yt=nr[0],yr=nr[1];if(je){var gr=tt(Ue(Ft,Ve,Mt,pt,mt),2),br=gr[0];gr[1],Yt=this.sortTerritories(br,Yt)}Ze&&(Yt=this.filterRegions(Ze,Yt)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(st,Yt,vt.includes("onlyCountries")),bt),Dt,vt.includes("onlyCountries")),this.preferredCountries=dt.length===0?[]:this.localizeCountries(this.getFilteredCountryList(dt,Yt,vt.includes("preferredCountries")),Dt,vt.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(st,yr),bt)},it=function(We){function Ve(st){var dt;Q(this,Ve),(dt=function($t,kt){return!kt||ie(kt)!=="object"&&typeof kt!="function"?Re($t):kt}(this,$e(Ve).call(this,st))).getProbableCandidate=He()(function($t){return $t&&$t.length!==0?dt.state.onlyCountries.filter(function(kt){return Ye()(kt.name.toLowerCase(),$t.toLowerCase())},Re(Re(dt)))[0]:null}),dt.guessSelectedCountry=He()(function($t,kt,Ft,nr){var Yt;if(dt.props.enableAreaCodes===!1&&(nr.some(function(br){if(Ye()($t,br.dialCode))return Ft.some(function(cr){if(br.iso2===cr.iso2&&cr.mainCode)return Yt=cr,!0}),!0}),Yt))return Yt;var yr=Ft.find(function(br){return br.iso2==kt});if($t.trim()==="")return yr;var gr=Ft.reduce(function(br,cr){return Ye()($t,cr.dialCode)&&(cr.dialCode.length>br.dialCode.length||cr.dialCode.length===br.dialCode.length&&cr.priority<br.priority)?cr:br},{dialCode:"",priority:10001},Re(Re(dt)));return gr.name?gr:yr}),dt.updateCountry=function($t){var kt,Ft=dt.state.onlyCountries;(kt=$t.indexOf(0)>="0"&&$t.indexOf(0)<="9"?Ft.find(function(nr){return nr.dialCode==+$t}):Ft.find(function(nr){return nr.iso2==$t}))&&kt.dialCode&&dt.setState({selectedCountry:kt,formattedNumber:dt.props.disableCountryCode?"":dt.formatNumber(kt.dialCode,kt)})},dt.scrollTo=function($t,kt){if($t){var Ft=dt.dropdownRef;if(Ft&&document.body){var nr=Ft.offsetHeight,Yt=Ft.getBoundingClientRect().top+document.body.scrollTop,yr=Yt+nr,gr=$t,br=gr.getBoundingClientRect(),cr=gr.offsetHeight,pr=br.top+document.body.scrollTop,lt=pr+cr,ct=pr-Yt+Ft.scrollTop,Nt=nr/2-cr/2;if(dt.props.enableSearch?pr<Yt+32:pr<Yt)kt&&(ct-=Nt),Ft.scrollTop=ct;else if(lt>yr){kt&&(ct+=Nt);var jt=nr-cr;Ft.scrollTop=ct-jt}}}},dt.scrollToTop=function(){var $t=dt.dropdownRef;$t&&document.body&&($t.scrollTop=0)},dt.formatNumber=function($t,kt){if(!kt)return $t;var Ft,nr=kt.format,Yt=dt.props,yr=Yt.disableCountryCode,gr=Yt.enableAreaCodeStretch,br=Yt.enableLongNumbers,cr=Yt.autoFormat;if(yr?((Ft=nr.split(" ")).shift(),Ft=Ft.join(" ")):gr&&kt.isAreaCode?((Ft=nr.split(" "))[1]=Ft[1].replace(/\.+/,"".padEnd(kt.areaCodeLength,".")),Ft=Ft.join(" ")):Ft=nr,!$t||$t.length===0)return yr?"":dt.props.prefix;if($t&&$t.length<2||!Ft||!cr)return yr?$t:dt.props.prefix+$t;var pr,lt=at()(Ft,function(ct,Nt){if(ct.remainingText.length===0)return ct;if(Nt!==".")return{formattedText:ct.formattedText+Nt,remainingText:ct.remainingText};var jt,zt=H(jt=ct.remainingText)||L(jt)||z(),Ot=zt[0],Rt=zt.slice(1);return{formattedText:ct.formattedText+Ot,remainingText:Rt}},{formattedText:"",remainingText:$t.split("")});return(pr=br?lt.formattedText+lt.remainingText.join(""):lt.formattedText).includes("(")&&!pr.includes(")")&&(pr+=")"),pr},dt.cursorToEnd=function(){var $t=dt.numberInputRef;if(document.activeElement===$t){$t.focus();var kt=$t.value.length;$t.value.charAt(kt-1)===")"&&(kt-=1),$t.setSelectionRange(kt,kt)}},dt.getElement=function($t){return dt["flag_no_".concat($t)]},dt.getCountryData=function(){return dt.state.selectedCountry?{name:dt.state.selectedCountry.name||"",dialCode:dt.state.selectedCountry.dialCode||"",countryCode:dt.state.selectedCountry.iso2||"",format:dt.state.selectedCountry.format||""}:{}},dt.handleFlagDropdownClick=function($t){if($t.preventDefault(),dt.state.showDropdown||!dt.props.disabled){var kt=dt.state,Ft=kt.preferredCountries,nr=kt.onlyCountries,Yt=kt.selectedCountry,yr=dt.concatPreferredCountries(Ft,nr).findIndex(function(gr){return gr.dialCode===Yt.dialCode&&gr.iso2===Yt.iso2});dt.setState({showDropdown:!dt.state.showDropdown,highlightCountryIndex:yr},function(){dt.state.showDropdown&&dt.scrollTo(dt.getElement(dt.state.highlightCountryIndex))})}},dt.handleInput=function($t){var kt=$t.target.value,Ft=dt.props,nr=Ft.prefix,Yt=Ft.onChange,yr=dt.props.disableCountryCode?"":nr,gr=dt.state.selectedCountry,br=dt.state.freezeSelection;if(!dt.props.countryCodeEditable){var cr=nr+(gr.hasAreaCodes?dt.state.onlyCountries.find(function(tr){return tr.iso2===gr.iso2&&tr.mainCode}).dialCode:gr.dialCode);if(kt.slice(0,cr.length)!==cr)return}if(kt===nr)return Yt&&Yt("",dt.getCountryData(),$t,""),dt.setState({formattedNumber:""});if(!(kt.replace(/\D/g,"").length>15&&(dt.props.enableLongNumbers===!1||typeof dt.props.enableLongNumbers=="number"&&kt.replace(/\D/g,"").length>dt.props.enableLongNumbers))&&kt!==dt.state.formattedNumber){$t.preventDefault?$t.preventDefault():$t.returnValue=!1;var pr=dt.props.country,lt=dt.state,ct=lt.onlyCountries,Nt=lt.selectedCountry,jt=lt.hiddenAreaCodes;if(Yt&&$t.persist(),kt.length>0){var zt=kt.replace(/\D/g,"");(!dt.state.freezeSelection||Nt&&Nt.dialCode.length>zt.length)&&(gr=dt.props.disableCountryGuess?Nt:dt.guessSelectedCountry(zt.substring(0,6),pr,ct,jt)||Nt,br=!1),yr=dt.formatNumber(zt,gr),gr=gr.dialCode?gr:Nt}var Ot=$t.target.selectionStart,Rt=$t.target.selectionStart,It=dt.state.formattedNumber,Kt=yr.length-It.length;dt.setState({formattedNumber:yr,freezeSelection:br,selectedCountry:gr},function(){Kt>0&&(Rt-=Kt),yr.charAt(yr.length-1)==")"?dt.numberInputRef.setSelectionRange(yr.length-1,yr.length-1):Rt>0&&It.length>=yr.length?dt.numberInputRef.setSelectionRange(Rt,Rt):Ot<It.length&&dt.numberInputRef.setSelectionRange(Ot,Ot),Yt&&Yt(yr.replace(/[^0-9]+/g,""),dt.getCountryData(),$t,yr)})}},dt.handleInputClick=function($t){dt.setState({showDropdown:!1}),dt.props.onClick&&dt.props.onClick($t,dt.getCountryData())},dt.handleDoubleClick=function($t){var kt=$t.target.value.length;$t.target.setSelectionRange(0,kt)},dt.handleFlagItemClick=function($t,kt){var Ft=dt.state.selectedCountry,nr=dt.state.onlyCountries.find(function(br){return br==$t});if(nr){var Yt=dt.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),yr=Yt.length>1?Yt.replace(Ft.dialCode,nr.dialCode):nr.dialCode,gr=dt.formatNumber(yr.replace(/\D/g,""),nr);dt.setState({showDropdown:!1,selectedCountry:nr,freezeSelection:!0,formattedNumber:gr,searchValue:""},function(){dt.cursorToEnd(),dt.props.onChange&&dt.props.onChange(gr.replace(/[^0-9]+/g,""),dt.getCountryData(),kt,gr)})}},dt.handleInputFocus=function($t){dt.numberInputRef&&dt.numberInputRef.value===dt.props.prefix&&dt.state.selectedCountry&&!dt.props.disableCountryCode&&dt.setState({formattedNumber:dt.props.prefix+dt.state.selectedCountry.dialCode},function(){dt.props.jumpCursorToEnd&&setTimeout(dt.cursorToEnd,0)}),dt.setState({placeholder:""}),dt.props.onFocus&&dt.props.onFocus($t,dt.getCountryData()),dt.props.jumpCursorToEnd&&setTimeout(dt.cursorToEnd,0)},dt.handleInputBlur=function($t){$t.target.value||dt.setState({placeholder:dt.props.placeholder}),dt.props.onBlur&&dt.props.onBlur($t,dt.getCountryData())},dt.handleInputCopy=function($t){if(dt.props.copyNumbersOnly){var kt=window.getSelection().toString().replace(/[^0-9]+/g,"");$t.clipboardData.setData("text/plain",kt),$t.preventDefault()}},dt.getHighlightCountryIndex=function($t){var kt=dt.state.highlightCountryIndex+$t;return kt<0||kt>=dt.state.onlyCountries.length+dt.state.preferredCountries.length?kt-$t:dt.props.enableSearch&&kt>dt.getSearchFilteredCountries().length?0:kt},dt.searchCountry=function(){var $t=dt.getProbableCandidate(dt.state.queryString)||dt.state.onlyCountries[0],kt=dt.state.onlyCountries.findIndex(function(Ft){return Ft==$t})+dt.state.preferredCountries.length;dt.scrollTo(dt.getElement(kt),!0),dt.setState({queryString:"",highlightCountryIndex:kt})},dt.handleKeydown=function($t){var kt=dt.props.keys,Ft=$t.target.className;if(Ft.includes("selected-flag")&&$t.which===kt.ENTER&&!dt.state.showDropdown)return dt.handleFlagDropdownClick($t);if(Ft.includes("form-control")&&($t.which===kt.ENTER||$t.which===kt.ESC))return $t.target.blur();if(dt.state.showDropdown&&!dt.props.disabled&&(!Ft.includes("search-box")||$t.which===kt.UP||$t.which===kt.DOWN||$t.which===kt.ENTER||$t.which===kt.ESC&&$t.target.value==="")){$t.preventDefault?$t.preventDefault():$t.returnValue=!1;var nr=function(Yt){dt.setState({highlightCountryIndex:dt.getHighlightCountryIndex(Yt)},function(){dt.scrollTo(dt.getElement(dt.state.highlightCountryIndex),!0)})};switch($t.which){case kt.DOWN:nr(1);break;case kt.UP:nr(-1);break;case kt.ENTER:dt.props.enableSearch?dt.handleFlagItemClick(dt.getSearchFilteredCountries()[dt.state.highlightCountryIndex]||dt.getSearchFilteredCountries()[0],$t):dt.handleFlagItemClick([].concat(B(dt.state.preferredCountries),B(dt.state.onlyCountries))[dt.state.highlightCountryIndex],$t);break;case kt.ESC:case kt.TAB:dt.setState({showDropdown:!1},dt.cursorToEnd);break;default:($t.which>=kt.A&&$t.which<=kt.Z||$t.which===kt.SPACE)&&dt.setState({queryString:dt.state.queryString+String.fromCharCode($t.which)},dt.state.debouncedQueryStingSearcher)}}},dt.handleInputKeyDown=function($t){var kt=dt.props,Ft=kt.keys,nr=kt.onEnterKeyPress,Yt=kt.onKeyDown;$t.which===Ft.ENTER&&nr&&nr($t),Yt&&Yt($t)},dt.handleClickOutside=function($t){dt.dropdownRef&&!dt.dropdownContainerRef.contains($t.target)&&dt.state.showDropdown&&dt.setState({showDropdown:!1})},dt.handleSearchChange=function($t){var kt=$t.currentTarget.value,Ft=dt.state,nr=Ft.preferredCountries,Yt=Ft.selectedCountry,yr=0;if(kt===""&&Yt){var gr=dt.state.onlyCountries;yr=dt.concatPreferredCountries(nr,gr).findIndex(function(br){return br==Yt}),setTimeout(function(){return dt.scrollTo(dt.getElement(yr))},100)}dt.setState({searchValue:kt,highlightCountryIndex:yr})},dt.concatPreferredCountries=function($t,kt){return $t.length>0?B(new Set($t.concat(kt))):kt},dt.getDropdownCountryName=function($t){return $t.localName||$t.name},dt.getSearchFilteredCountries=function(){var $t=dt.state,kt=$t.preferredCountries,Ft=$t.onlyCountries,nr=$t.searchValue,Yt=dt.props.enableSearch,yr=dt.concatPreferredCountries(kt,Ft),gr=nr.trim().toLowerCase().replace("+","");if(Yt&&gr){if(/^\d+$/.test(gr))return yr.filter(function(pr){var lt=pr.dialCode;return["".concat(lt)].some(function(ct){return ct.toLowerCase().includes(gr)})});var br=yr.filter(function(pr){var lt=pr.iso2;return["".concat(lt)].some(function(ct){return ct.toLowerCase().includes(gr)})}),cr=yr.filter(function(pr){var lt=pr.name,ct=pr.localName;return pr.iso2,["".concat(lt),"".concat(ct||"")].some(function(Nt){return Nt.toLowerCase().includes(gr)})});return dt.scrollToTop(),B(new Set([].concat(br,cr)))}return yr},dt.getCountryDropdownList=function(){var $t=dt.state,kt=$t.preferredCountries,Ft=$t.highlightCountryIndex,nr=$t.showDropdown,Yt=$t.searchValue,yr=dt.props,gr=yr.disableDropdown,br=yr.prefix,cr=dt.props,pr=cr.enableSearch,lt=cr.searchNotFound,ct=cr.disableSearchIcon,Nt=cr.searchClass,jt=cr.searchStyle,zt=cr.searchPlaceholder,Ot=cr.autocompleteSearch,Rt=dt.getSearchFilteredCountries().map(function(tr,dr){var _r=Ft===dr,Nr=Qe()({country:!0,preferred:tr.iso2==="us"||tr.iso2==="gb",active:tr.iso2==="us",highlight:_r}),qr="flag ".concat(tr.iso2);return Be.a.createElement("li",Object.assign({ref:function(Br){return dt["flag_no_".concat(dr)]=Br},key:"flag_no_".concat(dr),"data-flag-key":"flag_no_".concat(dr),className:Nr,"data-dial-code":"1",tabIndex:gr?"-1":"0","data-country-code":tr.iso2,onClick:function(Br){return dt.handleFlagItemClick(tr,Br)},role:"option"},_r?{"aria-selected":!0}:{}),Be.a.createElement("div",{className:qr}),Be.a.createElement("span",{className:"country-name"},dt.getDropdownCountryName(tr)),Be.a.createElement("span",{className:"dial-code"},tr.format?dt.formatNumber(tr.dialCode,tr):br+tr.dialCode))}),It=Be.a.createElement("li",{key:"dashes",className:"divider"});kt.length>0&&(!pr||pr&&!Yt.trim())&&Rt.splice(kt.length,0,It);var Kt=Qe()(N({"country-list":!0,hide:!nr},dt.props.dropdownClass,!0));return Be.a.createElement("ul",{ref:function(tr){return!pr&&tr&&tr.focus(),dt.dropdownRef=tr},className:Kt,style:dt.props.dropdownStyle,role:"listbox",tabIndex:"0"},pr&&Be.a.createElement("li",{className:Qe()(N({search:!0},Nt,Nt))},!ct&&Be.a.createElement("span",{className:Qe()(N({"search-emoji":!0},"".concat(Nt,"-emoji"),Nt)),role:"img","aria-label":"Magnifying glass"},"🔎"),Be.a.createElement("input",{className:Qe()(N({"search-box":!0},"".concat(Nt,"-box"),Nt)),style:jt,type:"search",placeholder:zt,autoFocus:!0,autoComplete:Ot?"on":"off",value:Yt,onChange:dt.handleSearchChange})),Rt.length>0?Rt:Be.a.createElement("li",{className:"no-entries-message"},Be.a.createElement("span",null,lt)))};var bt,vt=new Xe(st.enableAreaCodes,st.enableTerritories,st.regions,st.onlyCountries,st.preferredCountries,st.excludeCountries,st.preserveOrder,st.masks,st.priority,st.areaCodes,st.localization,st.prefix,st.defaultMask,st.alwaysDefaultMask),St=vt.onlyCountries,Bt=vt.preferredCountries,Gt=vt.hiddenAreaCodes,Dt=st.value?st.value.replace(/\D/g,""):"";bt=st.disableInitialCountryGuess?0:Dt.length>1?dt.guessSelectedCountry(Dt.substring(0,6),st.country,St,Gt)||0:st.country&&St.find(function($t){return $t.iso2==st.country})||0;var Mt,pt=Dt.length<2&&bt&&!Ye()(Dt,bt.dialCode)?bt.dialCode:"";Mt=Dt===""&&bt===0?"":dt.formatNumber((st.disableCountryCode?"":pt)+Dt,bt.name?bt:void 0);var mt=St.findIndex(function($t){return $t==bt});return dt.state={showDropdown:st.showDropdown,formattedNumber:Mt,onlyCountries:St,preferredCountries:Bt,hiddenAreaCodes:Gt,selectedCountry:bt,highlightCountryIndex:mt,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:Le()(dt.searchCountry,250),searchValue:""},dt}var je,Ze;return function(st,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");st.prototype=Object.create(dt&&dt.prototype,{constructor:{value:st,writable:!0,configurable:!0}}),dt&&Pe(st,dt)}(Ve,We),je=Ve,(Ze=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(st,dt,bt){st.country!==this.props.country?this.updateCountry(this.props.country):st.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(st){if(st===null)return this.setState({selectedCountry:0,formattedNumber:""});var dt=this.state,bt=dt.onlyCountries,vt=dt.selectedCountry,St=dt.hiddenAreaCodes,Bt=this.props,Gt=Bt.country,Dt=Bt.prefix;if(st==="")return this.setState({selectedCountry:vt,formattedNumber:""});var Mt,pt,mt=st.replace(/\D/g,"");if(vt&&Ye()(st,Dt+vt.dialCode))pt=this.formatNumber(mt,vt),this.setState({formattedNumber:pt});else{var $t=(Mt=this.props.disableCountryGuess?vt:this.guessSelectedCountry(mt.substring(0,6),Gt,bt,St)||vt)&&Ye()(mt,Dt+Mt.dialCode)?Mt.dialCode:"";pt=this.formatNumber((this.props.disableCountryCode?"":$t)+mt,Mt||void 0),this.setState({selectedCountry:Mt,formattedNumber:pt})}}},{key:"render",value:function(){var st,dt,bt,vt=this,St=this.state,Bt=St.onlyCountries,Gt=St.selectedCountry,Dt=St.showDropdown,Mt=St.formattedNumber,pt=St.hiddenAreaCodes,mt=this.props,$t=mt.disableDropdown,kt=mt.renderStringAsFlag,Ft=mt.isValid,nr=mt.defaultErrorMessage,Yt=mt.specialLabel;if(typeof Ft=="boolean")dt=Ft;else{var yr=Ft(Mt.replace(/\D/g,""),Gt,Bt,pt);typeof yr=="boolean"?(dt=yr)===!1&&(bt=nr):(dt=!1,bt=yr)}var gr=Qe()((N(st={},this.props.containerClass,!0),N(st,"react-tel-input",!0),st)),br=Qe()({arrow:!0,up:Dt}),cr=Qe()(N({"form-control":!0,"invalid-number":!dt,open:Dt},this.props.inputClass,!0)),pr=Qe()({"selected-flag":!0,open:Dt}),lt=Qe()(N({"flag-dropdown":!0,"invalid-number":!dt,open:Dt},this.props.buttonClass,!0)),ct="flag ".concat(Gt&&Gt.iso2);return Be.a.createElement("div",{className:"".concat(gr," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Yt&&Be.a.createElement("div",{className:"special-label"},Yt),bt&&Be.a.createElement("div",{className:"invalid-number-message"},bt),Be.a.createElement("input",Object.assign({className:cr,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:Mt,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Nt){vt.numberInputRef=Nt,typeof vt.props.inputProps.ref=="function"?vt.props.inputProps.ref(Nt):typeof vt.props.inputProps.ref=="object"&&(vt.props.inputProps.ref.current=Nt)}})),Be.a.createElement("div",{className:lt,style:this.props.buttonStyle,ref:function(Nt){return vt.dropdownContainerRef=Nt}},kt?Be.a.createElement("div",{className:pr},kt):Be.a.createElement("div",{onClick:$t?void 0:this.handleFlagDropdownClick,className:pr,title:Gt?"".concat(Gt.localName||Gt.name,": + ").concat(Gt.dialCode):"",tabIndex:$t?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Dt||void 0},Be.a.createElement("div",{className:ct},!$t&&Be.a.createElement("div",{className:br}))),Dt&&this.getCountryDropdownList()))}}])&&te(je.prototype,Ze),Ve}(Be.a.Component);it.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},$.default=it}]);const PhoneInput=getDefaultExportFromCjs$1(lib),StyledPhoneInput=styled(PhoneInput)(({theme:T})=>({"& .form-control":{width:"100%",height:"56px",fontSize:"1rem",borderRadius:T.shape.borderRadius,padding:"16.5px 14px",paddingLeft:"48px",borderColor:T.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:T.palette.background.paper,color:T.palette.text.primary,display:"flex",justifyContent:"center",alignItems:"center","&:hover":{borderColor:T.palette.text.primary},"&:focus":{borderColor:T.palette.primary.main,borderWidth:2,boxShadow:`${T.palette.primary.main} 0 0 0 1px`}},"& .flag-dropdown":{backgroundColor:"transparent",border:"none",color:T.palette.text.secondary,"& .selected-flag":{backgroundColor:"transparent","&:hover, &:focus":{backgroundColor:"transparent"}}}})),Signup=()=>{const T=useNavigate(),{createHoldings:$,createDID:I}=useUserActions(),[N,L]=reactExports.useState(!1),[B,H]=reactExports.useState({email:"",password:"",confirmPassword:"",fullName:"",country:"",phoneNumber:""}),[z,Q]=reactExports.useState(""),te=Re=>{if(Re.target.name==="idDocument"){const $e=Re.target.files;$e&&H({...B,idDocument:$e[0]})}else H({...B,[Re.target.name]:Re.target.value})},G=(Re,$e)=>{H({...B,phoneNumber:Re,country:$e.name})},ie=async Re=>{if(Re.preventDefault(),Q(""),B.password!==B.confirmPassword){Q("Passwords don't match");return}try{L(!0);const Pe=(await createUserWithEmailAndPassword(auth,B.email,B.password)).user;await setDoc(doc(db,"users",Pe.uid),{fullName:B.fullName,country:B.country,phoneNumber:B.phoneNumber}),await I(Pe.uid),await $(Pe.uid,holdings),T("/auth/checkin")}catch($e){Q($e.message)}finally{L(!1)}};return reactExports.useEffect(()=>{i$4.register()},[]),jsxRuntimeExports.jsxs(FormContainer,{children:[jsxRuntimeExports.jsx(Logo$1,{src:logoImg,alt:"Apore"}),jsxRuntimeExports.jsx(Typography,{variant:"h2",alignSelf:"left",fontFamily:"'Poppins', sans-serif",children:"Create Account"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",fontSize:12,color:"grey",textAlign:"center",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",marginBottom:2,children:["Experience secure and seamless interborder transactions powered by ",jsxRuntimeExports.jsx("b",{children:"TbDEX"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ie,children:[jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Full Name",name:"fullName",required:!0,value:B.fullName,onChange:te})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Email",name:"email",type:"email",required:!0,value:B.email,onChange:te})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:jsxRuntimeExports.jsx(StyledPhoneInput,{country:"za",value:B.phoneNumber,onChange:G,inputProps:{name:"phoneNumber",required:!0,autoFocus:!0},countryCodeEditable:!1,onlyCountries:africanCountries.map(Re=>Re.code.toLowerCase())})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:jsxRuntimeExports.jsx(StyledTextField,{select:!0,fullWidth:!0,label:"Country",name:"country",required:!0,value:B.country,onChange:te,children:africanCountries.map(Re=>jsxRuntimeExports.jsx(MenuItem,{value:Re.name,children:jsxRuntimeExports.jsx("span",{children:Re.name})},Re.code))})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,children:jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Password",name:"password",type:"password",required:!0,value:B.password,onChange:te})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,children:jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:"password",required:!0,value:B.confirmPassword,onChange:te})})]}),z&&jsxRuntimeExports.jsx(Typography,{color:"error",align:"center",style:{marginTop:10},children:z.replace("Firebase:","")}),jsxRuntimeExports.jsx(StyledButton$1,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,style:{marginTop:"20px"},children:N?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("l-dot-pulse",{size:"40",speed:"2.5",color:"#ccc"})}):"Sign Up"})]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",style:{marginTop:20},children:["Already have an account?"," ",jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"span",color:"primary",style:{cursor:"pointer"},onClick:()=>T("/auth/login"),children:"Log in"})]})]})},Login=()=>{const T=useNavigate(),[$,I]=reactExports.useState(""),[N,L]=reactExports.useState(""),[B,H]=reactExports.useState(""),[z,Q]=reactExports.useState(!1),te=async G=>{G.preventDefault(),H("");try{Q(!0),await signInWithEmailAndPassword(auth,$,N),T("/auth/checkin")}catch(ie){H(ie.message)}finally{Q(!1)}};return reactExports.useEffect(()=>{i$4.register()},[]),jsxRuntimeExports.jsxs(FormContainer,{children:[jsxRuntimeExports.jsx(Logo$1,{src:logoImg,alt:"Zim"}),jsxRuntimeExports.jsx(Typography,{variant:"h2",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",children:"Log in"}),jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Email",type:"email",required:!0,value:$,onChange:G=>I(G.target.value)}),jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Password",type:"password",required:!0,value:N,onChange:G=>L(G.target.value)}),B&&jsxRuntimeExports.jsx(Typography,{color:"error",align:"center",style:{marginTop:10},children:B.replace("Firebase:","")}),jsxRuntimeExports.jsx(StyledButton$1,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:te,children:z?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("l-dot-pulse",{size:"40",speed:"2.5",color:"#ccc"})}):"Log in"}),jsxRuntimeExports.jsxs(Typography,{style:{marginTop:20},variant:"body2",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"span",color:"primary",style:{cursor:"pointer"},onClick:()=>T("/auth/signup"),children:"Sign up"})]}),jsxRuntimeExports.jsx(Typography,{style:{marginTop:10},variant:"body2",children:jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"span",color:"primary",style:{cursor:"pointer"},onClick:()=>T("/auth/forgot-password"),children:"Forgot password?"})})]})},ForgottenPassword=()=>{const T=useNavigate(),[$,I]=reactExports.useState(""),[N,L]=reactExports.useState(""),[B,H]=reactExports.useState(!1),[z,Q]=reactExports.useState(!1),te=async G=>{G.preventDefault(),L(""),H(!1);try{Q(!0),await sendPasswordResetEmail(auth,$),H(!0)}catch(ie){L(ie.message)}finally{Q(!1)}};return reactExports.useEffect(()=>{i$4.register()},[]),jsxRuntimeExports.jsxs(FormContainer,{onSubmit:te,children:[jsxRuntimeExports.jsx(Logo$1,{src:logoImg,alt:"Apore"}),jsxRuntimeExports.jsx(Typography,{variant:"h3",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",children:"Reset Password"}),jsxRuntimeExports.jsx(StyledTextField,{fullWidth:!0,label:"Email",type:"email",required:!0,value:$,onChange:G=>I(G.target.value)}),N&&jsxRuntimeExports.jsx(Typography,{color:"error",align:"center",style:{marginTop:10},children:N.replace("Firebase:","")}),B&&jsxRuntimeExports.jsx(Typography,{color:"primary",align:"center",style:{marginTop:10},children:"Password reset email sent. Please check your inbox."}),jsxRuntimeExports.jsx(StyledButton$1,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:z?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("l-dot-pulse",{size:"40",speed:"2.5",color:"#ccc"})}):"Reset password"}),jsxRuntimeExports.jsxs(Typography,{style:{marginTop:20},variant:"body2",children:["Remember your password?"," ",jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"span",color:"primary",style:{cursor:"pointer"},onClick:()=>T("/auth/login"),children:"Log in"})]})]})};var LockOpen={},_interopRequireDefault$1=interopRequireDefault$1;Object.defineProperty(LockOpen,"__esModule",{value:!0});var default_1$1=LockOpen.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntime$1;default_1$1=LockOpen.default=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var ArrowBack={},_interopRequireDefault=interopRequireDefault$1;Object.defineProperty(ArrowBack,"__esModule",{value:!0});var default_1=ArrowBack.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntime$1;default_1=ArrowBack.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const PinInput=styled("input")(({theme:T})=>({width:"40px",height:"50px",fontSize:"24px",textAlign:"center",margin:"0 4px",border:"none",borderBottom:`2px solid ${T.palette.primary.main}`,transition:"all 0.3s ease",backgroundColor:"transparent",color:T.palette.text.primary,"&:focus":{outline:"none",borderColor:T.palette.secondary.main,transform:"translateY(-2px)"}})),StyledPaper=styled(Paper)(({theme:T})=>({padding:T.spacing(4),marginTop:T.spacing(3),width:"100%",maxWidth:450,borderRadius:"20px",backgroundColor:T.palette.background.paper,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur(4px)",border:"1px solid rgba(255, 255, 255, 0.18)"})),Logo=styled("img")({width:"120px",marginBottom:"20px"}),StyledButton=styled("button")(({theme:T})=>({backgroundColor:T.palette.primary.main,color:T.palette.primary.contrastText,padding:"12px 24px",fontSize:"14px",border:"none",borderRadius:"30px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:T.palette.primary.dark,transform:"translateY(-2px)"},"&:disabled":{backgroundColor:T.palette.action.disabledBackground,color:T.palette.action.disabled}})),Checkin=()=>{const{user:T,userDetails:$}=useAuth(),I=useNavigate(),[N,L]=reactExports.useState(["","","",""]),[B,H]=reactExports.useState(["","","",""]),[z,Q]=reactExports.useState(!1),[te,G]=reactExports.useState(!1),[ie,Re]=reactExports.useState(""),[$e,Pe]=reactExports.useState(!1),[Me,Be]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{if(!T){I("/auth/login");return}const Ge=await getDoc(doc(db,"users",T==null?void 0:T.uid));Ge.exists()&&Ge.data().accessPin?(Q(!0),G(!1)):(Q(!1),G(!0)),Be(!1)})()},[T,I]);const Ke=(He,Ge,at=!1)=>{const ot=at?[...B]:[...N];if(ot[He]=Ge,at?H(ot):L(ot),Ge!==""&&He<3){const Ye=document.getElementById(`pin-${at?"confirm-":""}${He+1}`);Ye&&Ye.focus()}},Le=async()=>{const He=N.join("");if(te){const Ge=B.join("");if(He!==Ge){Vt.error("PINs do not match. Please try again."),H(["","","",""]);return}try{await setDoc(doc(db,"users",T.uid),{accessPin:He,enabled2F:!0},{merge:!0}),Vt.success("PIN created successfully and 2FA enabled"),I("/dashboard")}catch{Vt.error("Error creating PIN. Please try again.")}}else He===($==null?void 0:$.accessPin)?I("/dashboard"):(Vt.error("Incorrect PIN. Please try again."),L(["","","",""]))},qe=async()=>{try{await sendPasswordResetEmail(auth,ie),Vt.success("Reset link sent to your email"),Pe(!1)}catch{Vt.error("Error sending reset link. Please try again.")}};return Me?jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:jsxRuntimeExports.jsx(CircularProgress,{})}):jsxRuntimeExports.jsxs(Container,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",justifyContent:"center"},children:[jsxRuntimeExports.jsx(Logo,{src:logoImg,alt:"Apore"}),jsxRuntimeExports.jsxs(StyledPaper,{elevation:0,children:[jsxRuntimeExports.jsx(Typography,{variant:"h5",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",sx:{fontWeight:"bold",color:"primary.main",textAlign:"center"},children:te?"Create Your PIN":`Welcome Back, ${$==null?void 0:$.fullName.split(" ")[0]} 👋`}),!$e&&jsxRuntimeExports.jsxs(Grid,{container:!0,direction:"column",spacing:3,children:[te?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!N[3]&&jsxRuntimeExports.jsxs(Grid,{item:!0,children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",align:"center",gutterBottom:!0,children:"Choose a 4-digit PIN"}),jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",mt:1,children:N.map((He,Ge)=>jsxRuntimeExports.jsx(PinInput,{id:`pin-${Ge}`,type:"password",maxLength:1,value:He,onChange:at=>Ke(Ge,at.target.value)},`create-${Ge}`))})]}),N[3]&&jsxRuntimeExports.jsxs(Grid,{item:!0,children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",align:"center",gutterBottom:!0,children:"Confirm your PIN"}),jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",mt:1,children:B.map((He,Ge)=>jsxRuntimeExports.jsx(PinInput,{id:`pin-confirm-${Ge}`,type:"password",maxLength:1,value:He,onChange:at=>Ke(Ge,at.target.value,!0)},`confirm-${Ge}`))})]})]}):jsxRuntimeExports.jsxs(Grid,{item:!0,children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",align:"center",gutterBottom:!0,children:"Enter your 4-digit PIN"}),jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",mt:1,children:N.map((He,Ge)=>jsxRuntimeExports.jsx(PinInput,{id:`pin-${Ge}`,type:"password",maxLength:1,value:He,onChange:at=>Ke(Ge,at.target.value)},Ge))})]}),jsxRuntimeExports.jsx(Grid,{item:!0,sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs(StyledButton,{onClick:Le,disabled:(te?[...N,...B]:N).some(He=>He===""),children:[jsxRuntimeExports.jsx(default_1$1,{sx:{mr:1}}),te?"Create PIN":"Login"]})}),!te&&jsxRuntimeExports.jsx(Grid,{item:!0,sx:{textAlign:"center"},children:jsxRuntimeExports.jsx(Link,{component:"button",variant:"body2",onClick:()=>Pe(!0),sx:{cursor:"pointer",color:"secondary.main"},children:"Forgot PIN?"})})]}),$e&&jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",sx:{textAlign:"center"},children:"Reset Your PIN"}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,label:"Email",variant:"outlined",value:ie,onChange:He=>Re(He.target.value),sx:{mb:2}}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(IconButton,{onClick:()=>Pe(!1),children:jsxRuntimeExports.jsx(default_1,{})}),jsxRuntimeExports.jsx(StyledButton,{onClick:qe,children:"Send Reset Link"})]})]})]})]})},Setting=reactExports.lazy(()=>__vitePreload(()=>import("./Setting-D_n_h6M_.js"),[])),Landing=reactExports.lazy(()=>__vitePreload(()=>import("./Landing-BDt8PFCE.js"),__vite__mapDeps([0,1]))),Portfolio=reactExports.lazy(()=>__vitePreload(()=>import("./Portfolio-BqD6EpRZ.js"),__vite__mapDeps([2,3,1,4,5,6]))),Blog=reactExports.lazy(()=>__vitePreload(()=>import("./index-BA5Iz1NT.js"),__vite__mapDeps([7,6,5]))),Converter=reactExports.lazy(()=>__vitePreload(()=>import("./Converter-CC3MxzLL.js"),__vite__mapDeps([8,6,5]))),Txhistory=reactExports.lazy(()=>__vitePreload(()=>import("./Txhistory-DshWtACt.js"),__vite__mapDeps([9,5,6,4]))),Verification=reactExports.lazy(()=>__vitePreload(()=>import("./Verification-CITZgMRN.js"),[])),Dashboard=reactExports.lazy(()=>__vitePreload(()=>import("./Dashboard-DAoaHnO8.js"),__vite__mapDeps([10,3,5]))),Receiver=reactExports.lazy(()=>__vitePreload(()=>import("./Receiver-C6WOLzVF.js"),[]));function App(){const{pathname:T}=useLocation(),{toasts:$}=D$1(),{state:I}=useWallet(),[N,L]=reactExports.useState(I.theme),B=reactExports.useMemo(()=>getTheme(N),[N]);reactExports.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[T]),reactExports.useEffect(()=>{navigator.onLine||Vt("You are currently offline!",{style:{backgroundColor:"gray",color:"#fff"},icon:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 16 16",fill:"currentColor",height:"1em",width:"1em",children:[jsxRuntimeExports.jsx("path",{d:"M7.25 2c-.69 0-1.351.13-1.957.371a.75.75 0 10.554 1.394c.43-.17.903-.265 1.403-.265a3.72 3.72 0 013.541 2.496.75.75 0 00.709.504c1.676 0 3 1.324 3 3a3 3 0 01-.681 1.92.75.75 0 001.156.955A4.496 4.496 0 0016 9.5a4.472 4.472 0 00-3.983-4.471A5.222 5.222 0 007.25 2z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M.72 1.72a.75.75 0 011.06 0l2.311 2.31c.03.025.056.052.08.08l8.531 8.532a.785.785 0 01.035.034l2.043 2.044a.75.75 0 11-1.06 1.06l-1.8-1.799a4.64 4.64 0 01-.42.019h-8A3.475 3.475 0 010 10.5c0-1.41.809-2.614 2.001-3.17a5.218 5.218 0 01.646-2.622L.72 2.78a.75.75 0 010-1.06zM3.5 7.25c0-.505.096-.983.271-1.418L10.44 12.5H3.5c-1.124 0-2-.876-2-2 0-.95.624-1.716 1.484-1.936a.75.75 0 00.557-.833A4.1 4.1 0 013.5 7.25z"})]})})})},[T]);const H=1;return reactExports.useEffect(()=>{$.filter(z=>z.visible).filter((z,Q)=>Q>=H).forEach(z=>Vt.dismiss(z.id))},[$]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(ThemeProvider,{theme:B,children:[jsxRuntimeExports.jsx(CssBaseline,{}),jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(MainLoader,{}),children:[!["/auth/login","/auth/forgot-password","/auth/signup","/auth/checkin","/"].includes(T)&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(NavBar,{})}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/auth/signup",element:jsxRuntimeExports.jsx(Signup,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/forgot-password",element:jsxRuntimeExports.jsx(ForgottenPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Landing,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/checkin",element:jsxRuntimeExports.jsx(Checkin,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/portfolio",element:jsxRuntimeExports.jsx(Portfolio,{})}),jsxRuntimeExports.jsx(Route,{path:"/converter",element:jsxRuntimeExports.jsx(Converter,{})}),jsxRuntimeExports.jsx(Route,{path:"/xender",element:jsxRuntimeExports.jsx(Xender,{})}),jsxRuntimeExports.jsx(Route,{path:"/receiver",element:jsxRuntimeExports.jsx(Receiver,{})}),jsxRuntimeExports.jsx(Route,{path:"/txhistory",element:jsxRuntimeExports.jsx(Txhistory,{})}),jsxRuntimeExports.jsx(Route,{path:"/explore",element:jsxRuntimeExports.jsx(Blog,{})}),jsxRuntimeExports.jsx(Route,{path:"/verify",element:jsxRuntimeExports.jsx(Verification,{})}),jsxRuntimeExports.jsx(Route,{path:"/setting",element:jsxRuntimeExports.jsx(Setting,{})})]})]})})})]})})}shim$3();window.Buffer=Buffer$1$1;window.process=process$1$1;createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsxs(HashRouter,{children:[jsxRuntimeExports.jsx(Oe,{position:"top-center"}),jsxRuntimeExports.jsx(App,{})]})}));export{Drawer as $,rootShouldForwardProp as A,Box as B,Container as C,getListItemIconUtilityClass as D,alpha_1 as E,lighten_1 as F,Grid as G,darken_1 as H,IconButton as I,interopRequireDefault$1 as J,requireCreateSvgIcon as K,ListContext as L,jsxRuntime$1 as M,signOut as N,auth as O,Paper as P,useUserActions as Q,React$2 as R,useTheme$1 as S,Typography as T,useWallet as U,ListItem as V,TextField as W,default_1$6 as X,InputAdornment as Y,default_1$7 as Z,_objectWithoutPropertiesLoose as _,generateUtilityClasses as a,List as a0,ListItemText as a1,Vt as a2,formatMuiErrorMessage as a3,clamp as a4,css as a5,keyframes as a6,createSvgIcon$1 as a7,useMediaQuery as a8,SwipeableDrawer as a9,safeBuffer$1 as aA,browser$c as aB,events$1 as aC,getDefaultExportFromNamespaceIfNotNamed as aD,tslib_es6$1 as aE,inherits_browser$1 as aF,requireSideChannel as aG,resolveComponentProps as aH,mergeSlotProps as aI,useForkRef as aJ,appendOwnerState as aK,useEnhancedEffect as aL,debounce$1 as aM,ownerWindow as aN,useRtl as aO,useEventCallback as aP,ownerDocument as aQ,CircularProgress as aa,axios as ab,Chip as ac,Rating as ad,formatSettlementTime as ae,Divider as af,getExchangeAmount as ag,ConfirmationDrawer as ah,Modal as ai,default_1$2 as aj,Fade as ak,useSlotProps as al,Buffer$p as am,readableBrowser$2 as an,requireElliptic as ao,requireBrowser$9 as ap,bn$3 as aq,util$2 as ar,shams$3 as as,callBound$7 as at,esObjectAtoms$1 as au,objectKeys$1 as av,callBind$3 as aw,getIntrinsic$1 as ax,defineProperties$1 as ay,dist$5 as az,_extends$1 as b,clsx as c,capitalize as d,composeClasses as e,reactDomExports as f,generateUtilityClass as g,getDefaultExportFromCjs$1 as h,commonjsGlobal$2 as i,jsxRuntimeExports as j,React$1 as k,useNavigate as l,useAuth as m,logoImg as n,styled$1 as o,process$1$1 as p,default_1$a as q,reactExports as r,styled as s,default_1$8 as t,useDefaultProps as u,default_1$9 as v,Button as w,useControlled as x,useFormControl as y,ButtonBase as z};
//# sourceMappingURL=index-D_jwRsN3.js.map
