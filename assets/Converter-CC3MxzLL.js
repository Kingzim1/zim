import{J as U,K as W,M as $,Q as F,r as l,j as t,G as a,B as m,aa as q,s as p,T as c,ad as L,I as g,ae as M,af as R,a2 as Y,t as k,ag as G,W as C,Y as b,w as E,ah as N,ai as V,Z as z,C as H}from"./index-D_jwRsN3.js";import{C as J}from"./CardContent-CM8yl2Xm.js";import{C as B}from"./Card-Bsx9elHH.js";var v={},K=U;Object.defineProperty(v,"__esModule",{value:!0});var D=v.default=void 0,Q=K(W()),Z=$;D=v.default=(0,Q.default)((0,Z.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");const X=p(B)(({theme:s})=>({cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"},[s.breakpoints.down("sm")]:{width:"100%"}})),f=p(B)(({theme:s})=>({padding:s.spacing(2),transition:"transform 0.2s",boxShadow:"none","&:hover":{transform:"translateY(-4px)"}})),tt=({onOfferingSelect:s})=>{const{getLiquidityProviders:e}=F(),[o,i]=l.useState(null),[u,x]=l.useState(!1);l.useEffect(()=>{(async()=>{x(!0);try{const d=await e();x(!1),i(d)}catch(d){x(!1),Y.error("Error fetching providers:",d.message)}})()},[]);const h=n=>{var d,r;return t.jsxs(a,{container:!0,alignItems:"center",spacing:1,children:[t.jsx(a,{item:!0,children:t.jsx(c,{variant:"body1",children:(d=n.data.payin)==null?void 0:d.currencyCode})}),t.jsx(a,{item:!0,children:t.jsx(k,{})}),t.jsx(a,{item:!0,children:t.jsx(c,{variant:"body1",children:(r=n.data.payout)==null?void 0:r.currencyCode})})]})};return t.jsx(a,{container:!0,spacing:4,children:u?t.jsx(m,{sx:{display:"flex",justifyContent:"center",width:"100%",marginTop:"50px"},children:t.jsx(q,{})}):o&&o.length>0?o.map(n=>{var d;return t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(X,{children:t.jsxs(J,{children:[t.jsx(a,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:2,children:t.jsxs(a,{item:!0,children:[t.jsx(c,{variant:"h5",gutterBottom:!0,children:n.name}),t.jsx(L,{name:"read-only",value:n.rating,readOnly:!0,precision:.1})]})}),t.jsx(a,{container:!0,direction:"column",spacing:2,children:(d=n==null?void 0:n.offerings)==null?void 0:d.map(r=>{var y,j;return t.jsxs(a,{item:!0,children:[t.jsxs(f,{onClick:()=>s(r),style:{cursor:"pointer"},children:[t.jsxs(a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[t.jsx(a,{item:!0,children:h(r)}),t.jsx(a,{item:!0,children:t.jsx(g,{children:t.jsx(D,{})})})]}),t.jsxs(a,{container:!0,alignItems:"center",justifyContent:"space-between",mt:2,children:[t.jsx(a,{item:!0,children:t.jsxs(c,{variant:"body2",color:"textSecondary",children:["Exchange Rate:"," ",r.data.payoutUnitsPerPayinUnit]})}),t.jsx(a,{item:!0,children:t.jsxs(c,{variant:"body2",color:"textSecondary",children:["Settlement Time:"," ",M(((y=r.data.payout.methods[0])==null?void 0:y.estimatedSettlementTime)||0)]})})]})]}),r.metadata.id!==((j=n==null?void 0:n.offerings[n.offerings.length-1])==null?void 0:j.metadata.id)&&t.jsx(a,{container:!0,justifyContent:"center",style:{marginTop:"16px"},children:t.jsx(R,{style:{width:"100%"}})})]},r.metadata.id)})})]})})},n.did)}):t.jsx(m,{sx:{width:"100%",textAlign:"center",marginTop:"50px"},children:t.jsx(c,{variant:"body2",color:"textSecondary",children:"No providers available at this time :("})})})},et=p(V)(()=>({display:"flex",alignItems:"center",justifyContent:"center"})),at=p(m)(({theme:s})=>({backgroundColor:s.palette.background.paper,boxShadow:s.shadows[5],padding:s.spacing(4),borderRadius:s.spacing(2),maxWidth:"90vw",width:"600px",[s.breakpoints.down("sm")]:{padding:s.spacing(2),width:"100%"}})),st=({open:s,offering:e,onClose:o})=>{var j,S,w,I,P,A,T,O;const[i,u]=l.useState(""),[x,h]=l.useState(""),[n,d]=l.useState(!1);l.useEffect(()=>{h(i?G(i,e):"")},[i,(j=e==null?void 0:e.data)==null?void 0:j.payoutUnitsPerPayinUnit,e]);const r=()=>{d(!1),u(""),h("")},y=()=>{o(),d(!0)};return t.jsxs(t.Fragment,{children:[t.jsx(et,{open:s,onClose:o,"aria-labelledby":"exchange-transaction-modal-title","aria-describedby":"exchange-transaction-modal-description",children:t.jsxs(at,{children:[t.jsxs(m,{mb:1,children:[t.jsxs(a,{container:!0,alignItems:"center",spacing:1,children:[t.jsx(a,{item:!0,children:t.jsx(c,{variant:"body1",children:(S=e==null?void 0:e.data.payin)==null?void 0:S.currencyCode})}),t.jsx(a,{item:!0,children:t.jsx(k,{})}),t.jsx(a,{item:!0,children:t.jsx(c,{variant:"body1",children:(I=(w=e==null?void 0:e.data)==null?void 0:w.payout)==null?void 0:I.currencyCode})})]}),t.jsx(c,{variant:"body1",id:"exchange-transaction-modal-description",children:e==null?void 0:e.data.description})]}),t.jsx(R,{}),t.jsxs(a,{container:!0,spacing:4,mt:2,children:[t.jsx(a,{item:!0,xs:12,md:6,children:t.jsx(C,{label:`Amount in ${(P=e==null?void 0:e.data.payin)==null?void 0:P.currencyCode}`,variant:"outlined",fullWidth:!0,value:i,onChange:_=>u(_.target.value),InputProps:{endAdornment:t.jsx(b,{position:"end",children:(A=e==null?void 0:e.data.payin)==null?void 0:A.currencyCode})}})}),t.jsx(a,{item:!0,xs:12,md:6,children:t.jsx(C,{label:`Amount in ${(T=e==null?void 0:e.data.payout)==null?void 0:T.currencyCode}`,variant:"outlined",fullWidth:!0,value:x,disabled:!0,InputProps:{endAdornment:t.jsx(b,{position:"end",children:(O=e==null?void 0:e.data.payout)==null?void 0:O.currencyCode})}})}),t.jsx(a,{item:!0,xs:12,children:t.jsxs(a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[t.jsx(a,{item:!0,children:t.jsxs(c,{variant:"body2",color:"textSecondary",children:["Exchange Rate: ",e==null?void 0:e.data.payoutUnitsPerPayinUnit]})}),t.jsx(a,{item:!0,children:t.jsxs(c,{variant:"body2",color:"textSecondary",children:["Settlement Time:"," ",M(e==null?void 0:e.data.payout.methods[0].estimatedSettlementTime)]})})]})})]}),t.jsxs(m,{mt:4,display:"flex",justifyContent:"flex-end",children:[t.jsx(E,{variant:"outlined",color:"primary",onClick:o,children:"Cancel"}),t.jsx(E,{variant:"contained",color:"primary",onClick:y,sx:{ml:2},disabled:!i,children:"Confirm"})]})]})}),t.jsx(N,{open:n,txType:"CONVERT",amount:i,narration:"Exchange",fromAddress:e==null?void 0:e.data.payin.currencyCode,offering:e,recipientAddress:e==null?void 0:e.data.payout.currencyCode,currencyCode:`${e==null?void 0:e.data.payin.currencyCode}/${e==null?void 0:e.data.payout.currencyCode}`,onClose:r})]})},nt=p(H)(({theme:s})=>({padding:s.spacing(2),backgroundColor:s.palette.background.default,minHeight:"100vh",[s.breakpoints.up("md")]:{padding:s.spacing(4)}})),rt=p(C)(({theme:s})=>({marginBottom:s.spacing(2),"& .MuiOutlinedInput-root":{borderRadius:20,height:"50px"}})),lt=()=>{const[s,e]=l.useState(null),[o,i]=l.useState(!1),[u,x]=l.useState(""),h=r=>{e(r),i(!0)},n=()=>{i(!1)},d=r=>{x(r.target.value)};return t.jsxs(nt,{maxWidth:"md",children:[t.jsx(c,{variant:"h2",gutterBottom:!0,fontFamily:"'Poppins', sans-serif",children:"Exchange"}),t.jsx(rt,{fullWidth:!0,placeholder:"Search offerings...",variant:"outlined",value:u,onChange:d,InputProps:{startAdornment:t.jsx(b,{position:"start",children:t.jsx(z,{})})}}),t.jsx(m,{mb:10,children:t.jsx(tt,{onOfferingSelect:h,searchTerm:u})}),t.jsx(st,{open:o,offering:s,onClose:n})]})};export{lt as default};
//# sourceMappingURL=Converter-CC3MxzLL.js.map
